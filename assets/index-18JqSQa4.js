function eS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function kc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $m={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function Qk(){if(NE)return lt;NE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function b(F,ee,he){this.props=F,this.context=ee,this.refs=O,this.updater=he||A}b.prototype.isReactComponent={},b.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=b.prototype;function U(F,ee,he){this.props=F,this.context=ee,this.refs=O,this.updater=he||A}var z=U.prototype=new B;z.constructor=U,N(z,b.prototype),z.isPureReactComponent=!0;var q=Array.isArray,Z=Object.prototype.hasOwnProperty,K={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(F,ee,he){var ve,Te={},Ae=null,Ge=null;if(ee!=null)for(ve in ee.ref!==void 0&&(Ge=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)Z.call(ee,ve)&&!I.hasOwnProperty(ve)&&(Te[ve]=ee[ve]);var je=arguments.length-2;if(je===1)Te.children=he;else if(1<je){for(var st=Array(je),Et=0;Et<je;Et++)st[Et]=arguments[Et+2];Te.children=st}if(F&&F.defaultProps)for(ve in je=F.defaultProps,je)Te[ve]===void 0&&(Te[ve]=je[ve]);return{$$typeof:n,type:F,key:Ae,ref:Ge,props:Te,_owner:K.current}}function P(F,ee){return{$$typeof:n,type:F.type,key:ee,ref:F.ref,props:F.props,_owner:F._owner}}function x(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function L(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ee[he]})}var V=/\/+/g;function D(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):ee.toString(36)}function we(F,ee,he,ve,Te){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var Ge=!1;if(F===null)Ge=!0;else switch(Ae){case"string":case"number":Ge=!0;break;case"object":switch(F.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=F,Te=Te(Ge),F=ve===""?"."+D(Ge,0):ve,q(Te)?(he="",F!=null&&(he=F.replace(V,"$&/")+"/"),we(Te,ee,he,"",function(Et){return Et})):Te!=null&&(x(Te)&&(Te=P(Te,he+(!Te.key||Ge&&Ge.key===Te.key?"":(""+Te.key).replace(V,"$&/")+"/")+F)),ee.push(Te)),1;if(Ge=0,ve=ve===""?".":ve+":",q(F))for(var je=0;je<F.length;je++){Ae=F[je];var st=ve+D(Ae,je);Ge+=we(Ae,ee,he,st,Te)}else if(st=E(F),typeof st=="function")for(F=st.call(F),je=0;!(Ae=F.next()).done;)Ae=Ae.value,st=ve+D(Ae,je++),Ge+=we(Ae,ee,he,st,Te);else if(Ae==="object")throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Le(F,ee,he){if(F==null)return F;var ve=[],Te=0;return we(F,ve,"","",function(Ae){return ee.call(he,Ae,Te++)}),ve}function He(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:K};function le(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:Le,forEach:function(F,ee,he){Le(F,function(){ee.apply(this,arguments)},he)},count:function(F){var ee=0;return Le(F,function(){ee++}),ee},toArray:function(F){return Le(F,function(ee){return ee})||[]},only:function(F){if(!x(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},lt.Component=b,lt.Fragment=t,lt.Profiler=i,lt.PureComponent=U,lt.StrictMode=r,lt.Suspense=f,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,lt.act=le,lt.cloneElement=function(F,ee,he){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ve=N({},F.props),Te=F.key,Ae=F.ref,Ge=F._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,Ge=K.current),ee.key!==void 0&&(Te=""+ee.key),F.type&&F.type.defaultProps)var je=F.type.defaultProps;for(st in ee)Z.call(ee,st)&&!I.hasOwnProperty(st)&&(ve[st]=ee[st]===void 0&&je!==void 0?je[st]:ee[st])}var st=arguments.length-2;if(st===1)ve.children=he;else if(1<st){je=Array(st);for(var Et=0;Et<st;Et++)je[Et]=arguments[Et+2];ve.children=je}return{$$typeof:n,type:F.type,key:Te,ref:Ae,props:ve,_owner:Ge}},lt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},lt.createElement=R,lt.createFactory=function(F){var ee=R.bind(null,F);return ee.type=F,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(F){return{$$typeof:c,render:F}},lt.isValidElement=x,lt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:He}},lt.memo=function(F,ee){return{$$typeof:p,type:F,compare:ee===void 0?null:ee}},lt.startTransition=function(F){var ee=ne.transition;ne.transition={};try{F()}finally{ne.transition=ee}},lt.unstable_act=le,lt.useCallback=function(F,ee){return Ne.current.useCallback(F,ee)},lt.useContext=function(F){return Ne.current.useContext(F)},lt.useDebugValue=function(){},lt.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},lt.useEffect=function(F,ee){return Ne.current.useEffect(F,ee)},lt.useId=function(){return Ne.current.useId()},lt.useImperativeHandle=function(F,ee,he){return Ne.current.useImperativeHandle(F,ee,he)},lt.useInsertionEffect=function(F,ee){return Ne.current.useInsertionEffect(F,ee)},lt.useLayoutEffect=function(F,ee){return Ne.current.useLayoutEffect(F,ee)},lt.useMemo=function(F,ee){return Ne.current.useMemo(F,ee)},lt.useReducer=function(F,ee,he){return Ne.current.useReducer(F,ee,he)},lt.useRef=function(F){return Ne.current.useRef(F)},lt.useState=function(F){return Ne.current.useState(F)},lt.useSyncExternalStore=function(F,ee,he){return Ne.current.useSyncExternalStore(F,ee,he)},lt.useTransition=function(){return Ne.current.useTransition()},lt.version="18.3.1",lt}var kE;function Py(){return kE||(kE=1,$m.exports=Qk()),$m.exports}var w=Py();const cn=kc(w),Yk=eS({__proto__:null,default:cn},[w]);var hf={},jm={exports:{}},dr={},Fm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function Xk(){return PE||(PE=1,function(n){function e(ne,me){var le=ne.length;ne.push(me);e:for(;0<le;){var F=le-1>>>1,ee=ne[F];if(0<i(ee,me))ne[F]=me,ne[le]=ee,le=F;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],le=ne.pop();if(le!==me){ne[0]=le;e:for(var F=0,ee=ne.length,he=ee>>>1;F<he;){var ve=2*(F+1)-1,Te=ne[ve],Ae=ve+1,Ge=ne[Ae];if(0>i(Te,le))Ae<ee&&0>i(Ge,Te)?(ne[F]=Ge,ne[Ae]=le,F=Ae):(ne[F]=Te,ne[ve]=le,F=ve);else if(Ae<ee&&0>i(Ge,le))ne[F]=Ge,ne[Ae]=le,F=Ae;else break e}}return me}function i(ne,me){var le=ne.sortIndex-me.sortIndex;return le!==0?le:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,E=3,A=!1,N=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ne){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ne)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function q(ne){if(O=!1,z(ne),!N)if(t(f)!==null)N=!0,He(Z);else{var me=t(p);me!==null&&Ne(q,me.startTime-ne)}}function Z(ne,me){N=!1,O&&(O=!1,B(R),R=-1),A=!0;var le=E;try{for(z(me),_=t(f);_!==null&&(!(_.expirationTime>me)||ne&&!L());){var F=_.callback;if(typeof F=="function"){_.callback=null,E=_.priorityLevel;var ee=F(_.expirationTime<=me);me=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(f)&&r(f),z(me)}else r(f);_=t(f)}if(_!==null)var he=!0;else{var ve=t(p);ve!==null&&Ne(q,ve.startTime-me),he=!1}return he}finally{_=null,E=le,A=!1}}var K=!1,I=null,R=-1,P=5,x=-1;function L(){return!(n.unstable_now()-x<P)}function V(){if(I!==null){var ne=n.unstable_now();x=ne;var me=!0;try{me=I(!0,ne)}finally{me?D():(K=!1,I=null)}}else K=!1}var D;if(typeof U=="function")D=function(){U(V)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Le=we.port2;we.port1.onmessage=V,D=function(){Le.postMessage(null)}}else D=function(){b(V,0)};function He(ne){I=ne,K||(K=!0,D())}function Ne(ne,me){R=b(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){N||A||(N=!0,He(Z))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var le=E;E=me;try{return ne()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=E;E=ne;try{return me()}finally{E=le}},n.unstable_scheduleCallback=function(ne,me,le){var F=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,ne={id:g++,callback:me,priorityLevel:ne,startTime:le,expirationTime:ee,sortIndex:-1},le>F?(ne.sortIndex=le,e(p,ne),t(f)===null&&ne===t(p)&&(O?(B(R),R=-1):O=!0,Ne(q,le-F))):(ne.sortIndex=ee,e(f,ne),N||A||(N=!0,He(Z))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var me=E;return function(){var le=E;E=me;try{return ne.apply(this,arguments)}finally{E=le}}}}(Bm)),Bm}var DE;function Jk(){return DE||(DE=1,Fm.exports=Xk()),Fm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function Zk(){if(OE)return dr;OE=1;var n=Py(),e=Jk();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function A(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,o,u,h){if(o===null||typeof o>"u"||A(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function O(s,o,u,h,m,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new O(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new O(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new O(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new O(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new O(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new O(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new O(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new O(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new O(s,5,!1,s.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(B,U);b[o]=new O(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(B,U);b[o]=new O(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(B,U);b[o]=new O(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new O(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new O(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,o,u,h){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,u,m,h)&&(u=null),h||m===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),K=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,F;function ee(s){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+s}var he=!1;function ve(s,o){if(!s||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var h=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){h=J}s.call(o.prototype)}else{try{throw Error()}catch(J){h=J}s()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),v=h.stack.split(`
`),S=m.length-1,M=v.length-1;1<=S&&0<=M&&m[S]!==v[M];)M--;for(;1<=S&&0<=M;S--,M--)if(m[S]!==v[M]){if(S!==1||M!==1)do if(S--,M--,0>M||m[S]!==v[M]){var j=`
`+m[S].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=S&&0<=M);break}}}finally{he=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Te(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case K:return"Portal";case P:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case x:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Le:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case He:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=st(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function St(s){s._valueTracker||(s._valueTracker=Et(s))}function it(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=st(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Kt(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function rt(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=je(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ft(s,o){o=o.checked,o!=null&&z(s,"checked",o,!1)}function pn(s,o){Ft(s,o);var u=je(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Hn(s,o.type,u):o.hasOwnProperty("defaultValue")&&Hn(s,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Dr(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Hn(s,o,u){(o!=="number"||kt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Bt=Array.isArray;function Jt(s,o,u,h){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+je(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function er(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Dn(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Bt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:je(u)}}function Dt(s,o){var u=je(o.value),h=je(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function on(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function $e(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?$e(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ot,mn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ot.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function zn(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(s){ze.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Wn[o]=Wn[s]})});function ot(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Wn.hasOwnProperty(s)&&Wn[s]?(""+o).trim():o+"px"}function gn(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=ot(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,m):s[u]=m}}var tr=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fi(s,o){if(o){if(tr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function xo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hi=null;function Gr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ui=null,On=null,nr=null;function As(s){if(s=bu(s)){if(typeof Ui!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Rd(o),Ui(s.stateNode,s.type,o))}}function vr(s){On?nr?nr.push(s):nr=[s]:On=s}function Lo(){if(On){var s=On,o=nr;if(nr=On=null,As(s),o)for(s=0;s<o.length;s++)As(o[s])}}function pi(s,o){return s(o)}function mi(){}var rr=!1;function Mo(s,o,u){if(rr)return s(o,u);rr=!0;try{return pi(s,o,u)}finally{rr=!1,(On!==null||nr!==null)&&(mi(),Lo())}}function Ht(s,o){var u=s.stateNode;if(u===null)return null;var h=Rd(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var $=!1;if(c)try{var W={};Object.defineProperty(W,"passive",{get:function(){$=!0}}),window.addEventListener("test",W,W),window.removeEventListener("test",W,W)}catch{$=!1}function X(s,o,u,h,m,v,S,M,j){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(ue){this.onError(ue)}}var re=!1,_e=null,ke=!1,Qe=null,Pe={onError:function(s){re=!0,_e=s}};function Re(s,o,u,h,m,v,S,M,j){re=!1,_e=null,X.apply(Pe,arguments)}function Se(s,o,u,h,m,v,S,M,j){if(Re.apply(this,arguments),re){if(re){var J=_e;re=!1,_e=null}else throw Error(t(198));ke||(ke=!0,Qe=J)}}function De(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function et(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Je(s){if(De(s)!==s)throw Error(t(188))}function Gt(s){var o=s.alternate;if(!o){if(o=De(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Je(m),s;if(v===h)return Je(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=v;else{for(var S=!1,M=m.child;M;){if(M===u){S=!0,u=m,h=v;break}if(M===h){S=!0,h=m,u=v;break}M=M.sibling}if(!S){for(M=v.child;M;){if(M===u){S=!0,u=v,h=m;break}if(M===h){S=!0,h=v,u=m;break}M=M.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function Tt(s){return s=Gt(s),s!==null?at(s):null}function at(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=at(s);if(o!==null)return o;s=s.sibling}return null}var Rt=e.unstable_scheduleCallback,Or=e.unstable_cancelCallback,gi=e.unstable_shouldYield,_r=e.unstable_requestPaint,ct=e.unstable_now,Rs=e.unstable_getCurrentPriorityLevel,wr=e.unstable_ImmediatePriority,xn=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,yi=e.unstable_LowPriority,dt=e.unstable_IdlePriority,Ct=null,Zt=null;function vi(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ct,s,void 0,(s.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Na,xr=Math.log,Vo=Math.LN2;function Na(s){return s>>>=0,s===0?32:31-(xr(s)/Vo|0)|0}var ka=64,Pa=4194304;function bs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Uo(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,v=s.pingedLanes,S=u&268435455;if(S!==0){var M=S&~m;M!==0?h=bs(M):(v&=S,v!==0&&(h=bs(v)))}else S=u&~m,S!==0?h=bs(S):v!==0&&(h=bs(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-ft(o),m=1<<u,h|=s[u],o&=~m;return h}function mp(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var S=31-ft(v),M=1<<S,j=m[S];j===-1?((M&u)===0||(M&h)!==0)&&(m[S]=mp(M,o)):j<=o&&(s.expiredLanes|=M),v&=~M}}function Er(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function $o(){var s=ka;return ka<<=1,(ka&4194240)===0&&(ka=64),s}function Ns(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ks(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ft(o),s[o]=u}function Pt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ft(u),v=1<<m;o[m]=0,h[m]=-1,s[m]=-1,u&=~v}}function Ps(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-ft(u),m=1<<h;m&o|s[h]&o&&(s[h]|=o),u&=~m}}var gt=0;function Ds(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var od,Da,ad,ld,ud,hu=!1,_i=[],In=null,Qr=null,Yr=null,Os=new Map,Lr=new Map,wi=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cd(s,o){switch(s){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Os.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(o.pointerId)}}function ir(s,o,u,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=bu(o),o!==null&&Da(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function yp(s,o,u,h,m){switch(o){case"focusin":return In=ir(In,s,o,u,h,m),!0;case"dragenter":return Qr=ir(Qr,s,o,u,h,m),!0;case"mouseover":return Yr=ir(Yr,s,o,u,h,m),!0;case"pointerover":var v=m.pointerId;return Os.set(v,ir(Os.get(v)||null,s,o,u,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Lr.set(v,ir(Lr.get(v)||null,s,o,u,h,m)),!0}return!1}function dd(s){var o=zo(s.target);if(o!==null){var u=De(o);if(u!==null){if(o=u.tag,o===13){if(o=et(u),o!==null){s.blockedOn=o,ud(s.priority,function(){ad(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ji(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Oa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);hi=h,u.target.dispatchEvent(h),hi=null}else return o=bu(u),o!==null&&Da(o),s.blockedOn=u,!1;o.shift()}return!0}function jo(s,o,u){ji(s)&&u.delete(o)}function fd(){hu=!1,In!==null&&ji(In)&&(In=null),Qr!==null&&ji(Qr)&&(Qr=null),Yr!==null&&ji(Yr)&&(Yr=null),Os.forEach(jo),Lr.forEach(jo)}function Xr(s,o){s.blockedOn===o&&(s.blockedOn=null,hu||(hu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fd)))}function Jr(s){function o(m){return Xr(m,s)}if(0<_i.length){Xr(_i[0],s);for(var u=1;u<_i.length;u++){var h=_i[u];h.blockedOn===s&&(h.blockedOn=null)}}for(In!==null&&Xr(In,s),Qr!==null&&Xr(Qr,s),Yr!==null&&Xr(Yr,s),Os.forEach(o),Lr.forEach(o),u=0;u<wi.length;u++)h=wi[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<wi.length&&(u=wi[0],u.blockedOn===null);)dd(u),u.blockedOn===null&&wi.shift()}var Fi=q.ReactCurrentBatchConfig,xs=!0;function Ut(s,o,u,h){var m=gt,v=Fi.transition;Fi.transition=null;try{gt=1,pu(s,o,u,h)}finally{gt=m,Fi.transition=v}}function vp(s,o,u,h){var m=gt,v=Fi.transition;Fi.transition=null;try{gt=4,pu(s,o,u,h)}finally{gt=m,Fi.transition=v}}function pu(s,o,u,h){if(xs){var m=Oa(s,o,u,h);if(m===null)Np(s,o,h,Fo,u),cd(s,h);else if(yp(m,s,o,u,h))h.stopPropagation();else if(cd(s,h),o&4&&-1<gp.indexOf(s)){for(;m!==null;){var v=bu(m);if(v!==null&&od(v),v=Oa(s,o,u,h),v===null&&Np(s,o,h,Fo,u),v===m)break;m=v}m!==null&&h.stopPropagation()}else Np(s,o,h,null,u)}}var Fo=null;function Oa(s,o,u,h){if(Fo=null,s=Gr(h),s=zo(s),s!==null)if(o=De(s),o===null)s=null;else if(u=o.tag,u===13){if(s=et(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Fo=s,null}function mu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rs()){case wr:return 1;case xn:return 4;case Tn:case yi:return 16;case dt:return 536870912;default:return 16}default:return 16}}var Tr=null,xa=null,sr=null;function gu(){if(sr)return sr;var s,o=xa,u=o.length,h,m="value"in Tr?Tr.value:Tr.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var S=u-s;for(h=1;h<=S&&o[u-h]===m[v-h];h++);return sr=m.slice(s,1<h?1-h:void 0)}function La(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function yu(){return!1}function Sn(s){function o(u,h,m,v,S){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ei:yu,this.isPropagationStopped=yu,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),o}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Sn(Zr),Ti=le({},Zr,{view:0,detail:0}),_p=Sn(Ti),Va,Bi,Ls,Bo=le({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ls&&(Ls&&s.type==="mousemove"?(Va=s.screenX-Ls.screenX,Bi=s.screenY-Ls.screenY):Bi=Va=0,Ls=s),Va)},movementY:function(s){return"movementY"in s?s.movementY:Bi}}),Ua=Sn(Bo),vu=le({},Bo,{dataTransfer:0}),hd=Sn(vu),$a=le({},Ti,{relatedTarget:0}),ja=Sn($a),pd=le({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hi=Sn(pd),md=le({},Zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gd=Sn(md),yd=le({},Zr,{data:0}),_u=Sn(yd),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _d(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=vd[s])?!!o[s]:!1}function Ii(){return _d}var d=le({},Ti,{key:function(s){if(s.key){var o=Fa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=La(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?qn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(s){return s.type==="keypress"?La(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?La(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Sn(d),T=le({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Sn(T),G=le({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii}),te=Sn(G),ge=le({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Sn(ge),an=le({},Bo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=Sn(an),yn=[9,13,27,32],en=c&&"CompositionEvent"in window,Mr=null;c&&"documentMode"in document&&(Mr=document.documentMode);var Ir=c&&"TextEvent"in window&&!Mr,Ho=c&&(!en||Mr&&8<Mr&&11>=Mr),Ba=" ",I_=!1;function S_(s,o){switch(s){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ha=!1;function qN(s,o){switch(s){case"compositionend":return C_(o);case"keypress":return o.which!==32?null:(I_=!0,Ba);case"textInput":return s=o.data,s===Ba&&I_?null:s;default:return null}}function KN(s,o){if(Ha)return s==="compositionend"||!en&&S_(s,o)?(s=gu(),sr=xa=Tr=null,Ha=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ho&&o.locale!=="ko"?null:o.data;default:return null}}var GN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!GN[s.type]:o==="textarea"}function R_(s,o,u,h){vr(h),o=Sd(o,"onChange"),0<o.length&&(u=new Ma("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var wu=null,Eu=null;function QN(s){W_(s,0)}function wd(s){var o=Ga(s);if(it(o))return s}function YN(s,o){if(s==="change")return o}var b_=!1;if(c){var wp;if(c){var Ep="oninput"in document;if(!Ep){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),Ep=typeof N_.oninput=="function"}wp=Ep}else wp=!1;b_=wp&&(!document.documentMode||9<document.documentMode)}function k_(){wu&&(wu.detachEvent("onpropertychange",P_),Eu=wu=null)}function P_(s){if(s.propertyName==="value"&&wd(Eu)){var o=[];R_(o,Eu,s,Gr(s)),Mo(QN,o)}}function XN(s,o,u){s==="focusin"?(k_(),wu=o,Eu=u,wu.attachEvent("onpropertychange",P_)):s==="focusout"&&k_()}function JN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wd(Eu)}function ZN(s,o){if(s==="click")return wd(o)}function ek(s,o){if(s==="input"||s==="change")return wd(o)}function tk(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ei=typeof Object.is=="function"?Object.is:tk;function Tu(s,o){if(ei(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!ei(s[m],o[m]))return!1}return!0}function D_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function O_(s,o){var u=D_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=D_(u)}}function x_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?x_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function L_(){for(var s=window,o=kt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=kt(s.document)}return o}function Tp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function nk(s){var o=L_(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&x_(u.ownerDocument.documentElement,u)){if(h!==null&&Tp(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!s.extend&&v>h&&(m=h,h=v,v=m),m=O_(u,v);var S=O_(u,h);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var rk=c&&"documentMode"in document&&11>=document.documentMode,za=null,Ip=null,Iu=null,Sp=!1;function M_(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sp||za==null||za!==kt(h)||(h=za,"selectionStart"in h&&Tp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Iu&&Tu(Iu,h)||(Iu=h,h=Sd(Ip,"onSelect"),0<h.length&&(o=new Ma("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=za)))}function Ed(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Wa={animationend:Ed("Animation","AnimationEnd"),animationiteration:Ed("Animation","AnimationIteration"),animationstart:Ed("Animation","AnimationStart"),transitionend:Ed("Transition","TransitionEnd")},Cp={},V_={};c&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Td(s){if(Cp[s])return Cp[s];if(!Wa[s])return s;var o=Wa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in V_)return Cp[s]=o[u];return s}var U_=Td("animationend"),$_=Td("animationiteration"),j_=Td("animationstart"),F_=Td("transitionend"),B_=new Map,H_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(s,o){B_.set(s,o),a(o,[s])}for(var Ap=0;Ap<H_.length;Ap++){var Rp=H_[Ap],ik=Rp.toLowerCase(),sk=Rp[0].toUpperCase()+Rp.slice(1);Ms(ik,"on"+sk)}Ms(U_,"onAnimationEnd"),Ms($_,"onAnimationIteration"),Ms(j_,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(F_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ok=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function z_(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Se(h,o,void 0,s),s.currentTarget=null}function W_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var S=h.length-1;0<=S;S--){var M=h[S],j=M.instance,J=M.currentTarget;if(M=M.listener,j!==v&&m.isPropagationStopped())break e;z_(m,M,J),v=j}else for(S=0;S<h.length;S++){if(M=h[S],j=M.instance,J=M.currentTarget,M=M.listener,j!==v&&m.isPropagationStopped())break e;z_(m,M,J),v=j}}}if(ke)throw s=Qe,ke=!1,Qe=null,s}function Lt(s,o){var u=o[Lp];u===void 0&&(u=o[Lp]=new Set);var h=s+"__bubble";u.has(h)||(q_(o,s,2,!1),u.add(h))}function bp(s,o,u){var h=0;o&&(h|=4),q_(u,s,h,o)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Cu(s){if(!s[Id]){s[Id]=!0,r.forEach(function(u){u!=="selectionchange"&&(ok.has(u)||bp(u,!1,s),bp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Id]||(o[Id]=!0,bp("selectionchange",!1,o))}}function q_(s,o,u,h){switch(mu(o)){case 1:var m=Ut;break;case 4:m=vp;break;default:m=pu}u=m.bind(null,o,u,s),m=void 0,!$||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Np(s,o,u,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var j=S.tag;if((j===3||j===4)&&(j=S.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;S=S.return}for(;M!==null;){if(S=zo(M),S===null)return;if(j=S.tag,j===5||j===6){h=v=S;continue e}M=M.parentNode}}h=h.return}Mo(function(){var J=v,ue=Gr(u),de=[];e:{var ae=B_.get(s);if(ae!==void 0){var Ce=Ma,Me=s;switch(s){case"keypress":if(La(u)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Me="focus",Ce=ja;break;case"focusout":Me="blur",Ce=ja;break;case"beforeblur":case"afterblur":Ce=ja;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=te;break;case U_:case $_:case j_:Ce=Hi;break;case F_:Ce=bt;break;case"scroll":Ce=_p;break;case"wheel":Ce=vt;break;case"copy":case"cut":case"paste":Ce=gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=k}var Ve=(o&4)!==0,Yt=!Ve&&s==="scroll",Q=Ve?ae!==null?ae+"Capture":null:ae;Ve=[];for(var H=J,Y;H!==null;){Y=H;var fe=Y.stateNode;if(Y.tag===5&&fe!==null&&(Y=fe,Q!==null&&(fe=Ht(H,Q),fe!=null&&Ve.push(Au(H,fe,Y)))),Yt)break;H=H.return}0<Ve.length&&(ae=new Ce(ae,Me,null,u,ue),de.push({event:ae,listeners:Ve}))}}if((o&7)===0){e:{if(ae=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",ae&&u!==hi&&(Me=u.relatedTarget||u.fromElement)&&(zo(Me)||Me[zi]))break e;if((Ce||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ce?(Me=u.relatedTarget||u.toElement,Ce=J,Me=Me?zo(Me):null,Me!==null&&(Yt=De(Me),Me!==Yt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ce=null,Me=J),Ce!==Me)){if(Ve=Ua,fe="onMouseLeave",Q="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=k,fe="onPointerLeave",Q="onPointerEnter",H="pointer"),Yt=Ce==null?ae:Ga(Ce),Y=Me==null?ae:Ga(Me),ae=new Ve(fe,H+"leave",Ce,u,ue),ae.target=Yt,ae.relatedTarget=Y,fe=null,zo(ue)===J&&(Ve=new Ve(Q,H+"enter",Me,u,ue),Ve.target=Y,Ve.relatedTarget=Yt,fe=Ve),Yt=fe,Ce&&Me)t:{for(Ve=Ce,Q=Me,H=0,Y=Ve;Y;Y=qa(Y))H++;for(Y=0,fe=Q;fe;fe=qa(fe))Y++;for(;0<H-Y;)Ve=qa(Ve),H--;for(;0<Y-H;)Q=qa(Q),Y--;for(;H--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=qa(Ve),Q=qa(Q)}Ve=null}else Ve=null;Ce!==null&&K_(de,ae,Ce,Ve,!1),Me!==null&&Yt!==null&&K_(de,Yt,Me,Ve,!0)}}e:{if(ae=J?Ga(J):window,Ce=ae.nodeName&&ae.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ae.type==="file")var Ue=YN;else if(A_(ae))if(b_)Ue=ek;else{Ue=JN;var qe=XN}else(Ce=ae.nodeName)&&Ce.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ue=ZN);if(Ue&&(Ue=Ue(s,J))){R_(de,Ue,u,ue);break e}qe&&qe(s,ae,J),s==="focusout"&&(qe=ae._wrapperState)&&qe.controlled&&ae.type==="number"&&Hn(ae,"number",ae.value)}switch(qe=J?Ga(J):window,s){case"focusin":(A_(qe)||qe.contentEditable==="true")&&(za=qe,Ip=J,Iu=null);break;case"focusout":Iu=Ip=za=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,M_(de,u,ue);break;case"selectionchange":if(rk)break;case"keydown":case"keyup":M_(de,u,ue)}var Ke;if(en)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ha?S_(s,u)&&(Xe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(Ho&&u.locale!=="ko"&&(Ha||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ha&&(Ke=gu()):(Tr=ue,xa="value"in Tr?Tr.value:Tr.textContent,Ha=!0)),qe=Sd(J,Xe),0<qe.length&&(Xe=new _u(Xe,s,null,u,ue),de.push({event:Xe,listeners:qe}),Ke?Xe.data=Ke:(Ke=C_(u),Ke!==null&&(Xe.data=Ke)))),(Ke=Ir?qN(s,u):KN(s,u))&&(J=Sd(J,"onBeforeInput"),0<J.length&&(ue=new _u("onBeforeInput","beforeinput",null,u,ue),de.push({event:ue,listeners:J}),ue.data=Ke))}W_(de,o)})}function Au(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Sd(s,o){for(var u=o+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ht(s,u),v!=null&&h.unshift(Au(s,v,m)),v=Ht(s,o),v!=null&&h.push(Au(s,v,m))),s=s.return}return h}function qa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function K_(s,o,u,h,m){for(var v=o._reactName,S=[];u!==null&&u!==h;){var M=u,j=M.alternate,J=M.stateNode;if(j!==null&&j===h)break;M.tag===5&&J!==null&&(M=J,m?(j=Ht(u,v),j!=null&&S.unshift(Au(u,j,M))):m||(j=Ht(u,v),j!=null&&S.push(Au(u,j,M)))),u=u.return}S.length!==0&&s.push({event:o,listeners:S})}var ak=/\r\n?/g,lk=/\u0000|\uFFFD/g;function G_(s){return(typeof s=="string"?s:""+s).replace(ak,`
`).replace(lk,"")}function Cd(s,o,u){if(o=G_(o),G_(s)!==o&&u)throw Error(t(425))}function Ad(){}var kp=null,Pp=null;function Dp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Op=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,ck=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(s){return Q_.resolve(null).then(s).catch(dk)}:Op;function dk(s){setTimeout(function(){throw s})}function xp(s,o){var u=o,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),Jr(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);Jr(o)}function Vs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Y_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),Si="__reactFiber$"+Ka,Ru="__reactProps$"+Ka,zi="__reactContainer$"+Ka,Lp="__reactEvents$"+Ka,fk="__reactListeners$"+Ka,hk="__reactHandles$"+Ka;function zo(s){var o=s[Si];if(o)return o;for(var u=s.parentNode;u;){if(o=u[zi]||u[Si]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Y_(s);s!==null;){if(u=s[Si])return u;s=Y_(s)}return o}s=u,u=s.parentNode}return null}function bu(s){return s=s[Si]||s[zi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ga(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Rd(s){return s[Ru]||null}var Mp=[],Qa=-1;function Us(s){return{current:s}}function Mt(s){0>Qa||(s.current=Mp[Qa],Mp[Qa]=null,Qa--)}function xt(s,o){Qa++,Mp[Qa]=s.current,s.current=o}var $s={},Ln=Us($s),or=Us(!1),Wo=$s;function Ya(s,o){var u=s.type.contextTypes;if(!u)return $s;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function ar(s){return s=s.childContextTypes,s!=null}function bd(){Mt(or),Mt(Ln)}function X_(s,o,u){if(Ln.current!==$s)throw Error(t(168));xt(Ln,o),xt(or,u)}function J_(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ge(s)||"Unknown",m));return le({},u,h)}function Nd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||$s,Wo=Ln.current,xt(Ln,s),xt(or,or.current),!0}function Z_(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=J_(s,o,Wo),h.__reactInternalMemoizedMergedChildContext=s,Mt(or),Mt(Ln),xt(Ln,s)):Mt(or),xt(or,u)}var Wi=null,kd=!1,Vp=!1;function ew(s){Wi===null?Wi=[s]:Wi.push(s)}function pk(s){kd=!0,ew(s)}function js(){if(!Vp&&Wi!==null){Vp=!0;var s=0,o=gt;try{var u=Wi;for(gt=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}Wi=null,kd=!1}catch(m){throw Wi!==null&&(Wi=Wi.slice(s+1)),Rt(wr,js),m}finally{gt=o,Vp=!1}}return null}var Xa=[],Ja=0,Pd=null,Dd=0,Vr=[],Ur=0,qo=null,qi=1,Ki="";function Ko(s,o){Xa[Ja++]=Dd,Xa[Ja++]=Pd,Pd=s,Dd=o}function tw(s,o,u){Vr[Ur++]=qi,Vr[Ur++]=Ki,Vr[Ur++]=qo,qo=s;var h=qi;s=Ki;var m=32-ft(h)-1;h&=~(1<<m),u+=1;var v=32-ft(o)+m;if(30<v){var S=m-m%5;v=(h&(1<<S)-1).toString(32),h>>=S,m-=S,qi=1<<32-ft(o)+m|u<<m|h,Ki=v+s}else qi=1<<v|u<<m|h,Ki=s}function Up(s){s.return!==null&&(Ko(s,1),tw(s,1,0))}function $p(s){for(;s===Pd;)Pd=Xa[--Ja],Xa[Ja]=null,Dd=Xa[--Ja],Xa[Ja]=null;for(;s===qo;)qo=Vr[--Ur],Vr[Ur]=null,Ki=Vr[--Ur],Vr[Ur]=null,qi=Vr[--Ur],Vr[Ur]=null}var Sr=null,Cr=null,$t=!1,ti=null;function nw(s,o){var u=Br(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function rw(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Sr=s,Cr=Vs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Sr=s,Cr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=qo!==null?{id:qi,overflow:Ki}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Br(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Sr=s,Cr=null,!0):!1;default:return!1}}function jp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Fp(s){if($t){var o=Cr;if(o){var u=o;if(!rw(s,o)){if(jp(s))throw Error(t(418));o=Vs(u.nextSibling);var h=Sr;o&&rw(s,o)?nw(h,u):(s.flags=s.flags&-4097|2,$t=!1,Sr=s)}}else{if(jp(s))throw Error(t(418));s.flags=s.flags&-4097|2,$t=!1,Sr=s}}}function iw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Sr=s}function Od(s){if(s!==Sr)return!1;if(!$t)return iw(s),$t=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Dp(s.type,s.memoizedProps)),o&&(o=Cr)){if(jp(s))throw sw(),Error(t(418));for(;o;)nw(s,o),o=Vs(o.nextSibling)}if(iw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Cr=Vs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Cr=null}}else Cr=Sr?Vs(s.stateNode.nextSibling):null;return!0}function sw(){for(var s=Cr;s;)s=Vs(s.nextSibling)}function Za(){Cr=Sr=null,$t=!1}function Bp(s){ti===null?ti=[s]:ti.push(s)}var mk=q.ReactCurrentBatchConfig;function Nu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var m=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var M=m.refs;S===null?delete M[v]:M[v]=S},o._stringRef=v,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function xd(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function ow(s){var o=s._init;return o(s._payload)}function aw(s){function o(Q,H){if(s){var Y=Q.deletions;Y===null?(Q.deletions=[H],Q.flags|=16):Y.push(H)}}function u(Q,H){if(!s)return null;for(;H!==null;)o(Q,H),H=H.sibling;return null}function h(Q,H){for(Q=new Map;H!==null;)H.key!==null?Q.set(H.key,H):Q.set(H.index,H),H=H.sibling;return Q}function m(Q,H){return Q=Gs(Q,H),Q.index=0,Q.sibling=null,Q}function v(Q,H,Y){return Q.index=Y,s?(Y=Q.alternate,Y!==null?(Y=Y.index,Y<H?(Q.flags|=2,H):Y):(Q.flags|=2,H)):(Q.flags|=1048576,H)}function S(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function M(Q,H,Y,fe){return H===null||H.tag!==6?(H=Om(Y,Q.mode,fe),H.return=Q,H):(H=m(H,Y),H.return=Q,H)}function j(Q,H,Y,fe){var Ue=Y.type;return Ue===I?ue(Q,H,Y.props.children,fe,Y.key):H!==null&&(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===He&&ow(Ue)===H.type)?(fe=m(H,Y.props),fe.ref=Nu(Q,H,Y),fe.return=Q,fe):(fe=sf(Y.type,Y.key,Y.props,null,Q.mode,fe),fe.ref=Nu(Q,H,Y),fe.return=Q,fe)}function J(Q,H,Y,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=xm(Y,Q.mode,fe),H.return=Q,H):(H=m(H,Y.children||[]),H.return=Q,H)}function ue(Q,H,Y,fe,Ue){return H===null||H.tag!==7?(H=ta(Y,Q.mode,fe,Ue),H.return=Q,H):(H=m(H,Y),H.return=Q,H)}function de(Q,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Om(""+H,Q.mode,Y),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Z:return Y=sf(H.type,H.key,H.props,null,Q.mode,Y),Y.ref=Nu(Q,null,H),Y.return=Q,Y;case K:return H=xm(H,Q.mode,Y),H.return=Q,H;case He:var fe=H._init;return de(Q,fe(H._payload),Y)}if(Bt(H)||me(H))return H=ta(H,Q.mode,Y,null),H.return=Q,H;xd(Q,H)}return null}function ae(Q,H,Y,fe){var Ue=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ue!==null?null:M(Q,H,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Z:return Y.key===Ue?j(Q,H,Y,fe):null;case K:return Y.key===Ue?J(Q,H,Y,fe):null;case He:return Ue=Y._init,ae(Q,H,Ue(Y._payload),fe)}if(Bt(Y)||me(Y))return Ue!==null?null:ue(Q,H,Y,fe,null);xd(Q,Y)}return null}function Ce(Q,H,Y,fe,Ue){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Q=Q.get(Y)||null,M(H,Q,""+fe,Ue);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Z:return Q=Q.get(fe.key===null?Y:fe.key)||null,j(H,Q,fe,Ue);case K:return Q=Q.get(fe.key===null?Y:fe.key)||null,J(H,Q,fe,Ue);case He:var qe=fe._init;return Ce(Q,H,Y,qe(fe._payload),Ue)}if(Bt(fe)||me(fe))return Q=Q.get(Y)||null,ue(H,Q,fe,Ue,null);xd(H,fe)}return null}function Me(Q,H,Y,fe){for(var Ue=null,qe=null,Ke=H,Xe=H=0,wn=null;Ke!==null&&Xe<Y.length;Xe++){Ke.index>Xe?(wn=Ke,Ke=null):wn=Ke.sibling;var It=ae(Q,Ke,Y[Xe],fe);if(It===null){Ke===null&&(Ke=wn);break}s&&Ke&&It.alternate===null&&o(Q,Ke),H=v(It,H,Xe),qe===null?Ue=It:qe.sibling=It,qe=It,Ke=wn}if(Xe===Y.length)return u(Q,Ke),$t&&Ko(Q,Xe),Ue;if(Ke===null){for(;Xe<Y.length;Xe++)Ke=de(Q,Y[Xe],fe),Ke!==null&&(H=v(Ke,H,Xe),qe===null?Ue=Ke:qe.sibling=Ke,qe=Ke);return $t&&Ko(Q,Xe),Ue}for(Ke=h(Q,Ke);Xe<Y.length;Xe++)wn=Ce(Ke,Q,Xe,Y[Xe],fe),wn!==null&&(s&&wn.alternate!==null&&Ke.delete(wn.key===null?Xe:wn.key),H=v(wn,H,Xe),qe===null?Ue=wn:qe.sibling=wn,qe=wn);return s&&Ke.forEach(function(Qs){return o(Q,Qs)}),$t&&Ko(Q,Xe),Ue}function Ve(Q,H,Y,fe){var Ue=me(Y);if(typeof Ue!="function")throw Error(t(150));if(Y=Ue.call(Y),Y==null)throw Error(t(151));for(var qe=Ue=null,Ke=H,Xe=H=0,wn=null,It=Y.next();Ke!==null&&!It.done;Xe++,It=Y.next()){Ke.index>Xe?(wn=Ke,Ke=null):wn=Ke.sibling;var Qs=ae(Q,Ke,It.value,fe);if(Qs===null){Ke===null&&(Ke=wn);break}s&&Ke&&Qs.alternate===null&&o(Q,Ke),H=v(Qs,H,Xe),qe===null?Ue=Qs:qe.sibling=Qs,qe=Qs,Ke=wn}if(It.done)return u(Q,Ke),$t&&Ko(Q,Xe),Ue;if(Ke===null){for(;!It.done;Xe++,It=Y.next())It=de(Q,It.value,fe),It!==null&&(H=v(It,H,Xe),qe===null?Ue=It:qe.sibling=It,qe=It);return $t&&Ko(Q,Xe),Ue}for(Ke=h(Q,Ke);!It.done;Xe++,It=Y.next())It=Ce(Ke,Q,Xe,It.value,fe),It!==null&&(s&&It.alternate!==null&&Ke.delete(It.key===null?Xe:It.key),H=v(It,H,Xe),qe===null?Ue=It:qe.sibling=It,qe=It);return s&&Ke.forEach(function(Gk){return o(Q,Gk)}),$t&&Ko(Q,Xe),Ue}function Yt(Q,H,Y,fe){if(typeof Y=="object"&&Y!==null&&Y.type===I&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Z:e:{for(var Ue=Y.key,qe=H;qe!==null;){if(qe.key===Ue){if(Ue=Y.type,Ue===I){if(qe.tag===7){u(Q,qe.sibling),H=m(qe,Y.props.children),H.return=Q,Q=H;break e}}else if(qe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===He&&ow(Ue)===qe.type){u(Q,qe.sibling),H=m(qe,Y.props),H.ref=Nu(Q,qe,Y),H.return=Q,Q=H;break e}u(Q,qe);break}else o(Q,qe);qe=qe.sibling}Y.type===I?(H=ta(Y.props.children,Q.mode,fe,Y.key),H.return=Q,Q=H):(fe=sf(Y.type,Y.key,Y.props,null,Q.mode,fe),fe.ref=Nu(Q,H,Y),fe.return=Q,Q=fe)}return S(Q);case K:e:{for(qe=Y.key;H!==null;){if(H.key===qe)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){u(Q,H.sibling),H=m(H,Y.children||[]),H.return=Q,Q=H;break e}else{u(Q,H);break}else o(Q,H);H=H.sibling}H=xm(Y,Q.mode,fe),H.return=Q,Q=H}return S(Q);case He:return qe=Y._init,Yt(Q,H,qe(Y._payload),fe)}if(Bt(Y))return Me(Q,H,Y,fe);if(me(Y))return Ve(Q,H,Y,fe);xd(Q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,H!==null&&H.tag===6?(u(Q,H.sibling),H=m(H,Y),H.return=Q,Q=H):(u(Q,H),H=Om(Y,Q.mode,fe),H.return=Q,Q=H),S(Q)):u(Q,H)}return Yt}var el=aw(!0),lw=aw(!1),Ld=Us(null),Md=null,tl=null,Hp=null;function zp(){Hp=tl=Md=null}function Wp(s){var o=Ld.current;Mt(Ld),s._currentValue=o}function qp(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function nl(s,o){Md=s,Hp=tl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(lr=!0),s.firstContext=null)}function $r(s){var o=s._currentValue;if(Hp!==s)if(s={context:s,memoizedValue:o,next:null},tl===null){if(Md===null)throw Error(t(308));tl=s,Md.dependencies={lanes:0,firstContext:s}}else tl=tl.next=s;return o}var Go=null;function Kp(s){Go===null?Go=[s]:Go.push(s)}function uw(s,o,u,h){var m=o.interleaved;return m===null?(u.next=u,Kp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Gi(s,h)}function Gi(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Fs=!1;function Gp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Bs(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(wt&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Gi(s,u)}return m=h.interleaved,m===null?(o.next=o,Kp(h)):(o.next=m.next,m.next=o),h.interleaved=o,Gi(s,u)}function Vd(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ps(s,u)}}function dw(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Ud(s,o,u,h){var m=s.updateQueue;Fs=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,J=j.next;j.next=null,S===null?v=J:S.next=J,S=j;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==S&&(M===null?ue.firstBaseUpdate=J:M.next=J,ue.lastBaseUpdate=j))}if(v!==null){var de=m.baseState;S=0,ue=J=j=null,M=v;do{var ae=M.lane,Ce=M.eventTime;if((h&ae)===ae){ue!==null&&(ue=ue.next={eventTime:Ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Me=s,Ve=M;switch(ae=o,Ce=u,Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){de=Me.call(Ce,de,ae);break e}de=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,ae=typeof Me=="function"?Me.call(Ce,de,ae):Me,ae==null)break e;de=le({},de,ae);break e;case 2:Fs=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,ae=m.effects,ae===null?m.effects=[M]:ae.push(M))}else Ce={eventTime:Ce,lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(J=ue=Ce,j=de):ue=ue.next=Ce,S|=ae;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);if(ue===null&&(j=de),m.baseState=j,m.firstBaseUpdate=J,m.lastBaseUpdate=ue,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Xo|=S,s.lanes=S,s.memoizedState=de}}function fw(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var ku={},Ci=Us(ku),Pu=Us(ku),Du=Us(ku);function Qo(s){if(s===ku)throw Error(t(174));return s}function Qp(s,o){switch(xt(Du,o),xt(Pu,s),xt(Ci,ku),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=mt(o,s)}Mt(Ci),xt(Ci,o)}function rl(){Mt(Ci),Mt(Pu),Mt(Du)}function hw(s){Qo(Du.current);var o=Qo(Ci.current),u=mt(o,s.type);o!==u&&(xt(Pu,s),xt(Ci,u))}function Yp(s){Pu.current===s&&(Mt(Ci),Mt(Pu))}var zt=Us(0);function $d(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Xp=[];function Jp(){for(var s=0;s<Xp.length;s++)Xp[s]._workInProgressVersionPrimary=null;Xp.length=0}var jd=q.ReactCurrentDispatcher,Zp=q.ReactCurrentBatchConfig,Yo=0,Wt=null,ln=null,vn=null,Fd=!1,Ou=!1,xu=0,gk=0;function Mn(){throw Error(t(321))}function em(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ei(s[u],o[u]))return!1;return!0}function tm(s,o,u,h,m,v){if(Yo=v,Wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,jd.current=s===null||s.memoizedState===null?wk:Ek,s=u(h,m),Ou){v=0;do{if(Ou=!1,xu=0,25<=v)throw Error(t(301));v+=1,vn=ln=null,o.updateQueue=null,jd.current=Tk,s=u(h,m)}while(Ou)}if(jd.current=zd,o=ln!==null&&ln.next!==null,Yo=0,vn=ln=Wt=null,Fd=!1,o)throw Error(t(300));return s}function nm(){var s=xu!==0;return xu=0,s}function Ai(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Wt.memoizedState=vn=s:vn=vn.next=s,vn}function jr(){if(ln===null){var s=Wt.alternate;s=s!==null?s.memoizedState:null}else s=ln.next;var o=vn===null?Wt.memoizedState:vn.next;if(o!==null)vn=o,ln=s;else{if(s===null)throw Error(t(310));ln=s,s={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},vn===null?Wt.memoizedState=vn=s:vn=vn.next=s}return vn}function Lu(s,o){return typeof o=="function"?o(s):o}function rm(s){var o=jr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=ln,m=h.baseQueue,v=u.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}h.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,h=h.baseState;var M=S=null,j=null,J=v;do{var ue=J.lane;if((Yo&ue)===ue)j!==null&&(j=j.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:s(h,J.action);else{var de={lane:ue,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};j===null?(M=j=de,S=h):j=j.next=de,Wt.lanes|=ue,Xo|=ue}J=J.next}while(J!==null&&J!==v);j===null?S=h:j.next=M,ei(h,o.memoizedState)||(lr=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=j,u.lastRenderedState=h}if(s=u.interleaved,s!==null){m=s;do v=m.lane,Wt.lanes|=v,Xo|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function im(s){var o=jr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do v=s(v,S.action),S=S.next;while(S!==m);ei(v,o.memoizedState)||(lr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function pw(){}function mw(s,o){var u=Wt,h=jr(),m=o(),v=!ei(h.memoizedState,m);if(v&&(h.memoizedState=m,lr=!0),h=h.queue,sm(vw.bind(null,u,h,s),[s]),h.getSnapshot!==o||v||vn!==null&&vn.memoizedState.tag&1){if(u.flags|=2048,Mu(9,yw.bind(null,u,h,m,o),void 0,null),_n===null)throw Error(t(349));(Yo&30)!==0||gw(u,o,m)}return m}function gw(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function yw(s,o,u,h){o.value=u,o.getSnapshot=h,_w(o)&&ww(s)}function vw(s,o,u){return u(function(){_w(o)&&ww(s)})}function _w(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ei(s,u)}catch{return!0}}function ww(s){var o=Gi(s,1);o!==null&&si(o,s,1,-1)}function Ew(s){var o=Ai();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:s},o.queue=s,s=s.dispatch=_k.bind(null,Wt,s),[o.memoizedState,s]}function Mu(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function Tw(){return jr().memoizedState}function Bd(s,o,u,h){var m=Ai();Wt.flags|=s,m.memoizedState=Mu(1|o,u,void 0,h===void 0?null:h)}function Hd(s,o,u,h){var m=jr();h=h===void 0?null:h;var v=void 0;if(ln!==null){var S=ln.memoizedState;if(v=S.destroy,h!==null&&em(h,S.deps)){m.memoizedState=Mu(o,u,v,h);return}}Wt.flags|=s,m.memoizedState=Mu(1|o,u,v,h)}function Iw(s,o){return Bd(8390656,8,s,o)}function sm(s,o){return Hd(2048,8,s,o)}function Sw(s,o){return Hd(4,2,s,o)}function Cw(s,o){return Hd(4,4,s,o)}function Aw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Rw(s,o,u){return u=u!=null?u.concat([s]):null,Hd(4,4,Aw.bind(null,o,s),u)}function om(){}function bw(s,o){var u=jr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&em(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function Nw(s,o){var u=jr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&em(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function kw(s,o,u){return(Yo&21)===0?(s.baseState&&(s.baseState=!1,lr=!0),s.memoizedState=u):(ei(u,o)||(u=$o(),Wt.lanes|=u,Xo|=u,s.baseState=!0),o)}function yk(s,o){var u=gt;gt=u!==0&&4>u?u:4,s(!0);var h=Zp.transition;Zp.transition={};try{s(!1),o()}finally{gt=u,Zp.transition=h}}function Pw(){return jr().memoizedState}function vk(s,o,u){var h=qs(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Dw(s))Ow(o,u);else if(u=uw(s,o,u,h),u!==null){var m=Gn();si(u,s,h,m),xw(u,o,h)}}function _k(s,o,u){var h=qs(s),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Dw(s))Ow(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,M=v(S,u);if(m.hasEagerState=!0,m.eagerState=M,ei(M,S)){var j=o.interleaved;j===null?(m.next=m,Kp(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=uw(s,o,m,h),u!==null&&(m=Gn(),si(u,s,h,m),xw(u,o,h))}}function Dw(s){var o=s.alternate;return s===Wt||o!==null&&o===Wt}function Ow(s,o){Ou=Fd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function xw(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ps(s,u)}}var zd={readContext:$r,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},wk={readContext:$r,useCallback:function(s,o){return Ai().memoizedState=[s,o===void 0?null:o],s},useContext:$r,useEffect:Iw,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Bd(4194308,4,Aw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Bd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Bd(4,2,s,o)},useMemo:function(s,o){var u=Ai();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Ai();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=vk.bind(null,Wt,s),[h.memoizedState,s]},useRef:function(s){var o=Ai();return s={current:s},o.memoizedState=s},useState:Ew,useDebugValue:om,useDeferredValue:function(s){return Ai().memoizedState=s},useTransition:function(){var s=Ew(!1),o=s[0];return s=yk.bind(null,s[1]),Ai().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=Wt,m=Ai();if($t){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),_n===null)throw Error(t(349));(Yo&30)!==0||gw(h,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Iw(vw.bind(null,h,v,s),[s]),h.flags|=2048,Mu(9,yw.bind(null,h,v,u,o),void 0,null),u},useId:function(){var s=Ai(),o=_n.identifierPrefix;if($t){var u=Ki,h=qi;u=(h&~(1<<32-ft(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=xu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=gk++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Ek={readContext:$r,useCallback:bw,useContext:$r,useEffect:sm,useImperativeHandle:Rw,useInsertionEffect:Sw,useLayoutEffect:Cw,useMemo:Nw,useReducer:rm,useRef:Tw,useState:function(){return rm(Lu)},useDebugValue:om,useDeferredValue:function(s){var o=jr();return kw(o,ln.memoizedState,s)},useTransition:function(){var s=rm(Lu)[0],o=jr().memoizedState;return[s,o]},useMutableSource:pw,useSyncExternalStore:mw,useId:Pw,unstable_isNewReconciler:!1},Tk={readContext:$r,useCallback:bw,useContext:$r,useEffect:sm,useImperativeHandle:Rw,useInsertionEffect:Sw,useLayoutEffect:Cw,useMemo:Nw,useReducer:im,useRef:Tw,useState:function(){return im(Lu)},useDebugValue:om,useDeferredValue:function(s){var o=jr();return ln===null?o.memoizedState=s:kw(o,ln.memoizedState,s)},useTransition:function(){var s=im(Lu)[0],o=jr().memoizedState;return[s,o]},useMutableSource:pw,useSyncExternalStore:mw,useId:Pw,unstable_isNewReconciler:!1};function ni(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function am(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Wd={isMounted:function(s){return(s=s._reactInternals)?De(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Gn(),m=qs(s),v=Qi(h,m);v.payload=o,u!=null&&(v.callback=u),o=Bs(s,v,m),o!==null&&(si(o,s,m,h),Vd(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Gn(),m=qs(s),v=Qi(h,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Bs(s,v,m),o!==null&&(si(o,s,m,h),Vd(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Gn(),h=qs(s),m=Qi(u,h);m.tag=2,o!=null&&(m.callback=o),o=Bs(s,m,h),o!==null&&(si(o,s,h,u),Vd(o,s,h))}};function Lw(s,o,u,h,m,v,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,S):o.prototype&&o.prototype.isPureReactComponent?!Tu(u,h)||!Tu(m,v):!0}function Mw(s,o,u){var h=!1,m=$s,v=o.contextType;return typeof v=="object"&&v!==null?v=$r(v):(m=ar(o)?Wo:Ln.current,h=o.contextTypes,v=(h=h!=null)?Ya(s,m):$s),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Wd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function Vw(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Wd.enqueueReplaceState(o,o.state,null)}function lm(s,o,u,h){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Gp(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=$r(v):(v=ar(o)?Wo:Ln.current,m.context=Ya(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(am(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Wd.enqueueReplaceState(m,m.state,null),Ud(s,u,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function il(s,o){try{var u="",h=o;do u+=Te(h),h=h.return;while(h);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function um(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function cm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Ik=typeof WeakMap=="function"?WeakMap:Map;function Uw(s,o,u){u=Qi(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Jd||(Jd=!0,Cm=h),cm(s,o)},u}function $w(s,o,u){u=Qi(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){cm(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){cm(s,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function jw(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new Ik;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),s=Vk.bind(null,s,o,u),o.then(s,s))}function Fw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Bw(s,o,u,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Qi(-1,1),o.tag=2,Bs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var Sk=q.ReactCurrentOwner,lr=!1;function Kn(s,o,u,h){o.child=s===null?lw(o,null,u,h):el(o,s.child,u,h)}function Hw(s,o,u,h,m){u=u.render;var v=o.ref;return nl(o,m),h=tm(s,o,u,h,v,m),u=nm(),s!==null&&!lr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yi(s,o,m)):($t&&u&&Up(o),o.flags|=1,Kn(s,o,h,m),o.child)}function zw(s,o,u,h,m){if(s===null){var v=u.type;return typeof v=="function"&&!Dm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Ww(s,o,v,h,m)):(s=sf(u.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:Tu,u(S,h)&&s.ref===o.ref)return Yi(s,o,m)}return o.flags|=1,s=Gs(v,h),s.ref=o.ref,s.return=o,o.child=s}function Ww(s,o,u,h,m){if(s!==null){var v=s.memoizedProps;if(Tu(v,h)&&s.ref===o.ref)if(lr=!1,o.pendingProps=h=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(lr=!0);else return o.lanes=s.lanes,Yi(s,o,m)}return dm(s,o,u,h,m)}function qw(s,o,u){var h=o.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ol,Ar),Ar|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,xt(ol,Ar),Ar|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,xt(ol,Ar),Ar|=h}else v!==null?(h=v.baseLanes|u,o.memoizedState=null):h=u,xt(ol,Ar),Ar|=h;return Kn(s,o,m,u),o.child}function Kw(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function dm(s,o,u,h,m){var v=ar(u)?Wo:Ln.current;return v=Ya(o,v),nl(o,m),u=tm(s,o,u,h,v,m),h=nm(),s!==null&&!lr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yi(s,o,m)):($t&&h&&Up(o),o.flags|=1,Kn(s,o,u,m),o.child)}function Gw(s,o,u,h,m){if(ar(u)){var v=!0;Nd(o)}else v=!1;if(nl(o,m),o.stateNode===null)Kd(s,o),Mw(o,u,h),lm(o,u,h,m),h=!0;else if(s===null){var S=o.stateNode,M=o.memoizedProps;S.props=M;var j=S.context,J=u.contextType;typeof J=="object"&&J!==null?J=$r(J):(J=ar(u)?Wo:Ln.current,J=Ya(o,J));var ue=u.getDerivedStateFromProps,de=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function";de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==h||j!==J)&&Vw(o,S,h,J),Fs=!1;var ae=o.memoizedState;S.state=ae,Ud(o,h,S,m),j=o.memoizedState,M!==h||ae!==j||or.current||Fs?(typeof ue=="function"&&(am(o,u,ue,h),j=o.memoizedState),(M=Fs||Lw(o,u,M,h,ae,j,J))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=j),S.props=h,S.state=j,S.context=J,h=M):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,cw(s,o),M=o.memoizedProps,J=o.type===o.elementType?M:ni(o.type,M),S.props=J,de=o.pendingProps,ae=S.context,j=u.contextType,typeof j=="object"&&j!==null?j=$r(j):(j=ar(u)?Wo:Ln.current,j=Ya(o,j));var Ce=u.getDerivedStateFromProps;(ue=typeof Ce=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==de||ae!==j)&&Vw(o,S,h,j),Fs=!1,ae=o.memoizedState,S.state=ae,Ud(o,h,S,m);var Me=o.memoizedState;M!==de||ae!==Me||or.current||Fs?(typeof Ce=="function"&&(am(o,u,Ce,h),Me=o.memoizedState),(J=Fs||Lw(o,u,J,h,ae,Me,j)||!1)?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Me,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Me,j)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&ae===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ae===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Me),S.props=h,S.state=Me,S.context=j,h=J):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&ae===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ae===s.memoizedState||(o.flags|=1024),h=!1)}return fm(s,o,u,h,v,m)}function fm(s,o,u,h,m,v){Kw(s,o);var S=(o.flags&128)!==0;if(!h&&!S)return m&&Z_(o,u,!1),Yi(s,o,v);h=o.stateNode,Sk.current=o;var M=S&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&S?(o.child=el(o,s.child,null,v),o.child=el(o,null,M,v)):Kn(s,o,M,v),o.memoizedState=h.state,m&&Z_(o,u,!0),o.child}function Qw(s){var o=s.stateNode;o.pendingContext?X_(s,o.pendingContext,o.pendingContext!==o.context):o.context&&X_(s,o.context,!1),Qp(s,o.containerInfo)}function Yw(s,o,u,h,m){return Za(),Bp(m),o.flags|=256,Kn(s,o,u,h),o.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function pm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Xw(s,o,u){var h=o.pendingProps,m=zt.current,v=!1,S=(o.flags&128)!==0,M;if((M=S)||(M=s!==null&&s.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),xt(zt,m&1),s===null)return Fp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,s=h.fallback,v?(h=o.mode,v=o.child,S={mode:"hidden",children:S},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=of(S,h,0,null),s=ta(s,h,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=pm(u),o.memoizedState=hm,s):mm(o,S));if(m=s.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return Ck(s,o,S,h,M,m,u);if(v){v=h.fallback,S=o.mode,m=s.child,M=m.sibling;var j={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=j,o.deletions=null):(h=Gs(m,j),h.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=Gs(M,v):(v=ta(v,S,u,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,S=s.child.memoizedState,S=S===null?pm(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=s.childLanes&~u,o.memoizedState=hm,h}return v=s.child,s=v.sibling,h=Gs(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function mm(s,o){return o=of({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function qd(s,o,u,h){return h!==null&&Bp(h),el(o,s.child,null,u),s=mm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Ck(s,o,u,h,m,v,S){if(u)return o.flags&256?(o.flags&=-257,h=um(Error(t(422))),qd(s,o,S,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=of({mode:"visible",children:h.children},m,0,null),v=ta(v,m,S,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&el(o,s.child,null,S),o.child.memoizedState=pm(S),o.memoizedState=hm,v);if((o.mode&1)===0)return qd(s,o,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(t(419)),h=um(v,h,void 0),qd(s,o,S,h)}if(M=(S&s.childLanes)!==0,lr||M){if(h=_n,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|S))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Gi(s,m),si(h,s,m,-1))}return Pm(),h=um(Error(t(421))),qd(s,o,S,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=Uk.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,Cr=Vs(m.nextSibling),Sr=o,$t=!0,ti=null,s!==null&&(Vr[Ur++]=qi,Vr[Ur++]=Ki,Vr[Ur++]=qo,qi=s.id,Ki=s.overflow,qo=o),o=mm(o,h.children),o.flags|=4096,o)}function Jw(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),qp(s.return,o,u)}function gm(s,o,u,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=m)}function Zw(s,o,u){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(Kn(s,o,h.children,u),h=zt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Jw(s,u,o);else if(s.tag===19)Jw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(xt(zt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&$d(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),gm(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&$d(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}gm(o,!0,u,null,v);break;case"together":gm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Kd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Yi(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Xo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=Gs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Gs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Ak(s,o,u){switch(o.tag){case 3:Qw(o),Za();break;case 5:hw(o);break;case 1:ar(o.type)&&Nd(o);break;case 4:Qp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;xt(Ld,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(xt(zt,zt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Xw(s,o,u):(xt(zt,zt.current&1),s=Yi(s,o,u),s!==null?s.sibling:null);xt(zt,zt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Zw(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(zt,zt.current),h)break;return null;case 22:case 23:return o.lanes=0,qw(s,o,u)}return Yi(s,o,u)}var eE,ym,tE,nE;eE=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ym=function(){},tE=function(s,o,u,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,Qo(Ci.current);var v=null;switch(u){case"input":m=Kt(s,m),h=Kt(s,h),v=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),v=[];break;case"textarea":m=er(s,m),h=er(s,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Ad)}fi(u,h);var S;u=null;for(J in m)if(!h.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var M=m[J];for(S in M)M.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?v||(v=[]):(v=v||[]).push(J,null));for(J in h){var j=h[J];if(M=m!=null?m[J]:void 0,h.hasOwnProperty(J)&&j!==M&&(j!=null||M!=null))if(J==="style")if(M){for(S in M)!M.hasOwnProperty(S)||j&&j.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in j)j.hasOwnProperty(S)&&M[S]!==j[S]&&(u||(u={}),u[S]=j[S])}else u||(v||(v=[]),v.push(J,u)),u=j;else J==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(v=v||[]).push(J,j)):J==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(J,""+j):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(j!=null&&J==="onScroll"&&Lt("scroll",s),v||M===j||(v=[])):(v=v||[]).push(J,j))}u&&(v=v||[]).push("style",u);var J=v;(o.updateQueue=J)&&(o.flags|=4)}},nE=function(s,o,u,h){u!==h&&(o.flags|=4)};function Vu(s,o){if(!$t)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Vn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function Rk(s,o,u){var h=o.pendingProps;switch($p(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(o),null;case 1:return ar(o.type)&&bd(),Vn(o),null;case 3:return h=o.stateNode,rl(),Mt(or),Mt(Ln),Jp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Od(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ti!==null&&(bm(ti),ti=null))),ym(s,o),Vn(o),null;case 5:Yp(o);var m=Qo(Du.current);if(u=o.type,s!==null&&o.stateNode!=null)tE(s,o,u,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Vn(o),null}if(s=Qo(Ci.current),Od(o)){h=o.stateNode,u=o.type;var v=o.memoizedProps;switch(h[Si]=o,h[Ru]=v,s=(o.mode&1)!==0,u){case"dialog":Lt("cancel",h),Lt("close",h);break;case"iframe":case"object":case"embed":Lt("load",h);break;case"video":case"audio":for(m=0;m<Su.length;m++)Lt(Su[m],h);break;case"source":Lt("error",h);break;case"img":case"image":case"link":Lt("error",h),Lt("load",h);break;case"details":Lt("toggle",h);break;case"input":rt(h,v),Lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Lt("invalid",h);break;case"textarea":Dn(h,v),Lt("invalid",h)}fi(u,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var M=v[S];S==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&Cd(h.textContent,M,s),m=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&Cd(h.textContent,M,s),m=["children",""+M]):i.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&Lt("scroll",h)}switch(u){case"input":St(h),Dr(h,v,!0);break;case"textarea":St(h),on(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Ad)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$e(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=S.createElement(u,{is:h.is}):(s=S.createElement(u),u==="select"&&(S=s,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):s=S.createElementNS(s,u),s[Si]=o,s[Ru]=h,eE(s,o,!1,!1),o.stateNode=s;e:{switch(S=xo(u,h),u){case"dialog":Lt("cancel",s),Lt("close",s),m=h;break;case"iframe":case"object":case"embed":Lt("load",s),m=h;break;case"video":case"audio":for(m=0;m<Su.length;m++)Lt(Su[m],s);m=h;break;case"source":Lt("error",s),m=h;break;case"img":case"image":case"link":Lt("error",s),Lt("load",s),m=h;break;case"details":Lt("toggle",s),m=h;break;case"input":rt(s,h),m=Kt(s,h),Lt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Lt("invalid",s);break;case"textarea":Dn(s,h),m=er(s,h),Lt("invalid",s);break;default:m=h}fi(u,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var j=M[v];v==="style"?gn(s,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&mn(s,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&zn(s,j):typeof j=="number"&&zn(s,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Lt("scroll",s):j!=null&&z(s,v,j,S))}switch(u){case"input":St(s),Dr(s,h,!1);break;case"textarea":St(s),on(s);break;case"option":h.value!=null&&s.setAttribute("value",""+je(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?Jt(s,!!h.multiple,v,!1):h.defaultValue!=null&&Jt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ad)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vn(o),null;case 6:if(s&&o.stateNode!=null)nE(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=Qo(Du.current),Qo(Ci.current),Od(o)){if(h=o.stateNode,u=o.memoizedProps,h[Si]=o,(v=h.nodeValue!==u)&&(s=Sr,s!==null))switch(s.tag){case 3:Cd(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Cd(h.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Si]=o,o.stateNode=h}return Vn(o),null;case 13:if(Mt(zt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($t&&Cr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)sw(),Za(),o.flags|=98560,v=!1;else if(v=Od(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Si]=o}else Za(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vn(o),v=!1}else ti!==null&&(bm(ti),ti=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(zt.current&1)!==0?un===0&&(un=3):Pm())),o.updateQueue!==null&&(o.flags|=4),Vn(o),null);case 4:return rl(),ym(s,o),s===null&&Cu(o.stateNode.containerInfo),Vn(o),null;case 10:return Wp(o.type._context),Vn(o),null;case 17:return ar(o.type)&&bd(),Vn(o),null;case 19:if(Mt(zt),v=o.memoizedState,v===null)return Vn(o),null;if(h=(o.flags&128)!==0,S=v.rendering,S===null)if(h)Vu(v,!1);else{if(un!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=$d(s),S!==null){for(o.flags|=128,Vu(v,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)v=u,s=h,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,s=S.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return xt(zt,zt.current&1|2),o.child}s=s.sibling}v.tail!==null&&ct()>al&&(o.flags|=128,h=!0,Vu(v,!1),o.lanes=4194304)}else{if(!h)if(s=$d(S),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Vu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!$t)return Vn(o),null}else 2*ct()-v.renderingStartTime>al&&u!==1073741824&&(o.flags|=128,h=!0,Vu(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(u=v.last,u!==null?u.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=zt.current,xt(zt,h?u&1|2:u&1),o):(Vn(o),null);case 22:case 23:return km(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Ar&1073741824)!==0&&(Vn(o),o.subtreeFlags&6&&(o.flags|=8192)):Vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function bk(s,o){switch($p(o),o.tag){case 1:return ar(o.type)&&bd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return rl(),Mt(or),Mt(Ln),Jp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Yp(o),null;case 13:if(Mt(zt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Za()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Mt(zt),null;case 4:return rl(),null;case 10:return Wp(o.type._context),null;case 22:case 23:return km(),null;case 24:return null;default:return null}}var Gd=!1,Un=!1,Nk=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function sl(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Qt(s,o,h)}else u.current=null}function vm(s,o,u){try{u()}catch(h){Qt(s,o,h)}}var rE=!1;function kk(s,o){if(kp=xs,s=L_(),Tp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,M=-1,j=-1,J=0,ue=0,de=s,ae=null;t:for(;;){for(var Ce;de!==u||m!==0&&de.nodeType!==3||(M=S+m),de!==v||h!==0&&de.nodeType!==3||(j=S+h),de.nodeType===3&&(S+=de.nodeValue.length),(Ce=de.firstChild)!==null;)ae=de,de=Ce;for(;;){if(de===s)break t;if(ae===u&&++J===m&&(M=S),ae===v&&++ue===h&&(j=S),(Ce=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=Ce}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Pp={focusedElem:s,selectionRange:u},xs=!1,Oe=o;Oe!==null;)if(o=Oe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Oe=s;else for(;Oe!==null;){o=Oe;try{var Me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ve=Me.memoizedProps,Yt=Me.memoizedState,Q=o.stateNode,H=Q.getSnapshotBeforeUpdate(o.elementType===o.type?Ve:ni(o.type,Ve),Yt);Q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){Qt(o,o.return,fe)}if(s=o.sibling,s!==null){s.return=o.return,Oe=s;break}Oe=o.return}return Me=rE,rE=!1,Me}function Uu(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&vm(o,u,v)}m=m.next}while(m!==h)}}function Qd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function _m(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function iE(s){var o=s.alternate;o!==null&&(s.alternate=null,iE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Si],delete o[Ru],delete o[Lp],delete o[fk],delete o[hk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function sE(s){return s.tag===5||s.tag===3||s.tag===4}function oE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wm(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ad));else if(h!==4&&(s=s.child,s!==null))for(wm(s,o,u),s=s.sibling;s!==null;)wm(s,o,u),s=s.sibling}function Em(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Em(s,o,u),s=s.sibling;s!==null;)Em(s,o,u),s=s.sibling}var Cn=null,ri=!1;function Hs(s,o,u){for(u=u.child;u!==null;)aE(s,o,u),u=u.sibling}function aE(s,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 5:Un||sl(u,o);case 6:var h=Cn,m=ri;Cn=null,Hs(s,o,u),Cn=h,ri=m,Cn!==null&&(ri?(s=Cn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Cn.removeChild(u.stateNode));break;case 18:Cn!==null&&(ri?(s=Cn,u=u.stateNode,s.nodeType===8?xp(s.parentNode,u):s.nodeType===1&&xp(s,u),Jr(s)):xp(Cn,u.stateNode));break;case 4:h=Cn,m=ri,Cn=u.stateNode.containerInfo,ri=!0,Hs(s,o,u),Cn=h,ri=m;break;case 0:case 11:case 14:case 15:if(!Un&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&vm(u,o,S),m=m.next}while(m!==h)}Hs(s,o,u);break;case 1:if(!Un&&(sl(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(M){Qt(u,o,M)}Hs(s,o,u);break;case 21:Hs(s,o,u);break;case 22:u.mode&1?(Un=(h=Un)||u.memoizedState!==null,Hs(s,o,u),Un=h):Hs(s,o,u);break;default:Hs(s,o,u)}}function lE(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Nk),o.forEach(function(h){var m=$k.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}}function ii(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var v=s,S=o,M=S;e:for(;M!==null;){switch(M.tag){case 5:Cn=M.stateNode,ri=!1;break e;case 3:Cn=M.stateNode.containerInfo,ri=!0;break e;case 4:Cn=M.stateNode.containerInfo,ri=!0;break e}M=M.return}if(Cn===null)throw Error(t(160));aE(v,S,m),Cn=null,ri=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(J){Qt(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)uE(o,s),o=o.sibling}function uE(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ii(o,s),Ri(s),h&4){try{Uu(3,s,s.return),Qd(3,s)}catch(Ve){Qt(s,s.return,Ve)}try{Uu(5,s,s.return)}catch(Ve){Qt(s,s.return,Ve)}}break;case 1:ii(o,s),Ri(s),h&512&&u!==null&&sl(u,u.return);break;case 5:if(ii(o,s),Ri(s),h&512&&u!==null&&sl(u,u.return),s.flags&32){var m=s.stateNode;try{zn(m,"")}catch(Ve){Qt(s,s.return,Ve)}}if(h&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,S=u!==null?u.memoizedProps:v,M=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&Ft(m,v),xo(M,S);var J=xo(M,v);for(S=0;S<j.length;S+=2){var ue=j[S],de=j[S+1];ue==="style"?gn(m,de):ue==="dangerouslySetInnerHTML"?mn(m,de):ue==="children"?zn(m,de):z(m,ue,de,J)}switch(M){case"input":pn(m,v);break;case"textarea":Dt(m,v);break;case"select":var ae=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?Jt(m,!!v.multiple,Ce,!1):ae!==!!v.multiple&&(v.defaultValue!=null?Jt(m,!!v.multiple,v.defaultValue,!0):Jt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Ru]=v}catch(Ve){Qt(s,s.return,Ve)}}break;case 6:if(ii(o,s),Ri(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(Ve){Qt(s,s.return,Ve)}}break;case 3:if(ii(o,s),Ri(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Jr(o.containerInfo)}catch(Ve){Qt(s,s.return,Ve)}break;case 4:ii(o,s),Ri(s);break;case 13:ii(o,s),Ri(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Sm=ct())),h&4&&lE(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(Un=(J=Un)||ue,ii(o,s),Un=J):ii(o,s),Ri(s),h&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ue&&(s.mode&1)!==0)for(Oe=s,ue=s.child;ue!==null;){for(de=Oe=ue;Oe!==null;){switch(ae=Oe,Ce=ae.child,ae.tag){case 0:case 11:case 14:case 15:Uu(4,ae,ae.return);break;case 1:sl(ae,ae.return);var Me=ae.stateNode;if(typeof Me.componentWillUnmount=="function"){h=ae,u=ae.return;try{o=h,Me.props=o.memoizedProps,Me.state=o.memoizedState,Me.componentWillUnmount()}catch(Ve){Qt(h,u,Ve)}}break;case 5:sl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){fE(de);continue}}Ce!==null?(Ce.return=ae,Oe=Ce):fE(de)}ue=ue.sibling}e:for(ue=null,de=s;;){if(de.tag===5){if(ue===null){ue=de;try{m=de.stateNode,J?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=de.stateNode,j=de.memoizedProps.style,S=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=ot("display",S))}catch(Ve){Qt(s,s.return,Ve)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=J?"":de.memoizedProps}catch(Ve){Qt(s,s.return,Ve)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:ii(o,s),Ri(s),h&4&&lE(s);break;case 21:break;default:ii(o,s),Ri(s)}}function Ri(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(sE(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(zn(m,""),h.flags&=-33);var v=oE(s);Em(s,v,m);break;case 3:case 4:var S=h.stateNode.containerInfo,M=oE(s);wm(s,M,S);break;default:throw Error(t(161))}}catch(j){Qt(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Pk(s,o,u){Oe=s,cE(s)}function cE(s,o,u){for(var h=(s.mode&1)!==0;Oe!==null;){var m=Oe,v=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Gd;if(!S){var M=m.alternate,j=M!==null&&M.memoizedState!==null||Un;M=Gd;var J=Un;if(Gd=S,(Un=j)&&!J)for(Oe=m;Oe!==null;)S=Oe,j=S.child,S.tag===22&&S.memoizedState!==null?hE(m):j!==null?(j.return=S,Oe=j):hE(m);for(;v!==null;)Oe=v,cE(v),v=v.sibling;Oe=m,Gd=M,Un=J}dE(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Oe=v):dE(s)}}function dE(s){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Un||Qd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Un)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ni(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&fw(o,v,h);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}fw(o,S,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var ue=J.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&Jr(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Un||o.flags&512&&_m(o)}catch(ae){Qt(o,o.return,ae)}}if(o===s){Oe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function fE(s){for(;Oe!==null;){var o=Oe;if(o===s){Oe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function hE(s){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Qd(4,o)}catch(j){Qt(o,u,j)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(j){Qt(o,m,j)}}var v=o.return;try{_m(o)}catch(j){Qt(o,v,j)}break;case 5:var S=o.return;try{_m(o)}catch(j){Qt(o,S,j)}}}catch(j){Qt(o,o.return,j)}if(o===s){Oe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Oe=M;break}Oe=o.return}}var Dk=Math.ceil,Yd=q.ReactCurrentDispatcher,Tm=q.ReactCurrentOwner,Fr=q.ReactCurrentBatchConfig,wt=0,_n=null,tn=null,An=0,Ar=0,ol=Us(0),un=0,$u=null,Xo=0,Xd=0,Im=0,ju=null,ur=null,Sm=0,al=1/0,Xi=null,Jd=!1,Cm=null,zs=null,Zd=!1,Ws=null,ef=0,Fu=0,Am=null,tf=-1,nf=0;function Gn(){return(wt&6)!==0?ct():tf!==-1?tf:tf=ct()}function qs(s){return(s.mode&1)===0?1:(wt&2)!==0&&An!==0?An&-An:mk.transition!==null?(nf===0&&(nf=$o()),nf):(s=gt,s!==0||(s=window.event,s=s===void 0?16:mu(s.type)),s)}function si(s,o,u,h){if(50<Fu)throw Fu=0,Am=null,Error(t(185));ks(s,u,h),((wt&2)===0||s!==_n)&&(s===_n&&((wt&2)===0&&(Xd|=u),un===4&&Ks(s,An)),cr(s,h),u===1&&wt===0&&(o.mode&1)===0&&(al=ct()+500,kd&&js()))}function cr(s,o){var u=s.callbackNode;$i(s,o);var h=Uo(s,s===_n?An:0);if(h===0)u!==null&&Or(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&Or(u),o===1)s.tag===0?pk(mE.bind(null,s)):ew(mE.bind(null,s)),ck(function(){(wt&6)===0&&js()}),u=null;else{switch(Ds(h)){case 1:u=wr;break;case 4:u=xn;break;case 16:u=Tn;break;case 536870912:u=dt;break;default:u=Tn}u=IE(u,pE.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function pE(s,o){if(tf=-1,nf=0,(wt&6)!==0)throw Error(t(327));var u=s.callbackNode;if(ll()&&s.callbackNode!==u)return null;var h=Uo(s,s===_n?An:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=rf(s,h);else{o=h;var m=wt;wt|=2;var v=yE();(_n!==s||An!==o)&&(Xi=null,al=ct()+500,Zo(s,o));do try{Lk();break}catch(M){gE(s,M)}while(!0);zp(),Yd.current=v,wt=m,tn!==null?o=0:(_n=null,An=0,o=un)}if(o!==0){if(o===2&&(m=Er(s),m!==0&&(h=m,o=Rm(s,m))),o===1)throw u=$u,Zo(s,0),Ks(s,h),cr(s,ct()),u;if(o===6)Ks(s,h);else{if(m=s.current.alternate,(h&30)===0&&!Ok(m)&&(o=rf(s,h),o===2&&(v=Er(s),v!==0&&(h=v,o=Rm(s,v))),o===1))throw u=$u,Zo(s,0),Ks(s,h),cr(s,ct()),u;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:ea(s,ur,Xi);break;case 3:if(Ks(s,h),(h&130023424)===h&&(o=Sm+500-ct(),10<o)){if(Uo(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Gn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Op(ea.bind(null,s,ur,Xi),o);break}ea(s,ur,Xi);break;case 4:if(Ks(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var S=31-ft(h);v=1<<S,S=o[S],S>m&&(m=S),h&=~v}if(h=m,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Dk(h/1960))-h,10<h){s.timeoutHandle=Op(ea.bind(null,s,ur,Xi),h);break}ea(s,ur,Xi);break;case 5:ea(s,ur,Xi);break;default:throw Error(t(329))}}}return cr(s,ct()),s.callbackNode===u?pE.bind(null,s):null}function Rm(s,o){var u=ju;return s.current.memoizedState.isDehydrated&&(Zo(s,o).flags|=256),s=rf(s,o),s!==2&&(o=ur,ur=u,o!==null&&bm(o)),s}function bm(s){ur===null?ur=s:ur.push.apply(ur,s)}function Ok(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],v=m.getSnapshot;m=m.value;try{if(!ei(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ks(s,o){for(o&=~Im,o&=~Xd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ft(o),h=1<<u;s[u]=-1,o&=~h}}function mE(s){if((wt&6)!==0)throw Error(t(327));ll();var o=Uo(s,0);if((o&1)===0)return cr(s,ct()),null;var u=rf(s,o);if(s.tag!==0&&u===2){var h=Er(s);h!==0&&(o=h,u=Rm(s,h))}if(u===1)throw u=$u,Zo(s,0),Ks(s,o),cr(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ea(s,ur,Xi),cr(s,ct()),null}function Nm(s,o){var u=wt;wt|=1;try{return s(o)}finally{wt=u,wt===0&&(al=ct()+500,kd&&js())}}function Jo(s){Ws!==null&&Ws.tag===0&&(wt&6)===0&&ll();var o=wt;wt|=1;var u=Fr.transition,h=gt;try{if(Fr.transition=null,gt=1,s)return s()}finally{gt=h,Fr.transition=u,wt=o,(wt&6)===0&&js()}}function km(){Ar=ol.current,Mt(ol)}function Zo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,uk(u)),tn!==null)for(u=tn.return;u!==null;){var h=u;switch($p(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&bd();break;case 3:rl(),Mt(or),Mt(Ln),Jp();break;case 5:Yp(h);break;case 4:rl();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Wp(h.type._context);break;case 22:case 23:km()}u=u.return}if(_n=s,tn=s=Gs(s.current,null),An=Ar=o,un=0,$u=null,Im=Xd=Xo=0,ur=ju=null,Go!==null){for(o=0;o<Go.length;o++)if(u=Go[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,v=u.pending;if(v!==null){var S=v.next;v.next=m,h.next=S}u.pending=h}Go=null}return s}function gE(s,o){do{var u=tn;try{if(zp(),jd.current=zd,Fd){for(var h=Wt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Fd=!1}if(Yo=0,vn=ln=Wt=null,Ou=!1,xu=0,Tm.current=null,u===null||u.return===null){un=1,$u=o,tn=null;break}e:{var v=s,S=u.return,M=u,j=o;if(o=An,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=j,ue=M,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var ae=ue.alternate;ae?(ue.updateQueue=ae.updateQueue,ue.memoizedState=ae.memoizedState,ue.lanes=ae.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Ce=Fw(S);if(Ce!==null){Ce.flags&=-257,Bw(Ce,S,M,v,o),Ce.mode&1&&jw(v,J,o),o=Ce,j=J;var Me=o.updateQueue;if(Me===null){var Ve=new Set;Ve.add(j),o.updateQueue=Ve}else Me.add(j);break e}else{if((o&1)===0){jw(v,J,o),Pm();break e}j=Error(t(426))}}else if($t&&M.mode&1){var Yt=Fw(S);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Bw(Yt,S,M,v,o),Bp(il(j,M));break e}}v=j=il(j,M),un!==4&&(un=2),ju===null?ju=[v]:ju.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var Q=Uw(v,j,o);dw(v,Q);break e;case 1:M=j;var H=v.type,Y=v.stateNode;if((v.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(zs===null||!zs.has(Y)))){v.flags|=65536,o&=-o,v.lanes|=o;var fe=$w(v,M,o);dw(v,fe);break e}}v=v.return}while(v!==null)}_E(u)}catch(Ue){o=Ue,tn===u&&u!==null&&(tn=u=u.return);continue}break}while(!0)}function yE(){var s=Yd.current;return Yd.current=zd,s===null?zd:s}function Pm(){(un===0||un===3||un===2)&&(un=4),_n===null||(Xo&268435455)===0&&(Xd&268435455)===0||Ks(_n,An)}function rf(s,o){var u=wt;wt|=2;var h=yE();(_n!==s||An!==o)&&(Xi=null,Zo(s,o));do try{xk();break}catch(m){gE(s,m)}while(!0);if(zp(),wt=u,Yd.current=h,tn!==null)throw Error(t(261));return _n=null,An=0,un}function xk(){for(;tn!==null;)vE(tn)}function Lk(){for(;tn!==null&&!gi();)vE(tn)}function vE(s){var o=TE(s.alternate,s,Ar);s.memoizedProps=s.pendingProps,o===null?_E(s):tn=o,Tm.current=null}function _E(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=Rk(u,o,Ar),u!==null){tn=u;return}}else{if(u=bk(u,o),u!==null){u.flags&=32767,tn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{un=6,tn=null;return}}if(o=o.sibling,o!==null){tn=o;return}tn=o=s}while(o!==null);un===0&&(un=5)}function ea(s,o,u){var h=gt,m=Fr.transition;try{Fr.transition=null,gt=1,Mk(s,o,u,h)}finally{Fr.transition=m,gt=h}return null}function Mk(s,o,u,h){do ll();while(Ws!==null);if((wt&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Pt(s,v),s===_n&&(tn=_n=null,An=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Zd||(Zd=!0,IE(Tn,function(){return ll(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Fr.transition,Fr.transition=null;var S=gt;gt=1;var M=wt;wt|=4,Tm.current=null,kk(s,u),uE(u,s),nk(Pp),xs=!!kp,Pp=kp=null,s.current=u,Pk(u),_r(),wt=M,gt=S,Fr.transition=v}else s.current=u;if(Zd&&(Zd=!1,Ws=s,ef=m),v=s.pendingLanes,v===0&&(zs=null),vi(u.stateNode),cr(s,ct()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(Jd)throw Jd=!1,s=Cm,Cm=null,s;return(ef&1)!==0&&s.tag!==0&&ll(),v=s.pendingLanes,(v&1)!==0?s===Am?Fu++:(Fu=0,Am=s):Fu=0,js(),null}function ll(){if(Ws!==null){var s=Ds(ef),o=Fr.transition,u=gt;try{if(Fr.transition=null,gt=16>s?16:s,Ws===null)var h=!1;else{if(s=Ws,Ws=null,ef=0,(wt&6)!==0)throw Error(t(331));var m=wt;for(wt|=4,Oe=s.current;Oe!==null;){var v=Oe,S=v.child;if((Oe.flags&16)!==0){var M=v.deletions;if(M!==null){for(var j=0;j<M.length;j++){var J=M[j];for(Oe=J;Oe!==null;){var ue=Oe;switch(ue.tag){case 0:case 11:case 15:Uu(8,ue,v)}var de=ue.child;if(de!==null)de.return=ue,Oe=de;else for(;Oe!==null;){ue=Oe;var ae=ue.sibling,Ce=ue.return;if(iE(ue),ue===J){Oe=null;break}if(ae!==null){ae.return=Ce,Oe=ae;break}Oe=Ce}}}var Me=v.alternate;if(Me!==null){var Ve=Me.child;if(Ve!==null){Me.child=null;do{var Yt=Ve.sibling;Ve.sibling=null,Ve=Yt}while(Ve!==null)}}Oe=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,Oe=S;else e:for(;Oe!==null;){if(v=Oe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Uu(9,v,v.return)}var Q=v.sibling;if(Q!==null){Q.return=v.return,Oe=Q;break e}Oe=v.return}}var H=s.current;for(Oe=H;Oe!==null;){S=Oe;var Y=S.child;if((S.subtreeFlags&2064)!==0&&Y!==null)Y.return=S,Oe=Y;else e:for(S=H;Oe!==null;){if(M=Oe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Qd(9,M)}}catch(Ue){Qt(M,M.return,Ue)}if(M===S){Oe=null;break e}var fe=M.sibling;if(fe!==null){fe.return=M.return,Oe=fe;break e}Oe=M.return}}if(wt=m,js(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ct,s)}catch{}h=!0}return h}finally{gt=u,Fr.transition=o}}return!1}function wE(s,o,u){o=il(u,o),o=Uw(s,o,1),s=Bs(s,o,1),o=Gn(),s!==null&&(ks(s,1,o),cr(s,o))}function Qt(s,o,u){if(s.tag===3)wE(s,s,u);else for(;o!==null;){if(o.tag===3){wE(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zs===null||!zs.has(h))){s=il(u,s),s=$w(o,s,1),o=Bs(o,s,1),s=Gn(),o!==null&&(ks(o,1,s),cr(o,s));break}}o=o.return}}function Vk(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=Gn(),s.pingedLanes|=s.suspendedLanes&u,_n===s&&(An&u)===u&&(un===4||un===3&&(An&130023424)===An&&500>ct()-Sm?Zo(s,0):Im|=u),cr(s,o)}function EE(s,o){o===0&&((s.mode&1)===0?o=1:(o=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var u=Gn();s=Gi(s,o),s!==null&&(ks(s,o,u),cr(s,u))}function Uk(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),EE(s,u)}function $k(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),EE(s,u)}var TE;TE=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||or.current)lr=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return lr=!1,Ak(s,o,u);lr=(s.flags&131072)!==0}else lr=!1,$t&&(o.flags&1048576)!==0&&tw(o,Dd,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Kd(s,o),s=o.pendingProps;var m=Ya(o,Ln.current);nl(o,u),m=tm(null,o,h,s,m,u);var v=nm();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ar(h)?(v=!0,Nd(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Gp(o),m.updater=Wd,o.stateNode=m,m._reactInternals=o,lm(o,h,s,u),o=fm(null,o,h,!0,v,u)):(o.tag=0,$t&&v&&Up(o),Kn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Kd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=Fk(h),s=ni(h,s),m){case 0:o=dm(null,o,h,s,u);break e;case 1:o=Gw(null,o,h,s,u);break e;case 11:o=Hw(null,o,h,s,u);break e;case 14:o=zw(null,o,h,ni(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ni(h,m),dm(s,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ni(h,m),Gw(s,o,h,m,u);case 3:e:{if(Qw(o),s===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,m=v.element,cw(s,o),Ud(o,h,null,u);var S=o.memoizedState;if(h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=il(Error(t(423)),o),o=Yw(s,o,h,u,m);break e}else if(h!==m){m=il(Error(t(424)),o),o=Yw(s,o,h,u,m);break e}else for(Cr=Vs(o.stateNode.containerInfo.firstChild),Sr=o,$t=!0,ti=null,u=lw(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Za(),h===m){o=Yi(s,o,u);break e}Kn(s,o,h,u)}o=o.child}return o;case 5:return hw(o),s===null&&Fp(o),h=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,S=m.children,Dp(h,m)?S=null:v!==null&&Dp(h,v)&&(o.flags|=32),Kw(s,o),Kn(s,o,S,u),o.child;case 6:return s===null&&Fp(o),null;case 13:return Xw(s,o,u);case 4:return Qp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=el(o,null,h,u):Kn(s,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ni(h,m),Hw(s,o,h,m,u);case 7:return Kn(s,o,o.pendingProps,u),o.child;case 8:return Kn(s,o,o.pendingProps.children,u),o.child;case 12:return Kn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,S=m.value,xt(Ld,h._currentValue),h._currentValue=S,v!==null)if(ei(v.value,S)){if(v.children===m.children&&!or.current){o=Yi(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){S=v.child;for(var j=M.firstContext;j!==null;){if(j.context===h){if(v.tag===1){j=Qi(-1,u&-u),j.tag=2;var J=v.updateQueue;if(J!==null){J=J.shared;var ue=J.pending;ue===null?j.next=j:(j.next=ue.next,ue.next=j),J.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),qp(v.return,u,o),M.lanes|=u;break}j=j.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=u,M=S.alternate,M!==null&&(M.lanes|=u),qp(S,u,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Kn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,nl(o,u),m=$r(m),h=h(m),o.flags|=1,Kn(s,o,h,u),o.child;case 14:return h=o.type,m=ni(h,o.pendingProps),m=ni(h.type,m),zw(s,o,h,m,u);case 15:return Ww(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ni(h,m),Kd(s,o),o.tag=1,ar(h)?(s=!0,Nd(o)):s=!1,nl(o,u),Mw(o,h,m),lm(o,h,m,u),fm(null,o,h,!0,s,u);case 19:return Zw(s,o,u);case 22:return qw(s,o,u)}throw Error(t(156,o.tag))};function IE(s,o){return Rt(s,o)}function jk(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(s,o,u,h){return new jk(s,o,u,h)}function Dm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Fk(s){if(typeof s=="function")return Dm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Le)return 14}return 2}function Gs(s,o){var u=s.alternate;return u===null?(u=Br(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function sf(s,o,u,h,m,v){var S=2;if(h=s,typeof s=="function")Dm(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case I:return ta(u.children,m,v,o);case R:S=8,m|=8;break;case P:return s=Br(12,u,o,m|2),s.elementType=P,s.lanes=v,s;case D:return s=Br(13,u,o,m),s.elementType=D,s.lanes=v,s;case we:return s=Br(19,u,o,m),s.elementType=we,s.lanes=v,s;case Ne:return of(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:S=10;break e;case L:S=9;break e;case V:S=11;break e;case Le:S=14;break e;case He:S=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Br(S,u,o,m),o.elementType=s,o.type=h,o.lanes=v,o}function ta(s,o,u,h){return s=Br(7,s,h,o),s.lanes=u,s}function of(s,o,u,h){return s=Br(22,s,h,o),s.elementType=Ne,s.lanes=u,s.stateNode={isHidden:!1},s}function Om(s,o,u){return s=Br(6,s,null,o),s.lanes=u,s}function xm(s,o,u){return o=Br(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Bk(s,o,u,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ns(0),this.expirationTimes=Ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Lm(s,o,u,h,m,v,S,M,j){return s=new Bk(s,o,u,M,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Br(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(v),s}function Hk(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function SE(s){if(!s)return $s;s=s._reactInternals;e:{if(De(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ar(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(ar(u))return J_(s,u,o)}return o}function CE(s,o,u,h,m,v,S,M,j){return s=Lm(u,h,!0,s,m,v,S,M,j),s.context=SE(null),u=s.current,h=Gn(),m=qs(u),v=Qi(h,m),v.callback=o??null,Bs(u,v,m),s.current.lanes=m,ks(s,m,h),cr(s,h),s}function af(s,o,u,h){var m=o.current,v=Gn(),S=qs(m);return u=SE(u),o.context===null?o.context=u:o.pendingContext=u,o=Qi(v,S),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Bs(m,o,S),s!==null&&(si(s,m,S,v),Vd(s,m,S)),S}function lf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function AE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Mm(s,o){AE(s,o),(s=s.alternate)&&AE(s,o)}function zk(){return null}var RE=typeof reportError=="function"?reportError:function(s){console.error(s)};function Vm(s){this._internalRoot=s}uf.prototype.render=Vm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));af(s,o,null,null)},uf.prototype.unmount=Vm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Jo(function(){af(null,s,null,null)}),o[zi]=null}};function uf(s){this._internalRoot=s}uf.prototype.unstable_scheduleHydration=function(s){if(s){var o=ld();s={blockedOn:null,target:s,priority:o};for(var u=0;u<wi.length&&o!==0&&o<wi[u].priority;u++);wi.splice(u,0,s),u===0&&dd(s)}};function Um(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function cf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function bE(){}function Wk(s,o,u,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var J=lf(S);v.call(J)}}var S=CE(o,h,s,0,null,!1,!1,"",bE);return s._reactRootContainer=S,s[zi]=S.current,Cu(s.nodeType===8?s.parentNode:s),Jo(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var M=h;h=function(){var J=lf(j);M.call(J)}}var j=Lm(s,0,!1,null,null,!1,!1,"",bE);return s._reactRootContainer=j,s[zi]=j.current,Cu(s.nodeType===8?s.parentNode:s),Jo(function(){af(o,j,u,h)}),j}function df(s,o,u,h,m){var v=u._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var M=m;m=function(){var j=lf(S);M.call(j)}}af(o,S,s,m)}else S=Wk(u,o,s,m,h);return lf(S)}od=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=bs(o.pendingLanes);u!==0&&(Ps(o,u|1),cr(o,ct()),(wt&6)===0&&(al=ct()+500,js()))}break;case 13:Jo(function(){var h=Gi(s,1);if(h!==null){var m=Gn();si(h,s,1,m)}}),Mm(s,1)}},Da=function(s){if(s.tag===13){var o=Gi(s,134217728);if(o!==null){var u=Gn();si(o,s,134217728,u)}Mm(s,134217728)}},ad=function(s){if(s.tag===13){var o=qs(s),u=Gi(s,o);if(u!==null){var h=Gn();si(u,s,o,h)}Mm(s,o)}},ld=function(){return gt},ud=function(s,o){var u=gt;try{return gt=s,o()}finally{gt=u}},Ui=function(s,o,u){switch(o){case"input":if(pn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var m=Rd(h);if(!m)throw Error(t(90));it(h),pn(h,m)}}}break;case"textarea":Dt(s,u);break;case"select":o=u.value,o!=null&&Jt(s,!!u.multiple,o,!1)}},pi=Nm,mi=Jo;var qk={usingClientEntryPoint:!1,Events:[bu,Ga,Rd,vr,Lo,Nm]},Bu={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kk={bundleType:Bu.bundleType,version:Bu.version,rendererPackageName:Bu.rendererPackageName,rendererConfig:Bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tt(s),s===null?null:s.stateNode},findFiberByHostInstance:Bu.findFiberByHostInstance||zk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{Ct=ff.inject(Kk),Zt=ff}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk,dr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(o))throw Error(t(200));return Hk(s,o,null,u)},dr.createRoot=function(s,o){if(!Um(s))throw Error(t(299));var u=!1,h="",m=RE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Lm(s,1,!1,null,null,u,!1,h,m),s[zi]=o.current,Cu(s.nodeType===8?s.parentNode:s),new Vm(o)},dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Tt(o),s=s===null?null:s.stateNode,s},dr.flushSync=function(s){return Jo(s)},dr.hydrate=function(s,o,u){if(!cf(o))throw Error(t(200));return df(null,s,o,!0,u)},dr.hydrateRoot=function(s,o,u){if(!Um(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,v="",S=RE;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=CE(o,null,s,1,u??null,m,!1,v,S),s[zi]=o.current,Cu(s),h)for(s=0;s<h.length;s++)u=h[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new uf(o)},dr.render=function(s,o,u){if(!cf(o))throw Error(t(200));return df(null,s,o,!1,u)},dr.unmountComponentAtNode=function(s){if(!cf(s))throw Error(t(40));return s._reactRootContainer?(Jo(function(){df(null,null,s,!1,function(){s._reactRootContainer=null,s[zi]=null})}),!0):!1},dr.unstable_batchedUpdates=Nm,dr.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!cf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return df(s,o,u,!1,h)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var xE;function tS(){if(xE)return jm.exports;xE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jm.exports=Zk(),jm.exports}var LE;function eP(){if(LE)return hf;LE=1;var n=tS();return hf.createRoot=n.createRoot,hf.hydrateRoot=n.hydrateRoot,hf}var tP=eP(),Yn="top",Nr="bottom",kr="right",Xn="left",bh="auto",Ql=[Yn,Nr,kr,Xn],fa="start",Nl="end",nS="clippingParents",Dy="viewport",ml="popper",rS="reference",Pg=Ql.reduce(function(n,e){return n.concat([e+"-"+fa,e+"-"+Nl])},[]),Oy=[].concat(Ql,[bh]).reduce(function(n,e){return n.concat([e,e+"-"+fa,e+"-"+Nl])},[]),iS="beforeRead",sS="read",oS="afterRead",aS="beforeMain",lS="main",uS="afterMain",cS="beforeWrite",dS="write",fS="afterWrite",hS=[iS,sS,oS,aS,lS,uS,cS,dS,fS];function Mi(n){return n?(n.nodeName||"").toLowerCase():null}function Pr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ha(n){var e=Pr(n).Element;return n instanceof e||n instanceof Element}function zr(n){var e=Pr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function xy(n){if(typeof ShadowRoot>"u")return!1;var e=Pr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function nP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!zr(a)||!Mi(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function rP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=l.reduce(function(f,p){return f[p]="",f},{});!zr(i)||!Mi(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(f){i.removeAttribute(f)}))})}}const Ly={name:"applyStyles",enabled:!0,phase:"write",fn:nP,effect:rP,requires:["computeStyles"]};function ki(n){return n.split("-")[0]}var ca=Math.max,Yf=Math.min,kl=Math.round;function Dg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pS(){return!/^((?!chrome|android).)*safari/i.test(Dg())}function Pl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&zr(n)&&(i=n.offsetWidth>0&&kl(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&kl(r.height)/n.offsetHeight||1);var l=ha(n)?Pr(n):window,c=l.visualViewport,f=!pS()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/i,g=(r.top+(f&&c?c.offsetTop:0))/a,_=r.width/i,E=r.height/a;return{width:_,height:E,top:g,right:p+_,bottom:g+E,left:p,x:p,y:g}}function My(n){var e=Pl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function mS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&xy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ds(n){return Pr(n).getComputedStyle(n)}function iP(n){return["table","td","th"].indexOf(Mi(n))>=0}function bo(n){return((ha(n)?n.ownerDocument:n.document)||window.document).documentElement}function Nh(n){return Mi(n)==="html"?n:n.assignedSlot||n.parentNode||(xy(n)?n.host:null)||bo(n)}function ME(n){return!zr(n)||ds(n).position==="fixed"?null:n.offsetParent}function sP(n){var e=/firefox/i.test(Dg()),t=/Trident/i.test(Dg());if(t&&zr(n)){var r=ds(n);if(r.position==="fixed")return null}var i=Nh(n);for(xy(i)&&(i=i.host);zr(i)&&["html","body"].indexOf(Mi(i))<0;){var a=ds(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Pc(n){for(var e=Pr(n),t=ME(n);t&&iP(t)&&ds(t).position==="static";)t=ME(t);return t&&(Mi(t)==="html"||Mi(t)==="body"&&ds(t).position==="static")?e:t||sP(n)||e}function Vy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function oc(n,e,t){return ca(n,Yf(e,t))}function oP(n,e,t){var r=oc(n,e,t);return r>t?t:r}function gS(){return{top:0,right:0,bottom:0,left:0}}function yS(n){return Object.assign({},gS(),n)}function vS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var aP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,yS(typeof e!="number"?e:vS(e,Ql))};function lP(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,c=ki(t.placement),f=Vy(c),p=[Xn,kr].indexOf(c)>=0,g=p?"height":"width";if(!(!a||!l)){var _=aP(i.padding,t),E=My(a),A=f==="y"?Yn:Xn,N=f==="y"?Nr:kr,O=t.rects.reference[g]+t.rects.reference[f]-l[f]-t.rects.popper[g],b=l[f]-t.rects.reference[f],B=Pc(a),U=B?f==="y"?B.clientHeight||0:B.clientWidth||0:0,z=O/2-b/2,q=_[A],Z=U-E[g]-_[N],K=U/2-E[g]/2+z,I=oc(q,K,Z),R=f;t.modifiersData[r]=(e={},e[R]=I,e.centerOffset=I-K,e)}}function uP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||mS(e.elements.popper,i)&&(e.elements.arrow=i))}const Uy={name:"arrow",enabled:!0,phase:"main",fn:lP,effect:uP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dl(n){return n.split("-")[1]}var cP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:kl(t*i)/i||0,y:kl(r*i)/i||0}}function VE(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,E=l.x,A=E===void 0?0:E,N=l.y,O=N===void 0?0:N,b=typeof g=="function"?g({x:A,y:O}):{x:A,y:O};A=b.x,O=b.y;var B=l.hasOwnProperty("x"),U=l.hasOwnProperty("y"),z=Xn,q=Yn,Z=window;if(p){var K=Pc(t),I="clientHeight",R="clientWidth";if(K===Pr(t)&&(K=bo(t),ds(K).position!=="static"&&c==="absolute"&&(I="scrollHeight",R="scrollWidth")),K=K,i===Yn||(i===Xn||i===kr)&&a===Nl){q=Nr;var P=_&&K===Z&&Z.visualViewport?Z.visualViewport.height:K[I];O-=P-r.height,O*=f?1:-1}if(i===Xn||(i===Yn||i===Nr)&&a===Nl){z=kr;var x=_&&K===Z&&Z.visualViewport?Z.visualViewport.width:K[R];A-=x-r.width,A*=f?1:-1}}var L=Object.assign({position:c},p&&cP),V=g===!0?dP({x:A,y:O},Pr(t)):{x:A,y:O};if(A=V.x,O=V.y,f){var D;return Object.assign({},L,(D={},D[q]=U?"0":"",D[z]=B?"0":"",D.transform=(Z.devicePixelRatio||1)<=1?"translate("+A+"px, "+O+"px)":"translate3d("+A+"px, "+O+"px, 0)",D))}return Object.assign({},L,(e={},e[q]=U?O+"px":"",e[z]=B?A+"px":"",e.transform="",e))}function fP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:ki(e.placement),variation:Dl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,VE(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,VE(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fP,data:{}};var pf={passive:!0};function hP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,f=Pr(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,pf)}),c&&f.addEventListener("resize",t.update,pf),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,pf)}),c&&f.removeEventListener("resize",t.update,pf)}}const Ph={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hP,data:{}};var pP={left:"right",right:"left",bottom:"top",top:"bottom"};function Of(n){return n.replace(/left|right|bottom|top/g,function(e){return pP[e]})}var mP={start:"end",end:"start"};function UE(n){return n.replace(/start|end/g,function(e){return mP[e]})}function $y(n){var e=Pr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function jy(n){return Pl(bo(n)).left+$y(n).scrollLeft}function gP(n,e){var t=Pr(n),r=bo(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;var p=pS();(p||!p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c+jy(n),y:f}}function yP(n){var e,t=bo(n),r=$y(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=ca(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ca(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+jy(n),f=-r.scrollTop;return ds(i||t).direction==="rtl"&&(c+=ca(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:f}}function Fy(n){var e=ds(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function _S(n){return["html","body","#document"].indexOf(Mi(n))>=0?n.ownerDocument.body:zr(n)&&Fy(n)?n:_S(Nh(n))}function ac(n,e){var t;e===void 0&&(e=[]);var r=_S(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Pr(r),l=i?[a].concat(a.visualViewport||[],Fy(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(ac(Nh(l)))}function Og(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function vP(n,e){var t=Pl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function $E(n,e,t){return e===Dy?Og(gP(n,t)):ha(e)?vP(e,t):Og(yP(bo(n)))}function _P(n){var e=ac(Nh(n)),t=["absolute","fixed"].indexOf(ds(n).position)>=0,r=t&&zr(n)?Pc(n):n;return ha(r)?e.filter(function(i){return ha(i)&&mS(i,r)&&Mi(i)!=="body"}):[]}function wP(n,e,t,r){var i=e==="clippingParents"?_P(n):[].concat(e),a=[].concat(i,[t]),l=a[0],c=a.reduce(function(f,p){var g=$E(n,p,r);return f.top=ca(g.top,f.top),f.right=Yf(g.right,f.right),f.bottom=Yf(g.bottom,f.bottom),f.left=ca(g.left,f.left),f},$E(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function wS(n){var e=n.reference,t=n.element,r=n.placement,i=r?ki(r):null,a=r?Dl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case Yn:f={x:l,y:e.y-t.height};break;case Nr:f={x:l,y:e.y+e.height};break;case kr:f={x:e.x+e.width,y:c};break;case Xn:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=i?Vy(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case fa:f[p]=f[p]-(e[g]/2-t[g]/2);break;case Nl:f[p]=f[p]+(e[g]/2-t[g]/2);break}}return f}function Ol(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,c=t.boundary,f=c===void 0?nS:c,p=t.rootBoundary,g=p===void 0?Dy:p,_=t.elementContext,E=_===void 0?ml:_,A=t.altBoundary,N=A===void 0?!1:A,O=t.padding,b=O===void 0?0:O,B=yS(typeof b!="number"?b:vS(b,Ql)),U=E===ml?rS:ml,z=n.rects.popper,q=n.elements[N?U:E],Z=wP(ha(q)?q:q.contextElement||bo(n.elements.popper),f,g,l),K=Pl(n.elements.reference),I=wS({reference:K,element:z,placement:i}),R=Og(Object.assign({},z,I)),P=E===ml?R:K,x={top:Z.top-P.top+B.top,bottom:P.bottom-Z.bottom+B.bottom,left:Z.left-P.left+B.left,right:P.right-Z.right+B.right},L=n.modifiersData.offset;if(E===ml&&L){var V=L[i];Object.keys(x).forEach(function(D){var we=[kr,Nr].indexOf(D)>=0?1:-1,Le=[Yn,Nr].indexOf(D)>=0?"y":"x";x[D]+=V[Le]*we})}return x}function EP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?Oy:f,g=Dl(r),_=g?c?Pg:Pg.filter(function(N){return Dl(N)===g}):Ql,E=_.filter(function(N){return p.indexOf(N)>=0});E.length===0&&(E=_);var A=E.reduce(function(N,O){return N[O]=Ol(n,{placement:O,boundary:i,rootBoundary:a,padding:l})[ki(O)],N},{});return Object.keys(A).sort(function(N,O){return A[N]-A[O]})}function TP(n){if(ki(n)===bh)return[];var e=Of(n);return[UE(n),e,UE(e)]}function IP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,E=t.altBoundary,A=t.flipVariations,N=A===void 0?!0:A,O=t.allowedAutoPlacements,b=e.options.placement,B=ki(b),U=B===b,z=f||(U||!N?[Of(b)]:TP(b)),q=[b].concat(z).reduce(function(ve,Te){return ve.concat(ki(Te)===bh?EP(e,{placement:Te,boundary:g,rootBoundary:_,padding:p,flipVariations:N,allowedAutoPlacements:O}):Te)},[]),Z=e.rects.reference,K=e.rects.popper,I=new Map,R=!0,P=q[0],x=0;x<q.length;x++){var L=q[x],V=ki(L),D=Dl(L)===fa,we=[Yn,Nr].indexOf(V)>=0,Le=we?"width":"height",He=Ol(e,{placement:L,boundary:g,rootBoundary:_,altBoundary:E,padding:p}),Ne=we?D?kr:Xn:D?Nr:Yn;Z[Le]>K[Le]&&(Ne=Of(Ne));var ne=Of(Ne),me=[];if(a&&me.push(He[V]<=0),c&&me.push(He[Ne]<=0,He[ne]<=0),me.every(function(ve){return ve})){P=L,R=!1;break}I.set(L,me)}if(R)for(var le=N?3:1,F=function(Te){var Ae=q.find(function(Ge){var je=I.get(Ge);if(je)return je.slice(0,Te).every(function(st){return st})});if(Ae)return P=Ae,"break"},ee=le;ee>0;ee--){var he=F(ee);if(he==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const By={name:"flip",enabled:!0,phase:"main",fn:IP,requiresIfExists:["offset"],data:{_skip:!1}};function jE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function FE(n){return[Yn,kr,Nr,Xn].some(function(e){return n[e]>=0})}function SP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=Ol(e,{elementContext:"reference"}),c=Ol(e,{altBoundary:!0}),f=jE(l,r),p=jE(c,i,a),g=FE(f),_=FE(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const Hy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SP};function CP(n,e,t){var r=ki(n),i=[Xn,Yn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[Xn,kr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function AP(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=Oy.reduce(function(g,_){return g[_]=CP(_,e.rects,a),g},{}),c=l[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const zy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:AP};function RP(n){var e=n.state,t=n.name;e.modifiersData[t]=wS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Dh={name:"popperOffsets",enabled:!0,phase:"read",fn:RP,data:{}};function bP(n){return n==="x"?"y":"x"}function NP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,E=t.tether,A=E===void 0?!0:E,N=t.tetherOffset,O=N===void 0?0:N,b=Ol(e,{boundary:f,rootBoundary:p,padding:_,altBoundary:g}),B=ki(e.placement),U=Dl(e.placement),z=!U,q=Vy(B),Z=bP(q),K=e.modifiersData.popperOffsets,I=e.rects.reference,R=e.rects.popper,P=typeof O=="function"?O(Object.assign({},e.rects,{placement:e.placement})):O,x=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(K){if(a){var D,we=q==="y"?Yn:Xn,Le=q==="y"?Nr:kr,He=q==="y"?"height":"width",Ne=K[q],ne=Ne+b[we],me=Ne-b[Le],le=A?-R[He]/2:0,F=U===fa?I[He]:R[He],ee=U===fa?-R[He]:-I[He],he=e.elements.arrow,ve=A&&he?My(he):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:gS(),Ae=Te[we],Ge=Te[Le],je=oc(0,I[He],ve[He]),st=z?I[He]/2-le-je-Ae-x.mainAxis:F-je-Ae-x.mainAxis,Et=z?-I[He]/2+le+je+Ge+x.mainAxis:ee+je+Ge+x.mainAxis,St=e.elements.arrow&&Pc(e.elements.arrow),it=St?q==="y"?St.clientTop||0:St.clientLeft||0:0,kt=(D=L==null?void 0:L[q])!=null?D:0,Kt=Ne+st-kt-it,rt=Ne+Et-kt,Ft=oc(A?Yf(ne,Kt):ne,Ne,A?ca(me,rt):me);K[q]=Ft,V[q]=Ft-Ne}if(c){var pn,Dr=q==="x"?Yn:Xn,Hn=q==="x"?Nr:kr,Bt=K[Z],Jt=Z==="y"?"height":"width",er=Bt+b[Dr],Dn=Bt-b[Hn],Dt=[Yn,Xn].indexOf(B)!==-1,on=(pn=L==null?void 0:L[Z])!=null?pn:0,$e=Dt?er:Bt-I[Jt]-R[Jt]-on+x.altAxis,mt=Dt?Bt+I[Jt]+R[Jt]-on-x.altAxis:Dn,Ot=A&&Dt?oP($e,Bt,mt):oc(A?$e:er,Bt,A?mt:Dn);K[Z]=Ot,V[Z]=Ot-Bt}e.modifiersData[r]=V}}const Wy={name:"preventOverflow",enabled:!0,phase:"main",fn:NP,requiresIfExists:["offset"]};function kP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function PP(n){return n===Pr(n)||!zr(n)?$y(n):kP(n)}function DP(n){var e=n.getBoundingClientRect(),t=kl(e.width)/n.offsetWidth||1,r=kl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function OP(n,e,t){t===void 0&&(t=!1);var r=zr(e),i=zr(e)&&DP(e),a=bo(e),l=Pl(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Mi(e)!=="body"||Fy(a))&&(c=PP(e)),zr(e)?(f=Pl(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=jy(a))),{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}function xP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function LP(n){var e=xP(n);return hS.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function MP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function VP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var BE={placement:"bottom",modifiers:[],strategy:"absolute"};function HE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Dc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?BE:i;return function(c,f,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},BE,a),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},_=[],E=!1,A={state:g,setOptions:function(B){var U=typeof B=="function"?B(g.options):B;O(),g.options=Object.assign({},a,g.options,U),g.scrollParents={reference:ha(c)?ac(c):c.contextElement?ac(c.contextElement):[],popper:ac(f)};var z=LP(VP([].concat(r,g.options.modifiers)));return g.orderedModifiers=z.filter(function(q){return q.enabled}),N(),A.update()},forceUpdate:function(){if(!E){var B=g.elements,U=B.reference,z=B.popper;if(HE(U,z)){g.rects={reference:OP(U,Pc(z),g.options.strategy==="fixed"),popper:My(z)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(x){return g.modifiersData[x.name]=Object.assign({},x.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(g.reset===!0){g.reset=!1,q=-1;continue}var Z=g.orderedModifiers[q],K=Z.fn,I=Z.options,R=I===void 0?{}:I,P=Z.name;typeof K=="function"&&(g=K({state:g,options:R,name:P,instance:A})||g)}}}},update:MP(function(){return new Promise(function(b){A.forceUpdate(),b(g)})}),destroy:function(){O(),E=!0}};if(!HE(c,f))return A;A.setOptions(p).then(function(b){!E&&p.onFirstUpdate&&p.onFirstUpdate(b)});function N(){g.orderedModifiers.forEach(function(b){var B=b.name,U=b.options,z=U===void 0?{}:U,q=b.effect;if(typeof q=="function"){var Z=q({state:g,name:B,instance:A,options:z}),K=function(){};_.push(Z||K)}})}function O(){_.forEach(function(b){return b()}),_=[]}return A}}var UP=Dc(),$P=[Ph,Dh,kh,Ly],jP=Dc({defaultModifiers:$P}),FP=[Ph,Dh,kh,Ly,zy,By,Wy,Uy,Hy],qy=Dc({defaultModifiers:FP});const ES=Object.freeze(Object.defineProperty({__proto__:null,afterMain:uS,afterRead:oS,afterWrite:fS,applyStyles:Ly,arrow:Uy,auto:bh,basePlacements:Ql,beforeMain:aS,beforeRead:iS,beforeWrite:cS,bottom:Nr,clippingParents:nS,computeStyles:kh,createPopper:qy,createPopperBase:UP,createPopperLite:jP,detectOverflow:Ol,end:Nl,eventListeners:Ph,flip:By,hide:Hy,left:Xn,main:lS,modifierPhases:hS,offset:zy,placements:Oy,popper:ml,popperGenerator:Dc,popperOffsets:Dh,preventOverflow:Wy,read:sS,reference:rS,right:kr,start:fa,top:Yn,variationPlacements:Pg,viewport:Dy,write:dS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ys=new Map,Hm={set(n,e,t){Ys.has(n)||Ys.set(n,new Map);const r=Ys.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Ys.has(n)&&Ys.get(n).get(e)||null},remove(n,e){if(!Ys.has(n))return;const t=Ys.get(n);t.delete(e),t.size===0&&Ys.delete(n)}},BP=1e6,HP=1e3,xg="transitionend",TS=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),zP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),WP=n=>{do n+=Math.floor(Math.random()*BP);while(document.getElementById(n));return n},qP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*HP)},IS=n=>{n.dispatchEvent(new Event(xg))},is=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),yo=n=>is(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(TS(n)):null,Yl=n=>{if(!is(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},vo=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",SS=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?SS(n.parentNode):null},Xf=()=>{},Oc=n=>{n.offsetHeight},CS=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,zm=[],KP=n=>{document.readyState==="loading"?(zm.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of zm)e()}),zm.push(n)):n()},Wr=()=>document.documentElement.dir==="rtl",Kr=n=>{KP(()=>{const e=CS();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},mr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,AS=(n,e,t=!0)=>{if(!t){mr(n);return}const i=qP(e)+5;let a=!1;const l=({target:c})=>{c===e&&(a=!0,e.removeEventListener(xg,l),mr(n))};e.addEventListener(xg,l),setTimeout(()=>{a||IS(e)},i)},Ky=(n,e,t,r)=>{const i=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[i-1]:n[0]:(a+=t?1:-1,r&&(a=(a+i)%i),n[Math.max(0,Math.min(a,i-1))])},GP=/[^.]*(?=\..*)\.|.*/,QP=/\..*/,YP=/::\d+$/,Wm={};let zE=1;const RS={mouseenter:"mouseover",mouseleave:"mouseout"},XP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function bS(n,e){return e&&`${e}::${zE++}`||n.uidEvent||zE++}function NS(n){const e=bS(n);return n.uidEvent=e,Wm[e]=Wm[e]||{},Wm[e]}function JP(n,e){return function t(r){return Gy(r,{delegateTarget:n}),t.oneOff&&ce.off(n,r.type,e),e.apply(n,[r])}}function ZP(n,e,t){return function r(i){const a=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const c of a)if(c===l)return Gy(i,{delegateTarget:l}),r.oneOff&&ce.off(n,i.type,e,t),t.apply(l,[i])}}function kS(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function PS(n,e,t){const r=typeof e=="string",i=r?t:e||t;let a=DS(n);return XP.has(a)||(a=n),[r,i,a]}function WE(n,e,t,r,i){if(typeof e!="string"||!n)return;let[a,l,c]=PS(e,t,r);e in RS&&(l=(N=>function(O){if(!O.relatedTarget||O.relatedTarget!==O.delegateTarget&&!O.delegateTarget.contains(O.relatedTarget))return N.call(this,O)})(l));const f=NS(n),p=f[c]||(f[c]={}),g=kS(p,l,a?t:null);if(g){g.oneOff=g.oneOff&&i;return}const _=bS(l,e.replace(GP,"")),E=a?ZP(n,t,l):JP(n,l);E.delegationSelector=a?t:null,E.callable=l,E.oneOff=i,E.uidEvent=_,p[_]=E,n.addEventListener(c,E,a)}function Lg(n,e,t,r,i){const a=kS(e[t],r,i);a&&(n.removeEventListener(t,a,!!i),delete e[t][a.uidEvent])}function eD(n,e,t,r){const i=e[t]||{};for(const[a,l]of Object.entries(i))a.includes(r)&&Lg(n,e,t,l.callable,l.delegationSelector)}function DS(n){return n=n.replace(QP,""),RS[n]||n}const ce={on(n,e,t,r){WE(n,e,t,r,!1)},one(n,e,t,r){WE(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,a,l]=PS(e,t,r),c=l!==e,f=NS(n),p=f[l]||{},g=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;Lg(n,f,l,a,i?t:null);return}if(g)for(const _ of Object.keys(f))eD(n,f,_,e.slice(1));for(const[_,E]of Object.entries(p)){const A=_.replace(YP,"");(!c||e.includes(A))&&Lg(n,f,l,E.callable,E.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=CS(),i=DS(e),a=e!==i;let l=null,c=!0,f=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),c=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const g=Gy(new Event(e,{bubbles:c,cancelable:!0}),t);return p&&g.preventDefault(),f&&n.dispatchEvent(g),g.defaultPrevented&&l&&l.preventDefault(),g}};function Gy(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function qE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function qm(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ss={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${qm(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${qm(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=qE(n.dataset[r])}return e},getDataAttribute(n,e){return qE(n.getAttribute(`data-bs-${qm(e)}`))}};class xc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=is(t)?ss.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...is(t)?ss.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const a=e[r],l=is(a)?"element":zP(a);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}}const tD="5.3.3";class di extends xc{constructor(e,t){super(),e=yo(e),e&&(this._element=e,this._config=this._getConfig(t),Hm.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Hm.remove(this._element,this.constructor.DATA_KEY),ce.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){AS(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Hm.get(yo(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return tD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Km=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>TS(t)).join(","):null},We={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!vo(t)&&Yl(t))},getSelectorFromElement(n){const e=Km(n);return e&&We.findOne(e)?e:null},getElementFromSelector(n){const e=Km(n);return e?We.findOne(e):null},getMultipleElementsFromSelector(n){const e=Km(n);return e?We.find(e):[]}},Oh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ce.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),vo(this))return;const a=We.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},nD="alert",rD="bs.alert",OS=`.${rD}`,iD=`close${OS}`,sD=`closed${OS}`,oD="fade",aD="show";let xS=class LS extends di{static get NAME(){return nD}close(){if(ce.trigger(this._element,iD).defaultPrevented)return;this._element.classList.remove(aD);const t=this._element.classList.contains(oD);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ce.trigger(this._element,sD),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=LS.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Oh(xS,"close");Kr(xS);const lD="button",uD="bs.button",cD=`.${uD}`,dD=".data-api",fD="active",KE='[data-bs-toggle="button"]',hD=`click${cD}${dD}`;let MS=class VS extends di{static get NAME(){return lD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(fD))}static jQueryInterface(e){return this.each(function(){const t=VS.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};ce.on(document,hD,KE,n=>{n.preventDefault();const e=n.target.closest(KE);MS.getOrCreateInstance(e).toggle()});Kr(MS);const pD="swipe",Xl=".bs.swipe",mD=`touchstart${Xl}`,gD=`touchmove${Xl}`,yD=`touchend${Xl}`,vD=`pointerdown${Xl}`,_D=`pointerup${Xl}`,wD="touch",ED="pen",TD="pointer-event",ID=40,SD={endCallback:null,leftCallback:null,rightCallback:null},CD={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Jf extends xc{constructor(e,t){super(),this._element=e,!(!e||!Jf.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return SD}static get DefaultType(){return CD}static get NAME(){return pD}dispose(){ce.off(this._element,Xl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),mr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=ID)return;const t=e/this._deltaX;this._deltaX=0,t&&mr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ce.on(this._element,vD,e=>this._start(e)),ce.on(this._element,_D,e=>this._end(e)),this._element.classList.add(TD)):(ce.on(this._element,mD,e=>this._start(e)),ce.on(this._element,gD,e=>this._move(e)),ce.on(this._element,yD,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===ED||e.pointerType===wD)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const AD="carousel",RD="bs.carousel",No=`.${RD}`,US=".data-api",bD="ArrowLeft",ND="ArrowRight",kD=500,Hu="next",ul="prev",gl="left",xf="right",PD=`slide${No}`,Gm=`slid${No}`,DD=`keydown${No}`,OD=`mouseenter${No}`,xD=`mouseleave${No}`,LD=`dragstart${No}`,MD=`load${No}${US}`,VD=`click${No}${US}`,$S="carousel",mf="active",UD="slide",$D="carousel-item-end",jD="carousel-item-start",FD="carousel-item-next",BD="carousel-item-prev",jS=".active",FS=".carousel-item",HD=jS+FS,zD=".carousel-item img",WD=".carousel-indicators",qD="[data-bs-slide], [data-bs-slide-to]",KD='[data-bs-ride="carousel"]',GD={[bD]:xf,[ND]:gl},QD={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},YD={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Qy=class BS extends di{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=We.findOne(WD,this._element),this._addEventListeners(),this._config.ride===$S&&this.cycle()}static get Default(){return QD}static get DefaultType(){return YD}static get NAME(){return AD}next(){this._slide(Hu)}nextWhenVisible(){!document.hidden&&Yl(this._element)&&this.next()}prev(){this._slide(ul)}pause(){this._isSliding&&IS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ce.one(this._element,Gm,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ce.one(this._element,Gm,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Hu:ul;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ce.on(this._element,DD,e=>this._keydown(e)),this._config.pause==="hover"&&(ce.on(this._element,OD,()=>this.pause()),ce.on(this._element,xD,()=>this._maybeEnableCycle())),this._config.touch&&Jf.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of We.find(zD,this._element))ce.on(r,LD,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(gl)),rightCallback:()=>this._slide(this._directionToOrder(xf)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),kD+this._config.interval))}};this._swipeHelper=new Jf(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=GD[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=We.findOne(jS,this._indicatorsElement);t.classList.remove(mf),t.removeAttribute("aria-current");const r=We.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(mf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Hu,a=t||Ky(this._getItems(),r,i,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),c=A=>ce.trigger(this._element,A,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(c(PD).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const g=i?jD:$D,_=i?FD:BD;a.classList.add(_),Oc(a),r.classList.add(g),a.classList.add(g);const E=()=>{a.classList.remove(g,_),a.classList.add(mf),r.classList.remove(mf,_,g),this._isSliding=!1,c(Gm)};this._queueCallback(E,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(UD)}_getActive(){return We.findOne(HD,this._element)}_getItems(){return We.find(FS,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Wr()?e===gl?ul:Hu:e===gl?Hu:ul}_orderToDirection(e){return Wr()?e===ul?gl:xf:e===ul?xf:gl}static jQueryInterface(e){return this.each(function(){const t=BS.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ce.on(document,VD,qD,function(n){const e=We.getElementFromSelector(this);if(!e||!e.classList.contains($S))return;n.preventDefault();const t=Qy.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(ss.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ce.on(window,MD,()=>{const n=We.find(KD);for(const e of n)Qy.getOrCreateInstance(e)});Kr(Qy);const XD="collapse",JD="bs.collapse",Lc=`.${JD}`,ZD=".data-api",e1=`show${Lc}`,t1=`shown${Lc}`,n1=`hide${Lc}`,r1=`hidden${Lc}`,i1=`click${Lc}${ZD}`,Qm="show",Tl="collapse",gf="collapsing",s1="collapsed",o1=`:scope .${Tl} .${Tl}`,a1="collapse-horizontal",l1="width",u1="height",c1=".collapse.show, .collapse.collapsing",Mg='[data-bs-toggle="collapse"]',d1={parent:null,toggle:!0},f1={parent:"(null|element)",toggle:"boolean"};let HS=class Vg extends di{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=We.find(Mg);for(const i of r){const a=We.getSelectorFromElement(i),l=We.find(a).filter(c=>c===this._element);a!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return d1}static get DefaultType(){return f1}static get NAME(){return XD}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(c1).filter(c=>c!==this._element).map(c=>Vg.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||ce.trigger(this._element,e1).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(Tl),this._element.classList.add(gf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(gf),this._element.classList.add(Tl,Qm),this._element.style[r]="",ce.trigger(this._element,t1)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ce.trigger(this._element,n1).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Oc(this._element),this._element.classList.add(gf),this._element.classList.remove(Tl,Qm);for(const i of this._triggerArray){const a=We.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(gf),this._element.classList.add(Tl),ce.trigger(this._element,r1)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Qm)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=yo(e.parent),e}_getDimension(){return this._element.classList.contains(a1)?l1:u1}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Mg);for(const t of e){const r=We.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=We.find(o1,this._config.parent);return We.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(s1,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Vg.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};ce.on(document,i1,Mg,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of We.getMultipleElementsFromSelector(this))HS.getOrCreateInstance(e,{toggle:!1}).toggle()});Kr(HS);const GE="dropdown",h1="bs.dropdown",Ea=`.${h1}`,Yy=".data-api",p1="Escape",QE="Tab",m1="ArrowUp",YE="ArrowDown",g1=2,y1=`hide${Ea}`,v1=`hidden${Ea}`,_1=`show${Ea}`,w1=`shown${Ea}`,zS=`click${Ea}${Yy}`,WS=`keydown${Ea}${Yy}`,E1=`keyup${Ea}${Yy}`,yl="show",T1="dropup",I1="dropend",S1="dropstart",C1="dropup-center",A1="dropdown-center",sa='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',R1=`${sa}.${yl}`,Lf=".dropdown-menu",b1=".navbar",N1=".navbar-nav",k1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",P1=Wr()?"top-end":"top-start",D1=Wr()?"top-start":"top-end",O1=Wr()?"bottom-end":"bottom-start",x1=Wr()?"bottom-start":"bottom-end",L1=Wr()?"left-start":"right-start",M1=Wr()?"right-start":"left-start",V1="top",U1="bottom",$1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},j1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let Jl=class Mf extends di{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=We.next(this._element,Lf)[0]||We.prev(this._element,Lf)[0]||We.findOne(Lf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $1}static get DefaultType(){return j1}static get NAME(){return GE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(vo(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ce.trigger(this._element,_1,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(N1))for(const r of[].concat(...document.body.children))ce.on(r,"mouseover",Xf);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(yl),this._element.classList.add(yl),ce.trigger(this._element,w1,e)}}hide(){if(vo(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ce.trigger(this._element,y1,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ce.off(r,"mouseover",Xf);this._popper&&this._popper.destroy(),this._menu.classList.remove(yl),this._element.classList.remove(yl),this._element.setAttribute("aria-expanded","false"),ss.removeDataAttribute(this._menu,"popper"),ce.trigger(this._element,v1,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!is(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${GE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof ES>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:is(this._config.reference)?e=yo(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=qy(e,this._menu,t)}_isShown(){return this._menu.classList.contains(yl)}_getPlacement(){const e=this._parent;if(e.classList.contains(I1))return L1;if(e.classList.contains(S1))return M1;if(e.classList.contains(C1))return V1;if(e.classList.contains(A1))return U1;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(T1)?t?D1:P1:t?x1:O1}_detectNavbar(){return this._element.closest(b1)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ss.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...mr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=We.find(k1,this._menu).filter(i=>Yl(i));r.length&&Ky(r,t,e===YE,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Mf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===g1||e.type==="keyup"&&e.key!==QE)return;const t=We.find(R1);for(const r of t){const i=Mf.getInstance(r);if(!i||i._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===QE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===p1,i=[m1,YE].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const a=this.matches(sa)?this:We.prev(this,sa)[0]||We.next(this,sa)[0]||We.findOne(sa,e.delegateTarget.parentNode),l=Mf.getOrCreateInstance(a);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};ce.on(document,WS,sa,Jl.dataApiKeydownHandler);ce.on(document,WS,Lf,Jl.dataApiKeydownHandler);ce.on(document,zS,Jl.clearMenus);ce.on(document,E1,Jl.clearMenus);ce.on(document,zS,sa,function(n){n.preventDefault(),Jl.getOrCreateInstance(this).toggle()});Kr(Jl);const qS="backdrop",F1="fade",XE="show",JE=`mousedown.bs.${qS}`,B1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},H1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class KS extends xc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return B1}static get DefaultType(){return H1}static get NAME(){return qS}show(e){if(!this._config.isVisible){mr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Oc(t),t.classList.add(XE),this._emulateAnimation(()=>{mr(e)})}hide(e){if(!this._config.isVisible){mr(e);return}this._getElement().classList.remove(XE),this._emulateAnimation(()=>{this.dispose(),mr(e)})}dispose(){this._isAppended&&(ce.off(this._element,JE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(F1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=yo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ce.on(e,JE,()=>{mr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){AS(e,this._getElement(),this._config.isAnimated)}}const z1="focustrap",W1="bs.focustrap",Zf=`.${W1}`,q1=`focusin${Zf}`,K1=`keydown.tab${Zf}`,G1="Tab",Q1="forward",ZE="backward",Y1={autofocus:!0,trapElement:null},X1={autofocus:"boolean",trapElement:"element"};class GS extends xc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Y1}static get DefaultType(){return X1}static get NAME(){return z1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ce.off(document,Zf),ce.on(document,q1,e=>this._handleFocusin(e)),ce.on(document,K1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ce.off(document,Zf))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=We.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===ZE?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===G1&&(this._lastTabNavDirection=e.shiftKey?ZE:Q1)}}const e0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",t0=".sticky-top",yf="padding-right",n0="margin-right";class Ug{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,yf,t=>t+e),this._setElementAttributes(e0,yf,t=>t+e),this._setElementAttributes(t0,n0,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,yf),this._resetElementAttributes(e0,yf),this._resetElementAttributes(t0,n0)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const c=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&ss.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const a=ss.getDataAttribute(i,t);if(a===null){i.style.removeProperty(t);return}ss.removeDataAttribute(i,t),i.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(is(e)){t(e);return}for(const r of We.find(e,this._element))t(r)}}const J1="modal",Z1="bs.modal",qr=`.${Z1}`,eO=".data-api",tO="Escape",nO=`hide${qr}`,rO=`hidePrevented${qr}`,QS=`hidden${qr}`,YS=`show${qr}`,iO=`shown${qr}`,sO=`resize${qr}`,oO=`click.dismiss${qr}`,aO=`mousedown.dismiss${qr}`,lO=`keydown.dismiss${qr}`,uO=`click${qr}${eO}`,r0="modal-open",cO="fade",i0="show",Ym="modal-static",dO=".modal.show",fO=".modal-dialog",hO=".modal-body",pO='[data-bs-toggle="modal"]',mO={backdrop:!0,focus:!0,keyboard:!0},gO={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let eh=class XS extends di{constructor(e,t){super(e,t),this._dialog=We.findOne(fO,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ug,this._addEventListeners()}static get Default(){return mO}static get DefaultType(){return gO}static get NAME(){return J1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ce.trigger(this._element,YS,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(r0),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ce.trigger(this._element,nO).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(i0),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ce.off(window,qr),ce.off(this._dialog,qr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new KS({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new GS({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=We.findOne(hO,this._dialog);t&&(t.scrollTop=0),Oc(this._element),this._element.classList.add(i0);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ce.trigger(this._element,iO,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ce.on(this._element,lO,e=>{if(e.key===tO){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ce.on(window,sO,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ce.on(this._element,aO,e=>{ce.one(this._element,oO,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(r0),this._resetAdjustments(),this._scrollBar.reset(),ce.trigger(this._element,QS)})}_isAnimated(){return this._element.classList.contains(cO)}_triggerBackdropTransition(){if(ce.trigger(this._element,rO).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Ym)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Ym),this._queueCallback(()=>{this._element.classList.remove(Ym),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=Wr()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=Wr()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=XS.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};ce.on(document,uO,pO,function(n){const e=We.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ce.one(e,YS,i=>{i.defaultPrevented||ce.one(e,QS,()=>{Yl(this)&&this.focus()})});const t=We.findOne(dO);t&&eh.getInstance(t).hide(),eh.getOrCreateInstance(e).toggle(this)});Oh(eh);Kr(eh);const yO="offcanvas",vO="bs.offcanvas",ws=`.${vO}`,JS=".data-api",_O=`load${ws}${JS}`,wO="Escape",s0="show",o0="showing",a0="hiding",EO="offcanvas-backdrop",ZS=".offcanvas.show",TO=`show${ws}`,IO=`shown${ws}`,SO=`hide${ws}`,l0=`hidePrevented${ws}`,eC=`hidden${ws}`,CO=`resize${ws}`,AO=`click${ws}${JS}`,RO=`keydown.dismiss${ws}`,bO='[data-bs-toggle="offcanvas"]',NO={backdrop:!0,keyboard:!0,scroll:!1},kO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let xl=class tC extends di{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return NO}static get DefaultType(){return kO}static get NAME(){return yO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ce.trigger(this._element,TO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ug().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(o0);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(s0),this._element.classList.remove(o0),ce.trigger(this._element,IO,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ce.trigger(this._element,SO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(a0),this._backdrop.hide();const t=()=>{this._element.classList.remove(s0,a0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ug().reset(),ce.trigger(this._element,eC)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ce.trigger(this._element,l0);return}this.hide()},t=!!this._config.backdrop;return new KS({className:EO,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new GS({trapElement:this._element})}_addEventListeners(){ce.on(this._element,RO,e=>{if(e.key===wO){if(this._config.keyboard){this.hide();return}ce.trigger(this._element,l0)}})}static jQueryInterface(e){return this.each(function(){const t=tC.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ce.on(document,AO,bO,function(n){const e=We.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),vo(this))return;ce.one(e,eC,()=>{Yl(this)&&this.focus()});const t=We.findOne(ZS);t&&t!==e&&xl.getInstance(t).hide(),xl.getOrCreateInstance(e).toggle(this)});ce.on(window,_O,()=>{for(const n of We.find(ZS))xl.getOrCreateInstance(n).show()});ce.on(window,CO,()=>{for(const n of We.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&xl.getOrCreateInstance(n).hide()});Oh(xl);Kr(xl);const PO=/^aria-[\w-]*$/i,nC={"*":["class","dir","id","lang","role",PO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},DO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),OO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,xO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?DO.has(t)?!!OO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function LO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const l of a){const c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}const f=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[c]||[]);for(const g of f)xO(g,p)||l.removeAttribute(g.nodeName)}return i.body.innerHTML}const MO="TemplateFactory",VO={allowList:nC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},UO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},$O={entry:"(string|element|function|null)",selector:"(string|element)"};class jO extends xc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return VO}static get DefaultType(){return UO}static get NAME(){return MO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},$O)}_setContent(e,t,r){const i=We.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(is(t)){this._putElementInTemplate(yo(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?LO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return mr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const FO="tooltip",BO=new Set(["sanitize","allowList","sanitizeFn"]),Xm="fade",HO="modal",vf="show",zO=".tooltip-inner",u0=`.${HO}`,c0="hide.bs.modal",zu="hover",Jm="focus",WO="click",qO="manual",KO="hide",GO="hidden",QO="show",YO="shown",XO="inserted",JO="click",ZO="focusin",ex="focusout",tx="mouseenter",nx="mouseleave",rx={AUTO:"auto",TOP:"top",RIGHT:Wr()?"left":"right",BOTTOM:"bottom",LEFT:Wr()?"right":"left"},ix={allowList:nC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sx={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let xh=class rC extends di{constructor(e,t){if(typeof ES>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ix}static get DefaultType(){return sx}static get NAME(){return FO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ce.off(this._element.closest(u0),c0,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ce.trigger(this._element,this.constructor.eventName(QO)),r=(SS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),ce.trigger(this._element,this.constructor.eventName(XO))),this._popper=this._createPopper(i),i.classList.add(vf),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))ce.on(c,"mouseover",Xf);const l=()=>{ce.trigger(this._element,this.constructor.eventName(YO)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ce.trigger(this._element,this.constructor.eventName(KO)).defaultPrevented)return;if(this._getTipElement().classList.remove(vf),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ce.off(i,"mouseover",Xf);this._activeTrigger[WO]=!1,this._activeTrigger[Jm]=!1,this._activeTrigger[zu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ce.trigger(this._element,this.constructor.eventName(GO)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Xm,vf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=WP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Xm),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new jO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Xm)}_isShown(){return this.tip&&this.tip.classList.contains(vf)}_createPopper(e){const t=mr(this._config.placement,[this,e,this._element]),r=rx[t.toUpperCase()];return qy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return mr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...mr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ce.on(this._element,this.constructor.eventName(JO),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==qO){const r=t===zu?this.constructor.eventName(tx):this.constructor.eventName(ZO),i=t===zu?this.constructor.eventName(nx):this.constructor.eventName(ex);ce.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?Jm:zu]=!0,l._enter()}),ce.on(this._element,i,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?Jm:zu]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ce.on(this._element.closest(u0),c0,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ss.getDataAttributes(this._element);for(const r of Object.keys(t))BO.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:yo(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=rC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Kr(xh);const ox="popover",ax=".popover-header",lx=".popover-body",ux={...xh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},cx={...xh.DefaultType,content:"(null|string|element|function)"};let dx=class iC extends xh{static get Default(){return ux}static get DefaultType(){return cx}static get NAME(){return ox}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ax]:this._getTitle(),[lx]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=iC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Kr(dx);const fx="scrollspy",hx="bs.scrollspy",Xy=`.${hx}`,px=".data-api",mx=`activate${Xy}`,d0=`click${Xy}`,gx=`load${Xy}${px}`,yx="dropdown-item",cl="active",vx='[data-bs-spy="scroll"]',Zm="[href]",_x=".nav, .list-group",f0=".nav-link",wx=".nav-item",Ex=".list-group-item",Tx=`${f0}, ${wx} > ${f0}, ${Ex}`,Ix=".dropdown",Sx=".dropdown-toggle",Cx={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ax={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Lh extends di{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Cx}static get DefaultType(){return Ax}static get NAME(){return fx}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=yo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ce.off(this._config.target,d0),ce.on(this._config.target,d0,Zm,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const c=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(r(l),!i)return;continue}!a&&!c&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=We.find(Zm,this._config.target);for(const t of e){if(!t.hash||vo(t))continue;const r=We.findOne(decodeURI(t.hash),this._element);Yl(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(cl),this._activateParents(e),ce.trigger(this._element,mx,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(yx)){We.findOne(Sx,e.closest(Ix)).classList.add(cl);return}for(const t of We.parents(e,_x))for(const r of We.prev(t,Tx))r.classList.add(cl)}_clearActiveClass(e){e.classList.remove(cl);const t=We.find(`${Zm}.${cl}`,e);for(const r of t)r.classList.remove(cl)}static jQueryInterface(e){return this.each(function(){const t=Lh.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ce.on(window,gx,()=>{for(const n of We.find(vx))Lh.getOrCreateInstance(n)});Kr(Lh);const Rx="tab",bx="bs.tab",Ta=`.${bx}`,Nx=`hide${Ta}`,kx=`hidden${Ta}`,Px=`show${Ta}`,Dx=`shown${Ta}`,Ox=`click${Ta}`,xx=`keydown${Ta}`,Lx=`load${Ta}`,Mx="ArrowLeft",h0="ArrowRight",Vx="ArrowUp",p0="ArrowDown",eg="Home",m0="End",oa="active",g0="fade",tg="show",Ux="dropdown",sC=".dropdown-toggle",$x=".dropdown-menu",ng=`:not(${sC})`,jx='.list-group, .nav, [role="tablist"]',Fx=".nav-item, .list-group-item",Bx=`.nav-link${ng}, .list-group-item${ng}, [role="tab"]${ng}`,oC='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',rg=`${Bx}, ${oC}`,Hx=`.${oa}[data-bs-toggle="tab"], .${oa}[data-bs-toggle="pill"], .${oa}[data-bs-toggle="list"]`;class Ll extends di{constructor(e){super(e),this._parent=this._element.closest(jx),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ce.on(this._element,xx,t=>this._keydown(t)))}static get NAME(){return Rx}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ce.trigger(t,Nx,{relatedTarget:e}):null;ce.trigger(e,Px,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(oa),this._activate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(tg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ce.trigger(e,Dx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(g0))}_deactivate(e,t){if(!e)return;e.classList.remove(oa),e.blur(),this._deactivate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(tg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ce.trigger(e,kx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(g0))}_keydown(e){if(![Mx,h0,Vx,p0,eg,m0].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!vo(i));let r;if([eg,m0].includes(e.key))r=t[e.key===eg?0:t.length-1];else{const i=[h0,p0].includes(e.key);r=Ky(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),Ll.getOrCreateInstance(r).show())}_getChildren(){return We.find(rg,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=We.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(Ux))return;const i=(a,l)=>{const c=We.findOne(a,r);c&&c.classList.toggle(l,t)};i(sC,oa),i($x,tg),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(oa)}_getInnerElement(e){return e.matches(rg)?e:We.findOne(rg,e)}_getOuterElement(e){return e.closest(Fx)||e}static jQueryInterface(e){return this.each(function(){const t=Ll.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ce.on(document,Ox,oC,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!vo(this)&&Ll.getOrCreateInstance(this).show()});ce.on(window,Lx,()=>{for(const n of We.find(Hx))Ll.getOrCreateInstance(n)});Kr(Ll);const zx="toast",Wx="bs.toast",ko=`.${Wx}`,qx=`mouseover${ko}`,Kx=`mouseout${ko}`,Gx=`focusin${ko}`,Qx=`focusout${ko}`,Yx=`hide${ko}`,Xx=`hidden${ko}`,Jx=`show${ko}`,Zx=`shown${ko}`,eL="fade",y0="hide",_f="show",wf="showing",tL={animation:"boolean",autohide:"boolean",delay:"number"},nL={animation:!0,autohide:!0,delay:5e3};class Mh extends di{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return nL}static get DefaultType(){return tL}static get NAME(){return zx}show(){if(ce.trigger(this._element,Jx).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(eL);const t=()=>{this._element.classList.remove(wf),ce.trigger(this._element,Zx),this._maybeScheduleHide()};this._element.classList.remove(y0),Oc(this._element),this._element.classList.add(_f,wf),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ce.trigger(this._element,Yx).defaultPrevented)return;const t=()=>{this._element.classList.add(y0),this._element.classList.remove(wf,_f),ce.trigger(this._element,Xx)};this._element.classList.add(wf),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(_f),super.dispose()}isShown(){return this._element.classList.contains(_f)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ce.on(this._element,qx,e=>this._onInteraction(e,!0)),ce.on(this._element,Kx,e=>this._onInteraction(e,!1)),ce.on(this._element,Gx,e=>this._onInteraction(e,!0)),ce.on(this._element,Qx,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Mh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Oh(Mh);Kr(Mh);var ig={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var v0;function rL(){return v0||(v0=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(ig)),ig.exports}var iL=rL();const ye=kc(iL);function $g(){return $g=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$g.apply(null,arguments)}function aC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function _0(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function sL(n){var e=oL(n,"string");return typeof e=="symbol"?e:String(e)}function oL(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function lC(n,e,t){var r=w.useRef(n!==void 0),i=w.useState(e),a=i[0],l=i[1],c=n!==void 0,f=r.current;return r.current=c,!c&&f&&a!==e&&l(e),[c?n:a,w.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),E=1;E<g;E++)_[E-1]=arguments[E];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function Zl(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[_0(r)],c=a[r],f=aC(a,[_0(r),r].map(sL)),p=e[r],g=lC(c,l,n[p]),_=g[0],E=g[1];return $g({},f,(i={},i[r]=_,i[p]=E,i))},n)}function jg(n,e){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},jg(n,e)}function aL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,jg(n,e)}var sg={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function lL(){if(w0)return Wu;w0=1;var n=Py(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},E=null,A=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:E,ref:A,props:_,_owner:i.current}}return Wu.Fragment=t,Wu.jsx=l,Wu.jsxs=l,Wu}var E0;function uL(){return E0||(E0=1,sg.exports=lL()),sg.exports}var Jy=uL();const C=Jy.jsx,pe=Jy.jsxs,hn=Jy.Fragment,cL=["xxl","xl","lg","md","sm","xs"],dL="xs",Mc=w.createContext({prefixes:{},breakpoints:cL,minBreakpoint:dL}),{Consumer:aH,Provider:lH}=Mc;function Ie(n,e){const{prefixes:t}=w.useContext(Mc);return n||t[e]||e}function uC(){const{breakpoints:n}=w.useContext(Mc);return n}function cC(){const{minBreakpoint:n}=w.useContext(Mc);return n}function Vc(){const{dir:n}=w.useContext(Mc);return n==="rtl"}function eu(n){return n&&n.ownerDocument||document}function fL(n){var e=eu(n);return e&&e.defaultView||window}function hL(n,e){return fL(n).getComputedStyle(n,e)}var pL=/([A-Z])/g;function mL(n){return n.replace(pL,"-$1").toLowerCase()}var gL=/^ms-/;function Ef(n){return mL(n).replace(gL,"-ms-")}var yL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function vL(n){return!!(n&&yL.test(n))}function os(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Ef(e))||hL(n).getPropertyValue(Ef(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(Ef(i)):vL(i)?r+=i+"("+a+") ":t+=Ef(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var og={exports:{}},ag,T0;function _L(){if(T0)return ag;T0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ag=n,ag}var lg,I0;function wL(){if(I0)return lg;I0=1;var n=_L();function e(){}function t(){}return t.resetWarningCache=e,lg=function(){function r(l,c,f,p,g,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},lg}var S0;function EL(){return S0||(S0=1,og.exports=wL()()),og.exports}var TL=EL();const Qn=kc(TL);var dC=tS();const so=kc(dC),IL=eS({__proto__:null,default:so},[dC]),C0={disabled:!1},fC=cn.createContext(null);var SL=function(e){return e.scrollTop},Ju="unmounted",Zs="exited",li="entering",Zi="entered",pc="exiting",Es=function(n){aL(e,n);function e(r,i){var a;a=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?c?(f=Zs,a.appearStatus=li):f=Zi:r.unmountOnExit||r.mountOnEnter?f=Ju:f=Zs,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Ju?{status:Zs}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==li&&l!==Zi&&(a=li):(l===li||l===Zi)&&(a=pc)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===li){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:so.findDOMNode(this);l&&SL(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zs&&this.setState({status:Ju})},t.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,f=this.props.nodeRef?[c]:[so.findDOMNode(this),c],p=f[0],g=f[1],_=this.getTimeouts(),E=c?_.appear:_.enter;if(!i&&!l||C0.disabled){this.safeSetState({status:Zi},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:li},function(){a.props.onEntering(p,g),a.onTransitionEnd(E,function(){a.safeSetState({status:Zi},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:so.findDOMNode(this);if(!a||C0.disabled){this.safeSetState({status:Zs},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:pc},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Zs},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:so.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],g=f[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Ju)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=aC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return cn.createElement(fC.Provider,{value:null},typeof l=="function"?l(i,c):cn.cloneElement(cn.Children.only(l),c))},e}(cn.Component);Es.contextType=fC;Es.propTypes={};function dl(){}Es.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dl,onEntering:dl,onEntered:dl,onExit:dl,onExiting:dl,onExited:dl};Es.UNMOUNTED=Ju;Es.EXITED=Zs;Es.ENTERING=li;Es.ENTERED=Zi;Es.EXITING=pc;function hC(n){return n.code==="Escape"||n.keyCode===27}function CL(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Ia(n){if(!n||typeof n=="function")return null;const{major:e}=CL();return e>=19?n.props.ref:n.ref}const tu=!!(typeof window<"u"&&window.document&&window.document.createElement);var Fg=!1,Bg=!1;try{var ug={get passive(){return Fg=!0},get once(){return Bg=Fg=!0}};tu&&(window.addEventListener("test",ug,ug),window.removeEventListener("test",ug,!0))}catch{}function Zy(n,e,t,r){if(r&&typeof r!="boolean"&&!Bg){var i=r.once,a=r.capture,l=t;!Bg&&i&&(l=t.__once||function c(f){this.removeEventListener(e,c,a),t.call(this,f)},t.__once=l),n.addEventListener(e,l,Fg?r:a)}n.addEventListener(e,t,r)}function Hg(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function es(n,e,t,r){return Zy(n,e,t,r),function(){Hg(n,e,t,r)}}function AL(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function RL(n){var e=os(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function bL(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||AL(n,"transitionend",!0)},e+t),a=es(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function pC(n,e,t,r){t==null&&(t=RL(n)||0);var i=bL(n,t,r),a=es(n,"transitionend",e);return function(){i(),a()}}function A0(n,e){const t=os(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Vh(n,e){const t=A0(n,"transitionDuration"),r=A0(n,"transitionDelay"),i=pC(n,a=>{a.target===n&&(i(),e(a))},t+r)}function qu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function ev(n){n.offsetHeight}const R0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function NL(n,e){const t=R0(n),r=R0(e);return i=>{t&&t(i),r&&r(i)}}function nu(n,e){return w.useMemo(()=>NL(n,e),[n,e])}function th(n){return n&&"setState"in n?so.findDOMNode(n):n??null}const Uh=cn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:f,...p},g)=>{const _=w.useRef(null),E=nu(_,f),A=K=>{E(th(K))},N=K=>I=>{K&&_.current&&K(_.current,I)},O=w.useCallback(N(n),[n]),b=w.useCallback(N(e),[e]),B=w.useCallback(N(t),[t]),U=w.useCallback(N(r),[r]),z=w.useCallback(N(i),[i]),q=w.useCallback(N(a),[a]),Z=w.useCallback(N(l),[l]);return C(Es,{ref:g,...p,onEnter:O,onEntered:B,onEntering:b,onExit:U,onExited:q,onExiting:z,addEndListener:Z,nodeRef:_,children:typeof c=="function"?(K,I)=>c(K,{...I,ref:A}):cn.cloneElement(c,{ref:A})})}),kL={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function PL(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=kL[n];return r+parseInt(os(e,i[0]),10)+parseInt(os(e,i[1]),10)}const DL={[Zs]:"collapse",[pc]:"collapsing",[li]:"collapsing",[Zi]:"collapse show"},mC=cn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:f=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:E=!1,getDimensionValue:A=PL,...N},O)=>{const b=typeof c=="function"?c():c,B=w.useMemo(()=>qu(K=>{K.style[b]="0"},n),[b,n]),U=w.useMemo(()=>qu(K=>{const I=`scroll${b[0].toUpperCase()}${b.slice(1)}`;K.style[b]=`${K[I]}px`},e),[b,e]),z=w.useMemo(()=>qu(K=>{K.style[b]=null},t),[b,t]),q=w.useMemo(()=>qu(K=>{K.style[b]=`${A(b,K)}px`,ev(K)},r),[r,A,b]),Z=w.useMemo(()=>qu(K=>{K.style[b]=null},i),[b,i]);return C(Uh,{ref:O,addEndListener:Vh,...N,"aria-expanded":N.role?f:null,onEnter:B,onEntering:U,onEntered:z,onExit:q,onExiting:Z,childRef:Ia(l),in:f,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:E,children:(K,I)=>cn.cloneElement(l,{...I,className:ye(a,l.props.className,DL[K],b==="width"&&"collapse-horizontal")})})});function gC(n,e){return Array.isArray(n)?n.includes(e):n===e}const Uc=w.createContext({});Uc.displayName="AccordionContext";const tv=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...a},l)=>{const{activeEventKey:c}=w.useContext(Uc);return e=Ie(e,"accordion-collapse"),C(mC,{ref:l,in:gC(c,i),...a,className:ye(t,e),children:C(n,{children:w.Children.only(r)})})});tv.displayName="AccordionCollapse";const $h=w.createContext({eventKey:""});$h.displayName="AccordionItemContext";const yC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,...p},g)=>{e=Ie(e,"accordion-body");const{eventKey:_}=w.useContext($h);return C(tv,{eventKey:_,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,children:C(n,{ref:g,...p,className:ye(t,e)})})});yC.displayName="AccordionBody";function OL(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=w.useContext(Uc);return a=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(c=>c!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const nv=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},a)=>{e=Ie(e,"accordion-button");const{eventKey:l}=w.useContext($h),c=OL(l,r),{activeEventKey:f}=w.useContext(Uc);return n==="button"&&(i.type="button"),C(n,{ref:a,onClick:c,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:ye(t,e,!gC(f,l)&&"collapsed")})});nv.displayName="AccordionButton";const vC=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:a,...l},c)=>(t=Ie(t,"accordion-header"),C(n,{ref:c,...l,className:ye(r,t),children:C(nv,{onClick:a,"aria-controls":e,children:i})})));vC.displayName="AccordionHeader";const _C=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},a)=>{e=Ie(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return C($h.Provider,{value:l,children:C(n,{ref:a,...i,className:ye(t,e)})})});_C.displayName="AccordionItem";const wC=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:c,alwaysOpen:f,...p}=Zl(n,{activeKey:"onSelect"}),g=Ie(i,"accordion"),_=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return C(Uc.Provider,{value:_,children:C(t,{ref:e,...p,className:ye(a,g,c&&`${g}-flush`)})})});wC.displayName="Accordion";const oo=Object.assign(wC,{Button:nv,Collapse:tv,Item:_C,Header:vC,Body:yC});function EC(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function ui(n){const e=EC(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const $c=n=>w.forwardRef((e,t)=>C("div",{...e,ref:t,className:ye(e.className,n)})),TC=$c("h4");TC.displayName="DivStyledAsH4";const IC=w.forwardRef(({className:n,bsPrefix:e,as:t=TC,...r},i)=>(e=Ie(e,"alert-heading"),C(t,{ref:i,className:ye(n,e),...r})));IC.displayName="AlertHeading";function zg(){return w.useState(null)}function xL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function bn(n){const e=xL(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function LL(n,e,t,r=!1){const i=bn(t);w.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}function SC(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function CC(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const ML=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",VL=typeof document<"u",b0=VL||ML?w.useLayoutEffect:w.useEffect,UL=["as","disabled"];function $L(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function jL(n){return!n||n.trim()==="#"}function rv({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const g=E=>{if((e||n==="a"&&jL(t))&&E.preventDefault(),e){E.stopPropagation();return}l==null||l(E)},_=E=>{E.key===" "&&(E.preventDefault(),g(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:_},p]}const iv=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=$L(n,UL);const[a,{tagName:l}]=rv(Object.assign({tagName:t,disabled:r},i));return C(l,Object.assign({},i,a,{ref:e}))});iv.displayName="Button";const FL=["onKeyDown"];function BL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function HL(n){return!n||n.trim()==="#"}const Ml=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=BL(n,FL);const[i]=rv(Object.assign({tagName:"a"},r)),a=bn(l=>{i.onKeyDown(l),t==null||t(l)});return HL(r.href)||r.role==="button"?C("a",Object.assign({ref:e},r,i,{onKeyDown:a})):C("a",Object.assign({ref:e},r,{onKeyDown:t}))});Ml.displayName="Anchor";const AC=w.forwardRef(({className:n,bsPrefix:e,as:t=Ml,...r},i)=>(e=Ie(e,"alert-link"),C(t,{ref:i,className:ye(n,e),...r})));AC.displayName="AlertLink";const zL={[li]:"show",[Zi]:"show"},_o=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=w.useCallback((f,p)=>{ev(f),r==null||r(f,p)},[r]);return C(Uh,{ref:a,addEndListener:Vh,...l,onEnter:c,childRef:Ia(e),children:(f,p)=>w.cloneElement(e,{...p,className:ye("fade",n,e.props.className,zL[f],t[f])})})});_o.displayName="Fade";const WL={"aria-label":Qn.string,onClick:Qn.func,variant:Qn.oneOf(["white"])},jc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>C("button",{ref:i,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));jc.displayName="CloseButton";jc.propTypes=WL;const RC=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:l,children:c,variant:f="primary",onClose:p,dismissible:g,transition:_=_o,...E}=Zl(n,{show:"onClose"}),A=Ie(t,"alert"),N=ui(B=>{p&&p(!1,B)}),O=_===!0?_o:_,b=pe("div",{role:"alert",...O?void 0:E,ref:e,className:ye(l,A,f&&`${A}-${f}`,g&&`${A}-dismissible`),children:[g&&C(jc,{onClick:N,"aria-label":i,variant:a}),c]});return O?C(O,{unmountOnExit:!0,...E,ref:void 0,in:r,children:b}):r?b:null});RC.displayName="Alert";const mc=Object.assign(RC,{Link:AC,Heading:IC}),Nn=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},f)=>{const p=Ie(e,"btn"),[g,{tagName:_}]=rv({tagName:n,disabled:a,...c});return C(_,{...g,...c,ref:f,disabled:a,className:ye(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});Nn.displayName="Button";const sv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"card-body"),C(t,{ref:i,className:ye(n,e),...r})));sv.displayName="CardBody";const bC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"card-footer"),C(t,{ref:i,className:ye(n,e),...r})));bC.displayName="CardFooter";const ov=w.createContext(null);ov.displayName="CardHeaderContext";const NC=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=Ie(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return C(ov.Provider,{value:l,children:C(t,{ref:i,...r,className:ye(e,a)})})});NC.displayName="CardHeader";const kC=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=Ie(n,"card-img");return C(r,{ref:a,className:ye(t?`${l}-${t}`:l,e),...i})});kC.displayName="CardImg";const PC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"card-img-overlay"),C(t,{ref:i,className:ye(n,e),...r})));PC.displayName="CardImgOverlay";const DC=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=Ie(e,"card-link"),C(t,{ref:i,className:ye(n,e),...r})));DC.displayName="CardLink";const qL=$c("h6"),OC=w.forwardRef(({className:n,bsPrefix:e,as:t=qL,...r},i)=>(e=Ie(e,"card-subtitle"),C(t,{ref:i,className:ye(n,e),...r})));OC.displayName="CardSubtitle";const xC=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=Ie(e,"card-text"),C(t,{ref:i,className:ye(n,e),...r})));xC.displayName="CardText";const KL=$c("h5"),LC=w.forwardRef(({className:n,bsPrefix:e,as:t=KL,...r},i)=>(e=Ie(e,"card-title"),C(t,{ref:i,className:ye(n,e),...r})));LC.displayName="CardTitle";const MC=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:c="div",...f},p)=>{const g=Ie(n,"card");return C(c,{ref:p,...f,className:ye(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?C(sv,{children:l}):l})});MC.displayName="Card";const eo=Object.assign(MC,{Img:kC,Title:LC,Subtitle:OC,Body:sv,Link:DC,Text:xC,Header:NC,Footer:bC,ImgOverlay:PC});function GL(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function QL(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function YL(n){const e=w.useRef(n);return e.current=n,e}function VC(n){const e=YL(n);w.useEffect(()=>()=>e.current(),[])}const Wg=2**31-1;function UC(n,e,t){const r=t-Date.now();n.current=r<=Wg?setTimeout(e,r):setTimeout(()=>UC(n,e,t),Wg)}function $C(){const n=QL(),e=w.useRef();return VC(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,a=0){n()&&(t(),a<=Wg?e.current=setTimeout(i,a):UC(e,i,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const jC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"carousel-caption"),C(t,{ref:i,className:ye(n,e),...r})));jC.displayName="CarouselCaption";const FC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},i)=>{const a=ye(t,Ie(e,"carousel-item"));return C(n,{ref:i,...r,className:a})});FC.displayName="CarouselItem";function N0(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function XL(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function JL(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const ZL=40;function eM(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const BC=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:i,slide:a=!0,fade:l=!1,controls:c=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:g,onSelect:_,onSlide:E,onSlid:A,interval:N=5e3,keyboard:O=!0,onKeyDown:b,pause:B="hover",onMouseOver:U,onMouseOut:z,wrap:q=!0,touch:Z=!0,onTouchStart:K,onTouchMove:I,onTouchEnd:R,prevIcon:P=C("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:x="Previous",nextIcon:L=C("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:D,className:we,children:Le,...He}=Zl({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Ne=Ie(i,"carousel"),ne=Vc(),me=w.useRef(null),[le,F]=w.useState("next"),[ee,he]=w.useState(!1),[ve,Te]=w.useState(!1),[Ae,Ge]=w.useState(g||0);w.useEffect(()=>{!ve&&g!==Ae&&(me.current?F(me.current):F((g||0)>Ae?"next":"prev"),a&&Te(!0),Ge(g||0))},[g,ve,Ae,a]),w.useEffect(()=>{me.current&&(me.current=null)});let je=0,st;XL(Le,(ze,ot)=>{++je,ot===g&&(st=ze.props.interval)});const Et=EC(st),St=w.useCallback(ze=>{if(ve)return;let ot=Ae-1;if(ot<0){if(!q)return;ot=je-1}me.current="prev",_==null||_(ot,ze)},[ve,Ae,_,q,je]),it=ui(ze=>{if(ve)return;let ot=Ae+1;if(ot>=je){if(!q)return;ot=0}me.current="next",_==null||_(ot,ze)}),kt=w.useRef();w.useImperativeHandle(t,()=>({element:kt.current,prev:St,next:it}));const Kt=ui(()=>{!document.hidden&&eM(kt.current)&&(ne?St():it())}),rt=le==="next"?"start":"end";GL(()=>{a||(E==null||E(Ae,rt),A==null||A(Ae,rt))},[Ae]);const Ft=`${Ne}-item-${le}`,pn=`${Ne}-item-${rt}`,Dr=w.useCallback(ze=>{ev(ze),E==null||E(Ae,rt)},[E,Ae,rt]),Hn=w.useCallback(()=>{Te(!1),A==null||A(Ae,rt)},[A,Ae,rt]),Bt=w.useCallback(ze=>{if(O&&!/input|textarea/i.test(ze.target.tagName))switch(ze.key){case"ArrowLeft":ze.preventDefault(),ne?it(ze):St(ze);return;case"ArrowRight":ze.preventDefault(),ne?St(ze):it(ze);return}b==null||b(ze)},[O,b,St,it,ne]),Jt=w.useCallback(ze=>{B==="hover"&&he(!0),U==null||U(ze)},[B,U]),er=w.useCallback(ze=>{he(!1),z==null||z(ze)},[z]),Dn=w.useRef(0),Dt=w.useRef(0),on=$C(),$e=w.useCallback(ze=>{Dn.current=ze.touches[0].clientX,Dt.current=0,B==="hover"&&he(!0),K==null||K(ze)},[B,K]),mt=w.useCallback(ze=>{ze.touches&&ze.touches.length>1?Dt.current=0:Dt.current=ze.touches[0].clientX-Dn.current,I==null||I(ze)},[I]),Ot=w.useCallback(ze=>{if(Z){const ot=Dt.current;Math.abs(ot)>ZL&&(ot>0?St(ze):it(ze))}B==="hover"&&on.set(()=>{he(!1)},N||void 0),R==null||R(ze)},[Z,B,St,it,on,N,R]),mn=N!=null&&!ee&&!ve,zn=w.useRef();w.useEffect(()=>{var ze,ot;if(!mn)return;const gn=ne?St:it;return zn.current=window.setInterval(document.visibilityState?Kt:gn,(ze=(ot=Et.current)!=null?ot:N)!=null?ze:void 0),()=>{zn.current!==null&&clearInterval(zn.current)}},[mn,St,it,Et,N,Kt,ne]);const Wn=w.useMemo(()=>f&&Array.from({length:je},(ze,ot)=>gn=>{_==null||_(ot,gn)}),[f,je,_]);return pe(r,{ref:kt,...He,onKeyDown:Bt,onMouseOver:Jt,onMouseOut:er,onTouchStart:$e,onTouchMove:mt,onTouchEnd:Ot,className:ye(we,Ne,a&&"slide",l&&`${Ne}-fade`,D&&`${Ne}-${D}`),children:[f&&C("div",{className:`${Ne}-indicators`,children:N0(Le,(ze,ot)=>C("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[ot]:`Slide ${ot+1}`,className:ot===Ae?"active":void 0,onClick:Wn?Wn[ot]:void 0,"aria-current":ot===Ae},ot))}),C("div",{className:`${Ne}-inner`,children:N0(Le,(ze,ot)=>{const gn=ot===Ae;return a?C(Uh,{in:gn,onEnter:gn?Dr:void 0,onEntered:gn?Hn:void 0,addEndListener:Vh,children:(tr,fi)=>w.cloneElement(ze,{...fi,className:ye(ze.props.className,gn&&tr!=="entered"&&Ft,(tr==="entered"||tr==="exiting")&&"active",(tr==="entering"||tr==="exiting")&&pn)})}):w.cloneElement(ze,{className:ye(ze.props.className,gn&&"active")})})}),c&&pe(hn,{children:[(q||g!==0)&&pe(Ml,{className:`${Ne}-control-prev`,onClick:St,children:[P,x&&C("span",{className:"visually-hidden",children:x})]}),(q||g!==je-1)&&pe(Ml,{className:`${Ne}-control-next`,onClick:it,children:[L,V&&C("span",{className:"visually-hidden",children:V})]})]})]})});BC.displayName="Carousel";const k0=Object.assign(BC,{Caption:jC,Item:FC});function tM({as:n,bsPrefix:e,className:t,...r}){e=Ie(e,"col");const i=uC(),a=cC(),l=[],c=[];return i.forEach(f=>{const p=r[f];delete r[f];let g,_,E;typeof p=="object"&&p!=null?{span:g,offset:_,order:E}=p:g=p;const A=f!==a?`-${f}`:"";g&&l.push(g===!0?`${e}${A}`:`${e}${A}-${g}`),E!=null&&c.push(`order${A}-${E}`),_!=null&&c.push(`offset${A}-${_}`)}),[{...r,className:ye(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const as=w.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:a,spans:l}]=tM(n);return C(i,{...r,ref:e,className:ye(t,!l.length&&a)})});as.displayName="Col";const Sa=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},a)=>{const l=Ie(n,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return C(t,{ref:a,...i,className:ye(r,e?`${l}${c}`:l)})});Sa.displayName="Container";var nM=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ji(n,e){return nM(n.querySelectorAll(e))}function rM(n,e,t){const r=w.useRef(n!==void 0),[i,a]=w.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,w.useCallback((...f)=>{const[p,...g]=f;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function HC(){const[,n]=w.useReducer(e=>e+1,0);return n}const jh=w.createContext(null);var P0=Object.prototype.hasOwnProperty;function D0(n,e,t){for(t of n.keys())if(lc(t,e))return t}function lc(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&lc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=D0(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=D0(e,i),!i)||!lc(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(P0.call(n,t)&&++r&&!P0.call(e,t)||!(t in e)||!lc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function iM(n){const e=SC();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const sM=Dc({defaultModifiers:[Hy,Dh,kh,Ph,zy,By,Wy,Uy]}),oM=["enabled","placement","strategy","modifiers"];function aM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const lM={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},uM={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},cM=[];function zC(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=cM}=t,c=aM(t,oM);const f=w.useRef(l),p=w.useRef(),g=w.useCallback(()=>{var b;(b=p.current)==null||b.update()},[]),_=w.useCallback(()=>{var b;(b=p.current)==null||b.forceUpdate()},[]),[E,A]=iM(w.useState({placement:i,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),N=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const B={},U={};Object.keys(b.elements).forEach(z=>{B[z]=b.styles[z],U[z]=b.attributes[z]}),A({state:b,styles:B,attributes:U,update:g,forceUpdate:_,placement:b.placement})}}),[g,_,A]),O=w.useMemo(()=>(lc(f.current,l)||(f.current=l),f.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...O,N,lM]})},[a,i,N,r,O]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=sM(n,e,Object.assign({},c,{placement:i,strategy:a,modifiers:[...O,uM,N]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,A(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),E}function gc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var cg,O0;function dM(){if(O0)return cg;O0=1;var n=function(){};return cg=n,cg}var fM=dM();const hM=kc(fM),x0=()=>{};function pM(n){return n.button===0}function mM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Vf=n=>n&&("current"in n?n.current:n),L0={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function WC(n,e=x0,{disabled:t,clickTrigger:r="click"}={}){const i=w.useRef(!1),a=w.useRef(!1),l=w.useCallback(p=>{const g=Vf(n);hM(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||mM(p)||!pM(p)||!!gc(g,p.target)||a.current,a.current=!1},[n]),c=bn(p=>{const g=Vf(n);g&&gc(g,p.target)?a.current=!0:a.current=!1}),f=bn(p=>{i.current||e(p)});w.useEffect(()=>{var p,g;if(t||n==null)return;const _=eu(Vf(n)),E=_.defaultView||window;let A=(p=E.event)!=null?p:(g=E.parent)==null?void 0:g.event,N=null;L0[r]&&(N=es(_,L0[r],c,!0));const O=es(_,r,l,!0),b=es(_,r,U=>{if(U===A){A=void 0;return}f(U)});let B=[];return"ontouchstart"in _.documentElement&&(B=[].slice.call(_.body.children).map(U=>es(U,"mousemove",x0))),()=>{N==null||N(),O(),b(),B.forEach(U=>U())}},[n,t,r,l,c,f])}function gM(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function yM(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function qC({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:c,popperConfig:f={}}){var p,g,_,E,A;const N=gM(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:yM(Object.assign({},N,{eventListeners:{enabled:e,options:(p=N.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},N.preventOverflow,{options:l?Object.assign({padding:l},(g=N.preventOverflow)==null?void 0:g.options):(_=N.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:i},(E=N.offset)==null?void 0:E.options)},arrow:Object.assign({},N.arrow,{enabled:!!c,options:Object.assign({},(A=N.arrow)==null?void 0:A.options,{element:c})}),flip:Object.assign({enabled:!!r},N.flip)}))})}const vM=["children","usePopper"];function _M(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const wM=()=>{};function KC(n={}){const e=w.useContext(jh),[t,r]=zg(),i=w.useRef(!1),{flip:a,offset:l,rootCloseEvent:c,fixed:f=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:E=!!e}=n,A=(e==null?void 0:e.show)==null?!!n.show:e.show;A&&!i.current&&(i.current=!0);const N=K=>{e==null||e.toggle(!1,K)},{placement:O,setMenu:b,menuElement:B,toggleElement:U}=e||{},z=zC(U,B,qC({placement:p||O||"bottom-start",enabled:E,enableEvents:_??A,offset:l,flip:a,fixed:f,arrowElement:t,popperConfig:g})),q=Object.assign({ref:b||wM,"aria-labelledby":U==null?void 0:U.id},z.attributes.popper,{style:z.styles.popper}),Z={show:A,placement:O,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:E?z:null,arrowProps:E?Object.assign({ref:r},z.attributes.arrow,{style:z.styles.arrow}):{}};return WC(B,N,{clickTrigger:c,disabled:!A}),[q,Z]}function GC(n){let{children:e,usePopper:t=!0}=n,r=_M(n,vM);const[i,a]=KC(Object.assign({},r,{usePopper:t}));return C(hn,{children:e(i,a)})}GC.displayName="DropdownMenu";const av={prefix:String(Math.round(Math.random()*1e10)),current:0},QC=cn.createContext(av),EM=cn.createContext(!1);let TM=!!(typeof window<"u"&&window.document&&window.document.createElement),dg=new WeakMap;function IM(n=!1){let e=w.useContext(QC),t=w.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=dg.get(a);l==null?dg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,dg.delete(a))}t.current=++e.current}return t.current}function SM(n){let e=w.useContext(QC);e===av&&!TM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=IM(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function CM(n){let e=cn.useId(),[t]=w.useState(kM()),r=t?"react-aria":`react-aria${av.prefix}`;return n||`${r}-${e}`}const AM=typeof cn.useId=="function"?CM:SM;function RM(){return!1}function bM(){return!0}function NM(n){return()=>{}}function kM(){return typeof cn.useSyncExternalStore=="function"?cn.useSyncExternalStore(NM,RM,bM):w.useContext(EM)}const YC=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},M0=()=>{};function XC(){const n=AM(),{show:e=!1,toggle:t=M0,setToggle:r,menuElement:i}=w.useContext(jh)||{},a=w.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||M0,onClick:a,"aria-expanded":!!e};return i&&YC(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function JC({children:n}){const[e,t]=XC();return C(hn,{children:n(e,t)})}JC.displayName="DropdownToggle";const pa=w.createContext(null),yc=(n,e=null)=>n!=null?String(n):e||null,Fh=w.createContext(null);Fh.displayName="NavContext";const PM="data-rr-ui-",DM="rrUi";function ru(n){return`${PM}${n}`}function OM(n){return`${DM}${n}`}const xM=["eventKey","disabled","onClick","active","as"];function LM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ZC({key:n,href:e,active:t,disabled:r,onClick:i}){const a=w.useContext(pa),l=w.useContext(Fh),{activeKey:c}=l||{},f=yc(n,e),p=t==null&&n!=null?yc(c)===f:t;return[{onClick:bn(_=>{r||(i==null||i(_),a&&!_.isPropagationStopped()&&a(f,_))}),"aria-disabled":r||void 0,"aria-selected":p,[ru("dropdown-item")]:""},{isActive:p}]}const eA=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=iv}=n,c=LM(n,xM);const[f]=ZC({key:t,href:c.href,disabled:r,onClick:i,active:a});return C(l,Object.assign({},c,{ref:e},f))});eA.displayName="DropdownItem";const tA=w.createContext(tu?window:void 0);tA.Provider;function Bh(){return w.useContext(tA)}function V0(){const n=HC(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Fc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${ru("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}){const f=Bh(),[p,g]=rM(e,n,r),[_,E]=V0(),A=_.current,[N,O]=V0(),b=N.current,B=CC(p),U=w.useRef(null),z=w.useRef(!1),q=w.useContext(pa),Z=w.useCallback((L,V,D=V==null?void 0:V.type)=>{g(L,{originalEvent:V,source:D})},[g]),K=bn((L,V)=>{t==null||t(L,V),Z(!1,V,"select"),V.isPropagationStopped()||q==null||q(L,V)}),I=w.useMemo(()=>({toggle:Z,placement:l,show:p,menuElement:A,toggleElement:b,setMenu:E,setToggle:O}),[Z,l,p,A,b,E,O]);A&&B&&!p&&(z.current=A.contains(A.ownerDocument.activeElement));const R=bn(()=>{b&&b.focus&&b.focus()}),P=bn(()=>{const L=U.current;let V=a;if(V==null&&(V=_.current&&YC(_.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(L))return;const D=Ji(_.current,i)[0];D&&D.focus&&D.focus()});w.useEffect(()=>{p?P():z.current&&(z.current=!1,R())},[p,z,R,P]),w.useEffect(()=>{U.current=null});const x=(L,V)=>{if(!_.current)return null;const D=Ji(_.current,i);let we=D.indexOf(L)+V;return we=Math.max(0,Math.min(we,D.length)),D[we]};return LL(w.useCallback(()=>f.document,[f]),"keydown",L=>{var V,D;const{key:we}=L,Le=L.target,He=(V=_.current)==null?void 0:V.contains(Le),Ne=(D=N.current)==null?void 0:D.contains(Le);if(/input|textarea/i.test(Le.tagName)&&(we===" "||we!=="Escape"&&He||we==="Escape"&&Le.type==="search")||!He&&!Ne||we==="Tab"&&(!_.current||!p))return;U.current=L.type;const me={originalEvent:L,source:L.type};switch(we){case"ArrowUp":{const le=x(Le,-1);le&&le.focus&&le.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!p)g(!0,me);else{const le=x(Le,1);le&&le.focus&&le.focus()}return;case"Tab":Zy(Le.ownerDocument,"keyup",le=>{var F;(le.key==="Tab"&&!le.target||!((F=_.current)!=null&&F.contains(le.target)))&&g(!1,me)},{once:!0});break;case"Escape":we==="Escape"&&(L.preventDefault(),L.stopPropagation()),g(!1,me);break}}),C(pa.Provider,{value:K,children:C(jh.Provider,{value:I,children:c})})}Fc.displayName="Dropdown";Fc.Menu=GC;Fc.Toggle=JC;Fc.Item=eA;const lv=w.createContext({});lv.displayName="DropdownContext";const nA=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=Ie(e,"dropdown-divider"),C(t,{ref:a,className:ye(n,e),role:r,...i})));nA.displayName="DropdownDivider";const rA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=Ie(e,"dropdown-header"),C(t,{ref:a,className:ye(n,e),role:r,...i})));rA.displayName="DropdownHeader";const iA=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=Ml,...c},f)=>{const p=Ie(n,"dropdown-item"),[g,_]=ZC({key:t,href:c.href,disabled:r,onClick:i,active:a});return C(l,{...c,...g,ref:f,className:ye(e,p,_.isActive&&"active",r&&"disabled")})});iA.displayName="DropdownItem";const sA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ie(e,"dropdown-item-text"),C(t,{ref:i,className:ye(n,e),...r})));sA.displayName="DropdownItemText";const MM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",VM=typeof document<"u",uv=VM||MM?w.useLayoutEffect:w.useEffect,cv=w.createContext(null);cv.displayName="InputGroupContext";const Ca=w.createContext(null);Ca.displayName="NavbarContext";function oA(n,e){return n}function aA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?i:r:e==="end"?_=n?g:p:e==="start"?_=n?f:c:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const lA=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:c="div",popperConfig:f,variant:p,...g},_)=>{let E=!1;const A=w.useContext(Ca),N=Ie(n,"dropdown-menu"),{align:O,drop:b,isRTL:B}=w.useContext(lv);t=t||O;const U=w.useContext(cv),z=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const V=L[0],D=t[V];E=D==="start",z.push(`${N}-${V}-${D}`)}}else t==="end"&&(E=!0);const q=aA(E,b,B),[Z,{hasShown:K,popper:I,show:R,toggle:P}]=KC({flip:i,rootCloseEvent:r,show:a,usePopper:!A&&z.length===0,offset:[0,2],popperConfig:f,placement:q});if(Z.ref=nu(oA(_),Z.ref),uv(()=>{R&&(I==null||I.update())},[R]),!K&&!l&&!U)return null;typeof c!="string"&&(Z.show=R,Z.close=()=>P==null?void 0:P(!1),Z.align=t);let x=g.style;return I!=null&&I.placement&&(x={...g.style,...Z.style},g["x-placement"]=I.placement),C(c,{...g,...Z,style:x,...(z.length||A)&&{"data-bs-popper":"static"},className:ye(e,N,R&&"show",E&&`${N}-end`,p&&`${N}-${p}`,...z)})});lA.displayName="DropdownMenu";const uA=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Nn,...a},l)=>{const c=Ie(n,"dropdown-toggle"),f=w.useContext(jh);r!==void 0&&(a.bsPrefix=r);const[p]=XC();return p.ref=nu(p.ref,oA(l)),C(i,{className:ye(t,c,e&&`${c}-split`,(f==null?void 0:f.show)&&"show"),...p,...a})});uA.displayName="DropdownToggle";const cA=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:c,onToggle:f,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:E=!0,...A}=Zl(n,{show:"onToggle"}),N=w.useContext(cv),O=Ie(t,"dropdown"),b=Vc(),B=I=>E===!1?I==="click":E==="inside"?I!=="rootClose":E==="outside"?I!=="select":!0,U=ui((I,R)=>{var P;!((P=R.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&R.source==="mousedown"||(R.originalEvent.currentTarget===document&&(R.source!=="keydown"||R.originalEvent.key==="Escape")&&(R.source="rootClose"),B(R.source)&&(f==null||f(I,R)))}),q=aA(l==="end",r,b),Z=w.useMemo(()=>({align:l,drop:r,isRTL:b}),[l,r,b]),K={down:O,"down-centered":`${O}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return C(lv.Provider,{value:Z,children:C(Fc,{placement:q,show:i,onSelect:c,onToggle:U,focusFirstItemOnShow:p,itemSelector:`.${O}-item:not(.disabled):not(:disabled)`,children:N?A.children:C(g,{...A,ref:e,className:ye(a,i&&"show",K[r])})})})});cA.displayName="Dropdown";const aa=Object.assign(cA,{Toggle:uA,Menu:lA,Item:iA,ItemText:sA,Divider:nA,Header:rA});Qn.string,Qn.bool,Qn.bool,Qn.bool,Qn.bool;const nh=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:a=!1,...l},c)=>(n=Ie(n,"img"),C("img",{ref:c,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",i&&"rounded-circle",a&&`${n}-thumbnail`)})));nh.displayName="Image";const UM={type:Qn.string,tooltip:Qn.bool,as:Qn.elementType},Hh=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},a)=>C(n,{...i,ref:a,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));Hh.displayName="Feedback";Hh.propTypes=UM;const fs=w.createContext({}),dv=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:a=!1,as:l="input",...c},f)=>{const{controlId:p}=w.useContext(fs);return e=Ie(e,"form-check-input"),C(l,{...c,ref:f,type:r,id:n||p,className:ye(t,e,i&&"is-valid",a&&"is-invalid")})});dv.displayName="FormCheckInput";const rh=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:a}=w.useContext(fs);return n=Ie(n,"form-check-label"),C("label",{...r,ref:i,htmlFor:t||a,className:ye(e,n)})});rh.displayName="FormCheckLabel";const dA=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:a=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:g,className:_,style:E,title:A="",type:N="checkbox",label:O,children:b,as:B="input",...U},z)=>{e=Ie(e,"form-check"),t=Ie(t,"form-switch");const{controlId:q}=w.useContext(fs),Z=w.useMemo(()=>({controlId:n||q}),[q,n]),K=!b&&O!=null&&O!==!1||JL(b,rh),I=C(dv,{...U,type:N==="switch"?"checkbox":N,ref:z,isValid:l,isInvalid:c,disabled:a,as:B});return C(fs.Provider,{value:Z,children:C("div",{style:E,className:ye(_,K&&e,r&&`${e}-inline`,i&&`${e}-reverse`,N==="switch"&&t),children:b||pe(hn,{children:[I,K&&C(rh,{title:A,children:O}),p&&C(Hh,{type:g,tooltip:f,children:p})]})})})});dA.displayName="FormCheck";const ih=Object.assign(dA,{Input:dv,Label:rh}),fA=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:a,isValid:l=!1,isInvalid:c=!1,plaintext:f,readOnly:p,as:g="input",..._},E)=>{const{controlId:A}=w.useContext(fs);return n=Ie(n,"form-control"),C(g,{..._,type:e,size:r,ref:E,readOnly:p,id:i||A,className:ye(a,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});fA.displayName="FormControl";const $M=Object.assign(fA,{Feedback:Hh}),hA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"form-floating"),C(t,{ref:i,className:ye(n,e),...r})));hA.displayName="FormFloating";const fv=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=w.useMemo(()=>({controlId:n}),[n]);return C(fs.Provider,{value:i,children:C(e,{...t,ref:r})})});fv.displayName="FormGroup";const pA=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:a,...l},c)=>{const{controlId:f}=w.useContext(fs);e=Ie(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=ye(i,e,r&&"visually-hidden",t&&p);return a=a||f,t?C(as,{ref:c,as:"label",className:g,htmlFor:a,...l}):C(n,{ref:c,className:g,htmlFor:a,...l})});pA.displayName="FormLabel";const mA=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:a}=w.useContext(fs);return n=Ie(n,"form-range"),C("input",{...r,type:"range",ref:i,className:ye(e,n),id:t||a})});mA.displayName="FormRange";const gA=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:a=!1,id:l,...c},f)=>{const{controlId:p}=w.useContext(fs);return n=Ie(n,"form-select"),C("select",{...c,size:t,ref:f,className:ye(r,n,e&&`${n}-${e}`,i&&"is-valid",a&&"is-invalid"),id:l||p})});gA.displayName="FormSelect";const yA=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},a)=>(n=Ie(n,"form-text"),C(t,{...i,ref:a,className:ye(e,n,r&&"text-muted")})));yA.displayName="FormText";const vA=w.forwardRef((n,e)=>C(ih,{...n,ref:e,type:"switch"}));vA.displayName="Switch";const jM=Object.assign(vA,{Input:ih.Input,Label:ih.Label}),hv=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...a},l)=>(n=Ie(n,"form-floating"),pe(fv,{ref:l,className:ye(e,n),controlId:r,...a,children:[t,C("label",{htmlFor:r,children:i})]})));hv.displayName="FloatingLabel";const FM={_ref:Qn.any,validated:Qn.bool,as:Qn.elementType},pv=w.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>C(t,{...r,ref:i,className:ye(n,e&&"was-validated")}));pv.displayName="Form";pv.propTypes=FM;const hr=Object.assign(pv,{Group:fv,Control:$M,Floating:hA,Check:ih,Switch:jM,Label:pA,Text:yA,Range:mA,Select:gA,FloatingLabel:hv}),U0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function BM(n,e){const t=U0(n),r=U0(e);return i=>{t&&t(i),r&&r(i)}}function Bc(n,e){return w.useMemo(()=>BM(n,e),[n,e])}const _A=w.createContext(null),HM=["as","active","eventKey"];function zM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function wA({key:n,onClick:e,active:t,id:r,role:i,disabled:a}){const l=w.useContext(pa),c=w.useContext(Fh),f=w.useContext(_A);let p=t;const g={role:i};if(c){!i&&c.role==="tablist"&&(g.role="tab");const _=c.getControllerId(n??null),E=c.getControlledId(n??null);g[ru("event-key")]=n,g.id=_||r,p=t==null&&n!=null?c.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(g["aria-controls"]=E)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=bn(_=>{a||(e==null||e(_),n!=null&&l&&!_.isPropagationStopped()&&l(n,_))}),[g,{isActive:p}]}const EA=w.forwardRef((n,e)=>{let{as:t=iv,active:r,eventKey:i}=n,a=zM(n,HM);const[l,c]=wA(Object.assign({key:yc(i,a.href),active:r},a));return l[ru("active")]=c.isActive,C(t,Object.assign({},a,l,{ref:e}))});EA.displayName="NavItem";const WM=["as","onSelect","activeKey","role","onKeyDown"];function qM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const $0=()=>{},j0=ru("event-key"),TA=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:a,onKeyDown:l}=n,c=qM(n,WM);const f=HC(),p=w.useRef(!1),g=w.useContext(pa),_=w.useContext(_A);let E,A;_&&(a=a||"tablist",i=_.activeKey,E=_.getControlledId,A=_.getControllerId);const N=w.useRef(null),O=z=>{const q=N.current;if(!q)return null;const Z=Ji(q,`[${j0}]:not([aria-disabled=true])`),K=q.querySelector("[aria-selected=true]");if(!K||K!==document.activeElement)return null;const I=Z.indexOf(K);if(I===-1)return null;let R=I+z;return R>=Z.length&&(R=0),R<0&&(R=Z.length-1),Z[R]},b=(z,q)=>{z!=null&&(r==null||r(z,q),g==null||g(z,q))},B=z=>{if(l==null||l(z),!_)return;let q;switch(z.key){case"ArrowLeft":case"ArrowUp":q=O(-1);break;case"ArrowRight":case"ArrowDown":q=O(1);break;default:return}q&&(z.preventDefault(),b(q.dataset[OM("EventKey")]||null,z),p.current=!0,f())};w.useEffect(()=>{if(N.current&&p.current){const z=N.current.querySelector(`[${j0}][aria-selected=true]`);z==null||z.focus()}p.current=!1});const U=Bc(e,N);return C(pa.Provider,{value:b,children:C(Fh.Provider,{value:{role:a,activeKey:yc(i),getControlledId:E||$0,getControllerId:A||$0},children:C(t,Object.assign({},c,{onKeyDown:B,ref:U,role:a}))})})});TA.displayName="Nav";const KM=Object.assign(TA,{Item:EA});var Tf;function F0(n){if((!Tf&&Tf!==0||n)&&tu){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Tf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Tf}function GM(){return w.useState(null)}function fg(n){n===void 0&&(n=eu());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function QM(n){const e=w.useRef(n);return e.current=n,e}function YM(n){const e=QM(n);w.useEffect(()=>()=>e.current(),[])}function XM(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const B0=ru("modal-open");class mv{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return XM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(os(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(B0,""),os(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(B0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const hg=(n,e)=>tu?n==null?(e||eu()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function qg(n,e){const t=Bh(),[r,i]=w.useState(()=>hg(n,t==null?void 0:t.document));if(!r){const a=hg(n);a&&i(a)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const a=hg(n);a!==r&&i(a)},[n,r]),r}function JM({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const a=w.useRef(null),l=w.useRef(e),c=bn(t);w.useEffect(()=>{e?l.current=!0:c(a.current)},[e,c]);const f=Bc(a,Ia(n)),p=w.cloneElement(n,{ref:f});return e?p:i||!l.current&&r?null:p}const ZM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function eV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function tV(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:f}=n,p=eV(n,ZM);const g=w.useRef(null),_=Bc(g,Ia(f)),E=q=>Z=>{q&&g.current&&q(g.current,Z)},A=w.useCallback(E(e),[e]),N=w.useCallback(E(t),[t]),O=w.useCallback(E(r),[r]),b=w.useCallback(E(i),[i]),B=w.useCallback(E(a),[a]),U=w.useCallback(E(l),[l]),z=w.useCallback(E(c),[c]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:A},t&&{onEntering:N},r&&{onEntered:O},i&&{onExit:b},a&&{onExiting:B},l&&{onExited:U},c&&{addEndListener:z},{children:typeof f=="function"?(q,Z)=>f(q,Object.assign({},Z,{ref:_})):w.cloneElement(f,{ref:_})})}const nV=["component"];function rV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const iV=w.forwardRef((n,e)=>{let{component:t}=n,r=rV(n,nV);const i=tV(r);return C(t,Object.assign({ref:e},i))});function sV({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),i=bn(e);return b0(()=>{if(!t.current)return;let a=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,i]),b0(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function oV({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[a,l]=w.useState(!e);e&&a&&l(!1);const c=sV({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(g,_=>{throw p.in||l(!0),_})}}),f=Bc(c,Ia(n));return a&&!e?null:w.cloneElement(n,{ref:f})}function Kg(n,e,t){return n?C(iV,Object.assign({},t,{component:n})):e?C(oV,Object.assign({},t,{transition:e})):C(JM,Object.assign({},t))}const aV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function lV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let pg;function uV(n){return pg||(pg=new mv({ownerDocument:n==null?void 0:n.document})),pg}function cV(n){const e=Bh(),t=n||uV(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:w.useCallback(i=>{r.current.backdrop=i},[])})}const IA=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:a,children:l,backdrop:c=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:E,backdropTransition:A,runBackdropTransition:N,autoFocus:O=!0,enforceFocus:b=!0,restoreFocus:B=!0,restoreFocusOptions:U,renderDialog:z,renderBackdrop:q=rt=>C("div",Object.assign({},rt)),manager:Z,container:K,onShow:I,onHide:R=()=>{},onExit:P,onExited:x,onExiting:L,onEnter:V,onEntering:D,onEntered:we}=n,Le=lV(n,aV);const He=Bh(),Ne=qg(K),ne=cV(Z),me=SC(),le=CC(t),[F,ee]=w.useState(!t),he=w.useRef(null);w.useImperativeHandle(e,()=>ne,[ne]),tu&&!le&&t&&(he.current=fg(He==null?void 0:He.document)),t&&F&&ee(!1);const ve=bn(()=>{if(ne.add(),Et.current=es(document,"keydown",je),st.current=es(document,"focus",()=>setTimeout(Ae),!0),I&&I(),O){var rt,Ft;const pn=fg((rt=(Ft=ne.dialog)==null?void 0:Ft.ownerDocument)!=null?rt:He==null?void 0:He.document);ne.dialog&&pn&&!gc(ne.dialog,pn)&&(he.current=pn,ne.dialog.focus())}}),Te=bn(()=>{if(ne.remove(),Et.current==null||Et.current(),st.current==null||st.current(),B){var rt;(rt=he.current)==null||rt.focus==null||rt.focus(U),he.current=null}});w.useEffect(()=>{!t||!Ne||ve()},[t,Ne,ve]),w.useEffect(()=>{F&&Te()},[F,Te]),YM(()=>{Te()});const Ae=bn(()=>{if(!b||!me()||!ne.isTopModal())return;const rt=fg(He==null?void 0:He.document);ne.dialog&&rt&&!gc(ne.dialog,rt)&&ne.dialog.focus()}),Ge=bn(rt=>{rt.target===rt.currentTarget&&(p==null||p(rt),c===!0&&R())}),je=bn(rt=>{f&&hC(rt)&&ne.isTopModal()&&(g==null||g(rt),rt.defaultPrevented||R())}),st=w.useRef(),Et=w.useRef(),St=(...rt)=>{ee(!0),x==null||x(...rt)};if(!Ne)return null;const it=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Le,{style:a,className:i,tabIndex:-1});let kt=z?z(it):C("div",Object.assign({},it,{children:w.cloneElement(l,{role:"document"})}));kt=Kg(_,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:L,onExited:St,onEnter:V,onEntering:D,onEntered:we,children:kt});let Kt=null;return c&&(Kt=q({ref:ne.setBackdropRef,onClick:Ge}),Kt=Kg(A,N,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Kt})),C(hn,{children:so.createPortal(pe(hn,{children:[Kt,kt]}),Ne)})});IA.displayName="Modal";const SA=Object.assign(IA,{Manager:mv});function Gg(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function dV(n,e){n.classList?n.classList.add(e):Gg(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function H0(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fV(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=H0(n.className,e):n.setAttribute("class",H0(n.className&&n.className.baseVal||"",e))}const fl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class CA extends mv{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,os(t,{[e]:`${parseFloat(os(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],os(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(dV(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ji(t,fl.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Ji(t,fl.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-e.scrollBarWidth)),Ji(t,fl.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();fV(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ji(t,fl.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Ji(t,fl.STICKY_CONTENT).forEach(a=>this.restore(i,a)),Ji(t,fl.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let mg;function AA(n){return mg||(mg=new CA(n)),mg}const RA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"modal-body"),C(t,{ref:i,className:ye(n,e),...r})));RA.displayName="ModalBody";const gv=w.createContext({onHide(){}}),yv=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:a,children:l,scrollable:c,...f},p)=>{n=Ie(n,"modal");const g=`${n}-dialog`,_=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return C("div",{...f,ref:p,className:ye(g,e,i&&`${n}-${i}`,r&&`${g}-centered`,c&&`${g}-scrollable`,a&&_),children:C("div",{className:ye(`${n}-content`,t),children:l})})});yv.displayName="ModalDialog";const bA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"modal-footer"),C(t,{ref:i,className:ye(n,e),...r})));bA.displayName="ModalFooter";const NA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...a},l)=>{const c=w.useContext(gv),f=ui(()=>{c==null||c.onHide(),r==null||r()});return pe("div",{ref:l,...a,children:[i,t&&C(jc,{"aria-label":n,variant:e,onClick:f})]})}),kA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=Ie(n,"modal-header"),C(NA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));kA.displayName="ModalHeader";const hV=$c("h4"),PA=w.forwardRef(({className:n,bsPrefix:e,as:t=hV,...r},i)=>(e=Ie(e,"modal-title"),C(t,{ref:i,className:ye(n,e),...r})));PA.displayName="ModalTitle";function pV(n){return C(_o,{...n,timeout:null})}function mV(n){return C(_o,{...n,timeout:null})}const DA=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:a,dialogAs:l=yv,"data-bs-theme":c,"aria-labelledby":f,"aria-describedby":p,"aria-label":g,show:_=!1,animation:E=!0,backdrop:A=!0,keyboard:N=!0,onEscapeKeyDown:O,onShow:b,onHide:B,container:U,autoFocus:z=!0,enforceFocus:q=!0,restoreFocus:Z=!0,restoreFocusOptions:K,onEntered:I,onExit:R,onExiting:P,onEnter:x,onEntering:L,onExited:V,backdropClassName:D,manager:we,...Le},He)=>{const[Ne,ne]=w.useState({}),[me,le]=w.useState(!1),F=w.useRef(!1),ee=w.useRef(!1),he=w.useRef(null),[ve,Te]=GM(),Ae=nu(He,Te),Ge=ui(B),je=Vc();n=Ie(n,"modal");const st=w.useMemo(()=>({onHide:Ge}),[Ge]);function Et(){return we||AA({isRTL:je})}function St($e){if(!tu)return;const mt=Et().getScrollbarWidth()>0,Ot=$e.scrollHeight>eu($e).documentElement.clientHeight;ne({paddingRight:mt&&!Ot?F0():void 0,paddingLeft:!mt&&Ot?F0():void 0})}const it=ui(()=>{ve&&St(ve.dialog)});VC(()=>{Hg(window,"resize",it),he.current==null||he.current()});const kt=()=>{F.current=!0},Kt=$e=>{F.current&&ve&&$e.target===ve.dialog&&(ee.current=!0),F.current=!1},rt=()=>{le(!0),he.current=pC(ve.dialog,()=>{le(!1)})},Ft=$e=>{$e.target===$e.currentTarget&&rt()},pn=$e=>{if(A==="static"){Ft($e);return}if(ee.current||$e.target!==$e.currentTarget){ee.current=!1;return}B==null||B()},Dr=$e=>{N?O==null||O($e):($e.preventDefault(),A==="static"&&rt())},Hn=($e,mt)=>{$e&&St($e),x==null||x($e,mt)},Bt=$e=>{he.current==null||he.current(),R==null||R($e)},Jt=($e,mt)=>{L==null||L($e,mt),Zy(window,"resize",it)},er=$e=>{$e&&($e.style.display=""),V==null||V($e),Hg(window,"resize",it)},Dn=w.useCallback($e=>C("div",{...$e,className:ye(`${n}-backdrop`,D,!E&&"show")}),[E,D,n]),Dt={...t,...Ne};Dt.display="block";const on=$e=>C("div",{role:"dialog",...$e,style:Dt,className:ye(e,n,me&&`${n}-static`,!E&&"show"),onClick:A?pn:void 0,onMouseUp:Kt,"data-bs-theme":c,"aria-label":g,"aria-labelledby":f,"aria-describedby":p,children:C(l,{...Le,onMouseDown:kt,className:r,contentClassName:i,children:a})});return C(gv.Provider,{value:st,children:C(SA,{show:_,ref:Ae,backdrop:A,container:U,keyboard:!0,autoFocus:z,enforceFocus:q,restoreFocus:Z,restoreFocusOptions:K,onEscapeKeyDown:Dr,onShow:b,onHide:B,onEnter:Hn,onEntering:Jt,onEntered:I,onExit:Bt,onExiting:P,onExited:er,manager:Et(),transition:E?pV:void 0,backdropTransition:E?mV:void 0,renderBackdrop:Dn,renderDialog:on})})});DA.displayName="Modal";const oi=Object.assign(DA,{Body:RA,Header:kA,Title:PA,Footer:bA,Dialog:yv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),OA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"nav-item"),C(t,{ref:i,className:ye(n,e),...r})));OA.displayName="NavItem";const vv=w.forwardRef(({bsPrefix:n,className:e,as:t=Ml,active:r,eventKey:i,disabled:a=!1,...l},c)=>{n=Ie(n,"nav-link");const[f,p]=wA({key:yc(i,l.href),active:r,disabled:a,...l});return C(t,{...l,...f,ref:c,disabled:a,className:ye(e,n,a&&"disabled",p.isActive&&"active")})});vv.displayName="NavLink";const xA=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:a=!1,justify:l=!1,navbar:c,navbarScroll:f,className:p,activeKey:g,..._}=Zl(n,{activeKey:"onSelect"}),E=Ie(r,"nav");let A,N,O=!1;const b=w.useContext(Ca),B=w.useContext(ov);return b?(A=b.bsPrefix,O=c??!0):B&&({cardHeaderBsPrefix:N}=B),C(KM,{as:t,ref:e,activeKey:g,className:ye(p,{[E]:!O,[`${A}-nav`]:O,[`${A}-nav-scroll`]:O&&f,[`${N}-${i}`]:!!N,[`${E}-${i}`]:!!i,[`${E}-fill`]:a,[`${E}-justified`]:l}),..._})});xA.displayName="Nav";const z0=Object.assign(xA,{Item:OA,Link:vv}),LA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=Ie(n,"navbar-brand");const a=t||(r.href?"a":"span");return C(a,{...r,ref:i,className:ye(e,n)})});LA.displayName="NavbarBrand";const MA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Ie(e,"navbar-collapse");const i=w.useContext(Ca);return C(mC,{in:!!(i&&i.expanded),...t,children:C("div",{ref:r,className:e,children:n})})});MA.displayName="NavbarCollapse";const VA=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:a,...l},c)=>{n=Ie(n,"navbar-toggler");const{onToggle:f,expanded:p}=w.useContext(Ca)||{},g=ui(_=>{a&&a(_),f&&f()});return i==="button"&&(l.type="button"),C(i,{...l,ref:c,onClick:g,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||C("span",{className:`${n}-icon`})})});VA.displayName="NavbarToggle";const Qg=new WeakMap,W0=(n,e)=>{if(!n||!e)return;const t=Qg.get(e)||new Map;Qg.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function gV(n,e=typeof window>"u"?void 0:window){const t=W0(n,e),[r,i]=w.useState(()=>t?t.matches:!1);return uv(()=>{let a=W0(n,e);if(!a)return i(!1);let l=Qg.get(e);const c=()=>{i(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function yV(n){const e=Object.keys(n);function t(c,f){return c===f?f:c?`${c} and ${f}`:f}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function i(c){const f=r(c);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(c){let f=n[c];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function l(c,f,p){let g;typeof c=="object"?(g=c,p=f,f=!0):(f=f||!0,g={[c]:f});let _=w.useMemo(()=>Object.entries(g).reduce((E,[A,N])=>((N==="up"||N===!0)&&(E=t(E,a(A))),(N==="down"||N===!0)&&(E=t(E,i(A))),E),""),[JSON.stringify(g)]);return gV(_,p)}return l}const vV=yV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),UA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"offcanvas-body"),C(t,{ref:i,className:ye(n,e),...r})));UA.displayName="OffcanvasBody";const _V={[li]:"show",[Zi]:"show"},$A=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:a=!1,appear:l=!1,...c},f)=>(n=Ie(n,"offcanvas"),C(Uh,{ref:f,addEndListener:Vh,in:r,mountOnEnter:i,unmountOnExit:a,appear:l,...c,childRef:Ia(t),children:(p,g)=>w.cloneElement(t,{...g,className:ye(e,t.props.className,(p===li||p===pc)&&`${n}-toggling`,_V[p])})})));$A.displayName="OffcanvasToggling";const jA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=Ie(n,"offcanvas-header"),C(NA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));jA.displayName="OffcanvasHeader";const wV=$c("h5"),FA=w.forwardRef(({className:n,bsPrefix:e,as:t=wV,...r},i)=>(e=Ie(e,"offcanvas-title"),C(t,{ref:i,className:ye(n,e),...r})));FA.displayName="OffcanvasTitle";function EV(n){return C($A,{...n})}function TV(n){return C(_o,{...n})}const BA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:a,show:l=!1,backdrop:c=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:E,container:A,autoFocus:N=!0,enforceFocus:O=!0,restoreFocus:b=!0,restoreFocusOptions:B,onEntered:U,onExit:z,onExiting:q,onEnter:Z,onEntering:K,onExited:I,backdropClassName:R,manager:P,renderStaticNode:x=!1,...L},V)=>{const D=w.useRef();n=Ie(n,"offcanvas");const[we,Le]=w.useState(!1),He=ui(E),Ne=vV(a||"xs","up");w.useEffect(()=>{Le(a?l&&!Ne:l)},[l,a,Ne]);const ne=w.useMemo(()=>({onHide:He}),[He]);function me(){return P||(p?(D.current||(D.current=new CA({handleContainerOverflow:!1})),D.current):AA())}const le=(ve,...Te)=>{ve&&(ve.style.visibility="visible"),Z==null||Z(ve,...Te)},F=(ve,...Te)=>{ve&&(ve.style.visibility=""),I==null||I(...Te)},ee=w.useCallback(ve=>C("div",{...ve,className:ye(`${n}-backdrop`,R)}),[R,n]),he=ve=>C("div",{...ve,...L,className:ye(e,a?`${n}-${a}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return pe(hn,{children:[!we&&(a||x)&&he({}),C(gv.Provider,{value:ne,children:C(SA,{show:we,ref:V,backdrop:c,container:A,keyboard:f,autoFocus:N,enforceFocus:O&&!p,restoreFocus:b,restoreFocusOptions:B,onEscapeKeyDown:g,onShow:_,onHide:He,onEnter:le,onEntering:K,onEntered:U,onExit:z,onExiting:q,onExited:F,manager:me(),transition:EV,backdropTransition:TV,renderBackdrop:ee,renderDialog:he})})]})});BA.displayName="Offcanvas";const IV=Object.assign(BA,{Body:UA,Header:jA,Title:FA}),HA=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(Ca),i=ui(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return C(IV,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});HA.displayName="NavbarOffcanvas";const zA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ie(e,"navbar-text"),C(t,{ref:i,className:ye(n,e),...r})));zA.displayName="NavbarText";const WA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:a,fixed:l,sticky:c,className:f,as:p="nav",expanded:g,onToggle:_,onSelect:E,collapseOnSelect:A=!1,...N}=Zl(n,{expanded:"onToggle"}),O=Ie(t,"navbar"),b=w.useCallback((...z)=>{E==null||E(...z),A&&g&&(_==null||_(!1))},[E,A,g,_]);N.role===void 0&&p!=="nav"&&(N.role="navigation");let B=`${O}-expand`;typeof r=="string"&&(B=`${B}-${r}`);const U=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:O,expanded:!!g,expand:r}),[O,g,r,_]);return C(Ca.Provider,{value:U,children:C(pa.Provider,{value:b,children:C(p,{ref:e,...N,className:ye(f,O,r&&B,i&&`${O}-${i}`,a&&`bg-${a}`,c&&`sticky-${c}`,l&&`fixed-${l}`)})})})});WA.displayName="Navbar";const If=Object.assign(WA,{Brand:LA,Collapse:MA,Offcanvas:HA,Text:zA,Toggle:VA}),qA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:i,rootCloseEvent:a,menuRole:l,disabled:c,active:f,renderMenuOnMount:p,menuVariant:g,..._},E)=>{const A=Ie(void 0,"nav-item");return pe(aa,{ref:E,..._,className:ye(i,A),children:[C(aa.Toggle,{id:n,eventKey:null,active:f,disabled:c,childBsPrefix:r,as:vv,children:e}),C(aa.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:g,children:t})]})});qA.displayName="NavDropdown";const Ku=Object.assign(qA,{Item:aa.Item,ItemText:aa.ItemText,Divider:aa.Divider,Header:aa.Header}),SV=()=>{};function CV(n,e,{disabled:t,clickTrigger:r}={}){const i=e||SV;WC(n,i,{disabled:t,clickTrigger:r});const a=bn(l=>{hC(l)&&i(l)});w.useEffect(()=>{if(t||n==null)return;const l=eu(Vf(n));let c=(l.defaultView||window).event;const f=es(l,"keyup",p=>{if(p===c){c=void 0;return}a(p)});return()=>{f()}},[n,t,a])}const KA=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:i,containerPadding:a,popperConfig:l={},transition:c,runTransition:f}=n,[p,g]=zg(),[_,E]=zg(),A=Bc(g,e),N=qg(n.container),O=qg(n.target),[b,B]=w.useState(!n.show),U=zC(O,p,qC({placement:i,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:_,popperConfig:l}));n.show&&b&&B(!1);const z=(...L)=>{B(!0),n.onExited&&n.onExited(...L)},q=n.show||!b;if(CV(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!q)return null;const{onExit:Z,onExiting:K,onEnter:I,onEntering:R,onEntered:P}=n;let x=n.children(Object.assign({},U.attributes.popper,{style:U.styles.popper,ref:A}),{popper:U,placement:i,show:!!n.show,arrowProps:Object.assign({},U.attributes.arrow,{style:U.styles.arrow,ref:E})});return x=Kg(c,f,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:x,onExit:Z,onExiting:K,onExited:z,onEnter:I,onEntering:R,onEntered:P}),N?so.createPortal(x,N):null});KA.displayName="Overlay";const GA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"popover-header"),C(t,{ref:i,className:ye(n,e),...r})));GA.displayName="PopoverHeader";const _v=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"popover-body"),C(t,{ref:i,className:ye(n,e),...r})));_v.displayName="PopoverBody";function QA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function YA(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const AV=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,body:a,arrowProps:l,hasDoneInitialMeasure:c,popper:f,show:p,...g},_)=>{const E=Ie(n,"popover"),A=Vc(),[N]=(e==null?void 0:e.split("-"))||[],O=QA(N,A);let b=r;return p&&!c&&(b={...r,...YA(f==null?void 0:f.strategy)}),pe("div",{ref:_,role:"tooltip",style:b,"x-placement":N,className:ye(t,E,N&&`bs-popover-${O}`),...g,children:[C("div",{className:"popover-arrow",...l}),a?C(_v,{children:i}):i]})}),RV=Object.assign(AV,{Header:GA,Body:_v,POPPER_OFFSET:[0,8]}),XA=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,arrowProps:a,hasDoneInitialMeasure:l,popper:c,show:f,...p},g)=>{n=Ie(n,"tooltip");const _=Vc(),[E]=(e==null?void 0:e.split("-"))||[],A=QA(E,_);let N=r;return f&&!l&&(N={...r,...YA(c==null?void 0:c.strategy)}),pe("div",{ref:g,style:N,role:"tooltip","x-placement":E,className:ye(t,n,`bs-tooltip-${A}`),...p,children:[C("div",{className:"tooltip-arrow",...a}),C("div",{className:`${n}-inner`,children:i})]})});XA.displayName="Tooltip";const JA=Object.assign(XA,{TOOLTIP_OFFSET:[0,6]});function bV(n){const e=w.useRef(null),t=Ie(void 0,"popover"),r=Ie(void 0,"tooltip"),i=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Gg(e.current,t))return RV.POPPER_OFFSET;if(Gg(e.current,r))return JA.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[i]]}function NV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=i=>t(th(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(th(i)))}const ZA=w.forwardRef(({children:n,transition:e=_o,popperConfig:t={},rootClose:r=!1,placement:i="top",show:a=!1,...l},c)=>{const f=w.useRef({}),[p,g]=w.useState(null),[_,E]=bV(l.offset),A=nu(c,_),N=e===!0?_o:e||void 0,O=ui(b=>{g(b),t==null||t.onFirstUpdate==null||t.onFirstUpdate(b)});return uv(()=>{p&&l.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{a||g(null)},[a]),C(KA,{...l,ref:A,popperConfig:{...t,modifiers:E.concat(t.modifiers||[]),onFirstUpdate:O},transition:N,rootClose:r,placement:i,show:a,children:(b,{arrowProps:B,popper:U,show:z})=>{var q;NV(b,B);const Z=U==null?void 0:U.placement,K=Object.assign(f.current,{state:U==null?void 0:U.state,scheduleUpdate:U==null?void 0:U.update,placement:Z,outOfBoundaries:(U==null||(q=U.state)==null||(q=q.modifiersData.hide)==null?void 0:q.isReferenceHidden)||!1,strategy:t.strategy}),I=!!p;return typeof n=="function"?n({...b,placement:Z,show:z,...!e&&z&&{className:"show"},popper:K,arrowProps:B,hasDoneInitialMeasure:I}):w.cloneElement(n,{...b,placement:Z,arrowProps:B,popper:K,hasDoneInitialMeasure:I,className:ye(n.props.className,!e&&z&&"show"),style:{...n.props.style,...b.style}})}})});ZA.displayName="Overlay";function kV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function q0(n,e,t){const[r]=e,i=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==i)&&!gc(i,a)&&n(...e)}Qn.oneOf(["click","hover","focus"]);const PV=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:i,defaultShow:a=!1,onToggle:l,delay:c,placement:f,flip:p=f&&f.indexOf("auto")!==-1,...g})=>{const _=w.useRef(null),E=nu(_,Ia(t)),A=$C(),N=w.useRef(""),[O,b]=lC(i,a,l),B=kV(c),{onFocus:U,onBlur:z,onClick:q}=typeof t!="function"?w.Children.only(t).props:{},Z=Le=>{E(th(Le))},K=w.useCallback(()=>{if(A.clear(),N.current="show",!B.show){b(!0);return}A.set(()=>{N.current==="show"&&b(!0)},B.show)},[B.show,b,A]),I=w.useCallback(()=>{if(A.clear(),N.current="hide",!B.hide){b(!1);return}A.set(()=>{N.current==="hide"&&b(!1)},B.hide)},[B.hide,b,A]),R=w.useCallback((...Le)=>{K(),U==null||U(...Le)},[K,U]),P=w.useCallback((...Le)=>{I(),z==null||z(...Le)},[I,z]),x=w.useCallback((...Le)=>{b(!O),q==null||q(...Le)},[q,b,O]),L=w.useCallback((...Le)=>{q0(K,Le,"fromElement")},[K]),V=w.useCallback((...Le)=>{q0(I,Le,"toElement")},[I]),D=n==null?[]:[].concat(n),we={ref:Z};return D.indexOf("click")!==-1&&(we.onClick=x),D.indexOf("focus")!==-1&&(we.onFocus=R,we.onBlur=P),D.indexOf("hover")!==-1&&(we.onMouseOver=L,we.onMouseOut=V),pe(hn,{children:[typeof t=="function"?t(we):w.cloneElement(t,we),C(ZA,{...g,show:O,onHide:I,flip:p,placement:f,popperConfig:r,target:_.current,children:e})]})},ls=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=Ie(n,"row"),l=uC(),c=cC(),f=`${a}-cols`,p=[];return l.forEach(g=>{const _=r[g];delete r[g];let E;_!=null&&typeof _=="object"?{cols:E}=_:E=_;const A=g!==c?`-${g}`:"";E!=null&&p.push(`${f}${A}-${E}`)}),C(t,{ref:i,...r,className:ye(e,a,...p)})});ls.displayName="Row";const zh=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:a,...l},c)=>{n=Ie(n,"spinner");const f=`${n}-${t}`;return C(i,{ref:c,...l,className:ye(a,f,r&&`${f}-${r}`,e&&`text-${e}`)})});zh.displayName="Spinner";function Ee(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function f(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):i(g.value).then(c,f)}p((r=r.apply(n,[])).next())})}function DV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let Fe=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};Fe.equal=(n,e)=>new Fe("equal",n,e).toString();Fe.notEqual=(n,e)=>new Fe("notEqual",n,e).toString();Fe.lessThan=(n,e)=>new Fe("lessThan",n,e).toString();Fe.lessThanEqual=(n,e)=>new Fe("lessThanEqual",n,e).toString();Fe.greaterThan=(n,e)=>new Fe("greaterThan",n,e).toString();Fe.greaterThanEqual=(n,e)=>new Fe("greaterThanEqual",n,e).toString();Fe.isNull=n=>new Fe("isNull",n).toString();Fe.isNotNull=n=>new Fe("isNotNull",n).toString();Fe.between=(n,e,t)=>new Fe("between",n,[e,t]).toString();Fe.startsWith=(n,e)=>new Fe("startsWith",n,e).toString();Fe.endsWith=(n,e)=>new Fe("endsWith",n,e).toString();Fe.select=n=>new Fe("select",void 0,n).toString();Fe.search=(n,e)=>new Fe("search",n,e).toString();Fe.orderDesc=n=>new Fe("orderDesc",n).toString();Fe.orderAsc=n=>new Fe("orderAsc",n).toString();Fe.cursorAfter=n=>new Fe("cursorAfter",void 0,n).toString();Fe.cursorBefore=n=>new Fe("cursorBefore",void 0,n).toString();Fe.limit=n=>new Fe("limit",void 0,n).toString();Fe.offset=n=>new Fe("offset",void 0,n).toString();Fe.contains=(n,e)=>new Fe("contains",n,e).toString();Fe.or=n=>new Fe("or",void 0,n.map(e=>JSON.parse(e))).toString();Fe.and=n=>new Fe("and",void 0,n.map(e=>JSON.parse(e))).toString();class oe extends Error{constructor(e,t=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=i}}class Hr{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(l=>{i.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+i.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var c,f,p;if(!this.realtime.reconnect||((f=(c=this.realtime)===null||c===void 0?void 0:c.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const g=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${g/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},g)}))},onMessage:e=>{var t,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],c=i.data;l&&!c.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let f=i.data;if(f!=null&&f.channels){if(!f.channels.some(g=>this.realtime.channels.has(g)))return;this.realtime.subscriptions.forEach(g=>{f.channels.some(_=>g.channels.includes(_))&&setTimeout(()=>g.callback(f))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,c]of Object.entries(Hr.flatten(i)))t.searchParams.append(l,c);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(i);break;case"multipart/form-data":const l=new FormData;for(const[c,f]of Object.entries(i))if(f instanceof File)l.append(c,f,f.name);else if(Array.isArray(f))for(const p of f)l.append(`${c}[]`,p);else l.append(c,f);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},i={},a){return Ee(this,void 0,void 0,function*(){const l=Object.values(i).find(p=>p instanceof File);if(l.size<=Hr.CHUNK_SIZE)return yield this.call(e,t,r,i);let c=0,f=null;for(;c<l.size;){let p=c+Hr.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${c}-${p-1}/${l.size}`;const g=l.slice(c,p);let _=Object.assign(Object.assign({},i),{file:new File([g],l.name)});f=yield this.call(e,t,r,_),a&&typeof a=="function"&&a({$id:f.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/Hr.CHUNK_SIZE),chunksUploaded:Math.ceil(p/Hr.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),c=p}return f})}ping(){return Ee(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},i={},a="json"){var l;return Ee(this,void 0,void 0,function*(){const{uri:c,options:f}=this.prepareRequest(e,t,r,i);let p=null;const g=yield fetch(c,f),_=g.headers.get("x-appwrite-warning");if(_&&_.split(";").forEach(A=>console.warn("Warning: "+A)),!((l=g.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield g.json():a==="arrayBuffer"?p=yield g.arrayBuffer():p={message:yield g.text()},400<=g.status)throw new oe(p==null?void 0:p.message,g.status,p==null?void 0:p.type,p);const E=g.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&E&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",E)),p})}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),Hr.flatten(a,l)):r[l]=a}return r}}Hr.CHUNK_SIZE=1024*1024*5;class co{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),co.flatten(a,l)):r[l]=a}return r}}co.CHUNK_SIZE=5*1024*1024;class OV{constructor(e){this.client=e}get(){return Ee(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}create(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');if(typeof r>"u")throw new oe('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof i<"u"&&(l.name=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}updateEmail(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}listIdentities(e){return Ee(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}deleteIdentity(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createJWT(){return Ee(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}listLogs(e){return Ee(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateMFA(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaAuthenticator(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');if(typeof t>"u")throw new oe('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deleteMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createMfaChallenge(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaChallenge(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "challengeId"');if(typeof t>"u")throw new oe('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}listMfaFactors(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}getMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}createMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updateMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}updateName(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}updatePassword(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}updatePhone(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "phone"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}getPrefs(){return Ee(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}updatePrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createRecovery(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateRecovery(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');if(typeof r>"u")throw new oe('Missing required parameter: "password"');const i="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("put",l,c,a)})}listSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}deleteSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,t)})}createAnonymousSession(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}createEmailPasswordSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateMagicURLSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createOAuth2Session(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(co.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}updatePhoneSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}getSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}deleteSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}updateStatus(){return Ee(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}createPushTarget(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');if(typeof t>"u")throw new oe('Missing required parameter: "identifier"');const i="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}updatePushTarget(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');if(typeof t>"u")throw new oe('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof t<"u"&&(i.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deletePushTarget(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createEmailToken(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');const i="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}createMagicURLToken(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof i<"u"&&(l.phrase=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}createOAuth2Token(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(co.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}createPhoneToken(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}createVerification(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createPhoneVerification(){return Ee(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updatePhoneVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}class xV{constructor(e){this.client=e}listDocuments(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createDocument(e,t,r,i,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');if(typeof i>"u")throw new oe('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),c={};typeof r<"u"&&(c.documentId=r),typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",f,p,c)})}getDocument(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof i<"u"&&(l.queries=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("get",c,f,l)})}updateDocument(e,t,r,i,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),c={};typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",f,p,c)})}deleteDocument(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("delete",l,c,a)})}}class LV{constructor(e){this.client=e}listFiles(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createFile(e,t,r,i,a=l=>{}){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');if(typeof r>"u")throw new oe('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),c={};typeof t<"u"&&(c.fileId=t),typeof r<"u"&&(c.file=r),typeof i<"u"&&(c.permissions=i);const f=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,p,c,a)})}getFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateFile(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof i<"u"&&(l.permissions=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("put",c,f,l)})}deleteFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}getFileDownload(e,t){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(co.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Hr.flatten(i)))a.searchParams.append(l,c);return a.toString()}getFilePreview(e,t,r,i,a,l,c,f,p,g,_,E,A){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const N="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),O={};typeof r<"u"&&(O.width=r),typeof i<"u"&&(O.height=i),typeof a<"u"&&(O.gravity=a),typeof l<"u"&&(O.quality=l),typeof c<"u"&&(O.borderWidth=c),typeof f<"u"&&(O.borderColor=f),typeof p<"u"&&(O.borderRadius=p),typeof g<"u"&&(O.opacity=g),typeof _<"u"&&(O.rotation=_),typeof E<"u"&&(O.background=E),typeof A<"u"&&(O.output=A);const b=new URL(this.client.config.endpoint+N);O.project=this.client.config.project;for(const[B,U]of Object.entries(co.flatten(O)))b.searchParams.append(B,U);O.project=this.client.config.project;for(const[B,U]of Object.entries(Hr.flatten(O)))b.searchParams.append(B,U);return b.toString()}getFileView(e,t){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(co.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Hr.flatten(i)))a.searchParams.append(l,c);return a.toString()}}class MV{constructor(e){this.client=e}list(e,t){return Ee(this,void 0,void 0,function*(){const r="/teams",i={};typeof e<"u"&&(i.queries=e),typeof t<"u"&&(i.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}create(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "name"');const i="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}get(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateName(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),i={};typeof t<"u"&&(i.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}delete(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}listMemberships(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const i="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createMembership(e,t,r,i,a,l,c){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof i<"u"&&(p.userId=i),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof c<"u"&&(p.name=c);const g=new URL(this.client.config.endpoint+f),_={"content-type":"application/json"};return yield this.client.call("post",g,_,p)})}getMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateMembership(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');if(typeof r>"u")throw new oe('Missing required parameter: "roles"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("patch",l,c,a)})}deleteMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}updateMembershipStatus(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');if(typeof r>"u")throw new oe('Missing required parameter: "userId"');if(typeof i>"u")throw new oe('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("patch",c,f,l)})}getPrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updatePrefs(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),i={};typeof t<"u"&&(i.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}var eR,tR;class Vl{static custom(e){return e}static unique(e=7){const t=DV(Vl,eR,"m",tR).call(Vl);let r="";for(let i=0;i<e;i++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}eR=Vl,tR=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var K0;(function(n){n.Totp="totp"})(K0||(K0={}));var G0;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(G0||(G0={}));var Yg;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(Yg||(Yg={}));var Q0;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(Q0||(Q0={}));var Y0;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(Y0||(Y0={}));var X0;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(X0||(X0={}));var J0;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(J0||(J0={}));var Z0;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(Z0||(Z0={}));var eT;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(eT||(eT={}));const Hc=new Hr;Hc.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const iu=new LV(Hc),vc=new OV(Hc),yr=new xV(Hc),VV=new MV(Hc);async function UV(){return{session:await vc.getSession("current")}}const Wh=async()=>{try{return await vc.get()}catch(n){console.error(n)}};async function $V(){await vc.deleteSession("current"),console.log("log out")}async function ao(){const n=await Wh();return n?jV(n):(console.error("User data is undefined"),null)}function jV(n){return{name:n.name,$id:n.$id,email:n.email}}async function FV(){return{teams:(await VV.list()).teams}}const nR=w.createContext(void 0),BV=({children:n})=>{const e=HV();return C(nR.Provider,{value:e,children:n})};function HV(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const f=await UV();e(f.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:f}=await FV(),p=!!f.find(g=>g.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function i(){await vc.createOAuth2Session(Yg.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery")}async function a(c,f){try{await vc.createEmailPasswordSession(c,f)}catch(p){console.error(p)}}async function l(){await $V(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:i,logInAdmin:a}}function wo(){const n=w.useContext(nR);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jt.apply(this,arguments)}var rn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rn||(rn={}));const tT="popstate";function zV(n){n===void 0&&(n={});function e(i,a){let{pathname:l="/",search:c="",hash:f=""}=Ts(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),_c("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");c=p===-1?f:f.slice(0,p)}return c+"#"+(typeof a=="string"?a:ga(a))}function r(i,a){ma(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return qV(e,t,r,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ma(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WV(){return Math.random().toString(36).substr(2,8)}function nT(n,e){return{usr:n.state,key:n.key,idx:e}}function _c(n,e,t,r){return t===void 0&&(t=null),jt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ts(e):e,{state:t,key:e&&e.key||r||WV()})}function ga(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ts(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function qV(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c=rn.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(jt({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){c=rn.Pop;let b=g(),B=b==null?null:b-p;p=b,f&&f({action:c,location:O.location,delta:B})}function E(b,B){c=rn.Push;let U=_c(O.location,b,B);t&&t(U,b),p=g()+1;let z=nT(U,p),q=O.createHref(U);try{l.pushState(z,"",q)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(q)}a&&f&&f({action:c,location:O.location,delta:1})}function A(b,B){c=rn.Replace;let U=_c(O.location,b,B);t&&t(U,b),p=g();let z=nT(U,p),q=O.createHref(U);l.replaceState(z,"",q),a&&f&&f({action:c,location:O.location,delta:0})}function N(b){let B=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof b=="string"?b:ga(b);return U=U.replace(/ $/,"%20"),ut(B,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,B)}let O={get action(){return c},get location(){return n(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(tT,_),f=b,()=>{i.removeEventListener(tT,_),f=null}},createHref(b){return e(i,b)},createURL:N,encodeLocation(b){let B=N(b);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:A,go(b){return l.go(b)}};return O}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const KV=new Set(["lazy","caseSensitive","path","id","index","children"]);function GV(n){return n.index===!0}function sh(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,a)=>{let l=[...t,String(a)],c=typeof i.id=="string"?i.id:l.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),GV(i)){let f=jt({},i,e(i),{id:c});return r[c]=f,f}else{let f=jt({},i,e(i),{id:c,children:void 0});return r[c]=f,i.children&&(f.children=sh(i.children,e,l,r)),f}})}function ra(n,e,t){return t===void 0&&(t="/"),Uf(n,e,t,!1)}function Uf(n,e,t,r){let i=typeof e=="string"?Ts(e):e,a=hs(i.pathname||"/",t);if(a==null)return null;let l=rR(n);YV(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=a2(a);c=s2(l[f],p,r)}return c}function QV(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function rR(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=us([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),rR(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:r2(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of iR(a.path))i(a,l,f)}),e}function iR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=iR(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function YV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:i2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const XV=/^:[\w-]+$/,JV=3,ZV=2,e2=1,t2=10,n2=-2,rT=n=>n==="*";function r2(n,e){let t=n.split("/"),r=t.length;return t.some(rT)&&(r+=n2),e&&(r+=ZV),t.filter(i=>!rT(i)).reduce((i,a)=>i+(XV.test(a)?JV:a===""?e2:t2),r)}function i2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function s2(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=oh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=oh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:us([a,_.pathname]),pathnameBase:c2(us([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=us([a,_.pathnameBase]))}return l}function oh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=o2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:E,isOptional:A}=g;if(E==="*"){let O=c[_]||"";l=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const N=c[_];return A&&!N?p[E]=void 0:p[E]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function o2(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ma(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function a2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ma(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function hs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function l2(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ts(n):n;return{pathname:t?t.startsWith("/")?t:u2(t,e):e,search:d2(r),hash:f2(i)}}function u2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function gg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wv(n,e){let t=sR(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Ev(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Ts(n):(i=jt({},n),ut(!i.pathname||!i.pathname.includes("?"),gg("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),gg("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),gg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}c=_>=0?e[_]:"/"}let f=l2(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const us=n=>n.join("/").replace(/\/\/+/g,"/"),c2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),d2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,f2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class ah{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function wc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const oR=["post","put","patch","delete"],h2=new Set(oR),p2=["get",...oR],m2=new Set(p2),g2=new Set([301,302,303,307,308]),y2=new Set([307,308]),yg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},v2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_2=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),aR="remix-router-transitions";function w2(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let $=n.detectErrorBoundary;i=W=>({hasErrorBoundary:$(W)})}else i=_2;let a={},l=sh(n.routes,i,void 0,a),c,f=n.basename||"/",p=n.dataStrategy||S2,g=n.patchRoutesOnNavigation,_=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),E=null,A=new Set,N=null,O=null,b=null,B=n.hydrationData!=null,U=ra(l,n.history.location,f),z=!1,q=null;if(U==null&&!g){let $=fr(404,{pathname:n.history.location.pathname}),{matches:W,route:X}=pT(l);U=W,q={[X.id]:$}}U&&!n.hydrationData&&mi(U,l,n.history.location.pathname).active&&(U=null);let Z;if(U)if(U.some($=>$.route.lazy))Z=!1;else if(!U.some($=>$.route.loader))Z=!0;else if(_.v7_partialHydration){let $=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let X=U.findIndex(re=>W[re.route.id]!==void 0);Z=U.slice(0,X+1).every(re=>!Jg(re.route,$,W))}else Z=U.every(X=>!Jg(X.route,$,W))}else Z=n.hydrationData!=null;else if(Z=!1,U=[],_.v7_partialHydration){let $=mi(null,l,n.history.location.pathname);$.active&&$.matches&&(z=!0,U=$.matches)}let K,I={historyAction:n.history.action,location:n.history.location,matches:U,initialized:Z,navigation:yg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||q,fetchers:new Map,blockers:new Map},R=rn.Pop,P=!1,x,L=!1,V=new Map,D=null,we=!1,Le=!1,He=[],Ne=new Set,ne=new Map,me=0,le=-1,F=new Map,ee=new Set,he=new Map,ve=new Map,Te=new Set,Ae=new Map,Ge=new Map,je;function st(){if(E=n.history.listen($=>{let{action:W,location:X,delta:re}=$;if(je){je(),je=void 0;return}ma(Ge.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=Ui({currentLocation:I.location,nextLocation:X,historyAction:W});if(_e&&re!=null){let ke=new Promise(Qe=>{je=Qe});n.history.go(re*-1),Gr(_e,{state:"blocked",location:X,proceed(){Gr(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ke.then(()=>n.history.go(re))},reset(){let Qe=new Map(I.blockers);Qe.set(_e,Gu),it({blockers:Qe})}});return}return Ft(W,X)}),t){U2(e,V);let $=()=>$2(e,V);e.addEventListener("pagehide",$),D=()=>e.removeEventListener("pagehide",$)}return I.initialized||Ft(rn.Pop,I.location,{initialHydration:!0}),K}function Et(){E&&E(),D&&D(),A.clear(),x&&x.abort(),I.fetchers.forEach(($,W)=>Wn(W)),I.blockers.forEach(($,W)=>hi(W))}function St($){return A.add($),()=>A.delete($)}function it($,W){W===void 0&&(W={}),I=jt({},I,$);let X=[],re=[];_.v7_fetcherPersist&&I.fetchers.forEach((_e,ke)=>{_e.state==="idle"&&(Te.has(ke)?re.push(ke):X.push(ke))}),Te.forEach(_e=>{!I.fetchers.has(_e)&&!ne.has(_e)&&re.push(_e)}),[...A].forEach(_e=>_e(I,{deletedFetchers:re,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),_.v7_fetcherPersist?(X.forEach(_e=>I.fetchers.delete(_e)),re.forEach(_e=>Wn(_e))):re.forEach(_e=>Te.delete(_e))}function kt($,W,X){var re,_e;let{flushSync:ke}=X===void 0?{}:X,Qe=I.actionData!=null&&I.navigation.formMethod!=null&&ai(I.navigation.formMethod)&&I.navigation.state==="loading"&&((re=$.state)==null?void 0:re._isRedirect)!==!0,Pe;W.actionData?Object.keys(W.actionData).length>0?Pe=W.actionData:Pe=null:Qe?Pe=I.actionData:Pe=null;let Re=W.loaderData?fT(I.loaderData,W.loaderData,W.matches||[],W.errors):I.loaderData,Se=I.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Je,Gt)=>Se.set(Gt,Gu)));let De=P===!0||I.navigation.formMethod!=null&&ai(I.navigation.formMethod)&&((_e=$.state)==null?void 0:_e._isRedirect)!==!0;c&&(l=c,c=void 0),we||R===rn.Pop||(R===rn.Push?n.history.push($,$.state):R===rn.Replace&&n.history.replace($,$.state));let et;if(R===rn.Pop){let Je=V.get(I.location.pathname);Je&&Je.has($.pathname)?et={currentLocation:I.location,nextLocation:$}:V.has($.pathname)&&(et={currentLocation:$,nextLocation:I.location})}else if(L){let Je=V.get(I.location.pathname);Je?Je.add($.pathname):(Je=new Set([$.pathname]),V.set(I.location.pathname,Je)),et={currentLocation:I.location,nextLocation:$}}it(jt({},W,{actionData:Pe,loaderData:Re,historyAction:R,location:$,initialized:!0,navigation:yg,revalidation:"idle",restoreScrollPosition:pi($,W.matches||I.matches),preventScrollReset:De,blockers:Se}),{viewTransitionOpts:et,flushSync:ke===!0}),R=rn.Pop,P=!1,L=!1,we=!1,Le=!1,He=[]}async function Kt($,W){if(typeof $=="number"){n.history.go($);return}let X=Xg(I.location,I.matches,f,_.v7_prependBasename,$,_.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:re,submission:_e,error:ke}=iT(_.v7_normalizeFormMethod,!1,X,W),Qe=I.location,Pe=_c(I.location,re,W&&W.state);Pe=jt({},Pe,n.history.encodeLocation(Pe));let Re=W&&W.replace!=null?W.replace:void 0,Se=rn.Push;Re===!0?Se=rn.Replace:Re===!1||_e!=null&&ai(_e.formMethod)&&_e.formAction===I.location.pathname+I.location.search&&(Se=rn.Replace);let De=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,et=(W&&W.flushSync)===!0,Je=Ui({currentLocation:Qe,nextLocation:Pe,historyAction:Se});if(Je){Gr(Je,{state:"blocked",location:Pe,proceed(){Gr(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),Kt($,W)},reset(){let Gt=new Map(I.blockers);Gt.set(Je,Gu),it({blockers:Gt})}});return}return await Ft(Se,Pe,{submission:_e,pendingError:ke,preventScrollReset:De,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:et})}function rt(){if(mt(),it({revalidation:"loading"}),I.navigation.state!=="submitting"){if(I.navigation.state==="idle"){Ft(I.historyAction,I.location,{startUninterruptedRevalidation:!0});return}Ft(R||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:L===!0})}}async function Ft($,W,X){x&&x.abort(),x=null,R=$,we=(X&&X.startUninterruptedRevalidation)===!0,Lo(I.location,I.matches),P=(X&&X.preventScrollReset)===!0,L=(X&&X.enableViewTransition)===!0;let re=c||l,_e=X&&X.overrideNavigation,ke=X!=null&&X.initialHydration&&I.matches&&I.matches.length>0&&!z?I.matches:ra(re,W,f),Qe=(X&&X.flushSync)===!0,Pe=mi(ke,re,W.pathname);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){let{error:Tt,notFoundMatches:at,route:Rt}=On(W.pathname);kt(W,{matches:at,loaderData:{},errors:{[Rt.id]:Tt}},{flushSync:Qe});return}if(I.initialized&&!Le&&k2(I.location,W)&&!(X&&X.submission&&ai(X.submission.formMethod))){kt(W,{matches:ke},{flushSync:Qe});return}x=new AbortController;let Re=hl(n.history,W,x.signal,X&&X.submission),Se;if(X&&X.pendingError)Se=[ia(ke).route.id,{type:Nt.error,error:X.pendingError}];else if(X&&X.submission&&ai(X.submission.formMethod)){let Tt=await pn(Re,W,X.submission,ke,Pe.active,{replace:X.replace,flushSync:Qe});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[at,Rt]=Tt.pendingActionResult;if(Rr(Rt)&&wc(Rt.error)&&Rt.error.status===404){x=null,kt(W,{matches:Tt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}ke=Tt.matches||ke,Se=Tt.pendingActionResult,_e=vg(W,X.submission),Qe=!1,Pe.active=!1,Re=hl(n.history,Re.url,Re.signal)}let{shortCircuited:De,matches:et,loaderData:Je,errors:Gt}=await Dr(Re,W,ke,Pe.active,_e,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Qe,Se);De||(x=null,kt(W,jt({matches:et||ke},hT(Se),{loaderData:Je,errors:Gt})))}async function pn($,W,X,re,_e,ke){ke===void 0&&(ke={}),mt();let Qe=M2(W,X);if(it({navigation:Qe},{flushSync:ke.flushSync===!0}),_e){let Se=await rr(re,W.pathname,$.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let De=ia(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[De,{type:Nt.error,error:Se.error}]}}else if(Se.matches)re=Se.matches;else{let{notFoundMatches:De,error:et,route:Je}=On(W.pathname);return{matches:De,pendingActionResult:[Je.id,{type:Nt.error,error:et}]}}}let Pe,Re=Zu(re,W);if(!Re.route.action&&!Re.route.lazy)Pe={type:Nt.error,error:fr(405,{method:$.method,pathname:W.pathname,routeId:Re.route.id})};else if(Pe=(await on("action",I,$,[Re],re,null))[Re.route.id],$.signal.aborted)return{shortCircuited:!0};if(la(Pe)){let Se;return ke&&ke.replace!=null?Se=ke.replace:Se=uT(Pe.response.headers.get("Location"),new URL($.url),f)===I.location.pathname+I.location.search,await Dt($,Pe,!0,{submission:X,replace:Se}),{shortCircuited:!0}}if(lo(Pe))throw fr(400,{type:"defer-action"});if(Rr(Pe)){let Se=ia(re,Re.route.id);return(ke&&ke.replace)!==!0&&(R=rn.Push),{matches:re,pendingActionResult:[Se.route.id,Pe]}}return{matches:re,pendingActionResult:[Re.route.id,Pe]}}async function Dr($,W,X,re,_e,ke,Qe,Pe,Re,Se,De){let et=_e||vg(W,ke),Je=ke||Qe||gT(et),Gt=!we&&(!_.v7_partialHydration||!Re);if(re){if(Gt){let Ct=Hn(De);it(jt({navigation:et},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Se})}let dt=await rr(X,W.pathname,$.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Ct=ia(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Ct]:dt.error}}}else if(dt.matches)X=dt.matches;else{let{error:Ct,notFoundMatches:Zt,route:vi}=On(W.pathname);return{matches:Zt,loaderData:{},errors:{[vi.id]:Ct}}}}let Tt=c||l,[at,Rt]=oT(n.history,I,X,Je,W,_.v7_partialHydration&&Re===!0,_.v7_skipActionErrorRevalidation,Le,He,Ne,Te,he,ee,Tt,f,De);if(nr(dt=>!(X&&X.some(Ct=>Ct.route.id===dt))||at&&at.some(Ct=>Ct.route.id===dt)),le=++me,at.length===0&&Rt.length===0){let dt=tr();return kt(W,jt({matches:X,loaderData:{},errors:De&&Rr(De[1])?{[De[0]]:De[1].error}:null},hT(De),dt?{fetchers:new Map(I.fetchers)}:{}),{flushSync:Se}),{shortCircuited:!0}}if(Gt){let dt={};if(!re){dt.navigation=et;let Ct=Hn(De);Ct!==void 0&&(dt.actionData=Ct)}Rt.length>0&&(dt.fetchers=Bt(Rt)),it(dt,{flushSync:Se})}Rt.forEach(dt=>{ot(dt.key),dt.controller&&ne.set(dt.key,dt.controller)});let Or=()=>Rt.forEach(dt=>ot(dt.key));x&&x.signal.addEventListener("abort",Or);let{loaderResults:gi,fetcherResults:_r}=await $e(I,X,at,Rt,$);if($.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Or),Rt.forEach(dt=>ne.delete(dt.key));let ct=Sf(gi);if(ct)return await Dt($,ct.result,!0,{replace:Pe}),{shortCircuited:!0};if(ct=Sf(_r),ct)return ee.add(ct.key),await Dt($,ct.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Rs,errors:wr}=dT(I,X,gi,De,Rt,_r,Ae);Ae.forEach((dt,Ct)=>{dt.subscribe(Zt=>{(Zt||dt.done)&&Ae.delete(Ct)})}),_.v7_partialHydration&&Re&&I.errors&&(wr=jt({},I.errors,wr));let xn=tr(),Tn=fi(le),yi=xn||Tn||Rt.length>0;return jt({matches:X,loaderData:Rs,errors:wr},yi?{fetchers:new Map(I.fetchers)}:{})}function Hn($){if($&&!Rr($[1]))return{[$[0]]:$[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Bt($){return $.forEach(W=>{let X=I.fetchers.get(W.key),re=Qu(void 0,X?X.data:void 0);I.fetchers.set(W.key,re)}),new Map(I.fetchers)}function Jt($,W,X,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ot($);let _e=(re&&re.flushSync)===!0,ke=c||l,Qe=Xg(I.location,I.matches,f,_.v7_prependBasename,X,_.v7_relativeSplatPath,W,re==null?void 0:re.relative),Pe=ra(ke,Qe,f),Re=mi(Pe,ke,Qe);if(Re.active&&Re.matches&&(Pe=Re.matches),!Pe){mn($,W,fr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Se,submission:De,error:et}=iT(_.v7_normalizeFormMethod,!0,Qe,re);if(et){mn($,W,et,{flushSync:_e});return}let Je=Zu(Pe,Se),Gt=(re&&re.preventScrollReset)===!0;if(De&&ai(De.formMethod)){er($,W,Se,Je,Pe,Re.active,_e,Gt,De);return}he.set($,{routeId:W,path:Se}),Dn($,W,Se,Je,Pe,Re.active,_e,Gt,De)}async function er($,W,X,re,_e,ke,Qe,Pe,Re){mt(),he.delete($);function Se(ft){if(!ft.route.action&&!ft.route.lazy){let xr=fr(405,{method:Re.formMethod,pathname:X,routeId:W});return mn($,W,xr,{flushSync:Qe}),!0}return!1}if(!ke&&Se(re))return;let De=I.fetchers.get($);Ot($,V2(Re,De),{flushSync:Qe});let et=new AbortController,Je=hl(n.history,X,et.signal,Re);if(ke){let ft=await rr(_e,new URL(Je.url).pathname,Je.signal);if(ft.type==="aborted")return;if(ft.type==="error"){mn($,W,ft.error,{flushSync:Qe});return}else if(ft.matches){if(_e=ft.matches,re=Zu(_e,X),Se(re))return}else{mn($,W,fr(404,{pathname:X}),{flushSync:Qe});return}}ne.set($,et);let Gt=me,at=(await on("action",I,Je,[re],_e,$))[re.route.id];if(Je.signal.aborted){ne.get($)===et&&ne.delete($);return}if(_.v7_fetcherPersist&&Te.has($)){if(la(at)||Rr(at)){Ot($,Js(void 0));return}}else{if(la(at))if(ne.delete($),le>Gt){Ot($,Js(void 0));return}else return ee.add($),Ot($,Qu(Re)),Dt(Je,at,!1,{fetcherSubmission:Re,preventScrollReset:Pe});if(Rr(at)){mn($,W,at.error);return}}if(lo(at))throw fr(400,{type:"defer-action"});let Rt=I.navigation.location||I.location,Or=hl(n.history,Rt,et.signal),gi=c||l,_r=I.navigation.state!=="idle"?ra(gi,I.navigation.location,f):I.matches;ut(_r,"Didn't find any matches after fetcher action");let ct=++me;F.set($,ct);let Rs=Qu(Re,at.data);I.fetchers.set($,Rs);let[wr,xn]=oT(n.history,I,_r,Re,Rt,!1,_.v7_skipActionErrorRevalidation,Le,He,Ne,Te,he,ee,gi,f,[re.route.id,at]);xn.filter(ft=>ft.key!==$).forEach(ft=>{let xr=ft.key,Vo=I.fetchers.get(xr),Na=Qu(void 0,Vo?Vo.data:void 0);I.fetchers.set(xr,Na),ot(xr),ft.controller&&ne.set(xr,ft.controller)}),it({fetchers:new Map(I.fetchers)});let Tn=()=>xn.forEach(ft=>ot(ft.key));et.signal.addEventListener("abort",Tn);let{loaderResults:yi,fetcherResults:dt}=await $e(I,_r,wr,xn,Or);if(et.signal.aborted)return;et.signal.removeEventListener("abort",Tn),F.delete($),ne.delete($),xn.forEach(ft=>ne.delete(ft.key));let Ct=Sf(yi);if(Ct)return Dt(Or,Ct.result,!1,{preventScrollReset:Pe});if(Ct=Sf(dt),Ct)return ee.add(Ct.key),Dt(Or,Ct.result,!1,{preventScrollReset:Pe});let{loaderData:Zt,errors:vi}=dT(I,_r,yi,void 0,xn,dt,Ae);if(I.fetchers.has($)){let ft=Js(at.data);I.fetchers.set($,ft)}fi(ct),I.navigation.state==="loading"&&ct>le?(ut(R,"Expected pending action"),x&&x.abort(),kt(I.navigation.location,{matches:_r,loaderData:Zt,errors:vi,fetchers:new Map(I.fetchers)})):(it({errors:vi,loaderData:fT(I.loaderData,Zt,_r,vi),fetchers:new Map(I.fetchers)}),Le=!1)}async function Dn($,W,X,re,_e,ke,Qe,Pe,Re){let Se=I.fetchers.get($);Ot($,Qu(Re,Se?Se.data:void 0),{flushSync:Qe});let De=new AbortController,et=hl(n.history,X,De.signal);if(ke){let at=await rr(_e,new URL(et.url).pathname,et.signal);if(at.type==="aborted")return;if(at.type==="error"){mn($,W,at.error,{flushSync:Qe});return}else if(at.matches)_e=at.matches,re=Zu(_e,X);else{mn($,W,fr(404,{pathname:X}),{flushSync:Qe});return}}ne.set($,De);let Je=me,Tt=(await on("loader",I,et,[re],_e,$))[re.route.id];if(lo(Tt)&&(Tt=await Iv(Tt,et.signal,!0)||Tt),ne.get($)===De&&ne.delete($),!et.signal.aborted){if(Te.has($)){Ot($,Js(void 0));return}if(la(Tt))if(le>Je){Ot($,Js(void 0));return}else{ee.add($),await Dt(et,Tt,!1,{preventScrollReset:Pe});return}if(Rr(Tt)){mn($,W,Tt.error);return}ut(!lo(Tt),"Unhandled fetcher deferred data"),Ot($,Js(Tt.data))}}async function Dt($,W,X,re){let{submission:_e,fetcherSubmission:ke,preventScrollReset:Qe,replace:Pe}=re===void 0?{}:re;W.response.headers.has("X-Remix-Revalidate")&&(Le=!0);let Re=W.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=uT(Re,new URL($.url),f);let Se=_c(I.location,Re,{_isRedirect:!0});if(t){let at=!1;if(W.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(Tv.test(Re)){const Rt=n.history.createURL(Re);at=Rt.origin!==e.location.origin||hs(Rt.pathname,f)==null}if(at){Pe?e.location.replace(Re):e.location.assign(Re);return}}x=null;let De=Pe===!0||W.response.headers.has("X-Remix-Replace")?rn.Replace:rn.Push,{formMethod:et,formAction:Je,formEncType:Gt}=I.navigation;!_e&&!ke&&et&&Je&&Gt&&(_e=gT(I.navigation));let Tt=_e||ke;if(y2.has(W.response.status)&&Tt&&ai(Tt.formMethod))await Ft(De,Se,{submission:jt({},Tt,{formAction:Re}),preventScrollReset:Qe||P,enableViewTransition:X?L:void 0});else{let at=vg(Se,_e);await Ft(De,Se,{overrideNavigation:at,fetcherSubmission:ke,preventScrollReset:Qe||P,enableViewTransition:X?L:void 0})}}async function on($,W,X,re,_e,ke){let Qe,Pe={};try{Qe=await C2(p,$,W,X,re,_e,ke,a,i)}catch(Re){return re.forEach(Se=>{Pe[Se.route.id]={type:Nt.error,error:Re}}),Pe}for(let[Re,Se]of Object.entries(Qe))if(P2(Se)){let De=Se.result;Pe[Re]={type:Nt.redirect,response:b2(De,X,Re,_e,f,_.v7_relativeSplatPath)}}else Pe[Re]=await R2(Se);return Pe}async function $e($,W,X,re,_e){let ke=$.matches,Qe=on("loader",$,_e,X,W,null),Pe=Promise.all(re.map(async De=>{if(De.matches&&De.match&&De.controller){let Je=(await on("loader",$,hl(n.history,De.path,De.controller.signal),[De.match],De.matches,De.key))[De.match.route.id];return{[De.key]:Je}}else return Promise.resolve({[De.key]:{type:Nt.error,error:fr(404,{pathname:De.path})}})})),Re=await Qe,Se=(await Pe).reduce((De,et)=>Object.assign(De,et),{});return await Promise.all([x2(W,Re,_e.signal,ke,$.loaderData),L2(W,Se,re)]),{loaderResults:Re,fetcherResults:Se}}function mt(){Le=!0,He.push(...nr()),he.forEach(($,W)=>{ne.has(W)&&Ne.add(W),ot(W)})}function Ot($,W,X){X===void 0&&(X={}),I.fetchers.set($,W),it({fetchers:new Map(I.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function mn($,W,X,re){re===void 0&&(re={});let _e=ia(I.matches,W);Wn($),it({errors:{[_e.route.id]:X},fetchers:new Map(I.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function zn($){return ve.set($,(ve.get($)||0)+1),Te.has($)&&Te.delete($),I.fetchers.get($)||v2}function Wn($){let W=I.fetchers.get($);ne.has($)&&!(W&&W.state==="loading"&&F.has($))&&ot($),he.delete($),F.delete($),ee.delete($),_.v7_fetcherPersist&&Te.delete($),Ne.delete($),I.fetchers.delete($)}function ze($){let W=(ve.get($)||0)-1;W<=0?(ve.delete($),Te.add($),_.v7_fetcherPersist||Wn($)):ve.set($,W),it({fetchers:new Map(I.fetchers)})}function ot($){let W=ne.get($);W&&(W.abort(),ne.delete($))}function gn($){for(let W of $){let X=zn(W),re=Js(X.data);I.fetchers.set(W,re)}}function tr(){let $=[],W=!1;for(let X of ee){let re=I.fetchers.get(X);ut(re,"Expected fetcher: "+X),re.state==="loading"&&(ee.delete(X),$.push(X),W=!0)}return gn($),W}function fi($){let W=[];for(let[X,re]of F)if(re<$){let _e=I.fetchers.get(X);ut(_e,"Expected fetcher: "+X),_e.state==="loading"&&(ot(X),F.delete(X),W.push(X))}return gn(W),W.length>0}function xo($,W){let X=I.blockers.get($)||Gu;return Ge.get($)!==W&&Ge.set($,W),X}function hi($){I.blockers.delete($),Ge.delete($)}function Gr($,W){let X=I.blockers.get($)||Gu;ut(X.state==="unblocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="proceeding"||X.state==="blocked"&&W.state==="unblocked"||X.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+W.state);let re=new Map(I.blockers);re.set($,W),it({blockers:re})}function Ui($){let{currentLocation:W,nextLocation:X,historyAction:re}=$;if(Ge.size===0)return;Ge.size>1&&ma(!1,"A router only supports one blocker at a time");let _e=Array.from(Ge.entries()),[ke,Qe]=_e[_e.length-1],Pe=I.blockers.get(ke);if(!(Pe&&Pe.state==="proceeding")&&Qe({currentLocation:W,nextLocation:X,historyAction:re}))return ke}function On($){let W=fr(404,{pathname:$}),X=c||l,{matches:re,route:_e}=pT(X);return nr(),{notFoundMatches:re,route:_e,error:W}}function nr($){let W=[];return Ae.forEach((X,re)=>{(!$||$(re))&&(X.cancel(),W.push(re),Ae.delete(re))}),W}function As($,W,X){if(N=$,b=W,O=X||null,!B&&I.navigation===yg){B=!0;let re=pi(I.location,I.matches);re!=null&&it({restoreScrollPosition:re})}return()=>{N=null,b=null,O=null}}function vr($,W){return O&&O($,W.map(re=>QV(re,I.loaderData)))||$.key}function Lo($,W){if(N&&b){let X=vr($,W);N[X]=b()}}function pi($,W){if(N){let X=vr($,W),re=N[X];if(typeof re=="number")return re}return null}function mi($,W,X){if(g)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:Uf(W,X,f,!0)}}else return{active:!0,matches:Uf(W,X,f,!0)||[]};return{active:!1,matches:null}}async function rr($,W,X){if(!g)return{type:"success",matches:$};let re=$;for(;;){let _e=c==null,ke=c||l,Qe=a;try{await g({signal:X,path:W,matches:re,patch:(Se,De)=>{X.aborted||lT(Se,De,ke,Qe,i)}})}catch(Se){return{type:"error",error:Se,partialMatches:re}}finally{_e&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let Pe=ra(ke,W,f);if(Pe)return{type:"success",matches:Pe};let Re=Uf(ke,W,f,!0);if(!Re||re.length===Re.length&&re.every((Se,De)=>Se.route.id===Re[De].route.id))return{type:"success",matches:null};re=Re}}function Mo($){a={},c=sh($,i,void 0,a)}function Ht($,W){let X=c==null;lT($,W,c||l,a,i),X&&(l=[...l],it({}))}return K={get basename(){return f},get future(){return _},get state(){return I},get routes(){return l},get window(){return e},initialize:st,subscribe:St,enableScrollRestoration:As,navigate:Kt,fetch:Jt,revalidate:rt,createHref:$=>n.history.createHref($),encodeLocation:$=>n.history.encodeLocation($),getFetcher:zn,deleteFetcher:ze,dispose:Et,getBlocker:xo,deleteBlocker:hi,patchRoutes:Ht,_internalFetchControllers:ne,_internalActiveDeferreds:Ae,_internalSetRoutes:Mo},K}function E2(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Xg(n,e,t,r,i,a,l,c){let f,p;if(l){f=[];for(let _ of e)if(f.push(_),_.route.id===l){p=_;break}}else f=e,p=e[e.length-1];let g=Ev(i||".",wv(f,a),hs(n.pathname,t)||n.pathname,c==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&p){let _=Sv(g.search);if(p.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&_){let E=new URLSearchParams(g.search),A=E.getAll("index");E.delete("index"),A.filter(O=>O).forEach(O=>E.append("index",O));let N=E.toString();g.search=N?"?"+N:""}}return r&&t!=="/"&&(g.pathname=g.pathname==="/"?t:us([t,g.pathname])),ga(g)}function iT(n,e,t,r){if(!r||!E2(r))return{path:t};if(r.formMethod&&!O2(r.formMethod))return{path:t,error:fr(405,{method:r.formMethod})};let i=()=>({path:t,error:fr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),c=cR(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ai(l))return i();let E=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((A,N)=>{let[O,b]=N;return""+A+O+"="+b+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:E}}}else if(r.formEncType==="application/json"){if(!ai(l))return i();try{let E=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:E,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=Zg(r.formData),p=r.formData;else if(r.body instanceof FormData)f=Zg(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=cT(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=cT(f)}catch{return i()}let g={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ai(g.formMethod))return{path:t,submission:g};let _=Ts(t);return e&&_.search&&Sv(_.search)&&f.append("index",""),_.search="?"+f,{path:ga(_),submission:g}}function sT(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function oT(n,e,t,r,i,a,l,c,f,p,g,_,E,A,N,O){let b=O?Rr(O[1])?O[1].error:O[1].data:void 0,B=n.createURL(e.location),U=n.createURL(i),z=t;a&&e.errors?z=sT(t,Object.keys(e.errors)[0],!0):O&&Rr(O[1])&&(z=sT(t,O[0]));let q=O?O[1].statusCode:void 0,Z=l&&q&&q>=400,K=z.filter((R,P)=>{let{route:x}=R;if(x.lazy)return!0;if(x.loader==null)return!1;if(a)return Jg(x,e.loaderData,e.errors);if(T2(e.loaderData,e.matches[P],R)||f.some(D=>D===R.route.id))return!0;let L=e.matches[P],V=R;return aT(R,jt({currentUrl:B,currentParams:L.params,nextUrl:U,nextParams:V.params},r,{actionResult:b,actionStatus:q,defaultShouldRevalidate:Z?!1:c||B.pathname+B.search===U.pathname+U.search||B.search!==U.search||lR(L,V)}))}),I=[];return _.forEach((R,P)=>{if(a||!t.some(we=>we.route.id===R.routeId)||g.has(P))return;let x=ra(A,R.path,N);if(!x){I.push({key:P,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(P),V=Zu(x,R.path),D=!1;E.has(P)?D=!1:p.has(P)?(p.delete(P),D=!0):L&&L.state!=="idle"&&L.data===void 0?D=c:D=aT(V,jt({currentUrl:B,currentParams:e.matches[e.matches.length-1].params,nextUrl:U,nextParams:t[t.length-1].params},r,{actionResult:b,actionStatus:q,defaultShouldRevalidate:Z?!1:c})),D&&I.push({key:P,routeId:R.routeId,path:R.path,matches:x,match:V,controller:new AbortController})}),[K,I]}function Jg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function T2(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function lR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function aT(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function lT(n,e,t,r,i){var a;let l;if(n){let p=r[n];ut(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(g=>uR(p,g))),f=sh(c,i,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...f)}function uR(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>uR(t,a))}):!1}async function I2(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];ut(i,"No route found in manifest");let a={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";ma(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!KV.has(l)&&(a[l]=r[l])}Object.assign(i,a),Object.assign(i,jt({},e(i),{lazy:void 0}))}async function S2(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,a,l)=>Object.assign(i,{[t[l].route.id]:a}),{})}async function C2(n,e,t,r,i,a,l,c,f,p){let g=a.map(A=>A.route.lazy?I2(A.route,f,c):void 0),_=a.map((A,N)=>{let O=g[N],b=i.some(U=>U.route.id===A.route.id);return jt({},A,{shouldLoad:b,resolve:async U=>(U&&r.method==="GET"&&(A.route.lazy||A.route.loader)&&(b=!0),b?A2(e,r,A,O,U,p):Promise.resolve({type:Nt.data,result:void 0}))})}),E=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return E}async function A2(n,e,t,r,i,a){let l,c,f=p=>{let g,_=new Promise((N,O)=>g=O);c=()=>g(),e.signal.addEventListener("abort",c);let E=N=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...N!==void 0?[N]:[]),A=(async()=>{try{return{type:"data",result:await(i?i(O=>E(O)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([A,_])};try{let p=t.route[n];if(r)if(p){let g,[_]=await Promise.all([f(p).catch(E=>{g=E}),r]);if(g!==void 0)throw g;l=_}else if(await r,p=t.route[n],p)l=await f(p);else if(n==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw fr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await f(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw fr(404,{pathname:_})}ut(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function R2(n){let{result:e,type:t}=n;if(dR(e)){let _;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(E){return{type:Nt.error,error:E}}return t===Nt.error?{type:Nt.error,error:new ah(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:_,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(mT(e)){var r,i;if(e.data instanceof Error){var a,l;return{type:Nt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new ah(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:wc(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:wc(e)?e.status:void 0}}if(D2(e)){var c,f;return{type:Nt.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(mT(e)){var p,g;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function b2(n,e,t,r,i,a){let l=n.headers.get("Location");if(ut(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tv.test(l)){let c=r.slice(0,r.findIndex(f=>f.route.id===t)+1);l=Xg(new URL(e.url),c,i,!0,l,a),n.headers.set("Location",l)}return n}function uT(n,e,t){if(Tv.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=hs(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return n}function hl(n,e,t,r){let i=n.createURL(cR(e)).toString(),a={signal:t};if(r&&ai(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=Zg(r.formData):a.body=r.formData}return new Request(i,a)}function Zg(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function cT(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function N2(n,e,t,r,i){let a={},l=null,c,f=!1,p={},g=t&&Rr(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,A=e[E];if(ut(!la(A),"Cannot handle redirect results in processLoaderData"),Rr(A)){let N=A.error;g!==void 0&&(N=g,g=void 0),l=l||{};{let O=ia(n,E);l[O.route.id]==null&&(l[O.route.id]=N)}a[E]=void 0,f||(f=!0,c=wc(A.error)?A.error.status:500),A.headers&&(p[E]=A.headers)}else lo(A)?(r.set(E,A.deferredData),a[E]=A.deferredData.data,A.statusCode!=null&&A.statusCode!==200&&!f&&(c=A.statusCode),A.headers&&(p[E]=A.headers)):(a[E]=A.data,A.statusCode&&A.statusCode!==200&&!f&&(c=A.statusCode),A.headers&&(p[E]=A.headers))}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:p}}function dT(n,e,t,r,i,a,l){let{loaderData:c,errors:f}=N2(e,t,r,l);return i.forEach(p=>{let{key:g,match:_,controller:E}=p,A=a[g];if(ut(A,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(Rr(A)){let N=ia(n.matches,_==null?void 0:_.route.id);f&&f[N.route.id]||(f=jt({},f,{[N.route.id]:A.error})),n.fetchers.delete(g)}else if(la(A))ut(!1,"Unhandled fetcher revalidation redirect");else if(lo(A))ut(!1,"Unhandled fetcher deferred data");else{let N=Js(A.data);n.fetchers.set(g,N)}}),{loaderData:c,errors:f}}function fT(n,e,t,r){let i=jt({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&a.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function hT(n){return n?Rr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ia(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function pT(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(n,e){let{pathname:t,routeId:r,method:i,type:a,message:l}=e===void 0?{}:e,c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&t&&r?f="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f='Route "'+r+'" does not match URL "'+t+'"'):n===404?(c="Not Found",f='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",i&&t&&r?f="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new ah(n||500,c,new Error(f),!0)}function Sf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(la(i))return{key:r,result:i}}}function cR(n){let e=typeof n=="string"?Ts(n):n;return ga(jt({},e,{hash:""}))}function k2(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function P2(n){return dR(n.result)&&g2.has(n.result.status)}function lo(n){return n.type===Nt.deferred}function Rr(n){return n.type===Nt.error}function la(n){return(n&&n.type)===Nt.redirect}function mT(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function D2(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function dR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function O2(n){return m2.has(n.toLowerCase())}function ai(n){return h2.has(n.toLowerCase())}async function x2(n,e,t,r,i){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[c,f]=a[l],p=n.find(E=>(E==null?void 0:E.route.id)===c);if(!p)continue;let g=r.find(E=>E.route.id===p.route.id),_=g!=null&&!lR(g,p)&&(i&&i[p.route.id])!==void 0;lo(f)&&_&&await Iv(f,t,!1).then(E=>{E&&(e[c]=E)})}}async function L2(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:a,controller:l}=t[r],c=e[i];n.find(p=>(p==null?void 0:p.route.id)===a)&&lo(c)&&(ut(l,"Expected an AbortController for revalidating fetcher deferred result"),await Iv(c,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function Iv(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Nt.error,error:i}}return{type:Nt.data,data:n.deferredData.data}}}function Sv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Zu(n,e){let t=typeof e=="string"?Ts(e).search:e.search;if(n[n.length-1].route.index&&Sv(t||""))return n[n.length-1];let r=sR(n);return r[r.length-1]}function gT(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:a,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function vg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M2(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Qu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function V2(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Js(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function U2(n,e){try{let t=n.sessionStorage.getItem(aR);if(t){let r=JSON.parse(t);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function $2(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(aR,JSON.stringify(t))}catch(r){ma(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lh.apply(this,arguments)}const zc=w.createContext(null),Cv=w.createContext(null),Po=w.createContext(null),Av=w.createContext(null),Is=w.createContext({outlet:null,matches:[],isDataRoute:!1}),fR=w.createContext(null);function j2(n,e){let{relative:t}=e===void 0?{}:e;Wc()||ut(!1);let{basename:r,navigator:i}=w.useContext(Po),{hash:a,pathname:l,search:c}=qh(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:us([r,l])),i.createHref({pathname:f,search:c,hash:a})}function Wc(){return w.useContext(Av)!=null}function qc(){return Wc()||ut(!1),w.useContext(Av).location}function hR(n){w.useContext(Po).static||w.useLayoutEffect(n)}function Aa(){let{isDataRoute:n}=w.useContext(Is);return n?Z2():F2()}function F2(){Wc()||ut(!1);let n=w.useContext(zc),{basename:e,future:t,navigator:r}=w.useContext(Po),{matches:i}=w.useContext(Is),{pathname:a}=qc(),l=JSON.stringify(wv(i,t.v7_relativeSplatPath)),c=w.useRef(!1);return hR(()=>{c.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let _=Ev(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:us([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}const B2=w.createContext(null);function H2(n){let e=w.useContext(Is).outlet;return e&&w.createElement(B2.Provider,{value:n},e)}function pR(){let{matches:n}=w.useContext(Is),e=n[n.length-1];return e?e.params:{}}function qh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Po),{matches:i}=w.useContext(Is),{pathname:a}=qc(),l=JSON.stringify(wv(i,r.v7_relativeSplatPath));return w.useMemo(()=>Ev(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function z2(n,e,t,r){Wc()||ut(!1);let{navigator:i,static:a}=w.useContext(Po),{matches:l}=w.useContext(Is),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=qc(),_;_=g;let E=_.pathname||"/",A=E;if(p!=="/"){let b=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(b.length).join("/")}let N=!a&&t&&t.matches&&t.matches.length>0?t.matches:ra(n,{pathname:A});return Q2(N&&N.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:us([p,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:us([p,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,t,r)}function W2(){let n=vR(),e=wc(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,null)}const q2=w.createElement(W2,null);class K2 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Is.Provider,{value:this.props.routeContext},w.createElement(fR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G2(n){let{routeContext:e,match:t,children:r}=n,i=w.useContext(zc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Is.Provider,{value:e},r)}function Q2(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);g>=0||ut(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:E,errors:A}=t,N=_.route.loader&&E[_.route.id]===void 0&&(!A||A[_.route.id]===void 0);if(_.route.lazy||N){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,E)=>{let A,N=!1,O=null,b=null;t&&(A=c&&_.route.id?c[_.route.id]:void 0,O=_.route.errorElement||q2,f&&(p<0&&E===0?(eU("route-fallback"),N=!0,b=null):p===E&&(N=!0,b=_.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,E+1)),U=()=>{let z;return A?z=O:N?z=b:_.route.Component?z=w.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=g,w.createElement(G2,{match:_,routeContext:{outlet:g,matches:B,isDataRoute:t!=null},children:z})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?w.createElement(K2,{location:t.location,revalidation:t.revalidation,component:O,error:A,children:U(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):U()},null)}var mR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(mR||{}),gR=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(gR||{});function Y2(n){let e=w.useContext(zc);return e||ut(!1),e}function X2(n){let e=w.useContext(Cv);return e||ut(!1),e}function J2(n){let e=w.useContext(Is);return e||ut(!1),e}function yR(n){let e=J2(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function vR(){var n;let e=w.useContext(fR),t=X2(gR.UseRouteError),r=yR();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Z2(){let{router:n}=Y2(mR.UseNavigateStable),e=yR(),t=w.useRef(!1);return hR(()=>{t.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,lh({fromRouteId:e},a)))},[n,e])}const yT={};function eU(n,e,t){yT[n]||(yT[n]=!0)}function tU(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function nU(n){return H2(n.context)}function rU(n){let{basename:e="/",children:t=null,location:r,navigationType:i=rn.Pop,navigator:a,static:l=!1,future:c}=n;Wc()&&ut(!1);let f=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:f,navigator:a,static:l,future:lh({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof r=="string"&&(r=Ts(r));let{pathname:g="/",search:_="",hash:E="",state:A=null,key:N="default"}=r,O=w.useMemo(()=>{let b=hs(g,f);return b==null?null:{location:{pathname:b,search:_,hash:E,state:A,key:N},navigationType:i}},[f,g,_,E,A,N,i]);return O==null?null:w.createElement(Po.Provider,{value:p},w.createElement(Av.Provider,{children:t,value:O}))}new Promise(()=>{});function iU(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ul.apply(this,arguments)}function _R(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function sU(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oU(n,e){return n.button===0&&(!e||e==="_self")&&!sU(n)}const aU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],uU="6";try{window.__reactRouterVersion=uU}catch{}function cU(n,e){return w2({basename:void 0,future:Ul({},void 0,{v7_prependBasename:!0}),history:zV({window:void 0}),hydrationData:dU(),routes:n,mapRouteProperties:iU,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function dU(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Ul({},e,{errors:fU(e.errors)})),e}function fU(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new ah(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(i.message);a.stack="",t[r]=a}}else t[r]=i;return t}const wR=w.createContext({isTransitioning:!1}),hU=w.createContext(new Map),pU="startTransition",vT=Yk[pU],mU="flushSync",_T=IL[mU];function gU(n){vT?vT(n):n()}function Yu(n){_T?_T(n):n()}let yU=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function vU(n){let{fallbackElement:e,router:t,future:r}=n,[i,a]=w.useState(t.state),[l,c]=w.useState(),[f,p]=w.useState({isTransitioning:!1}),[g,_]=w.useState(),[E,A]=w.useState(),[N,O]=w.useState(),b=w.useRef(new Map),{v7_startTransition:B}=r||{},U=w.useCallback(R=>{B?gU(R):R()},[B]),z=w.useCallback((R,P)=>{let{deletedFetchers:x,flushSync:L,viewTransitionOpts:V}=P;R.fetchers.forEach((we,Le)=>{we.data!==void 0&&b.current.set(Le,we.data)}),x.forEach(we=>b.current.delete(we));let D=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!V||D){L?Yu(()=>a(R)):U(()=>a(R));return}if(L){Yu(()=>{E&&(g&&g.resolve(),E.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let we=t.window.document.startViewTransition(()=>{Yu(()=>a(R))});we.finished.finally(()=>{Yu(()=>{_(void 0),A(void 0),c(void 0),p({isTransitioning:!1})})}),Yu(()=>A(we));return}E?(g&&g.resolve(),E.skipTransition(),O({state:R,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(c(R),p({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,E,g,b,U]);w.useLayoutEffect(()=>t.subscribe(z),[t,z]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&_(new yU)},[f]),w.useEffect(()=>{if(g&&l&&t.window){let R=l,P=g.promise,x=t.window.document.startViewTransition(async()=>{U(()=>a(R)),await P});x.finished.finally(()=>{_(void 0),A(void 0),c(void 0),p({isTransitioning:!1})}),A(x)}},[U,l,g,t.window]),w.useEffect(()=>{g&&l&&i.location.key===l.location.key&&g.resolve()},[g,E,i.location,l]),w.useEffect(()=>{!f.isTransitioning&&N&&(c(N.state),p({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),O(void 0))},[f.isTransitioning,N]),w.useEffect(()=>{},[]);let q=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,P,x)=>t.navigate(R,{state:P,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(R,P,x)=>t.navigate(R,{replace:!0,state:P,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[t]),Z=t.basename||"/",K=w.useMemo(()=>({router:t,navigator:q,static:!1,basename:Z}),[t,q,Z]),I=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>tU(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(zc.Provider,{value:K},w.createElement(Cv.Provider,{value:i},w.createElement(hU.Provider,{value:b.current},w.createElement(wR.Provider,{value:f},w.createElement(rU,{basename:Z,location:i.location,navigationType:i.historyAction,navigator:q,future:I},i.initialized||t.future.v7_partialHydration?w.createElement(_U,{routes:t.routes,future:t.future,state:i}):e))))),null)}const _U=w.memo(wU);function wU(n){let{routes:e,future:t,state:r}=n;return z2(e,void 0,r,t)}const EU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IU=w.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_}=e,E=_R(e,aU),{basename:A}=w.useContext(Po),N,O=!1;if(typeof p=="string"&&TU.test(p)&&(N=p,EU))try{let z=new URL(window.location.href),q=p.startsWith("//")?new URL(z.protocol+p):new URL(p),Z=hs(q.pathname,A);q.origin===z.origin&&Z!=null?p=Z+q.search+q.hash:O=!0}catch{}let b=j2(p,{relative:i}),B=CU(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:_});function U(z){r&&r(z),z.defaultPrevented||B(z)}return w.createElement("a",Ul({},E,{href:N||b,onClick:O||a?r:U,ref:t,target:f}))}),Xu=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:p,children:g}=e,_=_R(e,lU),E=qh(f,{relative:_.relative}),A=qc(),N=w.useContext(Cv),{navigator:O,basename:b}=w.useContext(Po),B=N!=null&&AU(E)&&p===!0,U=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,z=A.pathname,q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(z=z.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&b&&(q=hs(q,b)||q);const Z=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let K=z===U||!l&&z.startsWith(U)&&z.charAt(Z)==="/",I=q!=null&&(q===U||!l&&q.startsWith(U)&&q.charAt(U.length)==="/"),R={isActive:K,isPending:I,isTransitioning:B},P=K?r:void 0,x;typeof a=="function"?x=a(R):x=[a,K?"active":null,I?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(R):c;return w.createElement(IU,Ul({},_,{"aria-current":P,className:x,ref:t,style:L,to:f,viewTransition:p}),typeof g=="function"?g(R):g)});var ey;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ey||(ey={}));var wT;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(wT||(wT={}));function SU(n){let e=w.useContext(zc);return e||ut(!1),e}function CU(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,f=Aa(),p=qc(),g=qh(n,{relative:l});return w.useCallback(_=>{if(oU(_,t)){_.preventDefault();let E=r!==void 0?r:ga(p)===ga(g);f(n,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,g,r,i,t,n,a,l,c])}function AU(n,e){e===void 0&&(e={});let t=w.useContext(wR);t==null&&ut(!1);let{basename:r}=SU(ey.useViewTransitionState),i=qh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=hs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=hs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return oh(i.pathname,l)!=null||oh(i.pathname,a)!=null}function RU(){const[n,e]=w.useState(!1),[t,r]=w.useState(!1),i=()=>r(!1),a=()=>r(!0),l=N=>C(JA,{id:"button-tooltip",...N,children:"Please check the notice below to continue.."}),{session:c}=wo(),f=Aa();w.useEffect(()=>{c&&f("/Home")},[c,f]);const[p,g]=w.useState(!1);function _(N){switch(N.target.checked){case!0:g(!0);break;case!1:g(!1);break}}const{logIn:E}=wo();async function A(){e(!0),await E(),e(!1)}return pe(hn,{children:[C(oi,{show:n,centered:!0,backdrop:"static",children:pe(oi.Body,{className:"text-center",children:[C("div",{className:"spinner-border text-primary",role:"status"}),C("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),pe(oi,{show:t,children:[C(oi.Header,{children:C(oi.Title,{children:"Terms and Conditions"})}),C(oi.Body,{children:pe("p",{children:["1. User Responsibility ",C("br",{})," By using this platform, you acknowledge that all interactions and transactions between users are conducted at your own risk. We do not take responsibility for any disputes, agreements, or exchanges made between users. It is your responsibility to exercise caution and ensure the legitimacy of the items and users you engage with.",C("br",{}),C("br",{}),"2. Privacy and Message Monitoring ",C("br",{})," We respect your privacy and do not monitor or view private messages exchanged between users during transactions. However, all accounts are recorded in our system for security and compliance purposes.",C("br",{}),C("br",{}),"3. Item Posting and Review",C("br",{}),"All items posted on the platform are subject to review by an administrator. We reserve the right to remove or reject any listings that contain inappropriate, illegal, or prohibited content. Users are encouraged to adhere to ethical and legal guidelines when posting items.",C("br",{}),C("br",{}),"4. Violations and Account Management",C("br",{}),"Users who repeatedly violate our guidelines by posting inappropriate content or engaging in prohibited activities may face account restrictions, suspensions, or permanent deletion. We reserve the right to take appropriate actions to maintain the integrity of the platform.",C("br",{}),C("br",{}),"5. Disclaimer of Liability",C("br",{}),"We do not guarantee the quality, safety, legality, or authenticity of the items listed on the platform. The website serves only as a medium for users to connect and trade, and we do not take responsibility for any losses, damages, or issues arising from trades or interactions.",C("br",{}),C("br",{}),"6. Amendments and Changes",C("br",{}),"We reserve the right to update or modify these Terms and Conditions at any time. Users are responsible for staying informed about any changes. Continued use of the platform signifies your acceptance of the updated terms.",C("br",{}),C("br",{}),"By using this platform, you agree to abide by these Terms and Conditions and ensure that your activities align with our community standards."]})}),C(oi.Footer,{children:C(Nn,{variant:"primary",onClick:i,children:"Okay"})})]}),pe("div",{className:"logincontainer",children:[C("div",{className:"circle",children:C("img",{src:"./images/favicon.png"})}),C("p",{className:"LoginWord",children:" USER LOGIN "}),pe("div",{className:"google-button",children:[p&&C(Nn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:A,disabled:n,children:"Login with Google"}),!p&&C(PV,{placement:"right",delay:{show:0,hide:400},overlay:l,children:C("div",{children:C(Nn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),pe("div",{children:[C("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),C("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),C("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:_}),C("p",{className:"terms-text text-primary fw-bold",style:{cursor:"pointer",textDecoration:"underline",position:"absolute",bottom:"0%",left:"30%"},onClick:a,children:"Terms and Conditions"})]})]})]})}async function bU(n){return await iu.createFile("678bac020031c1c3ad75",Vl.unique(),n)}async function NU(n){return await iu.deleteFile("678bac020031c1c3ad75",n)}function Kc(n){return iu.getFilePreview("678bac020031c1c3ad75",n)}function ty(n){return iu.getFilePreview("67932f8600176cf1dfdc",n)}async function kU(n,e){return await iu.createFile("67932f8600176cf1dfdc",n,e)}async function PU(n){return await iu.deleteFile("67932f8600176cf1dfdc",n)}async function DU(){const{documents:n}=await yr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.equal("isApproved",!0)]);return{items:n.map(Ss)}}async function OU(n){const{documents:e}=await yr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("name",n),Fe.equal("isApproved",!0)]);return{items:e.map(Ss)}}async function xU(n){const{documents:e}=await yr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("itemCategory",n),Fe.equal("isApproved",!0)]);return{items:e.map(Ss)}}async function Rv(n){const{documents:e}=await yr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.contains("authorID",n),Fe.orderDesc("date")]);return{items:e.map(Ss)}}async function LU(){const{documents:n}=await yr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.equal("isApproved",!1),Fe.orderDesc("date")]);return{items:n.map(Ss)}}async function ny(n){const e=await yr.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:Ss(e)}}async function MU(n){const{items:e}=await ny(n);await NU(e.imageFileId),await yr.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function VU(n){const e=await yr.createDocument("678babec0039e89240df","67932f2e00392d850485",Vl.unique(),n);return{items:Ss(e)}}async function ER(n,e){const t=await yr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Ss(t)}}async function ET(n,e){const t=await yr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Ss(t)}}function Ss(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:!1,requests:n.requests,itemCategory:n.itemCategory}}async function UU(n,e){const t=await yr.createDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:bv(t)}}async function Eo(n){const e=await yr.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:bv(e)}}async function $U(n){try{return!!await yr.getDocument("678babec0039e89240df","67932f37003021addec1",n)}catch{return!1}}async function jU(n,e){const t=await yr.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:bv(t)}}function bv(n){return{userId:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight,userEmail:n.userEmail}}function Cf(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,i,...a]=t.map(f=>parseInt(f)),l=[r,i-1,...a];return new Date(Date.UTC(...l))}}function TT(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function ry(){return ry=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ry.apply(this,arguments)}const ec=60,tc=ec*60,Sl=tc*24,Af=Sl*7,IT=Sl*30,ST=Sl*365,FU=()=>Date.now();function BU({date:n,formatter:e=TT,component:t="time",live:r=!0,minPeriod:i=0,maxPeriod:a=Af,title:l,now:c=FU,...f}){const[p,g]=w.useState(c());w.useEffect(()=>{if(!r)return;const Z=(()=>{const K=Cf(n).valueOf();if(!K)return console.warn("[react-timeago] Invalid Date provided"),0;const I=Math.round(Math.abs(p-K)/1e3),R=I<ec?1e3:I<tc?1e3*ec:I<Sl?1e3*tc:1e3*Af,P=Math.min(Math.max(R,i*1e3),a*1e3);return P?setTimeout(()=>{g(c())},P):0})();return()=>{Z&&clearTimeout(Z)}},[n,r,a,i,c,p]);const _=t,E=Cf(n).valueOf();if(!E)return null;const A=Math.round(Math.abs(p-E)/1e3),N=E<p?"ago":"from now",[O,b]=A<ec?[Math.round(A),"second"]:A<tc?[Math.round(A/ec),"minute"]:A<Sl?[Math.round(A/tc),"hour"]:A<Af?[Math.round(A/Sl),"day"]:A<IT?[Math.round(A/Af),"week"]:A<ST?[Math.round(A/IT),"month"]:[Math.round(A/ST),"year"],B=typeof l>"u"?typeof n=="string"?n:Cf(n).toISOString().substr(0,16).replace("T"," "):l,U=_==="time"?{...f,dateTime:Cf(n).toISOString()}:f,z=TT.bind(null,O,b,N);return w.createElement(_,ry({},U,{title:B}),e(O,b,N,E,z,c))}const Kh=({name:n,date:e,author:t,image:r})=>pe(eo,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[C("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&pe(hn,{children:[C(eo.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),C("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),pe(eo.Body,{children:[C(eo.Title,{children:n}),C(eo.Text,{children:t}),C(eo.Text,{children:C(BU,{date:e})})]})]}),Gh=({children:n})=>{const{session:e,logOut:t}=wo(),r=Aa(),[i,a]=w.useState(),[l,c]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/");return}try{const g=await Wh();a(g)}catch(g){console.error("Error fetching user:",g)}finally{c(!1)}})()},[e,r]);async function f(){await t(),r("/")}return pe(hn,{children:[C(oi,{show:l,centered:!0,backdrop:"static",children:pe(oi.Body,{className:"text-center",children:[C(zh,{animation:"border",role:"status",children:C("span",{className:"visually-hidden",children:"Loading..."})}),C("p",{className:"mt-3",children:"Please wait, loading..."})]})}),pe("div",{className:"body",children:[C(If,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:pe(Sa,{children:[pe(If.Brand,{href:"#/Home",children:[C("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),C(If.Toggle,{"aria-controls":"basic-navbar-nav"}),C(If.Collapse,{className:"justify-content-end flex-grow-1",children:C(ls,{children:pe(z0,{className:"me-auto",children:[C(z0.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),pe(Ku,{title:(i==null?void 0:i.name)||"User",id:"basic-nav-dropdown",align:"end",children:[C(Ku.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),C(Ku.Divider,{}),e?C(Ku.Item,{className:"logout-nav",onClick:f,children:"Logout"}):C(Ku.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),C("main",{children:n})]})]})},HU=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState({});w.useEffect(()=>{(async function(){const{items:A}=await DU();e(A);const N={};await Promise.all(A.map(async b=>{if(!N[b.authorID]){const{userdb:B}=await Eo(b.authorID);N[b.authorID]=B}})),c(N);const O=await Wh();if(r(O),O){const b=await $U(O.$id);console.log("User Exists? ",b),b||(await UU(O.$id,{userId:O.$id,profileImageId:"",profileSummary:null,profileImageWidth:100,profileImageHeight:100,displayName:null,defaultName:O.name,userEmail:O.email}),console.log("New profile created."))}})()},[]);async function f(E){const{items:A}=await xU(E);e(A)}async function p(){window.location.reload(),a(!1)}async function g(E){E.preventDefault(),a(!0);const A=E.target;try{const{items:N}=await OU(A.ItemSearch.value);e(N)}catch(N){console.error("Error finding Item:",N)}}const _={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Accessories",color:"info"},f:{name:"Miscellaneous",color:"dark"}};return C(Gh,{children:C("div",{className:"home",children:pe("div",{className:"container",id:"pagewrap",children:[C("div",{className:"searchinput",children:pe("form",{className:"search",onSubmit:g,autoComplete:"off",children:[C("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),i&&C(jc,{className:"clear-btn",onClick:p}),C("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),C("div",{className:"categories",children:C(oo,{defaultActiveKey:"0",children:pe(oo.Item,{eventKey:"0",children:[C(oo.Header,{children:"Filter by Categories"}),C(oo.Body,{children:C(ls,{children:pe(as,{children:[C(Nn,{variant:"outline-danger",onClick:p,children:"Clear Filter"}),Object.entries(_).map(([E,A])=>C(Nn,{variant:`outline-${A.color}`,onClick:()=>f(E),children:A.name},E))]})})})]})})}),C("div",{className:"items container",children:C(ls,{children:n.length>0?n.map(E=>{var b;const N={url:E.imageFileId&&Kc(E.imageFileId),height:E.imageHeight,width:E.imageWidth},O=l[E.authorID];return C(as,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:pe("a",{className:"itemLink",href:`#/Item/${E.$id}`,children:[C("div",{className:"itemLabel",children:C("span",{className:"Label",children:((b=_[E.itemCategory])==null?void 0:b.name)||"Uncategorized"})}),C(Kh,{image:N,name:E.name,date:E.date,author:O?O.displayName||O.defaultName:"Unknown Author"})]})},E.$id)}):C(Sa,{children:pe(mc,{variant:"warning",children:["No Items are currently posted, ",C(mc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})})};function pl(){const n=vR();return console.error(n),C("div",{id:"error-page",children:pe("div",{class:"error",children:[pe("a",{class:"HomeButton",href:"#/Home",children:[C("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:C("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),C("div",{class:"background-wrapper",children:C("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),C("p",{class:"errorText",children:"The page youre looking for does not exist."}),C("p",{children:C("i",{children:n.statusText||n.message})})]})})}function zU(){const{session:n}=wo(),e=Aa(),[t,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!n){e("/");return}r(!1)})()},[n,e]),pe(hn,{children:[C(oi,{show:t,centered:!0,backdrop:"static",children:pe(oi.Body,{className:"text-center",children:[C(zh,{animation:"border",role:"status",children:C("span",{className:"visually-hidden",children:"Loading..."})}),C("p",{className:"mt-3",children:"Verifying session..."})]})}),!t&&pe(hn,{children:[pe("div",{className:"uWholeBox",children:[pe("a",{className:"HomeButton",href:"#/Home",children:[C("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:C("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),C("div",{className:"uLooks",children:" Dashboard "})]}),pe("div",{className:"NaviBar",children:[pe("ul",{children:[C("li",{children:C(Xu,{to:"/Dashboard/Post",children:"Post"})}),C("li",{children:C(Xu,{to:"/Dashboard/Items",children:"Your Items"})}),C("li",{children:C(Xu,{to:"/Dashboard/Requests",children:"Requests"})}),C("li",{children:C(Xu,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),C("li",{children:C(Xu,{to:"/Dashboard/Profile",children:"Profile"})})]}),C(nU,{})]})]})]})}const WU=()=>{const[n,e]=w.useState(),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState(),[f,p]=w.useState(null),[g,_]=w.useState(!1),[E,A]=w.useState(""),[N,O]=w.useState(""),[b,B]=w.useState(null);w.useEffect(()=>{(async()=>{try{const K=await Wh();if(e(K),K){const{userdb:I}=await Eo(K.$id);r(I),p(I!=null&&I.profileImageId?ty(I.profileImageId):null),A((I==null?void 0:I.displayName)||(K==null?void 0:K.name)||""),O((I==null?void 0:I.profileSummary)||"")}}catch(K){console.error("Error fetching user: ",K)}})()},[]);const U=()=>a(!0),z=Z=>{if(!Z.target.files||Z.target.files.length===0)return;const K=Z.target.files[0];if(K.size>5*1024*1024){B("File size exceeds 5MB limit.");return}else B(null);const I=document.createElement("img");I.onload=function(){c({height:I.height,file:K,width:I.width})},I.src=URL.createObjectURL(K),p(URL.createObjectURL(K))},q=async Z=>{if(Z.preventDefault(),_(!0),!E.trim()||!N.trim()){alert("Please fill in all fields."),_(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),_(!1);return}let{userdb:K}=await Eo(n.$id),I=(K==null?void 0:K.profileImageId)||"";if(l!=null&&l.file){I&&I!=="default"&&await PU(I);const R=await kU(n.$id,l.file);R!=null&&R.$id&&(I=R.$id)}await jU(n.$id,{profileImageId:I,profileSummary:N,profileImageWidth:(l==null?void 0:l.width)??(K==null?void 0:K.profileImageWidth)??100,profileImageHeight:(l==null?void 0:l.height)??(K==null?void 0:K.profileImageHeight)??100,displayName:E,defaultName:n.name,userId:n.$id,userEmail:n.email}),console.log(" Profile updated."),r(R=>({...R,displayName:E,profileSummary:N,profileImageId:I}))}catch(K){console.error("Failed to update profile:",K)}finally{_(!1),a(!1)}};return C(Sa,{className:"d-flex justify-content-center align-items-center min-vh-100",children:pe(eo,{className:"profile-card shadow-lg",children:[g&&pe("div",{className:"overlay",children:[C(zh,{animation:"border"}),C("p",{className:"mt-2",children:"Updating User Profile..."})]}),C(eo.Body,{className:"text-center",children:i?pe(hn,{children:[C("h2",{children:"Edit Profile"}),pe("form",{onSubmit:q,className:"mt-3",children:[pe("div",{className:"profile-image-upload",children:[C("input",{type:"file",accept:".png, .jpg",onChange:z}),C(nh,{src:f||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),C("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),b&&C("p",{className:"text-danger",children:b})]}),pe(hr.Group,{className:"mb-3",children:[C(hr.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:E,onChange:Z=>A(Z.target.value)}),pe("small",{className:"text-muted",children:[E.length,"/20"]})]}),pe(hr.Group,{className:"mb-3",children:[C(hr.Label,{children:"Profile Summary"}),C(hr.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:N,onChange:Z=>O(Z.target.value)}),pe("small",{className:"text-muted",children:[N.length,"/500"]})]}),C(Nn,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):pe(hn,{children:[C(nh,{src:t!=null&&t.profileImageId?ty(t.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),C("h2",{className:"display-name",children:(t==null?void 0:t.displayName)||"Username"}),C("p",{className:"account-name",children:n==null?void 0:n.name}),C("p",{className:"text-muted",children:(t==null?void 0:t.profileSummary)??"No profile description provided"}),C(Nn,{className:"btn-lg mt-3",onClick:U,children:"Edit Profile"})]})})]})})},qU=()=>{const[n,e]=w.useState<string|null>null;w.useEffect(()=>{(async function(){try{const i=await ao();i!=null&&i.$id&&e(i.$id)}catch(i){console.error("Error fetching user data:",i)}})()},[]);const t=n?`https://lynxlenior.github.io/TraderyMessenger/#/${n}`:"";return C("div",{className:"messages-container",children:n?C("iframe",{width:"100%",height:"100%",src:t,title:"TraderyMessenger"}):C("p",{children:"Loading messages..."})})},KU=()=>{const{session:n}=wo(),e=Aa(),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState(""),[f,p]=w.useState(""),[g,_]=w.useState(null);function E(N){if(!N.target.files||N.target.files.length===0)return;const O=N.target.files[0];if(O.size>5*1024*1024){_("File size must be 5MB or less.");return}_(null);const b=new Image;b.onload=function(){r({height:b.height,file:O,width:b.width})},b.src=URL.createObjectURL(O)}return pe(hn,{children:[i&&C("div",{className:"overlay",children:C("div",{className:"overlay-content",children:C("p",{children:"Please wait... Creating Tradery Item"})})}),C("div",{className:"Main",children:pe("div",{className:"container",children:[C("h1",{children:"Post Item"}),g&&C("p",{style:{color:"red"},children:g}),pe("form",{onSubmit:async N=>{N.preventDefault(),a(!0);const b=new FormData(N.currentTarget).get("itemCategory");if(!l||!f||!b){_("Please fill in all fields."),a(!1);return}try{const B=await ao();if(!B){console.log("User data is still loading. Please wait.");return}const U=await VU({name:l,authorID:B.$id,description:f,date:new Date().toISOString(),imageHeight:(t==null?void 0:t.height)??100,imageFileId:"",imageWidth:(t==null?void 0:t.width)??100,isApproved:!1,itemCategory:b});if(console.log("Item created successfully:",U.items),t!=null&&t.file){console.log("Uploading image...");const z=await bU(t.file);await ER(U.items.$id,{imageFileId:z==null?void 0:z.$id,imageHeight:t==null?void 0:t.height,imageWidth:t==null?void 0:t.width,name:l,description:f,authorID:B.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:b}),console.log("Image uploaded successfully:",z.$id)}e(`/Item/${U.items.$id}`)}catch(B){console.error("Error creating item:",B),alert("Failed to create item. Please try again.")}finally{a(!1)}},autoComplete:"off",children:[C("div",{className:"uploader",children:pe(hr.Group,{controlId:"formFileLg",className:"mb-3",children:[C(hr.Label,{children:"Import Image (Max: 5MB)"}),C(hr.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:E,required:!0})]})}),C("div",{className:"mb-3",children:C(hv,{controlId:"floatingSelect",label:"Category",children:pe(hr.Select,{className:"itemCategory",id:"itemCategory",name:"itemCategory",required:!0,children:[C("option",{value:"",disabled:!0,children:"Select a Category..."}),C("option",{value:"a",children:"School Supplies"}),C("option",{value:"b",children:"Clothing"}),C("option",{value:"c",children:"Entertainment/Hobbies"}),C("option",{value:"d",children:"Gaming/Technology"}),C("option",{value:"e",children:"Accessories"}),C("option",{value:"f",children:"Miscellaneous"})]})})}),pe("div",{className:"mb-3",children:[C(hr.Control,{id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:l,onChange:N=>c(N.target.value),required:!0}),pe("small",{children:[l.length,"/40"]})]}),pe(hr.Group,{className:"mb-3",controlId:"Description.ControlTextarea1",children:[C(hr.Label,{children:"Item Description"}),C(hr.Control,{rows:4,as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:f,onChange:N=>p(N.target.value),required:!0}),pe("small",{children:[f.length,"/500"]})]}),C(Nn,{className:"submitbtn",type:"submit",disabled:i,children:"Submit"})]})]})})]})},GU=()=>{const[n,e]=w.useState([]),[t,r]=w.useState({});return w.useEffect(()=>{(async function(){const a=await ao();if(!a){console.log("User data is still loading. Please wait.");return}const{items:l}=await Rv(a.$id);e(l);const c={};await Promise.all(l.map(async f=>{if(!c[f.authorID]){const{userdb:p}=await Eo(f.authorID);c[f.authorID]=p}})),r(c)})()},[]),C("div",{className:"home",children:C("div",{className:"container",id:"pagewrap",children:C("div",{className:"items container",children:C(ls,{children:n.length>0?n.map(i=>{const l={url:i.imageFileId&&Kc(i.imageFileId),height:i.imageHeight,width:i.imageWidth},c=t[i.authorID];return C(as,{xs:12,md:3,style:{paddingBottom:"20px"},children:C("a",{className:"itemLink",href:`#/Item/${i.$id}`,children:C(Kh,{image:l,name:i.name,date:i.date,author:c?c.displayName||c.defaultName:"Unknown Author"})})},i.$id)}):C(Sa,{children:pe(mc,{variant:"warning",children:["No Items are currently posted, ",C(mc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})};var CT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},QU=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},IR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let E=(c&15)<<2|p>>6,A=p&63;f||(A=64,l||(E=64)),r.push(t[g],t[_],t[E],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(TR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new YU;const E=a<<2|c>>4;if(r.push(E),p!==64){const A=c<<4&240|p>>2;if(r.push(A),_!==64){const N=p<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XU=function(n){const e=TR(n);return IR.encodeByteArray(e,!0)},uh=function(n){return XU(n).replace(/\./g,"")},SR=function(n){try{return IR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=()=>JU().__FIREBASE_DEFAULTS__,e$=()=>{if(typeof process>"u"||typeof CT>"u")return;const n=CT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},t$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&SR(n[1]);return e&&JSON.parse(e)},Qh=()=>{try{return ZU()||e$()||t$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CR=n=>{var e,t;return(t=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},n$=n=>{const e=CR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},AR=()=>{var n;return(n=Qh())===null||n===void 0?void 0:n.config},RR=n=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uh(JSON.stringify(t)),uh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function o$(){var n;const e=(n=Qh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l$(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function u$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c$(){const n=Bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function d$(){return!o$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f$(){try{return typeof indexedDB=="object"}catch{return!1}}function h$(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="FirebaseError";class Cs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=p$,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?m$(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Cs(i,c,r)}}function m$(n,e){return n.replace(g$,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const g$=/\{\$([^}]+)}/g;function y$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ec(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(AT(a)&&AT(l)){if(!Ec(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function AT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function v$(n,e){const t=new _$(n,e);return t.subscribe.bind(t)}class _${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");w$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_g),i.error===void 0&&(i.error=_g),i.complete===void 0&&(i.complete=_g);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w$(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(n){return n&&n._delegate?n._delegate:n}class ya{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new r$;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I$(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T$(n){return n===na?void 0:n}function I$(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new E$(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const C$={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},A$=ht.INFO,R$={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},b$=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=R$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=A$,this._logHandler=b$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const N$=(n,e)=>e.some(t=>n instanceof t);let RT,bT;function k$(){return RT||(RT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P$(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bR=new WeakMap,iy=new WeakMap,NR=new WeakMap,wg=new WeakMap,kv=new WeakMap;function D$(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(fo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&bR.set(t,n)}).catch(()=>{}),kv.set(e,n),e}function O$(n){if(iy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});iy.set(n,e)}let sy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||NR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function x$(n){sy=n(sy)}function L$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Eg(this),e,...t);return NR.set(r,e.sort?e.sort():[e]),fo(r)}:P$().includes(n)?function(...e){return n.apply(Eg(this),e),fo(bR.get(this))}:function(...e){return fo(n.apply(Eg(this),e))}}function M$(n){return typeof n=="function"?L$(n):(n instanceof IDBTransaction&&O$(n),N$(n,k$())?new Proxy(n,sy):n)}function fo(n){if(n instanceof IDBRequest)return D$(n);if(wg.has(n))return wg.get(n);const e=M$(n);return e!==n&&(wg.set(n,e),kv.set(e,n)),e}const Eg=n=>kv.get(n);function V$(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=fo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(fo(l.result),f.oldVersion,f.newVersion,fo(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const U$=["get","getKey","getAll","getAllKeys","count"],$$=["put","add","delete","clear"],Tg=new Map;function NT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=$$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U$.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return Tg.set(e,a),a}x$(n=>({...n,get:(e,t,r)=>NT(e,t)||n.get(e,t,r),has:(e,t)=>!!NT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F$(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function F$(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oy="@firebase/app",kT="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Nv("@firebase/app"),B$="@firebase/app-compat",H$="@firebase/analytics-compat",z$="@firebase/analytics",W$="@firebase/app-check-compat",q$="@firebase/app-check",K$="@firebase/auth",G$="@firebase/auth-compat",Q$="@firebase/database",Y$="@firebase/data-connect",X$="@firebase/database-compat",J$="@firebase/functions",Z$="@firebase/functions-compat",ej="@firebase/installations",tj="@firebase/installations-compat",nj="@firebase/messaging",rj="@firebase/messaging-compat",ij="@firebase/performance",sj="@firebase/performance-compat",oj="@firebase/remote-config",aj="@firebase/remote-config-compat",lj="@firebase/storage",uj="@firebase/storage-compat",cj="@firebase/firestore",dj="@firebase/vertexai",fj="@firebase/firestore-compat",hj="firebase",pj="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="[DEFAULT]",mj={[oy]:"fire-core",[B$]:"fire-core-compat",[z$]:"fire-analytics",[H$]:"fire-analytics-compat",[q$]:"fire-app-check",[W$]:"fire-app-check-compat",[K$]:"fire-auth",[G$]:"fire-auth-compat",[Q$]:"fire-rtdb",[Y$]:"fire-data-connect",[X$]:"fire-rtdb-compat",[J$]:"fire-fn",[Z$]:"fire-fn-compat",[ej]:"fire-iid",[tj]:"fire-iid-compat",[nj]:"fire-fcm",[rj]:"fire-fcm-compat",[ij]:"fire-perf",[sj]:"fire-perf-compat",[oj]:"fire-rc",[aj]:"fire-rc-compat",[lj]:"fire-gcs",[uj]:"fire-gcs-compat",[cj]:"fire-fst",[fj]:"fire-fst-compat",[dj]:"fire-vertex","fire-js":"fire-js",[hj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,gj=new Map,ly=new Map;function PT(n,e){try{n.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $l(n){const e=n.name;if(ly.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;ly.set(e,n);for(const t of ch.values())PT(t,n);for(const t of gj.values())PT(t,n);return!0}function Pv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new Gc("app","Firebase",yj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=pj;function kR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ay,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ho.create("bad-app-name",{appName:String(i)});if(t||(t=AR()),!t)throw ho.create("no-options");const a=ch.get(i);if(a){if(Ec(t,a.options)&&Ec(r,a.config))return a;throw ho.create("duplicate-app",{appName:i})}const l=new S$(i);for(const f of ly.values())l.addComponent(f);const c=new vj(t,r,l);return ch.set(i,c),c}function PR(n=ay){const e=ch.get(n);if(!e&&n===ay&&AR())return kR();if(!e)throw ho.create("no-app",{appName:n});return e}function po(n,e,t){var r;let i=(r=mj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}$l(new ya(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="firebase-heartbeat-database",wj=1,Tc="firebase-heartbeat-store";let Ig=null;function DR(){return Ig||(Ig=V$(_j,wj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ho.create("idb-open",{originalErrorMessage:n.message})})),Ig}async function Ej(n){try{const t=(await DR()).transaction(Tc),r=await t.objectStore(Tc).get(OR(n));return await t.done,r}catch(e){if(e instanceof Cs)ps.warn(e.message);else{const t=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(t.message)}}}async function DT(n,e){try{const r=(await DR()).transaction(Tc,"readwrite");await r.objectStore(Tc).put(e,OR(n)),await r.done}catch(t){if(t instanceof Cs)ps.warn(t.message);else{const r=ho.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ps.warn(r.message)}}}function OR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=1024,Ij=30;class Sj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Aj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=OT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Ij){const l=Rj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OT(),{heartbeatsToSend:r,unsentEntries:i}=Cj(this._heartbeatsCache.heartbeats),a=uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ps.warn(t),""}}}function OT(){return new Date().toISOString().substring(0,10)}function Cj(n,e=Tj){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),xT(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),xT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f$()?h$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ej(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return DT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return DT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xT(n){return uh(JSON.stringify({version:2,heartbeats:n})).length}function Rj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(n){$l(new ya("platform-logger",e=>new j$(e),"PRIVATE")),$l(new ya("heartbeat",e=>new Sj(e),"PRIVATE")),po(oy,kT,n),po(oy,kT,"esm2017"),po("fire-js","")}bj("");var Nj="firebase",kj="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po(Nj,kj,"app");var LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,xR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function P(){}P.prototype=R.prototype,I.D=R.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(x,L,V){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return R.prototype[L].apply(x,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,R,P){P||(P=0);var x=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)x[L]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(L=0;16>L;++L)x[L]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=I.g[0],P=I.g[1],L=I.g[2];var V=I.g[3],D=R+(V^P&(L^V))+x[0]+3614090360&4294967295;R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+x[1]+3905402710&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+x[2]+606105819&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+x[3]+3250441966&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+x[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+x[5]+1200080426&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+x[6]+2821735955&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+x[7]+4249261313&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+x[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+x[9]+2336552879&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+x[10]+4294925233&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+x[11]+2304563134&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+x[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+x[13]+4254626195&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+x[14]+2792965006&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+x[15]+1236535329&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(L^V&(P^L))+x[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+x[6]+3225465664&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+x[11]+643717713&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+x[0]+3921069994&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+x[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+x[10]+38016083&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+x[15]+3634488961&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+x[4]+3889429448&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+x[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+x[14]+3275163606&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+x[3]+4107603335&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+x[8]+1163531501&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+x[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+x[2]+4243563512&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+x[7]+1735328473&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+x[12]+2368359562&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(P^L^V)+x[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+x[8]+2272392833&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+x[11]+1839030562&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+x[14]+4259657740&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+x[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+x[4]+1272893353&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+x[7]+4139469664&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+x[10]+3200236656&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+x[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+x[0]+3936430074&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+x[3]+3572445317&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+x[6]+76029189&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+x[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+x[12]+3873151461&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+x[15]+530742520&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+x[2]+3299628645&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(L^(P|~V))+x[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+x[7]+1126891415&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+x[14]+2878612391&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+x[5]+4237533241&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+x[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+x[3]+2399980690&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+x[10]+4293915773&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+x[1]+2240044497&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+x[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+x[15]+4264355552&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+x[6]+2734768916&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+x[13]+1309151649&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+x[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+x[11]+3174756917&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+x[2]+718787259&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var P=R-this.blockSize,x=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=P;)i(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<R;)if(x[L++]=I.charCodeAt(V++),L==this.blockSize){i(this,x),L=0;break}}else for(;V<R;)if(x[L++]=I[V++],L==this.blockSize){i(this,x),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var P=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=P&255,P/=256;for(this.u(I),I=Array(16),R=P=0;4>R;++R)for(var x=0;32>x;x+=8)I[P++]=this.g[R]>>>x&255;return I};function a(I,R){var P=c;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=R(I)}function l(I,R){this.h=R;for(var P=[],x=!0,L=I.length-1;0<=L;L--){var V=I[L]|0;x&&V==R||(P[L]=V,x=!1)}this.g=P}var c={};function f(I){return-128<=I&&128>I?a(I,function(R){return new l([R|0],0>R?-1:0)}):new l([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return b(p(-I));for(var R=[],P=1,x=0;I>=P;x++)R[x]=I/P|0,P*=4294967296;return new l(R,0)}function g(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return b(g(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(R,8)),x=_,L=0;L<I.length;L+=8){var V=Math.min(8,I.length-L),D=parseInt(I.substring(L,L+V),R);8>V?(V=p(Math.pow(R,V)),x=x.j(V).add(p(D))):(x=x.j(P),x=x.add(p(D)))}return x}var _=f(0),E=f(1),A=f(16777216);n=l.prototype,n.m=function(){if(O(this))return-b(this).m();for(var I=0,R=1,P=0;P<this.g.length;P++){var x=this.i(P);I+=(0<=x?x:4294967296+x)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(O(this))return"-"+b(this).toString(I);for(var R=p(Math.pow(I,6)),P=this,x="";;){var L=q(P,R).g;P=B(P,L.j(R));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=L,N(P))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function O(I){return I.h==-1}n.l=function(I){return I=B(this,I),O(I)?-1:N(I)?0:1};function b(I){for(var R=I.g.length,P=[],x=0;x<R;x++)P[x]=~I.g[x];return new l(P,~I.h).add(E)}n.abs=function(){return O(this)?b(this):this},n.add=function(I){for(var R=Math.max(this.g.length,I.g.length),P=[],x=0,L=0;L<=R;L++){var V=x+(this.i(L)&65535)+(I.i(L)&65535),D=(V>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);x=D>>>16,V&=65535,D&=65535,P[L]=D<<16|V}return new l(P,P[P.length-1]&-2147483648?-1:0)};function B(I,R){return I.add(b(R))}n.j=function(I){if(N(this)||N(I))return _;if(O(this))return O(I)?b(this).j(b(I)):b(b(this).j(I));if(O(I))return b(this.j(b(I)));if(0>this.l(A)&&0>I.l(A))return p(this.m()*I.m());for(var R=this.g.length+I.g.length,P=[],x=0;x<2*R;x++)P[x]=0;for(x=0;x<this.g.length;x++)for(var L=0;L<I.g.length;L++){var V=this.i(x)>>>16,D=this.i(x)&65535,we=I.i(L)>>>16,Le=I.i(L)&65535;P[2*x+2*L]+=D*Le,U(P,2*x+2*L),P[2*x+2*L+1]+=V*Le,U(P,2*x+2*L+1),P[2*x+2*L+1]+=D*we,U(P,2*x+2*L+1),P[2*x+2*L+2]+=V*we,U(P,2*x+2*L+2)}for(x=0;x<R;x++)P[x]=P[2*x+1]<<16|P[2*x];for(x=R;x<2*R;x++)P[x]=0;return new l(P,0)};function U(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function z(I,R){this.g=I,this.h=R}function q(I,R){if(N(R))throw Error("division by zero");if(N(I))return new z(_,_);if(O(I))return R=q(b(I),R),new z(b(R.g),b(R.h));if(O(R))return R=q(I,b(R)),new z(b(R.g),R.h);if(30<I.g.length){if(O(I)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var P=E,x=R;0>=x.l(I);)P=Z(P),x=Z(x);var L=K(P,1),V=K(x,1);for(x=K(x,2),P=K(P,2);!N(x);){var D=V.add(x);0>=D.l(I)&&(L=L.add(P),V=D),x=K(x,1),P=K(P,1)}return R=B(I,L.j(R)),new z(L,R)}for(L=_;0<=I.l(R);){for(P=Math.max(1,Math.floor(I.m()/R.m())),x=Math.ceil(Math.log(P)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=p(P),D=V.j(R);O(D)||0<D.l(I);)P-=x,V=p(P),D=V.j(R);N(V)&&(V=E),L=L.add(V),I=B(I,D)}return new z(L,I)}n.A=function(I){return q(this,I).h},n.and=function(I){for(var R=Math.max(this.g.length,I.g.length),P=[],x=0;x<R;x++)P[x]=this.i(x)&I.i(x);return new l(P,this.h&I.h)},n.or=function(I){for(var R=Math.max(this.g.length,I.g.length),P=[],x=0;x<R;x++)P[x]=this.i(x)|I.i(x);return new l(P,this.h|I.h)},n.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),P=[],x=0;x<R;x++)P[x]=this.i(x)^I.i(x);return new l(P,this.h^I.h)};function Z(I){for(var R=I.g.length+1,P=[],x=0;x<R;x++)P[x]=I.i(x)<<1|I.i(x-1)>>>31;return new l(P,I.h)}function K(I,R){var P=R>>5;R%=32;for(var x=I.g.length-P,L=[],V=0;V<x;V++)L[V]=0<R?I.i(V+P)>>>R|I.i(V+P+1)<<32-R:I.i(V+P);return new l(L,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,mo=l}).apply(typeof LT<"u"?LT:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LR,nc,MR,$f,uy,VR,UR,$R;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var T=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var G=d[k];if(!(G in T))break e;T=T[G]}d=d[d.length-1],k=T[d],y=y(k),y!=k&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var T=0,k=!1,G={next:function(){if(!k&&T<d.length){var te=T++;return{value:y(te,d[te]),done:!1}}return k=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,T){return d.call.apply(d.bind,arguments)}function _(d,y,T){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,k),d.apply(y,G)}}return function(){return d.apply(y,arguments)}}function E(d,y,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function A(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function N(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(k,G,te){for(var ge=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ge[bt-2]=arguments[bt];return y.prototype[G].apply(k,ge)}}function O(d){const y=d.length;if(0<y){const T=Array(y);for(let k=0;k<y;k++)T[k]=d[k];return T}return[]}function b(d,y){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(f(k)){const G=d.length||0,te=k.length||0;d.length=G+te;for(let ge=0;ge<te;ge++)d[G+ge]=k[ge]}else d.push(k)}}class B{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var Z=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function K(d,y,T){for(const k in d)y.call(T,d[k],k,d)}function I(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function R(d){const y={};for(const T in d)y[T]=d[T];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(d,y){let T,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(T in k)d[T]=k[T];for(let te=0;te<P.length;te++)T=P[te],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function L(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function V(d){c.setTimeout(()=>{throw d},0)}function D(){var d=me;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,T){const k=Le.get();k.set(y,T),this.h?this.h.next=k:this.g=k,this.h=k}}var Le=new B(()=>new He,d=>d.reset());class He{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,me=new we,le=()=>{const d=c.Promise.resolve(void 0);Ne=()=>{d.then(F)}};var F=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(T){V(T)}var y=Le;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return d}();function Te(d,y){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(Z){e:{try{q(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Te.aa.h.call(this)}}N(Te,he);var Ae={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),je=0;function st(d,y,T,k,G){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!k,this.ha=G,this.key=++je,this.da=this.fa=!1}function Et(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function St(d){this.src=d,this.g={},this.h=0}St.prototype.add=function(d,y,T,k,G){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var ge=kt(d,y,k,G);return-1<ge?(y=d[ge],T||(y.fa=!1)):(y=new st(y,this.src,te,!!k,G),y.fa=T,d.push(y)),y};function it(d,y){var T=y.type;if(T in d.g){var k=d.g[T],G=Array.prototype.indexOf.call(k,y,void 0),te;(te=0<=G)&&Array.prototype.splice.call(k,G,1),te&&(Et(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function kt(d,y,T,k){for(var G=0;G<d.length;++G){var te=d[G];if(!te.da&&te.listener==y&&te.capture==!!T&&te.ha==k)return G}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),rt={};function Ft(d,y,T,k,G){if(Array.isArray(y)){for(var te=0;te<y.length;te++)Ft(d,y[te],T,k,G);return null}return T=on(T),d&&d[Ge]?d.K(y,T,p(k)?!!k.capture:!1,G):pn(d,y,T,!1,k,G)}function pn(d,y,T,k,G,te){if(!y)throw Error("Invalid event type");var ge=p(G)?!!G.capture:!!G,bt=Dn(d);if(bt||(d[Kt]=bt=new St(d)),T=bt.add(y,T,k,ge,te),T.proxy)return T;if(k=Dr(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)ve||(G=ge),G===void 0&&(G=!1),d.addEventListener(y.toString(),k,G);else if(d.attachEvent)d.attachEvent(Jt(y.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Dr(){function d(T){return y.call(d.src,d.listener,T)}const y=er;return d}function Hn(d,y,T,k,G){if(Array.isArray(y))for(var te=0;te<y.length;te++)Hn(d,y[te],T,k,G);else k=p(k)?!!k.capture:!!k,T=on(T),d&&d[Ge]?(d=d.i,y=String(y).toString(),y in d.g&&(te=d.g[y],T=kt(te,T,k,G),-1<T&&(Et(te[T]),Array.prototype.splice.call(te,T,1),te.length==0&&(delete d.g[y],d.h--)))):d&&(d=Dn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=kt(y,T,k,G)),(T=-1<d?y[d]:null)&&Bt(T))}function Bt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ge])it(y.i,d);else{var T=d.type,k=d.proxy;y.removeEventListener?y.removeEventListener(T,k,d.capture):y.detachEvent?y.detachEvent(Jt(T),k):y.addListener&&y.removeListener&&y.removeListener(k),(T=Dn(y))?(it(T,d),T.h==0&&(T.src=null,y[Kt]=null)):Et(d)}}}function Jt(d){return d in rt?rt[d]:rt[d]="on"+d}function er(d,y){if(d.da)d=!0;else{y=new Te(y,this);var T=d.listener,k=d.ha||d.src;d.fa&&Bt(d),d=T.call(k,y)}return d}function Dn(d){return d=d[Kt],d instanceof St?d:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(d){return typeof d=="function"?d:(d[Dt]||(d[Dt]=function(y){return d.handleEvent(y)}),d[Dt])}function $e(){ee.call(this),this.i=new St(this),this.M=this,this.F=null}N($e,ee),$e.prototype[Ge]=!0,$e.prototype.removeEventListener=function(d,y,T,k){Hn(this,d,y,T,k)};function mt(d,y){var T,k=d.F;if(k)for(T=[];k;k=k.F)T.push(k);if(d=d.M,k=y.type||y,typeof y=="string")y=new he(y,d);else if(y instanceof he)y.target=y.target||d;else{var G=y;y=new he(k,d),x(y,G)}if(G=!0,T)for(var te=T.length-1;0<=te;te--){var ge=y.g=T[te];G=Ot(ge,k,!0,y)&&G}if(ge=y.g=d,G=Ot(ge,k,!0,y)&&G,G=Ot(ge,k,!1,y)&&G,T)for(te=0;te<T.length;te++)ge=y.g=T[te],G=Ot(ge,k,!1,y)&&G}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],k=0;k<T.length;k++)Et(T[k]);delete d.g[y],d.h--}}this.F=null},$e.prototype.K=function(d,y,T,k){return this.i.add(String(d),y,!1,T,k)},$e.prototype.L=function(d,y,T,k){return this.i.add(String(d),y,!0,T,k)};function Ot(d,y,T,k){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,te=0;te<y.length;++te){var ge=y[te];if(ge&&!ge.da&&ge.capture==T){var bt=ge.listener,an=ge.ha||ge.src;ge.fa&&it(d.i,ge),G=bt.call(an,k)!==!1&&G}}return G&&!k.defaultPrevented}function mn(d,y,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function zn(d){d.g=mn(()=>{d.g=null,d.i&&(d.i=!1,zn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Wn extends ee{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(d){ee.call(this),this.h=d,this.g={}}N(ze,ee);var ot=[];function gn(d){K(d.g,function(y,T){this.g.hasOwnProperty(T)&&Bt(y)},d),d.g={}}ze.prototype.N=function(){ze.aa.N.call(this),gn(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=c.JSON.stringify,fi=c.JSON.parse,xo=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function hi(){}hi.prototype.h=null;function Gr(d){return d.h||(d.h=d.i())}function Ui(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){he.call(this,"d")}N(nr,he);function As(){he.call(this,"c")}N(As,he);var vr={},Lo=null;function pi(){return Lo=Lo||new $e}vr.La="serverreachability";function mi(d){he.call(this,vr.La,d)}N(mi,he);function rr(d){const y=pi();mt(y,new mi(y))}vr.STAT_EVENT="statevent";function Mo(d,y){he.call(this,vr.STAT_EVENT,d),this.stat=y}N(Mo,he);function Ht(d){const y=pi();mt(y,new Mo(y,d))}vr.Ma="timingevent";function $(d,y){he.call(this,vr.Ma,d),this.size=y}N($,he);function W(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function re(d,y,T,k,G,te){d.info(function(){if(d.g)if(te)for(var ge="",bt=te.split("&"),an=0;an<bt.length;an++){var vt=bt[an].split("=");if(1<vt.length){var yn=vt[0];vt=vt[1];var en=yn.split("_");ge=2<=en.length&&en[1]=="type"?ge+(yn+"="+vt+"&"):ge+(yn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+y+`
`+T+`
`+ge})}function _e(d,y,T,k,G,te,ge){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+y+`
`+T+`
`+te+" "+ge})}function ke(d,y,T,k){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(d,T)+(k?" "+k:"")})}function Qe(d,y){d.info(function(){return"TIMEOUT: "+y})}X.prototype.info=function(){};function Pe(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var k=T[d];if(!(2>k.length)){var G=k[1];if(Array.isArray(G)&&!(1>G.length)){var te=G[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<G.length;ge++)G[ge]=""}}}}return tr(T)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function et(){}N(et,hi),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},De=new et;function Je(d,y,T,k){this.j=d,this.i=y,this.l=T,this.R=k||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}var Tt={},at={};function Rt(d,y,T){d.L=1,d.v=Ps(Er(y)),d.m=T,d.P=!0,Or(d,null)}function Or(d,y){d.F=Date.now(),ct(d),d.A=Er(d.v);var T=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Os(T.i,"t",k),d.C=0,T=d.j.J,d.h=new Gt,d.g=yd(d.j,T?y:null,!d.m),0<d.O&&(d.M=new Wn(E(d.Y,d,d.g),d.O)),y=d.U,T=d.g,k=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(ot[0]=G.toString()),G=ot);for(var te=0;te<G.length;te++){var ge=Ft(T,G[te],k||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),rr(),re(d.i,d.u,d.A,d.l,d.R,d.m)}Je.prototype.ca=function(d){d=d.target;const y=this.M;y&&sr(d)==3?y.j():this.Y(d)},Je.prototype.Y=function(d){try{if(d==this.g)e:{const en=sr(this.g);var y=this.g.Ba();const Mr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||en!=4||y==7||(y==8||0>=Mr?rr(3):rr(2)),wr(this);var T=this.g.Z();this.X=T;t:if(gi(this)){var k=gu(this.g);d="";var G=k.length,te=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),xn(this);var ge="";break t}this.h.i=new c.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,d+=this.h.i.decode(k[y],{stream:!(te&&y==G-1)});k.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=T==200,_e(this.i,this.u,this.A,this.l,this.R,en,T),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,an=this.g;if((bt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(bt)){var vt=bt;break t}}vt=null}if(T=vt)ke(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yi(this,T);else{this.o=!1,this.s=3,Ht(12),Tn(this),xn(this);break e}}if(this.P){T=!0;let Ir;for(;!this.J&&this.C<ge.length;)if(Ir=_r(this,ge),Ir==at){en==4&&(this.s=4,Ht(14),T=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(Ir==Tt){this.s=4,Ht(15),ke(this.i,this.l,ge,"[Invalid Chunk]"),T=!1;break}else ke(this.i,this.l,Ir,null),yi(this,Ir);if(gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ge.length!=0||this.h.h||(this.s=1,Ht(16),T=!1),this.o=this.o&&T,!T)ke(this.i,this.l,ge,"[Invalid Chunked Response]"),Tn(this),xn(this);else if(0<ge.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),vu(yn),yn.M=!0,Ht(11))}}else ke(this.i,this.l,ge,null),yi(this,ge);en==4&&Tn(this),this.o&&!this.J&&(en==4?ja(this.j,this):(this.o=!1,ct(this)))}else La(this.g),T==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Tn(this),xn(this)}}}catch{}finally{}};function gi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function _r(d,y){var T=d.C,k=y.indexOf(`
`,T);return k==-1?at:(T=Number(y.substring(T,k)),isNaN(T)?Tt:(k+=1,k+T>y.length?at:(y=y.slice(k,k+T),d.C=k+T,y)))}Je.prototype.cancel=function(){this.J=!0,Tn(this)};function ct(d){d.S=Date.now()+d.I,Rs(d,d.I)}function Rs(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=W(E(d.ba,d),y)}function wr(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Je.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(rr(),Ht(17)),Tn(this),this.s=2,xn(this)):Rs(this,this.S-d)};function xn(d){d.j.G==0||d.J||ja(d.j,d)}function Tn(d){wr(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,gn(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function yi(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||ft(T.h,d))){if(!d.K&&ft(T.h,d)&&T.G==3){try{var k=T.Da.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)$a(T),Zr(T);else break e;Ua(T),Ht(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=W(E(T.Za,T),6e3));if(1>=vi(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Hi(T,11)}else if((d.K||T.g==d)&&$a(T),!U(y))for(G=T.Da.g.parse(y),y=0;y<G.length;y++){let vt=G[y];if(T.T=vt[0],vt=vt[1],T.G==2)if(vt[0]=="c"){T.K=vt[1],T.ia=vt[2];const yn=vt[3];yn!=null&&(T.la=yn,T.j.info("VER="+T.la));const en=vt[4];en!=null&&(T.Aa=en,T.j.info("SVER="+T.Aa));const Mr=vt[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(k=1.5*Mr,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Ir=d.g;if(Ir){const Ho=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var te=k.h;te.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(xr(te,te.h),te.h=null))}if(k.D){const Ba=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(k.ya=Ba,Pt(k.I,k.D,Ba))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var ge=d;if(k.qa=gd(k,k.J?k.ia:null,k.W),ge.K){Vo(k.h,ge);var bt=ge,an=k.L;an&&(bt.I=an),bt.B&&(wr(bt),ct(bt)),k.g=ge}else Bo(k);0<T.i.length&&Ti(T)}else vt[0]!="stop"&&vt[0]!="close"||Hi(T,7);else T.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Hi(T,7):Sn(T):vt[0]!="noop"&&T.l&&T.l.ta(vt),T.v=0)}}rr(4)}catch{}}var dt=class{constructor(d,y){this.g=d,this.map=y}};function Ct(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function vi(d){return d.h?1:d.g?d.g.size:0}function ft(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function xr(d,y){d.g?d.g.add(y):d.h=y}function Vo(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ct.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Na(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return O(d.i)}function ka(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],T=d.length,k=0;k<T;k++)y.push(d[k]);return y}y=[],T=0;for(k in d)y[T++]=d[k];return y}function Pa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const k in d)y[T++]=k;return y}}}function bs(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=Pa(d),k=ka(d),G=k.length,te=0;te<G;te++)y.call(void 0,k[te],T&&T[te],d)}var Uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var k=d[T].indexOf("="),G=null;if(0<=k){var te=d[T].substring(0,k);G=d[T].substring(k+1)}else te=d[T];y(te,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function $i(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof $i){this.h=d.h,$o(this,d.j),this.o=d.o,this.g=d.g,Ns(this,d.s),this.l=d.l;var y=d.i,T=new _i;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),ks(this,T),this.m=d.m}else d&&(y=String(d).match(Uo))?(this.h=!1,$o(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),Ns(this,y[4]),this.l=gt(y[5]||"",!0),ks(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}$i.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ds(y,Da,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ds(y,Da,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Ds(T,T.charAt(0)=="/"?ld:ad,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Ds(T,hu)),d.join("")};function Er(d){return new $i(d)}function $o(d,y,T){d.j=T?gt(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ns(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function ks(d,y,T){y instanceof _i?(d.i=y,wi(d.i,d.h)):(T||(y=Ds(y,ud)),d.i=new _i(y,d.h))}function Pt(d,y,T){d.i.set(y,T)}function Ps(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gt(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ds(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,od),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function od(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Da=/[#\/\?@]/g,ad=/[#\?:]/g,ld=/[#\?]/g,ud=/[#\?@]/g,hu=/#/g;function _i(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function In(d){d.g||(d.g=new Map,d.h=0,d.i&&mp(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=_i.prototype,n.add=function(d,y){In(this),this.i=null,d=Lr(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function Qr(d,y){In(d),y=Lr(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Yr(d,y){return In(d),y=Lr(d,y),d.g.has(y)}n.forEach=function(d,y){In(this),this.g.forEach(function(T,k){T.forEach(function(G){d.call(y,G,k,this)},this)},this)},n.na=function(){In(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let k=0;k<y.length;k++){const G=d[k];for(let te=0;te<G.length;te++)T.push(y[k])}return T},n.V=function(d){In(this);let y=[];if(typeof d=="string")Yr(this,d)&&(y=y.concat(this.g.get(Lr(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},n.set=function(d,y){return In(this),this.i=null,d=Lr(this,d),Yr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Os(d,y,T){Qr(d,y),0<T.length&&(d.i=null,d.g.set(Lr(d,y),O(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var k=y[T];const te=encodeURIComponent(String(k)),ge=this.V(k);for(k=0;k<ge.length;k++){var G=te;ge[k]!==""&&(G+="="+encodeURIComponent(String(ge[k]))),d.push(G)}}return this.i=d.join("&")};function Lr(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function wi(d,y){y&&!d.j&&(In(d),d.i=null,d.g.forEach(function(T,k){var G=k.toLowerCase();k!=G&&(Qr(this,k),Os(this,G,T))},d)),d.j=y}function gp(d,y){const T=new X;if(c.Image){const k=new Image;k.onload=A(ir,T,"TestLoadImage: loaded",!0,y,k),k.onerror=A(ir,T,"TestLoadImage: error",!1,y,k),k.onabort=A(ir,T,"TestLoadImage: abort",!1,y,k),k.ontimeout=A(ir,T,"TestLoadImage: timeout",!1,y,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else y(!1)}function cd(d,y){const T=new X,k=new AbortController,G=setTimeout(()=>{k.abort(),ir(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:k.signal}).then(te=>{clearTimeout(G),te.ok?ir(T,"TestPingServer: ok",!0,y):ir(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),ir(T,"TestPingServer: error",!1,y)})}function ir(d,y,T,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(T)}catch{}}function yp(){this.g=new xo}function dd(d,y,T){const k=T||"";try{bs(d,function(G,te){let ge=G;p(G)&&(ge=tr(G)),y.push(k+te+"="+encodeURIComponent(ge))})}catch(G){throw y.push(k+"type="+encodeURIComponent("_badmap")),G}}function ji(d){this.l=d.Ub||null,this.j=d.eb||!1}N(ji,hi),ji.prototype.g=function(){return new jo(this.l,this.j)},ji.prototype.i=function(d){return function(){return d}}({});function jo(d,y){$e.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(jo,$e),n=jo.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Jr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function fd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Xr(this):Jr(this),this.readyState==3&&fd(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Xr(this))},n.Qa=function(d){this.g&&(this.response=d,Xr(this))},n.ga=function(){this.g&&Xr(this)};function Xr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Jr(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Jr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Fi(d){let y="";return K(d,function(T,k){y+=k,y+=":",y+=T,y+=`\r
`}),y}function xs(d,y,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Fi(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Pt(d,y,T))}function Ut(d){$e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ut,$e);var vp=/^https?$/i,pu=["POST","PUT"];n=Ut.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?Gr(this.o):Gr(De),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(te){Fo(this,te);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)T.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const te of k.keys())T.set(te,k.get(te));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),G=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(pu,y,void 0))||k||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of T)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){Fo(this,te)}};function Fo(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Oa(d),Tr(d)}function Oa(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mu(this):this.bb())},n.bb=function(){mu(this)};function mu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||sr(d)!=4||d.Z()!=2)){if(d.u&&sr(d)==4)mn(d.Ea,0,d);else if(mt(d,"readystatechange"),sr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var k;if(k=ge===0){var G=String(d.D).match(Uo)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),k=!vp.test(G?G.toLowerCase():"")}T=k}if(T)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var te=2<sr(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",Oa(d)}}finally{Tr(d)}}}}function Tr(d,y){if(d.g){xa(d);const T=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||mt(d,"ready");try{T.onreadystatechange=k}catch{}}}function xa(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function sr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),fi(y)}};function gu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function La(d){const y={};d=(d.g&&2<=sr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(U(d[k]))continue;var T=L(d[k]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=y[G]||[];y[G]=te,te.push(T)}I(y,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function yu(d){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,d),this.cb=Ei("retryDelaySeedMs",1e4,d),this.Wa=Ei("forwardChannelMaxRetries",2,d),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ct(d&&d.concurrentRequestLimit),this.Da=new yp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=yu.prototype,n.la=8,n.G=1,n.connect=function(d,y,T,k){Ht(0),this.W=d,this.H=y||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=gd(this,null,this.W),Ti(this)};function Sn(d){if(Ma(d),d.G==3){var y=d.U++,T=Er(d.I);if(Pt(T,"SID",d.K),Pt(T,"RID",y),Pt(T,"TYPE","terminate"),Bi(d,T),y=new Je(d,d.j,y),y.L=2,y.v=Ps(Er(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.v,T=!0),T||(y.g=yd(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}md(d)}function Zr(d){d.g&&(vu(d),d.g.cancel(),d.g=null)}function Ma(d){Zr(d),d.u&&(c.clearTimeout(d.u),d.u=null),$a(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ti(d){if(!Zt(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ne||le(),ne||(Ne(),ne=!0),me.add(y,d),d.B=0}}function _p(d,y){return vi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=W(E(d.Ga,d,y),pd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Je(this,this.j,d);let te=this.o;if(this.S&&(te?(te=R(te),x(te,this.S)):te=this.S),this.m!==null||this.O||(G.H=te,te=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Ls(this,G,y),T=Er(this.I),Pt(T,"RID",d),Pt(T,"CVER",22),this.D&&Pt(T,"X-HTTP-Session-Id",this.D),Bi(this,T),te&&(this.O?y="headers="+encodeURIComponent(String(Fi(te)))+"&"+y:this.m&&xs(T,this.m,te)),xr(this.h,G),this.Ua&&Pt(T,"TYPE","init"),this.P?(Pt(T,"$req",y),Pt(T,"SID","null"),G.T=!0,Rt(G,T,null)):Rt(G,T,y),this.G=2}}else this.G==3&&(d?Va(this,d):this.i.length==0||Zt(this.h)||Va(this))};function Va(d,y){var T;y?T=y.l:T=d.U++;const k=Er(d.I);Pt(k,"SID",d.K),Pt(k,"RID",T),Pt(k,"AID",d.T),Bi(d,k),d.m&&d.o&&xs(k,d.m,d.o),T=new Je(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Ls(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),xr(d.h,T),Rt(T,k,y)}function Bi(d,y){d.H&&K(d.H,function(T,k){Pt(y,k,T)}),d.l&&bs({},function(T,k){Pt(y,k,T)})}function Ls(d,y,T){T=Math.min(d.i.length,T);var k=d.l?E(d.l.Na,d.l,d):null;e:{var G=d.i;let te=-1;for(;;){const ge=["count="+T];te==-1?0<T?(te=G[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let bt=!0;for(let an=0;an<T;an++){let vt=G[an].g;const yn=G[an].map;if(vt-=te,0>vt)te=Math.max(0,G[an].g-100),bt=!1;else try{dd(yn,ge,"req"+vt+"_")}catch{k&&k(yn)}}if(bt){k=ge.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,k}function Bo(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ne||le(),ne||(Ne(),ne=!0),me.add(y,d),d.v=0}}function Ua(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=W(E(d.Fa,d),pd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,hd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=W(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Zr(this),hd(this))};function vu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function hd(d){d.g=new Je(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Er(d.qa);Pt(y,"RID","rpc"),Pt(y,"SID",d.K),Pt(y,"AID",d.T),Pt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(y,"TO",d.ja),Pt(y,"TYPE","xmlhttp"),Bi(d,y),d.m&&d.o&&xs(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ps(Er(y)),T.m=null,T.P=!0,Or(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Zr(this),Ua(this),Ht(19))};function $a(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ja(d,y){var T=null;if(d.g==y){$a(d),vu(d),d.g=null;var k=2}else if(ft(d.h,y))T=y.D,Vo(d.h,y),k=1;else return;if(d.G!=0){if(y.o)if(k==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var G=d.B;k=pi(),mt(k,new $(k,T)),Ti(d)}else Bo(d);else if(G=y.s,G==3||G==0&&0<y.X||!(k==1&&_p(d,y)||k==2&&Ua(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),G){case 1:Hi(d,5);break;case 4:Hi(d,10);break;case 3:Hi(d,6);break;default:Hi(d,2)}}}function pd(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function Hi(d,y){if(d.j.info("Error code "+y),y==2){var T=E(d.fb,d),k=d.Xa;const G=!k;k=new $i(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$o(k,"https"),Ps(k),G?gp(k.toString(),T):cd(k.toString(),T)}else Ht(2);d.G=0,d.l&&d.l.sa(y),md(d),Ma(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function md(d){if(d.G=0,d.ka=[],d.l){const y=Na(d.h);(y.length!=0||d.i.length!=0)&&(b(d.ka,y),b(d.ka,d.i),d.h.i.length=0,O(d.i),d.i.length=0),d.l.ra()}}function gd(d,y,T){var k=T instanceof $i?Er(T):new $i(T);if(k.g!="")y&&(k.g=y+"."+k.g),Ns(k,k.s);else{var G=c.location;k=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var te=new $i(null);k&&$o(te,k),y&&(te.g=y),G&&Ns(te,G),T&&(te.l=T),k=te}return T=d.D,y=d.ya,T&&y&&Pt(k,T,y),Pt(k,"VER",d.la),Bi(d,k),k}function yd(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Ut(new ji({eb:T})):new Ut(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}n=_u.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fa(){}Fa.prototype.g=function(d,y){return new qn(d,y)};function qn(d,y){$e.call(this),this.g=new yu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!U(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ii(this)}N(qn,$e),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Sn(this.g)},qn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=tr(d),d=T);y.i.push(new dt(y.Ya++,d)),y.G==3&&Ti(y)},qn.prototype.N=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,qn.aa.N.call(this)};function vd(d){nr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}N(vd,nr);function _d(){As.call(this),this.status=1}N(_d,As);function Ii(d){this.g=d}N(Ii,_u),Ii.prototype.ua=function(){mt(this.g,"a")},Ii.prototype.ta=function(d){mt(this.g,new vd(d))},Ii.prototype.sa=function(d){mt(this.g,new _d)},Ii.prototype.ra=function(){mt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,$R=function(){return new Fa},UR=function(){return pi()},VR=vr,uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,$f=Re,Se.COMPLETE="complete",MR=Se,Ui.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",$e.prototype.listen=$e.prototype.K,nc=Ui,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,LR=Ut}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});const MT="@firebase/firestore",VT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Nv("@firebase/firestore");function vl(){return va.logLevel}function be(n,...e){if(va.logLevel<=ht.DEBUG){const t=e.map(Dv);va.debug(`Firestore (${ou}): ${n}`,...t)}}function ms(n,...e){if(va.logLevel<=ht.ERROR){const t=e.map(Dv);va.error(`Firestore (${ou}): ${n}`,...t)}}function jl(n,...e){if(va.logLevel<=ht.WARN){const t=e.map(Dv);va.warn(`Firestore (${ou}): ${n}`,...t)}}function Dv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+n;throw ms(e),new Error(e)}function At(n,e){n||Ye()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jn.UNAUTHENTICATED))}shutdown(){}}class Dj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Oj{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new cs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new jR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new jn(e)}}class xj{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Lj{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new xj(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mj{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ni(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new UT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new UT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Vj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function Fl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=-62135596800,jT=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jT);return new dn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$T)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jT}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new dn(0,0))}static max(){return new tt(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__name__";class bi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ye(),r===void 0?r=e.length-t:r>e.length-t&&Ye(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=bi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=bi.isNumericId(e),i=bi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?bi.extractNumericId(e).compare(bi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class Vt extends bi{construct(e,t,r){return new Vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const Uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends bi{construct(e,t,r){return new kn(e,t,r)}static isValidIdentifier(e){return Uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FT}static keyField(){return new kn([FT])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new xe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new xe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(t)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Vt.fromString(e))}static fromName(e){return new Be(Vt.fromString(e).popFirst(5))}static empty(){return new Be(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function $j(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new dn(t+1,0):new dn(t,r));return new To(i,Be.empty(),e)}function jj(n){return new To(n.readTime,n.key,Ic)}class To{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new To(tt.min(),Be.empty(),Ic)}static max(){return new To(tt.max(),Be.empty(),Ic)}}function Fj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Bj)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new ie((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function zj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Yh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-1;function Xh(n){return n==null}function dh(n){return n===0&&1/n==-1/0}function Wj(n){return typeof n=="number"&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="";function qj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BT(e)),e=Kj(n.get(t),e);return BT(e)}function Kj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case BR:t+="";break;default:t+=a}}return t}function BT(n){return n+BR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Do(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bf(this.root,e,this.comparator,!0)}}class bf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Rn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zT(this.data.getIterator())}getIteratorFrom(e){return new zT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class zT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new br([])}unionWith(e){let t=new fn(kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zR("Invalid base64 string: "+a):a}}(e);return new Pn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Gj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(n){if(At(!!n),typeof n=="string"){let e=0;const t=Gj.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function So(n){return typeof n=="string"?Pn.fromBase64String(n):Pn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="server_timestamp",qR="__type__",KR="__previous_value__",GR="__local_write_time__";function xv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qR])===null||t===void 0?void 0:t.stringValue)===WR}function Jh(n){const e=n.mapValue.fields[KR];return xv(e)?Jh(e):e}function Sc(n){const e=Io(n.mapValue.fields[GR].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,t,r,i,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const fh="(default)";class Cc{constructor(e,t){this.projectId=e,this.database=t||fh}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="__type__",Yj="__max__",Nf={mapValue:{}},YR="__vector__",hh="value";function Co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xv(n)?4:Jj(n)?9007199254740991:Xj(n)?10:11:Ye()}function Vi(n,e){if(n===e)return!0;const t=Co(n);if(t!==Co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sc(n).isEqual(Sc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Io(i.timestampValue),c=Io(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return So(i.bytesValue).isEqual(So(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Xt(i.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Xt(i.integerValue)===Xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Xt(i.doubleValue),c=Xt(a.doubleValue);return l===c?dh(l)===dh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Fl(n.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(HT(l)!==HT(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Vi(l[f],c[f])))return!1;return!0}(n,e);default:return Ye()}}function Ac(n,e){return(n.values||[]).find(t=>Vi(t,e))!==void 0}function Bl(n,e){if(n===e)return 0;const t=Co(n),r=Co(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Xt(a.integerValue||a.doubleValue),f=Xt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return WT(n.timestampValue,e.timestampValue);case 4:return WT(Sc(n),Sc(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(a,l){const c=So(a),f=So(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=yt(c[p],f[p]);if(g!==0)return g}return yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=yt(Xt(a.latitude),Xt(l.latitude));return c!==0?c:yt(Xt(a.longitude),Xt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return qT(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},E=l.fields||{},A=(c=_[hh])===null||c===void 0?void 0:c.arrayValue,N=(f=E[hh])===null||f===void 0?void 0:f.arrayValue,O=yt(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0);return O!==0?O:qT(A,N)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Nf.mapValue&&l===Nf.mapValue)return 0;if(a===Nf.mapValue)return 1;if(l===Nf.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=yt(f[_],g[_]);if(E!==0)return E;const A=Bl(c[f[_]],p[g[_]]);if(A!==0)return A}return yt(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Ye()}}function WT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=Io(n),r=Io(e),i=yt(t.seconds,r.seconds);return i!==0?i:yt(t.nanos,r.nanos)}function qT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Bl(t[i],r[i]);if(a)return a}return yt(t.length,r.length)}function Hl(n){return cy(n)}function cy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Io(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return So(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=cy(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${cy(t.fields[l])}`;return i+"}"}(n.mapValue):Ye()}function jf(n){switch(Co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(n);return e?16+jf(e):16;case 5:return 2*n.stringValue.length;case 6:return So(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+jf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Do(r.fields,(a,l)=>{i+=a.length+jf(l)}),i}(n.mapValue);default:throw Ye()}}function KT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dy(n){return!!n&&"integerValue"in n}function Lv(n){return!!n&&"arrayValue"in n}function GT(n){return!!n&&"nullValue"in n}function QT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ff(n){return!!n&&"mapValue"in n}function Xj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[QR])===null||t===void 0?void 0:t.stringValue)===YR}function uc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Do(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Jj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Yj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(t)}setAll(e){let t=kn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=uc(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Do(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new gr(uc(this.value))}}function XR(n){const e=[];return Do(n.fields,(t,r)=>{const i=new kn([t]);if(Ff(r)){const a=XR(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Fn(e,0,tt.min(),tt.min(),tt.min(),gr.empty(),0)}static newFoundDocument(e,t,r,i){return new Fn(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new Fn(e,2,t,tt.min(),tt.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,tt.min(),tt.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this.position=e,this.inclusive=t}}function YT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),t.key):r=Bl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function XT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{}class sn extends JR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t4(e,t,r):t==="array-contains"?new i4(e,r):t==="in"?new s4(e,r):t==="not-in"?new o4(e,r):t==="array-contains-any"?new a4(e,r):new sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n4(e,r):new r4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bl(t,this.value)):t!==null&&Co(this.value)===Co(t)&&this.matchesComparison(Bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends JR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ci(e,t)}matches(e){return ZR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ZR(n){return n.op==="and"}function eb(n){return e4(n)&&ZR(n)}function e4(n){for(const e of n.filters)if(e instanceof ci)return!1;return!0}function fy(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Hl(n.value);if(eb(n))return n.filters.map(e=>fy(e)).join(",");{const e=n.filters.map(t=>fy(t)).join(",");return`${n.op}(${e})`}}function tb(n,e){return n instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.field.isEqual(i.field)&&Vi(r.value,i.value)}(n,e):n instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&tb(l,i.filters[c]),!0):!1}(n,e):void Ye()}function nb(n){return n instanceof sn?function(t){return`${t.field.canonicalString()} ${t.op} ${Hl(t.value)}`}(n):n instanceof ci?function(t){return t.op.toString()+" {"+t.getFilters().map(nb).join(" ,")+"}"}(n):"Filter"}class t4 extends sn{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class n4 extends sn{constructor(e,t){super(e,"in",t),this.keys=rb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r4 extends sn{constructor(e,t){super(e,"not-in",t),this.keys=rb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Be.fromName(r.referenceValue))}class i4 extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lv(t)&&Ac(t.arrayValue,this.value)}}class s4 extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ac(this.value.arrayValue,t)}}class o4 extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ac(this.value.arrayValue,t)}}class a4 extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function JT(n,e=null,t=[],r=[],i=null,a=null,l=null){return new l4(n,e,t,r,i,a,l)}function Mv(n){const e=nt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hl(r)).join(",")),e.le=t}return e.le}function Vv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Zj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XT(n.startAt,e.startAt)&&XT(n.endAt,e.endAt)}function hy(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function u4(n,e,t,r,i,a,l,c){return new Yc(n,e,t,r,i,a,l,c)}function Uv(n){return new Yc(n)}function ZT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ib(n){return n.collectionGroup!==null}function cc(n){const e=nt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new fn(kn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new mh(a,r))}),t.has(kn.keyField().canonicalString())||e.he.push(new mh(kn.keyField(),r))}return e.he}function Pi(n){const e=nt(n);return e.Pe||(e.Pe=c4(e,cc(n))),e.Pe}function c4(n,e){if(n.limitType==="F")return JT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new mh(i.field,a)});const t=n.endAt?new ph(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ph(n.startAt.position,n.startAt.inclusive):null;return JT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function py(n,e){const t=n.filters.concat([e]);return new Yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function my(n,e,t){return new Yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zh(n,e){return Vv(Pi(n),Pi(e))&&n.limitType===e.limitType}function sb(n){return`${Mv(Pi(n))}|lt:${n.limitType}`}function _l(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nb(i)).join(", ")}]`),Xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Hl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Hl(i)).join(",")),`Target(${r})`}(Pi(n))}; limitType=${n.limitType})`}function ep(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of cc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=YT(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,cc(r),i)||r.endAt&&!function(l,c,f){const p=YT(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,cc(r),i))}(n,e)}function d4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ob(n){return(e,t)=>{let r=!1;for(const i of cc(n)){const a=f4(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function f4(n,e,t){const r=n.field.isKeyField()?Be.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Bl(f,p):Ye()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return HR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new qt(Be.comparator);function gs(){return h4}const ab=new qt(Be.comparator);function rc(...n){let e=ab;for(const t of n)e=e.insert(t.key,t);return e}function lb(n){let e=ab;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ua(){return dc()}function ub(){return dc()}function dc(){return new Ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const p4=new qt(Be.comparator),m4=new fn(Be.comparator);function pt(...n){let e=m4;for(const t of n)e=e.add(t);return e}const g4=new fn(yt);function y4(){return g4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function cb(n){return{integerValue:""+n}}function v4(n,e){return Wj(e)?cb(e):$v(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this._=void 0}}function _4(n,e,t){return n instanceof Rc?function(i,a){const l={fields:{[qR]:{stringValue:WR},[GR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&xv(a)&&(a=Jh(a)),a&&(l.fields[KR]=a),{mapValue:l}}(t,e):n instanceof zl?fb(n,e):n instanceof bc?hb(n,e):function(i,a){const l=db(i,a),c=eI(l)+eI(i.Ie);return dy(l)&&dy(i.Ie)?cb(c):$v(i.serializer,c)}(n,e)}function w4(n,e,t){return n instanceof zl?fb(n,e):n instanceof bc?hb(n,e):t}function db(n,e){return n instanceof gh?function(r){return dy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Rc extends tp{}class zl extends tp{constructor(e){super(),this.elements=e}}function fb(n,e){const t=pb(e);for(const r of n.elements)t.some(i=>Vi(i,r))||t.push(r);return{arrayValue:{values:t}}}class bc extends tp{constructor(e){super(),this.elements=e}}function hb(n,e){let t=pb(e);for(const r of n.elements)t=t.filter(i=>!Vi(i,r));return{arrayValue:{values:t}}}class gh extends tp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function eI(n){return Xt(n.integerValue||n.doubleValue)}function pb(n){return Lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t){this.field=e,this.transform=t}}function E4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof zl&&i instanceof zl||r instanceof bc&&i instanceof bc?Fl(r.elements,i.elements,Vi):r instanceof gh&&i instanceof gh?Vi(r.Ie,i.Ie):r instanceof Rc&&i instanceof Rc}(n.transform,e.transform)}class T4{constructor(e,t){this.version=e,this.transformResults=t}}class Di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class np{}function gb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vb(n.key,Di.none()):new Xc(n.key,n.data,Di.none());{const t=n.data,r=gr.empty();let i=new fn(kn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Oo(n.key,r,new br(i.toArray()),Di.none())}}function I4(n,e,t){n instanceof Xc?function(i,a,l){const c=i.value.clone(),f=nI(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Oo?function(i,a,l){if(!Bf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=nI(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(yb(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function fc(n,e,t,r){return n instanceof Xc?function(a,l,c,f){if(!Bf(a.precondition,l))return c;const p=a.value.clone(),g=rI(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Oo?function(a,l,c,f){if(!Bf(a.precondition,l))return c;const p=rI(a.fieldTransforms,f,l),g=l.data;return g.setAll(yb(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,c){return Bf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function S4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=db(r.transform,i||null);a!=null&&(t===null&&(t=gr.empty()),t.set(r.field,a))}return t||null}function tI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fl(r,i,(a,l)=>E4(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xc extends np{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends np{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nI(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,w4(l,c,t[i]))}return r}function rI(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,_4(a,l,e))}return r}class vb extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C4 extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&I4(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ub();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=gb(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(t,r)=>tI(t,r))&&Fl(this.baseMutations,e.baseMutations,(t,r)=>tI(t,r))}}class jv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=function(){return p4}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new jv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,_t;function N4(n){switch(n){case se.OK:return Ye();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ye()}}function _b(n){if(n===void 0)return ms("GRPC error has no .code"),se.UNKNOWN;switch(n){case nn.OK:return se.OK;case nn.CANCELLED:return se.CANCELLED;case nn.UNKNOWN:return se.UNKNOWN;case nn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case nn.INTERNAL:return se.INTERNAL;case nn.UNAVAILABLE:return se.UNAVAILABLE;case nn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case nn.NOT_FOUND:return se.NOT_FOUND;case nn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case nn.ABORTED:return se.ABORTED;case nn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case nn.DATA_LOSS:return se.DATA_LOSS;default:return Ye()}}(_t=nn||(nn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new mo([4294967295,4294967295],0);function iI(n){const e=k4().encode(n),t=new xR;return t.update(e),new Uint8Array(t.digest())}function sI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new mo([t,r],0),new mo([i,a],0)]}class Fv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ic(`Invalid padding: ${t}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ic(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=mo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(mo.fromNumber(r)));return i.compare(P4)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=iI(e),[r,i]=sI(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Fv(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=iI(e),[r,i]=sI(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rp(tt.min(),i,new qt(yt),gs(),pt())}}class Jc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jc(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class wb{constructor(e,t){this.targetId=e,this.ge=t}}class Eb{constructor(e,t,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class oI{constructor(){this.pe=0,this.ye=aI(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=pt(),t=pt(),r=pt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new Jc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=aI()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class D4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gs(),this.$e=kf(),this.Ke=kf(),this.Ue=new qt(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(hy(a))if(r===0){const l=new Be(a.path);this.ze(t,l,Fn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=So(r).toUint8Array()}catch(f){if(f instanceof zR)return jl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Fv(l,i,a)}catch(f){return jl(f instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&hy(c.target)){const f=new Be(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,Fn.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=pt();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new rp(e,t,this.Ue,this.Qe,r);return this.Qe=gs(),this.$e=kf(),this.Ke=kf(),this.Ue=new qt(yt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new oI,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new fn(yt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new fn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new oI),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function kf(){return new qt(Be.comparator)}function aI(){return new qt(Be.comparator)}const O4={asc:"ASCENDING",desc:"DESCENDING"},x4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L4={and:"AND",or:"OR"};class M4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gy(n,e){return n.useProto3Json||Xh(e)?e:{value:e}}function yh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function V4(n,e){return yh(n,e.toTimestamp())}function Oi(n){return At(!!n),tt.fromTimestamp(function(t){const r=Io(t);return new dn(r.seconds,r.nanos)}(n))}function Bv(n,e){return yy(n,e).canonicalString()}function yy(n,e){const t=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Ib(n){const e=Vt.fromString(n);return At(bb(e)),e}function vy(n,e){return Bv(n.databaseId,e.path)}function Sg(n,e){const t=Ib(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(Cb(t))}function Sb(n,e){return Bv(n.databaseId,e)}function U4(n){const e=Ib(n);return e.length===4?Vt.emptyPath():Cb(e)}function _y(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Cb(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function lI(n,e,t){return{name:vy(n,e),fields:t.value.mapValue.fields}}function $4(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string"),Pn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Pn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?se.UNKNOWN:_b(p.code);return new xe(g,p.message||"")}(l);t=new Eb(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sg(n,r.document.name),a=Oi(r.document.updateTime),l=r.document.createTime?Oi(r.document.createTime):tt.min(),c=new gr({mapValue:{fields:r.document.fields}}),f=Fn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Hf(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sg(n,r.document),a=r.readTime?Oi(r.readTime):tt.min(),l=Fn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new Hf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sg(n,r.document),a=r.removedTargetIds||[];t=new Hf([],a,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new b4(i,a),c=r.targetId;t=new wb(c,l)}}return t}function j4(n,e){let t;if(e instanceof Xc)t={update:lI(n,e.key,e.value)};else if(e instanceof vb)t={delete:vy(n,e.key)};else if(e instanceof Oo)t={update:lI(n,e.key,e.data),updateMask:Q4(e.fieldMask)};else{if(!(e instanceof C4))return Ye();t={verify:vy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Rc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ye()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:V4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ye()}(n,e.precondition)),t}function F4(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?Oi(i.updateTime):Oi(a);return l.isEqual(tt.min())&&(l=Oi(a)),new T4(l,i.transformResults||[])}(t,e))):[]}function B4(n,e){return{documents:[Sb(n,e.path)]}}function H4(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Sb(n,i);const a=function(p){if(p.length!==0)return Rb(ci.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:wl(E.field),direction:q4(E.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=gy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function z4(n){let e=U4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const E=Ab(_);return E instanceof ci&&eb(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(E=>function(N){return new mh(El(N.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(_){let E;return E=typeof _=="object"?_.value:_,Xh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,A=_.values||[];return new ph(A,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,A=_.values||[];return new ph(A,E)}(t.endAt)),u4(e,i,l,a,c,"F",f,p)}function W4(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ab(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=El(t.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=El(t.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=El(t.unaryFilter.field);return sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=El(t.unaryFilter.field);return sn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(n):n.fieldFilter!==void 0?function(t){return sn.create(El(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ci.create(t.compositeFilter.filters.map(r=>Ab(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(t.compositeFilter.op))}(n):Ye()}function q4(n){return O4[n]}function K4(n){return x4[n]}function G4(n){return L4[n]}function wl(n){return{fieldPath:n.canonicalString()}}function El(n){return kn.fromServerFormat(n.fieldPath)}function Rb(n){return n instanceof sn?function(t){if(t.op==="=="){if(QT(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(GT(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QT(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(GT(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:K4(t.op),value:t.value}}}(n):n instanceof ci?function(t){const r=t.getFilters().map(i=>Rb(i));return r.length===1?r[0]:{compositeFilter:{op:G4(t.op),filters:r}}}(n):Ye()}function Q4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,r,i,a=tt.min(),l=tt.min(),c=Pn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.Tt=e}}function X4(n){const e=z4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?my(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.Tn=new Z4}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(To.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Z4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new fn(Vt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class pr{static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(Nb,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Wl(0)}static Un(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="LruGarbageCollector",eF=1048576;function dI([n,e],[t,r]){const i=yt(n,t);return i===0?yt(e,r):i}class tF{constructor(e){this.Hn=e,this.buffer=new fn(dI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();dI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(cI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){lu(t)?be(cI,"Ignoring IndexedDB error during garbage collection: ",t):await au(t)}await this.er(3e5)})}}class rF{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Yh.ae);const r=new tF(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(uI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uI):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),vl()<=ht.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function iF(n,e){return new rF(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.changes=new Ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fc(r.mutation,i,br.empty(),dn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const i=ua();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=rc();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ua();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=gs();const l=dc(),c=function(){return dc()}();return t.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Oo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),fc(g.mutation,p,g.mutation.getFieldMask(),dn.now())):l.set(p.key,br.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new oF(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=dc();let i=new qt((l,c)=>l-c),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||br.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||pt()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=ub();g.forEach(E=>{if(!a.has(E)){const A=gb(t.get(E),r.get(E));A!==null&&_.set(E,A),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ib(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ie.resolve(ua());let c=Ic,f=a;return l.next(p=>ie.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,pt())).next(g=>({batchId:c,changes:lb(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=rc();return this.indexManager.getCollectionParents(e,a).next(c=>ie.forEach(c,f=>{const p=function(_,E){return new Yc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Fn.newInvalidDocument(g)))});let c=rc();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&fc(g.mutation,p,br.empty(),dn.now()),ep(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:X4(i.bundledQuery),readTime:Oi(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.overlays=new qt(Be.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ua();return ie.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=ua(),a=t.length+1,l=new Be(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new qt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=ua(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=ua(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return ie.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new R4(t,r));let a=this.Rr.get(t);a===void 0&&(a=pt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.Vr=new fn(En.mr),this.gr=new fn(En.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new En(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new En(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Be(new Vt([])),r=new En(t,e),i=new En(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Be(new Vt([])),r=new En(t,e),i=new En(t,e+1);let a=pt();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new En(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Be.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new fn(En.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new A4(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new En(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ov:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(yt);return t.forEach(i=>{const a=new En(i,0),l=new En(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const l=new En(new Be(a),0);let c=new fn(yt);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Cr)),!0)},l),ie.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,i=>{const a=new En(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new En(t,0),i=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.kr=e,this.docs=function(){return new qt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Fn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=gs();const l=t.path,c=new Be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Fj(jj(g),r)<=0||(i.has(g.key)||ep(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ye()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hF(this)}getSize(e){return ie.resolve(this.size)}}class hF extends sF{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.persistence=e,this.Qr=new Ra(t=>Mv(t),Vv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hv,this.targetCount=0,this.Ur=Wl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Yh(0),this.zr=!1,this.zr=!0,this.jr=new cF,this.referenceDelegate=e(this),this.Hr=new pF(this),this.indexManager=new J4,this.remoteDocumentCache=function(i){return new fF(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Y4(t),this.Yr=new lF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new dF(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new mF(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class mF extends Hj{constructor(e){super(),this.currentSequenceNumber=e}}class zv{constructor(e){this.persistence=e,this.ti=new Hv,this.ni=null}static ri(e){return new zv(e)}get ii(){if(this.ni)return this.ni;throw Ye()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const i=Be.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class vh{constructor(e,t){this.persistence=e,this.oi=new Ra(r=>qj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iF(this,t)}static ri(e,t){return new vh(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jf(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=pt(),i=pt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Wv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return d$()?8:zj(Bn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new gF;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(vl()<=ht.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",_l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(vl()<=ht.DEBUG&&be("QueryEngine","Query:",_l(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(vl()<=ht.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",_l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):ie.resolve())}rs(e,t){if(ZT(t))return ie.resolve(null);let r=Pi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=my(t,null,"F"),r=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=pt(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,c);return this.ls(t,p,l,f.readTime)?this.rs(e,my(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return ZT(t)||i.isEqual(tt.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?ie.resolve(null):(vl()<=ht.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_l(t)),this.hs(e,l,t,$j(i,Ic)).next(c=>c))})}cs(e,t){let r=new fn(ob(e));return t.forEach((i,a)=>{ep(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return vl()<=ht.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",_l(t)),this.ns.getDocumentsMatchingQuery(e,t,To.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="LocalStore",vF=3e8;class _F{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new qt(yt),this.Is=new Ra(a=>Mv(a),Vv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aF(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function wF(n,e,t,r){return new _F(n,e,t,r)}async function Pb(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=pt();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function EF(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,E=_.keys();let A=ie.resolve();return E.forEach(N=>{A=A.next(()=>g.getEntry(f,N)).next(O=>{const b=p.docVersions.get(N);At(b!==null),O.version.compareTo(b)<0&&(_.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),g.addEntry(O)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=pt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Db(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function TF(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const E=i.get(_);if(!E)return;c.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Pn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(_,A),function(O,b,B){return O.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=vF?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(E,A,g)&&c.push(t.Hr.updateTargetData(a,A))});let f=gs(),p=pt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(IF(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(tt.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ie.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=i,a))}function IF(n,e,t){let r=pt(),i=pt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=gs();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):be(qv,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function SF(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ov),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CF(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new uo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function wy(n,e,t){const r=nt(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!lu(l))throw l;be(qv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function fI(n,e,t){const r=nt(n);let i=tt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=nt(f),E=_.Is.get(g);return E!==void 0?ie.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,g)}(r,l,Pi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?a:pt())).next(c=>(AF(r,d4(e),c),{documents:c,gs:a})))}function AF(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class hI{constructor(){this.activeTargetIds=y4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RF{constructor(){this.ho=new hI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new hI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="ConnectivityMonitor";class mI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(pI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(pI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function Ey(){return Pf===null?Pf=function(){return 268435456+Math.round(2147483648*Math.random())}():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="RestConnection",NF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kF{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,a){const l=Ey(),c=this.bo(e,t.toUriEncodedString());be(Cg,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,c,f,r).then(p=>(be(Cg,`Received RPC '${e}' ${l}: `,p),p),p=>{throw jl(Cg,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,a,l){return this.So(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const r=NF[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class DF extends kF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=Ey();return new Promise((l,c)=>{const f=new LR;f.setWithCredentials(!0),f.listenOnce(MR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case $f.NO_ERROR:const g=f.getResponseJson();be($n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case $f.TIMEOUT:be($n,`RPC '${e}' ${a} timed out`),c(new xe(se.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const _=f.getStatus();if(be($n,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const N=function(b){const B=b.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(B)>=0?B:se.UNKNOWN}(A.status);c(new xe(N,A.message))}else c(new xe(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(se.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{be($n,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);be($n,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=Ey(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$R(),c=UR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");be($n,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let E=!1,A=!1;const N=new PF({Fo:b=>{A?be($n,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(E||(be($n,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),be($n,`RPC '${e}' stream ${i} sending:`,b),_.send(b))},Mo:()=>_.close()}),O=(b,B,U)=>{b.listen(B,z=>{try{U(z)}catch(q){setTimeout(()=>{throw q},0)}})};return O(_,nc.EventType.OPEN,()=>{A||(be($n,`RPC '${e}' stream ${i} transport opened.`),N.Qo())}),O(_,nc.EventType.CLOSE,()=>{A||(A=!0,be($n,`RPC '${e}' stream ${i} transport closed`),N.Ko())}),O(_,nc.EventType.ERROR,b=>{A||(A=!0,jl($n,`RPC '${e}' stream ${i} transport errored:`,b),N.Ko(new xe(se.UNAVAILABLE,"The operation could not be completed")))}),O(_,nc.EventType.MESSAGE,b=>{var B;if(!A){const U=b.data[0];At(!!U);const z=U,q=(z==null?void 0:z.error)||((B=z[0])===null||B===void 0?void 0:B.error);if(q){be($n,`RPC '${e}' stream ${i} received error:`,q);const Z=q.status;let K=function(P){const x=nn[P];if(x!==void 0)return _b(x)}(Z),I=q.message;K===void 0&&(K=se.INTERNAL,I="Unknown error status: "+Z+" with message "+q.message),A=!0,N.Ko(new xe(K,I)),_.close()}else be($n,`RPC '${e}' stream ${i} received:`,U),N.Uo(U)}}),O(c,VR.STAT_EVENT,b=>{b.stat===uy.PROXY?be($n,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===uy.NOPROXY&&be($n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n){return new M4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="PersistentStream";class xb{constructor(e,t,r,i,a,l,c,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Ob(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new xe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(gI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(gI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OF extends xb{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=$4(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?Oi(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=_y(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=hy(f)?{documents:B4(a,f)}:{query:H4(a,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Tb(a,l.resumeToken);const p=gy(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){c.readTime=yh(a,l.snapshotVersion.toTimestamp());const p=gy(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=W4(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=_y(this.serializer),t.removeTarget=e,this.I_(t)}}class xF extends xb{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=F4(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=_y(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>j4(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{}class MF extends LF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,yy(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(se.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,yy(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ms(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class UF{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{ba(this)&&(be(_a,"Restarting streams for network reachability change."),await async function(f){const p=nt(f);p.W_.add(4),await Zc(p),p.j_.set("Unknown"),p.W_.delete(4),await sp(p)}(this))})}),this.j_=new VF(r,i)}}async function sp(n){if(ba(n))for(const e of n.G_)await e(!0)}async function Zc(n){for(const e of n.G_)await e(!1)}function Lb(n,e){const t=nt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Yv(t)?Qv(t):uu(t).c_()&&Gv(t,e))}function Kv(n,e){const t=nt(n),r=uu(t);t.U_.delete(e),r.c_()&&Mb(t,e),t.U_.size===0&&(r.c_()?r.P_():ba(t)&&t.j_.set("Unknown"))}function Gv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uu(n).y_(e)}function Mb(n,e){n.H_.Ne(e),uu(n).w_(e)}function Qv(n){n.H_=new D4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),uu(n).start(),n.j_.B_()}function Yv(n){return ba(n)&&!uu(n).u_()&&n.U_.size>0}function ba(n){return nt(n).W_.size===0}function Vb(n){n.H_=void 0}async function $F(n){n.j_.set("Online")}async function jF(n){n.U_.forEach((e,t)=>{Gv(n,e)})}async function FF(n,e){Vb(n),Yv(n)?(n.j_.q_(e),Qv(n)):n.j_.set("Unknown")}async function BF(n,e,t){if(n.j_.set("Online"),e instanceof Eb&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){be(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(n,r)}else if(e instanceof Hf?n.H_.We(e):e instanceof wb?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await Db(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.U_.get(f);if(!g)return;a.U_.set(f,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),Mb(a,f);const _=new uo(g.target,f,p,g.sequenceNumber);Gv(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){be(_a,"Failed to raise snapshot:",r),await _h(n,r)}}async function _h(n,e,t){if(!lu(e))throw e;n.W_.add(1),await Zc(n),n.j_.set("Offline"),t||(t=()=>Db(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(_a,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await sp(n)})}function Ub(n,e){return e().catch(t=>_h(n,t,e))}async function op(n){const e=nt(n),t=Ao(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ov;for(;HF(e);)try{const i=await SF(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,zF(e,i)}catch(i){await _h(e,i)}$b(e)&&jb(e)}function HF(n){return ba(n)&&n.K_.length<10}function zF(n,e){n.K_.push(e);const t=Ao(n);t.c_()&&t.S_&&t.b_(e.mutations)}function $b(n){return ba(n)&&!Ao(n).u_()&&n.K_.length>0}function jb(n){Ao(n).start()}async function WF(n){Ao(n).C_()}async function qF(n){const e=Ao(n);for(const t of n.K_)e.b_(t.mutations)}async function KF(n,e,t){const r=n.K_.shift(),i=jv.from(r,e,t);await Ub(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await op(n)}async function GF(n,e){e&&Ao(n).S_&&await async function(r,i){if(function(l){return N4(l)&&l!==se.ABORTED}(i.code)){const a=r.K_.shift();Ao(r).h_(),await Ub(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await op(r)}}(n,e),$b(n)&&jb(n)}async function yI(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),be(_a,"RemoteStore received new credentials");const r=ba(t);t.W_.add(3),await Zc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await sp(t)}async function QF(n,e){const t=nt(n);e?(t.W_.delete(2),await sp(t)):e||(t.W_.add(2),await Zc(t),t.j_.set("Unknown"))}function uu(n){return n.J_||(n.J_=function(t,r,i){const a=nt(t);return a.M_(),new OF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:$F.bind(null,n),No:jF.bind(null,n),Lo:FF.bind(null,n),p_:BF.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Yv(n)?Qv(n):n.j_.set("Unknown")):(await n.J_.stop(),Vb(n))})),n.J_}function Ao(n){return n.Y_||(n.Y_=function(t,r,i){const a=nt(t);return a.M_(),new xF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:WF.bind(null,n),Lo:GF.bind(null,n),D_:qF.bind(null,n),v_:KF.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await op(n)):(await n.Y_.stop(),n.K_.length>0&&(be(_a,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Xv(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jv(n,e){if(ms("AsyncQueue",`${e}: ${n}`),lu(n))return new xe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Be.comparator(t.key,r.key):(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=rc(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Z_=new qt(Be.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ye():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ql{constructor(e,t,r,i,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ql(e,t,Cl.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XF{constructor(){this.queries=_I(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=nt(t),a=i.queries;i.queries=_I(),a.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new xe(se.ABORTED,"Firestore shutting down"))}}function _I(){return new Ra(n=>sb(n),Zh)}async function Fb(n,e){const t=nt(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new YF,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Jv(l,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Zv(t)}async function Bb(n,e){const t=nt(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function JF(n,e){const t=nt(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Zv(t)}function ZF(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function Zv(n){n.ia.forEach(e=>{e.next()})}var Ty,wI;(wI=Ty||(Ty={}))._a="default",wI.Cache="cache";class Hb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.key=e}}class Wb{constructor(e){this.key=e}}class eB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=ob(e),this.wa=new Cl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new vI,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const E=i.get(g),A=ep(this.query,_)?_:null,N=!!E&&this.mutatedKeys.has(E.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let b=!1;E&&A?E.data.isEqual(A.data)?N!==O&&(r.track({type:3,doc:A}),b=!0):this.va(E,A)||(r.track({type:2,doc:A}),b=!0,(f&&this.ya(A,f)>0||p&&this.ya(A,p)<0)&&(c=!0)):!E&&A?(r.track({type:0,doc:A}),b=!0):E&&!A&&(r.track({type:1,doc:E}),b=!0,(f||p)&&(c=!0)),b&&(A?(l=l.add(A),a=O?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(A,N){const O=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return O(A)-O(N)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new ql(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Wb(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new zb(r))}),t}Oa(e){this.fa=e.gs,this.pa=pt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ql.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const e_="SyncEngine";class tB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nB{constructor(e){this.key=e,this.Ba=!1}}class rB{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ra(c=>sb(c),Zh),this.qa=new Map,this.Qa=new Set,this.$a=new qt(Be.comparator),this.Ka=new Map,this.Ua=new Hv,this.Wa={},this.Ga=new Map,this.za=Wl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function iB(n,e,t=!0){const r=Xb(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await qb(r,e,t,!0),i}async function sB(n,e){const t=Xb(n);await qb(t,e,!0,!1)}async function qb(n,e,t,r){const i=await CF(n.localStore,Pi(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await oB(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Lb(n.remoteStore,i),c}async function oB(n,e,t,r,i){n.Ha=(_,E,A)=>async function(O,b,B,U){let z=b.view.ba(B);z.ls&&(z=await fI(O.localStore,b.query,!1).then(({documents:I})=>b.view.ba(I,z)));const q=U&&U.targetChanges.get(b.targetId),Z=U&&U.targetMismatches.get(b.targetId)!=null,K=b.view.applyChanges(z,O.isPrimaryClient,q,Z);return TI(O,b.targetId,K.Ma),K.snapshot}(n,_,E,A);const a=await fI(n.localStore,e,!0),l=new eB(e,a.gs),c=l.ba(a.documents),f=Jc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);TI(n,t,p.Ma);const g=new tB(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function aB(n,e,t){const r=nt(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!Zh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Kv(r.remoteStore,i.targetId),Iy(r,i.targetId)}).catch(au)):(Iy(r,i.targetId),await wy(r.localStore,i.targetId,!0))}async function lB(n,e){const t=nt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Kv(t.remoteStore,r.targetId))}async function uB(n,e,t){const r=gB(n);try{const i=await function(l,c){const f=nt(l),p=dn.now(),g=c.reduce((A,N)=>A.add(N.key),pt());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let N=gs(),O=pt();return f.ds.getEntries(A,g).next(b=>{N=b,N.forEach((B,U)=>{U.isValidDocument()||(O=O.add(B))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,N)).next(b=>{_=b;const B=[];for(const U of c){const z=S4(U,_.get(U.key).overlayedDocument);z!=null&&B.push(new Oo(U.key,z,XR(z.value.mapValue),Di.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,B,c)}).next(b=>{E=b;const B=b.applyToLocalDocumentSet(_,O);return f.documentOverlayCache.saveOverlays(A,b.batchId,B)})}).then(()=>({batchId:E.batchId,changes:lb(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new qt(yt)),p=p.insert(c,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await ed(r,i.changes),await op(r.remoteStore)}catch(i){const a=Jv(i,"Failed to persist write");t.reject(a)}}async function Kb(n,e){const t=nt(n);try{const r=await TF(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?At(l.Ba):i.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await ed(t,r,e)}catch(r){await au(r)}}function EI(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=nt(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.ta)E.sa(c)&&(p=!0)}),p&&Zv(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cB(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new qt(Be.comparator);l=l.insert(a,Fn.newNoDocument(a,tt.min()));const c=pt().add(a),f=new rp(tt.min(),new Map,new qt(yt),l,c);await Kb(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),t_(r)}else await wy(r.localStore,e,!1).then(()=>Iy(r,e,t)).catch(au)}async function dB(n,e){const t=nt(n),r=e.batch.batchId;try{const i=await EF(t.localStore,e);Qb(t,r,null),Gb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ed(t,i)}catch(i){await au(i)}}async function fB(n,e,t){const r=nt(n);try{const i=await function(l,c){const f=nt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(At(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);Qb(r,e,t),Gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ed(r,i)}catch(i){await au(i)}}function Gb(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Qb(n,e,t){const r=nt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||Yb(n,r)})}function Yb(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Kv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),t_(n))}function TI(n,e,t){for(const r of t)r instanceof zb?(n.Ua.addReference(r.key,e),hB(n,r)):r instanceof Wb?(be(e_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||Yb(n,r.key)):Ye()}function hB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(e_,"New document in limbo: "+t),n.Qa.add(r),t_(n))}function t_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Be(Vt.fromString(e)),r=n.za.next();n.Ka.set(r,new nB(t)),n.$a=n.$a.insert(t,r),Lb(n.remoteStore,new uo(Pi(Uv(t.path)),r,"TargetPurposeLimboResolution",Yh.ae))}}async function ed(n,e,t){const r=nt(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=Wv.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const g=nt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,E=>ie.forEach(E.Hi,A=>g.persistence.referenceDelegate.addReference(_,E.targetId,A)).next(()=>ie.forEach(E.Ji,A=>g.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))}catch(_){if(!lu(_))throw _;be(qv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=g.Ts.get(E),N=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(N);g.Ts=g.Ts.insert(E,O)}}}(r.localStore,a))}async function pB(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){be(e_,"User change. New user:",e.toKey());const r=await Pb(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(f=>{f.reject(new xe(se.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ed(t,r.Rs)}}function mB(n,e){const t=nt(n),r=t.Ka.get(e);if(r&&r.Ba)return pt().add(r.key);{let i=pt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function Xb(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cB.bind(null,e),e.La.p_=JF.bind(null,e.eventManager),e.La.Ja=ZF.bind(null,e.eventManager),e}function gB(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fB.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ip(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return wF(this.persistence,new yF,e.initialUser,this.serializer)}Xa(e){return new kb(zv.ri,this.serializer)}Za(e){return new RF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class yB extends wh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof vh);const r=this.persistence.referenceDelegate.garbageCollector;return new nF(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new kb(r=>vh.ri(r,t),this.serializer)}}class Sy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>EI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pB.bind(null,this.syncEngine),await QF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XF}()}createDatastore(e){const t=ip(e.databaseInfo.databaseId),r=function(a){return new DF(a)}(e.databaseInfo);return function(a,l,c,f){return new MF(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new UF(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>EI(this.syncEngine,t,0),function(){return mI.D()?new mI:new bF}())}createSyncEngine(e,t){return function(i,a,l,c,f,p,g){const _=new rB(i,a,l,c,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=nt(i);be(_a,"RemoteStore shutting down."),a.W_.add(5),await Zc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class vB{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=jn.UNAUTHENTICATED,this.clientId=FR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{be(Ro,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(Ro,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Jv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rg(n,e){n.asyncQueue.verifyOperationInProgress(),be(Ro,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Pb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function II(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _B(n);be(Ro,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>yI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>yI(e.remoteStore,i)),n._onlineComponents=e}async function _B(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(Ro,"Using user provided OfflineComponentProvider");try{await Rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;jl("Error using user provided cache. Falling back to memory cache: "+t),await Rg(n,new wh)}}else be(Ro,"Using default OfflineComponentProvider"),await Rg(n,new yB(void 0));return n._offlineComponents}async function Zb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(Ro,"Using user provided OnlineComponentProvider"),await II(n,n._uninitializedComponentsProvider._online)):(be(Ro,"Using default OnlineComponentProvider"),await II(n,new Sy))),n._onlineComponents}function wB(n){return Zb(n).then(e=>e.syncEngine)}async function eN(n){const e=await Zb(n),t=e.eventManager;return t.onListen=iB.bind(null,e.syncEngine),t.onUnlisten=aB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lB.bind(null,e.syncEngine),t}function EB(n,e,t={}){const r=new cs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new Jb({next:E=>{g.su(),l.enqueueAndForget(()=>Bb(a,_));const A=E.docs.has(c);!A&&E.fromCache?p.reject(new xe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?p.reject(new xe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new Hb(Uv(c.path),g,{includeMetadataChanges:!0,Ta:!0});return Fb(a,_)}(await eN(n),n.asyncQueue,e,t,r)),r.promise}function TB(n,e,t={}){const r=new cs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new Jb({next:E=>{g.su(),l.enqueueAndForget(()=>Bb(a,_)),E.fromCache&&f.source==="server"?p.reject(new xe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new Hb(c,g,{includeMetadataChanges:!0,Ta:!0});return Fb(a,_)}(await eN(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n,e,t){if(!t)throw new xe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IB(n,e,t,r){if(e===!0&&r===!0)throw new xe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CI(n){if(!Be.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AI(n){if(Be.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ap(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ye()}function ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ap(n);throw new xe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firestore.googleapis.com",RI=!0;class bI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rN,this.ssl=RI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:RI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eF)throw new xe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Pj;switch(r.type){case"firstParty":return new Lj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=SI.get(t);r&&(be("ComponentProvider","Removing Datastore"),SI.delete(t),r.terminate())}(this),Promise.resolve()}}function SB(n,e,t,r={}){var i;const a=(n=ys(n,lp))._getSettings(),l=`${e}:${t}`;if(a.host!==rN&&a.host!==l&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=jn.MOCK_USER;else{c=i$(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jn(p)}n._authCredentials=new Dj(new jR(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cu(this.firestore,e,this._query)}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class go extends cu{constructor(e,t,r){super(e,t,Uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new Be(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function Cy(n,e,...t){if(n=Zn(n),nN("collection","path",e),n instanceof lp){const r=Vt.fromString(e,...t);return AI(r),new go(n,null,r)}{if(!(n instanceof Jn||n instanceof go))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return AI(r),new go(n.firestore,null,r)}}function zf(n,e,...t){if(n=Zn(n),arguments.length===1&&(e=FR.newId()),nN("doc","path",e),n instanceof lp){const r=Vt.fromString(e,...t);return CI(r),new Jn(n,null,new Be(r))}{if(!(n instanceof Jn||n instanceof go))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return CI(r),new Jn(n.firestore,n instanceof go?n.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="AsyncQueue";class kI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Ob(this,"async_queue_retry"),this.Su=()=>{const r=Ag();r&&be(NI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Ag();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ag();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new cs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!lu(e))throw e;be(NI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ms("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Xv.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Ye()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class td extends lp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kI(e),this._firestoreClient=void 0,await e}}}function CB(n,e){const t=PR(),r=fh,i=Pv(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=n$("firestore");a&&SB(i,...a)}return i}function n_(n){if(n._terminated)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AB(n),n._firestoreClient}function AB(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,p,g){return new Qj(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,tN(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new vB(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(Pn.fromBase64String(e))}catch(t){throw new xe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kl(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=/^__.*__$/;class bB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}class iN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Oo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class cp{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Eh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sN(this.Lu)&&RB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class NB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ip(e)}ju(e,t,r,i=!1){return new cp({Lu:e,methodName:t,zu:r,path:kn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s_(n){const e=n._freezeSettings(),t=ip(n._databaseId);return new NB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kB(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);l_("Data must be an object, but it was:",l,r);const c=oN(r,l);let f,p;if(a.merge)f=new br(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=Ay(e,_,t);if(!l.contains(E))throw new xe(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);lN(g,E)||g.push(E)}f=new br(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new bB(new gr(c),f,p)}class dp extends nd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dp}}function PB(n,e,t){return new cp({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class o_ extends nd{_toFieldTransform(e){return new mb(e.path,new Rc)}isEqual(e){return e instanceof o_}}class a_ extends nd{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=PB(this,e,!0),r=this.Hu.map(a=>du(a,t)),i=new zl(r);return new mb(e.path,i)}isEqual(e){return e instanceof a_&&Ec(this.Hu,e.Hu)}}function DB(n,e,t,r){const i=n.ju(1,e,t);l_("Data must be an object, but it was:",i,r);const a=[],l=gr.empty();Do(r,(f,p)=>{const g=u_(e,f,t);p=Zn(p);const _=i.Ku(g);if(p instanceof dp)a.push(g);else{const E=du(p,_);E!=null&&(a.push(g),l.set(g,E))}});const c=new br(a);return new iN(l,c,i.fieldTransforms)}function OB(n,e,t,r,i,a){const l=n.ju(1,e,t),c=[Ay(e,r,t)],f=[i];if(a.length%2!=0)throw new xe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)c.push(Ay(e,a[E])),f.push(a[E+1]);const p=[],g=gr.empty();for(let E=c.length-1;E>=0;--E)if(!lN(p,c[E])){const A=c[E];let N=f[E];N=Zn(N);const O=l.Ku(A);if(N instanceof dp)p.push(A);else{const b=du(N,O);b!=null&&(p.push(A),g.set(A,b))}}const _=new br(p);return new iN(g,_,l.fieldTransforms)}function xB(n,e,t,r=!1){return du(t,n.ju(r?4:3,e))}function du(n,e){if(aN(n=Zn(n)))return l_("Unsupported field value:",e,n),oN(n,e);if(n instanceof nd)return function(r,i){if(!sN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=du(c,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dn.fromDate(r);return{timestampValue:yh(i.serializer,a)}}if(r instanceof dn){const a=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(i.serializer,a)}}if(r instanceof r_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kl)return{bytesValue:Tb(i.serializer,r._byteString)};if(r instanceof Jn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Bv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof i_)return function(l,c){return{mapValue:{fields:{[QR]:{stringValue:YR},[hh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return $v(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ap(r)}`)}(n,e)}function oN(n,e){const t={};return HR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(n,(r,i)=>{const a=du(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function aN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dn||n instanceof r_||n instanceof Kl||n instanceof Jn||n instanceof nd||n instanceof i_)}function l_(n,e,t){if(!aN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=ap(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Ay(n,e,t){if((e=Zn(e))instanceof up)return e._internalPath;if(typeof e=="string")return u_(n,e);throw Eh("Field path arguments must be of type string or ",n,!1,void 0,t)}const LB=new RegExp("[~\\*/\\[\\]]");function u_(n,e,t){if(e.search(LB)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new up(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Eh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new xe(se.INVALID_ARGUMENT,c+n+f)}function lN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MB extends uN{data(){return super.data()}}function c_(n,e){return typeof e=="string"?u_(n,e):e instanceof up?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d_{}class UB extends d_{}function $B(n,e,...t){let r=[];e instanceof d_&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof f_).length,c=a.filter(f=>f instanceof fp).length;if(l>1||l>0&&c>0)throw new xe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class fp extends UB{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fp(e,t,r)}_apply(e){const t=this._parse(e);return cN(e._query,t),new cu(e.firestore,e.converter,py(e._query,t))}_parse(e){const t=s_(e.firestore);return function(a,l,c,f,p,g,_){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){DI(_,g);const N=[];for(const O of _)N.push(PI(f,a,O));E={arrayValue:{values:N}}}else E=PI(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||DI(_,g),E=xB(c,l,_,g==="in"||g==="not-in");return sn.create(p,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jB(n,e,t){const r=e,i=c_("where",n);return fp._create(i,r,t)}class f_ extends d_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new f_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)cN(l,f),l=py(l,f)}(e._query,t),new cu(e.firestore,e.converter,py(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PI(n,e,t){if(typeof(t=Zn(t))=="string"){if(t==="")throw new xe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ib(e)&&t.indexOf("/")!==-1)throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Vt.fromString(t));if(!Be.isDocumentKey(r))throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KT(n,new Be(r))}if(t instanceof Jn)return KT(n,t._key);throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ap(t)}.`)}function DI(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cN(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FB{convertValue(e,t="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Do(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[hh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Xt(l.doubleValue));return new i_(a)}convertGeoPoint(e){return new r_(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const t=Io(e);return new dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Vt.fromString(e);At(bb(r));const i=new Cc(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return i.isEqual(t)||ms(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dN extends uN{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(c_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wf extends dN{data(e={}){return super.data(e)}}class HB{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wf(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new Wf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new sc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Wf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new sc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:zB(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n){n=ys(n,Jn);const e=ys(n.firestore,td);return EB(n_(e),n._key).then(t=>qB(e,n,t))}class fN extends FB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function WB(n){n=ys(n,cu);const e=ys(n.firestore,td),t=n_(e),r=new fN(e);return VB(n._query),TB(t,n._query).then(i=>new HB(e,r,n,i))}function bg(n,e,t){n=ys(n,Jn);const r=ys(n.firestore,td),i=BB(n.converter,e);return hN(r,[kB(s_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Di.none())])}function OI(n,e,t,...r){n=ys(n,Jn);const i=ys(n.firestore,td),a=s_(i);let l;return l=typeof(e=Zn(e))=="string"||e instanceof up?OB(a,"updateDoc",n._key,e,t,r):DB(a,"updateDoc",n._key,e),hN(i,[l.toMutation(n._key,Di.exists(!0))])}function hN(n,e){return function(r,i){const a=new cs;return r.asyncQueue.enqueueAndForget(async()=>uB(await wB(r),i,a)),a.promise}(n_(n),e)}function qB(n,e,t){const r=t.docs.get(e._key),i=new fN(n);return new dN(n,i,e._key,r,new sc(t.hasPendingWrites,t.fromCache),e.converter)}function KB(){return new o_("serverTimestamp")}function xI(...n){return new a_("arrayUnion",n)}(function(e,t=!0){(function(i){ou=i})(su),$l(new ya("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new td(new Oj(r.getProvider("auth-internal")),new Mj(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),po(MT,VT,e),po(MT,VT,"esm2017")})();function h_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function pN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GB=pN,mN=new Gc("auth","Firebase",pN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Nv("@firebase/auth");function QB(n,...e){Th.logLevel<=ht.WARN&&Th.warn(`Auth (${su}): ${n}`,...e)}function qf(n,...e){Th.logLevel<=ht.ERROR&&Th.error(`Auth (${su}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(n,...e){throw p_(n,...e)}function xi(n,...e){return p_(n,...e)}function gN(n,e,t){const r=Object.assign(Object.assign({},GB()),{[e]:t});return new Gc("auth","Firebase",r).create(e,{appName:n.name})}function da(n){return gN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mN.create(n,...e)}function Ze(n,e,...t){if(!n)throw p_(e,...t)}function ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qf(e),new Error(e)}function _s(n,e){n||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YB(){return LI()==="http:"||LI()==="https:"}function LI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YB()||l$()||"connection"in navigator)?navigator.onLine:!0}function JB(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.shortDelay=e,this.longDelay=t,_s(t>e,"Short delay should be less than long delay!"),this.isMobile=s$()||u$()}get(){return XB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(n,e){_s(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new rd(3e4,6e4);function g_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fu(n,e,t,r,i={}){return vN(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Qc(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return a$()||(p.referrerPolicy="no-referrer"),yN.fetch()(_N(n,n.config.apiHost,t,c),p)})}async function vN(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZB),e);try{const i=new n9(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Df(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Df(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gN(n,g,p);vs(n,g)}}catch(i){if(i instanceof Cs)throw i;vs(n,"network-request-failed",{message:String(i)})}}async function t9(n,e,t,r,i={}){const a=await fu(n,e,t,r,i);return"mfaPendingCredential"in a&&vs(n,"multi-factor-auth-required",{_serverResponse:a}),a}function _N(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?m_(n.config,i):`${n.config.apiScheme}://${i}`}class n9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),e9.get())})}}function Df(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=xi(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(n,e){return fu(n,"POST","/v1/accounts:delete",e)}async function wN(n,e){return fu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i9(n,e=!1){const t=Zn(n),r=await t.getIdToken(e),i=y_(r);Ze(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:hc(Ng(i.auth_time)),issuedAtTime:hc(Ng(i.iat)),expirationTime:hc(Ng(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ng(n){return Number(n)*1e3}function y_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{const i=SR(t);return i?JSON.parse(i):(qf("Failed to decode base64 JWT payload"),null)}catch(i){return qf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function MI(n){const e=y_(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Cs&&s9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function s9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Nc(n,wN(t,{idToken:r}));Ze(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?EN(a.providerUserInfo):[],c=l9(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ny(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function a9(n){const e=Zn(n);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EN(n){return n.map(e=>{var{providerId:t}=e,r=h_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(n,e){const t=await vN(n,{},async()=>{const r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=_N(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",yN.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function c9(n,e){return fu(n,"POST","/v2/accounts:revokeToken",g_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=MI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await u9(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Al;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=h_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ny(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return i9(this,e)}reload(){return a9(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await Nc(this,r9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,f,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(l=t.photoURL)!==null&&l!==void 0?l:void 0,O=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,B=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:q,isAnonymous:Z,providerData:K,stsTokenManager:I}=t;Ze(z&&I,e,"internal-error");const R=Al.fromJSON(this.name,I);Ze(typeof z=="string",e,"internal-error"),Xs(_,e.name),Xs(E,e.name),Ze(typeof q=="boolean",e,"internal-error"),Ze(typeof Z=="boolean",e,"internal-error"),Xs(A,e.name),Xs(N,e.name),Xs(O,e.name),Xs(b,e.name),Xs(B,e.name),Xs(U,e.name);const P=new ns({uid:z,auth:e,email:E,emailVerified:q,displayName:_,isAnonymous:Z,photoURL:N,phoneNumber:A,tenantId:O,stsTokenManager:R,createdAt:B,lastLoginAt:U});return K&&Array.isArray(K)&&(P.providerData=K.map(x=>Object.assign({},x))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Al;i.updateFromServerResponse(t);const a=new ns({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ih(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?EN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Al;c.updateFromIdToken(r);const f=new ns({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ny(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Map;function rs(n){_s(n instanceof Function,"Expected a class definition");let e=VI.get(n);return e?(_s(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TN.type="NONE";const UI=TN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n,e,t){return`firebase:${n}:${e}:${t}`}class Rl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Kf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Kf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Rl(rs(UI),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||rs(UI);const l=Kf(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=ns._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Rl(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Rl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bN(e))return"Blackberry";if(NN(e))return"Webos";if(SN(e))return"Safari";if((e.includes("chrome/")||CN(e))&&!e.includes("edge/"))return"Chrome";if(RN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IN(n=Bn()){return/firefox\//i.test(n)}function SN(n=Bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CN(n=Bn()){return/crios\//i.test(n)}function AN(n=Bn()){return/iemobile/i.test(n)}function RN(n=Bn()){return/android/i.test(n)}function bN(n=Bn()){return/blackberry/i.test(n)}function NN(n=Bn()){return/webos/i.test(n)}function v_(n=Bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function d9(n=Bn()){var e;return v_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f9(){return c$()&&document.documentMode===10}function kN(n=Bn()){return v_(n)||RN(n)||NN(n)||bN(n)||/windows phone/i.test(n)||AN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n,e=[]){let t;switch(n){case"Browser":t=$I(Bn());break;case"Worker":t=`${$I(Bn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${su}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(n,e={}){return fu(n,"GET","/v2/passwordPolicy",g_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=6;class g9{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:m9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jI(this),this.idTokenSubscription=new jI(this),this.beforeStateQueue=new h9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rs(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wN(this,{idToken:e}),r=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ni(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(da(this));const t=e?Zn(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p9(this),t=new g9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await c9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rs(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&QB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function __(n){return Zn(n)}class jI{constructor(e){this.auth=e,this.observer=null,this.addObserver=v$(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v9(n){w_=n}function _9(n){return w_.loadJS(n)}function w9(){return w_.gapiScript}function E9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(n,e){const t=Pv(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Ec(a,e??{}))return i;vs(i,"already-initialized")}return t.initialize({options:e})}function I9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(rs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function S9(n,e,t){const r=__(n);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=DN(e),{host:l,port:c}=C9(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),A9()}function DN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function C9(n){const e=DN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:FI(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:FI(l)}}}function FI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function A9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n,e){return t9(n,"POST","/v1/accounts:signInWithIdp",g_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="http://localhost";class wa extends ON{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=h_(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new wa(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return bl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,bl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bl(e,t)}buildRequest(){const e={requestUri:R9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends xN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends id{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wa._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return no.credential(t,r)}catch{return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends id{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends id{constructor(){super("twitter.com")}static credential(e,t){return wa._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return io.credential(t,r)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ns._fromIdTokenResponse(e,r,i),l=BI(r);return new Gl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=BI(r);return new Gl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function BI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Cs{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Sh(e,t,r,i)}}function LN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(n,a,e,r):a})}async function b9(n,e,t=!1){const r=await Nc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(n,e,t=!1){const{auth:r}=n;if(Ni(r.app))return Promise.reject(da(r));const i="reauthenticate";try{const a=await Nc(n,LN(r,i,e,n),t);Ze(a.idToken,r,"internal-error");const l=y_(a.idToken);Ze(l,r,"internal-error");const{sub:c}=l;return Ze(n.uid===c,r,"user-mismatch"),Gl._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(n,e,t=!1){if(Ni(n.app))return Promise.reject(da(n));const r="signIn",i=await LN(n,r,e),a=await Gl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function P9(n,e,t,r){return Zn(n).onIdTokenChanged(e,t,r)}function D9(n,e,t){return Zn(n).beforeAuthStateChanged(e,t)}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=1e3,x9=10;class VN extends MN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);f9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,x9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},O9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VN.type="LOCAL";const L9=VN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN extends MN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}UN.type="SESSION";const $N=UN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await M9(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=E_("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function U9(n){Li().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function $9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function F9(){return jN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebaseLocalStorageDb",B9=1,Ah="firebaseLocalStorage",BN="fbase_key";class sd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pp(n,e){return n.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function H9(){const n=indexedDB.deleteDatabase(FN);return new sd(n).toPromise()}function ky(){const n=indexedDB.open(FN,B9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ah,{keyPath:BN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await H9(),e(await ky()))})})}async function HI(n,e,t){const r=pp(n,!0).put({[BN]:e,value:t});return new sd(r).toPromise()}async function z9(n,e){const t=pp(n,!1).get(e),r=await new sd(t).toPromise();return r===void 0?null:r.value}function zI(n,e){const t=pp(n,!0).delete(e);return new sd(t).toPromise()}const W9=800,q9=3;class HN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>q9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hp._getInstance(F9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $9(),!this.activeServiceWorker)return;this.sender=new V9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ky();return await HI(e,Ch,"1"),await zI(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>HI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>z9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=pp(i,!1).getAll();return new sd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HN.type="LOCAL";const K9=HN;new rd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(n,e){return e?rs(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends ON{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Q9(n){return k9(n.auth,new T_(n),n.bypassAuthState)}function Y9(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),N9(t,new T_(n),n.bypassAuthState)}async function X9(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),b9(t,new T_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q9;case"linkViaPopup":case"linkViaRedirect":return X9;case"reauthViaPopup":case"reauthViaRedirect":return Y9;default:vs(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new rd(2e3,1e4);class Il extends zN{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Il.currentPopupAction&&Il.currentPopupAction.cancel(),Il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=E_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J9.get())};e()}}Il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="pendingRedirect",Gf=new Map;class e3 extends zN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const r=await t3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t3(n,e){const t=i3(e),r=r3(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function n3(n,e){Gf.set(n._key(),e)}function r3(n){return rs(n._redirectPersistence)}function i3(n){return Kf(Z9,n.config.apiKey,n.name)}async function s3(n,e,t=!1){if(Ni(n.app))return Promise.reject(da(n));const r=__(n),i=G9(r,e),l=await new e3(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=10*60*1e3;class a3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!WN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(xi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(WI(e))}saveEventToCache(e){this.cachedEventUids.add(WI(e)),this.lastProcessedEventTime=Date.now()}}function WI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(n,e={}){return fu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;async function f3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await u3(n);for(const t of e)try{if(h3(t))return}catch{}vs(n,"unauthorized-domain")}function h3(n){const e=by(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!d3.test(t))return!1;if(c3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new rd(3e4,6e4);function qI(){const n=Li().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function m3(n){return new Promise((e,t)=>{var r,i,a;function l(){qI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qI(),t(xi(n,"network-request-failed"))},timeout:p3.get()})}if(!((i=(r=Li().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Li().gapi)===null||a===void 0)&&a.load)l();else{const c=E9("iframefcb");return Li()[c]=()=>{gapi.load?l():t(xi(n,"network-request-failed"))},_9(`${w9()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function g3(n){return Qf=Qf||m3(n),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new rd(5e3,15e3),v3="__/auth/iframe",_3="emulator/auth/iframe",w3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T3(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?m_(e,_3):`https://${n.config.authDomain}/${v3}`,r={apiKey:e.apiKey,appName:n.name,v:su},i=E3.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Qc(r).slice(1)}`}async function I3(n){const e=await g3(n),t=Li().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:T3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w3,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=xi(n,"network-request-failed"),c=Li().setTimeout(()=>{a(l)},y3.get());function f(){Li().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C3=500,A3=600,R3="_blank",b3="http://localhost";class KI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N3(n,e,t,r=C3,i=A3){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},S3),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Bn().toLowerCase();t&&(c=CN(p)?R3:t),IN(p)&&(e=e||b3,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[A,N])=>`${E}${A}=${N},`,"");if(d9(p)&&c!=="_self")return k3(e||"",c),new KI(null);const _=window.open(e||"",c,g);Ze(_,n,"popup-blocked");try{_.focus()}catch{}return new KI(_)}function k3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__/auth/handler",D3="emulator/auth/handler",O3=encodeURIComponent("fac");async function GI(n,e,t,r,i,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:su,eventId:i};if(e instanceof xN){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",y$(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof id){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${O3}=${encodeURIComponent(f)}`:"";return`${x3(n)}?${Qc(c).slice(1)}${p}`}function x3({config:n}){return n.emulator?m_(n,D3):`https://${n.authDomain}/${P3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="webStorageSupport";class L3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$N,this._completeRedirectFn=s3,this._overrideRedirectResult=n3}async _openPopup(e,t,r,i){var a;_s((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await GI(e,t,r,by(),i);return N3(e,l,E_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await GI(e,t,r,by(),i);return U9(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(_s(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await I3(e),r=new a3(e);return t.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kg,{type:kg},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[kg];l!==void 0&&t(!!l),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=f3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kN()||SN()||v_()}}const M3=L3;var QI="@firebase/auth",YI="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $3(n){$l(new ya("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PN(n)},p=new y9(r,i,a,f);return I9(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$l(new ya("auth-internal",e=>{const t=__(e.getProvider("auth").getImmediate());return(r=>new V3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),po(QI,YI,U3(n)),po(QI,YI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=5*60,F3=RR("authIdTokenMaxAge")||j3;let XI=null;const B3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>F3)return;const i=t==null?void 0:t.token;XI!==i&&(XI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H3(n=PR()){const e=Pv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=T9(n,{popupRedirectResolver:M3,persistence:[K9,L9,$N]}),r=RR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=B3(a.toString());D9(t,l,()=>l(t.currentUser)),P9(t,c=>l(c))}}const i=CR("auth");return i&&S9(t,`http://${i}`),t}function z3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}v9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=xi("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",z3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$3("Browser");const JI=n=>{let e;const t=new Set,r=(p,g)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const E=e;e=g??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(A=>A(e,E))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(r,i,c);return c},W3=n=>n?JI(n):JI,q3=n=>n;function K3(n,e=q3){const t=cn.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return cn.useDebugValue(t),t}const ZI=n=>{const e=W3(n),t=r=>K3(e,r);return Object.assign(t,e),t},G3=n=>n?ZI(n):ZI,Q3=G3(n=>({currentUser:null,isLoading:!0,fetchUserInfo:async e=>{if(!e)return n({currentUser:null,isLoading:!1});try{const t=zf(Rh,"users",e),r=await Ry(t);r.exists()?n({currentUser:r.data(),isLoading:!1}):n({currentUser:null,isLoading:!1})}catch(t){return console.log(t),n({currentUser:null,isLoading:!1})}}})),Y3={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"};kR(Y3);H3();const Rh=CB();async function X3(n){try{const e=Cy(Rh,"users"),t=$B(e,jB("username","==",n)),r=await WB(t);if(r.empty)throw new Error("User not found!");return r.docs[0].data()}catch(e){throw console.error("Search Error:",e),new Error("An error occurred while searching.")}}async function J3(n,e){if(!n||!e)return;const t=Cy(Rh,"chats"),r=Cy(Rh,"userchats"),i=zf(r,e.id),a=zf(r,n.id);try{const[l,c]=await Promise.all([Ry(i),Ry(a)]);l.exists()||await bg(i,{chats:[]}),c.exists()||await bg(a,{chats:[]});const f=l.exists()?l.data().chats||[]:[],p=c.exists()?c.data().chats||[]:[],g=f.some(N=>N.receiverId===n.id),_=p.some(N=>N.receiverId===e.id);if(g||_)throw new Error("User already added!");const E=zf(t);await bg(E,{createdAt:KB(),messages:[]});const A={chatId:E.id,lastMessage:"",receiverId:n.id,updatedAt:Date.now()};return await OI(i,{chats:xI(A)}),await OI(a,{chats:xI({...A,receiverId:e.id})}),E.id}catch(l){throw console.error("Add User Error:",l),new Error("An error occurred while adding the user.")}}function Z3(n){const{currentUser:e}=Q3(),[t,r]=w.useState(null),[i,a]=w.useState(null);return useEffect(()=>{if(!n)return;async function l(){try{const c=await X3(n);r(c),await J3(c,e),console.log("found and added")}catch(c){a(c.message)}}l()},[n,e]),{user:t,error:i}}async function eH(n){try{await Z3(n),console.log(n)}catch{console.log("Failed to add chat")}}const tH=({name:n,userId:e,eventKey:t})=>{const[r,i]=w.useState([]);return w.useEffect(()=>{(async function(){if(!e||e.length===0)return;const l=await Promise.all(e.map(async c=>{try{const{userdb:f}=await Eo(c),p=(f==null?void 0:f.displayName)||(f==null?void 0:f.defaultName)||"",g=(f==null?void 0:f.defaultName)||"";return p||g?{displayName:p,appwriteName:g}:null}catch(f){return console.error("Error fetching user data:",f),null}}));i(l.filter(c=>c!==null))})()},[e]),pe(oo.Item,{eventKey:t,children:[C(oo.Header,{children:n}),C(oo.Body,{children:r.length>0?r.map((a,l)=>pe("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[pe("p",{className:"mb-0",children:[C("strong",{children:a.displayName})," wants to trade. The default username is ",C("strong",{children:a.appwriteName})]}),C(Nn,{variant:"primary",size:"sm",onClick:()=>eH(a.appwriteName),children:"Message"})]},l)):C("p",{children:"No trade requests yet."})})]})},nH=()=>{const[n,e]=w.useState([]),{session:t}=wo();return Aa(),w.useEffect(()=>{(async function(){const i=await ao();if(!i){console.log("User data is still loading. Please wait.");return}const{items:a}=await Rv(i.$id),l=a.filter(c=>c.requests&&c.requests.length>0);e(l)})()},[]),pe("div",{className:"container",children:[C("h1",{children:"Your Items with Requests"}),n.length>0?pe(oo,{alwaysOpen:!0,children:[" ",n.map((r,i)=>C(tH,{name:r.name,userId:r.requests,eventKey:String(i)},r.$id))]}):C("p",{children:"No items with requests found."})]})};function rH({params:n=pR()}){const[e,t]=w.useState(),[r,i]=w.useState(),a=Aa(),[l,c]=w.useState(!1),[f,p]=w.useState(!1),{isAdmin:g}=wo(),E={url:(e==null?void 0:e.imageFileId)&&Kc(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var Z;if(!n.itemsId)return;const{items:U}=await ny(n.itemsId);console.log("Fetched Item Data:",U),t(U);const z=await ao();if((z==null?void 0:z.$id)===(U==null?void 0:U.authorID)&&c(!0),z&&p(((Z=U.requests)==null?void 0:Z.includes(z.$id))??!1),U){const{userdb:K}=await Eo(U.authorID);i(K);return}})()},[n.itemsId]);async function A(){if(!e)return;const B=await ao();if(!B){console.log("User data is still loading. Please wait.");return}try{const U=e.requests??[];if(U.includes(B.$id)){p(!0);return}const z=[...U,B.$id];t(q=>q&&{...q,requests:z}),p(!0),await ET(n.itemsId,{...e,isApproved:!0,requests:z}),console.log("Trade request successful")}catch(U){console.error("Error requesting trade:",U)}}async function N(){if(e!=null&&e.$id){await MU(e.$id);return}a(-1)}async function O(){if(!e)return;if(!await ao()){console.log("User data is still loading. Please wait.");return}try{await ER(n.itemsId,{...e,isApproved:!0});const{items:U}=await ny(n.itemsId);console.log(" Approved Post Data from Appwrite:",U),t(U),a(-1)}catch(U){console.error("Error approving post:",U)}}async function b(){if(!e)return;const B=await ao();if(!B){console.log("User data is still loading. Please wait.");return}try{const U=e.requests??[];if(!U.includes(B.$id)){p(!1);return}const z=U.filter(q=>q!==B.$id);t(q=>q&&{...q,requests:z}),p(!1),await ET(n.itemsId,{...e,isApproved:!0,requests:z}),console.log("Trade request removed")}catch(U){console.error("Error removing request:",U)}}return pe(Gh,{children:[pe("a",{className:"HomeItem",href:"#/Home",children:[C("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:C("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),C("div",{className:"container",children:e&&pe(hn,{children:[pe("div",{className:"itemheading",children:[C("div",{children:C("h1",{children:e.name})}),r&&C("a",{href:`#/User/${e.authorID}`,className:"profile-link",children:r.displayName||r.defaultName}),pe("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!g&&pe("div",{className:"Tradecont",children:[l&&C(Nn,{className:"Tradereq",variant:"primary",onClick:N,children:"Delete Item"}),!l&&C(hn,{children:f?C(Nn,{className:"Tradereq",variant:"danger",onClick:b,children:"Remove Trade Request"}):C(Nn,{className:"Tradereq",variant:"primary",onClick:A,children:"Request a Trade"})})]}),g&&pe("div",{className:"Tradecont",children:[C(Nn,{className:"Tradereq",variant:"primary",onClick:N,children:"Delete Item"}),C(Nn,{className:"Tradereq",variant:"primary",onClick:O,children:"Approve Item"})]}),C("div",{className:"itemimg",children:C(k0,{className:"image-carousel",controls:!1,children:C(k0.Item,{children:C("img",{className:"thumbnail",src:E.url?String(E.url):"./images/favicon",alt:"Item"})})})}),C("div",{className:"description",children:C("p",{children:e.description})})]})})]})}function iH({params:n=pR()}){const[e,t]=w.useState(null),[r,i]=w.useState([]);return w.useEffect(()=>{console.log(n.profileId),async function(){try{const{userdb:l}=await Eo(n.profileId);t(l);const{items:c}=await Rv(n.profileId);i(c)}catch(l){console.error("Error fetching profile data:",l)}}()},[n.profileId]),C(Gh,{children:pe(Sa,{className:"mt-5",children:[C(ls,{className:"justify-content-center text-center",children:C(as,{md:6,lg:4,children:pe("div",{className:"profile-container p-4 bg-light rounded shadow",children:[C(nh,{src:e!=null&&e.profileImageId?ty(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),C("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),C("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),C("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),C(ls,{className:"mt-5",children:pe(as,{children:[C("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?C(ls,{className:"g-4",children:r.map(a=>{const c={url:a.imageFileId&&Kc(a.imageFileId),height:a.imageHeight,width:a.imageWidth};return C(as,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:C("a",{className:"itemLink",href:`#/Item/${a.$id}`,children:C(Kh,{image:c,name:a.name,date:a.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"})})},a.$id)})}):C("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function sH(){const{isAdmin:n,logInAdmin:e}=wo(),[t,r]=w.useState([]),[i,a]=w.useState({}),l=async c=>{c.preventDefault();const f=c.target;await e(f.email.value,f.password.value),window.location.reload()};return w.useEffect(()=>{(async function(){const{items:f}=await LU();r(f);const p={};await Promise.all(f.map(async g=>{if(!p[g.authorID]){const{userdb:_}=await Eo(g.authorID);p[g.authorID]=_}})),a(p)})()},[]),pe(hn,{children:[!n&&C("div",{className:"RegAdminContainer",children:C("div",{className:"login-register-container",children:pe("form",{onSubmit:l,autoComplete:"off",children:[pe("div",{className:"form-field-wrapper",children:[C("label",{children:"Email:"}),C("input",{required:!0,type:"email",name:"email",placeholder:"Enter email..."})]}),pe("div",{className:"form-field-wrapper",children:[C("label",{children:"Password:"}),C(hr.Control,{type:"password",name:"password",placeholder:"Enter password..."})]}),C("div",{className:"form-field-wrapper",children:C(Nn,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&C(Gh,{children:C("div",{className:"home",children:pe("div",{className:"container",id:"pagewrap",children:[C("h1",{children:"UNAPPROVED ITEMS"}),C("div",{className:"items container",children:C(ls,{children:t.length>0?t.map(c=>{const p={url:c.imageFileId&&Kc(c.imageFileId),height:c.imageHeight,width:c.imageWidth},g=i[c.authorID];return C(as,{xs:12,md:3,style:{paddingBottom:"20px"},children:C("a",{className:"itemLink",href:`#/Item/${c.$id}`,children:C(Kh,{image:p,name:c.name,date:c.date,author:g?g.displayName||g.defaultName:"Unknown Author"})})},c.$id)}):C(Sa,{children:C(mc,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const oH=cU([{path:"/",element:C(RU,{}),errorElement:C(pl,{})},{path:"/Admin",element:C(sH,{}),errorElement:C(pl,{})},{path:"/Home",element:C(HU,{}),errorElement:C(pl,{})},{path:"/Item/:itemsId",element:C(rH,{}),errorElement:C(pl,{})},{path:"/User/:profileId",element:C(iH,{}),errorElement:C(pl,{})},{path:"/Dashboard",element:C(zU,{}),errorElement:C(pl,{}),children:[{path:"/Dashboard/Post",element:C(KU,{})},{path:"/Dashboard/Profile",element:C(WU,{})},{path:"/Dashboard/Items",element:C(GU,{})},{path:"/Dashboard/Requests",element:C(nH,{})},{path:"/Dashboard/Messages",element:C(qU,{})}]}]);tP.createRoot(document.getElementById("root")).render(C(w.StrictMode,{children:C(BV,{children:C(vU,{router:oH})})}));
