function nC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function fd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cg={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function cP(){if(k0)return ut;k0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function R(z,te,pe){this.props=z,this.context=te,this.refs=N,this.updater=pe||C}R.prototype.isReactComponent={},R.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=R.prototype;function L(z,te,pe){this.props=z,this.context=te,this.refs=N,this.updater=pe||C}var V=L.prototype=new x;V.constructor=L,k(V,R.prototype),V.isPureReactComponent=!0;var j=Array.isArray,q=Object.prototype.hasOwnProperty,G={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function b(z,te,pe){var ve,Ie={},Ae=null,Ge=null;if(te!=null)for(ve in te.ref!==void 0&&(Ge=te.ref),te.key!==void 0&&(Ae=""+te.key),te)q.call(te,ve)&&!S.hasOwnProperty(ve)&&(Ie[ve]=te[ve]);var Be=arguments.length-2;if(Be===1)Ie.children=pe;else if(1<Be){for(var ot=Array(Be),It=0;It<Be;It++)ot[It]=arguments[It+2];Ie.children=ot}if(z&&z.defaultProps)for(ve in Be=z.defaultProps,Be)Ie[ve]===void 0&&(Ie[ve]=Be[ve]);return{$$typeof:n,type:z,key:Ae,ref:Ge,props:Ie,_owner:G.current}}function P(z,te){return{$$typeof:n,type:z.type,key:te,ref:z.ref,props:z.props,_owner:z._owner}}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function U(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return te[pe]})}var F=/\/+/g;function O(z,te){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):te.toString(36)}function we(z,te,pe,ve,Ie){var Ae=typeof z;(Ae==="undefined"||Ae==="boolean")&&(z=null);var Ge=!1;if(z===null)Ge=!0;else switch(Ae){case"string":case"number":Ge=!0;break;case"object":switch(z.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=z,Ie=Ie(Ge),z=ve===""?"."+O(Ge,0):ve,j(Ie)?(pe="",z!=null&&(pe=z.replace(F,"$&/")+"/"),we(Ie,te,pe,"",function(It){return It})):Ie!=null&&(M(Ie)&&(Ie=P(Ie,pe+(!Ie.key||Ge&&Ge.key===Ie.key?"":(""+Ie.key).replace(F,"$&/")+"/")+z)),te.push(Ie)),1;if(Ge=0,ve=ve===""?".":ve+":",j(z))for(var Be=0;Be<z.length;Be++){Ae=z[Be];var ot=ve+O(Ae,Be);Ge+=we(Ae,te,pe,ot,Ie)}else if(ot=T(z),typeof ot=="function")for(z=ot.call(z),Be=0;!(Ae=z.next()).done;)Ae=Ae.value,ot=ve+O(Ae,Be++),Ge+=we(Ae,te,pe,ot,Ie);else if(Ae==="object")throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Ne(z,te,pe){if(z==null)return z;var ve=[],Ie=0;return we(z,ve,"","",function(Ae){return te.call(pe,Ae,Ie++)}),ve}function je(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var Se={current:null},re={transition:null},me={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:re,ReactCurrentOwner:G};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:Ne,forEach:function(z,te,pe){Ne(z,function(){te.apply(this,arguments)},pe)},count:function(z){var te=0;return Ne(z,function(){te++}),te},toArray:function(z){return Ne(z,function(te){return te})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ut.Component=R,ut.Fragment=t,ut.Profiler=i,ut.PureComponent=L,ut.StrictMode=r,ut.Suspense=f,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ut.act=ce,ut.cloneElement=function(z,te,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ve=k({},z.props),Ie=z.key,Ae=z.ref,Ge=z._owner;if(te!=null){if(te.ref!==void 0&&(Ae=te.ref,Ge=G.current),te.key!==void 0&&(Ie=""+te.key),z.type&&z.type.defaultProps)var Be=z.type.defaultProps;for(ot in te)q.call(te,ot)&&!S.hasOwnProperty(ot)&&(ve[ot]=te[ot]===void 0&&Be!==void 0?Be[ot]:te[ot])}var ot=arguments.length-2;if(ot===1)ve.children=pe;else if(1<ot){Be=Array(ot);for(var It=0;It<ot;It++)Be[It]=arguments[It+2];ve.children=Be}return{$$typeof:n,type:z.type,key:Ie,ref:Ae,props:ve,_owner:Ge}},ut.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},ut.createElement=b,ut.createFactory=function(z){var te=b.bind(null,z);return te.type=z,te},ut.createRef=function(){return{current:null}},ut.forwardRef=function(z){return{$$typeof:u,render:z}},ut.isValidElement=M,ut.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:je}},ut.memo=function(z,te){return{$$typeof:p,type:z,compare:te===void 0?null:te}},ut.startTransition=function(z){var te=re.transition;re.transition={};try{z()}finally{re.transition=te}},ut.unstable_act=ce,ut.useCallback=function(z,te){return Se.current.useCallback(z,te)},ut.useContext=function(z){return Se.current.useContext(z)},ut.useDebugValue=function(){},ut.useDeferredValue=function(z){return Se.current.useDeferredValue(z)},ut.useEffect=function(z,te){return Se.current.useEffect(z,te)},ut.useId=function(){return Se.current.useId()},ut.useImperativeHandle=function(z,te,pe){return Se.current.useImperativeHandle(z,te,pe)},ut.useInsertionEffect=function(z,te){return Se.current.useInsertionEffect(z,te)},ut.useLayoutEffect=function(z,te){return Se.current.useLayoutEffect(z,te)},ut.useMemo=function(z,te){return Se.current.useMemo(z,te)},ut.useReducer=function(z,te,pe){return Se.current.useReducer(z,te,pe)},ut.useRef=function(z){return Se.current.useRef(z)},ut.useState=function(z){return Se.current.useState(z)},ut.useSyncExternalStore=function(z,te,pe){return Se.current.useSyncExternalStore(z,te,pe)},ut.useTransition=function(){return Se.current.useTransition()},ut.version="18.3.1",ut}var N0;function Iv(){return N0||(N0=1,Cg.exports=cP()),Cg.exports}var E=Iv();const nt=fd(E),uP=nC({__proto__:null,default:nt},[E]);var Kf={},bg={exports:{}},_r={},Ag={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function dP(){return P0||(P0=1,function(n){function e(re,me){var ce=re.length;re.push(me);e:for(;0<ce;){var z=ce-1>>>1,te=re[z];if(0<i(te,me))re[z]=me,re[ce]=te,ce=z;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],ce=re.pop();if(ce!==me){re[0]=ce;e:for(var z=0,te=re.length,pe=te>>>1;z<pe;){var ve=2*(z+1)-1,Ie=re[ve],Ae=ve+1,Ge=re[Ae];if(0>i(Ie,ce))Ae<te&&0>i(Ge,Ie)?(re[z]=Ge,re[Ae]=ce,z=Ae):(re[z]=Ie,re[ve]=ce,z=ve);else if(Ae<te&&0>i(Ge,ce))re[z]=Ge,re[Ae]=ce,z=Ae;else break e}}return me}function i(re,me){var ce=re.sortIndex-me.sortIndex;return ce!==0?ce:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],p=[],m=1,y=null,T=3,C=!1,k=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(re){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=re)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function j(re){if(N=!1,V(re),!k)if(t(f)!==null)k=!0,je(q);else{var me=t(p);me!==null&&Se(j,me.startTime-re)}}function q(re,me){k=!1,N&&(N=!1,x(b),b=-1),C=!0;var ce=T;try{for(V(me),y=t(f);y!==null&&(!(y.expirationTime>me)||re&&!U());){var z=y.callback;if(typeof z=="function"){y.callback=null,T=y.priorityLevel;var te=z(y.expirationTime<=me);me=n.unstable_now(),typeof te=="function"?y.callback=te:y===t(f)&&r(f),V(me)}else r(f);y=t(f)}if(y!==null)var pe=!0;else{var ve=t(p);ve!==null&&Se(j,ve.startTime-me),pe=!1}return pe}finally{y=null,T=ce,C=!1}}var G=!1,S=null,b=-1,P=5,M=-1;function U(){return!(n.unstable_now()-M<P)}function F(){if(S!==null){var re=n.unstable_now();M=re;var me=!0;try{me=S(!0,re)}finally{me?O():(G=!1,S=null)}}else G=!1}var O;if(typeof L=="function")O=function(){L(F)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ne=we.port2;we.port1.onmessage=F,O=function(){Ne.postMessage(null)}}else O=function(){R(F,0)};function je(re){S=re,G||(G=!0,O())}function Se(re,me){b=R(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){k||C||(k=!0,je(q))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var ce=T;T=me;try{return re()}finally{T=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=T;T=re;try{return me()}finally{T=ce}},n.unstable_scheduleCallback=function(re,me,ce){var z=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?z+ce:z):ce=z,re){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ce+te,re={id:m++,callback:me,priorityLevel:re,startTime:ce,expirationTime:te,sortIndex:-1},ce>z?(re.sortIndex=ce,e(p,re),t(f)===null&&re===t(p)&&(N?(x(b),b=-1):N=!0,Se(j,ce-z))):(re.sortIndex=te,e(f,re),k||C||(k=!0,je(q))),re},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(re){var me=T;return function(){var ce=T;T=me;try{return re.apply(this,arguments)}finally{T=ce}}}}(Rg)),Rg}var D0;function fP(){return D0||(D0=1,Ag.exports=dP()),Ag.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function hP(){if(x0)return _r;x0=1;var n=Iv(),e=fP();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function T(s){return f.call(y,s)?!0:f.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function C(s,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,c,h){if(a===null||typeof a>"u"||C(s,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(s,a,c,h,g,_,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=A}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];R[a]=new N(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(x,L);R[a]=new N(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(x,L);R[a]=new N(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(x,L);R[a]=new N(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,a,c,h){var g=R.hasOwnProperty(a)?R[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,g,h)&&(c=null),h||g===null?T(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,a,c):s.setAttribute(a,c))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),G=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,z;function te(s){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var pe=!1;function ve(s,a){if(!s||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var h=ee}Reflect.construct(s,[],a)}else{try{a.call()}catch(ee){h=ee}s.call(a.prototype)}else{try{throw Error()}catch(ee){h=ee}s()}}catch(ee){if(ee&&h&&typeof ee.stack=="string"){for(var g=ee.stack.split(`
`),_=h.stack.split(`
`),A=g.length-1,$=_.length-1;1<=A&&0<=$&&g[A]!==_[$];)$--;for(;1<=A&&0<=$;A--,$--)if(g[A]!==_[$]){if(A!==1||$!==1)do if(A--,$--,0>$||g[A]!==_[$]){var H=`
`+g[A].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=A&&0<=$);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function Ie(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case G:return"Portal";case P:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ne:return a=s.displayName||null,a!==null?a:Ae(s.type)||"Memo";case je:a=s._payload,s=s._init;try{return Ae(s(a))}catch{}}return null}function Ge(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ot(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function It(s){var a=ot(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(A){h=""+A,_.call(this,A)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function bt(s){s._valueTracker||(s._valueTracker=It(s))}function st(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=ot(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function Dt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Xt(s,a){var c=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function it(s,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=Be(a.value!=null?a.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Wt(s,a){a=a.checked,a!=null&&V(s,"checked",a,!1)}function _n(s,a){Wt(s,a);var c=Be(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Xn(s,a.type,c):a.hasOwnProperty("defaultValue")&&Xn(s,a.type,Be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Br(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Xn(s,a,c){(a!=="number"||Dt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var qt=Array.isArray;function sn(s,a,c,h){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Be(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function lr(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Un(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(qt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Be(c)}}function Lt(s,a){var c=Be(a.value),h=Be(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function hn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function $e(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?$e(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Mt,wn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Mt=Mt||document.createElement("div"),Mt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Mt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Jn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(s){ze.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Zn[a]=Zn[s]})});function at(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Zn.hasOwnProperty(s)&&Zn[s]?(""+a).trim():a+"px"}function En(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=at(c,a[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var cr=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ri(s,a){if(a){if(cr[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Zo(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ki=null;function ci(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ts=null,$n=null,ur=null;function qs(s){if(s=ou(s)){if(typeof ts!="function")throw Error(t(280));var a=s.stateNode;a&&(a=lf(a),ts(s.stateNode,s.type,a))}}function Sr(s){$n?ur?ur.push(s):ur=[s]:$n=s}function ea(){if($n){var s=$n,a=ur;if(ur=$n=null,qs(s),a)for(s=0;s<a.length;s++)qs(a[s])}}function Ni(s,a){return s(a)}function Pi(){}var dr=!1;function ta(s,a,c){if(dr)return s(a,c);dr=!0;try{return Ni(s,a,c)}finally{dr=!1,($n!==null||ur!==null)&&(Pi(),ea())}}function Kt(s,a){var c=s.stateNode;if(c===null)return null;var h=lf(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var B=!1;if(u)try{var K={};Object.defineProperty(K,"passive",{get:function(){B=!0}}),window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{B=!1}function Z(s,a,c,h,g,_,A,$,H){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(ue){this.onError(ue)}}var ie=!1,_e=null,Pe=!1,Qe=null,De={onError:function(s){ie=!0,_e=s}};function Re(s,a,c,h,g,_,A,$,H){ie=!1,_e=null,Z.apply(De,arguments)}function Ce(s,a,c,h,g,_,A,$,H){if(Re.apply(this,arguments),ie){if(ie){var ee=_e;ie=!1,_e=null}else throw Error(t(198));Pe||(Pe=!0,Qe=ee)}}function xe(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function et(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Ze(s){if(xe(s)!==s)throw Error(t(188))}function Jt(s){var a=s.alternate;if(!a){if(a=xe(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,h=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return Ze(g),s;if(_===h)return Ze(g),a;_=_.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=_;else{for(var A=!1,$=g.child;$;){if($===c){A=!0,c=g,h=_;break}if($===h){A=!0,h=g,c=_;break}$=$.sibling}if(!A){for($=_.child;$;){if($===c){A=!0,c=_,h=g;break}if($===h){A=!0,h=_,c=g;break}$=$.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function St(s){return s=Jt(s),s!==null?ct(s):null}function ct(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ct(s);if(a!==null)return a;s=s.sibling}return null}var kt=e.unstable_scheduleCallback,Hr=e.unstable_cancelCallback,Di=e.unstable_shouldYield,Cr=e.unstable_requestPaint,dt=e.unstable_now,Ks=e.unstable_getCurrentPriorityLevel,br=e.unstable_ImmediatePriority,Fn=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,xi=e.unstable_LowPriority,ft=e.unstable_IdlePriority,At=null,on=null;function Oi(s){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(At,s,void 0,(s.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:nl,zr=Math.log,na=Math.LN2;function nl(s){return s>>>=0,s===0?32:31-(zr(s)/na|0)|0}var rl=64,il=4194304;function Gs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ra(s,a){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,_=s.pingedLanes,A=c&268435455;if(A!==0){var $=A&~g;$!==0?h=Gs($):(_&=A,_!==0&&(h=Gs(_)))}else A=c&~g,A!==0?h=Gs(A):_!==0&&(h=Gs(_));if(h===0)return 0;if(a!==0&&a!==h&&(a&g)===0&&(g=h&-h,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)c=31-ht(a),g=1<<c,h|=s[c],a&=~g;return h}function tm(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var A=31-ht(_),$=1<<A,H=g[A];H===-1?(($&c)===0||($&h)!==0)&&(g[A]=tm($,a)):H<=a&&(s.expiredLanes|=$),_&=~$}}function Ar(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ia(){var s=rl;return rl<<=1,(rl&4194240)===0&&(rl=64),s}function Qs(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ys(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ht(a),s[a]=c}function xt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-ht(c),_=1<<g;a[g]=0,h[g]=-1,s[g]=-1,c&=~_}}function Xs(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-ht(c),g=1<<h;g&a|s[h]&a&&(s[h]|=a),c&=~g}}var vt=0;function Js(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Fd,sl,jd,Bd,Hd,Wc=!1,Li=[],kn=null,ui=null,di=null,Zs=new Map,Wr=new Map,Mi=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(s,a){switch(s){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Zs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(a.pointerId)}}function fr(s,a,c,h,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},a!==null&&(a=ou(a),a!==null&&sl(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function rm(s,a,c,h,g){switch(a){case"focusin":return kn=fr(kn,s,a,c,h,g),!0;case"dragenter":return ui=fr(ui,s,a,c,h,g),!0;case"mouseover":return di=fr(di,s,a,c,h,g),!0;case"pointerover":var _=g.pointerId;return Zs.set(_,fr(Zs.get(_)||null,s,a,c,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Wr.set(_,fr(Wr.get(_)||null,s,a,c,h,g)),!0}return!1}function Wd(s){var a=ca(s.target);if(a!==null){var c=xe(a);if(c!==null){if(a=c.tag,a===13){if(a=et(c),a!==null){s.blockedOn=a,Hd(s.priority,function(){jd(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rs(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=ol(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);ki=h,c.target.dispatchEvent(h),ki=null}else return a=ou(c),a!==null&&sl(a),s.blockedOn=c,!1;a.shift()}return!0}function sa(s,a,c){rs(s)&&c.delete(a)}function qd(){Wc=!1,kn!==null&&rs(kn)&&(kn=null),ui!==null&&rs(ui)&&(ui=null),di!==null&&rs(di)&&(di=null),Zs.forEach(sa),Wr.forEach(sa)}function fi(s,a){s.blockedOn===a&&(s.blockedOn=null,Wc||(Wc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qd)))}function hi(s){function a(g){return fi(g,s)}if(0<Li.length){fi(Li[0],s);for(var c=1;c<Li.length;c++){var h=Li[c];h.blockedOn===s&&(h.blockedOn=null)}}for(kn!==null&&fi(kn,s),ui!==null&&fi(ui,s),di!==null&&fi(di,s),Zs.forEach(a),Wr.forEach(a),c=0;c<Mi.length;c++)h=Mi[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Mi.length&&(c=Mi[0],c.blockedOn===null);)Wd(c),c.blockedOn===null&&Mi.shift()}var is=j.ReactCurrentBatchConfig,eo=!0;function jt(s,a,c,h){var g=vt,_=is.transition;is.transition=null;try{vt=1,qc(s,a,c,h)}finally{vt=g,is.transition=_}}function im(s,a,c,h){var g=vt,_=is.transition;is.transition=null;try{vt=4,qc(s,a,c,h)}finally{vt=g,is.transition=_}}function qc(s,a,c,h){if(eo){var g=ol(s,a,c,h);if(g===null)mm(s,a,h,oa,c),zd(s,h);else if(rm(g,s,a,c,h))h.stopPropagation();else if(zd(s,h),a&4&&-1<nm.indexOf(s)){for(;g!==null;){var _=ou(g);if(_!==null&&Fd(_),_=ol(s,a,c,h),_===null&&mm(s,a,h,oa,c),_===g)break;g=_}g!==null&&h.stopPropagation()}else mm(s,a,h,null,c)}}var oa=null;function ol(s,a,c,h){if(oa=null,s=ci(h),s=ca(s),s!==null)if(a=xe(s),a===null)s=null;else if(c=a.tag,c===13){if(s=et(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return oa=s,null}function Kc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ks()){case br:return 1;case Fn:return 4;case Rn:case xi:return 16;case ft:return 536870912;default:return 16}default:return 16}}var Rr=null,al=null,hr=null;function Gc(){if(hr)return hr;var s,a=al,c=a.length,h,g="value"in Rr?Rr.value:Rr.textContent,_=g.length;for(s=0;s<c&&a[s]===g[s];s++);var A=c-s;for(h=1;h<=A&&a[c-h]===g[_-h];h++);return hr=g.slice(s,1<h?1-h:void 0)}function ll(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Vi(){return!0}function Qc(){return!1}function Nn(s){function a(c,h,g,_,A){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(c=s[$],this[$]=c?c(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Vi:Qc,this.isPropagationStopped=Qc,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),a}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=Nn(pi),Ui=ce({},pi,{view:0,detail:0}),sm=Nn(Ui),ul,ss,to,aa=ce({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==to&&(to&&s.type==="mousemove"?(ul=s.screenX-to.screenX,ss=s.screenY-to.screenY):ss=ul=0,to=s),ul)},movementY:function(s){return"movementY"in s?s.movementY:ss}}),dl=Nn(aa),Yc=ce({},aa,{dataTransfer:0}),Kd=Nn(Yc),fl=ce({},Ui,{relatedTarget:0}),hl=Nn(fl),Gd=ce({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),os=Nn(Gd),Qd=ce({},pi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yd=Nn(Qd),Xd=ce({},pi,{data:0}),Xc=Nn(Xd),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Jd[s])?!!a[s]:!1}function $i(){return Zd}var d=ce({},Ui,{key:function(s){if(s.key){var a=pl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ll(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?er[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(s){return s.type==="keypress"?ll(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ll(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Nn(d),I=ce({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=Nn(I),Q=ce({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),ne=Nn(Q),ge=ce({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nt=Nn(ge),pn=ce({},aa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wt=Nn(pn),Tn=[9,13,27,32],an=u&&"CompositionEvent"in window,qr=null;u&&"documentMode"in document&&(qr=document.documentMode);var kr=u&&"TextEvent"in window&&!qr,la=u&&(!an||qr&&8<qr&&11>=qr),ml=" ",Iw=!1;function Sw(s,a){switch(s){case"keyup":return Tn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var gl=!1;function o1(s,a){switch(s){case"compositionend":return Cw(a);case"keypress":return a.which!==32?null:(Iw=!0,ml);case"textInput":return s=a.data,s===ml&&Iw?null:s;default:return null}}function a1(s,a){if(gl)return s==="compositionend"||!an&&Sw(s,a)?(s=Gc(),hr=al=Rr=null,gl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return la&&a.locale!=="ko"?null:a.data;default:return null}}var l1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bw(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!l1[s.type]:a==="textarea"}function Aw(s,a,c,h){Sr(h),a=sf(a,"onChange"),0<a.length&&(c=new cl("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var Jc=null,Zc=null;function c1(s){Ww(s,0)}function ef(s){var a=El(s);if(st(a))return s}function u1(s,a){if(s==="change")return a}var Rw=!1;if(u){var om;if(u){var am="oninput"in document;if(!am){var kw=document.createElement("div");kw.setAttribute("oninput","return;"),am=typeof kw.oninput=="function"}om=am}else om=!1;Rw=om&&(!document.documentMode||9<document.documentMode)}function Nw(){Jc&&(Jc.detachEvent("onpropertychange",Pw),Zc=Jc=null)}function Pw(s){if(s.propertyName==="value"&&ef(Zc)){var a=[];Aw(a,Zc,s,ci(s)),ta(c1,a)}}function d1(s,a,c){s==="focusin"?(Nw(),Jc=a,Zc=c,Jc.attachEvent("onpropertychange",Pw)):s==="focusout"&&Nw()}function f1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ef(Zc)}function h1(s,a){if(s==="click")return ef(a)}function p1(s,a){if(s==="input"||s==="change")return ef(a)}function m1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mi=typeof Object.is=="function"?Object.is:m1;function eu(s,a){if(mi(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!f.call(a,g)||!mi(s[g],a[g]))return!1}return!0}function Dw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xw(s,a){var c=Dw(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Dw(c)}}function Ow(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Ow(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Lw(){for(var s=window,a=Dt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Dt(s.document)}return a}function lm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function g1(s){var a=Lw(),c=s.focusedElem,h=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Ow(c.ownerDocument.documentElement,c)){if(h!==null&&lm(c)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(h.start,g);h=h.end===void 0?_:Math.min(h.end,g),!s.extend&&_>h&&(g=h,h=_,_=g),g=xw(c,_);var A=xw(c,h);g&&A&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>h?(s.addRange(a),s.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var y1=u&&"documentMode"in document&&11>=document.documentMode,yl=null,cm=null,tu=null,um=!1;function Mw(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;um||yl==null||yl!==Dt(h)||(h=yl,"selectionStart"in h&&lm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),tu&&eu(tu,h)||(tu=h,h=sf(cm,"onSelect"),0<h.length&&(a=new cl("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=yl)))}function tf(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var vl={animationend:tf("Animation","AnimationEnd"),animationiteration:tf("Animation","AnimationIteration"),animationstart:tf("Animation","AnimationStart"),transitionend:tf("Transition","TransitionEnd")},dm={},Vw={};u&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function nf(s){if(dm[s])return dm[s];if(!vl[s])return s;var a=vl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Vw)return dm[s]=a[c];return s}var Uw=nf("animationend"),$w=nf("animationiteration"),Fw=nf("animationstart"),jw=nf("transitionend"),Bw=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(s,a){Bw.set(s,a),o(a,[s])}for(var fm=0;fm<Hw.length;fm++){var hm=Hw[fm],v1=hm.toLowerCase(),_1=hm[0].toUpperCase()+hm.slice(1);no(v1,"on"+_1)}no(Uw,"onAnimationEnd"),no($w,"onAnimationIteration"),no(Fw,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(jw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function zw(s,a,c){var h=s.type||"unknown-event";s.currentTarget=c,Ce(h,a,void 0,s),s.currentTarget=null}function Ww(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var _=void 0;if(a)for(var A=h.length-1;0<=A;A--){var $=h[A],H=$.instance,ee=$.currentTarget;if($=$.listener,H!==_&&g.isPropagationStopped())break e;zw(g,$,ee),_=H}else for(A=0;A<h.length;A++){if($=h[A],H=$.instance,ee=$.currentTarget,$=$.listener,H!==_&&g.isPropagationStopped())break e;zw(g,$,ee),_=H}}}if(Pe)throw s=Qe,Pe=!1,Qe=null,s}function Ut(s,a){var c=a[Em];c===void 0&&(c=a[Em]=new Set);var h=s+"__bubble";c.has(h)||(qw(a,s,2,!1),c.add(h))}function pm(s,a,c){var h=0;a&&(h|=4),qw(c,s,h,a)}var rf="_reactListening"+Math.random().toString(36).slice(2);function ru(s){if(!s[rf]){s[rf]=!0,r.forEach(function(c){c!=="selectionchange"&&(w1.has(c)||pm(c,!1,s),pm(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[rf]||(a[rf]=!0,pm("selectionchange",!1,a))}}function qw(s,a,c,h){switch(Kc(a)){case 1:var g=jt;break;case 4:g=im;break;default:g=qc}c=g.bind(null,a,c,s),g=void 0,!B||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function mm(s,a,c,h,g){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var $=h.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(A===4)for(A=h.return;A!==null;){var H=A.tag;if((H===3||H===4)&&(H=A.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;A=A.return}for(;$!==null;){if(A=ca($),A===null)return;if(H=A.tag,H===5||H===6){h=_=A;continue e}$=$.parentNode}}h=h.return}ta(function(){var ee=_,ue=ci(c),fe=[];e:{var le=Bw.get(s);if(le!==void 0){var be=cl,Me=s;switch(s){case"keypress":if(ll(c)===0)break e;case"keydown":case"keyup":be=v;break;case"focusin":Me="focus",be=hl;break;case"focusout":Me="blur",be=hl;break;case"beforeblur":case"afterblur":be=hl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ne;break;case Uw:case $w:case Fw:be=os;break;case jw:be=Nt;break;case"scroll":be=sm;break;case"wheel":be=wt;break;case"copy":case"cut":case"paste":be=Yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=D}var Ve=(a&4)!==0,en=!Ve&&s==="scroll",Y=Ve?le!==null?le+"Capture":null:le;Ve=[];for(var W=ee,J;W!==null;){J=W;var he=J.stateNode;if(J.tag===5&&he!==null&&(J=he,Y!==null&&(he=Kt(W,Y),he!=null&&Ve.push(iu(W,he,J)))),en)break;W=W.return}0<Ve.length&&(le=new be(le,Me,null,c,ue),fe.push({event:le,listeners:Ve}))}}if((a&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",be=s==="mouseout"||s==="pointerout",le&&c!==ki&&(Me=c.relatedTarget||c.fromElement)&&(ca(Me)||Me[as]))break e;if((be||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,be?(Me=c.relatedTarget||c.toElement,be=ee,Me=Me?ca(Me):null,Me!==null&&(en=xe(Me),Me!==en||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(be=null,Me=ee),be!==Me)){if(Ve=dl,he="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=D,he="onPointerLeave",Y="onPointerEnter",W="pointer"),en=be==null?le:El(be),J=Me==null?le:El(Me),le=new Ve(he,W+"leave",be,c,ue),le.target=en,le.relatedTarget=J,he=null,ca(ue)===ee&&(Ve=new Ve(Y,W+"enter",Me,c,ue),Ve.target=J,Ve.relatedTarget=en,he=Ve),en=he,be&&Me)t:{for(Ve=be,Y=Me,W=0,J=Ve;J;J=_l(J))W++;for(J=0,he=Y;he;he=_l(he))J++;for(;0<W-J;)Ve=_l(Ve),W--;for(;0<J-W;)Y=_l(Y),J--;for(;W--;){if(Ve===Y||Y!==null&&Ve===Y.alternate)break t;Ve=_l(Ve),Y=_l(Y)}Ve=null}else Ve=null;be!==null&&Kw(fe,le,be,Ve,!1),Me!==null&&en!==null&&Kw(fe,en,Me,Ve,!0)}}e:{if(le=ee?El(ee):window,be=le.nodeName&&le.nodeName.toLowerCase(),be==="select"||be==="input"&&le.type==="file")var Ue=u1;else if(bw(le))if(Rw)Ue=p1;else{Ue=f1;var qe=d1}else(be=le.nodeName)&&be.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ue=h1);if(Ue&&(Ue=Ue(s,ee))){Aw(fe,Ue,c,ue);break e}qe&&qe(s,le,ee),s==="focusout"&&(qe=le._wrapperState)&&qe.controlled&&le.type==="number"&&Xn(le,"number",le.value)}switch(qe=ee?El(ee):window,s){case"focusin":(bw(qe)||qe.contentEditable==="true")&&(yl=qe,cm=ee,tu=null);break;case"focusout":tu=cm=yl=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,Mw(fe,c,ue);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":Mw(fe,c,ue)}var Ke;if(an)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else gl?Sw(s,c)&&(Je="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(la&&c.locale!=="ko"&&(gl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&gl&&(Ke=Gc()):(Rr=ue,al="value"in Rr?Rr.value:Rr.textContent,gl=!0)),qe=sf(ee,Je),0<qe.length&&(Je=new Xc(Je,s,null,c,ue),fe.push({event:Je,listeners:qe}),Ke?Je.data=Ke:(Ke=Cw(c),Ke!==null&&(Je.data=Ke)))),(Ke=kr?o1(s,c):a1(s,c))&&(ee=sf(ee,"onBeforeInput"),0<ee.length&&(ue=new Xc("onBeforeInput","beforeinput",null,c,ue),fe.push({event:ue,listeners:ee}),ue.data=Ke))}Ww(fe,a)})}function iu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function sf(s,a){for(var c=a+"Capture",h=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Kt(s,c),_!=null&&h.unshift(iu(s,_,g)),_=Kt(s,a),_!=null&&h.push(iu(s,_,g))),s=s.return}return h}function _l(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Kw(s,a,c,h,g){for(var _=a._reactName,A=[];c!==null&&c!==h;){var $=c,H=$.alternate,ee=$.stateNode;if(H!==null&&H===h)break;$.tag===5&&ee!==null&&($=ee,g?(H=Kt(c,_),H!=null&&A.unshift(iu(c,H,$))):g||(H=Kt(c,_),H!=null&&A.push(iu(c,H,$)))),c=c.return}A.length!==0&&s.push({event:a,listeners:A})}var E1=/\r\n?/g,T1=/\u0000|\uFFFD/g;function Gw(s){return(typeof s=="string"?s:""+s).replace(E1,`
`).replace(T1,"")}function of(s,a,c){if(a=Gw(a),Gw(s)!==a&&c)throw Error(t(425))}function af(){}var gm=null,ym=null;function vm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,I1=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(s){return Qw.resolve(null).then(s).catch(C1)}:_m;function C1(s){setTimeout(function(){throw s})}function wm(s,a){var c=a,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),hi(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);hi(a)}function ro(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Yw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var wl=Math.random().toString(36).slice(2),Fi="__reactFiber$"+wl,su="__reactProps$"+wl,as="__reactContainer$"+wl,Em="__reactEvents$"+wl,b1="__reactListeners$"+wl,A1="__reactHandles$"+wl;function ca(s){var a=s[Fi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[as]||c[Fi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Yw(s);s!==null;){if(c=s[Fi])return c;s=Yw(s)}return a}s=c,c=s.parentNode}return null}function ou(s){return s=s[Fi]||s[as],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function El(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function lf(s){return s[su]||null}var Tm=[],Tl=-1;function io(s){return{current:s}}function $t(s){0>Tl||(s.current=Tm[Tl],Tm[Tl]=null,Tl--)}function Vt(s,a){Tl++,Tm[Tl]=s.current,s.current=a}var so={},jn=io(so),pr=io(!1),ua=so;function Il(s,a){var c=s.type.contextTypes;if(!c)return so;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function mr(s){return s=s.childContextTypes,s!=null}function cf(){$t(pr),$t(jn)}function Xw(s,a,c){if(jn.current!==so)throw Error(t(168));Vt(jn,a),Vt(pr,c)}function Jw(s,a,c){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,Ge(s)||"Unknown",g));return ce({},c,h)}function uf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||so,ua=jn.current,Vt(jn,s),Vt(pr,pr.current),!0}function Zw(s,a,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Jw(s,a,ua),h.__reactInternalMemoizedMergedChildContext=s,$t(pr),$t(jn),Vt(jn,s)):$t(pr),Vt(pr,c)}var ls=null,df=!1,Im=!1;function eE(s){ls===null?ls=[s]:ls.push(s)}function R1(s){df=!0,eE(s)}function oo(){if(!Im&&ls!==null){Im=!0;var s=0,a=vt;try{var c=ls;for(vt=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}ls=null,df=!1}catch(g){throw ls!==null&&(ls=ls.slice(s+1)),kt(br,oo),g}finally{vt=a,Im=!1}}return null}var Sl=[],Cl=0,ff=null,hf=0,Kr=[],Gr=0,da=null,cs=1,us="";function fa(s,a){Sl[Cl++]=hf,Sl[Cl++]=ff,ff=s,hf=a}function tE(s,a,c){Kr[Gr++]=cs,Kr[Gr++]=us,Kr[Gr++]=da,da=s;var h=cs;s=us;var g=32-ht(h)-1;h&=~(1<<g),c+=1;var _=32-ht(a)+g;if(30<_){var A=g-g%5;_=(h&(1<<A)-1).toString(32),h>>=A,g-=A,cs=1<<32-ht(a)+g|c<<g|h,us=_+s}else cs=1<<_|c<<g|h,us=s}function Sm(s){s.return!==null&&(fa(s,1),tE(s,1,0))}function Cm(s){for(;s===ff;)ff=Sl[--Cl],Sl[Cl]=null,hf=Sl[--Cl],Sl[Cl]=null;for(;s===da;)da=Kr[--Gr],Kr[Gr]=null,us=Kr[--Gr],Kr[Gr]=null,cs=Kr[--Gr],Kr[Gr]=null}var Nr=null,Pr=null,Bt=!1,gi=null;function nE(s,a){var c=Jr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function rE(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Nr=s,Pr=ro(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Nr=s,Pr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=da!==null?{id:cs,overflow:us}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Jr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Nr=s,Pr=null,!0):!1;default:return!1}}function bm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Am(s){if(Bt){var a=Pr;if(a){var c=a;if(!rE(s,a)){if(bm(s))throw Error(t(418));a=ro(c.nextSibling);var h=Nr;a&&rE(s,a)?nE(h,c):(s.flags=s.flags&-4097|2,Bt=!1,Nr=s)}}else{if(bm(s))throw Error(t(418));s.flags=s.flags&-4097|2,Bt=!1,Nr=s}}}function iE(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nr=s}function pf(s){if(s!==Nr)return!1;if(!Bt)return iE(s),Bt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!vm(s.type,s.memoizedProps)),a&&(a=Pr)){if(bm(s))throw sE(),Error(t(418));for(;a;)nE(s,a),a=ro(a.nextSibling)}if(iE(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Pr=ro(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Pr=null}}else Pr=Nr?ro(s.stateNode.nextSibling):null;return!0}function sE(){for(var s=Pr;s;)s=ro(s.nextSibling)}function bl(){Pr=Nr=null,Bt=!1}function Rm(s){gi===null?gi=[s]:gi.push(s)}var k1=j.ReactCurrentBatchConfig;function au(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(A){var $=g.refs;A===null?delete $[_]:$[_]=A},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function mf(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function oE(s){var a=s._init;return a(s._payload)}function aE(s){function a(Y,W){if(s){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function c(Y,W){if(!s)return null;for(;W!==null;)a(Y,W),W=W.sibling;return null}function h(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function g(Y,W){return Y=mo(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function A(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function $(Y,W,J,he){return W===null||W.tag!==6?(W=_g(J,Y.mode,he),W.return=Y,W):(W=g(W,J),W.return=Y,W)}function H(Y,W,J,he){var Ue=J.type;return Ue===S?ue(Y,W,J.props.children,he,J.key):W!==null&&(W.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===je&&oE(Ue)===W.type)?(he=g(W,J.props),he.ref=au(Y,W,J),he.return=Y,he):(he=$f(J.type,J.key,J.props,null,Y.mode,he),he.ref=au(Y,W,J),he.return=Y,he)}function ee(Y,W,J,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=wg(J,Y.mode,he),W.return=Y,W):(W=g(W,J.children||[]),W.return=Y,W)}function ue(Y,W,J,he,Ue){return W===null||W.tag!==7?(W=wa(J,Y.mode,he,Ue),W.return=Y,W):(W=g(W,J),W.return=Y,W)}function fe(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=_g(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case q:return J=$f(W.type,W.key,W.props,null,Y.mode,J),J.ref=au(Y,null,W),J.return=Y,J;case G:return W=wg(W,Y.mode,J),W.return=Y,W;case je:var he=W._init;return fe(Y,he(W._payload),J)}if(qt(W)||me(W))return W=wa(W,Y.mode,J,null),W.return=Y,W;mf(Y,W)}return null}function le(Y,W,J,he){var Ue=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ue!==null?null:$(Y,W,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return J.key===Ue?H(Y,W,J,he):null;case G:return J.key===Ue?ee(Y,W,J,he):null;case je:return Ue=J._init,le(Y,W,Ue(J._payload),he)}if(qt(J)||me(J))return Ue!==null?null:ue(Y,W,J,he,null);mf(Y,J)}return null}function be(Y,W,J,he,Ue){if(typeof he=="string"&&he!==""||typeof he=="number")return Y=Y.get(J)||null,$(W,Y,""+he,Ue);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case q:return Y=Y.get(he.key===null?J:he.key)||null,H(W,Y,he,Ue);case G:return Y=Y.get(he.key===null?J:he.key)||null,ee(W,Y,he,Ue);case je:var qe=he._init;return be(Y,W,J,qe(he._payload),Ue)}if(qt(he)||me(he))return Y=Y.get(J)||null,ue(W,Y,he,Ue,null);mf(W,he)}return null}function Me(Y,W,J,he){for(var Ue=null,qe=null,Ke=W,Je=W=0,Cn=null;Ke!==null&&Je<J.length;Je++){Ke.index>Je?(Cn=Ke,Ke=null):Cn=Ke.sibling;var Ct=le(Y,Ke,J[Je],he);if(Ct===null){Ke===null&&(Ke=Cn);break}s&&Ke&&Ct.alternate===null&&a(Y,Ke),W=_(Ct,W,Je),qe===null?Ue=Ct:qe.sibling=Ct,qe=Ct,Ke=Cn}if(Je===J.length)return c(Y,Ke),Bt&&fa(Y,Je),Ue;if(Ke===null){for(;Je<J.length;Je++)Ke=fe(Y,J[Je],he),Ke!==null&&(W=_(Ke,W,Je),qe===null?Ue=Ke:qe.sibling=Ke,qe=Ke);return Bt&&fa(Y,Je),Ue}for(Ke=h(Y,Ke);Je<J.length;Je++)Cn=be(Ke,Y,Je,J[Je],he),Cn!==null&&(s&&Cn.alternate!==null&&Ke.delete(Cn.key===null?Je:Cn.key),W=_(Cn,W,Je),qe===null?Ue=Cn:qe.sibling=Cn,qe=Cn);return s&&Ke.forEach(function(go){return a(Y,go)}),Bt&&fa(Y,Je),Ue}function Ve(Y,W,J,he){var Ue=me(J);if(typeof Ue!="function")throw Error(t(150));if(J=Ue.call(J),J==null)throw Error(t(151));for(var qe=Ue=null,Ke=W,Je=W=0,Cn=null,Ct=J.next();Ke!==null&&!Ct.done;Je++,Ct=J.next()){Ke.index>Je?(Cn=Ke,Ke=null):Cn=Ke.sibling;var go=le(Y,Ke,Ct.value,he);if(go===null){Ke===null&&(Ke=Cn);break}s&&Ke&&go.alternate===null&&a(Y,Ke),W=_(go,W,Je),qe===null?Ue=go:qe.sibling=go,qe=go,Ke=Cn}if(Ct.done)return c(Y,Ke),Bt&&fa(Y,Je),Ue;if(Ke===null){for(;!Ct.done;Je++,Ct=J.next())Ct=fe(Y,Ct.value,he),Ct!==null&&(W=_(Ct,W,Je),qe===null?Ue=Ct:qe.sibling=Ct,qe=Ct);return Bt&&fa(Y,Je),Ue}for(Ke=h(Y,Ke);!Ct.done;Je++,Ct=J.next())Ct=be(Ke,Y,Je,Ct.value,he),Ct!==null&&(s&&Ct.alternate!==null&&Ke.delete(Ct.key===null?Je:Ct.key),W=_(Ct,W,Je),qe===null?Ue=Ct:qe.sibling=Ct,qe=Ct);return s&&Ke.forEach(function(lP){return a(Y,lP)}),Bt&&fa(Y,Je),Ue}function en(Y,W,J,he){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case q:e:{for(var Ue=J.key,qe=W;qe!==null;){if(qe.key===Ue){if(Ue=J.type,Ue===S){if(qe.tag===7){c(Y,qe.sibling),W=g(qe,J.props.children),W.return=Y,Y=W;break e}}else if(qe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===je&&oE(Ue)===qe.type){c(Y,qe.sibling),W=g(qe,J.props),W.ref=au(Y,qe,J),W.return=Y,Y=W;break e}c(Y,qe);break}else a(Y,qe);qe=qe.sibling}J.type===S?(W=wa(J.props.children,Y.mode,he,J.key),W.return=Y,Y=W):(he=$f(J.type,J.key,J.props,null,Y.mode,he),he.ref=au(Y,W,J),he.return=Y,Y=he)}return A(Y);case G:e:{for(qe=J.key;W!==null;){if(W.key===qe)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(Y,W.sibling),W=g(W,J.children||[]),W.return=Y,Y=W;break e}else{c(Y,W);break}else a(Y,W);W=W.sibling}W=wg(J,Y.mode,he),W.return=Y,Y=W}return A(Y);case je:return qe=J._init,en(Y,W,qe(J._payload),he)}if(qt(J))return Me(Y,W,J,he);if(me(J))return Ve(Y,W,J,he);mf(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(c(Y,W.sibling),W=g(W,J),W.return=Y,Y=W):(c(Y,W),W=_g(J,Y.mode,he),W.return=Y,Y=W),A(Y)):c(Y,W)}return en}var Al=aE(!0),lE=aE(!1),gf=io(null),yf=null,Rl=null,km=null;function Nm(){km=Rl=yf=null}function Pm(s){var a=gf.current;$t(gf),s._currentValue=a}function Dm(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function kl(s,a){yf=s,km=Rl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(gr=!0),s.firstContext=null)}function Qr(s){var a=s._currentValue;if(km!==s)if(s={context:s,memoizedValue:a,next:null},Rl===null){if(yf===null)throw Error(t(308));Rl=s,yf.dependencies={lanes:0,firstContext:s}}else Rl=Rl.next=s;return a}var ha=null;function xm(s){ha===null?ha=[s]:ha.push(s)}function cE(s,a,c,h){var g=a.interleaved;return g===null?(c.next=c,xm(a)):(c.next=g.next,g.next=c),a.interleaved=c,ds(s,h)}function ds(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ao=!1;function Om(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uE(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function lo(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Tt&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,ds(s,c)}return g=h.interleaved,g===null?(a.next=a,xm(h)):(a.next=g.next,g.next=a),h.interleaved=a,ds(s,c)}function vf(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Xs(s,c)}}function dE(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function _f(s,a,c,h){var g=s.updateQueue;ao=!1;var _=g.firstBaseUpdate,A=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var H=$,ee=H.next;H.next=null,A===null?_=ee:A.next=ee,A=H;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,$=ue.lastBaseUpdate,$!==A&&($===null?ue.firstBaseUpdate=ee:$.next=ee,ue.lastBaseUpdate=H))}if(_!==null){var fe=g.baseState;A=0,ue=ee=H=null,$=_;do{var le=$.lane,be=$.eventTime;if((h&le)===le){ue!==null&&(ue=ue.next={eventTime:be,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Me=s,Ve=$;switch(le=a,be=c,Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){fe=Me.call(be,fe,le);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,le=typeof Me=="function"?Me.call(be,fe,le):Me,le==null)break e;fe=ce({},fe,le);break e;case 2:ao=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,le=g.effects,le===null?g.effects=[$]:le.push($))}else be={eventTime:be,lane:le,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ue===null?(ee=ue=be,H=fe):ue=ue.next=be,A|=le;if($=$.next,$===null){if($=g.shared.pending,$===null)break;le=$,$=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(ue===null&&(H=fe),g.baseState=H,g.firstBaseUpdate=ee,g.lastBaseUpdate=ue,a=g.shared.interleaved,a!==null){g=a;do A|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);ga|=A,s.lanes=A,s.memoizedState=fe}}function fE(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var lu={},ji=io(lu),cu=io(lu),uu=io(lu);function pa(s){if(s===lu)throw Error(t(174));return s}function Lm(s,a){switch(Vt(uu,a),Vt(cu,s),Vt(ji,lu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:yt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=yt(a,s)}$t(ji),Vt(ji,a)}function Nl(){$t(ji),$t(cu),$t(uu)}function hE(s){pa(uu.current);var a=pa(ji.current),c=yt(a,s.type);a!==c&&(Vt(cu,s),Vt(ji,c))}function Mm(s){cu.current===s&&($t(ji),$t(cu))}var Gt=io(0);function wf(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vm=[];function Um(){for(var s=0;s<Vm.length;s++)Vm[s]._workInProgressVersionPrimary=null;Vm.length=0}var Ef=j.ReactCurrentDispatcher,$m=j.ReactCurrentBatchConfig,ma=0,Qt=null,mn=null,In=null,Tf=!1,du=!1,fu=0,N1=0;function Bn(){throw Error(t(321))}function Fm(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!mi(s[c],a[c]))return!1;return!0}function jm(s,a,c,h,g,_){if(ma=_,Qt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ef.current=s===null||s.memoizedState===null?O1:L1,s=c(h,g),du){_=0;do{if(du=!1,fu=0,25<=_)throw Error(t(301));_+=1,In=mn=null,a.updateQueue=null,Ef.current=M1,s=c(h,g)}while(du)}if(Ef.current=Cf,a=mn!==null&&mn.next!==null,ma=0,In=mn=Qt=null,Tf=!1,a)throw Error(t(300));return s}function Bm(){var s=fu!==0;return fu=0,s}function Bi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Qt.memoizedState=In=s:In=In.next=s,In}function Yr(){if(mn===null){var s=Qt.alternate;s=s!==null?s.memoizedState:null}else s=mn.next;var a=In===null?Qt.memoizedState:In.next;if(a!==null)In=a,mn=s;else{if(s===null)throw Error(t(310));mn=s,s={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},In===null?Qt.memoizedState=In=s:In=In.next=s}return In}function hu(s,a){return typeof a=="function"?a(s):a}function Hm(s){var a=Yr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=mn,g=h.baseQueue,_=c.pending;if(_!==null){if(g!==null){var A=g.next;g.next=_.next,_.next=A}h.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,h=h.baseState;var $=A=null,H=null,ee=_;do{var ue=ee.lane;if((ma&ue)===ue)H!==null&&(H=H.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),h=ee.hasEagerState?ee.eagerState:s(h,ee.action);else{var fe={lane:ue,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};H===null?($=H=fe,A=h):H=H.next=fe,Qt.lanes|=ue,ga|=ue}ee=ee.next}while(ee!==null&&ee!==_);H===null?A=h:H.next=$,mi(h,a.memoizedState)||(gr=!0),a.memoizedState=h,a.baseState=A,a.baseQueue=H,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do _=g.lane,Qt.lanes|=_,ga|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function zm(s){var a=Yr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do _=s(_,A.action),A=A.next;while(A!==g);mi(_,a.memoizedState)||(gr=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,h]}function pE(){}function mE(s,a){var c=Qt,h=Yr(),g=a(),_=!mi(h.memoizedState,g);if(_&&(h.memoizedState=g,gr=!0),h=h.queue,Wm(vE.bind(null,c,h,s),[s]),h.getSnapshot!==a||_||In!==null&&In.memoizedState.tag&1){if(c.flags|=2048,pu(9,yE.bind(null,c,h,g,a),void 0,null),Sn===null)throw Error(t(349));(ma&30)!==0||gE(c,a,g)}return g}function gE(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Qt.updateQueue,a===null?(a={lastEffect:null,stores:null},Qt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function yE(s,a,c,h){a.value=c,a.getSnapshot=h,_E(a)&&wE(s)}function vE(s,a,c){return c(function(){_E(a)&&wE(s)})}function _E(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!mi(s,c)}catch{return!0}}function wE(s){var a=ds(s,1);a!==null&&wi(a,s,1,-1)}function EE(s){var a=Bi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:s},a.queue=s,s=s.dispatch=x1.bind(null,Qt,s),[a.memoizedState,s]}function pu(s,a,c,h){return s={tag:s,create:a,destroy:c,deps:h,next:null},a=Qt.updateQueue,a===null?(a={lastEffect:null,stores:null},Qt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s)),s}function TE(){return Yr().memoizedState}function If(s,a,c,h){var g=Bi();Qt.flags|=s,g.memoizedState=pu(1|a,c,void 0,h===void 0?null:h)}function Sf(s,a,c,h){var g=Yr();h=h===void 0?null:h;var _=void 0;if(mn!==null){var A=mn.memoizedState;if(_=A.destroy,h!==null&&Fm(h,A.deps)){g.memoizedState=pu(a,c,_,h);return}}Qt.flags|=s,g.memoizedState=pu(1|a,c,_,h)}function IE(s,a){return If(8390656,8,s,a)}function Wm(s,a){return Sf(2048,8,s,a)}function SE(s,a){return Sf(4,2,s,a)}function CE(s,a){return Sf(4,4,s,a)}function bE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function AE(s,a,c){return c=c!=null?c.concat([s]):null,Sf(4,4,bE.bind(null,a,s),c)}function qm(){}function RE(s,a){var c=Yr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Fm(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function kE(s,a){var c=Yr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Fm(a,h[1])?h[0]:(s=s(),c.memoizedState=[s,a],s)}function NE(s,a,c){return(ma&21)===0?(s.baseState&&(s.baseState=!1,gr=!0),s.memoizedState=c):(mi(c,a)||(c=ia(),Qt.lanes|=c,ga|=c,s.baseState=!0),a)}function P1(s,a){var c=vt;vt=c!==0&&4>c?c:4,s(!0);var h=$m.transition;$m.transition={};try{s(!1),a()}finally{vt=c,$m.transition=h}}function PE(){return Yr().memoizedState}function D1(s,a,c){var h=ho(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},DE(s))xE(a,c);else if(c=cE(s,a,c,h),c!==null){var g=nr();wi(c,s,h,g),OE(c,a,h)}}function x1(s,a,c){var h=ho(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(DE(s))xE(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var A=a.lastRenderedState,$=_(A,c);if(g.hasEagerState=!0,g.eagerState=$,mi($,A)){var H=a.interleaved;H===null?(g.next=g,xm(a)):(g.next=H.next,H.next=g),a.interleaved=g;return}}catch{}finally{}c=cE(s,a,g,h),c!==null&&(g=nr(),wi(c,s,h,g),OE(c,a,h))}}function DE(s){var a=s.alternate;return s===Qt||a!==null&&a===Qt}function xE(s,a){du=Tf=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function OE(s,a,c){if((c&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Xs(s,c)}}var Cf={readContext:Qr,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},O1={readContext:Qr,useCallback:function(s,a){return Bi().memoizedState=[s,a===void 0?null:a],s},useContext:Qr,useEffect:IE,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,If(4194308,4,bE.bind(null,a,s),c)},useLayoutEffect:function(s,a){return If(4194308,4,s,a)},useInsertionEffect:function(s,a){return If(4,2,s,a)},useMemo:function(s,a){var c=Bi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var h=Bi();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=D1.bind(null,Qt,s),[h.memoizedState,s]},useRef:function(s){var a=Bi();return s={current:s},a.memoizedState=s},useState:EE,useDebugValue:qm,useDeferredValue:function(s){return Bi().memoizedState=s},useTransition:function(){var s=EE(!1),a=s[0];return s=P1.bind(null,s[1]),Bi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var h=Qt,g=Bi();if(Bt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Sn===null)throw Error(t(349));(ma&30)!==0||gE(h,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,IE(vE.bind(null,h,_,s),[s]),h.flags|=2048,pu(9,yE.bind(null,h,_,c,a),void 0,null),c},useId:function(){var s=Bi(),a=Sn.identifierPrefix;if(Bt){var c=us,h=cs;c=(h&~(1<<32-ht(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=fu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=N1++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},L1={readContext:Qr,useCallback:RE,useContext:Qr,useEffect:Wm,useImperativeHandle:AE,useInsertionEffect:SE,useLayoutEffect:CE,useMemo:kE,useReducer:Hm,useRef:TE,useState:function(){return Hm(hu)},useDebugValue:qm,useDeferredValue:function(s){var a=Yr();return NE(a,mn.memoizedState,s)},useTransition:function(){var s=Hm(hu)[0],a=Yr().memoizedState;return[s,a]},useMutableSource:pE,useSyncExternalStore:mE,useId:PE,unstable_isNewReconciler:!1},M1={readContext:Qr,useCallback:RE,useContext:Qr,useEffect:Wm,useImperativeHandle:AE,useInsertionEffect:SE,useLayoutEffect:CE,useMemo:kE,useReducer:zm,useRef:TE,useState:function(){return zm(hu)},useDebugValue:qm,useDeferredValue:function(s){var a=Yr();return mn===null?a.memoizedState=s:NE(a,mn.memoizedState,s)},useTransition:function(){var s=zm(hu)[0],a=Yr().memoizedState;return[s,a]},useMutableSource:pE,useSyncExternalStore:mE,useId:PE,unstable_isNewReconciler:!1};function yi(s,a){if(s&&s.defaultProps){a=ce({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Km(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:ce({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var bf={isMounted:function(s){return(s=s._reactInternals)?xe(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var h=nr(),g=ho(s),_=fs(h,g);_.payload=a,c!=null&&(_.callback=c),a=lo(s,_,g),a!==null&&(wi(a,s,g,h),vf(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=nr(),g=ho(s),_=fs(h,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=lo(s,_,g),a!==null&&(wi(a,s,g,h),vf(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=nr(),h=ho(s),g=fs(c,h);g.tag=2,a!=null&&(g.callback=a),a=lo(s,g,h),a!==null&&(wi(a,s,h,c),vf(a,s,h))}};function LE(s,a,c,h,g,_,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,A):a.prototype&&a.prototype.isPureReactComponent?!eu(c,h)||!eu(g,_):!0}function ME(s,a,c){var h=!1,g=so,_=a.contextType;return typeof _=="object"&&_!==null?_=Qr(_):(g=mr(a)?ua:jn.current,h=a.contextTypes,_=(h=h!=null)?Il(s,g):so),a=new a(c,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=bf,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function VE(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&bf.enqueueReplaceState(a,a.state,null)}function Gm(s,a,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Om(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Qr(_):(_=mr(a)?ua:jn.current,g.context=Il(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Km(s,a,_,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&bf.enqueueReplaceState(g,g.state,null),_f(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Pl(s,a){try{var c="",h=a;do c+=Ie(h),h=h.return;while(h);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function Qm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Ym(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var V1=typeof WeakMap=="function"?WeakMap:Map;function UE(s,a,c){c=fs(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){xf||(xf=!0,dg=h),Ym(s,a)},c}function $E(s,a,c){c=fs(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;c.payload=function(){return h(g)},c.callback=function(){Ym(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Ym(s,a),typeof h!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),c}function FE(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new V1;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(g.add(c),s=X1.bind(null,s,a,c),a.then(s,s))}function jE(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function BE(s,a,c,h,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=fs(-1,1),a.tag=2,lo(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var U1=j.ReactCurrentOwner,gr=!1;function tr(s,a,c,h){a.child=s===null?lE(a,null,c,h):Al(a,s.child,c,h)}function HE(s,a,c,h,g){c=c.render;var _=a.ref;return kl(a,g),h=jm(s,a,c,h,_,g),c=Bm(),s!==null&&!gr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,hs(s,a,g)):(Bt&&c&&Sm(a),a.flags|=1,tr(s,a,h,g),a.child)}function zE(s,a,c,h,g){if(s===null){var _=c.type;return typeof _=="function"&&!vg(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,WE(s,a,_,h,g)):(s=$f(c.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var A=_.memoizedProps;if(c=c.compare,c=c!==null?c:eu,c(A,h)&&s.ref===a.ref)return hs(s,a,g)}return a.flags|=1,s=mo(_,h),s.ref=a.ref,s.return=a,a.child=s}function WE(s,a,c,h,g){if(s!==null){var _=s.memoizedProps;if(eu(_,h)&&s.ref===a.ref)if(gr=!1,a.pendingProps=h=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(gr=!0);else return a.lanes=s.lanes,hs(s,a,g)}return Xm(s,a,c,h,g)}function qE(s,a,c){var h=a.pendingProps,g=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(xl,Dr),Dr|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Vt(xl,Dr),Dr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:c,Vt(xl,Dr),Dr|=h}else _!==null?(h=_.baseLanes|c,a.memoizedState=null):h=c,Vt(xl,Dr),Dr|=h;return tr(s,a,g,c),a.child}function KE(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Xm(s,a,c,h,g){var _=mr(c)?ua:jn.current;return _=Il(a,_),kl(a,g),c=jm(s,a,c,h,_,g),h=Bm(),s!==null&&!gr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,hs(s,a,g)):(Bt&&h&&Sm(a),a.flags|=1,tr(s,a,c,g),a.child)}function GE(s,a,c,h,g){if(mr(c)){var _=!0;uf(a)}else _=!1;if(kl(a,g),a.stateNode===null)Rf(s,a),ME(a,c,h),Gm(a,c,h,g),h=!0;else if(s===null){var A=a.stateNode,$=a.memoizedProps;A.props=$;var H=A.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Qr(ee):(ee=mr(c)?ua:jn.current,ee=Il(a,ee));var ue=c.getDerivedStateFromProps,fe=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function";fe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==h||H!==ee)&&VE(a,A,h,ee),ao=!1;var le=a.memoizedState;A.state=le,_f(a,h,A,g),H=a.memoizedState,$!==h||le!==H||pr.current||ao?(typeof ue=="function"&&(Km(a,c,ue,h),H=a.memoizedState),($=ao||LE(a,c,$,h,le,H,ee))?(fe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=H),A.props=h,A.state=H,A.context=ee,h=$):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{A=a.stateNode,uE(s,a),$=a.memoizedProps,ee=a.type===a.elementType?$:yi(a.type,$),A.props=ee,fe=a.pendingProps,le=A.context,H=c.contextType,typeof H=="object"&&H!==null?H=Qr(H):(H=mr(c)?ua:jn.current,H=Il(a,H));var be=c.getDerivedStateFromProps;(ue=typeof be=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==fe||le!==H)&&VE(a,A,h,H),ao=!1,le=a.memoizedState,A.state=le,_f(a,h,A,g);var Me=a.memoizedState;$!==fe||le!==Me||pr.current||ao?(typeof be=="function"&&(Km(a,c,be,h),Me=a.memoizedState),(ee=ao||LE(a,c,ee,h,le,Me,H)||!1)?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,Me,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,Me,H)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Me),A.props=h,A.state=Me,A.context=H,h=ee):(typeof A.componentDidUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),h=!1)}return Jm(s,a,c,h,_,g)}function Jm(s,a,c,h,g,_){KE(s,a);var A=(a.flags&128)!==0;if(!h&&!A)return g&&Zw(a,c,!1),hs(s,a,_);h=a.stateNode,U1.current=a;var $=A&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&A?(a.child=Al(a,s.child,null,_),a.child=Al(a,null,$,_)):tr(s,a,$,_),a.memoizedState=h.state,g&&Zw(a,c,!0),a.child}function QE(s){var a=s.stateNode;a.pendingContext?Xw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Xw(s,a.context,!1),Lm(s,a.containerInfo)}function YE(s,a,c,h,g){return bl(),Rm(g),a.flags|=256,tr(s,a,c,h),a.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function eg(s){return{baseLanes:s,cachePool:null,transitions:null}}function XE(s,a,c){var h=a.pendingProps,g=Gt.current,_=!1,A=(a.flags&128)!==0,$;if(($=A)||($=s!==null&&s.memoizedState===null?!1:(g&2)!==0),$?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Vt(Gt,g&1),s===null)return Am(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=h.children,s=h.fallback,_?(h=a.mode,_=a.child,A={mode:"hidden",children:A},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=Ff(A,h,0,null),s=wa(s,h,c,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=eg(c),a.memoizedState=Zm,s):tg(a,A));if(g=s.memoizedState,g!==null&&($=g.dehydrated,$!==null))return $1(s,a,A,h,$,g,c);if(_){_=h.fallback,A=a.mode,g=s.child,$=g.sibling;var H={mode:"hidden",children:h.children};return(A&1)===0&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=H,a.deletions=null):(h=mo(g,H),h.subtreeFlags=g.subtreeFlags&14680064),$!==null?_=mo($,_):(_=wa(_,A,c,null),_.flags|=2),_.return=a,h.return=a,h.sibling=_,a.child=h,h=_,_=a.child,A=s.child.memoizedState,A=A===null?eg(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=s.childLanes&~c,a.memoizedState=Zm,h}return _=s.child,s=_.sibling,h=mo(_,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=h,a.memoizedState=null,h}function tg(s,a){return a=Ff({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Af(s,a,c,h){return h!==null&&Rm(h),Al(a,s.child,null,c),s=tg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function $1(s,a,c,h,g,_,A){if(c)return a.flags&256?(a.flags&=-257,h=Qm(Error(t(422))),Af(s,a,A,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=h.fallback,g=a.mode,h=Ff({mode:"visible",children:h.children},g,0,null),_=wa(_,g,A,null),_.flags|=2,h.return=a,_.return=a,h.sibling=_,a.child=h,(a.mode&1)!==0&&Al(a,s.child,null,A),a.child.memoizedState=eg(A),a.memoizedState=Zm,_);if((a.mode&1)===0)return Af(s,a,A,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var $=h.dgst;return h=$,_=Error(t(419)),h=Qm(_,h,void 0),Af(s,a,A,h)}if($=(A&s.childLanes)!==0,gr||$){if(h=Sn,h!==null){switch(A&-A){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|A))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,ds(s,g),wi(h,s,g,-1))}return yg(),h=Qm(Error(t(421))),Af(s,a,A,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=J1.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,Pr=ro(g.nextSibling),Nr=a,Bt=!0,gi=null,s!==null&&(Kr[Gr++]=cs,Kr[Gr++]=us,Kr[Gr++]=da,cs=s.id,us=s.overflow,da=a),a=tg(a,h.children),a.flags|=4096,a)}function JE(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Dm(s.return,a,c)}function ng(s,a,c,h,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=g)}function ZE(s,a,c){var h=a.pendingProps,g=h.revealOrder,_=h.tail;if(tr(s,a,h.children,c),h=Gt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&JE(s,c,a);else if(s.tag===19)JE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Vt(Gt,h),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&wf(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),ng(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&wf(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}ng(a,!0,c,null,_);break;case"together":ng(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Rf(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function hs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),ga|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=mo(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=mo(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function F1(s,a,c){switch(a.tag){case 3:QE(a),bl();break;case 5:hE(a);break;case 1:mr(a.type)&&uf(a);break;case 4:Lm(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;Vt(gf,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(Vt(Gt,Gt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?XE(s,a,c):(Vt(Gt,Gt.current&1),s=hs(s,a,c),s!==null?s.sibling:null);Vt(Gt,Gt.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(s.flags&128)!==0){if(h)return ZE(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Vt(Gt,Gt.current),h)break;return null;case 22:case 23:return a.lanes=0,qE(s,a,c)}return hs(s,a,c)}var e0,rg,t0,n0;e0=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},rg=function(){},t0=function(s,a,c,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,pa(ji.current);var _=null;switch(c){case"input":g=Xt(s,g),h=Xt(s,h),_=[];break;case"select":g=ce({},g,{value:void 0}),h=ce({},h,{value:void 0}),_=[];break;case"textarea":g=lr(s,g),h=lr(s,h),_=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=af)}Ri(c,h);var A;c=null;for(ee in g)if(!h.hasOwnProperty(ee)&&g.hasOwnProperty(ee)&&g[ee]!=null)if(ee==="style"){var $=g[ee];for(A in $)$.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in h){var H=h[ee];if($=g!=null?g[ee]:void 0,h.hasOwnProperty(ee)&&H!==$&&(H!=null||$!=null))if(ee==="style")if($){for(A in $)!$.hasOwnProperty(A)||H&&H.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in H)H.hasOwnProperty(A)&&$[A]!==H[A]&&(c||(c={}),c[A]=H[A])}else c||(_||(_=[]),_.push(ee,c)),c=H;else ee==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,$=$?$.__html:void 0,H!=null&&$!==H&&(_=_||[]).push(ee,H)):ee==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(ee,""+H):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(H!=null&&ee==="onScroll"&&Ut("scroll",s),_||$===H||(_=[])):(_=_||[]).push(ee,H))}c&&(_=_||[]).push("style",c);var ee=_;(a.updateQueue=ee)&&(a.flags|=4)}},n0=function(s,a,c,h){c!==h&&(a.flags|=4)};function mu(s,a){if(!Bt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Hn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function j1(s,a,c){var h=a.pendingProps;switch(Cm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(a),null;case 1:return mr(a.type)&&cf(),Hn(a),null;case 3:return h=a.stateNode,Nl(),$t(pr),$t(jn),Um(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(pf(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gi!==null&&(pg(gi),gi=null))),rg(s,a),Hn(a),null;case 5:Mm(a);var g=pa(uu.current);if(c=a.type,s!==null&&a.stateNode!=null)t0(s,a,c,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return Hn(a),null}if(s=pa(ji.current),pf(a)){h=a.stateNode,c=a.type;var _=a.memoizedProps;switch(h[Fi]=a,h[su]=_,s=(a.mode&1)!==0,c){case"dialog":Ut("cancel",h),Ut("close",h);break;case"iframe":case"object":case"embed":Ut("load",h);break;case"video":case"audio":for(g=0;g<nu.length;g++)Ut(nu[g],h);break;case"source":Ut("error",h);break;case"img":case"image":case"link":Ut("error",h),Ut("load",h);break;case"details":Ut("toggle",h);break;case"input":it(h,_),Ut("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},Ut("invalid",h);break;case"textarea":Un(h,_),Ut("invalid",h)}Ri(c,_),g=null;for(var A in _)if(_.hasOwnProperty(A)){var $=_[A];A==="children"?typeof $=="string"?h.textContent!==$&&(_.suppressHydrationWarning!==!0&&of(h.textContent,$,s),g=["children",$]):typeof $=="number"&&h.textContent!==""+$&&(_.suppressHydrationWarning!==!0&&of(h.textContent,$,s),g=["children",""+$]):i.hasOwnProperty(A)&&$!=null&&A==="onScroll"&&Ut("scroll",h)}switch(c){case"input":bt(h),Br(h,_,!0);break;case"textarea":bt(h),hn(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=af)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{A=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$e(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=A.createElement(c,{is:h.is}):(s=A.createElement(c),c==="select"&&(A=s,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):s=A.createElementNS(s,c),s[Fi]=a,s[su]=h,e0(s,a,!1,!1),a.stateNode=s;e:{switch(A=Zo(c,h),c){case"dialog":Ut("cancel",s),Ut("close",s),g=h;break;case"iframe":case"object":case"embed":Ut("load",s),g=h;break;case"video":case"audio":for(g=0;g<nu.length;g++)Ut(nu[g],s);g=h;break;case"source":Ut("error",s),g=h;break;case"img":case"image":case"link":Ut("error",s),Ut("load",s),g=h;break;case"details":Ut("toggle",s),g=h;break;case"input":it(s,h),g=Xt(s,h),Ut("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=ce({},h,{value:void 0}),Ut("invalid",s);break;case"textarea":Un(s,h),g=lr(s,h),Ut("invalid",s);break;default:g=h}Ri(c,g),$=g;for(_ in $)if($.hasOwnProperty(_)){var H=$[_];_==="style"?En(s,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&wn(s,H)):_==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&Jn(s,H):typeof H=="number"&&Jn(s,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?H!=null&&_==="onScroll"&&Ut("scroll",s):H!=null&&V(s,_,H,A))}switch(c){case"input":bt(s),Br(s,h,!1);break;case"textarea":bt(s),hn(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Be(h.value));break;case"select":s.multiple=!!h.multiple,_=h.value,_!=null?sn(s,!!h.multiple,_,!1):h.defaultValue!=null&&sn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=af)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Hn(a),null;case 6:if(s&&a.stateNode!=null)n0(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(c=pa(uu.current),pa(ji.current),pf(a)){if(h=a.stateNode,c=a.memoizedProps,h[Fi]=a,(_=h.nodeValue!==c)&&(s=Nr,s!==null))switch(s.tag){case 3:of(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&of(h.nodeValue,c,(s.mode&1)!==0)}_&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Fi]=a,a.stateNode=h}return Hn(a),null;case 13:if($t(Gt),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Bt&&Pr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)sE(),bl(),a.flags|=98560,_=!1;else if(_=pf(a),h!==null&&h.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Fi]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Hn(a),_=!1}else gi!==null&&(pg(gi),gi=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Gt.current&1)!==0?gn===0&&(gn=3):yg())),a.updateQueue!==null&&(a.flags|=4),Hn(a),null);case 4:return Nl(),rg(s,a),s===null&&ru(a.stateNode.containerInfo),Hn(a),null;case 10:return Pm(a.type._context),Hn(a),null;case 17:return mr(a.type)&&cf(),Hn(a),null;case 19:if($t(Gt),_=a.memoizedState,_===null)return Hn(a),null;if(h=(a.flags&128)!==0,A=_.rendering,A===null)if(h)mu(_,!1);else{if(gn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(A=wf(s),A!==null){for(a.flags|=128,mu(_,!1),h=A.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)_=c,s=h,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,s=A.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Vt(Gt,Gt.current&1|2),a.child}s=s.sibling}_.tail!==null&&dt()>Ol&&(a.flags|=128,h=!0,mu(_,!1),a.lanes=4194304)}else{if(!h)if(s=wf(A),s!==null){if(a.flags|=128,h=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),mu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!Bt)return Hn(a),null}else 2*dt()-_.renderingStartTime>Ol&&c!==1073741824&&(a.flags|=128,h=!0,mu(_,!1),a.lanes=4194304);_.isBackwards?(A.sibling=a.child,a.child=A):(c=_.last,c!==null?c.sibling=A:a.child=A,_.last=A)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=dt(),a.sibling=null,c=Gt.current,Vt(Gt,h?c&1|2:c&1),a):(Hn(a),null);case 22:case 23:return gg(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(Dr&1073741824)!==0&&(Hn(a),a.subtreeFlags&6&&(a.flags|=8192)):Hn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function B1(s,a){switch(Cm(a),a.tag){case 1:return mr(a.type)&&cf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Nl(),$t(pr),$t(jn),Um(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Mm(a),null;case 13:if($t(Gt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));bl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return $t(Gt),null;case 4:return Nl(),null;case 10:return Pm(a.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var kf=!1,zn=!1,H1=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Dl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Zt(s,a,h)}else c.current=null}function ig(s,a,c){try{c()}catch(h){Zt(s,a,h)}}var r0=!1;function z1(s,a){if(gm=eo,s=Lw(),lm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var A=0,$=-1,H=-1,ee=0,ue=0,fe=s,le=null;t:for(;;){for(var be;fe!==c||g!==0&&fe.nodeType!==3||($=A+g),fe!==_||h!==0&&fe.nodeType!==3||(H=A+h),fe.nodeType===3&&(A+=fe.nodeValue.length),(be=fe.firstChild)!==null;)le=fe,fe=be;for(;;){if(fe===s)break t;if(le===c&&++ee===g&&($=A),le===_&&++ue===h&&(H=A),(be=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=be}c=$===-1||H===-1?null:{start:$,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(ym={focusedElem:s,selectionRange:c},eo=!1,Oe=a;Oe!==null;)if(a=Oe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Oe=s;else for(;Oe!==null;){a=Oe;try{var Me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ve=Me.memoizedProps,en=Me.memoizedState,Y=a.stateNode,W=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ve:yi(a.type,Ve),en);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Zt(a,a.return,he)}if(s=a.sibling,s!==null){s.return=a.return,Oe=s;break}Oe=a.return}return Me=r0,r0=!1,Me}function gu(s,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&ig(a,c,_)}g=g.next}while(g!==h)}}function Nf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function sg(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function i0(s){var a=s.alternate;a!==null&&(s.alternate=null,i0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Fi],delete a[su],delete a[Em],delete a[b1],delete a[A1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function s0(s){return s.tag===5||s.tag===3||s.tag===4}function o0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||s0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function og(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=af));else if(h!==4&&(s=s.child,s!==null))for(og(s,a,c),s=s.sibling;s!==null;)og(s,a,c),s=s.sibling}function ag(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(ag(s,a,c),s=s.sibling;s!==null;)ag(s,a,c),s=s.sibling}var Pn=null,vi=!1;function co(s,a,c){for(c=c.child;c!==null;)a0(s,a,c),c=c.sibling}function a0(s,a,c){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(At,c)}catch{}switch(c.tag){case 5:zn||Dl(c,a);case 6:var h=Pn,g=vi;Pn=null,co(s,a,c),Pn=h,vi=g,Pn!==null&&(vi?(s=Pn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Pn.removeChild(c.stateNode));break;case 18:Pn!==null&&(vi?(s=Pn,c=c.stateNode,s.nodeType===8?wm(s.parentNode,c):s.nodeType===1&&wm(s,c),hi(s)):wm(Pn,c.stateNode));break;case 4:h=Pn,g=vi,Pn=c.stateNode.containerInfo,vi=!0,co(s,a,c),Pn=h,vi=g;break;case 0:case 11:case 14:case 15:if(!zn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var _=g,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&ig(c,a,A),g=g.next}while(g!==h)}co(s,a,c);break;case 1:if(!zn&&(Dl(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch($){Zt(c,a,$)}co(s,a,c);break;case 21:co(s,a,c);break;case 22:c.mode&1?(zn=(h=zn)||c.memoizedState!==null,co(s,a,c),zn=h):co(s,a,c);break;default:co(s,a,c)}}function l0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new H1),a.forEach(function(h){var g=Z1.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function _i(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var _=s,A=a,$=A;e:for(;$!==null;){switch($.tag){case 5:Pn=$.stateNode,vi=!1;break e;case 3:Pn=$.stateNode.containerInfo,vi=!0;break e;case 4:Pn=$.stateNode.containerInfo,vi=!0;break e}$=$.return}if(Pn===null)throw Error(t(160));a0(_,A,g),Pn=null,vi=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(ee){Zt(g,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)c0(a,s),a=a.sibling}function c0(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_i(a,s),Hi(s),h&4){try{gu(3,s,s.return),Nf(3,s)}catch(Ve){Zt(s,s.return,Ve)}try{gu(5,s,s.return)}catch(Ve){Zt(s,s.return,Ve)}}break;case 1:_i(a,s),Hi(s),h&512&&c!==null&&Dl(c,c.return);break;case 5:if(_i(a,s),Hi(s),h&512&&c!==null&&Dl(c,c.return),s.flags&32){var g=s.stateNode;try{Jn(g,"")}catch(Ve){Zt(s,s.return,Ve)}}if(h&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,A=c!==null?c.memoizedProps:_,$=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{$==="input"&&_.type==="radio"&&_.name!=null&&Wt(g,_),Zo($,A);var ee=Zo($,_);for(A=0;A<H.length;A+=2){var ue=H[A],fe=H[A+1];ue==="style"?En(g,fe):ue==="dangerouslySetInnerHTML"?wn(g,fe):ue==="children"?Jn(g,fe):V(g,ue,fe,ee)}switch($){case"input":_n(g,_);break;case"textarea":Lt(g,_);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var be=_.value;be!=null?sn(g,!!_.multiple,be,!1):le!==!!_.multiple&&(_.defaultValue!=null?sn(g,!!_.multiple,_.defaultValue,!0):sn(g,!!_.multiple,_.multiple?[]:"",!1))}g[su]=_}catch(Ve){Zt(s,s.return,Ve)}}break;case 6:if(_i(a,s),Hi(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(Ve){Zt(s,s.return,Ve)}}break;case 3:if(_i(a,s),Hi(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{hi(a.containerInfo)}catch(Ve){Zt(s,s.return,Ve)}break;case 4:_i(a,s),Hi(s);break;case 13:_i(a,s),Hi(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(ug=dt())),h&4&&l0(s);break;case 22:if(ue=c!==null&&c.memoizedState!==null,s.mode&1?(zn=(ee=zn)||ue,_i(a,s),zn=ee):_i(a,s),Hi(s),h&8192){if(ee=s.memoizedState!==null,(s.stateNode.isHidden=ee)&&!ue&&(s.mode&1)!==0)for(Oe=s,ue=s.child;ue!==null;){for(fe=Oe=ue;Oe!==null;){switch(le=Oe,be=le.child,le.tag){case 0:case 11:case 14:case 15:gu(4,le,le.return);break;case 1:Dl(le,le.return);var Me=le.stateNode;if(typeof Me.componentWillUnmount=="function"){h=le,c=le.return;try{a=h,Me.props=a.memoizedProps,Me.state=a.memoizedState,Me.componentWillUnmount()}catch(Ve){Zt(h,c,Ve)}}break;case 5:Dl(le,le.return);break;case 22:if(le.memoizedState!==null){f0(fe);continue}}be!==null?(be.return=le,Oe=be):f0(fe)}ue=ue.sibling}e:for(ue=null,fe=s;;){if(fe.tag===5){if(ue===null){ue=fe;try{g=fe.stateNode,ee?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):($=fe.stateNode,H=fe.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null,$.style.display=at("display",A))}catch(Ve){Zt(s,s.return,Ve)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=ee?"":fe.memoizedProps}catch(Ve){Zt(s,s.return,Ve)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:_i(a,s),Hi(s),h&4&&l0(s);break;case 21:break;default:_i(a,s),Hi(s)}}function Hi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(s0(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Jn(g,""),h.flags&=-33);var _=o0(s);ag(s,_,g);break;case 3:case 4:var A=h.stateNode.containerInfo,$=o0(s);og(s,$,A);break;default:throw Error(t(161))}}catch(H){Zt(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function W1(s,a,c){Oe=s,u0(s)}function u0(s,a,c){for(var h=(s.mode&1)!==0;Oe!==null;){var g=Oe,_=g.child;if(g.tag===22&&h){var A=g.memoizedState!==null||kf;if(!A){var $=g.alternate,H=$!==null&&$.memoizedState!==null||zn;$=kf;var ee=zn;if(kf=A,(zn=H)&&!ee)for(Oe=g;Oe!==null;)A=Oe,H=A.child,A.tag===22&&A.memoizedState!==null?h0(g):H!==null?(H.return=A,Oe=H):h0(g);for(;_!==null;)Oe=_,u0(_),_=_.sibling;Oe=g,kf=$,zn=ee}d0(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,Oe=_):d0(s)}}function d0(s){for(;Oe!==null;){var a=Oe;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:zn||Nf(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!zn)if(c===null)h.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:yi(a.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&fE(a,_,h);break;case 3:var A=a.updateQueue;if(A!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}fE(a,A,c)}break;case 5:var $=a.stateNode;if(c===null&&a.flags&4){c=$;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ue=ee.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&hi(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zn||a.flags&512&&sg(a)}catch(le){Zt(a,a.return,le)}}if(a===s){Oe=null;break}if(c=a.sibling,c!==null){c.return=a.return,Oe=c;break}Oe=a.return}}function f0(s){for(;Oe!==null;){var a=Oe;if(a===s){Oe=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Oe=c;break}Oe=a.return}}function h0(s){for(;Oe!==null;){var a=Oe;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Nf(4,a)}catch(H){Zt(a,c,H)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(H){Zt(a,g,H)}}var _=a.return;try{sg(a)}catch(H){Zt(a,_,H)}break;case 5:var A=a.return;try{sg(a)}catch(H){Zt(a,A,H)}}}catch(H){Zt(a,a.return,H)}if(a===s){Oe=null;break}var $=a.sibling;if($!==null){$.return=a.return,Oe=$;break}Oe=a.return}}var q1=Math.ceil,Pf=j.ReactCurrentDispatcher,lg=j.ReactCurrentOwner,Xr=j.ReactCurrentBatchConfig,Tt=0,Sn=null,ln=null,Dn=0,Dr=0,xl=io(0),gn=0,yu=null,ga=0,Df=0,cg=0,vu=null,yr=null,ug=0,Ol=1/0,ps=null,xf=!1,dg=null,uo=null,Of=!1,fo=null,Lf=0,_u=0,fg=null,Mf=-1,Vf=0;function nr(){return(Tt&6)!==0?dt():Mf!==-1?Mf:Mf=dt()}function ho(s){return(s.mode&1)===0?1:(Tt&2)!==0&&Dn!==0?Dn&-Dn:k1.transition!==null?(Vf===0&&(Vf=ia()),Vf):(s=vt,s!==0||(s=window.event,s=s===void 0?16:Kc(s.type)),s)}function wi(s,a,c,h){if(50<_u)throw _u=0,fg=null,Error(t(185));Ys(s,c,h),((Tt&2)===0||s!==Sn)&&(s===Sn&&((Tt&2)===0&&(Df|=c),gn===4&&po(s,Dn)),vr(s,h),c===1&&Tt===0&&(a.mode&1)===0&&(Ol=dt()+500,df&&oo()))}function vr(s,a){var c=s.callbackNode;ns(s,a);var h=ra(s,s===Sn?Dn:0);if(h===0)c!==null&&Hr(c),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(c!=null&&Hr(c),a===1)s.tag===0?R1(m0.bind(null,s)):eE(m0.bind(null,s)),S1(function(){(Tt&6)===0&&oo()}),c=null;else{switch(Js(h)){case 1:c=br;break;case 4:c=Fn;break;case 16:c=Rn;break;case 536870912:c=ft;break;default:c=Rn}c=I0(c,p0.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function p0(s,a){if(Mf=-1,Vf=0,(Tt&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ll()&&s.callbackNode!==c)return null;var h=ra(s,s===Sn?Dn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=Uf(s,h);else{a=h;var g=Tt;Tt|=2;var _=y0();(Sn!==s||Dn!==a)&&(ps=null,Ol=dt()+500,va(s,a));do try{Q1();break}catch($){g0(s,$)}while(!0);Nm(),Pf.current=_,Tt=g,ln!==null?a=0:(Sn=null,Dn=0,a=gn)}if(a!==0){if(a===2&&(g=Ar(s),g!==0&&(h=g,a=hg(s,g))),a===1)throw c=yu,va(s,0),po(s,h),vr(s,dt()),c;if(a===6)po(s,h);else{if(g=s.current.alternate,(h&30)===0&&!K1(g)&&(a=Uf(s,h),a===2&&(_=Ar(s),_!==0&&(h=_,a=hg(s,_))),a===1))throw c=yu,va(s,0),po(s,h),vr(s,dt()),c;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:_a(s,yr,ps);break;case 3:if(po(s,h),(h&130023424)===h&&(a=ug+500-dt(),10<a)){if(ra(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){nr(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=_m(_a.bind(null,s,yr,ps),a);break}_a(s,yr,ps);break;case 4:if(po(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var A=31-ht(h);_=1<<A,A=a[A],A>g&&(g=A),h&=~_}if(h=g,h=dt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*q1(h/1960))-h,10<h){s.timeoutHandle=_m(_a.bind(null,s,yr,ps),h);break}_a(s,yr,ps);break;case 5:_a(s,yr,ps);break;default:throw Error(t(329))}}}return vr(s,dt()),s.callbackNode===c?p0.bind(null,s):null}function hg(s,a){var c=vu;return s.current.memoizedState.isDehydrated&&(va(s,a).flags|=256),s=Uf(s,a),s!==2&&(a=yr,yr=c,a!==null&&pg(a)),s}function pg(s){yr===null?yr=s:yr.push.apply(yr,s)}function K1(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],_=g.getSnapshot;g=g.value;try{if(!mi(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function po(s,a){for(a&=~cg,a&=~Df,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-ht(a),h=1<<c;s[c]=-1,a&=~h}}function m0(s){if((Tt&6)!==0)throw Error(t(327));Ll();var a=ra(s,0);if((a&1)===0)return vr(s,dt()),null;var c=Uf(s,a);if(s.tag!==0&&c===2){var h=Ar(s);h!==0&&(a=h,c=hg(s,h))}if(c===1)throw c=yu,va(s,0),po(s,a),vr(s,dt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,_a(s,yr,ps),vr(s,dt()),null}function mg(s,a){var c=Tt;Tt|=1;try{return s(a)}finally{Tt=c,Tt===0&&(Ol=dt()+500,df&&oo())}}function ya(s){fo!==null&&fo.tag===0&&(Tt&6)===0&&Ll();var a=Tt;Tt|=1;var c=Xr.transition,h=vt;try{if(Xr.transition=null,vt=1,s)return s()}finally{vt=h,Xr.transition=c,Tt=a,(Tt&6)===0&&oo()}}function gg(){Dr=xl.current,$t(xl)}function va(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,I1(c)),ln!==null)for(c=ln.return;c!==null;){var h=c;switch(Cm(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cf();break;case 3:Nl(),$t(pr),$t(jn),Um();break;case 5:Mm(h);break;case 4:Nl();break;case 13:$t(Gt);break;case 19:$t(Gt);break;case 10:Pm(h.type._context);break;case 22:case 23:gg()}c=c.return}if(Sn=s,ln=s=mo(s.current,null),Dn=Dr=a,gn=0,yu=null,cg=Df=ga=0,yr=vu=null,ha!==null){for(a=0;a<ha.length;a++)if(c=ha[a],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,_=c.pending;if(_!==null){var A=_.next;_.next=g,h.next=A}c.pending=h}ha=null}return s}function g0(s,a){do{var c=ln;try{if(Nm(),Ef.current=Cf,Tf){for(var h=Qt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Tf=!1}if(ma=0,In=mn=Qt=null,du=!1,fu=0,lg.current=null,c===null||c.return===null){gn=1,yu=a,ln=null;break}e:{var _=s,A=c.return,$=c,H=a;if(a=Dn,$.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ee=H,ue=$,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var be=jE(A);if(be!==null){be.flags&=-257,BE(be,A,$,_,a),be.mode&1&&FE(_,ee,a),a=be,H=ee;var Me=a.updateQueue;if(Me===null){var Ve=new Set;Ve.add(H),a.updateQueue=Ve}else Me.add(H);break e}else{if((a&1)===0){FE(_,ee,a),yg();break e}H=Error(t(426))}}else if(Bt&&$.mode&1){var en=jE(A);if(en!==null){(en.flags&65536)===0&&(en.flags|=256),BE(en,A,$,_,a),Rm(Pl(H,$));break e}}_=H=Pl(H,$),gn!==4&&(gn=2),vu===null?vu=[_]:vu.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Y=UE(_,H,a);dE(_,Y);break e;case 1:$=H;var W=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(uo===null||!uo.has(J)))){_.flags|=65536,a&=-a,_.lanes|=a;var he=$E(_,$,a);dE(_,he);break e}}_=_.return}while(_!==null)}_0(c)}catch(Ue){a=Ue,ln===c&&c!==null&&(ln=c=c.return);continue}break}while(!0)}function y0(){var s=Pf.current;return Pf.current=Cf,s===null?Cf:s}function yg(){(gn===0||gn===3||gn===2)&&(gn=4),Sn===null||(ga&268435455)===0&&(Df&268435455)===0||po(Sn,Dn)}function Uf(s,a){var c=Tt;Tt|=2;var h=y0();(Sn!==s||Dn!==a)&&(ps=null,va(s,a));do try{G1();break}catch(g){g0(s,g)}while(!0);if(Nm(),Tt=c,Pf.current=h,ln!==null)throw Error(t(261));return Sn=null,Dn=0,gn}function G1(){for(;ln!==null;)v0(ln)}function Q1(){for(;ln!==null&&!Di();)v0(ln)}function v0(s){var a=T0(s.alternate,s,Dr);s.memoizedProps=s.pendingProps,a===null?_0(s):ln=a,lg.current=null}function _0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=j1(c,a,Dr),c!==null){ln=c;return}}else{if(c=B1(c,a),c!==null){c.flags&=32767,ln=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gn=6,ln=null;return}}if(a=a.sibling,a!==null){ln=a;return}ln=a=s}while(a!==null);gn===0&&(gn=5)}function _a(s,a,c){var h=vt,g=Xr.transition;try{Xr.transition=null,vt=1,Y1(s,a,c,h)}finally{Xr.transition=g,vt=h}return null}function Y1(s,a,c,h){do Ll();while(fo!==null);if((Tt&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(xt(s,_),s===Sn&&(ln=Sn=null,Dn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Of||(Of=!0,I0(Rn,function(){return Ll(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Xr.transition,Xr.transition=null;var A=vt;vt=1;var $=Tt;Tt|=4,lg.current=null,z1(s,c),c0(c,s),g1(ym),eo=!!gm,ym=gm=null,s.current=c,W1(c),Cr(),Tt=$,vt=A,Xr.transition=_}else s.current=c;if(Of&&(Of=!1,fo=s,Lf=g),_=s.pendingLanes,_===0&&(uo=null),Oi(c.stateNode),vr(s,dt()),a!==null)for(h=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(xf)throw xf=!1,s=dg,dg=null,s;return(Lf&1)!==0&&s.tag!==0&&Ll(),_=s.pendingLanes,(_&1)!==0?s===fg?_u++:(_u=0,fg=s):_u=0,oo(),null}function Ll(){if(fo!==null){var s=Js(Lf),a=Xr.transition,c=vt;try{if(Xr.transition=null,vt=16>s?16:s,fo===null)var h=!1;else{if(s=fo,fo=null,Lf=0,(Tt&6)!==0)throw Error(t(331));var g=Tt;for(Tt|=4,Oe=s.current;Oe!==null;){var _=Oe,A=_.child;if((Oe.flags&16)!==0){var $=_.deletions;if($!==null){for(var H=0;H<$.length;H++){var ee=$[H];for(Oe=ee;Oe!==null;){var ue=Oe;switch(ue.tag){case 0:case 11:case 15:gu(8,ue,_)}var fe=ue.child;if(fe!==null)fe.return=ue,Oe=fe;else for(;Oe!==null;){ue=Oe;var le=ue.sibling,be=ue.return;if(i0(ue),ue===ee){Oe=null;break}if(le!==null){le.return=be,Oe=le;break}Oe=be}}}var Me=_.alternate;if(Me!==null){var Ve=Me.child;if(Ve!==null){Me.child=null;do{var en=Ve.sibling;Ve.sibling=null,Ve=en}while(Ve!==null)}}Oe=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,Oe=A;else e:for(;Oe!==null;){if(_=Oe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:gu(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,Oe=Y;break e}Oe=_.return}}var W=s.current;for(Oe=W;Oe!==null;){A=Oe;var J=A.child;if((A.subtreeFlags&2064)!==0&&J!==null)J.return=A,Oe=J;else e:for(A=W;Oe!==null;){if($=Oe,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Nf(9,$)}}catch(Ue){Zt($,$.return,Ue)}if($===A){Oe=null;break e}var he=$.sibling;if(he!==null){he.return=$.return,Oe=he;break e}Oe=$.return}}if(Tt=g,oo(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(At,s)}catch{}h=!0}return h}finally{vt=c,Xr.transition=a}}return!1}function w0(s,a,c){a=Pl(c,a),a=UE(s,a,1),s=lo(s,a,1),a=nr(),s!==null&&(Ys(s,1,a),vr(s,a))}function Zt(s,a,c){if(s.tag===3)w0(s,s,c);else for(;a!==null;){if(a.tag===3){w0(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(uo===null||!uo.has(h))){s=Pl(c,s),s=$E(a,s,1),a=lo(a,s,1),s=nr(),a!==null&&(Ys(a,1,s),vr(a,s));break}}a=a.return}}function X1(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),a=nr(),s.pingedLanes|=s.suspendedLanes&c,Sn===s&&(Dn&c)===c&&(gn===4||gn===3&&(Dn&130023424)===Dn&&500>dt()-ug?va(s,0):cg|=c),vr(s,a)}function E0(s,a){a===0&&((s.mode&1)===0?a=1:(a=il,il<<=1,(il&130023424)===0&&(il=4194304)));var c=nr();s=ds(s,a),s!==null&&(Ys(s,a,c),vr(s,c))}function J1(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),E0(s,c)}function Z1(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),E0(s,c)}var T0;T0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||pr.current)gr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return gr=!1,F1(s,a,c);gr=(s.flags&131072)!==0}else gr=!1,Bt&&(a.flags&1048576)!==0&&tE(a,hf,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Rf(s,a),s=a.pendingProps;var g=Il(a,jn.current);kl(a,c),g=jm(null,a,h,s,g,c);var _=Bm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,mr(h)?(_=!0,uf(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Om(a),g.updater=bf,a.stateNode=g,g._reactInternals=a,Gm(a,h,s,c),a=Jm(null,a,h,!0,_,c)):(a.tag=0,Bt&&_&&Sm(a),tr(null,a,g,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Rf(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=tP(h),s=yi(h,s),g){case 0:a=Xm(null,a,h,s,c);break e;case 1:a=GE(null,a,h,s,c);break e;case 11:a=HE(null,a,h,s,c);break e;case 14:a=zE(null,a,h,yi(h.type,s),c);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:yi(h,g),Xm(s,a,h,g,c);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:yi(h,g),GE(s,a,h,g,c);case 3:e:{if(QE(a),s===null)throw Error(t(387));h=a.pendingProps,_=a.memoizedState,g=_.element,uE(s,a),_f(a,h,null,c);var A=a.memoizedState;if(h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=Pl(Error(t(423)),a),a=YE(s,a,h,c,g);break e}else if(h!==g){g=Pl(Error(t(424)),a),a=YE(s,a,h,c,g);break e}else for(Pr=ro(a.stateNode.containerInfo.firstChild),Nr=a,Bt=!0,gi=null,c=lE(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(bl(),h===g){a=hs(s,a,c);break e}tr(s,a,h,c)}a=a.child}return a;case 5:return hE(a),s===null&&Am(a),h=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,A=g.children,vm(h,g)?A=null:_!==null&&vm(h,_)&&(a.flags|=32),KE(s,a),tr(s,a,A,c),a.child;case 6:return s===null&&Am(a),null;case 13:return XE(s,a,c);case 4:return Lm(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Al(a,null,h,c):tr(s,a,h,c),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:yi(h,g),HE(s,a,h,g,c);case 7:return tr(s,a,a.pendingProps,c),a.child;case 8:return tr(s,a,a.pendingProps.children,c),a.child;case 12:return tr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,_=a.memoizedProps,A=g.value,Vt(gf,h._currentValue),h._currentValue=A,_!==null)if(mi(_.value,A)){if(_.children===g.children&&!pr.current){a=hs(s,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var $=_.dependencies;if($!==null){A=_.child;for(var H=$.firstContext;H!==null;){if(H.context===h){if(_.tag===1){H=fs(-1,c&-c),H.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var ue=ee.pending;ue===null?H.next=H:(H.next=ue.next,ue.next=H),ee.pending=H}}_.lanes|=c,H=_.alternate,H!==null&&(H.lanes|=c),Dm(_.return,c,a),$.lanes|=c;break}H=H.next}}else if(_.tag===10)A=_.type===a.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(t(341));A.lanes|=c,$=A.alternate,$!==null&&($.lanes|=c),Dm(A,c,a),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===a){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}tr(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,kl(a,c),g=Qr(g),h=h(g),a.flags|=1,tr(s,a,h,c),a.child;case 14:return h=a.type,g=yi(h,a.pendingProps),g=yi(h.type,g),zE(s,a,h,g,c);case 15:return WE(s,a,a.type,a.pendingProps,c);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:yi(h,g),Rf(s,a),a.tag=1,mr(h)?(s=!0,uf(a)):s=!1,kl(a,c),ME(a,h,g),Gm(a,h,g,c),Jm(null,a,h,!0,s,c);case 19:return ZE(s,a,c);case 22:return qE(s,a,c)}throw Error(t(156,a.tag))};function I0(s,a){return kt(s,a)}function eP(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(s,a,c,h){return new eP(s,a,c,h)}function vg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function tP(s){if(typeof s=="function")return vg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Ne)return 14}return 2}function mo(s,a){var c=s.alternate;return c===null?(c=Jr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function $f(s,a,c,h,g,_){var A=2;if(h=s,typeof s=="function")vg(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case S:return wa(c.children,g,_,a);case b:A=8,g|=8;break;case P:return s=Jr(12,c,a,g|2),s.elementType=P,s.lanes=_,s;case O:return s=Jr(13,c,a,g),s.elementType=O,s.lanes=_,s;case we:return s=Jr(19,c,a,g),s.elementType=we,s.lanes=_,s;case Se:return Ff(c,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:A=10;break e;case U:A=9;break e;case F:A=11;break e;case Ne:A=14;break e;case je:A=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Jr(A,c,a,g),a.elementType=s,a.type=h,a.lanes=_,a}function wa(s,a,c,h){return s=Jr(7,s,h,a),s.lanes=c,s}function Ff(s,a,c,h){return s=Jr(22,s,h,a),s.elementType=Se,s.lanes=c,s.stateNode={isHidden:!1},s}function _g(s,a,c){return s=Jr(6,s,null,a),s.lanes=c,s}function wg(s,a,c){return a=Jr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function nP(s,a,c,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Eg(s,a,c,h,g,_,A,$,H){return s=new nP(s,a,c,$,H),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Jr(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(_),s}function rP(s,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:h==null?null:""+h,children:s,containerInfo:a,implementation:c}}function S0(s){if(!s)return so;s=s._reactInternals;e:{if(xe(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(mr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(mr(c))return Jw(s,c,a)}return a}function C0(s,a,c,h,g,_,A,$,H){return s=Eg(c,h,!0,s,g,_,A,$,H),s.context=S0(null),c=s.current,h=nr(),g=ho(c),_=fs(h,g),_.callback=a??null,lo(c,_,g),s.current.lanes=g,Ys(s,g,h),vr(s,h),s}function jf(s,a,c,h){var g=a.current,_=nr(),A=ho(g);return c=S0(c),a.context===null?a.context=c:a.pendingContext=c,a=fs(_,A),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=lo(g,a,A),s!==null&&(wi(s,g,A,_),vf(s,g,A)),A}function Bf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function b0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Tg(s,a){b0(s,a),(s=s.alternate)&&b0(s,a)}function iP(){return null}var A0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ig(s){this._internalRoot=s}Hf.prototype.render=Ig.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));jf(s,a,null,null)},Hf.prototype.unmount=Ig.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ya(function(){jf(null,s,null,null)}),a[as]=null}};function Hf(s){this._internalRoot=s}Hf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Bd();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Mi.length&&a!==0&&a<Mi[c].priority;c++);Mi.splice(c,0,s),c===0&&Wd(s)}};function Sg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function zf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function R0(){}function sP(s,a,c,h,g){if(g){if(typeof h=="function"){var _=h;h=function(){var ee=Bf(A);_.call(ee)}}var A=C0(a,h,s,0,null,!1,!1,"",R0);return s._reactRootContainer=A,s[as]=A.current,ru(s.nodeType===8?s.parentNode:s),ya(),A}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var $=h;h=function(){var ee=Bf(H);$.call(ee)}}var H=Eg(s,0,!1,null,null,!1,!1,"",R0);return s._reactRootContainer=H,s[as]=H.current,ru(s.nodeType===8?s.parentNode:s),ya(function(){jf(a,H,c,h)}),H}function Wf(s,a,c,h,g){var _=c._reactRootContainer;if(_){var A=_;if(typeof g=="function"){var $=g;g=function(){var H=Bf(A);$.call(H)}}jf(a,A,s,g)}else A=sP(c,a,s,g,h);return Bf(A)}Fd=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Gs(a.pendingLanes);c!==0&&(Xs(a,c|1),vr(a,dt()),(Tt&6)===0&&(Ol=dt()+500,oo()))}break;case 13:ya(function(){var h=ds(s,1);if(h!==null){var g=nr();wi(h,s,1,g)}}),Tg(s,1)}},sl=function(s){if(s.tag===13){var a=ds(s,134217728);if(a!==null){var c=nr();wi(a,s,134217728,c)}Tg(s,134217728)}},jd=function(s){if(s.tag===13){var a=ho(s),c=ds(s,a);if(c!==null){var h=nr();wi(c,s,a,h)}Tg(s,a)}},Bd=function(){return vt},Hd=function(s,a){var c=vt;try{return vt=s,a()}finally{vt=c}},ts=function(s,a,c){switch(a){case"input":if(_n(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var g=lf(h);if(!g)throw Error(t(90));st(h),_n(h,g)}}}break;case"textarea":Lt(s,c);break;case"select":a=c.value,a!=null&&sn(s,!!c.multiple,a,!1)}},Ni=mg,Pi=ya;var oP={usingClientEntryPoint:!1,Events:[ou,El,lf,Sr,ea,mg]},wu={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aP={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=St(s),s===null?null:s.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||iP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{At=qf.inject(aP),on=qf}catch{}}return _r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oP,_r.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sg(a))throw Error(t(200));return rP(s,a,null,c)},_r.createRoot=function(s,a){if(!Sg(s))throw Error(t(299));var c=!1,h="",g=A0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Eg(s,1,!1,null,null,c,!1,h,g),s[as]=a.current,ru(s.nodeType===8?s.parentNode:s),new Ig(a)},_r.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=St(a),s=s===null?null:s.stateNode,s},_r.flushSync=function(s){return ya(s)},_r.hydrate=function(s,a,c){if(!zf(a))throw Error(t(200));return Wf(null,s,a,!0,c)},_r.hydrateRoot=function(s,a,c){if(!Sg(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,_="",A=A0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),a=C0(a,null,s,1,c??null,g,!1,_,A),s[as]=a.current,ru(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Hf(a)},_r.render=function(s,a,c){if(!zf(a))throw Error(t(200));return Wf(null,s,a,!1,c)},_r.unmountComponentAtNode=function(s){if(!zf(s))throw Error(t(40));return s._reactRootContainer?(ya(function(){Wf(null,null,s,!1,function(){s._reactRootContainer=null,s[as]=null})}),!0):!1},_r.unstable_batchedUpdates=mg,_r.unstable_renderSubtreeIntoContainer=function(s,a,c,h){if(!zf(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Wf(s,a,c,!1,h)},_r.version="18.3.1-next-f1338f8080-20240426",_r}var O0;function rC(){if(O0)return bg.exports;O0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bg.exports=hP(),bg.exports}var L0;function pP(){if(L0)return Kf;L0=1;var n=rC();return Kf.createRoot=n.createRoot,Kf.hydrateRoot=n.hydrateRoot,Kf}var mP=pP(),or="top",$r="bottom",Fr="right",ar="left",ap="auto",bc=[or,$r,Fr,ar],xa="start",nc="end",iC="clippingParents",Sv="viewport",Bl="popper",sC="reference",vy=bc.reduce(function(n,e){return n.concat([e+"-"+xa,e+"-"+nc])},[]),Cv=[].concat(bc,[ap]).reduce(function(n,e){return n.concat([e,e+"-"+xa,e+"-"+nc])},[]),oC="beforeRead",aC="read",lC="afterRead",cC="beforeMain",uC="main",dC="afterMain",fC="beforeWrite",hC="write",pC="afterWrite",mC=[oC,aC,lC,cC,uC,dC,fC,hC,pC];function Xi(n){return n?(n.nodeName||"").toLowerCase():null}function jr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Oa(n){var e=jr(n).Element;return n instanceof e||n instanceof Element}function ri(n){var e=jr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function bv(n){if(typeof ShadowRoot>"u")return!1;var e=jr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function gP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!ri(o)||!Xi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(l){var u=i[l];u===!1?o.removeAttribute(l):o.setAttribute(l,u===!0?"":u)}))})}function yP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),u=l.reduce(function(f,p){return f[p]="",f},{});!ri(i)||!Xi(i)||(Object.assign(i.style,u),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const Av={name:"applyStyles",enabled:!0,phase:"write",fn:gP,effect:yP,requires:["computeStyles"]};function qi(n){return n.split("-")[0]}var Na=Math.max,Nh=Math.min,rc=Math.round;function _y(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gC(){return!/^((?!chrome|android).)*safari/i.test(_y())}function ic(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&ri(n)&&(i=n.offsetWidth>0&&rc(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&rc(r.height)/n.offsetHeight||1);var l=Oa(n)?jr(n):window,u=l.visualViewport,f=!gC()&&t,p=(r.left+(f&&u?u.offsetLeft:0))/i,m=(r.top+(f&&u?u.offsetTop:0))/o,y=r.width/i,T=r.height/o;return{width:y,height:T,top:m,right:p+y,bottom:m+T,left:p,x:p,y:m}}function Rv(n){var e=ic(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function yC(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&bv(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ds(n){return jr(n).getComputedStyle(n)}function vP(n){return["table","td","th"].indexOf(Xi(n))>=0}function Wo(n){return((Oa(n)?n.ownerDocument:n.document)||window.document).documentElement}function lp(n){return Xi(n)==="html"?n:n.assignedSlot||n.parentNode||(bv(n)?n.host:null)||Wo(n)}function M0(n){return!ri(n)||Ds(n).position==="fixed"?null:n.offsetParent}function _P(n){var e=/firefox/i.test(_y()),t=/Trident/i.test(_y());if(t&&ri(n)){var r=Ds(n);if(r.position==="fixed")return null}var i=lp(n);for(bv(i)&&(i=i.host);ri(i)&&["html","body"].indexOf(Xi(i))<0;){var o=Ds(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function hd(n){for(var e=jr(n),t=M0(n);t&&vP(t)&&Ds(t).position==="static";)t=M0(t);return t&&(Xi(t)==="html"||Xi(t)==="body"&&Ds(t).position==="static")?e:t||_P(n)||e}function kv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ju(n,e,t){return Na(n,Nh(e,t))}function wP(n,e,t){var r=ju(n,e,t);return r>t?t:r}function vC(){return{top:0,right:0,bottom:0,left:0}}function _C(n){return Object.assign({},vC(),n)}function wC(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var EP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,_C(typeof e!="number"?e:wC(e,bc))};function TP(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,u=qi(t.placement),f=kv(u),p=[ar,Fr].indexOf(u)>=0,m=p?"height":"width";if(!(!o||!l)){var y=EP(i.padding,t),T=Rv(o),C=f==="y"?or:ar,k=f==="y"?$r:Fr,N=t.rects.reference[m]+t.rects.reference[f]-l[f]-t.rects.popper[m],R=l[f]-t.rects.reference[f],x=hd(o),L=x?f==="y"?x.clientHeight||0:x.clientWidth||0:0,V=N/2-R/2,j=y[C],q=L-T[m]-y[k],G=L/2-T[m]/2+V,S=ju(j,G,q),b=f;t.modifiersData[r]=(e={},e[b]=S,e.centerOffset=S-G,e)}}function IP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||yC(e.elements.popper,i)&&(e.elements.arrow=i))}const Nv={name:"arrow",enabled:!0,phase:"main",fn:TP,effect:IP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sc(n){return n.split("-")[1]}var SP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:rc(t*i)/i||0,y:rc(r*i)/i||0}}function V0(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,u=n.position,f=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,y=n.isFixed,T=l.x,C=T===void 0?0:T,k=l.y,N=k===void 0?0:k,R=typeof m=="function"?m({x:C,y:N}):{x:C,y:N};C=R.x,N=R.y;var x=l.hasOwnProperty("x"),L=l.hasOwnProperty("y"),V=ar,j=or,q=window;if(p){var G=hd(t),S="clientHeight",b="clientWidth";if(G===jr(t)&&(G=Wo(t),Ds(G).position!=="static"&&u==="absolute"&&(S="scrollHeight",b="scrollWidth")),G=G,i===or||(i===ar||i===Fr)&&o===nc){j=$r;var P=y&&G===q&&q.visualViewport?q.visualViewport.height:G[S];N-=P-r.height,N*=f?1:-1}if(i===ar||(i===or||i===$r)&&o===nc){V=Fr;var M=y&&G===q&&q.visualViewport?q.visualViewport.width:G[b];C-=M-r.width,C*=f?1:-1}}var U=Object.assign({position:u},p&&SP),F=m===!0?CP({x:C,y:N},jr(t)):{x:C,y:N};if(C=F.x,N=F.y,f){var O;return Object.assign({},U,(O={},O[j]=L?"0":"",O[V]=x?"0":"",O.transform=(q.devicePixelRatio||1)<=1?"translate("+C+"px, "+N+"px)":"translate3d("+C+"px, "+N+"px, 0)",O))}return Object.assign({},U,(e={},e[j]=L?N+"px":"",e[V]=x?C+"px":"",e.transform="",e))}function bP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,u=t.roundOffsets,f=u===void 0?!0:u,p={placement:qi(e.placement),variation:sc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,V0(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,V0(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const cp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bP,data:{}};var Gf={passive:!0};function AP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,u=l===void 0?!0:l,f=jr(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(m){m.addEventListener("scroll",t.update,Gf)}),u&&f.addEventListener("resize",t.update,Gf),function(){o&&p.forEach(function(m){m.removeEventListener("scroll",t.update,Gf)}),u&&f.removeEventListener("resize",t.update,Gf)}}const up={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AP,data:{}};var RP={left:"right",right:"left",bottom:"top",top:"bottom"};function ph(n){return n.replace(/left|right|bottom|top/g,function(e){return RP[e]})}var kP={start:"end",end:"start"};function U0(n){return n.replace(/start|end/g,function(e){return kP[e]})}function Pv(n){var e=jr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Dv(n){return ic(Wo(n)).left+Pv(n).scrollLeft}function NP(n,e){var t=jr(n),r=Wo(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,u=0,f=0;if(i){o=i.width,l=i.height;var p=gC();(p||!p&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:o,height:l,x:u+Dv(n),y:f}}function PP(n){var e,t=Wo(n),r=Pv(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=Na(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Na(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Dv(n),f=-r.scrollTop;return Ds(i||t).direction==="rtl"&&(u+=Na(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:u,y:f}}function xv(n){var e=Ds(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function EC(n){return["html","body","#document"].indexOf(Xi(n))>=0?n.ownerDocument.body:ri(n)&&xv(n)?n:EC(lp(n))}function Bu(n,e){var t;e===void 0&&(e=[]);var r=EC(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=jr(r),l=i?[o].concat(o.visualViewport||[],xv(r)?r:[]):r,u=e.concat(l);return i?u:u.concat(Bu(lp(l)))}function wy(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function DP(n,e){var t=ic(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function $0(n,e,t){return e===Sv?wy(NP(n,t)):Oa(e)?DP(e,t):wy(PP(Wo(n)))}function xP(n){var e=Bu(lp(n)),t=["absolute","fixed"].indexOf(Ds(n).position)>=0,r=t&&ri(n)?hd(n):n;return Oa(r)?e.filter(function(i){return Oa(i)&&yC(i,r)&&Xi(i)!=="body"}):[]}function OP(n,e,t,r){var i=e==="clippingParents"?xP(n):[].concat(e),o=[].concat(i,[t]),l=o[0],u=o.reduce(function(f,p){var m=$0(n,p,r);return f.top=Na(m.top,f.top),f.right=Nh(m.right,f.right),f.bottom=Nh(m.bottom,f.bottom),f.left=Na(m.left,f.left),f},$0(n,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function TC(n){var e=n.reference,t=n.element,r=n.placement,i=r?qi(r):null,o=r?sc(r):null,l=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,f;switch(i){case or:f={x:l,y:e.y-t.height};break;case $r:f={x:l,y:e.y+e.height};break;case Fr:f={x:e.x+e.width,y:u};break;case ar:f={x:e.x-t.width,y:u};break;default:f={x:e.x,y:e.y}}var p=i?kv(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(o){case xa:f[p]=f[p]-(e[m]/2-t[m]/2);break;case nc:f[p]=f[p]+(e[m]/2-t[m]/2);break}}return f}function oc(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,u=t.boundary,f=u===void 0?iC:u,p=t.rootBoundary,m=p===void 0?Sv:p,y=t.elementContext,T=y===void 0?Bl:y,C=t.altBoundary,k=C===void 0?!1:C,N=t.padding,R=N===void 0?0:N,x=_C(typeof R!="number"?R:wC(R,bc)),L=T===Bl?sC:Bl,V=n.rects.popper,j=n.elements[k?L:T],q=OP(Oa(j)?j:j.contextElement||Wo(n.elements.popper),f,m,l),G=ic(n.elements.reference),S=TC({reference:G,element:V,placement:i}),b=wy(Object.assign({},V,S)),P=T===Bl?b:G,M={top:q.top-P.top+x.top,bottom:P.bottom-q.bottom+x.bottom,left:q.left-P.left+x.left,right:P.right-q.right+x.right},U=n.modifiersData.offset;if(T===Bl&&U){var F=U[i];Object.keys(M).forEach(function(O){var we=[Fr,$r].indexOf(O)>=0?1:-1,Ne=[or,$r].indexOf(O)>=0?"y":"x";M[O]+=F[Ne]*we})}return M}function LP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,u=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?Cv:f,m=sc(r),y=m?u?vy:vy.filter(function(k){return sc(k)===m}):bc,T=y.filter(function(k){return p.indexOf(k)>=0});T.length===0&&(T=y);var C=T.reduce(function(k,N){return k[N]=oc(n,{placement:N,boundary:i,rootBoundary:o,padding:l})[qi(N)],k},{});return Object.keys(C).sort(function(k,N){return C[k]-C[N]})}function MP(n){if(qi(n)===ap)return[];var e=ph(n);return[U0(n),e,U0(e)]}function VP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,m=t.boundary,y=t.rootBoundary,T=t.altBoundary,C=t.flipVariations,k=C===void 0?!0:C,N=t.allowedAutoPlacements,R=e.options.placement,x=qi(R),L=x===R,V=f||(L||!k?[ph(R)]:MP(R)),j=[R].concat(V).reduce(function(ve,Ie){return ve.concat(qi(Ie)===ap?LP(e,{placement:Ie,boundary:m,rootBoundary:y,padding:p,flipVariations:k,allowedAutoPlacements:N}):Ie)},[]),q=e.rects.reference,G=e.rects.popper,S=new Map,b=!0,P=j[0],M=0;M<j.length;M++){var U=j[M],F=qi(U),O=sc(U)===xa,we=[or,$r].indexOf(F)>=0,Ne=we?"width":"height",je=oc(e,{placement:U,boundary:m,rootBoundary:y,altBoundary:T,padding:p}),Se=we?O?Fr:ar:O?$r:or;q[Ne]>G[Ne]&&(Se=ph(Se));var re=ph(Se),me=[];if(o&&me.push(je[F]<=0),u&&me.push(je[Se]<=0,je[re]<=0),me.every(function(ve){return ve})){P=U,b=!1;break}S.set(U,me)}if(b)for(var ce=k?3:1,z=function(Ie){var Ae=j.find(function(Ge){var Be=S.get(Ge);if(Be)return Be.slice(0,Ie).every(function(ot){return ot})});if(Ae)return P=Ae,"break"},te=ce;te>0;te--){var pe=z(te);if(pe==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const Ov={name:"flip",enabled:!0,phase:"main",fn:VP,requiresIfExists:["offset"],data:{_skip:!1}};function F0(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function j0(n){return[or,Fr,$r,ar].some(function(e){return n[e]>=0})}function UP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=oc(e,{elementContext:"reference"}),u=oc(e,{altBoundary:!0}),f=F0(l,r),p=F0(u,i,o),m=j0(f),y=j0(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const Lv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:UP};function $P(n,e,t){var r=qi(n),i=[ar,or].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],u=o[1];return l=l||0,u=(u||0)*i,[ar,Fr].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function FP(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=Cv.reduce(function(m,y){return m[y]=$P(y,e.rects,o),m},{}),u=l[e.placement],f=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Mv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:FP};function jP(n){var e=n.state,t=n.name;e.modifiersData[t]=TC({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const dp={name:"popperOffsets",enabled:!0,phase:"read",fn:jP,data:{}};function BP(n){return n==="x"?"y":"x"}function HP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,m=t.altBoundary,y=t.padding,T=t.tether,C=T===void 0?!0:T,k=t.tetherOffset,N=k===void 0?0:k,R=oc(e,{boundary:f,rootBoundary:p,padding:y,altBoundary:m}),x=qi(e.placement),L=sc(e.placement),V=!L,j=kv(x),q=BP(j),G=e.modifiersData.popperOffsets,S=e.rects.reference,b=e.rects.popper,P=typeof N=="function"?N(Object.assign({},e.rects,{placement:e.placement})):N,M=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(G){if(o){var O,we=j==="y"?or:ar,Ne=j==="y"?$r:Fr,je=j==="y"?"height":"width",Se=G[j],re=Se+R[we],me=Se-R[Ne],ce=C?-b[je]/2:0,z=L===xa?S[je]:b[je],te=L===xa?-b[je]:-S[je],pe=e.elements.arrow,ve=C&&pe?Rv(pe):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:vC(),Ae=Ie[we],Ge=Ie[Ne],Be=ju(0,S[je],ve[je]),ot=V?S[je]/2-ce-Be-Ae-M.mainAxis:z-Be-Ae-M.mainAxis,It=V?-S[je]/2+ce+Be+Ge+M.mainAxis:te+Be+Ge+M.mainAxis,bt=e.elements.arrow&&hd(e.elements.arrow),st=bt?j==="y"?bt.clientTop||0:bt.clientLeft||0:0,Dt=(O=U==null?void 0:U[j])!=null?O:0,Xt=Se+ot-Dt-st,it=Se+It-Dt,Wt=ju(C?Nh(re,Xt):re,Se,C?Na(me,it):me);G[j]=Wt,F[j]=Wt-Se}if(u){var _n,Br=j==="x"?or:ar,Xn=j==="x"?$r:Fr,qt=G[q],sn=q==="y"?"height":"width",lr=qt+R[Br],Un=qt-R[Xn],Lt=[or,ar].indexOf(x)!==-1,hn=(_n=U==null?void 0:U[q])!=null?_n:0,$e=Lt?lr:qt-S[sn]-b[sn]-hn+M.altAxis,yt=Lt?qt+S[sn]+b[sn]-hn-M.altAxis:Un,Mt=C&&Lt?wP($e,qt,yt):ju(C?$e:lr,qt,C?yt:Un);G[q]=Mt,F[q]=Mt-qt}e.modifiersData[r]=F}}const Vv={name:"preventOverflow",enabled:!0,phase:"main",fn:HP,requiresIfExists:["offset"]};function zP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function WP(n){return n===jr(n)||!ri(n)?Pv(n):zP(n)}function qP(n){var e=n.getBoundingClientRect(),t=rc(e.width)/n.offsetWidth||1,r=rc(e.height)/n.offsetHeight||1;return t!==1||r!==1}function KP(n,e,t){t===void 0&&(t=!1);var r=ri(e),i=ri(e)&&qP(e),o=Wo(e),l=ic(n,i,t),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Xi(e)!=="body"||xv(o))&&(u=WP(e)),ri(e)?(f=ic(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):o&&(f.x=Dv(o))),{x:l.left+u.scrollLeft-f.x,y:l.top+u.scrollTop-f.y,width:l.width,height:l.height}}function GP(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(u){if(!t.has(u)){var f=e.get(u);f&&i(f)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function QP(n){var e=GP(n);return mC.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function YP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function XP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var B0={placement:"bottom",modifiers:[],strategy:"absolute"};function H0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function pd(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?B0:i;return function(u,f,p){p===void 0&&(p=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},B0,o),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},y=[],T=!1,C={state:m,setOptions:function(x){var L=typeof x=="function"?x(m.options):x;N(),m.options=Object.assign({},o,m.options,L),m.scrollParents={reference:Oa(u)?Bu(u):u.contextElement?Bu(u.contextElement):[],popper:Bu(f)};var V=QP(XP([].concat(r,m.options.modifiers)));return m.orderedModifiers=V.filter(function(j){return j.enabled}),k(),C.update()},forceUpdate:function(){if(!T){var x=m.elements,L=x.reference,V=x.popper;if(H0(L,V)){m.rects={reference:KP(L,hd(V),m.options.strategy==="fixed"),popper:Rv(V)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(M){return m.modifiersData[M.name]=Object.assign({},M.data)});for(var j=0;j<m.orderedModifiers.length;j++){if(m.reset===!0){m.reset=!1,j=-1;continue}var q=m.orderedModifiers[j],G=q.fn,S=q.options,b=S===void 0?{}:S,P=q.name;typeof G=="function"&&(m=G({state:m,options:b,name:P,instance:C})||m)}}}},update:YP(function(){return new Promise(function(R){C.forceUpdate(),R(m)})}),destroy:function(){N(),T=!0}};if(!H0(u,f))return C;C.setOptions(p).then(function(R){!T&&p.onFirstUpdate&&p.onFirstUpdate(R)});function k(){m.orderedModifiers.forEach(function(R){var x=R.name,L=R.options,V=L===void 0?{}:L,j=R.effect;if(typeof j=="function"){var q=j({state:m,name:x,instance:C,options:V}),G=function(){};y.push(q||G)}})}function N(){y.forEach(function(R){return R()}),y=[]}return C}}var JP=pd(),ZP=[up,dp,cp,Av],eD=pd({defaultModifiers:ZP}),tD=[up,dp,cp,Av,Mv,Ov,Vv,Nv,Lv],Uv=pd({defaultModifiers:tD});const IC=Object.freeze(Object.defineProperty({__proto__:null,afterMain:dC,afterRead:lC,afterWrite:pC,applyStyles:Av,arrow:Nv,auto:ap,basePlacements:bc,beforeMain:cC,beforeRead:oC,beforeWrite:fC,bottom:$r,clippingParents:iC,computeStyles:cp,createPopper:Uv,createPopperBase:JP,createPopperLite:eD,detectOverflow:oc,end:nc,eventListeners:up,flip:Ov,hide:Lv,left:ar,main:uC,modifierPhases:mC,offset:Mv,placements:Cv,popper:Bl,popperGenerator:pd,popperOffsets:dp,preventOverflow:Vv,read:aC,reference:sC,right:Fr,start:xa,top:or,variationPlacements:vy,viewport:Sv,write:hC},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const yo=new Map,kg={set(n,e,t){yo.has(n)||yo.set(n,new Map);const r=yo.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return yo.has(n)&&yo.get(n).get(e)||null},remove(n,e){if(!yo.has(n))return;const t=yo.get(n);t.delete(e),t.size===0&&yo.delete(n)}},nD=1e6,rD=1e3,Ey="transitionend",SC=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),iD=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),sD=n=>{do n+=Math.floor(Math.random()*nD);while(document.getElementById(n));return n},oD=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*rD)},CC=n=>{n.dispatchEvent(new Event(Ey))},Ss=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Lo=n=>Ss(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(SC(n)):null,Ac=n=>{if(!Ss(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Mo=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",bC=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?bC(n.parentNode):null},Ph=()=>{},md=n=>{n.offsetHeight},AC=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ng=[],aD=n=>{document.readyState==="loading"?(Ng.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ng)e()}),Ng.push(n)):n()},ii=()=>document.documentElement.dir==="rtl",ai=n=>{aD(()=>{const e=AC();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Tr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,RC=(n,e,t=!0)=>{if(!t){Tr(n);return}const i=oD(e)+5;let o=!1;const l=({target:u})=>{u===e&&(o=!0,e.removeEventListener(Ey,l),Tr(n))};e.addEventListener(Ey,l),setTimeout(()=>{o||CC(e)},i)},$v=(n,e,t,r)=>{const i=n.length;let o=n.indexOf(e);return o===-1?!t&&r?n[i-1]:n[0]:(o+=t?1:-1,r&&(o=(o+i)%i),n[Math.max(0,Math.min(o,i-1))])},lD=/[^.]*(?=\..*)\.|.*/,cD=/\..*/,uD=/::\d+$/,Pg={};let z0=1;const kC={mouseenter:"mouseover",mouseleave:"mouseout"},dD=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function NC(n,e){return e&&`${e}::${z0++}`||n.uidEvent||z0++}function PC(n){const e=NC(n);return n.uidEvent=e,Pg[e]=Pg[e]||{},Pg[e]}function fD(n,e){return function t(r){return Fv(r,{delegateTarget:n}),t.oneOff&&de.off(n,r.type,e),e.apply(n,[r])}}function hD(n,e,t){return function r(i){const o=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const u of o)if(u===l)return Fv(i,{delegateTarget:l}),r.oneOff&&de.off(n,i.type,e,t),t.apply(l,[i])}}function DC(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function xC(n,e,t){const r=typeof e=="string",i=r?t:e||t;let o=OC(n);return dD.has(o)||(o=n),[r,i,o]}function W0(n,e,t,r,i){if(typeof e!="string"||!n)return;let[o,l,u]=xC(e,t,r);e in kC&&(l=(k=>function(N){if(!N.relatedTarget||N.relatedTarget!==N.delegateTarget&&!N.delegateTarget.contains(N.relatedTarget))return k.call(this,N)})(l));const f=PC(n),p=f[u]||(f[u]={}),m=DC(p,l,o?t:null);if(m){m.oneOff=m.oneOff&&i;return}const y=NC(l,e.replace(lD,"")),T=o?hD(n,t,l):fD(n,l);T.delegationSelector=o?t:null,T.callable=l,T.oneOff=i,T.uidEvent=y,p[y]=T,n.addEventListener(u,T,o)}function Ty(n,e,t,r,i){const o=DC(e[t],r,i);o&&(n.removeEventListener(t,o,!!i),delete e[t][o.uidEvent])}function pD(n,e,t,r){const i=e[t]||{};for(const[o,l]of Object.entries(i))o.includes(r)&&Ty(n,e,t,l.callable,l.delegationSelector)}function OC(n){return n=n.replace(cD,""),kC[n]||n}const de={on(n,e,t,r){W0(n,e,t,r,!1)},one(n,e,t,r){W0(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,o,l]=xC(e,t,r),u=l!==e,f=PC(n),p=f[l]||{},m=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(p).length)return;Ty(n,f,l,o,i?t:null);return}if(m)for(const y of Object.keys(f))pD(n,f,y,e.slice(1));for(const[y,T]of Object.entries(p)){const C=y.replace(uD,"");(!u||e.includes(C))&&Ty(n,f,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=AC(),i=OC(e),o=e!==i;let l=null,u=!0,f=!0,p=!1;o&&r&&(l=r.Event(e,t),r(n).trigger(l),u=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const m=Fv(new Event(e,{bubbles:u,cancelable:!0}),t);return p&&m.preventDefault(),f&&n.dispatchEvent(m),m.defaultPrevented&&l&&l.preventDefault(),m}};function Fv(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function q0(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Dg(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Cs={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Dg(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Dg(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=q0(n.dataset[r])}return e},getDataAttribute(n,e){return q0(n.getAttribute(`data-bs-${Dg(e)}`))}};class gd{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Ss(t)?Cs.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Ss(t)?Cs.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const o=e[r],l=Ss(o)?"element":iD(o);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}}const mD="5.3.3";class Ai extends gd{constructor(e,t){super(),e=Lo(e),e&&(this._element=e,this._config=this._getConfig(t),kg.set(this._element,this.constructor.DATA_KEY,this))}dispose(){kg.remove(this._element,this.constructor.DATA_KEY),de.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){RC(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return kg.get(Lo(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return mD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const xg=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>SC(t)).join(","):null},We={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Mo(t)&&Ac(t))},getSelectorFromElement(n){const e=xg(n);return e&&We.findOne(e)?e:null},getElementFromSelector(n){const e=xg(n);return e?We.findOne(e):null},getMultipleElementsFromSelector(n){const e=xg(n);return e?We.find(e):[]}},fp=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;de.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Mo(this))return;const o=We.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(o)[e]()})},gD="alert",yD="bs.alert",LC=`.${yD}`,vD=`close${LC}`,_D=`closed${LC}`,wD="fade",ED="show";let MC=class VC extends Ai{static get NAME(){return gD}close(){if(de.trigger(this._element,vD).defaultPrevented)return;this._element.classList.remove(ED);const t=this._element.classList.contains(wD);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),de.trigger(this._element,_D),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=VC.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};fp(MC,"close");ai(MC);const TD="button",ID="bs.button",SD=`.${ID}`,CD=".data-api",bD="active",K0='[data-bs-toggle="button"]',AD=`click${SD}${CD}`;let UC=class $C extends Ai{static get NAME(){return TD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(bD))}static jQueryInterface(e){return this.each(function(){const t=$C.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};de.on(document,AD,K0,n=>{n.preventDefault();const e=n.target.closest(K0);UC.getOrCreateInstance(e).toggle()});ai(UC);const RD="swipe",Rc=".bs.swipe",kD=`touchstart${Rc}`,ND=`touchmove${Rc}`,PD=`touchend${Rc}`,DD=`pointerdown${Rc}`,xD=`pointerup${Rc}`,OD="touch",LD="pen",MD="pointer-event",VD=40,UD={endCallback:null,leftCallback:null,rightCallback:null},$D={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Dh extends gd{constructor(e,t){super(),this._element=e,!(!e||!Dh.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return UD}static get DefaultType(){return $D}static get NAME(){return RD}dispose(){de.off(this._element,Rc)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Tr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=VD)return;const t=e/this._deltaX;this._deltaX=0,t&&Tr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(de.on(this._element,DD,e=>this._start(e)),de.on(this._element,xD,e=>this._end(e)),this._element.classList.add(MD)):(de.on(this._element,kD,e=>this._start(e)),de.on(this._element,ND,e=>this._move(e)),de.on(this._element,PD,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===LD||e.pointerType===OD)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const FD="carousel",jD="bs.carousel",qo=`.${jD}`,FC=".data-api",BD="ArrowLeft",HD="ArrowRight",zD=500,Eu="next",Ml="prev",Hl="left",mh="right",WD=`slide${qo}`,Og=`slid${qo}`,qD=`keydown${qo}`,KD=`mouseenter${qo}`,GD=`mouseleave${qo}`,QD=`dragstart${qo}`,YD=`load${qo}${FC}`,XD=`click${qo}${FC}`,jC="carousel",Qf="active",JD="slide",ZD="carousel-item-end",ex="carousel-item-start",tx="carousel-item-next",nx="carousel-item-prev",BC=".active",HC=".carousel-item",rx=BC+HC,ix=".carousel-item img",sx=".carousel-indicators",ox="[data-bs-slide], [data-bs-slide-to]",ax='[data-bs-ride="carousel"]',lx={[BD]:mh,[HD]:Hl},cx={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ux={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let jv=class zC extends Ai{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=We.findOne(sx,this._element),this._addEventListeners(),this._config.ride===jC&&this.cycle()}static get Default(){return cx}static get DefaultType(){return ux}static get NAME(){return FD}next(){this._slide(Eu)}nextWhenVisible(){!document.hidden&&Ac(this._element)&&this.next()}prev(){this._slide(Ml)}pause(){this._isSliding&&CC(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){de.one(this._element,Og,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){de.one(this._element,Og,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Eu:Ml;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&de.on(this._element,qD,e=>this._keydown(e)),this._config.pause==="hover"&&(de.on(this._element,KD,()=>this.pause()),de.on(this._element,GD,()=>this._maybeEnableCycle())),this._config.touch&&Dh.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of We.find(ix,this._element))de.on(r,QD,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Hl)),rightCallback:()=>this._slide(this._directionToOrder(mh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),zD+this._config.interval))}};this._swipeHelper=new Dh(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=lx[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=We.findOne(BC,this._indicatorsElement);t.classList.remove(Qf),t.removeAttribute("aria-current");const r=We.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Qf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Eu,o=t||$v(this._getItems(),r,i,this._config.wrap);if(o===r)return;const l=this._getItemIndex(o),u=C=>de.trigger(this._element,C,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(u(WD).defaultPrevented||!r||!o)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=o;const m=i?ex:ZD,y=i?tx:nx;o.classList.add(y),md(o),r.classList.add(m),o.classList.add(m);const T=()=>{o.classList.remove(m,y),o.classList.add(Qf),r.classList.remove(Qf,y,m),this._isSliding=!1,u(Og)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(JD)}_getActive(){return We.findOne(rx,this._element)}_getItems(){return We.find(HC,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ii()?e===Hl?Ml:Eu:e===Hl?Eu:Ml}_orderToDirection(e){return ii()?e===Ml?Hl:mh:e===Ml?mh:Hl}static jQueryInterface(e){return this.each(function(){const t=zC.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};de.on(document,XD,ox,function(n){const e=We.getElementFromSelector(this);if(!e||!e.classList.contains(jC))return;n.preventDefault();const t=jv.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Cs.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});de.on(window,YD,()=>{const n=We.find(ax);for(const e of n)jv.getOrCreateInstance(e)});ai(jv);const dx="collapse",fx="bs.collapse",yd=`.${fx}`,hx=".data-api",px=`show${yd}`,mx=`shown${yd}`,gx=`hide${yd}`,yx=`hidden${yd}`,vx=`click${yd}${hx}`,Lg="show",Ql="collapse",Yf="collapsing",_x="collapsed",wx=`:scope .${Ql} .${Ql}`,Ex="collapse-horizontal",Tx="width",Ix="height",Sx=".collapse.show, .collapse.collapsing",Iy='[data-bs-toggle="collapse"]',Cx={parent:null,toggle:!0},bx={parent:"(null|element)",toggle:"boolean"};let WC=class Sy extends Ai{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=We.find(Iy);for(const i of r){const o=We.getSelectorFromElement(i),l=We.find(o).filter(u=>u===this._element);o!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Cx}static get DefaultType(){return bx}static get NAME(){return dx}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Sx).filter(u=>u!==this._element).map(u=>Sy.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||de.trigger(this._element,px).defaultPrevented)return;for(const u of e)u.hide();const r=this._getDimension();this._element.classList.remove(Ql),this._element.classList.add(Yf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Yf),this._element.classList.add(Ql,Lg),this._element.style[r]="",de.trigger(this._element,mx)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||de.trigger(this._element,gx).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,md(this._element),this._element.classList.add(Yf),this._element.classList.remove(Ql,Lg);for(const i of this._triggerArray){const o=We.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Yf),this._element.classList.add(Ql),de.trigger(this._element,yx)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Lg)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Lo(e.parent),e}_getDimension(){return this._element.classList.contains(Ex)?Tx:Ix}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Iy);for(const t of e){const r=We.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=We.find(wx,this._config.parent);return We.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(_x,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Sy.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};de.on(document,vx,Iy,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of We.getMultipleElementsFromSelector(this))WC.getOrCreateInstance(e,{toggle:!1}).toggle()});ai(WC);const G0="dropdown",Ax="bs.dropdown",Wa=`.${Ax}`,Bv=".data-api",Rx="Escape",Q0="Tab",kx="ArrowUp",Y0="ArrowDown",Nx=2,Px=`hide${Wa}`,Dx=`hidden${Wa}`,xx=`show${Wa}`,Ox=`shown${Wa}`,qC=`click${Wa}${Bv}`,KC=`keydown${Wa}${Bv}`,Lx=`keyup${Wa}${Bv}`,zl="show",Mx="dropup",Vx="dropend",Ux="dropstart",$x="dropup-center",Fx="dropdown-center",Ca='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',jx=`${Ca}.${zl}`,gh=".dropdown-menu",Bx=".navbar",Hx=".navbar-nav",zx=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Wx=ii()?"top-end":"top-start",qx=ii()?"top-start":"top-end",Kx=ii()?"bottom-end":"bottom-start",Gx=ii()?"bottom-start":"bottom-end",Qx=ii()?"left-start":"right-start",Yx=ii()?"right-start":"left-start",Xx="top",Jx="bottom",Zx={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},eO={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let kc=class yh extends Ai{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=We.next(this._element,gh)[0]||We.prev(this._element,gh)[0]||We.findOne(gh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Zx}static get DefaultType(){return eO}static get NAME(){return G0}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Mo(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!de.trigger(this._element,xx,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Hx))for(const r of[].concat(...document.body.children))de.on(r,"mouseover",Ph);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zl),this._element.classList.add(zl),de.trigger(this._element,Ox,e)}}hide(){if(Mo(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!de.trigger(this._element,Px,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))de.off(r,"mouseover",Ph);this._popper&&this._popper.destroy(),this._menu.classList.remove(zl),this._element.classList.remove(zl),this._element.setAttribute("aria-expanded","false"),Cs.removeDataAttribute(this._menu,"popper"),de.trigger(this._element,Dx,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ss(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${G0.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof IC>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ss(this._config.reference)?e=Lo(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Uv(e,this._menu,t)}_isShown(){return this._menu.classList.contains(zl)}_getPlacement(){const e=this._parent;if(e.classList.contains(Vx))return Qx;if(e.classList.contains(Ux))return Yx;if(e.classList.contains($x))return Xx;if(e.classList.contains(Fx))return Jx;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Mx)?t?qx:Wx:t?Gx:Kx}_detectNavbar(){return this._element.closest(Bx)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Cs.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Tr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=We.find(zx,this._menu).filter(i=>Ac(i));r.length&&$v(r,t,e===Y0,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=yh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Nx||e.type==="keyup"&&e.key!==Q0)return;const t=We.find(jx);for(const r of t){const i=yh.getInstance(r);if(!i||i._config.autoClose===!1)continue;const o=e.composedPath(),l=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Q0||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:i._element};e.type==="click"&&(u.clickEvent=e),i._completeHide(u)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===Rx,i=[kx,Y0].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const o=this.matches(Ca)?this:We.prev(this,Ca)[0]||We.next(this,Ca)[0]||We.findOne(Ca,e.delegateTarget.parentNode),l=yh.getOrCreateInstance(o);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),o.focus())}};de.on(document,KC,Ca,kc.dataApiKeydownHandler);de.on(document,KC,gh,kc.dataApiKeydownHandler);de.on(document,qC,kc.clearMenus);de.on(document,Lx,kc.clearMenus);de.on(document,qC,Ca,function(n){n.preventDefault(),kc.getOrCreateInstance(this).toggle()});ai(kc);const GC="backdrop",tO="fade",X0="show",J0=`mousedown.bs.${GC}`,nO={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rO={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class QC extends gd{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return nO}static get DefaultType(){return rO}static get NAME(){return GC}show(e){if(!this._config.isVisible){Tr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&md(t),t.classList.add(X0),this._emulateAnimation(()=>{Tr(e)})}hide(e){if(!this._config.isVisible){Tr(e);return}this._getElement().classList.remove(X0),this._emulateAnimation(()=>{this.dispose(),Tr(e)})}dispose(){this._isAppended&&(de.off(this._element,J0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(tO),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Lo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),de.on(e,J0,()=>{Tr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){RC(e,this._getElement(),this._config.isAnimated)}}const iO="focustrap",sO="bs.focustrap",xh=`.${sO}`,oO=`focusin${xh}`,aO=`keydown.tab${xh}`,lO="Tab",cO="forward",Z0="backward",uO={autofocus:!0,trapElement:null},dO={autofocus:"boolean",trapElement:"element"};class YC extends gd{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return uO}static get DefaultType(){return dO}static get NAME(){return iO}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),de.off(document,xh),de.on(document,oO,e=>this._handleFocusin(e)),de.on(document,aO,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,de.off(document,xh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=We.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===Z0?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===lO&&(this._lastTabNavDirection=e.shiftKey?Z0:cO)}}const eT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",tT=".sticky-top",Xf="padding-right",nT="margin-right";class Cy{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Xf,t=>t+e),this._setElementAttributes(eT,Xf,t=>t+e),this._setElementAttributes(tT,nT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Xf),this._resetElementAttributes(eT,Xf),this._resetElementAttributes(tT,nT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),o=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const u=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&Cs.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const o=Cs.getDataAttribute(i,t);if(o===null){i.style.removeProperty(t);return}Cs.removeDataAttribute(i,t),i.style.setProperty(t,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Ss(e)){t(e);return}for(const r of We.find(e,this._element))t(r)}}const fO="modal",hO="bs.modal",si=`.${hO}`,pO=".data-api",mO="Escape",gO=`hide${si}`,yO=`hidePrevented${si}`,XC=`hidden${si}`,JC=`show${si}`,vO=`shown${si}`,_O=`resize${si}`,wO=`click.dismiss${si}`,EO=`mousedown.dismiss${si}`,TO=`keydown.dismiss${si}`,IO=`click${si}${pO}`,rT="modal-open",SO="fade",iT="show",Mg="modal-static",CO=".modal.show",bO=".modal-dialog",AO=".modal-body",RO='[data-bs-toggle="modal"]',kO={backdrop:!0,focus:!0,keyboard:!0},NO={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Oh=class ZC extends Ai{constructor(e,t){super(e,t),this._dialog=We.findOne(bO,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cy,this._addEventListeners()}static get Default(){return kO}static get DefaultType(){return NO}static get NAME(){return fO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||de.trigger(this._element,JC,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(rT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||de.trigger(this._element,gO).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(iT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){de.off(window,si),de.off(this._dialog,si),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new QC({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new YC({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=We.findOne(AO,this._dialog);t&&(t.scrollTop=0),md(this._element),this._element.classList.add(iT);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,de.trigger(this._element,vO,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){de.on(this._element,TO,e=>{if(e.key===mO){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),de.on(window,_O,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),de.on(this._element,EO,e=>{de.one(this._element,wO,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(rT),this._resetAdjustments(),this._scrollBar.reset(),de.trigger(this._element,XC)})}_isAnimated(){return this._element.classList.contains(SO)}_triggerBackdropTransition(){if(de.trigger(this._element,yO).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Mg)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Mg),this._queueCallback(()=>{this._element.classList.remove(Mg),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=ii()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=ii()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=ZC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};de.on(document,IO,RO,function(n){const e=We.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),de.one(e,JC,i=>{i.defaultPrevented||de.one(e,XC,()=>{Ac(this)&&this.focus()})});const t=We.findOne(CO);t&&Oh.getInstance(t).hide(),Oh.getOrCreateInstance(e).toggle(this)});fp(Oh);ai(Oh);const PO="offcanvas",DO="bs.offcanvas",Fs=`.${DO}`,eb=".data-api",xO=`load${Fs}${eb}`,OO="Escape",sT="show",oT="showing",aT="hiding",LO="offcanvas-backdrop",tb=".offcanvas.show",MO=`show${Fs}`,VO=`shown${Fs}`,UO=`hide${Fs}`,lT=`hidePrevented${Fs}`,nb=`hidden${Fs}`,$O=`resize${Fs}`,FO=`click${Fs}${eb}`,jO=`keydown.dismiss${Fs}`,BO='[data-bs-toggle="offcanvas"]',HO={backdrop:!0,keyboard:!0,scroll:!1},zO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let ac=class rb extends Ai{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return HO}static get DefaultType(){return zO}static get NAME(){return PO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||de.trigger(this._element,MO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Cy().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(oT);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(sT),this._element.classList.remove(oT),de.trigger(this._element,VO,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||de.trigger(this._element,UO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(aT),this._backdrop.hide();const t=()=>{this._element.classList.remove(sT,aT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Cy().reset(),de.trigger(this._element,nb)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){de.trigger(this._element,lT);return}this.hide()},t=!!this._config.backdrop;return new QC({className:LO,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new YC({trapElement:this._element})}_addEventListeners(){de.on(this._element,jO,e=>{if(e.key===OO){if(this._config.keyboard){this.hide();return}de.trigger(this._element,lT)}})}static jQueryInterface(e){return this.each(function(){const t=rb.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};de.on(document,FO,BO,function(n){const e=We.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Mo(this))return;de.one(e,nb,()=>{Ac(this)&&this.focus()});const t=We.findOne(tb);t&&t!==e&&ac.getInstance(t).hide(),ac.getOrCreateInstance(e).toggle(this)});de.on(window,xO,()=>{for(const n of We.find(tb))ac.getOrCreateInstance(n).show()});de.on(window,$O,()=>{for(const n of We.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&ac.getOrCreateInstance(n).hide()});fp(ac);ai(ac);const WO=/^aria-[\w-]*$/i,ib={"*":["class","dir","id","lang","role",WO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),KO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,GO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?qO.has(t)?!!KO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function QO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const l of o){const u=l.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){l.remove();continue}const f=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[u]||[]);for(const m of f)GO(m,p)||l.removeAttribute(m.nodeName)}return i.body.innerHTML}const YO="TemplateFactory",XO={allowList:ib,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},JO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ZO={entry:"(string|element|function|null)",selector:"(string|element)"};class eL extends gd{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return XO}static get DefaultType(){return JO}static get NAME(){return YO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,o]of Object.entries(this._config.content))this._setContent(e,o,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},ZO)}_setContent(e,t,r){const i=We.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Ss(t)){this._putElementInTemplate(Lo(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?QO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Tr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const tL="tooltip",nL=new Set(["sanitize","allowList","sanitizeFn"]),Vg="fade",rL="modal",Jf="show",iL=".tooltip-inner",cT=`.${rL}`,uT="hide.bs.modal",Tu="hover",Ug="focus",sL="click",oL="manual",aL="hide",lL="hidden",cL="show",uL="shown",dL="inserted",fL="click",hL="focusin",pL="focusout",mL="mouseenter",gL="mouseleave",yL={AUTO:"auto",TOP:"top",RIGHT:ii()?"left":"right",BOTTOM:"bottom",LEFT:ii()?"right":"left"},vL={allowList:ib,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},_L={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let hp=class sb extends Ai{constructor(e,t){if(typeof IC>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return vL}static get DefaultType(){return _L}static get NAME(){return tL}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),de.off(this._element.closest(cT),uT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=de.trigger(this._element,this.constructor.eventName(cL)),r=(bC(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),de.trigger(this._element,this.constructor.eventName(dL))),this._popper=this._createPopper(i),i.classList.add(Jf),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))de.on(u,"mouseover",Ph);const l=()=>{de.trigger(this._element,this.constructor.eventName(uL)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||de.trigger(this._element,this.constructor.eventName(aL)).defaultPrevented)return;if(this._getTipElement().classList.remove(Jf),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))de.off(i,"mouseover",Ph);this._activeTrigger[sL]=!1,this._activeTrigger[Ug]=!1,this._activeTrigger[Tu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),de.trigger(this._element,this.constructor.eventName(lL)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Vg,Jf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=sD(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Vg),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new eL({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[iL]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Vg)}_isShown(){return this.tip&&this.tip.classList.contains(Jf)}_createPopper(e){const t=Tr(this._config.placement,[this,e,this._element]),r=yL[t.toUpperCase()];return Uv(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Tr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...Tr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")de.on(this._element,this.constructor.eventName(fL),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==oL){const r=t===Tu?this.constructor.eventName(mL):this.constructor.eventName(hL),i=t===Tu?this.constructor.eventName(gL):this.constructor.eventName(pL);de.on(this._element,r,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusin"?Ug:Tu]=!0,l._enter()}),de.on(this._element,i,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusout"?Ug:Tu]=l._element.contains(o.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},de.on(this._element.closest(cT),uT,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Cs.getDataAttributes(this._element);for(const r of Object.keys(t))nL.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Lo(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=sb.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ai(hp);const wL="popover",EL=".popover-header",TL=".popover-body",IL={...hp.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},SL={...hp.DefaultType,content:"(null|string|element|function)"};let CL=class ob extends hp{static get Default(){return IL}static get DefaultType(){return SL}static get NAME(){return wL}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[EL]:this._getTitle(),[TL]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=ob.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ai(CL);const bL="scrollspy",AL="bs.scrollspy",Hv=`.${AL}`,RL=".data-api",kL=`activate${Hv}`,dT=`click${Hv}`,NL=`load${Hv}${RL}`,PL="dropdown-item",Vl="active",DL='[data-bs-spy="scroll"]',$g="[href]",xL=".nav, .list-group",fT=".nav-link",OL=".nav-item",LL=".list-group-item",ML=`${fT}, ${OL} > ${fT}, ${LL}`,VL=".dropdown",UL=".dropdown-toggle",$L={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},FL={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class pp extends Ai{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $L}static get DefaultType(){return FL}static get NAME(){return bL}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Lo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(de.off(this._config.target,dT),de.on(this._config.target,dT,$g,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const u=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&u){if(r(l),!i)return;continue}!o&&!u&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=We.find($g,this._config.target);for(const t of e){if(!t.hash||Mo(t))continue;const r=We.findOne(decodeURI(t.hash),this._element);Ac(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Vl),this._activateParents(e),de.trigger(this._element,kL,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(PL)){We.findOne(UL,e.closest(VL)).classList.add(Vl);return}for(const t of We.parents(e,xL))for(const r of We.prev(t,ML))r.classList.add(Vl)}_clearActiveClass(e){e.classList.remove(Vl);const t=We.find(`${$g}.${Vl}`,e);for(const r of t)r.classList.remove(Vl)}static jQueryInterface(e){return this.each(function(){const t=pp.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(window,NL,()=>{for(const n of We.find(DL))pp.getOrCreateInstance(n)});ai(pp);const jL="tab",BL="bs.tab",qa=`.${BL}`,HL=`hide${qa}`,zL=`hidden${qa}`,WL=`show${qa}`,qL=`shown${qa}`,KL=`click${qa}`,GL=`keydown${qa}`,QL=`load${qa}`,YL="ArrowLeft",hT="ArrowRight",XL="ArrowUp",pT="ArrowDown",Fg="Home",mT="End",ba="active",gT="fade",jg="show",JL="dropdown",ab=".dropdown-toggle",ZL=".dropdown-menu",Bg=`:not(${ab})`,eM='.list-group, .nav, [role="tablist"]',tM=".nav-item, .list-group-item",nM=`.nav-link${Bg}, .list-group-item${Bg}, [role="tab"]${Bg}`,lb='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Hg=`${nM}, ${lb}`,rM=`.${ba}[data-bs-toggle="tab"], .${ba}[data-bs-toggle="pill"], .${ba}[data-bs-toggle="list"]`;class lc extends Ai{constructor(e){super(e),this._parent=this._element.closest(eM),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),de.on(this._element,GL,t=>this._keydown(t)))}static get NAME(){return jL}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?de.trigger(t,HL,{relatedTarget:e}):null;de.trigger(e,WL,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ba),this._activate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(jg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),de.trigger(e,qL,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(gT))}_deactivate(e,t){if(!e)return;e.classList.remove(ba),e.blur(),this._deactivate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(jg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),de.trigger(e,zL,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(gT))}_keydown(e){if(![YL,hT,XL,pT,Fg,mT].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!Mo(i));let r;if([Fg,mT].includes(e.key))r=t[e.key===Fg?0:t.length-1];else{const i=[hT,pT].includes(e.key);r=$v(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),lc.getOrCreateInstance(r).show())}_getChildren(){return We.find(Hg,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=We.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(JL))return;const i=(o,l)=>{const u=We.findOne(o,r);u&&u.classList.toggle(l,t)};i(ab,ba),i(ZL,jg),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ba)}_getInnerElement(e){return e.matches(Hg)?e:We.findOne(Hg,e)}_getOuterElement(e){return e.closest(tM)||e}static jQueryInterface(e){return this.each(function(){const t=lc.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(document,KL,lb,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Mo(this)&&lc.getOrCreateInstance(this).show()});de.on(window,QL,()=>{for(const n of We.find(rM))lc.getOrCreateInstance(n)});ai(lc);const iM="toast",sM="bs.toast",Ko=`.${sM}`,oM=`mouseover${Ko}`,aM=`mouseout${Ko}`,lM=`focusin${Ko}`,cM=`focusout${Ko}`,uM=`hide${Ko}`,dM=`hidden${Ko}`,fM=`show${Ko}`,hM=`shown${Ko}`,pM="fade",yT="hide",Zf="show",eh="showing",mM={animation:"boolean",autohide:"boolean",delay:"number"},gM={animation:!0,autohide:!0,delay:5e3};class mp extends Ai{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return gM}static get DefaultType(){return mM}static get NAME(){return iM}show(){if(de.trigger(this._element,fM).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(pM);const t=()=>{this._element.classList.remove(eh),de.trigger(this._element,hM),this._maybeScheduleHide()};this._element.classList.remove(yT),md(this._element),this._element.classList.add(Zf,eh),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||de.trigger(this._element,uM).defaultPrevented)return;const t=()=>{this._element.classList.add(yT),this._element.classList.remove(eh,Zf),de.trigger(this._element,dM)};this._element.classList.add(eh),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Zf),super.dispose()}isShown(){return this._element.classList.contains(Zf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){de.on(this._element,oM,e=>this._onInteraction(e,!0)),de.on(this._element,aM,e=>this._onInteraction(e,!1)),de.on(this._element,lM,e=>this._onInteraction(e,!0)),de.on(this._element,cM,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=mp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}fp(mp);ai(mp);var zg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vT;function yM(){return vT||(vT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(zg)),zg.exports}var vM=yM();const ye=fd(vM);function by(){return by=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},by.apply(null,arguments)}function cb(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function _T(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function _M(n){var e=wM(n,"string");return typeof e=="symbol"?e:String(e)}function wM(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ub(n,e,t){var r=E.useRef(n!==void 0),i=E.useState(e),o=i[0],l=i[1],u=n!==void 0,f=r.current;return r.current=u,!u&&f&&o!==e&&l(e),[u?n:o,E.useCallback(function(p){for(var m=arguments.length,y=new Array(m>1?m-1:0),T=1;T<m;T++)y[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(y)),l(p)},[t])]}function Ka(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[_T(r)],u=o[r],f=cb(o,[_T(r),r].map(_M)),p=e[r],m=ub(u,l,n[p]),y=m[0],T=m[1];return by({},f,(i={},i[r]=y,i[p]=T,i))},n)}function Ay(n,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ay(n,e)}function EM(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ay(n,e)}var Wg={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function TM(){if(wT)return Iu;wT=1;var n=Iv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,p){var m,y={},T=null,C=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(C=f.ref);for(m in f)r.call(f,m)&&!o.hasOwnProperty(m)&&(y[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:u,key:T,ref:C,props:y,_owner:i.current}}return Iu.Fragment=t,Iu.jsx=l,Iu.jsxs=l,Iu}var ET;function IM(){return ET||(ET=1,Wg.exports=TM()),Wg.exports}var zv=IM();const w=zv.jsx,X=zv.jsxs,zt=zv.Fragment,SM=["xxl","xl","lg","md","sm","xs"],CM="xs",vd=E.createContext({prefixes:{},breakpoints:SM,minBreakpoint:CM}),{Consumer:yz,Provider:vz}=vd;function Ee(n,e){const{prefixes:t}=E.useContext(vd);return n||t[e]||e}function db(){const{breakpoints:n}=E.useContext(vd);return n}function fb(){const{minBreakpoint:n}=E.useContext(vd);return n}function _d(){const{dir:n}=E.useContext(vd);return n==="rtl"}function Nc(n){return n&&n.ownerDocument||document}function bM(n){var e=Nc(n);return e&&e.defaultView||window}function AM(n,e){return bM(n).getComputedStyle(n,e)}var RM=/([A-Z])/g;function kM(n){return n.replace(RM,"-$1").toLowerCase()}var NM=/^ms-/;function th(n){return kM(n).replace(NM,"-ms-")}var PM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function DM(n){return!!(n&&PM.test(n))}function bs(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(th(e))||AM(n).getPropertyValue(th(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(th(i)):DM(i)?r+=i+"("+o+") ":t+=th(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var qg={exports:{}},Kg,TT;function xM(){if(TT)return Kg;TT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kg=n,Kg}var Gg,IT;function OM(){if(IT)return Gg;IT=1;var n=xM();function e(){}function t(){}return t.resetWarningCache=e,Gg=function(){function r(l,u,f,p,m,y){if(y!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Gg}var ST;function LM(){return ST||(ST=1,qg.exports=OM()()),qg.exports}var MM=LM();const ir=fd(MM);var hb=rC();const Co=fd(hb),VM=nC({__proto__:null,default:Co},[hb]),CT={disabled:!1},pb=nt.createContext(null);var UM=function(e){return e.scrollTop},Pu="unmounted",wo="exited",Ii="entering",_s="entered",Qu="exiting",js=function(n){EM(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=i,u=l&&!l.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?u?(f=wo,o.appearStatus=Ii):f=_s:r.unmountOnExit||r.mountOnEnter?f=Pu:f=wo,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Pu?{status:wo}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ii&&l!==_s&&(o=Ii):(l===Ii||l===_s)&&(o=Qu)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,u;return o=l=u=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:u}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ii){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Co.findDOMNode(this);l&&UM(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wo&&this.setState({status:Pu})},t.performEnter=function(i){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:i,f=this.props.nodeRef?[u]:[Co.findDOMNode(this),u],p=f[0],m=f[1],y=this.getTimeouts(),T=u?y.appear:y.enter;if(!i&&!l||CT.disabled){this.safeSetState({status:_s},function(){o.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:Ii},function(){o.props.onEntering(p,m),o.onTransitionEnd(T,function(){o.safeSetState({status:_s},function(){o.props.onEntered(p,m)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Co.findDOMNode(this);if(!o||CT.disabled){this.safeSetState({status:wo},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Qu},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:wo},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Co.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],m=f[1];this.props.addEndListener(p,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Pu)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=cb(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nt.createElement(pb.Provider,{value:null},typeof l=="function"?l(i,u):nt.cloneElement(nt.Children.only(l),u))},e}(nt.Component);js.contextType=pb;js.propTypes={};function Ul(){}js.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ul,onEntering:Ul,onEntered:Ul,onExit:Ul,onExiting:Ul,onExited:Ul};js.UNMOUNTED=Pu;js.EXITED=wo;js.ENTERING=Ii;js.ENTERED=_s;js.EXITING=Qu;function mb(n){return n.code==="Escape"||n.keyCode===27}function $M(){const n=E.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Ga(n){if(!n||typeof n=="function")return null;const{major:e}=$M();return e>=19?n.props.ref:n.ref}const Pc=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ry=!1,ky=!1;try{var Qg={get passive(){return Ry=!0},get once(){return ky=Ry=!0}};Pc&&(window.addEventListener("test",Qg,Qg),window.removeEventListener("test",Qg,!0))}catch{}function Wv(n,e,t,r){if(r&&typeof r!="boolean"&&!ky){var i=r.once,o=r.capture,l=t;!ky&&i&&(l=t.__once||function u(f){this.removeEventListener(e,u,o),t.call(this,f)},t.__once=l),n.addEventListener(e,l,Ry?r:o)}n.addEventListener(e,t,r)}function Ny(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function ws(n,e,t,r){return Wv(n,e,t,r),function(){Ny(n,e,t,r)}}function FM(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function jM(n){var e=bs(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function BM(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||FM(n,"transitionend",!0)},e+t),o=ws(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function gb(n,e,t,r){t==null&&(t=jM(n)||0);var i=BM(n,t,r),o=ws(n,"transitionend",e);return function(){i(),o()}}function bT(n,e){const t=bs(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function gp(n,e){const t=bT(n,"transitionDuration"),r=bT(n,"transitionDelay"),i=gb(n,o=>{o.target===n&&(i(),e(o))},t+r)}function Su(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function qv(n){n.offsetHeight}const AT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function HM(n,e){const t=AT(n),r=AT(e);return i=>{t&&t(i),r&&r(i)}}function Dc(n,e){return E.useMemo(()=>HM(n,e),[n,e])}function Lh(n){return n&&"setState"in n?Co.findDOMNode(n):n??null}const yp=nt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:o,addEndListener:l,children:u,childRef:f,...p},m)=>{const y=E.useRef(null),T=Dc(y,f),C=G=>{T(Lh(G))},k=G=>S=>{G&&y.current&&G(y.current,S)},N=E.useCallback(k(n),[n]),R=E.useCallback(k(e),[e]),x=E.useCallback(k(t),[t]),L=E.useCallback(k(r),[r]),V=E.useCallback(k(i),[i]),j=E.useCallback(k(o),[o]),q=E.useCallback(k(l),[l]);return w(js,{ref:m,...p,onEnter:N,onEntered:x,onEntering:R,onExit:L,onExited:j,onExiting:V,addEndListener:q,nodeRef:y,children:typeof u=="function"?(G,S)=>u(G,{...S,ref:C}):nt.cloneElement(u,{ref:C})})}),zM={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function WM(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=zM[n];return r+parseInt(bs(e,i[0]),10)+parseInt(bs(e,i[1]),10)}const qM={[wo]:"collapse",[Qu]:"collapsing",[Ii]:"collapsing",[_s]:"collapse show"},yb=nt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:o,children:l,dimension:u="height",in:f=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:T=!1,getDimensionValue:C=WM,...k},N)=>{const R=typeof u=="function"?u():u,x=E.useMemo(()=>Su(G=>{G.style[R]="0"},n),[R,n]),L=E.useMemo(()=>Su(G=>{const S=`scroll${R[0].toUpperCase()}${R.slice(1)}`;G.style[R]=`${G[S]}px`},e),[R,e]),V=E.useMemo(()=>Su(G=>{G.style[R]=null},t),[R,t]),j=E.useMemo(()=>Su(G=>{G.style[R]=`${C(R,G)}px`,qv(G)},r),[r,C,R]),q=E.useMemo(()=>Su(G=>{G.style[R]=null},i),[R,i]);return w(yp,{ref:N,addEndListener:gp,...k,"aria-expanded":k.role?f:null,onEnter:x,onEntering:L,onEntered:V,onExit:j,onExiting:q,childRef:Ga(l),in:f,timeout:p,mountOnEnter:m,unmountOnExit:y,appear:T,children:(G,S)=>nt.cloneElement(l,{...S,className:ye(o,l.props.className,qM[G],R==="width"&&"collapse-horizontal")})})});function vb(n,e){return Array.isArray(n)?n.includes(e):n===e}const wd=E.createContext({});wd.displayName="AccordionContext";const Kv=E.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...o},l)=>{const{activeEventKey:u}=E.useContext(wd);return e=Ee(e,"accordion-collapse"),w(yb,{ref:l,in:vb(u,i),...o,className:ye(t,e),children:w(n,{children:E.Children.only(r)})})});Kv.displayName="AccordionCollapse";const vp=E.createContext({eventKey:""});vp.displayName="AccordionItemContext";const _b=E.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:f,...p},m)=>{e=Ee(e,"accordion-body");const{eventKey:y}=E.useContext(vp);return w(Kv,{eventKey:y,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:f,children:w(n,{ref:m,...p,className:ye(t,e)})})});_b.displayName="AccordionBody";function KM(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=E.useContext(wd);return o=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(u=>u!==n):l=[...t,n]:l=[n]),r==null||r(l,o),e==null||e(o)}}const Gv=E.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},o)=>{e=Ee(e,"accordion-button");const{eventKey:l}=E.useContext(vp),u=KM(l,r),{activeEventKey:f}=E.useContext(wd);return n==="button"&&(i.type="button"),w(n,{ref:o,onClick:u,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:ye(t,e,!vb(f,l)&&"collapsed")})});Gv.displayName="AccordionButton";const wb=E.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:o,...l},u)=>(t=Ee(t,"accordion-header"),w(n,{ref:u,...l,className:ye(r,t),children:w(Gv,{onClick:o,"aria-controls":e,children:i})})));wb.displayName="AccordionHeader";const Eb=E.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},o)=>{e=Ee(e,"accordion-item");const l=E.useMemo(()=>({eventKey:r}),[r]);return w(vp.Provider,{value:l,children:w(n,{ref:o,...i,className:ye(t,e)})})});Eb.displayName="AccordionItem";const Tb=E.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:o,onSelect:l,flush:u,alwaysOpen:f,...p}=Ka(n,{activeKey:"onSelect"}),m=Ee(i,"accordion"),y=E.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return w(wd.Provider,{value:y,children:w(t,{ref:e,...p,className:ye(o,m,u&&`${m}-flush`)})})});Tb.displayName="Accordion";const bo=Object.assign(Tb,{Button:Gv,Collapse:Kv,Item:Eb,Header:wb,Body:_b});function Ib(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n},[n]),e}function oi(n){const e=Ib(n);return E.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Ed=n=>E.forwardRef((e,t)=>w("div",{...e,ref:t,className:ye(e.className,n)})),Sb=Ed("h4");Sb.displayName="DivStyledAsH4";const Cb=E.forwardRef(({className:n,bsPrefix:e,as:t=Sb,...r},i)=>(e=Ee(e,"alert-heading"),w(t,{ref:i,className:ye(n,e),...r})));Cb.displayName="AlertHeading";function Py(){return E.useState(null)}function GM(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n},[n]),e}function On(n){const e=GM(n);return E.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function QM(n,e,t,r=!1){const i=On(t);E.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}function bb(){const n=E.useRef(!0),e=E.useRef(()=>n.current);return E.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Ab(n){const e=E.useRef(null);return E.useEffect(()=>{e.current=n}),e.current}const YM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",XM=typeof document<"u",RT=XM||YM?E.useLayoutEffect:E.useEffect,JM=["as","disabled"];function ZM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function e2(n){return!n||n.trim()==="#"}function Qv({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:l,tabIndex:u=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const m=T=>{if((e||n==="a"&&e2(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},y=T=>{T.key===" "&&(T.preventDefault(),m(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:m,onKeyDown:y},p]}const Yv=E.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=ZM(n,JM);const[o,{tagName:l}]=Qv(Object.assign({tagName:t,disabled:r},i));return w(l,Object.assign({},i,o,{ref:e}))});Yv.displayName="Button";const t2=["onKeyDown"];function n2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function r2(n){return!n||n.trim()==="#"}const cc=E.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=n2(n,t2);const[i]=Qv(Object.assign({tagName:"a"},r)),o=On(l=>{i.onKeyDown(l),t==null||t(l)});return r2(r.href)||r.role==="button"?w("a",Object.assign({ref:e},r,i,{onKeyDown:o})):w("a",Object.assign({ref:e},r,{onKeyDown:t}))});cc.displayName="Anchor";const Rb=E.forwardRef(({className:n,bsPrefix:e,as:t=cc,...r},i)=>(e=Ee(e,"alert-link"),w(t,{ref:i,className:ye(n,e),...r})));Rb.displayName="AlertLink";const i2={[Ii]:"show",[_s]:"show"},Vo=E.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},u=E.useCallback((f,p)=>{qv(f),r==null||r(f,p)},[r]);return w(yp,{ref:o,addEndListener:gp,...l,onEnter:u,childRef:Ga(e),children:(f,p)=>E.cloneElement(e,{...p,className:ye("fade",n,e.props.className,i2[f],t[f])})})});Vo.displayName="Fade";const s2={"aria-label":ir.string,onClick:ir.func,variant:ir.oneOf(["white"])},xc=E.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>w("button",{ref:i,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));xc.displayName="CloseButton";xc.propTypes=s2;const kb=E.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:o,className:l,children:u,variant:f="primary",onClose:p,dismissible:m,transition:y=Vo,...T}=Ka(n,{show:"onClose"}),C=Ee(t,"alert"),k=oi(x=>{p&&p(!1,x)}),N=y===!0?Vo:y,R=X("div",{role:"alert",...N?void 0:T,ref:e,className:ye(l,C,f&&`${C}-${f}`,m&&`${C}-dismissible`),children:[m&&w(xc,{onClick:k,"aria-label":i,variant:o}),u]});return N?w(N,{unmountOnExit:!0,...T,ref:void 0,in:r,children:R}):r?R:null});kb.displayName="Alert";const uc=Object.assign(kb,{Link:Rb,Heading:Cb}),nn=E.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:l,...u},f)=>{const p=Ee(e,"btn"),[m,{tagName:y}]=Qv({tagName:n,disabled:o,...u});return w(y,{...m,...u,ref:f,disabled:o,className:ye(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,u.href&&o&&"disabled")})});nn.displayName="Button";const Xv=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-body"),w(t,{ref:i,className:ye(n,e),...r})));Xv.displayName="CardBody";const Nb=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-footer"),w(t,{ref:i,className:ye(n,e),...r})));Nb.displayName="CardFooter";const Jv=E.createContext(null);Jv.displayName="CardHeaderContext";const Pb=E.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const o=Ee(n,"card-header"),l=E.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return w(Jv.Provider,{value:l,children:w(t,{ref:i,...r,className:ye(e,o)})})});Pb.displayName="CardHeader";const Db=E.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},o)=>{const l=Ee(n,"card-img");return w(r,{ref:o,className:ye(t?`${l}-${t}`:l,e),...i})});Db.displayName="CardImg";const xb=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-img-overlay"),w(t,{ref:i,className:ye(n,e),...r})));xb.displayName="CardImgOverlay";const Ob=E.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=Ee(e,"card-link"),w(t,{ref:i,className:ye(n,e),...r})));Ob.displayName="CardLink";const o2=Ed("h6"),Lb=E.forwardRef(({className:n,bsPrefix:e,as:t=o2,...r},i)=>(e=Ee(e,"card-subtitle"),w(t,{ref:i,className:ye(n,e),...r})));Lb.displayName="CardSubtitle";const Mb=E.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=Ee(e,"card-text"),w(t,{ref:i,className:ye(n,e),...r})));Mb.displayName="CardText";const a2=Ed("h5"),Vb=E.forwardRef(({className:n,bsPrefix:e,as:t=a2,...r},i)=>(e=Ee(e,"card-title"),w(t,{ref:i,className:ye(n,e),...r})));Vb.displayName="CardTitle";const Ub=E.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:o=!1,children:l,as:u="div",...f},p)=>{const m=Ee(n,"card");return w(u,{ref:p,...f,className:ye(e,m,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:o?w(Xv,{children:l}):l})});Ub.displayName="Card";const ys=Object.assign(Ub,{Img:Db,Title:Vb,Subtitle:Lb,Body:Xv,Link:Ob,Text:Mb,Header:Pb,Footer:Nb,ImgOverlay:xb});function l2(n,e){const t=E.useRef(!0);E.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function c2(){const n=E.useRef(!0),e=E.useRef(()=>n.current);return E.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function u2(n){const e=E.useRef(n);return e.current=n,e}function $b(n){const e=u2(n);E.useEffect(()=>()=>e.current(),[])}const Dy=2**31-1;function Fb(n,e,t){const r=t-Date.now();n.current=r<=Dy?setTimeout(e,r):setTimeout(()=>Fb(n,e,t),Dy)}function jb(){const n=c2(),e=E.useRef();return $b(()=>clearTimeout(e.current)),E.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,o=0){n()&&(t(),o<=Dy?e.current=setTimeout(i,o):Fb(e,i,Date.now()+o))}return{set:r,clear:t,handleRef:e}},[])}const Bb=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"carousel-caption"),w(t,{ref:i,className:ye(n,e),...r})));Bb.displayName="CarouselCaption";const Hb=E.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},i)=>{const o=ye(t,Ee(e,"carousel-item"));return w(n,{ref:i,...r,className:o})});Hb.displayName="CarouselItem";function kT(n,e){let t=0;return E.Children.map(n,r=>E.isValidElement(r)?e(r,t++):r)}function d2(n,e){let t=0;E.Children.forEach(n,r=>{E.isValidElement(r)&&e(r,t++)})}function f2(n,e){return E.Children.toArray(n).some(t=>E.isValidElement(t)&&t.type===e)}const h2=40;function p2(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const zb=E.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:i,slide:o=!0,fade:l=!1,controls:u=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:m,onSelect:y,onSlide:T,onSlid:C,interval:k=5e3,keyboard:N=!0,onKeyDown:R,pause:x="hover",onMouseOver:L,onMouseOut:V,wrap:j=!0,touch:q=!0,onTouchStart:G,onTouchMove:S,onTouchEnd:b,prevIcon:P=w("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:M="Previous",nextIcon:U=w("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:F="Next",variant:O,className:we,children:Ne,...je}=Ka({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Se=Ee(i,"carousel"),re=_d(),me=E.useRef(null),[ce,z]=E.useState("next"),[te,pe]=E.useState(!1),[ve,Ie]=E.useState(!1),[Ae,Ge]=E.useState(m||0);E.useEffect(()=>{!ve&&m!==Ae&&(me.current?z(me.current):z((m||0)>Ae?"next":"prev"),o&&Ie(!0),Ge(m||0))},[m,ve,Ae,o]),E.useEffect(()=>{me.current&&(me.current=null)});let Be=0,ot;d2(Ne,(ze,at)=>{++Be,at===m&&(ot=ze.props.interval)});const It=Ib(ot),bt=E.useCallback(ze=>{if(ve)return;let at=Ae-1;if(at<0){if(!j)return;at=Be-1}me.current="prev",y==null||y(at,ze)},[ve,Ae,y,j,Be]),st=oi(ze=>{if(ve)return;let at=Ae+1;if(at>=Be){if(!j)return;at=0}me.current="next",y==null||y(at,ze)}),Dt=E.useRef();E.useImperativeHandle(t,()=>({element:Dt.current,prev:bt,next:st}));const Xt=oi(()=>{!document.hidden&&p2(Dt.current)&&(re?bt():st())}),it=ce==="next"?"start":"end";l2(()=>{o||(T==null||T(Ae,it),C==null||C(Ae,it))},[Ae]);const Wt=`${Se}-item-${ce}`,_n=`${Se}-item-${it}`,Br=E.useCallback(ze=>{qv(ze),T==null||T(Ae,it)},[T,Ae,it]),Xn=E.useCallback(()=>{Ie(!1),C==null||C(Ae,it)},[C,Ae,it]),qt=E.useCallback(ze=>{if(N&&!/input|textarea/i.test(ze.target.tagName))switch(ze.key){case"ArrowLeft":ze.preventDefault(),re?st(ze):bt(ze);return;case"ArrowRight":ze.preventDefault(),re?bt(ze):st(ze);return}R==null||R(ze)},[N,R,bt,st,re]),sn=E.useCallback(ze=>{x==="hover"&&pe(!0),L==null||L(ze)},[x,L]),lr=E.useCallback(ze=>{pe(!1),V==null||V(ze)},[V]),Un=E.useRef(0),Lt=E.useRef(0),hn=jb(),$e=E.useCallback(ze=>{Un.current=ze.touches[0].clientX,Lt.current=0,x==="hover"&&pe(!0),G==null||G(ze)},[x,G]),yt=E.useCallback(ze=>{ze.touches&&ze.touches.length>1?Lt.current=0:Lt.current=ze.touches[0].clientX-Un.current,S==null||S(ze)},[S]),Mt=E.useCallback(ze=>{if(q){const at=Lt.current;Math.abs(at)>h2&&(at>0?bt(ze):st(ze))}x==="hover"&&hn.set(()=>{pe(!1)},k||void 0),b==null||b(ze)},[q,x,bt,st,hn,k,b]),wn=k!=null&&!te&&!ve,Jn=E.useRef();E.useEffect(()=>{var ze,at;if(!wn)return;const En=re?bt:st;return Jn.current=window.setInterval(document.visibilityState?Xt:En,(ze=(at=It.current)!=null?at:k)!=null?ze:void 0),()=>{Jn.current!==null&&clearInterval(Jn.current)}},[wn,bt,st,It,k,Xt,re]);const Zn=E.useMemo(()=>f&&Array.from({length:Be},(ze,at)=>En=>{y==null||y(at,En)}),[f,Be,y]);return X(r,{ref:Dt,...je,onKeyDown:qt,onMouseOver:sn,onMouseOut:lr,onTouchStart:$e,onTouchMove:yt,onTouchEnd:Mt,className:ye(we,Se,o&&"slide",l&&`${Se}-fade`,O&&`${Se}-${O}`),children:[f&&w("div",{className:`${Se}-indicators`,children:kT(Ne,(ze,at)=>w("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[at]:`Slide ${at+1}`,className:at===Ae?"active":void 0,onClick:Zn?Zn[at]:void 0,"aria-current":at===Ae},at))}),w("div",{className:`${Se}-inner`,children:kT(Ne,(ze,at)=>{const En=at===Ae;return o?w(yp,{in:En,onEnter:En?Br:void 0,onEntered:En?Xn:void 0,addEndListener:gp,children:(cr,Ri)=>E.cloneElement(ze,{...Ri,className:ye(ze.props.className,En&&cr!=="entered"&&Wt,(cr==="entered"||cr==="exiting")&&"active",(cr==="entering"||cr==="exiting")&&_n)})}):E.cloneElement(ze,{className:ye(ze.props.className,En&&"active")})})}),u&&X(zt,{children:[(j||m!==0)&&X(cc,{className:`${Se}-control-prev`,onClick:bt,children:[P,M&&w("span",{className:"visually-hidden",children:M})]}),(j||m!==Be-1)&&X(cc,{className:`${Se}-control-next`,onClick:st,children:[U,F&&w("span",{className:"visually-hidden",children:F})]})]})]})});zb.displayName="Carousel";const NT=Object.assign(zb,{Caption:Bb,Item:Hb});function m2({as:n,bsPrefix:e,className:t,...r}){e=Ee(e,"col");const i=db(),o=fb(),l=[],u=[];return i.forEach(f=>{const p=r[f];delete r[f];let m,y,T;typeof p=="object"&&p!=null?{span:m,offset:y,order:T}=p:m=p;const C=f!==o?`-${f}`:"";m&&l.push(m===!0?`${e}${C}`:`${e}${C}-${m}`),T!=null&&u.push(`order${C}-${T}`),y!=null&&u.push(`offset${C}-${y}`)}),[{...r,className:ye(t,...l,...u)},{as:n,bsPrefix:e,spans:l}]}const Mn=E.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:l}]=m2(n);return w(i,{...r,ref:e,className:ye(t,!l.length&&o)})});Mn.displayName="Col";const Zi=E.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},o)=>{const l=Ee(n,"container"),u=typeof e=="string"?`-${e}`:"-fluid";return w(t,{ref:o,...i,className:ye(r,e?`${l}${u}`:l)})});Zi.displayName="Container";var g2=Function.prototype.bind.call(Function.prototype.call,[].slice);function vs(n,e){return g2(n.querySelectorAll(e))}function y2(n,e,t){const r=E.useRef(n!==void 0),[i,o]=E.useState(e),l=n!==void 0,u=r.current;return r.current=l,!l&&u&&i!==e&&o(e),[l?n:i,E.useCallback((...f)=>{const[p,...m]=f;let y=t==null?void 0:t(p,...m);return o(p),y},[t])]}function Wb(){const[,n]=E.useReducer(e=>e+1,0);return n}const _p=E.createContext(null);var PT=Object.prototype.hasOwnProperty;function DT(n,e,t){for(t of n.keys())if(Hu(t,e))return t}function Hu(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Hu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=DT(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=DT(e,i),!i)||!Hu(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(PT.call(n,t)&&++r&&!PT.call(e,t)||!(t in e)||!Hu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function v2(n){const e=bb();return[n[0],E.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const _2=pd({defaultModifiers:[Lv,dp,cp,up,Mv,Ov,Vv,Nv]}),w2=["enabled","placement","strategy","modifiers"];function E2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const T2={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},I2={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},S2=[];function qb(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:l=S2}=t,u=E2(t,w2);const f=E.useRef(l),p=E.useRef(),m=E.useCallback(()=>{var R;(R=p.current)==null||R.update()},[]),y=E.useCallback(()=>{var R;(R=p.current)==null||R.forceUpdate()},[]),[T,C]=v2(E.useState({placement:i,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),k=E.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const x={},L={};Object.keys(R.elements).forEach(V=>{x[V]=R.styles[V],L[V]=R.attributes[V]}),C({state:R,styles:x,attributes:L,update:m,forceUpdate:y,placement:R.placement})}}),[m,y,C]),N=E.useMemo(()=>(Hu(f.current,l)||(f.current=l),f.current),[l]);return E.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:o,modifiers:[...N,k,T2]})},[o,i,k,r,N]),E.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=_2(n,e,Object.assign({},u,{placement:i,strategy:o,modifiers:[...N,I2,k]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,C(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function Yu(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Yg,xT;function C2(){if(xT)return Yg;xT=1;var n=function(){};return Yg=n,Yg}var b2=C2();const A2=fd(b2),OT=()=>{};function R2(n){return n.button===0}function k2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const vh=n=>n&&("current"in n?n.current:n),LT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Kb(n,e=OT,{disabled:t,clickTrigger:r="click"}={}){const i=E.useRef(!1),o=E.useRef(!1),l=E.useCallback(p=>{const m=vh(n);A2(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!m||k2(p)||!R2(p)||!!Yu(m,p.target)||o.current,o.current=!1},[n]),u=On(p=>{const m=vh(n);m&&Yu(m,p.target)?o.current=!0:o.current=!1}),f=On(p=>{i.current||e(p)});E.useEffect(()=>{var p,m;if(t||n==null)return;const y=Nc(vh(n)),T=y.defaultView||window;let C=(p=T.event)!=null?p:(m=T.parent)==null?void 0:m.event,k=null;LT[r]&&(k=ws(y,LT[r],u,!0));const N=ws(y,r,l,!0),R=ws(y,r,L=>{if(L===C){C=void 0;return}f(L)});let x=[];return"ontouchstart"in y.documentElement&&(x=[].slice.call(y.body.children).map(L=>ws(L,"mousemove",OT))),()=>{k==null||k(),N(),R(),x.forEach(L=>L())}},[n,t,r,l,u,f])}function N2(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function P2(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function Gb({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:l,arrowElement:u,popperConfig:f={}}){var p,m,y,T,C;const k=N2(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:o?"fixed":f.strategy,modifiers:P2(Object.assign({},k,{eventListeners:{enabled:e,options:(p=k.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},k.preventOverflow,{options:l?Object.assign({padding:l},(m=k.preventOverflow)==null?void 0:m.options):(y=k.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:i},(T=k.offset)==null?void 0:T.options)},arrow:Object.assign({},k.arrow,{enabled:!!u,options:Object.assign({},(C=k.arrow)==null?void 0:C.options,{element:u})}),flip:Object.assign({enabled:!!r},k.flip)}))})}const D2=["children","usePopper"];function x2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const O2=()=>{};function Qb(n={}){const e=E.useContext(_p),[t,r]=Py(),i=E.useRef(!1),{flip:o,offset:l,rootCloseEvent:u,fixed:f=!1,placement:p,popperConfig:m={},enableEventListeners:y=!0,usePopper:T=!!e}=n,C=(e==null?void 0:e.show)==null?!!n.show:e.show;C&&!i.current&&(i.current=!0);const k=G=>{e==null||e.toggle(!1,G)},{placement:N,setMenu:R,menuElement:x,toggleElement:L}=e||{},V=qb(L,x,Gb({placement:p||N||"bottom-start",enabled:T,enableEvents:y??C,offset:l,flip:o,fixed:f,arrowElement:t,popperConfig:m})),j=Object.assign({ref:R||O2,"aria-labelledby":L==null?void 0:L.id},V.attributes.popper,{style:V.styles.popper}),q={show:C,placement:N,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?V:null,arrowProps:T?Object.assign({ref:r},V.attributes.arrow,{style:V.styles.arrow}):{}};return Kb(x,k,{clickTrigger:u,disabled:!C}),[j,q]}function Yb(n){let{children:e,usePopper:t=!0}=n,r=x2(n,D2);const[i,o]=Qb(Object.assign({},r,{usePopper:t}));return w(zt,{children:e(i,o)})}Yb.displayName="DropdownMenu";const Zv={prefix:String(Math.round(Math.random()*1e10)),current:0},Xb=nt.createContext(Zv),L2=nt.createContext(!1);let M2=!!(typeof window<"u"&&window.document&&window.document.createElement),Xg=new WeakMap;function V2(n=!1){let e=E.useContext(Xb),t=E.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=Xg.get(o);l==null?Xg.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,Xg.delete(o))}t.current=++e.current}return t.current}function U2(n){let e=E.useContext(Xb);e===Zv&&!M2&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=V2(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function $2(n){let e=nt.useId(),[t]=E.useState(z2()),r=t?"react-aria":`react-aria${Zv.prefix}`;return n||`${r}-${e}`}const F2=typeof nt.useId=="function"?$2:U2;function j2(){return!1}function B2(){return!0}function H2(n){return()=>{}}function z2(){return typeof nt.useSyncExternalStore=="function"?nt.useSyncExternalStore(H2,j2,B2):E.useContext(L2)}const Jb=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},MT=()=>{};function Zb(){const n=F2(),{show:e=!1,toggle:t=MT,setToggle:r,menuElement:i}=E.useContext(_p)||{},o=E.useCallback(u=>{t(!e,u)},[e,t]),l={id:n,ref:r||MT,onClick:o,"aria-expanded":!!e};return i&&Jb(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function eA({children:n}){const[e,t]=Zb();return w(zt,{children:n(e,t)})}eA.displayName="DropdownToggle";const La=E.createContext(null),dc=(n,e=null)=>n!=null?String(n):e||null,wp=E.createContext(null);wp.displayName="NavContext";const W2="data-rr-ui-",q2="rrUi";function Oc(n){return`${W2}${n}`}function K2(n){return`${q2}${n}`}const G2=["eventKey","disabled","onClick","active","as"];function Q2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function tA({key:n,href:e,active:t,disabled:r,onClick:i}){const o=E.useContext(La),l=E.useContext(wp),{activeKey:u}=l||{},f=dc(n,e),p=t==null&&n!=null?dc(u)===f:t;return[{onClick:On(y=>{r||(i==null||i(y),o&&!y.isPropagationStopped()&&o(f,y))}),"aria-disabled":r||void 0,"aria-selected":p,[Oc("dropdown-item")]:""},{isActive:p}]}const nA=E.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:l=Yv}=n,u=Q2(n,G2);const[f]=tA({key:t,href:u.href,disabled:r,onClick:i,active:o});return w(l,Object.assign({},u,{ref:e},f))});nA.displayName="DropdownItem";const rA=E.createContext(Pc?window:void 0);rA.Provider;function Ep(){return E.useContext(rA)}function VT(){const n=Wb(),e=E.useRef(null),t=E.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Td({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${Oc("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:u}){const f=Ep(),[p,m]=y2(e,n,r),[y,T]=VT(),C=y.current,[k,N]=VT(),R=k.current,x=Ab(p),L=E.useRef(null),V=E.useRef(!1),j=E.useContext(La),q=E.useCallback((U,F,O=F==null?void 0:F.type)=>{m(U,{originalEvent:F,source:O})},[m]),G=On((U,F)=>{t==null||t(U,F),q(!1,F,"select"),F.isPropagationStopped()||j==null||j(U,F)}),S=E.useMemo(()=>({toggle:q,placement:l,show:p,menuElement:C,toggleElement:R,setMenu:T,setToggle:N}),[q,l,p,C,R,T,N]);C&&x&&!p&&(V.current=C.contains(C.ownerDocument.activeElement));const b=On(()=>{R&&R.focus&&R.focus()}),P=On(()=>{const U=L.current;let F=o;if(F==null&&(F=y.current&&Jb(y.current)?"keyboard":!1),F===!1||F==="keyboard"&&!/^key.+$/.test(U))return;const O=vs(y.current,i)[0];O&&O.focus&&O.focus()});E.useEffect(()=>{p?P():V.current&&(V.current=!1,b())},[p,V,b,P]),E.useEffect(()=>{L.current=null});const M=(U,F)=>{if(!y.current)return null;const O=vs(y.current,i);let we=O.indexOf(U)+F;return we=Math.max(0,Math.min(we,O.length)),O[we]};return QM(E.useCallback(()=>f.document,[f]),"keydown",U=>{var F,O;const{key:we}=U,Ne=U.target,je=(F=y.current)==null?void 0:F.contains(Ne),Se=(O=k.current)==null?void 0:O.contains(Ne);if(/input|textarea/i.test(Ne.tagName)&&(we===" "||we!=="Escape"&&je||we==="Escape"&&Ne.type==="search")||!je&&!Se||we==="Tab"&&(!y.current||!p))return;L.current=U.type;const me={originalEvent:U,source:U.type};switch(we){case"ArrowUp":{const ce=M(Ne,-1);ce&&ce.focus&&ce.focus(),U.preventDefault();return}case"ArrowDown":if(U.preventDefault(),!p)m(!0,me);else{const ce=M(Ne,1);ce&&ce.focus&&ce.focus()}return;case"Tab":Wv(Ne.ownerDocument,"keyup",ce=>{var z;(ce.key==="Tab"&&!ce.target||!((z=y.current)!=null&&z.contains(ce.target)))&&m(!1,me)},{once:!0});break;case"Escape":we==="Escape"&&(U.preventDefault(),U.stopPropagation()),m(!1,me);break}}),w(La.Provider,{value:G,children:w(_p.Provider,{value:S,children:u})})}Td.displayName="Dropdown";Td.Menu=Yb;Td.Toggle=eA;Td.Item=nA;const e_=E.createContext({});e_.displayName="DropdownContext";const iA=E.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=Ee(e,"dropdown-divider"),w(t,{ref:o,className:ye(n,e),role:r,...i})));iA.displayName="DropdownDivider";const sA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=Ee(e,"dropdown-header"),w(t,{ref:o,className:ye(n,e),role:r,...i})));sA.displayName="DropdownHeader";const oA=E.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:l=cc,...u},f)=>{const p=Ee(n,"dropdown-item"),[m,y]=tA({key:t,href:u.href,disabled:r,onClick:i,active:o});return w(l,{...u,...m,ref:f,className:ye(e,p,y.isActive&&"active",r&&"disabled")})});oA.displayName="DropdownItem";const aA=E.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ee(e,"dropdown-item-text"),w(t,{ref:i,className:ye(n,e),...r})));aA.displayName="DropdownItemText";const Y2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",X2=typeof document<"u",t_=X2||Y2?E.useLayoutEffect:E.useEffect,n_=E.createContext(null);n_.displayName="InputGroupContext";const Qa=E.createContext(null);Qa.displayName="NavbarContext";function lA(n,e){return n}function cA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",u=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",m=t?"left-end":"right-end";let y=n?l:o;return e==="up"?y=n?i:r:e==="end"?y=n?m:p:e==="start"?y=n?f:u:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const uA=E.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:l,as:u="div",popperConfig:f,variant:p,...m},y)=>{let T=!1;const C=E.useContext(Qa),k=Ee(n,"dropdown-menu"),{align:N,drop:R,isRTL:x}=E.useContext(e_);t=t||N;const L=E.useContext(n_),V=[];if(t)if(typeof t=="object"){const U=Object.keys(t);if(U.length){const F=U[0],O=t[F];T=O==="start",V.push(`${k}-${F}-${O}`)}}else t==="end"&&(T=!0);const j=cA(T,R,x),[q,{hasShown:G,popper:S,show:b,toggle:P}]=Qb({flip:i,rootCloseEvent:r,show:o,usePopper:!C&&V.length===0,offset:[0,2],popperConfig:f,placement:j});if(q.ref=Dc(lA(y),q.ref),t_(()=>{b&&(S==null||S.update())},[b]),!G&&!l&&!L)return null;typeof u!="string"&&(q.show=b,q.close=()=>P==null?void 0:P(!1),q.align=t);let M=m.style;return S!=null&&S.placement&&(M={...m.style,...q.style},m["x-placement"]=S.placement),w(u,{...m,...q,style:M,...(V.length||C)&&{"data-bs-popper":"static"},className:ye(e,k,b&&"show",T&&`${k}-end`,p&&`${k}-${p}`,...V)})});uA.displayName="DropdownMenu";const dA=E.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=nn,...o},l)=>{const u=Ee(n,"dropdown-toggle"),f=E.useContext(_p);r!==void 0&&(o.bsPrefix=r);const[p]=Zb();return p.ref=Dc(p.ref,lA(l)),w(i,{className:ye(t,u,e&&`${u}-split`,(f==null?void 0:f.show)&&"show"),...p,...o})});dA.displayName="DropdownToggle";const fA=E.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:l="start",onSelect:u,onToggle:f,focusFirstItemOnShow:p,as:m="div",navbar:y,autoClose:T=!0,...C}=Ka(n,{show:"onToggle"}),k=E.useContext(n_),N=Ee(t,"dropdown"),R=_d(),x=S=>T===!1?S==="click":T==="inside"?S!=="rootClose":T==="outside"?S!=="select":!0,L=oi((S,b)=>{var P;!((P=b.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&b.source==="mousedown"||(b.originalEvent.currentTarget===document&&(b.source!=="keydown"||b.originalEvent.key==="Escape")&&(b.source="rootClose"),x(b.source)&&(f==null||f(S,b)))}),j=cA(l==="end",r,R),q=E.useMemo(()=>({align:l,drop:r,isRTL:R}),[l,r,R]),G={down:N,"down-centered":`${N}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w(e_.Provider,{value:q,children:w(Td,{placement:j,show:i,onSelect:u,onToggle:L,focusFirstItemOnShow:p,itemSelector:`.${N}-item:not(.disabled):not(:disabled)`,children:k?C.children:w(m,{...C,ref:e,className:ye(o,i&&"show",G[r])})})})});fA.displayName="Dropdown";const Aa=Object.assign(fA,{Toggle:dA,Menu:uA,Item:oA,ItemText:aA,Divider:iA,Header:sA});ir.string,ir.bool,ir.bool,ir.bool,ir.bool;const Xu=E.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:o=!1,...l},u)=>(n=Ee(n,"img"),w("img",{ref:u,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",i&&"rounded-circle",o&&`${n}-thumbnail`)})));Xu.displayName="Image";const J2={type:ir.string,tooltip:ir.bool,as:ir.elementType},Tp=E.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>w(n,{...i,ref:o,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));Tp.displayName="Feedback";Tp.propTypes=J2;const xs=E.createContext({}),r_=E.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...u},f)=>{const{controlId:p}=E.useContext(xs);return e=Ee(e,"form-check-input"),w(l,{...u,ref:f,type:r,id:n||p,className:ye(t,e,i&&"is-valid",o&&"is-invalid")})});r_.displayName="FormCheckInput";const Mh=E.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=E.useContext(xs);return n=Ee(n,"form-check-label"),w("label",{...r,ref:i,htmlFor:t||o,className:ye(e,n)})});Mh.displayName="FormCheckLabel";const hA=E.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:m,className:y,style:T,title:C="",type:k="checkbox",label:N,children:R,as:x="input",...L},V)=>{e=Ee(e,"form-check"),t=Ee(t,"form-switch");const{controlId:j}=E.useContext(xs),q=E.useMemo(()=>({controlId:n||j}),[j,n]),G=!R&&N!=null&&N!==!1||f2(R,Mh),S=w(r_,{...L,type:k==="switch"?"checkbox":k,ref:V,isValid:l,isInvalid:u,disabled:o,as:x});return w(xs.Provider,{value:q,children:w("div",{style:T,className:ye(y,G&&e,r&&`${e}-inline`,i&&`${e}-reverse`,k==="switch"&&t),children:R||X(zt,{children:[S,G&&w(Mh,{title:C,children:N}),p&&w(Tp,{type:m,tooltip:f,children:p})]})})})});hA.displayName="FormCheck";const Vh=Object.assign(hA,{Input:r_,Label:Mh}),pA=E.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:l=!1,isInvalid:u=!1,plaintext:f,readOnly:p,as:m="input",...y},T)=>{const{controlId:C}=E.useContext(xs);return n=Ee(n,"form-control"),w(m,{...y,type:e,size:r,ref:T,readOnly:p,id:i||C,className:ye(o,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",u&&"is-invalid")})});pA.displayName="FormControl";const Z2=Object.assign(pA,{Feedback:Tp}),mA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"form-floating"),w(t,{ref:i,className:ye(n,e),...r})));mA.displayName="FormFloating";const i_=E.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=E.useMemo(()=>({controlId:n}),[n]);return w(xs.Provider,{value:i,children:w(e,{...t,ref:r})})});i_.displayName="FormGroup";const gA=E.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...l},u)=>{const{controlId:f}=E.useContext(xs);e=Ee(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const m=ye(i,e,r&&"visually-hidden",t&&p);return o=o||f,t?w(Mn,{ref:u,as:"label",className:m,htmlFor:o,...l}):w(n,{ref:u,className:m,htmlFor:o,...l})});gA.displayName="FormLabel";const yA=E.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=E.useContext(xs);return n=Ee(n,"form-range"),w("input",{...r,type:"range",ref:i,className:ye(e,n),id:t||o})});yA.displayName="FormRange";const vA=E.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:l,...u},f)=>{const{controlId:p}=E.useContext(xs);return n=Ee(n,"form-select"),w("select",{...u,size:t,ref:f,className:ye(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||p})});vA.displayName="FormSelect";const _A=E.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=Ee(n,"form-text"),w(t,{...i,ref:o,className:ye(e,n,r&&"text-muted")})));_A.displayName="FormText";const wA=E.forwardRef((n,e)=>w(Vh,{...n,ref:e,type:"switch"}));wA.displayName="Switch";const eV=Object.assign(wA,{Input:Vh.Input,Label:Vh.Label}),s_=E.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},l)=>(n=Ee(n,"form-floating"),X(i_,{ref:l,className:ye(e,n),controlId:r,...o,children:[t,w("label",{htmlFor:r,children:i})]})));s_.displayName="FloatingLabel";const tV={_ref:ir.any,validated:ir.bool,as:ir.elementType},o_=E.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>w(t,{...r,ref:i,className:ye(n,e&&"was-validated")}));o_.displayName="Form";o_.propTypes=tV;const pt=Object.assign(o_,{Group:i_,Control:Z2,Floating:mA,Check:Vh,Switch:eV,Label:gA,Text:_A,Range:yA,Select:vA,FloatingLabel:s_}),UT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function nV(n,e){const t=UT(n),r=UT(e);return i=>{t&&t(i),r&&r(i)}}function Id(n,e){return E.useMemo(()=>nV(n,e),[n,e])}const EA=E.createContext(null),rV=["as","active","eventKey"];function iV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function a_({key:n,onClick:e,active:t,id:r,role:i,disabled:o}){const l=E.useContext(La),u=E.useContext(wp),f=E.useContext(EA);let p=t;const m={role:i};if(u){!i&&u.role==="tablist"&&(m.role="tab");const y=u.getControllerId(n??null),T=u.getControlledId(n??null);m[Oc("event-key")]=n,m.id=y||r,p=t==null&&n!=null?u.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(m["aria-controls"]=T)}return m.role==="tab"&&(m["aria-selected"]=p,p||(m.tabIndex=-1),o&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=On(y=>{o||(e==null||e(y),n!=null&&l&&!y.isPropagationStopped()&&l(n,y))}),[m,{isActive:p}]}const TA=E.forwardRef((n,e)=>{let{as:t=Yv,active:r,eventKey:i}=n,o=iV(n,rV);const[l,u]=a_(Object.assign({key:dc(i,o.href),active:r},o));return l[Oc("active")]=u.isActive,w(t,Object.assign({},o,l,{ref:e}))});TA.displayName="NavItem";const sV=["as","onSelect","activeKey","role","onKeyDown"];function oV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const $T=()=>{},FT=Oc("event-key"),IA=E.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:o,onKeyDown:l}=n,u=oV(n,sV);const f=Wb(),p=E.useRef(!1),m=E.useContext(La),y=E.useContext(EA);let T,C;y&&(o=o||"tablist",i=y.activeKey,T=y.getControlledId,C=y.getControllerId);const k=E.useRef(null),N=V=>{const j=k.current;if(!j)return null;const q=vs(j,`[${FT}]:not([aria-disabled=true])`),G=j.querySelector("[aria-selected=true]");if(!G||G!==document.activeElement)return null;const S=q.indexOf(G);if(S===-1)return null;let b=S+V;return b>=q.length&&(b=0),b<0&&(b=q.length-1),q[b]},R=(V,j)=>{V!=null&&(r==null||r(V,j),m==null||m(V,j))},x=V=>{if(l==null||l(V),!y)return;let j;switch(V.key){case"ArrowLeft":case"ArrowUp":j=N(-1);break;case"ArrowRight":case"ArrowDown":j=N(1);break;default:return}j&&(V.preventDefault(),R(j.dataset[K2("EventKey")]||null,V),p.current=!0,f())};E.useEffect(()=>{if(k.current&&p.current){const V=k.current.querySelector(`[${FT}][aria-selected=true]`);V==null||V.focus()}p.current=!1});const L=Id(e,k);return w(La.Provider,{value:R,children:w(wp.Provider,{value:{role:o,activeKey:dc(i),getControlledId:T||$T,getControllerId:C||$T},children:w(t,Object.assign({},u,{onKeyDown:x,ref:L,role:o}))})})});IA.displayName="Nav";const SA=Object.assign(IA,{Item:TA}),CA=E.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:i,variant:o,action:l,as:u,...f},p)=>{n=Ee(n,"list-group-item");const[m,y]=a_({key:dc(r,f.href),active:e,...f}),T=oi(k=>{if(t){k.preventDefault(),k.stopPropagation();return}m.onClick(k)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const C=u||(l?f.href?"a":"button":"div");return w(C,{ref:p,...f,...m,onClick:T,className:ye(i,n,y.isActive&&"active",t&&"disabled",o&&`${n}-${o}`,l&&`${n}-action`)})});CA.displayName="ListGroupItem";const bA=E.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:i,horizontal:o,numbered:l,as:u="div",...f}=Ka(n,{activeKey:"onSelect"}),p=Ee(r,"list-group");let m;return o&&(m=o===!0?"horizontal":`horizontal-${o}`),w(SA,{ref:e,...f,as:u,className:ye(t,p,i&&`${p}-${i}`,m&&`${p}-${m}`,l&&`${p}-numbered`)})});bA.displayName="ListGroup";const xr=Object.assign(bA,{Item:CA});var nh;function jT(n){if((!nh&&nh!==0||n)&&Pc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),nh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return nh}function aV(){return E.useState(null)}function Jg(n){n===void 0&&(n=Nc());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function lV(n){const e=E.useRef(n);return e.current=n,e}function cV(n){const e=lV(n);E.useEffect(()=>()=>e.current(),[])}function uV(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const BT=Oc("modal-open");class l_{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return uV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(bs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(BT,""),bs(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(BT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Zg=(n,e)=>Pc?n==null?(e||Nc()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function xy(n,e){const t=Ep(),[r,i]=E.useState(()=>Zg(n,t==null?void 0:t.document));if(!r){const o=Zg(n);o&&i(o)}return E.useEffect(()=>{},[e,r]),E.useEffect(()=>{const o=Zg(n);o!==r&&i(o)},[n,r]),r}function dV({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const o=E.useRef(null),l=E.useRef(e),u=On(t);E.useEffect(()=>{e?l.current=!0:u(o.current)},[e,u]);const f=Id(o,Ga(n)),p=E.cloneElement(n,{ref:f});return e?p:i||!l.current&&r?null:p}const fV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function hV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function pV(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:o,onExited:l,addEndListener:u,children:f}=n,p=hV(n,fV);const m=E.useRef(null),y=Id(m,Ga(f)),T=j=>q=>{j&&m.current&&j(m.current,q)},C=E.useCallback(T(e),[e]),k=E.useCallback(T(t),[t]),N=E.useCallback(T(r),[r]),R=E.useCallback(T(i),[i]),x=E.useCallback(T(o),[o]),L=E.useCallback(T(l),[l]),V=E.useCallback(T(u),[u]);return Object.assign({},p,{nodeRef:m},e&&{onEnter:C},t&&{onEntering:k},r&&{onEntered:N},i&&{onExit:R},o&&{onExiting:x},l&&{onExited:L},u&&{addEndListener:V},{children:typeof f=="function"?(j,q)=>f(j,Object.assign({},q,{ref:y})):E.cloneElement(f,{ref:y})})}const mV=["component"];function gV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const yV=E.forwardRef((n,e)=>{let{component:t}=n,r=gV(n,mV);const i=pV(r);return w(t,Object.assign({ref:e},i))});function vV({in:n,onTransition:e}){const t=E.useRef(null),r=E.useRef(!0),i=On(e);return RT(()=>{if(!t.current)return;let o=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[n,i]),RT(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function _V({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[o,l]=E.useState(!e);e&&o&&l(!1);const u=vV({in:!!e,onTransition:p=>{const m=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(m,y=>{throw p.in||l(!0),y})}}),f=Id(u,Ga(n));return o&&!e?null:E.cloneElement(n,{ref:f})}function Oy(n,e,t){return n?w(yV,Object.assign({},t,{component:n})):e?w(_V,Object.assign({},t,{transition:e})):w(dV,Object.assign({},t))}const wV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function EV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let ey;function TV(n){return ey||(ey=new l_({ownerDocument:n==null?void 0:n.document})),ey}function IV(n){const e=Ep(),t=n||TV(e),r=E.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:E.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:E.useCallback(i=>{r.current.backdrop=i},[])})}const AA=E.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:o,children:l,backdrop:u=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:m,transition:y,runTransition:T,backdropTransition:C,runBackdropTransition:k,autoFocus:N=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:L,renderDialog:V,renderBackdrop:j=it=>w("div",Object.assign({},it)),manager:q,container:G,onShow:S,onHide:b=()=>{},onExit:P,onExited:M,onExiting:U,onEnter:F,onEntering:O,onEntered:we}=n,Ne=EV(n,wV);const je=Ep(),Se=xy(G),re=IV(q),me=bb(),ce=Ab(t),[z,te]=E.useState(!t),pe=E.useRef(null);E.useImperativeHandle(e,()=>re,[re]),Pc&&!ce&&t&&(pe.current=Jg(je==null?void 0:je.document)),t&&z&&te(!1);const ve=On(()=>{if(re.add(),It.current=ws(document,"keydown",Be),ot.current=ws(document,"focus",()=>setTimeout(Ae),!0),S&&S(),N){var it,Wt;const _n=Jg((it=(Wt=re.dialog)==null?void 0:Wt.ownerDocument)!=null?it:je==null?void 0:je.document);re.dialog&&_n&&!Yu(re.dialog,_n)&&(pe.current=_n,re.dialog.focus())}}),Ie=On(()=>{if(re.remove(),It.current==null||It.current(),ot.current==null||ot.current(),x){var it;(it=pe.current)==null||it.focus==null||it.focus(L),pe.current=null}});E.useEffect(()=>{!t||!Se||ve()},[t,Se,ve]),E.useEffect(()=>{z&&Ie()},[z,Ie]),cV(()=>{Ie()});const Ae=On(()=>{if(!R||!me()||!re.isTopModal())return;const it=Jg(je==null?void 0:je.document);re.dialog&&it&&!Yu(re.dialog,it)&&re.dialog.focus()}),Ge=On(it=>{it.target===it.currentTarget&&(p==null||p(it),u===!0&&b())}),Be=On(it=>{f&&mb(it)&&re.isTopModal()&&(m==null||m(it),it.defaultPrevented||b())}),ot=E.useRef(),It=E.useRef(),bt=(...it)=>{te(!0),M==null||M(...it)};if(!Se)return null;const st=Object.assign({role:r,ref:re.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ne,{style:o,className:i,tabIndex:-1});let Dt=V?V(st):w("div",Object.assign({},st,{children:E.cloneElement(l,{role:"document"})}));Dt=Oy(y,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:U,onExited:bt,onEnter:F,onEntering:O,onEntered:we,children:Dt});let Xt=null;return u&&(Xt=j({ref:re.setBackdropRef,onClick:Ge}),Xt=Oy(C,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Xt})),w(zt,{children:Co.createPortal(X(zt,{children:[Xt,Dt]}),Se)})});AA.displayName="Modal";const RA=Object.assign(AA,{Manager:l_});function Ly(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function SV(n,e){n.classList?n.classList.add(e):Ly(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function HT(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function CV(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=HT(n.className,e):n.setAttribute("class",HT(n.className&&n.className.baseVal||"",e))}const $l={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class kA extends l_{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,bs(t,{[e]:`${parseFloat(bs(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],bs(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(SV(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";vs(t,$l.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),vs(t,$l.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),vs(t,$l.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();CV(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";vs(t,$l.FIXED_CONTENT).forEach(o=>this.restore(r,o)),vs(t,$l.STICKY_CONTENT).forEach(o=>this.restore(i,o)),vs(t,$l.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let ty;function NA(n){return ty||(ty=new kA(n)),ty}const PA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"modal-body"),w(t,{ref:i,className:ye(n,e),...r})));PA.displayName="ModalBody";const c_=E.createContext({onHide(){}}),u_=E.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:o,children:l,scrollable:u,...f},p)=>{n=Ee(n,"modal");const m=`${n}-dialog`,y=typeof o=="string"?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return w("div",{...f,ref:p,className:ye(m,e,i&&`${n}-${i}`,r&&`${m}-centered`,u&&`${m}-scrollable`,o&&y),children:w("div",{className:ye(`${n}-content`,t),children:l})})});u_.displayName="ModalDialog";const DA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"modal-footer"),w(t,{ref:i,className:ye(n,e),...r})));DA.displayName="ModalFooter";const xA=E.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...o},l)=>{const u=E.useContext(c_),f=oi(()=>{u==null||u.onHide(),r==null||r()});return X("div",{ref:l,...o,children:[i,t&&w(xc,{"aria-label":n,variant:e,onClick:f})]})}),OA=E.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},o)=>(n=Ee(n,"modal-header"),w(xA,{ref:o,...i,className:ye(e,n),closeLabel:t,closeButton:r})));OA.displayName="ModalHeader";const bV=Ed("h4"),LA=E.forwardRef(({className:n,bsPrefix:e,as:t=bV,...r},i)=>(e=Ee(e,"modal-title"),w(t,{ref:i,className:ye(n,e),...r})));LA.displayName="ModalTitle";function AV(n){return w(Vo,{...n,timeout:null})}function RV(n){return w(Vo,{...n,timeout:null})}const MA=E.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:o,dialogAs:l=u_,"data-bs-theme":u,"aria-labelledby":f,"aria-describedby":p,"aria-label":m,show:y=!1,animation:T=!0,backdrop:C=!0,keyboard:k=!0,onEscapeKeyDown:N,onShow:R,onHide:x,container:L,autoFocus:V=!0,enforceFocus:j=!0,restoreFocus:q=!0,restoreFocusOptions:G,onEntered:S,onExit:b,onExiting:P,onEnter:M,onEntering:U,onExited:F,backdropClassName:O,manager:we,...Ne},je)=>{const[Se,re]=E.useState({}),[me,ce]=E.useState(!1),z=E.useRef(!1),te=E.useRef(!1),pe=E.useRef(null),[ve,Ie]=aV(),Ae=Dc(je,Ie),Ge=oi(x),Be=_d();n=Ee(n,"modal");const ot=E.useMemo(()=>({onHide:Ge}),[Ge]);function It(){return we||NA({isRTL:Be})}function bt($e){if(!Pc)return;const yt=It().getScrollbarWidth()>0,Mt=$e.scrollHeight>Nc($e).documentElement.clientHeight;re({paddingRight:yt&&!Mt?jT():void 0,paddingLeft:!yt&&Mt?jT():void 0})}const st=oi(()=>{ve&&bt(ve.dialog)});$b(()=>{Ny(window,"resize",st),pe.current==null||pe.current()});const Dt=()=>{z.current=!0},Xt=$e=>{z.current&&ve&&$e.target===ve.dialog&&(te.current=!0),z.current=!1},it=()=>{ce(!0),pe.current=gb(ve.dialog,()=>{ce(!1)})},Wt=$e=>{$e.target===$e.currentTarget&&it()},_n=$e=>{if(C==="static"){Wt($e);return}if(te.current||$e.target!==$e.currentTarget){te.current=!1;return}x==null||x()},Br=$e=>{k?N==null||N($e):($e.preventDefault(),C==="static"&&it())},Xn=($e,yt)=>{$e&&bt($e),M==null||M($e,yt)},qt=$e=>{pe.current==null||pe.current(),b==null||b($e)},sn=($e,yt)=>{U==null||U($e,yt),Wv(window,"resize",st)},lr=$e=>{$e&&($e.style.display=""),F==null||F($e),Ny(window,"resize",st)},Un=E.useCallback($e=>w("div",{...$e,className:ye(`${n}-backdrop`,O,!T&&"show")}),[T,O,n]),Lt={...t,...Se};Lt.display="block";const hn=$e=>w("div",{role:"dialog",...$e,style:Lt,className:ye(e,n,me&&`${n}-static`,!T&&"show"),onClick:C?_n:void 0,onMouseUp:Xt,"data-bs-theme":u,"aria-label":m,"aria-labelledby":f,"aria-describedby":p,children:w(l,{...Ne,onMouseDown:Dt,className:r,contentClassName:i,children:o})});return w(c_.Provider,{value:ot,children:w(RA,{show:y,ref:Ae,backdrop:C,container:L,keyboard:!0,autoFocus:V,enforceFocus:j,restoreFocus:q,restoreFocusOptions:G,onEscapeKeyDown:Br,onShow:R,onHide:x,onEnter:Xn,onEntering:sn,onEntered:S,onExit:qt,onExiting:P,onExited:lr,manager:It(),transition:T?AV:void 0,backdropTransition:T?RV:void 0,renderBackdrop:Un,renderDialog:hn})})});MA.displayName="Modal";const rr=Object.assign(MA,{Body:PA,Header:OA,Title:LA,Footer:DA,Dialog:u_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),VA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"nav-item"),w(t,{ref:i,className:ye(n,e),...r})));VA.displayName="NavItem";const d_=E.forwardRef(({bsPrefix:n,className:e,as:t=cc,active:r,eventKey:i,disabled:o=!1,...l},u)=>{n=Ee(n,"nav-link");const[f,p]=a_({key:dc(i,l.href),active:r,disabled:o,...l});return w(t,{...l,...f,ref:u,disabled:o,className:ye(e,n,o&&"disabled",p.isActive&&"active")})});d_.displayName="NavLink";const UA=E.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:o=!1,justify:l=!1,navbar:u,navbarScroll:f,className:p,activeKey:m,...y}=Ka(n,{activeKey:"onSelect"}),T=Ee(r,"nav");let C,k,N=!1;const R=E.useContext(Qa),x=E.useContext(Jv);return R?(C=R.bsPrefix,N=u??!0):x&&({cardHeaderBsPrefix:k}=x),w(SA,{as:t,ref:e,activeKey:m,className:ye(p,{[T]:!N,[`${C}-nav`]:N,[`${C}-nav-scroll`]:N&&f,[`${k}-${i}`]:!!k,[`${T}-${i}`]:!!i,[`${T}-fill`]:o,[`${T}-justified`]:l}),...y})});UA.displayName="Nav";const Ei=Object.assign(UA,{Item:VA,Link:d_}),$A=E.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=Ee(n,"navbar-brand");const o=t||(r.href?"a":"span");return w(o,{...r,ref:i,className:ye(e,n)})});$A.displayName="NavbarBrand";const FA=E.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Ee(e,"navbar-collapse");const i=E.useContext(Qa);return w(yb,{in:!!(i&&i.expanded),...t,children:w("div",{ref:r,className:e,children:n})})});FA.displayName="NavbarCollapse";const jA=E.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:o,...l},u)=>{n=Ee(n,"navbar-toggler");const{onToggle:f,expanded:p}=E.useContext(Qa)||{},m=oi(y=>{o&&o(y),f&&f()});return i==="button"&&(l.type="button"),w(i,{...l,ref:u,onClick:m,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||w("span",{className:`${n}-icon`})})});jA.displayName="NavbarToggle";const My=new WeakMap,zT=(n,e)=>{if(!n||!e)return;const t=My.get(e)||new Map;My.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function kV(n,e=typeof window>"u"?void 0:window){const t=zT(n,e),[r,i]=E.useState(()=>t?t.matches:!1);return t_(()=>{let o=zT(n,e);if(!o)return i(!1);let l=My.get(e);const u=()=>{i(o.matches)};return o.refCount++,o.addListener(u),u(),()=>{o.removeListener(u),o.refCount--,o.refCount<=0&&(l==null||l.delete(o.media)),o=void 0}},[n]),r}function NV(n){const e=Object.keys(n);function t(u,f){return u===f?f:u?`${u} and ${f}`:f}function r(u){return e[Math.min(e.indexOf(u)+1,e.length-1)]}function i(u){const f=r(u);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function o(u){let f=n[u];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function l(u,f,p){let m;typeof u=="object"?(m=u,p=f,f=!0):(f=f||!0,m={[u]:f});let y=E.useMemo(()=>Object.entries(m).reduce((T,[C,k])=>((k==="up"||k===!0)&&(T=t(T,o(C))),(k==="down"||k===!0)&&(T=t(T,i(C))),T),""),[JSON.stringify(m)]);return kV(y,p)}return l}const PV=NV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),BA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"offcanvas-body"),w(t,{ref:i,className:ye(n,e),...r})));BA.displayName="OffcanvasBody";const DV={[Ii]:"show",[_s]:"show"},HA=E.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:l=!1,...u},f)=>(n=Ee(n,"offcanvas"),w(yp,{ref:f,addEndListener:gp,in:r,mountOnEnter:i,unmountOnExit:o,appear:l,...u,childRef:Ga(t),children:(p,m)=>E.cloneElement(t,{...m,className:ye(e,t.props.className,(p===Ii||p===Qu)&&`${n}-toggling`,DV[p])})})));HA.displayName="OffcanvasToggling";const zA=E.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},o)=>(n=Ee(n,"offcanvas-header"),w(xA,{ref:o,...i,className:ye(e,n),closeLabel:t,closeButton:r})));zA.displayName="OffcanvasHeader";const xV=Ed("h5"),WA=E.forwardRef(({className:n,bsPrefix:e,as:t=xV,...r},i)=>(e=Ee(e,"offcanvas-title"),w(t,{ref:i,className:ye(n,e),...r})));WA.displayName="OffcanvasTitle";function OV(n){return w(HA,{...n})}function LV(n){return w(Vo,{...n})}const qA=E.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:o,show:l=!1,backdrop:u=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:m,onShow:y,onHide:T,container:C,autoFocus:k=!0,enforceFocus:N=!0,restoreFocus:R=!0,restoreFocusOptions:x,onEntered:L,onExit:V,onExiting:j,onEnter:q,onEntering:G,onExited:S,backdropClassName:b,manager:P,renderStaticNode:M=!1,...U},F)=>{const O=E.useRef();n=Ee(n,"offcanvas");const[we,Ne]=E.useState(!1),je=oi(T),Se=PV(o||"xs","up");E.useEffect(()=>{Ne(o?l&&!Se:l)},[l,o,Se]);const re=E.useMemo(()=>({onHide:je}),[je]);function me(){return P||(p?(O.current||(O.current=new kA({handleContainerOverflow:!1})),O.current):NA())}const ce=(ve,...Ie)=>{ve&&(ve.style.visibility="visible"),q==null||q(ve,...Ie)},z=(ve,...Ie)=>{ve&&(ve.style.visibility=""),S==null||S(...Ie)},te=E.useCallback(ve=>w("div",{...ve,className:ye(`${n}-backdrop`,b)}),[b,n]),pe=ve=>w("div",{...ve,...U,className:ye(e,o?`${n}-${o}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return X(zt,{children:[!we&&(o||M)&&pe({}),w(c_.Provider,{value:re,children:w(RA,{show:we,ref:F,backdrop:u,container:C,keyboard:f,autoFocus:k,enforceFocus:N&&!p,restoreFocus:R,restoreFocusOptions:x,onEscapeKeyDown:m,onShow:y,onHide:je,onEnter:ce,onEntering:G,onEntered:L,onExit:V,onExiting:j,onExited:z,manager:me(),transition:OV,backdropTransition:LV,renderBackdrop:te,renderDialog:pe})})]})});qA.displayName="Offcanvas";const MV=Object.assign(qA,{Body:BA,Header:zA,Title:WA}),KA=E.forwardRef(({onHide:n,...e},t)=>{const r=E.useContext(Qa),i=oi(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return w(MV,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});KA.displayName="NavbarOffcanvas";const GA=E.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ee(e,"navbar-text"),w(t,{ref:i,className:ye(n,e),...r})));GA.displayName="NavbarText";const QA=E.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:o,fixed:l,sticky:u,className:f,as:p="nav",expanded:m,onToggle:y,onSelect:T,collapseOnSelect:C=!1,...k}=Ka(n,{expanded:"onToggle"}),N=Ee(t,"navbar"),R=E.useCallback((...V)=>{T==null||T(...V),C&&m&&(y==null||y(!1))},[T,C,m,y]);k.role===void 0&&p!=="nav"&&(k.role="navigation");let x=`${N}-expand`;typeof r=="string"&&(x=`${x}-${r}`);const L=E.useMemo(()=>({onToggle:()=>y==null?void 0:y(!m),bsPrefix:N,expanded:!!m,expand:r}),[N,m,r,y]);return w(Qa.Provider,{value:L,children:w(La.Provider,{value:R,children:w(p,{ref:e,...k,className:ye(f,N,r&&x,i&&`${N}-${i}`,o&&`bg-${o}`,u&&`sticky-${u}`,l&&`fixed-${l}`)})})})});QA.displayName="Navbar";const rh=Object.assign(QA,{Brand:$A,Collapse:FA,Offcanvas:KA,Text:GA,Toggle:jA}),YA=E.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:i,rootCloseEvent:o,menuRole:l,disabled:u,active:f,renderMenuOnMount:p,menuVariant:m,...y},T)=>{const C=Ee(void 0,"nav-item");return X(Aa,{ref:T,...y,className:ye(i,C),children:[w(Aa.Toggle,{id:n,eventKey:null,active:f,disabled:u,childBsPrefix:r,as:d_,children:e}),w(Aa.Menu,{role:l,renderOnMount:p,rootCloseEvent:o,variant:m,children:t})]})});YA.displayName="NavDropdown";const Cu=Object.assign(YA,{Item:Aa.Item,ItemText:Aa.ItemText,Divider:Aa.Divider,Header:Aa.Header}),VV=()=>{};function UV(n,e,{disabled:t,clickTrigger:r}={}){const i=e||VV;Kb(n,i,{disabled:t,clickTrigger:r});const o=On(l=>{mb(l)&&i(l)});E.useEffect(()=>{if(t||n==null)return;const l=Nc(vh(n));let u=(l.defaultView||window).event;const f=ws(l,"keyup",p=>{if(p===u){u=void 0;return}o(p)});return()=>{f()}},[n,t,o])}const XA=E.forwardRef((n,e)=>{const{flip:t,offset:r,placement:i,containerPadding:o,popperConfig:l={},transition:u,runTransition:f}=n,[p,m]=Py(),[y,T]=Py(),C=Id(m,e),k=xy(n.container),N=xy(n.target),[R,x]=E.useState(!n.show),L=qb(N,p,Gb({placement:i,enableEvents:!!n.show,containerPadding:o||5,flip:t,offset:r,arrowElement:y,popperConfig:l}));n.show&&R&&x(!1);const V=(...U)=>{x(!0),n.onExited&&n.onExited(...U)},j=n.show||!R;if(UV(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!j)return null;const{onExit:q,onExiting:G,onEnter:S,onEntering:b,onEntered:P}=n;let M=n.children(Object.assign({},L.attributes.popper,{style:L.styles.popper,ref:C}),{popper:L,placement:i,show:!!n.show,arrowProps:Object.assign({},L.attributes.arrow,{style:L.styles.arrow,ref:T})});return M=Oy(u,f,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:M,onExit:q,onExiting:G,onExited:V,onEnter:S,onEntering:b,onEntered:P}),k?Co.createPortal(M,k):null});XA.displayName="Overlay";const JA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"popover-header"),w(t,{ref:i,className:ye(n,e),...r})));JA.displayName="PopoverHeader";const f_=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"popover-body"),w(t,{ref:i,className:ye(n,e),...r})));f_.displayName="PopoverBody";function ZA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function eR(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const $V=E.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,body:o,arrowProps:l,hasDoneInitialMeasure:u,popper:f,show:p,...m},y)=>{const T=Ee(n,"popover"),C=_d(),[k]=(e==null?void 0:e.split("-"))||[],N=ZA(k,C);let R=r;return p&&!u&&(R={...r,...eR(f==null?void 0:f.strategy)}),X("div",{ref:y,role:"tooltip",style:R,"x-placement":k,className:ye(t,T,k&&`bs-popover-${N}`),...m,children:[w("div",{className:"popover-arrow",...l}),o?w(f_,{children:i}):i]})}),FV=Object.assign($V,{Header:JA,Body:f_,POPPER_OFFSET:[0,8]}),tR=E.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,arrowProps:o,hasDoneInitialMeasure:l,popper:u,show:f,...p},m)=>{n=Ee(n,"tooltip");const y=_d(),[T]=(e==null?void 0:e.split("-"))||[],C=ZA(T,y);let k=r;return f&&!l&&(k={...r,...eR(u==null?void 0:u.strategy)}),X("div",{ref:m,style:k,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${C}`),...p,children:[w("div",{className:"tooltip-arrow",...o}),w("div",{className:`${n}-inner`,children:i})]})});tR.displayName="Tooltip";const h_=Object.assign(tR,{TOOLTIP_OFFSET:[0,6]});function jV(n){const e=E.useRef(null),t=Ee(void 0,"popover"),r=Ee(void 0,"tooltip"),i=E.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Ly(e.current,t))return FV.POPPER_OFFSET;if(Ly(e.current,r))return h_.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[i]]}function BV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=i=>t(Lh(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(Lh(i)))}const nR=E.forwardRef(({children:n,transition:e=Vo,popperConfig:t={},rootClose:r=!1,placement:i="top",show:o=!1,...l},u)=>{const f=E.useRef({}),[p,m]=E.useState(null),[y,T]=jV(l.offset),C=Dc(u,y),k=e===!0?Vo:e||void 0,N=oi(R=>{m(R),t==null||t.onFirstUpdate==null||t.onFirstUpdate(R)});return t_(()=>{p&&l.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[p,l.target]),E.useEffect(()=>{o||m(null)},[o]),w(XA,{...l,ref:C,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:N},transition:k,rootClose:r,placement:i,show:o,children:(R,{arrowProps:x,popper:L,show:V})=>{var j;BV(R,x);const q=L==null?void 0:L.placement,G=Object.assign(f.current,{state:L==null?void 0:L.state,scheduleUpdate:L==null?void 0:L.update,placement:q,outOfBoundaries:(L==null||(j=L.state)==null||(j=j.modifiersData.hide)==null?void 0:j.isReferenceHidden)||!1,strategy:t.strategy}),S=!!p;return typeof n=="function"?n({...R,placement:q,show:V,...!e&&V&&{className:"show"},popper:G,arrowProps:x,hasDoneInitialMeasure:S}):E.cloneElement(n,{...R,placement:q,arrowProps:x,popper:G,hasDoneInitialMeasure:S,className:ye(n.props.className,!e&&V&&"show"),style:{...n.props.style,...R.style}})}})});nR.displayName="Overlay";function HV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function WT(n,e,t){const[r]=e,i=r.currentTarget,o=r.relatedTarget||r.nativeEvent[t];(!o||o!==i)&&!Yu(i,o)&&n(...e)}ir.oneOf(["click","hover","focus"]);const gs=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:i,defaultShow:o=!1,onToggle:l,delay:u,placement:f,flip:p=f&&f.indexOf("auto")!==-1,...m})=>{const y=E.useRef(null),T=Dc(y,Ga(t)),C=jb(),k=E.useRef(""),[N,R]=ub(i,o,l),x=HV(u),{onFocus:L,onBlur:V,onClick:j}=typeof t!="function"?E.Children.only(t).props:{},q=Ne=>{T(Lh(Ne))},G=E.useCallback(()=>{if(C.clear(),k.current="show",!x.show){R(!0);return}C.set(()=>{k.current==="show"&&R(!0)},x.show)},[x.show,R,C]),S=E.useCallback(()=>{if(C.clear(),k.current="hide",!x.hide){R(!1);return}C.set(()=>{k.current==="hide"&&R(!1)},x.hide)},[x.hide,R,C]),b=E.useCallback((...Ne)=>{G(),L==null||L(...Ne)},[G,L]),P=E.useCallback((...Ne)=>{S(),V==null||V(...Ne)},[S,V]),M=E.useCallback((...Ne)=>{R(!N),j==null||j(...Ne)},[j,R,N]),U=E.useCallback((...Ne)=>{WT(G,Ne,"fromElement")},[G]),F=E.useCallback((...Ne)=>{WT(S,Ne,"toElement")},[S]),O=n==null?[]:[].concat(n),we={ref:q};return O.indexOf("click")!==-1&&(we.onClick=M),O.indexOf("focus")!==-1&&(we.onFocus=b,we.onBlur=P),O.indexOf("hover")!==-1&&(we.onMouseOver=U,we.onMouseOut=F),X(zt,{children:[typeof t=="function"?t(we):E.cloneElement(t,we),w(nR,{...m,show:N,onHide:S,flip:p,placement:f,popperConfig:r,target:y.current,children:e})]})},Vr=E.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const o=Ee(n,"row"),l=db(),u=fb(),f=`${o}-cols`,p=[];return l.forEach(m=>{const y=r[m];delete r[m];let T;y!=null&&typeof y=="object"?{cols:T}=y:T=y;const C=m!==u?`-${m}`:"";T!=null&&p.push(`${f}${C}-${T}`)}),w(t,{ref:i,...r,className:ye(e,o,...p)})});Vr.displayName="Row";const rR=E.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:o,...l},u)=>{n=Ee(n,"spinner");const f=`${n}-${t}`;return w(i,{ref:u,...l,className:ye(o,f,r&&`${f}-${r}`,e&&`text-${e}`)})});rR.displayName="Spinner";function Te(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{p(r.next(m))}catch(y){l(y)}}function f(m){try{p(r.throw(m))}catch(y){l(y)}}function p(m){m.done?o(m.value):i(m.value).then(u,f)}p((r=r.apply(n,[])).next())})}function zV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let Fe=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};Fe.equal=(n,e)=>new Fe("equal",n,e).toString();Fe.notEqual=(n,e)=>new Fe("notEqual",n,e).toString();Fe.lessThan=(n,e)=>new Fe("lessThan",n,e).toString();Fe.lessThanEqual=(n,e)=>new Fe("lessThanEqual",n,e).toString();Fe.greaterThan=(n,e)=>new Fe("greaterThan",n,e).toString();Fe.greaterThanEqual=(n,e)=>new Fe("greaterThanEqual",n,e).toString();Fe.isNull=n=>new Fe("isNull",n).toString();Fe.isNotNull=n=>new Fe("isNotNull",n).toString();Fe.between=(n,e,t)=>new Fe("between",n,[e,t]).toString();Fe.startsWith=(n,e)=>new Fe("startsWith",n,e).toString();Fe.endsWith=(n,e)=>new Fe("endsWith",n,e).toString();Fe.select=n=>new Fe("select",void 0,n).toString();Fe.search=(n,e)=>new Fe("search",n,e).toString();Fe.orderDesc=n=>new Fe("orderDesc",n).toString();Fe.orderAsc=n=>new Fe("orderAsc",n).toString();Fe.cursorAfter=n=>new Fe("cursorAfter",void 0,n).toString();Fe.cursorBefore=n=>new Fe("cursorBefore",void 0,n).toString();Fe.limit=n=>new Fe("limit",void 0,n).toString();Fe.offset=n=>new Fe("offset",void 0,n).toString();Fe.contains=(n,e)=>new Fe("contains",n,e).toString();Fe.or=n=>new Fe("or",void 0,n.map(e=>JSON.parse(e))).toString();Fe.and=n=>new Fe("and",void 0,n.map(e=>JSON.parse(e))).toString();class ae extends Error{constructor(e,t=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=i}}class ti{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(l=>{i.append("channels[]",l)});const o=this.config.endpointRealtime+"/realtime?"+i.toString();(o!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=o,this.realtime.socket=new WebSocket(o),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var u,f,p;if(!this.realtime.reconnect||((f=(u=this.realtime)===null||u===void 0?void 0:u.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const m=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${m/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},m)}))},onMessage:e=>{var t,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const o=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=o==null?void 0:o[`a_session_${this.config.project}`],u=i.data;l&&!u.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let f=i.data;if(f!=null&&f.channels){if(!f.channels.some(m=>this.realtime.channels.has(m)))return;this.realtime.subscriptions.forEach(m=>{f.channels.some(y=>m.channels.includes(y))&&setTimeout(()=>m.callback(f))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,o])=>o.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(o=>this.realtime.channels.add(o));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let o={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,u]of Object.entries(ti.flatten(i)))t.searchParams.append(l,u);else switch(r["content-type"]){case"application/json":o.body=JSON.stringify(i);break;case"multipart/form-data":const l=new FormData;for(const[u,f]of Object.entries(i))if(f instanceof File)l.append(u,f,f.name);else if(Array.isArray(f))for(const p of f)l.append(`${u}[]`,p);else l.append(u,f);o.body=l,delete r["content-type"];break}return{uri:t.toString(),options:o}}chunkedUpload(e,t,r={},i={},o){return Te(this,void 0,void 0,function*(){const l=Object.values(i).find(p=>p instanceof File);if(l.size<=ti.CHUNK_SIZE)return yield this.call(e,t,r,i);let u=0,f=null;for(;u<l.size;){let p=u+ti.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${u}-${p-1}/${l.size}`;const m=l.slice(u,p);let y=Object.assign(Object.assign({},i),{file:new File([m],l.name)});f=yield this.call(e,t,r,y),o&&typeof o=="function"&&o({$id:f.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/ti.CHUNK_SIZE),chunksUploaded:Math.ceil(p/ti.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),u=p}return f})}ping(){return Te(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},i={},o="json"){var l;return Te(this,void 0,void 0,function*(){const{uri:u,options:f}=this.prepareRequest(e,t,r,i);let p=null;const m=yield fetch(u,f),y=m.headers.get("x-appwrite-warning");if(y&&y.split(";").forEach(C=>console.warn("Warning: "+C)),!((l=m.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield m.json():o==="arrayBuffer"?p=yield m.arrayBuffer():p={message:yield m.text()},400<=m.status)throw new ae(p==null?void 0:p.message,m.status,p==null?void 0:p.type,p);const T=m.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[i,o]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(o)?r=Object.assign(Object.assign({},r),ti.flatten(o,l)):r[l]=o}return r}}ti.CHUNK_SIZE=1024*1024*5;class ko{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[i,o]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(o)?r=Object.assign(Object.assign({},r),ko.flatten(o,l)):r[l]=o}return r}}ko.CHUNK_SIZE=5*1024*1024;class WV{constructor(e){this.client=e}get(){return Te(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}create(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');if(typeof r>"u")throw new ae('Missing required parameter: "password"');const o="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof i<"u"&&(l.name=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("post",u,f,l)})}updateEmail(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",o,l,i)})}listIdentities(e){return Te(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}deleteIdentity(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}createJWT(){return Te(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}listLogs(e){return Te(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}updateMFA(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("patch",i,o,r)})}createMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("post",i,o,r)})}updateMfaAuthenticator(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');if(typeof t>"u")throw new ae('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof t<"u"&&(i.otp=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}deleteMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}createMfaChallenge(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("post",i,o,r)})}updateMfaChallenge(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "challengeId"');if(typeof t>"u")throw new ae('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof t<"u"&&(i.otp=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}listMfaFactors(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}getMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}createMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updateMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}updateName(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("patch",i,o,r)})}updatePassword(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",o,l,i)})}updatePhone(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "phone"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",o,l,i)})}getPrefs(){return Te(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}updatePrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("patch",i,o,r)})}createRecovery(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",o,l,i)})}updateRecovery(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');if(typeof r>"u")throw new ae('Missing required parameter: "password"');const i="/account/recovery",o={};typeof e<"u"&&(o.userId=e),typeof t<"u"&&(o.secret=t),typeof r<"u"&&(o.password=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("put",l,u,o)})}listSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}deleteSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,t)})}createAnonymousSession(){return Te(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}createEmailPasswordSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",o,l,i)})}updateMagicURLSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}createOAuth2Session(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "provider"');const o="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const u=new URL(this.client.config.endpoint+o);l.project=this.client.config.project;for(const[f,p]of Object.entries(ko.flatten(l)))u.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=u.toString();return}else return u.toString()})}updatePhoneSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}createSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",o,l,i)})}getSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}updateSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("patch",i,o,r)})}deleteSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}updateStatus(){return Te(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}createPushTarget(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');if(typeof t>"u")throw new ae('Missing required parameter: "identifier"');const i="/account/targets/push",o={};typeof e<"u"&&(o.targetId=e),typeof t<"u"&&(o.identifier=t),typeof r<"u"&&(o.providerId=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,o)})}updatePushTarget(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');if(typeof t>"u")throw new ae('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof t<"u"&&(i.identifier=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}deletePushTarget(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}createEmailToken(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');const i="/account/tokens/email",o={};typeof e<"u"&&(o.userId=e),typeof t<"u"&&(o.email=t),typeof r<"u"&&(o.phrase=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,o)})}createMagicURLToken(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');const o="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof i<"u"&&(l.phrase=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("post",u,f,l)})}createOAuth2Token(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "provider"');const o="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const u=new URL(this.client.config.endpoint+o);l.project=this.client.config.project;for(const[f,p]of Object.entries(ko.flatten(l)))u.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=u.toString();return}else return u.toString()})}createPhoneToken(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",o,l,i)})}createVerification(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("post",i,o,r)})}updateVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}createPhoneVerification(){return Te(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updatePhoneVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}}class qV{constructor(e){this.client=e}listDocuments(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),o={};typeof r<"u"&&(o.queries=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,o)})}createDocument(e,t,r,i,o){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');if(typeof i>"u")throw new ae('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),u={};typeof r<"u"&&(u.documentId=r),typeof i<"u"&&(u.data=i),typeof o<"u"&&(u.permissions=o);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",f,p,u)})}getDocument(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof i<"u"&&(l.queries=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("get",u,f,l)})}updateDocument(e,t,r,i,o){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),u={};typeof i<"u"&&(u.data=i),typeof o<"u"&&(u.permissions=o);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",f,p,u)})}deleteDocument(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),o={},l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("delete",l,u,o)})}}class KV{constructor(e){this.client=e}listFiles(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),o={};typeof t<"u"&&(o.queries=t),typeof r<"u"&&(o.search=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,o)})}createFile(e,t,r,i,o=l=>{}){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');if(typeof r>"u")throw new ae('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),u={};typeof t<"u"&&(u.fileId=t),typeof r<"u"&&(u.file=r),typeof i<"u"&&(u.permissions=i);const f=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,p,u,o)})}getFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",o,l,i)})}updateFile(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const o="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof i<"u"&&(l.permissions=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("put",u,f,l)})}deleteFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",o,l,i)})}getFileDownload(e,t){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={},o=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,u]of Object.entries(ko.flatten(i)))o.searchParams.append(l,u);i.project=this.client.config.project;for(const[l,u]of Object.entries(ti.flatten(i)))o.searchParams.append(l,u);return o.toString()}getFilePreview(e,t,r,i,o,l,u,f,p,m,y,T,C){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const k="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),N={};typeof r<"u"&&(N.width=r),typeof i<"u"&&(N.height=i),typeof o<"u"&&(N.gravity=o),typeof l<"u"&&(N.quality=l),typeof u<"u"&&(N.borderWidth=u),typeof f<"u"&&(N.borderColor=f),typeof p<"u"&&(N.borderRadius=p),typeof m<"u"&&(N.opacity=m),typeof y<"u"&&(N.rotation=y),typeof T<"u"&&(N.background=T),typeof C<"u"&&(N.output=C);const R=new URL(this.client.config.endpoint+k);N.project=this.client.config.project;for(const[x,L]of Object.entries(ko.flatten(N)))R.searchParams.append(x,L);N.project=this.client.config.project;for(const[x,L]of Object.entries(ti.flatten(N)))R.searchParams.append(x,L);return R.toString()}getFileView(e,t){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={},o=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,u]of Object.entries(ko.flatten(i)))o.searchParams.append(l,u);i.project=this.client.config.project;for(const[l,u]of Object.entries(ti.flatten(i)))o.searchParams.append(l,u);return o.toString()}}class GV{constructor(e){this.client=e}list(e,t){return Te(this,void 0,void 0,function*(){const r="/teams",i={};typeof e<"u"&&(i.queries=e),typeof t<"u"&&(i.search=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",o,l,i)})}create(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "name"');const i="/teams",o={};typeof e<"u"&&(o.teamId=e),typeof t<"u"&&(o.name=t),typeof r<"u"&&(o.roles=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,o)})}get(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}updateName(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),i={};typeof t<"u"&&(i.name=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}delete(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}listMemberships(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const i="/teams/{teamId}/memberships".replace("{teamId}",e),o={};typeof t<"u"&&(o.queries=t),typeof r<"u"&&(o.search=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,o)})}createMembership(e,t,r,i,o,l,u){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof i<"u"&&(p.userId=i),typeof o<"u"&&(p.phone=o),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof u<"u"&&(p.name=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return yield this.client.call("post",m,y,p)})}getMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",o,l,i)})}updateMembership(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');if(typeof r>"u")throw new ae('Missing required parameter: "roles"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),o={};typeof r<"u"&&(o.roles=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("patch",l,u,o)})}deleteMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",o,l,i)})}updateMembershipStatus(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');if(typeof r>"u")throw new ae('Missing required parameter: "userId"');if(typeof i>"u")throw new ae('Missing required parameter: "secret"');const o="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("patch",u,f,l)})}getPrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}updatePrefs(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),i={};typeof t<"u"&&(i.prefs=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}}var iR,sR;class fc{static custom(e){return e}static unique(e=7){const t=zV(fc,iR,"m",sR).call(fc);let r="";for(let i=0;i<e;i++){const o=Math.floor(Math.random()*16).toString(16);r+=o}return t+r}}iR=fc,sR=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var qT;(function(n){n.Totp="totp"})(qT||(qT={}));var KT;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(KT||(KT={}));var Vy;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(Vy||(Vy={}));var GT;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(GT||(GT={}));var QT;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(QT||(QT={}));var YT;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(YT||(YT={}));var XT;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(XT||(XT={}));var JT;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(JT||(JT={}));var ZT;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(ZT||(ZT={}));const Sd=new ti;Sd.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const Lc=new KV(Sd),Ju=new WV(Sd),Yn=new qV(Sd),QV=new GV(Sd);async function YV(){return{session:await Ju.getSession("current")}}const p_=async()=>{try{return await Ju.get()}catch(n){console.error(n)}};async function XV(){await Ju.deleteSession("current"),console.log("log out")}async function JV(){const n=await p_();return n?ZV(n):(console.error("User data is undefined"),null)}function ZV(n){return{name:n.name,$id:n.$id,email:n.email}}async function eU(){return{teams:(await QV.list()).teams}}const oR=E.createContext(void 0),tU=({children:n})=>{const e=nU();return w(oR.Provider,{value:e,children:n})};function nU(){const[n,e]=E.useState(),[t,r]=E.useState();E.useEffect(()=>{(async function(){const f=await YV();e(f.session)})()},[]),E.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:f}=await eU(),p=!!f.find(m=>m.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function i(){await Ju.createOAuth2Session(Vy.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery")}async function o(u,f){try{await Ju.createEmailPasswordSession(u,f)}catch(p){console.error(p)}}async function l(){await XV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:i,logInAdmin:o}}function Zu(){const n=E.useContext(oR);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ht(){return Ht=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ht.apply(this,arguments)}var un;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(un||(un={}));const eI="popstate";function rU(n){n===void 0&&(n={});function e(i,o){let{pathname:l="/",search:u="",hash:f=""}=Bs(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),ed("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");u=p===-1?f:f.slice(0,p)}return u+"#"+(typeof o=="string"?o:Va(o))}function r(i,o){Ma(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return sU(e,t,r,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ma(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iU(){return Math.random().toString(36).substr(2,8)}function tI(n,e){return{usr:n.state,key:n.key,idx:e}}function ed(n,e,t,r){return t===void 0&&(t=null),Ht({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Bs(e):e,{state:t,key:e&&e.key||r||iU()})}function Va(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function sU(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=un.Pop,f=null,p=m();p==null&&(p=0,l.replaceState(Ht({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function y(){u=un.Pop;let R=m(),x=R==null?null:R-p;p=R,f&&f({action:u,location:N.location,delta:x})}function T(R,x){u=un.Push;let L=ed(N.location,R,x);t&&t(L,R),p=m()+1;let V=tI(L,p),j=N.createHref(L);try{l.pushState(V,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(j)}o&&f&&f({action:u,location:N.location,delta:1})}function C(R,x){u=un.Replace;let L=ed(N.location,R,x);t&&t(L,R),p=m();let V=tI(L,p),j=N.createHref(L);l.replaceState(V,"",j),o&&f&&f({action:u,location:N.location,delta:0})}function k(R){let x=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof R=="string"?R:Va(R);return L=L.replace(/ $/,"%20"),lt(x,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,x)}let N={get action(){return u},get location(){return n(i,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(eI,y),f=R,()=>{i.removeEventListener(eI,y),f=null}},createHref(R){return e(i,R)},createURL:k,encodeLocation(R){let x=k(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:T,replace:C,go(R){return l.go(R)}};return N}var Pt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Pt||(Pt={}));const oU=new Set(["lazy","caseSensitive","path","id","index","children"]);function aU(n){return n.index===!0}function Uh(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,o)=>{let l=[...t,String(o)],u=typeof i.id=="string"?i.id:l.join("-");if(lt(i.index!==!0||!i.children,"Cannot specify children on an index route"),lt(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),aU(i)){let f=Ht({},i,e(i),{id:u});return r[u]=f,f}else{let f=Ht({},i,e(i),{id:u,children:void 0});return r[u]=f,i.children&&(f.children=Uh(i.children,e,l,r)),f}})}function Ia(n,e,t){return t===void 0&&(t="/"),_h(n,e,t,!1)}function _h(n,e,t,r){let i=typeof e=="string"?Bs(e):e,o=Os(i.pathname||"/",t);if(o==null)return null;let l=aR(n);cU(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let p=wU(o);u=vU(l[f],p,r)}return u}function lU(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function aR(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(lt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=As([r,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),aR(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:gU(p,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let f of lR(o.path))i(o,l,f)}),e}function lR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=lR(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function cU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yU(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const uU=/^:[\w-]+$/,dU=3,fU=2,hU=1,pU=10,mU=-2,nI=n=>n==="*";function gU(n,e){let t=n.split("/"),r=t.length;return t.some(nI)&&(r+=mU),e&&(r+=fU),t.filter(i=>!nI(i)).reduce((i,o)=>i+(uU.test(o)?dU:o===""?hU:pU),r)}function yU(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function vU(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],p=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=$h({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),T=f.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=$h({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:As([o,y.pathname]),pathnameBase:IU(As([o,y.pathnameBase])),route:T}),y.pathnameBase!=="/"&&(o=As([o,y.pathnameBase]))}return l}function $h(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_U(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,m,y)=>{let{paramName:T,isOptional:C}=m;if(T==="*"){let N=u[y]||"";l=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const k=u[y];return C&&!k?p[T]=void 0:p[T]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function _U(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ma(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wU(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ma(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Os(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function EU(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Bs(n):n;return{pathname:t?t.startsWith("/")?t:TU(t,e):e,search:SU(r),hash:CU(i)}}function TU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ny(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ip(n,e){let t=cR(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Sp(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Bs(n):(i=Ht({},n),lt(!i.pathname||!i.pathname.includes("?"),ny("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),ny("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),ny("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),y-=1;i.pathname=T.join("/")}u=y>=0?e[y]:"/"}let f=EU(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}const As=n=>n.join("/").replace(/\/\/+/g,"/"),IU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SU=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Fh{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function td(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const uR=["post","put","patch","delete"],bU=new Set(uR),AU=["get",...uR],RU=new Set(AU),kU=new Set([301,302,303,307,308]),NU=new Set([307,308]),ry={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},m_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DU=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),dR="remix-router-transitions";function xU(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;lt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let B=n.detectErrorBoundary;i=K=>({hasErrorBoundary:B(K)})}else i=DU;let o={},l=Uh(n.routes,i,void 0,o),u,f=n.basename||"/",p=n.dataStrategy||VU,m=n.patchRoutesOnNavigation,y=Ht({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,C=new Set,k=null,N=null,R=null,x=n.hydrationData!=null,L=Ia(l,n.history.location,f),V=!1,j=null;if(L==null&&!m){let B=wr(404,{pathname:n.history.location.pathname}),{matches:K,route:Z}=hI(l);L=K,j={[Z.id]:B}}L&&!n.hydrationData&&Pi(L,l,n.history.location.pathname).active&&(L=null);let q;if(L)if(L.some(B=>B.route.lazy))q=!1;else if(!L.some(B=>B.route.loader))q=!0;else if(y.v7_partialHydration){let B=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let Z=L.findIndex(ie=>K[ie.route.id]!==void 0);q=L.slice(0,Z+1).every(ie=>!$y(ie.route,B,K))}else q=L.every(Z=>!$y(Z.route,B,K))}else q=n.hydrationData!=null;else if(q=!1,L=[],y.v7_partialHydration){let B=Pi(null,l,n.history.location.pathname);B.active&&B.matches&&(V=!0,L=B.matches)}let G,S={historyAction:n.history.action,location:n.history.location,matches:L,initialized:q,navigation:ry,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||j,fetchers:new Map,blockers:new Map},b=un.Pop,P=!1,M,U=!1,F=new Map,O=null,we=!1,Ne=!1,je=[],Se=new Set,re=new Map,me=0,ce=-1,z=new Map,te=new Set,pe=new Map,ve=new Map,Ie=new Set,Ae=new Map,Ge=new Map,Be;function ot(){if(T=n.history.listen(B=>{let{action:K,location:Z,delta:ie}=B;if(Be){Be(),Be=void 0;return}Ma(Ge.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=ts({currentLocation:S.location,nextLocation:Z,historyAction:K});if(_e&&ie!=null){let Pe=new Promise(Qe=>{Be=Qe});n.history.go(ie*-1),ci(_e,{state:"blocked",location:Z,proceed(){ci(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),Pe.then(()=>n.history.go(ie))},reset(){let Qe=new Map(S.blockers);Qe.set(_e,bu),st({blockers:Qe})}});return}return Wt(K,Z)}),t){XU(e,F);let B=()=>JU(e,F);e.addEventListener("pagehide",B),O=()=>e.removeEventListener("pagehide",B)}return S.initialized||Wt(un.Pop,S.location,{initialHydration:!0}),G}function It(){T&&T(),O&&O(),C.clear(),M&&M.abort(),S.fetchers.forEach((B,K)=>Zn(K)),S.blockers.forEach((B,K)=>ki(K))}function bt(B){return C.add(B),()=>C.delete(B)}function st(B,K){K===void 0&&(K={}),S=Ht({},S,B);let Z=[],ie=[];y.v7_fetcherPersist&&S.fetchers.forEach((_e,Pe)=>{_e.state==="idle"&&(Ie.has(Pe)?ie.push(Pe):Z.push(Pe))}),Ie.forEach(_e=>{!S.fetchers.has(_e)&&!re.has(_e)&&ie.push(_e)}),[...C].forEach(_e=>_e(S,{deletedFetchers:ie,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),y.v7_fetcherPersist?(Z.forEach(_e=>S.fetchers.delete(_e)),ie.forEach(_e=>Zn(_e))):ie.forEach(_e=>Ie.delete(_e))}function Dt(B,K,Z){var ie,_e;let{flushSync:Pe}=Z===void 0?{}:Z,Qe=S.actionData!=null&&S.navigation.formMethod!=null&&Ti(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ie=B.state)==null?void 0:ie._isRedirect)!==!0,De;K.actionData?Object.keys(K.actionData).length>0?De=K.actionData:De=null:Qe?De=S.actionData:De=null;let Re=K.loaderData?dI(S.loaderData,K.loaderData,K.matches||[],K.errors):S.loaderData,Ce=S.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Ze,Jt)=>Ce.set(Jt,bu)));let xe=P===!0||S.navigation.formMethod!=null&&Ti(S.navigation.formMethod)&&((_e=B.state)==null?void 0:_e._isRedirect)!==!0;u&&(l=u,u=void 0),we||b===un.Pop||(b===un.Push?n.history.push(B,B.state):b===un.Replace&&n.history.replace(B,B.state));let et;if(b===un.Pop){let Ze=F.get(S.location.pathname);Ze&&Ze.has(B.pathname)?et={currentLocation:S.location,nextLocation:B}:F.has(B.pathname)&&(et={currentLocation:B,nextLocation:S.location})}else if(U){let Ze=F.get(S.location.pathname);Ze?Ze.add(B.pathname):(Ze=new Set([B.pathname]),F.set(S.location.pathname,Ze)),et={currentLocation:S.location,nextLocation:B}}st(Ht({},K,{actionData:De,loaderData:Re,historyAction:b,location:B,initialized:!0,navigation:ry,revalidation:"idle",restoreScrollPosition:Ni(B,K.matches||S.matches),preventScrollReset:xe,blockers:Ce}),{viewTransitionOpts:et,flushSync:Pe===!0}),b=un.Pop,P=!1,U=!1,we=!1,Ne=!1,je=[]}async function Xt(B,K){if(typeof B=="number"){n.history.go(B);return}let Z=Uy(S.location,S.matches,f,y.v7_prependBasename,B,y.v7_relativeSplatPath,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:ie,submission:_e,error:Pe}=rI(y.v7_normalizeFormMethod,!1,Z,K),Qe=S.location,De=ed(S.location,ie,K&&K.state);De=Ht({},De,n.history.encodeLocation(De));let Re=K&&K.replace!=null?K.replace:void 0,Ce=un.Push;Re===!0?Ce=un.Replace:Re===!1||_e!=null&&Ti(_e.formMethod)&&_e.formAction===S.location.pathname+S.location.search&&(Ce=un.Replace);let xe=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,et=(K&&K.flushSync)===!0,Ze=ts({currentLocation:Qe,nextLocation:De,historyAction:Ce});if(Ze){ci(Ze,{state:"blocked",location:De,proceed(){ci(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),Xt(B,K)},reset(){let Jt=new Map(S.blockers);Jt.set(Ze,bu),st({blockers:Jt})}});return}return await Wt(Ce,De,{submission:_e,pendingError:Pe,preventScrollReset:xe,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:et})}function it(){if(yt(),st({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Wt(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Wt(b||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:U===!0})}}async function Wt(B,K,Z){M&&M.abort(),M=null,b=B,we=(Z&&Z.startUninterruptedRevalidation)===!0,ea(S.location,S.matches),P=(Z&&Z.preventScrollReset)===!0,U=(Z&&Z.enableViewTransition)===!0;let ie=u||l,_e=Z&&Z.overrideNavigation,Pe=Z!=null&&Z.initialHydration&&S.matches&&S.matches.length>0&&!V?S.matches:Ia(ie,K,f),Qe=(Z&&Z.flushSync)===!0,De=Pi(Pe,ie,K.pathname);if(De.active&&De.matches&&(Pe=De.matches),!Pe){let{error:St,notFoundMatches:ct,route:kt}=$n(K.pathname);Dt(K,{matches:ct,loaderData:{},errors:{[kt.id]:St}},{flushSync:Qe});return}if(S.initialized&&!Ne&&HU(S.location,K)&&!(Z&&Z.submission&&Ti(Z.submission.formMethod))){Dt(K,{matches:Pe},{flushSync:Qe});return}M=new AbortController;let Re=Fl(n.history,K,M.signal,Z&&Z.submission),Ce;if(Z&&Z.pendingError)Ce=[Sa(Pe).route.id,{type:Pt.error,error:Z.pendingError}];else if(Z&&Z.submission&&Ti(Z.submission.formMethod)){let St=await _n(Re,K,Z.submission,Pe,De.active,{replace:Z.replace,flushSync:Qe});if(St.shortCircuited)return;if(St.pendingActionResult){let[ct,kt]=St.pendingActionResult;if(Lr(kt)&&td(kt.error)&&kt.error.status===404){M=null,Dt(K,{matches:St.matches,loaderData:{},errors:{[ct]:kt.error}});return}}Pe=St.matches||Pe,Ce=St.pendingActionResult,_e=iy(K,Z.submission),Qe=!1,De.active=!1,Re=Fl(n.history,Re.url,Re.signal)}let{shortCircuited:xe,matches:et,loaderData:Ze,errors:Jt}=await Br(Re,K,Pe,De.active,_e,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Qe,Ce);xe||(M=null,Dt(K,Ht({matches:et||Pe},fI(Ce),{loaderData:Ze,errors:Jt})))}async function _n(B,K,Z,ie,_e,Pe){Pe===void 0&&(Pe={}),yt();let Qe=QU(K,Z);if(st({navigation:Qe},{flushSync:Pe.flushSync===!0}),_e){let Ce=await dr(ie,K.pathname,B.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let xe=Sa(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[xe,{type:Pt.error,error:Ce.error}]}}else if(Ce.matches)ie=Ce.matches;else{let{notFoundMatches:xe,error:et,route:Ze}=$n(K.pathname);return{matches:xe,pendingActionResult:[Ze.id,{type:Pt.error,error:et}]}}}let De,Re=Du(ie,K);if(!Re.route.action&&!Re.route.lazy)De={type:Pt.error,error:wr(405,{method:B.method,pathname:K.pathname,routeId:Re.route.id})};else if(De=(await hn("action",S,B,[Re],ie,null))[Re.route.id],B.signal.aborted)return{shortCircuited:!0};if(Ra(De)){let Ce;return Pe&&Pe.replace!=null?Ce=Pe.replace:Ce=lI(De.response.headers.get("Location"),new URL(B.url),f)===S.location.pathname+S.location.search,await Lt(B,De,!0,{submission:Z,replace:Ce}),{shortCircuited:!0}}if(Ao(De))throw wr(400,{type:"defer-action"});if(Lr(De)){let Ce=Sa(ie,Re.route.id);return(Pe&&Pe.replace)!==!0&&(b=un.Push),{matches:ie,pendingActionResult:[Ce.route.id,De]}}return{matches:ie,pendingActionResult:[Re.route.id,De]}}async function Br(B,K,Z,ie,_e,Pe,Qe,De,Re,Ce,xe){let et=_e||iy(K,Pe),Ze=Pe||Qe||mI(et),Jt=!we&&(!y.v7_partialHydration||!Re);if(ie){if(Jt){let At=Xn(xe);st(Ht({navigation:et},At!==void 0?{actionData:At}:{}),{flushSync:Ce})}let ft=await dr(Z,K.pathname,B.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let At=Sa(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[At]:ft.error}}}else if(ft.matches)Z=ft.matches;else{let{error:At,notFoundMatches:on,route:Oi}=$n(K.pathname);return{matches:on,loaderData:{},errors:{[Oi.id]:At}}}}let St=u||l,[ct,kt]=sI(n.history,S,Z,Ze,K,y.v7_partialHydration&&Re===!0,y.v7_skipActionErrorRevalidation,Ne,je,Se,Ie,pe,te,St,f,xe);if(ur(ft=>!(Z&&Z.some(At=>At.route.id===ft))||ct&&ct.some(At=>At.route.id===ft)),ce=++me,ct.length===0&&kt.length===0){let ft=cr();return Dt(K,Ht({matches:Z,loaderData:{},errors:xe&&Lr(xe[1])?{[xe[0]]:xe[1].error}:null},fI(xe),ft?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Ce}),{shortCircuited:!0}}if(Jt){let ft={};if(!ie){ft.navigation=et;let At=Xn(xe);At!==void 0&&(ft.actionData=At)}kt.length>0&&(ft.fetchers=qt(kt)),st(ft,{flushSync:Ce})}kt.forEach(ft=>{at(ft.key),ft.controller&&re.set(ft.key,ft.controller)});let Hr=()=>kt.forEach(ft=>at(ft.key));M&&M.signal.addEventListener("abort",Hr);let{loaderResults:Di,fetcherResults:Cr}=await $e(S,Z,ct,kt,B);if(B.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Hr),kt.forEach(ft=>re.delete(ft.key));let dt=ih(Di);if(dt)return await Lt(B,dt.result,!0,{replace:De}),{shortCircuited:!0};if(dt=ih(Cr),dt)return te.add(dt.key),await Lt(B,dt.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Ks,errors:br}=uI(S,Z,Di,xe,kt,Cr,Ae);Ae.forEach((ft,At)=>{ft.subscribe(on=>{(on||ft.done)&&Ae.delete(At)})}),y.v7_partialHydration&&Re&&S.errors&&(br=Ht({},S.errors,br));let Fn=cr(),Rn=Ri(ce),xi=Fn||Rn||kt.length>0;return Ht({matches:Z,loaderData:Ks,errors:br},xi?{fetchers:new Map(S.fetchers)}:{})}function Xn(B){if(B&&!Lr(B[1]))return{[B[0]]:B[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function qt(B){return B.forEach(K=>{let Z=S.fetchers.get(K.key),ie=Au(void 0,Z?Z.data:void 0);S.fetchers.set(K.key,ie)}),new Map(S.fetchers)}function sn(B,K,Z,ie){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");at(B);let _e=(ie&&ie.flushSync)===!0,Pe=u||l,Qe=Uy(S.location,S.matches,f,y.v7_prependBasename,Z,y.v7_relativeSplatPath,K,ie==null?void 0:ie.relative),De=Ia(Pe,Qe,f),Re=Pi(De,Pe,Qe);if(Re.active&&Re.matches&&(De=Re.matches),!De){wn(B,K,wr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Ce,submission:xe,error:et}=rI(y.v7_normalizeFormMethod,!0,Qe,ie);if(et){wn(B,K,et,{flushSync:_e});return}let Ze=Du(De,Ce),Jt=(ie&&ie.preventScrollReset)===!0;if(xe&&Ti(xe.formMethod)){lr(B,K,Ce,Ze,De,Re.active,_e,Jt,xe);return}pe.set(B,{routeId:K,path:Ce}),Un(B,K,Ce,Ze,De,Re.active,_e,Jt,xe)}async function lr(B,K,Z,ie,_e,Pe,Qe,De,Re){yt(),pe.delete(B);function Ce(ht){if(!ht.route.action&&!ht.route.lazy){let zr=wr(405,{method:Re.formMethod,pathname:Z,routeId:K});return wn(B,K,zr,{flushSync:Qe}),!0}return!1}if(!Pe&&Ce(ie))return;let xe=S.fetchers.get(B);Mt(B,YU(Re,xe),{flushSync:Qe});let et=new AbortController,Ze=Fl(n.history,Z,et.signal,Re);if(Pe){let ht=await dr(_e,new URL(Ze.url).pathname,Ze.signal);if(ht.type==="aborted")return;if(ht.type==="error"){wn(B,K,ht.error,{flushSync:Qe});return}else if(ht.matches){if(_e=ht.matches,ie=Du(_e,Z),Ce(ie))return}else{wn(B,K,wr(404,{pathname:Z}),{flushSync:Qe});return}}re.set(B,et);let Jt=me,ct=(await hn("action",S,Ze,[ie],_e,B))[ie.route.id];if(Ze.signal.aborted){re.get(B)===et&&re.delete(B);return}if(y.v7_fetcherPersist&&Ie.has(B)){if(Ra(ct)||Lr(ct)){Mt(B,_o(void 0));return}}else{if(Ra(ct))if(re.delete(B),ce>Jt){Mt(B,_o(void 0));return}else return te.add(B),Mt(B,Au(Re)),Lt(Ze,ct,!1,{fetcherSubmission:Re,preventScrollReset:De});if(Lr(ct)){wn(B,K,ct.error);return}}if(Ao(ct))throw wr(400,{type:"defer-action"});let kt=S.navigation.location||S.location,Hr=Fl(n.history,kt,et.signal),Di=u||l,Cr=S.navigation.state!=="idle"?Ia(Di,S.navigation.location,f):S.matches;lt(Cr,"Didn't find any matches after fetcher action");let dt=++me;z.set(B,dt);let Ks=Au(Re,ct.data);S.fetchers.set(B,Ks);let[br,Fn]=sI(n.history,S,Cr,Re,kt,!1,y.v7_skipActionErrorRevalidation,Ne,je,Se,Ie,pe,te,Di,f,[ie.route.id,ct]);Fn.filter(ht=>ht.key!==B).forEach(ht=>{let zr=ht.key,na=S.fetchers.get(zr),nl=Au(void 0,na?na.data:void 0);S.fetchers.set(zr,nl),at(zr),ht.controller&&re.set(zr,ht.controller)}),st({fetchers:new Map(S.fetchers)});let Rn=()=>Fn.forEach(ht=>at(ht.key));et.signal.addEventListener("abort",Rn);let{loaderResults:xi,fetcherResults:ft}=await $e(S,Cr,br,Fn,Hr);if(et.signal.aborted)return;et.signal.removeEventListener("abort",Rn),z.delete(B),re.delete(B),Fn.forEach(ht=>re.delete(ht.key));let At=ih(xi);if(At)return Lt(Hr,At.result,!1,{preventScrollReset:De});if(At=ih(ft),At)return te.add(At.key),Lt(Hr,At.result,!1,{preventScrollReset:De});let{loaderData:on,errors:Oi}=uI(S,Cr,xi,void 0,Fn,ft,Ae);if(S.fetchers.has(B)){let ht=_o(ct.data);S.fetchers.set(B,ht)}Ri(dt),S.navigation.state==="loading"&&dt>ce?(lt(b,"Expected pending action"),M&&M.abort(),Dt(S.navigation.location,{matches:Cr,loaderData:on,errors:Oi,fetchers:new Map(S.fetchers)})):(st({errors:Oi,loaderData:dI(S.loaderData,on,Cr,Oi),fetchers:new Map(S.fetchers)}),Ne=!1)}async function Un(B,K,Z,ie,_e,Pe,Qe,De,Re){let Ce=S.fetchers.get(B);Mt(B,Au(Re,Ce?Ce.data:void 0),{flushSync:Qe});let xe=new AbortController,et=Fl(n.history,Z,xe.signal);if(Pe){let ct=await dr(_e,new URL(et.url).pathname,et.signal);if(ct.type==="aborted")return;if(ct.type==="error"){wn(B,K,ct.error,{flushSync:Qe});return}else if(ct.matches)_e=ct.matches,ie=Du(_e,Z);else{wn(B,K,wr(404,{pathname:Z}),{flushSync:Qe});return}}re.set(B,xe);let Ze=me,St=(await hn("loader",S,et,[ie],_e,B))[ie.route.id];if(Ao(St)&&(St=await g_(St,et.signal,!0)||St),re.get(B)===xe&&re.delete(B),!et.signal.aborted){if(Ie.has(B)){Mt(B,_o(void 0));return}if(Ra(St))if(ce>Ze){Mt(B,_o(void 0));return}else{te.add(B),await Lt(et,St,!1,{preventScrollReset:De});return}if(Lr(St)){wn(B,K,St.error);return}lt(!Ao(St),"Unhandled fetcher deferred data"),Mt(B,_o(St.data))}}async function Lt(B,K,Z,ie){let{submission:_e,fetcherSubmission:Pe,preventScrollReset:Qe,replace:De}=ie===void 0?{}:ie;K.response.headers.has("X-Remix-Revalidate")&&(Ne=!0);let Re=K.response.headers.get("Location");lt(Re,"Expected a Location header on the redirect Response"),Re=lI(Re,new URL(B.url),f);let Ce=ed(S.location,Re,{_isRedirect:!0});if(t){let ct=!1;if(K.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(m_.test(Re)){const kt=n.history.createURL(Re);ct=kt.origin!==e.location.origin||Os(kt.pathname,f)==null}if(ct){De?e.location.replace(Re):e.location.assign(Re);return}}M=null;let xe=De===!0||K.response.headers.has("X-Remix-Replace")?un.Replace:un.Push,{formMethod:et,formAction:Ze,formEncType:Jt}=S.navigation;!_e&&!Pe&&et&&Ze&&Jt&&(_e=mI(S.navigation));let St=_e||Pe;if(NU.has(K.response.status)&&St&&Ti(St.formMethod))await Wt(xe,Ce,{submission:Ht({},St,{formAction:Re}),preventScrollReset:Qe||P,enableViewTransition:Z?U:void 0});else{let ct=iy(Ce,_e);await Wt(xe,Ce,{overrideNavigation:ct,fetcherSubmission:Pe,preventScrollReset:Qe||P,enableViewTransition:Z?U:void 0})}}async function hn(B,K,Z,ie,_e,Pe){let Qe,De={};try{Qe=await UU(p,B,K,Z,ie,_e,Pe,o,i)}catch(Re){return ie.forEach(Ce=>{De[Ce.route.id]={type:Pt.error,error:Re}}),De}for(let[Re,Ce]of Object.entries(Qe))if(zU(Ce)){let xe=Ce.result;De[Re]={type:Pt.redirect,response:jU(xe,Z,Re,_e,f,y.v7_relativeSplatPath)}}else De[Re]=await FU(Ce);return De}async function $e(B,K,Z,ie,_e){let Pe=B.matches,Qe=hn("loader",B,_e,Z,K,null),De=Promise.all(ie.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let Ze=(await hn("loader",B,Fl(n.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:Ze}}else return Promise.resolve({[xe.key]:{type:Pt.error,error:wr(404,{pathname:xe.path})}})})),Re=await Qe,Ce=(await De).reduce((xe,et)=>Object.assign(xe,et),{});return await Promise.all([KU(K,Re,_e.signal,Pe,B.loaderData),GU(K,Ce,ie)]),{loaderResults:Re,fetcherResults:Ce}}function yt(){Ne=!0,je.push(...ur()),pe.forEach((B,K)=>{re.has(K)&&Se.add(K),at(K)})}function Mt(B,K,Z){Z===void 0&&(Z={}),S.fetchers.set(B,K),st({fetchers:new Map(S.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function wn(B,K,Z,ie){ie===void 0&&(ie={});let _e=Sa(S.matches,K);Zn(B),st({errors:{[_e.route.id]:Z},fetchers:new Map(S.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Jn(B){return ve.set(B,(ve.get(B)||0)+1),Ie.has(B)&&Ie.delete(B),S.fetchers.get(B)||PU}function Zn(B){let K=S.fetchers.get(B);re.has(B)&&!(K&&K.state==="loading"&&z.has(B))&&at(B),pe.delete(B),z.delete(B),te.delete(B),y.v7_fetcherPersist&&Ie.delete(B),Se.delete(B),S.fetchers.delete(B)}function ze(B){let K=(ve.get(B)||0)-1;K<=0?(ve.delete(B),Ie.add(B),y.v7_fetcherPersist||Zn(B)):ve.set(B,K),st({fetchers:new Map(S.fetchers)})}function at(B){let K=re.get(B);K&&(K.abort(),re.delete(B))}function En(B){for(let K of B){let Z=Jn(K),ie=_o(Z.data);S.fetchers.set(K,ie)}}function cr(){let B=[],K=!1;for(let Z of te){let ie=S.fetchers.get(Z);lt(ie,"Expected fetcher: "+Z),ie.state==="loading"&&(te.delete(Z),B.push(Z),K=!0)}return En(B),K}function Ri(B){let K=[];for(let[Z,ie]of z)if(ie<B){let _e=S.fetchers.get(Z);lt(_e,"Expected fetcher: "+Z),_e.state==="loading"&&(at(Z),z.delete(Z),K.push(Z))}return En(K),K.length>0}function Zo(B,K){let Z=S.blockers.get(B)||bu;return Ge.get(B)!==K&&Ge.set(B,K),Z}function ki(B){S.blockers.delete(B),Ge.delete(B)}function ci(B,K){let Z=S.blockers.get(B)||bu;lt(Z.state==="unblocked"&&K.state==="blocked"||Z.state==="blocked"&&K.state==="blocked"||Z.state==="blocked"&&K.state==="proceeding"||Z.state==="blocked"&&K.state==="unblocked"||Z.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+K.state);let ie=new Map(S.blockers);ie.set(B,K),st({blockers:ie})}function ts(B){let{currentLocation:K,nextLocation:Z,historyAction:ie}=B;if(Ge.size===0)return;Ge.size>1&&Ma(!1,"A router only supports one blocker at a time");let _e=Array.from(Ge.entries()),[Pe,Qe]=_e[_e.length-1],De=S.blockers.get(Pe);if(!(De&&De.state==="proceeding")&&Qe({currentLocation:K,nextLocation:Z,historyAction:ie}))return Pe}function $n(B){let K=wr(404,{pathname:B}),Z=u||l,{matches:ie,route:_e}=hI(Z);return ur(),{notFoundMatches:ie,route:_e,error:K}}function ur(B){let K=[];return Ae.forEach((Z,ie)=>{(!B||B(ie))&&(Z.cancel(),K.push(ie),Ae.delete(ie))}),K}function qs(B,K,Z){if(k=B,R=K,N=Z||null,!x&&S.navigation===ry){x=!0;let ie=Ni(S.location,S.matches);ie!=null&&st({restoreScrollPosition:ie})}return()=>{k=null,R=null,N=null}}function Sr(B,K){return N&&N(B,K.map(ie=>lU(ie,S.loaderData)))||B.key}function ea(B,K){if(k&&R){let Z=Sr(B,K);k[Z]=R()}}function Ni(B,K){if(k){let Z=Sr(B,K),ie=k[Z];if(typeof ie=="number")return ie}return null}function Pi(B,K,Z){if(m)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:_h(K,Z,f,!0)}}else return{active:!0,matches:_h(K,Z,f,!0)||[]};return{active:!1,matches:null}}async function dr(B,K,Z){if(!m)return{type:"success",matches:B};let ie=B;for(;;){let _e=u==null,Pe=u||l,Qe=o;try{await m({signal:Z,path:K,matches:ie,patch:(Ce,xe)=>{Z.aborted||aI(Ce,xe,Pe,Qe,i)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:ie}}finally{_e&&!Z.aborted&&(l=[...l])}if(Z.aborted)return{type:"aborted"};let De=Ia(Pe,K,f);if(De)return{type:"success",matches:De};let Re=_h(Pe,K,f,!0);if(!Re||ie.length===Re.length&&ie.every((Ce,xe)=>Ce.route.id===Re[xe].route.id))return{type:"success",matches:null};ie=Re}}function ta(B){o={},u=Uh(B,i,void 0,o)}function Kt(B,K){let Z=u==null;aI(B,K,u||l,o,i),Z&&(l=[...l],st({}))}return G={get basename(){return f},get future(){return y},get state(){return S},get routes(){return l},get window(){return e},initialize:ot,subscribe:bt,enableScrollRestoration:qs,navigate:Xt,fetch:sn,revalidate:it,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:Jn,deleteFetcher:ze,dispose:It,getBlocker:Zo,deleteBlocker:ki,patchRoutes:Kt,_internalFetchControllers:re,_internalActiveDeferreds:Ae,_internalSetRoutes:ta},G}function OU(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Uy(n,e,t,r,i,o,l,u){let f,p;if(l){f=[];for(let y of e)if(f.push(y),y.route.id===l){p=y;break}}else f=e,p=e[e.length-1];let m=Sp(i||".",Ip(f,o),Os(n.pathname,t)||n.pathname,u==="path");if(i==null&&(m.search=n.search,m.hash=n.hash),(i==null||i===""||i===".")&&p){let y=y_(m.search);if(p.route.index&&!y)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&y){let T=new URLSearchParams(m.search),C=T.getAll("index");T.delete("index"),C.filter(N=>N).forEach(N=>T.append("index",N));let k=T.toString();m.search=k?"?"+k:""}}return r&&t!=="/"&&(m.pathname=m.pathname==="/"?t:As([t,m.pathname])),Va(m)}function rI(n,e,t,r){if(!r||!OU(r))return{path:t};if(r.formMethod&&!qU(r.formMethod))return{path:t,error:wr(405,{method:r.formMethod})};let i=()=>({path:t,error:wr(400,{type:"invalid-body"})}),o=r.formMethod||"get",l=n?o.toUpperCase():o.toLowerCase(),u=pR(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ti(l))return i();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((C,k)=>{let[N,R]=k;return""+C+N+"="+R+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!Ti(l))return i();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}lt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=Fy(r.formData),p=r.formData;else if(r.body instanceof FormData)f=Fy(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=cI(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=cI(f)}catch{return i()}let m={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Ti(m.formMethod))return{path:t,submission:m};let y=Bs(t);return e&&y.search&&y_(y.search)&&f.append("index",""),y.search="?"+f,{path:Va(y),submission:m}}function iI(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function sI(n,e,t,r,i,o,l,u,f,p,m,y,T,C,k,N){let R=N?Lr(N[1])?N[1].error:N[1].data:void 0,x=n.createURL(e.location),L=n.createURL(i),V=t;o&&e.errors?V=iI(t,Object.keys(e.errors)[0],!0):N&&Lr(N[1])&&(V=iI(t,N[0]));let j=N?N[1].statusCode:void 0,q=l&&j&&j>=400,G=V.filter((b,P)=>{let{route:M}=b;if(M.lazy)return!0;if(M.loader==null)return!1;if(o)return $y(M,e.loaderData,e.errors);if(LU(e.loaderData,e.matches[P],b)||f.some(O=>O===b.route.id))return!0;let U=e.matches[P],F=b;return oI(b,Ht({currentUrl:x,currentParams:U.params,nextUrl:L,nextParams:F.params},r,{actionResult:R,actionStatus:j,defaultShouldRevalidate:q?!1:u||x.pathname+x.search===L.pathname+L.search||x.search!==L.search||fR(U,F)}))}),S=[];return y.forEach((b,P)=>{if(o||!t.some(we=>we.route.id===b.routeId)||m.has(P))return;let M=Ia(C,b.path,k);if(!M){S.push({key:P,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(P),F=Du(M,b.path),O=!1;T.has(P)?O=!1:p.has(P)?(p.delete(P),O=!0):U&&U.state!=="idle"&&U.data===void 0?O=u:O=oI(F,Ht({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:L,nextParams:t[t.length-1].params},r,{actionResult:R,actionStatus:j,defaultShouldRevalidate:q?!1:u})),O&&S.push({key:P,routeId:b.routeId,path:b.path,matches:M,match:F,controller:new AbortController})}),[G,S]}function $y(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function LU(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function fR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function oI(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function aI(n,e,t,r,i){var o;let l;if(n){let p=r[n];lt(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let u=e.filter(p=>!l.some(m=>hR(p,m))),f=Uh(u,i,[n||"_","patch",String(((o=l)==null?void 0:o.length)||"0")],r);l.push(...f)}function hR(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>hR(t,o))}):!1}async function MU(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];lt(i,"No route found in manifest");let o={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";Ma(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!oU.has(l)&&(o[l]=r[l])}Object.assign(i,o),Object.assign(i,Ht({},e(i),{lazy:void 0}))}async function VU(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[t[l].route.id]:o}),{})}async function UU(n,e,t,r,i,o,l,u,f,p){let m=o.map(C=>C.route.lazy?MU(C.route,f,u):void 0),y=o.map((C,k)=>{let N=m[k],R=i.some(L=>L.route.id===C.route.id);return Ht({},C,{shouldLoad:R,resolve:async L=>(L&&r.method==="GET"&&(C.route.lazy||C.route.loader)&&(R=!0),R?$U(e,r,C,N,L,p):Promise.resolve({type:Pt.data,result:void 0}))})}),T=await n({matches:y,request:r,params:o[0].params,fetcherKey:l,context:p});try{await Promise.all(m)}catch{}return T}async function $U(n,e,t,r,i,o){let l,u,f=p=>{let m,y=new Promise((k,N)=>m=N);u=()=>m(),e.signal.addEventListener("abort",u);let T=k=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:o},...k!==void 0?[k]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(N=>T(N)):T())}}catch(k){return{type:"error",result:k}}})();return Promise.race([C,y])};try{let p=t.route[n];if(r)if(p){let m,[y]=await Promise.all([f(p).catch(T=>{m=T}),r]);if(m!==void 0)throw m;l=y}else if(await r,p=t.route[n],p)l=await f(p);else if(n==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw wr(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:Pt.data,result:void 0};else if(p)l=await f(p);else{let m=new URL(e.url),y=m.pathname+m.search;throw wr(404,{pathname:y})}lt(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Pt.error,result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function FU(n){let{result:e,type:t}=n;if(mR(e)){let y;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(T){return{type:Pt.error,error:T}}return t===Pt.error?{type:Pt.error,error:new Fh(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:Pt.data,data:y,statusCode:e.status,headers:e.headers}}if(t===Pt.error){if(pI(e)){var r,i;if(e.data instanceof Error){var o,l;return{type:Pt.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Pt.error,error:new Fh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:td(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Pt.error,error:e,statusCode:td(e)?e.status:void 0}}if(WU(e)){var u,f;return{type:Pt.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(pI(e)){var p,m;return{type:Pt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}}return{type:Pt.data,data:e}}function jU(n,e,t,r,i,o){let l=n.headers.get("Location");if(lt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!m_.test(l)){let u=r.slice(0,r.findIndex(f=>f.route.id===t)+1);l=Uy(new URL(e.url),u,i,!0,l,o),n.headers.set("Location",l)}return n}function lI(n,e,t){if(m_.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Os(i.pathname,t)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return n}function Fl(n,e,t,r){let i=n.createURL(pR(e)).toString(),o={signal:t};if(r&&Ti(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=Fy(r.formData):o.body=r.formData}return new Request(i,o)}function Fy(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function cI(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function BU(n,e,t,r,i){let o={},l=null,u,f=!1,p={},m=t&&Lr(t[1])?t[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in e))return;let T=y.route.id,C=e[T];if(lt(!Ra(C),"Cannot handle redirect results in processLoaderData"),Lr(C)){let k=C.error;m!==void 0&&(k=m,m=void 0),l=l||{};{let N=Sa(n,T);l[N.route.id]==null&&(l[N.route.id]=k)}o[T]=void 0,f||(f=!0,u=td(C.error)?C.error.status:500),C.headers&&(p[T]=C.headers)}else Ao(C)?(r.set(T,C.deferredData),o[T]=C.deferredData.data,C.statusCode!=null&&C.statusCode!==200&&!f&&(u=C.statusCode),C.headers&&(p[T]=C.headers)):(o[T]=C.data,C.statusCode&&C.statusCode!==200&&!f&&(u=C.statusCode),C.headers&&(p[T]=C.headers))}),m!==void 0&&t&&(l={[t[0]]:m},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:p}}function uI(n,e,t,r,i,o,l){let{loaderData:u,errors:f}=BU(e,t,r,l);return i.forEach(p=>{let{key:m,match:y,controller:T}=p,C=o[m];if(lt(C,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Lr(C)){let k=Sa(n.matches,y==null?void 0:y.route.id);f&&f[k.route.id]||(f=Ht({},f,{[k.route.id]:C.error})),n.fetchers.delete(m)}else if(Ra(C))lt(!1,"Unhandled fetcher revalidation redirect");else if(Ao(C))lt(!1,"Unhandled fetcher deferred data");else{let k=_o(C.data);n.fetchers.set(m,k)}}),{loaderData:u,errors:f}}function dI(n,e,t,r){let i=Ht({},e);for(let o of t){let l=o.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&o.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function fI(n){return n?Lr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Sa(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function hI(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wr(n,e){let{pathname:t,routeId:r,method:i,type:o,message:l}=e===void 0?{}:e,u="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&t&&r?f="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?f="defer() is not supported in actions":o==="invalid-body"&&(f="Unable to encode submission body")):n===403?(u="Forbidden",f='Route "'+r+'" does not match URL "'+t+'"'):n===404?(u="Not Found",f='No route matches URL "'+t+'"'):n===405&&(u="Method Not Allowed",i&&t&&r?f="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new Fh(n||500,u,new Error(f),!0)}function ih(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(Ra(i))return{key:r,result:i}}}function pR(n){let e=typeof n=="string"?Bs(n):n;return Va(Ht({},e,{hash:""}))}function HU(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function zU(n){return mR(n.result)&&kU.has(n.result.status)}function Ao(n){return n.type===Pt.deferred}function Lr(n){return n.type===Pt.error}function Ra(n){return(n&&n.type)===Pt.redirect}function pI(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function WU(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function mR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function qU(n){return RU.has(n.toLowerCase())}function Ti(n){return bU.has(n.toLowerCase())}async function KU(n,e,t,r,i){let o=Object.entries(e);for(let l=0;l<o.length;l++){let[u,f]=o[l],p=n.find(T=>(T==null?void 0:T.route.id)===u);if(!p)continue;let m=r.find(T=>T.route.id===p.route.id),y=m!=null&&!fR(m,p)&&(i&&i[p.route.id])!==void 0;Ao(f)&&y&&await g_(f,t,!1).then(T=>{T&&(e[u]=T)})}}async function GU(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:o,controller:l}=t[r],u=e[i];n.find(p=>(p==null?void 0:p.route.id)===o)&&Ao(u)&&(lt(l,"Expected an AbortController for revalidating fetcher deferred result"),await g_(u,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function g_(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Pt.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Pt.error,error:i}}return{type:Pt.data,data:n.deferredData.data}}}function y_(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Du(n,e){let t=typeof e=="string"?Bs(e).search:e.search;if(n[n.length-1].route.index&&y_(t||""))return n[n.length-1];let r=cR(n);return r[r.length-1]}function mI(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:o,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function iy(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function QU(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Au(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function YU(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function _o(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function XU(n,e){try{let t=n.sessionStorage.getItem(dR);if(t){let r=JSON.parse(t);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function JU(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(dR,JSON.stringify(t))}catch(r){Ma(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jh.apply(this,arguments)}const Cd=E.createContext(null),v_=E.createContext(null),Hs=E.createContext(null),__=E.createContext(null),es=E.createContext({outlet:null,matches:[],isDataRoute:!1}),gR=E.createContext(null);function ZU(n,e){let{relative:t}=e===void 0?{}:e;Mc()||lt(!1);let{basename:r,navigator:i}=E.useContext(Hs),{hash:o,pathname:l,search:u}=Cp(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:As([r,l])),i.createHref({pathname:f,search:u,hash:o})}function Mc(){return E.useContext(__)!=null}function Vc(){return Mc()||lt(!1),E.useContext(__).location}function yR(n){E.useContext(Hs).static||E.useLayoutEffect(n)}function li(){let{isDataRoute:n}=E.useContext(es);return n?f$():e$()}function e$(){Mc()||lt(!1);let n=E.useContext(Cd),{basename:e,future:t,navigator:r}=E.useContext(Hs),{matches:i}=E.useContext(es),{pathname:o}=Vc(),l=JSON.stringify(Ip(i,t.v7_relativeSplatPath)),u=E.useRef(!1);return yR(()=>{u.current=!0}),E.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let y=Sp(p,JSON.parse(l),o,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:As([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,l,o,n])}const t$=E.createContext(null);function n$(n){let e=E.useContext(es).outlet;return e&&E.createElement(t$.Provider,{value:n},e)}function vR(){let{matches:n}=E.useContext(es),e=n[n.length-1];return e?e.params:{}}function Cp(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=E.useContext(Hs),{matches:i}=E.useContext(es),{pathname:o}=Vc(),l=JSON.stringify(Ip(i,r.v7_relativeSplatPath));return E.useMemo(()=>Sp(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function r$(n,e,t,r){Mc()||lt(!1);let{navigator:i,static:o}=E.useContext(Hs),{matches:l}=E.useContext(es),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let m=Vc(),y;y=m;let T=y.pathname||"/",C=T;if(p!=="/"){let R=p.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let k=!o&&t&&t.matches&&t.matches.length>0?t.matches:Ia(n,{pathname:C});return l$(k&&k.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:As([p,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:As([p,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),l,t,r)}function i$(){let n=TR(),e=td(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,null)}const s$=E.createElement(i$,null);class o$ extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(es.Provider,{value:this.props.routeContext},E.createElement(gR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a$(n){let{routeContext:e,match:t,children:r}=n,i=E.useContext(Cd);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(es.Provider,{value:e},r)}function l$(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);m>=0||lt(!1),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:T,errors:C}=t,k=y.route.loader&&T[y.route.id]===void 0&&(!C||C[y.route.id]===void 0);if(y.route.lazy||k){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,y,T)=>{let C,k=!1,N=null,R=null;t&&(C=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||s$,f&&(p<0&&T===0?(h$("route-fallback"),k=!0,R=null):p===T&&(k=!0,R=y.route.hydrateFallbackElement||null)));let x=e.concat(l.slice(0,T+1)),L=()=>{let V;return C?V=N:k?V=R:y.route.Component?V=E.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=m,E.createElement(a$,{match:y,routeContext:{outlet:m,matches:x,isDataRoute:t!=null},children:V})};return t&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?E.createElement(o$,{location:t.location,revalidation:t.revalidation,component:N,error:C,children:L(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):L()},null)}var _R=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_R||{}),wR=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wR||{});function c$(n){let e=E.useContext(Cd);return e||lt(!1),e}function u$(n){let e=E.useContext(v_);return e||lt(!1),e}function d$(n){let e=E.useContext(es);return e||lt(!1),e}function ER(n){let e=d$(),t=e.matches[e.matches.length-1];return t.route.id||lt(!1),t.route.id}function TR(){var n;let e=E.useContext(gR),t=u$(wR.UseRouteError),r=ER();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function f$(){let{router:n}=c$(_R.UseNavigateStable),e=ER(),t=E.useRef(!1);return yR(()=>{t.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,jh({fromRouteId:e},o)))},[n,e])}const gI={};function h$(n,e,t){gI[n]||(gI[n]=!0)}function p$(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function m$(n){let{to:e,replace:t,state:r,relative:i}=n;Mc()||lt(!1);let{future:o,static:l}=E.useContext(Hs),{matches:u}=E.useContext(es),{pathname:f}=Vc(),p=li(),m=Sp(e,Ip(u,o.v7_relativeSplatPath),f,i==="path"),y=JSON.stringify(m);return E.useEffect(()=>p(JSON.parse(y),{replace:t,state:r,relative:i}),[p,y,i,t,r]),null}function g$(n){return n$(n.context)}function y$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=un.Pop,navigator:o,static:l=!1,future:u}=n;Mc()&&lt(!1);let f=e.replace(/^\/*/,"/"),p=E.useMemo(()=>({basename:f,navigator:o,static:l,future:jh({v7_relativeSplatPath:!1},u)}),[f,u,o,l]);typeof r=="string"&&(r=Bs(r));let{pathname:m="/",search:y="",hash:T="",state:C=null,key:k="default"}=r,N=E.useMemo(()=>{let R=Os(m,f);return R==null?null:{location:{pathname:R,search:y,hash:T,state:C,key:k},navigationType:i}},[f,m,y,T,C,k,i]);return N==null?null:E.createElement(Hs.Provider,{value:p},E.createElement(__.Provider,{children:t,value:N}))}new Promise(()=>{});function v$(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:E.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:E.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hc.apply(this,arguments)}function IR(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function _$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function w$(n,e){return n.button===0&&(!e||e==="_self")&&!_$(n)}const E$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],I$="6";try{window.__reactRouterVersion=I$}catch{}function S$(n,e){return xU({basename:void 0,future:hc({},void 0,{v7_prependBasename:!0}),history:rU({window:void 0}),hydrationData:C$(),routes:n,mapRouteProperties:v$,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function C$(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=hc({},e,{errors:b$(e.errors)})),e}function b$(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new Fh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(i.message);o.stack="",t[r]=o}}else t[r]=i;return t}const SR=E.createContext({isTransitioning:!1}),A$=E.createContext(new Map),R$="startTransition",yI=uP[R$],k$="flushSync",vI=VM[k$];function N$(n){yI?yI(n):n()}function Ru(n){vI?vI(n):n()}let P$=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function D$(n){let{fallbackElement:e,router:t,future:r}=n,[i,o]=E.useState(t.state),[l,u]=E.useState(),[f,p]=E.useState({isTransitioning:!1}),[m,y]=E.useState(),[T,C]=E.useState(),[k,N]=E.useState(),R=E.useRef(new Map),{v7_startTransition:x}=r||{},L=E.useCallback(b=>{x?N$(b):b()},[x]),V=E.useCallback((b,P)=>{let{deletedFetchers:M,flushSync:U,viewTransitionOpts:F}=P;b.fetchers.forEach((we,Ne)=>{we.data!==void 0&&R.current.set(Ne,we.data)}),M.forEach(we=>R.current.delete(we));let O=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!F||O){U?Ru(()=>o(b)):L(()=>o(b));return}if(U){Ru(()=>{T&&(m&&m.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let we=t.window.document.startViewTransition(()=>{Ru(()=>o(b))});we.finished.finally(()=>{Ru(()=>{y(void 0),C(void 0),u(void 0),p({isTransitioning:!1})})}),Ru(()=>C(we));return}T?(m&&m.resolve(),T.skipTransition(),N({state:b,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(b),p({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[t.window,T,m,R,L]);E.useLayoutEffect(()=>t.subscribe(V),[t,V]),E.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new P$)},[f]),E.useEffect(()=>{if(m&&l&&t.window){let b=l,P=m.promise,M=t.window.document.startViewTransition(async()=>{L(()=>o(b)),await P});M.finished.finally(()=>{y(void 0),C(void 0),u(void 0),p({isTransitioning:!1})}),C(M)}},[L,l,m,t.window]),E.useEffect(()=>{m&&l&&i.location.key===l.location.key&&m.resolve()},[m,T,i.location,l]),E.useEffect(()=>{!f.isTransitioning&&k&&(u(k.state),p({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),N(void 0))},[f.isTransitioning,k]),E.useEffect(()=>{},[]);let j=E.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:b=>t.navigate(b),push:(b,P,M)=>t.navigate(b,{state:P,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(b,P,M)=>t.navigate(b,{replace:!0,state:P,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[t]),q=t.basename||"/",G=E.useMemo(()=>({router:t,navigator:j,static:!1,basename:q}),[t,j,q]),S=E.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return E.useEffect(()=>p$(r,t.future),[r,t.future]),E.createElement(E.Fragment,null,E.createElement(Cd.Provider,{value:G},E.createElement(v_.Provider,{value:i},E.createElement(A$.Provider,{value:R.current},E.createElement(SR.Provider,{value:f},E.createElement(y$,{basename:q,location:i.location,navigationType:i.historyAction,navigator:j,future:S},i.initialized||t.future.v7_partialHydration?E.createElement(x$,{routes:t.routes,future:t.future,state:i}):e))))),null)}const x$=E.memo(O$);function O$(n){let{routes:e,future:t,state:r}=n;return r$(e,void 0,r,t)}const L$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V$=E.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:f,to:p,preventScrollReset:m,viewTransition:y}=e,T=IR(e,E$),{basename:C}=E.useContext(Hs),k,N=!1;if(typeof p=="string"&&M$.test(p)&&(k=p,L$))try{let V=new URL(window.location.href),j=p.startsWith("//")?new URL(V.protocol+p):new URL(p),q=Os(j.pathname,C);j.origin===V.origin&&q!=null?p=q+j.search+j.hash:N=!0}catch{}let R=ZU(p,{relative:i}),x=$$(p,{replace:l,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:y});function L(V){r&&r(V),V.defaultPrevented||x(V)}return E.createElement("a",hc({},T,{href:k||R,onClick:N||o?r:L,ref:t,target:f}))}),ku=E.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:f,viewTransition:p,children:m}=e,y=IR(e,T$),T=Cp(f,{relative:y.relative}),C=Vc(),k=E.useContext(v_),{navigator:N,basename:R}=E.useContext(Hs),x=k!=null&&F$(T)&&p===!0,L=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,V=C.pathname,j=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(V=V.toLowerCase(),j=j?j.toLowerCase():null,L=L.toLowerCase()),j&&R&&(j=Os(j,R)||j);const q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let G=V===L||!l&&V.startsWith(L)&&V.charAt(q)==="/",S=j!=null&&(j===L||!l&&j.startsWith(L)&&j.charAt(L.length)==="/"),b={isActive:G,isPending:S,isTransitioning:x},P=G?r:void 0,M;typeof o=="function"?M=o(b):M=[o,G?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(b):u;return E.createElement(V$,hc({},y,{"aria-current":P,className:M,ref:t,style:U,to:f,viewTransition:p}),typeof m=="function"?m(b):m)});var jy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(jy||(jy={}));var _I;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(_I||(_I={}));function U$(n){let e=E.useContext(Cd);return e||lt(!1),e}function $$(n,e){let{target:t,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,f=li(),p=Vc(),m=Cp(n,{relative:l});return E.useCallback(y=>{if(w$(y,t)){y.preventDefault();let T=r!==void 0?r:Va(p)===Va(m);f(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[p,f,m,r,i,t,n,o,l,u])}function F$(n,e){e===void 0&&(e={});let t=E.useContext(SR);t==null&&lt(!1);let{basename:r}=U$(jy.useViewTransitionState),i=Cp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Os(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Os(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $h(i.pathname,l)!=null||$h(i.pathname,o)!=null}function j$(){const[n,e]=E.useState(!1),[t,r]=E.useState(!1),i=()=>r(!1),o=()=>r(!0),l=k=>w(h_,{id:"button-tooltip",...k,children:"Please check the notice below to continue.."}),{session:u}=Zu(),f=li();E.useEffect(()=>{u&&f("/Home")},[u,f]);const[p,m]=E.useState(!1);function y(k){switch(k.target.checked){case!0:m(!0);break;case!1:m(!1);break}}const{logIn:T}=Zu();async function C(){e(!0),await T(),e(!1)}return X(zt,{children:[w(rr,{show:n,centered:!0,backdrop:"static",children:X(rr.Body,{className:"text-center",children:[w("div",{className:"spinner-border text-primary",role:"status"}),w("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),X(rr,{show:t,children:[w(rr.Header,{children:w(rr.Title,{children:"Terms and Conditions"})}),w(rr.Body,{children:X("p",{children:["1. User Responsibility ",w("br",{})," By using this platform, you acknowledge that all interactions and transactions between users are conducted at your own risk. We do not take responsibility for any disputes, agreements, or exchanges made between users. It is your responsibility to exercise caution and ensure the legitimacy of the items and users you engage with.",w("br",{}),w("br",{}),"2. Privacy and Message Monitoring ",w("br",{})," We respect your privacy and do not monitor or view private messages exchanged between users during transactions. However, all accounts are recorded in our system for security and compliance purposes.",w("br",{}),w("br",{}),"3. Item Posting and Review",w("br",{}),"All items posted on the platform are subject to review by an administrator. We reserve the right to remove or reject any listings that contain inappropriate, illegal, or prohibited content. Users are encouraged to adhere to ethical and legal guidelines when posting items.",w("br",{}),w("br",{}),"4. Violations and Account Management",w("br",{}),"Users who repeatedly violate our guidelines by posting inappropriate content or engaging in prohibited activities may face account restrictions, suspensions, or permanent deletion. We reserve the right to take appropriate actions to maintain the integrity of the platform.",w("br",{}),w("br",{}),"5. Disclaimer of Liability",w("br",{}),"We do not guarantee the quality, safety, legality, or authenticity of the items listed on the platform. The website serves only as a medium for users to connect and trade, and we do not take responsibility for any losses, damages, or issues arising from trades or interactions.",w("br",{}),w("br",{}),"6. Amendments and Changes",w("br",{}),"We reserve the right to update or modify these Terms and Conditions at any time. Users are responsible for staying informed about any changes. Continued use of the platform signifies your acceptance of the updated terms.",w("br",{}),w("br",{}),"By using this platform, you agree to abide by these Terms and Conditions and ensure that your activities align with our community standards."]})}),w(rr.Footer,{children:w(nn,{variant:"primary",onClick:i,children:"Okay"})})]}),X("div",{className:"logincontainer",children:[w("div",{className:"circle",children:w("img",{src:"./images/favicon.png"})}),w("p",{className:"LoginWord",children:" USER LOGIN "}),X("div",{className:"google-button",children:[p&&w(nn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:C,disabled:n,children:"Login with Google"}),!p&&w(gs,{placement:"bottom",delay:{show:0,hide:400},overlay:l,children:w("div",{children:w(nn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),X("div",{children:[w("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),w("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),w("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:y}),w("p",{className:"terms-text text-primary fw-bold",style:{cursor:"pointer",textDecoration:"underline",position:"absolute",bottom:"0%",left:"30%"},onClick:o,children:"Terms and Conditions"})]})]})]})}async function B$(n){return await Lc.createFile("678bac020031c1c3ad75",fc.unique(),n)}async function H$(n){return await Lc.deleteFile("678bac020031c1c3ad75",n)}function bd(n){return Lc.getFilePreview("678bac020031c1c3ad75",n)}function By(n){return Lc.getFilePreview("67932f8600176cf1dfdc",n)}async function z$(n,e){return await Lc.createFile("67932f8600176cf1dfdc",n,e)}async function W$(n){return await Lc.deleteFile("67932f8600176cf1dfdc",n)}async function q$(){const{documents:n}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.equal("isApproved",!0)]);return{items:n.map(zs)}}async function K$(n){const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("name",n),Fe.equal("isApproved",!0)]);return{items:e.map(zs)}}async function G$(n){const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("itemCategory",n),Fe.equal("isApproved",!0)]);return{items:e.map(zs)}}async function w_(n){const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.contains("authorID",n),Fe.orderDesc("date")]);return{items:e.map(zs)}}async function Q$(){const{documents:n}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.equal("isApproved",!1),Fe.orderDesc("date")]);return{items:n.map(zs)}}async function Hy(n){const e=await Yn.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:zs(e)}}async function Y$(n){const{items:e}=await Hy(n);await H$(e.imageFileId),await Yn.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function X$(n){const e=await Yn.createDocument("678babec0039e89240df","67932f2e00392d850485",fc.unique(),n);return{items:zs(e)}}async function CR(n,e){const t=await Yn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:zs(t)}}async function wI(n,e){const t=await Yn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:zs(t)}}function zs(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:n.isApproved,requests:n.requests,itemCategory:n.itemCategory}}async function J$(n,e){const t=await Yn.createDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:bp(t)}}async function Ua(n){const e=await Yn.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:bp(e)}}async function Z$(n){const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f37003021addec1",[Fe.contains("displayName",n)]);return{userdb:e.map(bp)}}async function e4(n){try{const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f37003021addec1",[Fe.equal("displayName",n)]);return e.length>0}catch{return!1}}async function t4(n){try{return!!await Yn.getDocument("678babec0039e89240df","67932f37003021addec1",n)}catch{return!1}}async function zy(n,e){const t=await Yn.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:bp(t)}}function bp(n){return{userId:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight,userEmail:n.userEmail,firebaseId:n.firebaseId}}function sh(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,i,...o]=t.map(f=>parseInt(f)),l=[r,i-1,...o];return new Date(Date.UTC(...l))}}function EI(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function Wy(){return Wy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wy.apply(this,arguments)}const xu=60,Ou=xu*60,Xl=Ou*24,oh=Xl*7,TI=Xl*30,II=Xl*365,n4=()=>Date.now();function r4({date:n,formatter:e=EI,component:t="time",live:r=!0,minPeriod:i=0,maxPeriod:o=oh,title:l,now:u=n4,...f}){const[p,m]=E.useState(u());E.useEffect(()=>{if(!r)return;const q=(()=>{const G=sh(n).valueOf();if(!G)return console.warn("[react-timeago] Invalid Date provided"),0;const S=Math.round(Math.abs(p-G)/1e3),b=S<xu?1e3:S<Ou?1e3*xu:S<Xl?1e3*Ou:1e3*oh,P=Math.min(Math.max(b,i*1e3),o*1e3);return P?setTimeout(()=>{m(u())},P):0})();return()=>{q&&clearTimeout(q)}},[n,r,o,i,u,p]);const y=t,T=sh(n).valueOf();if(!T)return null;const C=Math.round(Math.abs(p-T)/1e3),k=T<p?"ago":"from now",[N,R]=C<xu?[Math.round(C),"second"]:C<Ou?[Math.round(C/xu),"minute"]:C<Xl?[Math.round(C/Ou),"hour"]:C<oh?[Math.round(C/Xl),"day"]:C<TI?[Math.round(C/oh),"week"]:C<II?[Math.round(C/TI),"month"]:[Math.round(C/II),"year"],x=typeof l>"u"?typeof n=="string"?n:sh(n).toISOString().substr(0,16).replace("T"," "):l,L=y==="time"?{...f,dateTime:sh(n).toISOString()}:f,V=EI.bind(null,N,R,k);return E.createElement(y,Wy({},L,{title:x}),e(N,R,k,T,V,u))}const Ap=({name:n,date:e,author:t,image:r})=>X(ys,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[w("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&X(zt,{children:[w(ys.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),w("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),X(ys.Body,{children:[w(ys.Title,{children:n}),w(ys.Text,{children:t}),w(ys.Text,{children:w(r4,{date:e})})]})]});var SI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},i4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},AR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let T=(u&15)<<2|p>>6,C=p&63;f||(C=64,l||(T=64)),r.push(t[m],t[y],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||p==null||y==null)throw new s4;const T=o<<2|u>>4;if(r.push(T),p!==64){const C=u<<4&240|p>>2;if(r.push(C),y!==64){const k=p<<6&192|y;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class s4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o4=function(n){const e=bR(n);return AR.encodeByteArray(e,!0)},Bh=function(n){return o4(n).replace(/\./g,"")},RR=function(n){try{return AR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=()=>a4().__FIREBASE_DEFAULTS__,c4=()=>{if(typeof process>"u"||typeof SI>"u")return;const n=SI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},u4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&RR(n[1]);return e&&JSON.parse(e)},Rp=()=>{try{return l4()||c4()||u4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kR=n=>{var e,t;return(t=(e=Rp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},d4=n=>{const e=kR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},NR=()=>{var n;return(n=Rp())===null||n===void 0?void 0:n.config},PR=n=>{var e;return(e=Rp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bh(JSON.stringify(t)),Bh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function m4(){var n;const e=(n=Rp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function v4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _4(){const n=Qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function w4(){return!m4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E4(){try{return typeof indexedDB=="object"}catch{return!1}}function T4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="FirebaseError";class Ws extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=I4,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?S4(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ws(i,u,r)}}function S4(n,e){return n.replace(C4,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const C4=/\{\$([^}]+)}/g;function b4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function pc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(CI(o)&&CI(l)){if(!pc(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function CI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function A4(n,e){const t=new R4(n,e);return t.subscribe.bind(t)}class R4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");k4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=sy),i.error===void 0&&(i.error=sy),i.complete===void 0&&(i.complete=sy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class $a{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new f4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D4(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P4(n){return n===Ta?void 0:n}function D4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new N4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mt||(mt={}));const O4={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},L4=mt.INFO,M4={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},V4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=M4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=L4,this._logHandler=V4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const U4=(n,e)=>e.some(t=>n instanceof t);let bI,AI;function $4(){return bI||(bI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F4(){return AI||(AI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DR=new WeakMap,qy=new WeakMap,xR=new WeakMap,oy=new WeakMap,T_=new WeakMap;function j4(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(No(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&DR.set(t,n)}).catch(()=>{}),T_.set(e,n),e}function B4(n){if(qy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});qy.set(n,e)}let Ky={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return No(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function H4(n){Ky=n(Ky)}function z4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ay(this),e,...t);return xR.set(r,e.sort?e.sort():[e]),No(r)}:F4().includes(n)?function(...e){return n.apply(ay(this),e),No(DR.get(this))}:function(...e){return No(n.apply(ay(this),e))}}function W4(n){return typeof n=="function"?z4(n):(n instanceof IDBTransaction&&B4(n),U4(n,$4())?new Proxy(n,Ky):n)}function No(n){if(n instanceof IDBRequest)return j4(n);if(oy.has(n))return oy.get(n);const e=W4(n);return e!==n&&(oy.set(n,e),T_.set(e,n)),e}const ay=n=>T_.get(n);function q4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=No(l);return r&&l.addEventListener("upgradeneeded",f=>{r(No(l.result),f.oldVersion,f.newVersion,No(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const K4=["get","getKey","getAll","getAllKeys","count"],G4=["put","add","delete","clear"],ly=new Map;function RI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ly.get(e))return ly.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=G4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||K4.includes(t)))return;const o=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&f.done]))[0]};return ly.set(e,o),o}H4(n=>({...n,get:(e,t,r)=>RI(e,t)||n.get(e,t,r),has:(e,t)=>!!RI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Y4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Y4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gy="@firebase/app",kI="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new E_("@firebase/app"),X4="@firebase/app-compat",J4="@firebase/analytics-compat",Z4="@firebase/analytics",eF="@firebase/app-check-compat",tF="@firebase/app-check",nF="@firebase/auth",rF="@firebase/auth-compat",iF="@firebase/database",sF="@firebase/data-connect",oF="@firebase/database-compat",aF="@firebase/functions",lF="@firebase/functions-compat",cF="@firebase/installations",uF="@firebase/installations-compat",dF="@firebase/messaging",fF="@firebase/messaging-compat",hF="@firebase/performance",pF="@firebase/performance-compat",mF="@firebase/remote-config",gF="@firebase/remote-config-compat",yF="@firebase/storage",vF="@firebase/storage-compat",_F="@firebase/firestore",wF="@firebase/vertexai",EF="@firebase/firestore-compat",TF="firebase",IF="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="[DEFAULT]",SF={[Gy]:"fire-core",[X4]:"fire-core-compat",[Z4]:"fire-analytics",[J4]:"fire-analytics-compat",[tF]:"fire-app-check",[eF]:"fire-app-check-compat",[nF]:"fire-auth",[rF]:"fire-auth-compat",[iF]:"fire-rtdb",[sF]:"fire-data-connect",[oF]:"fire-rtdb-compat",[aF]:"fire-fn",[lF]:"fire-fn-compat",[cF]:"fire-iid",[uF]:"fire-iid-compat",[dF]:"fire-fcm",[fF]:"fire-fcm-compat",[hF]:"fire-perf",[pF]:"fire-perf-compat",[mF]:"fire-rc",[gF]:"fire-rc-compat",[yF]:"fire-gcs",[vF]:"fire-gcs-compat",[_F]:"fire-fst",[EF]:"fire-fst-compat",[wF]:"fire-vertex","fire-js":"fire-js",[TF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,CF=new Map,Yy=new Map;function NI(n,e){try{n.container.addComponent(e)}catch(t){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mc(n){const e=n.name;if(Yy.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;Yy.set(e,n);for(const t of Hh.values())NI(t,n);for(const t of CF.values())NI(t,n);return!0}function I_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new Ad("app","Firebase",bF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=IF;function OR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Po.create("bad-app-name",{appName:String(i)});if(t||(t=NR()),!t)throw Po.create("no-options");const o=Hh.get(i);if(o){if(pc(t,o.options)&&pc(r,o.config))return o;throw Po.create("duplicate-app",{appName:i})}const l=new x4(i);for(const f of Yy.values())l.addComponent(f);const u=new AF(t,r,l);return Hh.set(i,u),u}function LR(n=Qy){const e=Hh.get(n);if(!e&&n===Qy&&NR())return OR();if(!e)throw Po.create("no-app",{appName:n});return e}function Do(n,e,t){var r;let i=(r=SF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(u.join(" "));return}mc(new $a(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firebase-heartbeat-database",kF=1,nd="firebase-heartbeat-store";let cy=null;function MR(){return cy||(cy=q4(RF,kF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Po.create("idb-open",{originalErrorMessage:n.message})})),cy}async function NF(n){try{const t=(await MR()).transaction(nd),r=await t.objectStore(nd).get(VR(n));return await t.done,r}catch(e){if(e instanceof Ws)Ls.warn(e.message);else{const t=Po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(t.message)}}}async function PI(n,e){try{const r=(await MR()).transaction(nd,"readwrite");await r.objectStore(nd).put(e,VR(n)),await r.done}catch(t){if(t instanceof Ws)Ls.warn(t.message);else{const r=Po.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ls.warn(r.message)}}}function VR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=1024,DF=30;class xF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>DF){const l=MF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DI(),{heartbeatsToSend:r,unsentEntries:i}=OF(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ls.warn(t),""}}}function DI(){return new Date().toISOString().substring(0,10)}function OF(n,e=PF){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),xI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),xI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class LF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E4()?T4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await NF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return PI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return PI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xI(n){return Bh(JSON.stringify({version:2,heartbeats:n})).length}function MF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(n){mc(new $a("platform-logger",e=>new Q4(e),"PRIVATE")),mc(new $a("heartbeat",e=>new xF(e),"PRIVATE")),Do(Gy,kI,n),Do(Gy,kI,"esm2017"),Do("fire-js","")}VF("");var UF="firebase",$F="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do(UF,$F,"app");var OI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,UR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function P(){}P.prototype=b.prototype,S.D=b.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(M,U,F){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return b.prototype[U].apply(M,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,b,P){P||(P=0);var M=Array(16);if(typeof b=="string")for(var U=0;16>U;++U)M[U]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(U=0;16>U;++U)M[U]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=S.g[0],P=S.g[1],U=S.g[2];var F=S.g[3],O=b+(F^P&(U^F))+M[0]+3614090360&4294967295;b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+M[1]+3905402710&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+M[2]+606105819&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+M[3]+3250441966&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+M[4]+4118548399&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+M[5]+1200080426&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+M[6]+2821735955&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+M[7]+4249261313&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+M[8]+1770035416&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+M[9]+2336552879&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+M[10]+4294925233&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+M[11]+2304563134&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+M[12]+1804603682&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+M[13]+4254626195&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+M[14]+2792965006&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+M[15]+1236535329&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(U^F&(P^U))+M[1]+4129170786&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+M[6]+3225465664&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+M[11]+643717713&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+M[0]+3921069994&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+M[5]+3593408605&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+M[10]+38016083&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+M[15]+3634488961&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+M[4]+3889429448&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+M[9]+568446438&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+M[14]+3275163606&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+M[3]+4107603335&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+M[8]+1163531501&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+M[13]+2850285829&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+M[2]+4243563512&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+M[7]+1735328473&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+M[12]+2368359562&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(P^U^F)+M[5]+4294588738&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+M[8]+2272392833&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+M[11]+1839030562&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+M[14]+4259657740&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+M[1]+2763975236&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+M[4]+1272893353&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+M[7]+4139469664&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+M[10]+3200236656&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+M[13]+681279174&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+M[0]+3936430074&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+M[3]+3572445317&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+M[6]+76029189&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+M[9]+3654602809&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+M[12]+3873151461&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+M[15]+530742520&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+M[2]+3299628645&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(U^(P|~F))+M[0]+4096336452&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+M[7]+1126891415&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+M[14]+2878612391&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+M[5]+4237533241&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+M[12]+1700485571&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+M[3]+2399980690&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+M[10]+4293915773&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+M[1]+2240044497&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+M[8]+1873313359&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+M[15]+4264355552&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+M[6]+2734768916&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+M[13]+1309151649&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+M[4]+4149444226&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+M[11]+3174756917&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+M[2]+718787259&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+M[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+U&4294967295,S.g[3]=S.g[3]+F&4294967295}r.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var P=b-this.blockSize,M=this.B,U=this.h,F=0;F<b;){if(U==0)for(;F<=P;)i(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<b;)if(M[U++]=S.charCodeAt(F++),U==this.blockSize){i(this,M),U=0;break}}else for(;F<b;)if(M[U++]=S[F++],U==this.blockSize){i(this,M),U=0;break}}this.h=U,this.o+=b},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var P=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=P&255,P/=256;for(this.u(S),S=Array(16),b=P=0;4>b;++b)for(var M=0;32>M;M+=8)S[P++]=this.g[b]>>>M&255;return S};function o(S,b){var P=u;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=b(S)}function l(S,b){this.h=b;for(var P=[],M=!0,U=S.length-1;0<=U;U--){var F=S[U]|0;M&&F==b||(P[U]=F,M=!1)}this.g=P}var u={};function f(S){return-128<=S&&128>S?o(S,function(b){return new l([b|0],0>b?-1:0)}):new l([S|0],0>S?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return y;if(0>S)return R(p(-S));for(var b=[],P=1,M=0;S>=P;M++)b[M]=S/P|0,P*=4294967296;return new l(b,0)}function m(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return R(m(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(b,8)),M=y,U=0;U<S.length;U+=8){var F=Math.min(8,S.length-U),O=parseInt(S.substring(U,U+F),b);8>F?(F=p(Math.pow(b,F)),M=M.j(F).add(p(O))):(M=M.j(P),M=M.add(p(O)))}return M}var y=f(0),T=f(1),C=f(16777216);n=l.prototype,n.m=function(){if(N(this))return-R(this).m();for(var S=0,b=1,P=0;P<this.g.length;P++){var M=this.i(P);S+=(0<=M?M:4294967296+M)*b,b*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(N(this))return"-"+R(this).toString(S);for(var b=p(Math.pow(S,6)),P=this,M="";;){var U=j(P,b).g;P=x(P,U.j(b));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=U,k(P))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function N(S){return S.h==-1}n.l=function(S){return S=x(this,S),N(S)?-1:k(S)?0:1};function R(S){for(var b=S.g.length,P=[],M=0;M<b;M++)P[M]=~S.g[M];return new l(P,~S.h).add(T)}n.abs=function(){return N(this)?R(this):this},n.add=function(S){for(var b=Math.max(this.g.length,S.g.length),P=[],M=0,U=0;U<=b;U++){var F=M+(this.i(U)&65535)+(S.i(U)&65535),O=(F>>>16)+(this.i(U)>>>16)+(S.i(U)>>>16);M=O>>>16,F&=65535,O&=65535,P[U]=O<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function x(S,b){return S.add(R(b))}n.j=function(S){if(k(this)||k(S))return y;if(N(this))return N(S)?R(this).j(R(S)):R(R(this).j(S));if(N(S))return R(this.j(R(S)));if(0>this.l(C)&&0>S.l(C))return p(this.m()*S.m());for(var b=this.g.length+S.g.length,P=[],M=0;M<2*b;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<S.g.length;U++){var F=this.i(M)>>>16,O=this.i(M)&65535,we=S.i(U)>>>16,Ne=S.i(U)&65535;P[2*M+2*U]+=O*Ne,L(P,2*M+2*U),P[2*M+2*U+1]+=F*Ne,L(P,2*M+2*U+1),P[2*M+2*U+1]+=O*we,L(P,2*M+2*U+1),P[2*M+2*U+2]+=F*we,L(P,2*M+2*U+2)}for(M=0;M<b;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=b;M<2*b;M++)P[M]=0;return new l(P,0)};function L(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function V(S,b){this.g=S,this.h=b}function j(S,b){if(k(b))throw Error("division by zero");if(k(S))return new V(y,y);if(N(S))return b=j(R(S),b),new V(R(b.g),R(b.h));if(N(b))return b=j(S,R(b)),new V(R(b.g),b.h);if(30<S.g.length){if(N(S)||N(b))throw Error("slowDivide_ only works with positive integers.");for(var P=T,M=b;0>=M.l(S);)P=q(P),M=q(M);var U=G(P,1),F=G(M,1);for(M=G(M,2),P=G(P,2);!k(M);){var O=F.add(M);0>=O.l(S)&&(U=U.add(P),F=O),M=G(M,1),P=G(P,1)}return b=x(S,U.j(b)),new V(U,b)}for(U=y;0<=S.l(b);){for(P=Math.max(1,Math.floor(S.m()/b.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=p(P),O=F.j(b);N(O)||0<O.l(S);)P-=M,F=p(P),O=F.j(b);k(F)&&(F=T),U=U.add(F),S=x(S,O)}return new V(U,S)}n.A=function(S){return j(this,S).h},n.and=function(S){for(var b=Math.max(this.g.length,S.g.length),P=[],M=0;M<b;M++)P[M]=this.i(M)&S.i(M);return new l(P,this.h&S.h)},n.or=function(S){for(var b=Math.max(this.g.length,S.g.length),P=[],M=0;M<b;M++)P[M]=this.i(M)|S.i(M);return new l(P,this.h|S.h)},n.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),P=[],M=0;M<b;M++)P[M]=this.i(M)^S.i(M);return new l(P,this.h^S.h)};function q(S){for(var b=S.g.length+1,P=[],M=0;M<b;M++)P[M]=S.i(M)<<1|S.i(M-1)>>>31;return new l(P,S.h)}function G(S,b){var P=b>>5;b%=32;for(var M=S.g.length-P,U=[],F=0;F<M;F++)U[F]=0<b?S.i(F+P)>>>b|S.i(F+P+1)<<32-b:S.i(F+P);return new l(U,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,xo=l}).apply(typeof OI<"u"?OI:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $R,Vu,FR,wh,Xy,jR,BR,HR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,I){return d==Array.prototype||d==Object.prototype||(d[v]=I.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var v=0;v<d.length;++v){var I=d[v];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var I=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var Q=d[D];if(!(Q in I))break e;I=I[Q]}d=d[d.length-1],D=I[d],v=v(D),v!=D&&v!=null&&e(I,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var I=0,D=!1,Q={next:function(){if(!D&&I<d.length){var ne=I++;return{value:v(ne,d[ne]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,I){return d.call.apply(d.bind,arguments)}function y(d,v,I){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),d.apply(v,Q)}}return function(){return d.apply(v,arguments)}}function T(d,v,I){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,T.apply(null,arguments)}function C(d,v){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function k(d,v){function I(){}I.prototype=v.prototype,d.aa=v.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function(D,Q,ne){for(var ge=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)ge[Nt-2]=arguments[Nt];return v.prototype[Q].apply(D,ge)}}function N(d){const v=d.length;if(0<v){const I=Array(v);for(let D=0;D<v;D++)I[D]=d[D];return I}return[]}function R(d,v){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(f(D)){const Q=d.length||0,ne=D.length||0;d.length=Q+ne;for(let ge=0;ge<ne;ge++)d[Q+ge]=D[ge]}else d.push(D)}}class x{constructor(v,I){this.i=v,this.j=I,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function G(d,v,I){for(const D in d)v.call(I,d[D],D,d)}function S(d,v){for(const I in d)v.call(void 0,d[I],I,d)}function b(d){const v={};for(const I in d)v[I]=d[I];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let I,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(I in D)d[I]=D[I];for(let ne=0;ne<P.length;ne++)I=P[ne],Object.prototype.hasOwnProperty.call(D,I)&&(d[I]=D[I])}}function U(d){var v=1;d=d.split(":");const I=[];for(;0<v&&d.length;)I.push(d.shift()),v--;return d.length&&I.push(d.join(":")),I}function F(d){u.setTimeout(()=>{throw d},0)}function O(){var d=me;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class we{constructor(){this.h=this.g=null}add(v,I){const D=Ne.get();D.set(v,I),this.h?this.h.next=D:this.g=D,this.h=D}}var Ne=new x(()=>new je,d=>d.reset());class je{constructor(){this.next=this.g=this.h=null}set(v,I){this.h=v,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,re=!1,me=new we,ce=()=>{const d=u.Promise.resolve(void 0);Se=()=>{d.then(z)}};var z=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(I){F(I)}var v=Ne;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}re=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};u.addEventListener("test",I,v),u.removeEventListener("test",I,v)}catch{}return d}();function Ie(d,v){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(q){e:{try{j(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else I=="mouseover"?v=d.fromElement:I=="mouseout"&&(v=d.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}k(Ie,pe);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(d,v,I,D,Q){this.listener=d,this.proxy=null,this.src=v,this.type=I,this.capture=!!D,this.ha=Q,this.key=++Be,this.da=this.fa=!1}function It(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function bt(d){this.src=d,this.g={},this.h=0}bt.prototype.add=function(d,v,I,D,Q){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var ge=Dt(d,v,D,Q);return-1<ge?(v=d[ge],I||(v.fa=!1)):(v=new ot(v,this.src,ne,!!D,Q),v.fa=I,d.push(v)),v};function st(d,v){var I=v.type;if(I in d.g){var D=d.g[I],Q=Array.prototype.indexOf.call(D,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(D,Q,1),ne&&(It(v),d.g[I].length==0&&(delete d.g[I],d.h--))}}function Dt(d,v,I,D){for(var Q=0;Q<d.length;++Q){var ne=d[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!I&&ne.ha==D)return Q}return-1}var Xt="closure_lm_"+(1e6*Math.random()|0),it={};function Wt(d,v,I,D,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Wt(d,v[ne],I,D,Q);return null}return I=hn(I),d&&d[Ge]?d.K(v,I,p(D)?!!D.capture:!1,Q):_n(d,v,I,!1,D,Q)}function _n(d,v,I,D,Q,ne){if(!v)throw Error("Invalid event type");var ge=p(Q)?!!Q.capture:!!Q,Nt=Un(d);if(Nt||(d[Xt]=Nt=new bt(d)),I=Nt.add(v,I,D,ge,ne),I.proxy)return I;if(D=Br(),I.proxy=D,D.src=d,D.listener=I,d.addEventListener)ve||(Q=ge),Q===void 0&&(Q=!1),d.addEventListener(v.toString(),D,Q);else if(d.attachEvent)d.attachEvent(sn(v.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Br(){function d(I){return v.call(d.src,d.listener,I)}const v=lr;return d}function Xn(d,v,I,D,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Xn(d,v[ne],I,D,Q);else D=p(D)?!!D.capture:!!D,I=hn(I),d&&d[Ge]?(d=d.i,v=String(v).toString(),v in d.g&&(ne=d.g[v],I=Dt(ne,I,D,Q),-1<I&&(It(ne[I]),Array.prototype.splice.call(ne,I,1),ne.length==0&&(delete d.g[v],d.h--)))):d&&(d=Un(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Dt(v,I,D,Q)),(I=-1<d?v[d]:null)&&qt(I))}function qt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ge])st(v.i,d);else{var I=d.type,D=d.proxy;v.removeEventListener?v.removeEventListener(I,D,d.capture):v.detachEvent?v.detachEvent(sn(I),D):v.addListener&&v.removeListener&&v.removeListener(D),(I=Un(v))?(st(I,d),I.h==0&&(I.src=null,v[Xt]=null)):It(d)}}}function sn(d){return d in it?it[d]:it[d]="on"+d}function lr(d,v){if(d.da)d=!0;else{v=new Ie(v,this);var I=d.listener,D=d.ha||d.src;d.fa&&qt(d),d=I.call(D,v)}return d}function Un(d){return d=d[Xt],d instanceof bt?d:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function hn(d){return typeof d=="function"?d:(d[Lt]||(d[Lt]=function(v){return d.handleEvent(v)}),d[Lt])}function $e(){te.call(this),this.i=new bt(this),this.M=this,this.F=null}k($e,te),$e.prototype[Ge]=!0,$e.prototype.removeEventListener=function(d,v,I,D){Xn(this,d,v,I,D)};function yt(d,v){var I,D=d.F;if(D)for(I=[];D;D=D.F)I.push(D);if(d=d.M,D=v.type||v,typeof v=="string")v=new pe(v,d);else if(v instanceof pe)v.target=v.target||d;else{var Q=v;v=new pe(D,d),M(v,Q)}if(Q=!0,I)for(var ne=I.length-1;0<=ne;ne--){var ge=v.g=I[ne];Q=Mt(ge,D,!0,v)&&Q}if(ge=v.g=d,Q=Mt(ge,D,!0,v)&&Q,Q=Mt(ge,D,!1,v)&&Q,I)for(ne=0;ne<I.length;ne++)ge=v.g=I[ne],Q=Mt(ge,D,!1,v)&&Q}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var I=d.g[v],D=0;D<I.length;D++)It(I[D]);delete d.g[v],d.h--}}this.F=null},$e.prototype.K=function(d,v,I,D){return this.i.add(String(d),v,!1,I,D)},$e.prototype.L=function(d,v,I,D){return this.i.add(String(d),v,!0,I,D)};function Mt(d,v,I,D){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ge=v[ne];if(ge&&!ge.da&&ge.capture==I){var Nt=ge.listener,pn=ge.ha||ge.src;ge.fa&&st(d.i,ge),Q=Nt.call(pn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function wn(d,v,I){if(typeof d=="function")I&&(d=T(d,I));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function Jn(d){d.g=wn(()=>{d.g=null,d.i&&(d.i=!1,Jn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Zn extends te{constructor(v,I){super(),this.m=v,this.l=I,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Jn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(d){te.call(this),this.h=d,this.g={}}k(ze,te);var at=[];function En(d){G(d.g,function(v,I){this.g.hasOwnProperty(I)&&qt(v)},d),d.g={}}ze.prototype.N=function(){ze.aa.N.call(this),En(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=u.JSON.stringify,Ri=u.JSON.parse,Zo=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ki(){}ki.prototype.h=null;function ci(d){return d.h||(d.h=d.i())}function ts(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){pe.call(this,"d")}k(ur,pe);function qs(){pe.call(this,"c")}k(qs,pe);var Sr={},ea=null;function Ni(){return ea=ea||new $e}Sr.La="serverreachability";function Pi(d){pe.call(this,Sr.La,d)}k(Pi,pe);function dr(d){const v=Ni();yt(v,new Pi(v))}Sr.STAT_EVENT="statevent";function ta(d,v){pe.call(this,Sr.STAT_EVENT,d),this.stat=v}k(ta,pe);function Kt(d){const v=Ni();yt(v,new ta(v,d))}Sr.Ma="timingevent";function B(d,v){pe.call(this,Sr.Ma,d),this.size=v}k(B,pe);function K(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Z(){this.g=!0}Z.prototype.xa=function(){this.g=!1};function ie(d,v,I,D,Q,ne){d.info(function(){if(d.g)if(ne)for(var ge="",Nt=ne.split("&"),pn=0;pn<Nt.length;pn++){var wt=Nt[pn].split("=");if(1<wt.length){var Tn=wt[0];wt=wt[1];var an=Tn.split("_");ge=2<=an.length&&an[1]=="type"?ge+(Tn+"="+wt+"&"):ge+(Tn+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+v+`
`+I+`
`+ge})}function _e(d,v,I,D,Q,ne,ge){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+v+`
`+I+`
`+ne+" "+ge})}function Pe(d,v,I,D){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+De(d,I)+(D?" "+D:"")})}function Qe(d,v){d.info(function(){return"TIMEOUT: "+v})}Z.prototype.info=function(){};function De(d,v){if(!d.g)return v;if(!v)return null;try{var I=JSON.parse(v);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var D=I[d];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return cr(I)}catch{return v}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function et(){}k(et,ki),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},xe=new et;function Ze(d,v,I,D){this.j=d,this.i=v,this.l=I,this.R=D||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}var St={},ct={};function kt(d,v,I){d.L=1,d.v=Xs(Ar(v)),d.m=I,d.P=!0,Hr(d,null)}function Hr(d,v){d.F=Date.now(),dt(d),d.A=Ar(d.v);var I=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Zs(I.i,"t",D),d.C=0,I=d.j.J,d.h=new Jt,d.g=Xd(d.j,I?v:null,!d.m),0<d.O&&(d.M=new Zn(T(d.Y,d,d.g),d.O)),v=d.U,I=d.g,D=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(at[0]=Q.toString()),Q=at);for(var ne=0;ne<Q.length;ne++){var ge=Wt(I,Q[ne],D||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),dr(),ie(d.i,d.u,d.A,d.l,d.R,d.m)}Ze.prototype.ca=function(d){d=d.target;const v=this.M;v&&hr(d)==3?v.j():this.Y(d)},Ze.prototype.Y=function(d){try{if(d==this.g)e:{const an=hr(this.g);var v=this.g.Ba();const qr=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Gc(this.g)))){this.J||an!=4||v==7||(v==8||0>=qr?dr(3):dr(2)),br(this);var I=this.g.Z();this.X=I;t:if(Di(this)){var D=Gc(this.g);d="";var Q=D.length,ne=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Fn(this);var ge="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,d+=this.h.i.decode(D[v],{stream:!(ne&&v==Q-1)});D.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,_e(this.i,this.u,this.A,this.l,this.R,an,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Nt,pn=this.g;if((Nt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Nt)){var wt=Nt;break t}}wt=null}if(I=wt)Pe(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xi(this,I);else{this.o=!1,this.s=3,Kt(12),Rn(this),Fn(this);break e}}if(this.P){I=!0;let kr;for(;!this.J&&this.C<ge.length;)if(kr=Cr(this,ge),kr==ct){an==4&&(this.s=4,Kt(14),I=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==St){this.s=4,Kt(15),Pe(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else Pe(this.i,this.l,kr,null),xi(this,kr);if(Di(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||ge.length!=0||this.h.h||(this.s=1,Kt(16),I=!1),this.o=this.o&&I,!I)Pe(this.i,this.l,ge,"[Invalid Chunked Response]"),Rn(this),Fn(this);else if(0<ge.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Yc(Tn),Tn.M=!0,Kt(11))}}else Pe(this.i,this.l,ge,null),xi(this,ge);an==4&&Rn(this),this.o&&!this.J&&(an==4?hl(this.j,this):(this.o=!1,dt(this)))}else ll(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Rn(this),Fn(this)}}}catch{}finally{}};function Di(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Cr(d,v){var I=d.C,D=v.indexOf(`
`,I);return D==-1?ct:(I=Number(v.substring(I,D)),isNaN(I)?St:(D+=1,D+I>v.length?ct:(v=v.slice(D,D+I),d.C=D+I,v)))}Ze.prototype.cancel=function(){this.J=!0,Rn(this)};function dt(d){d.S=Date.now()+d.I,Ks(d,d.I)}function Ks(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=K(T(d.ba,d),v)}function br(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Ze.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(dr(),Kt(17)),Rn(this),this.s=2,Fn(this)):Ks(this,this.S-d)};function Fn(d){d.j.G==0||d.J||hl(d.j,d)}function Rn(d){br(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,En(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function xi(d,v){try{var I=d.j;if(I.G!=0&&(I.g==d||ht(I.h,d))){if(!d.K&&ht(I.h,d)&&I.G==3){try{var D=I.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)fl(I),pi(I);else break e;dl(I),Kt(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&I.v==0&&!I.C&&(I.C=K(T(I.Za,I),6e3));if(1>=Oi(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else os(I,11)}else if((d.K||I.g==d)&&fl(I),!L(v))for(Q=I.Da.g.parse(v),v=0;v<Q.length;v++){let wt=Q[v];if(I.T=wt[0],wt=wt[1],I.G==2)if(wt[0]=="c"){I.K=wt[1],I.ia=wt[2];const Tn=wt[3];Tn!=null&&(I.la=Tn,I.j.info("VER="+I.la));const an=wt[4];an!=null&&(I.Aa=an,I.j.info("SVER="+I.Aa));const qr=wt[5];qr!=null&&typeof qr=="number"&&0<qr&&(D=1.5*qr,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const kr=d.g;if(kr){const la=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var ne=D.h;ne.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(zr(ne,ne.h),ne.h=null))}if(D.D){const ml=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(D.ya=ml,xt(D.I,D.D,ml))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var ge=d;if(D.qa=Yd(D,D.J?D.ia:null,D.W),ge.K){na(D.h,ge);var Nt=ge,pn=D.L;pn&&(Nt.I=pn),Nt.B&&(br(Nt),dt(Nt)),D.g=ge}else aa(D);0<I.i.length&&Ui(I)}else wt[0]!="stop"&&wt[0]!="close"||os(I,7);else I.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?os(I,7):Nn(I):wt[0]!="noop"&&I.l&&I.l.ta(wt),I.v=0)}}dr(4)}catch{}}var ft=class{constructor(d,v){this.g=d,this.map=v}};function At(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Oi(d){return d.h?1:d.g?d.g.size:0}function ht(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function zr(d,v){d.g?d.g.add(v):d.h=v}function na(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}At.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function nl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const I of d.g.values())v=v.concat(I.D);return v}return N(d.i)}function rl(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],I=d.length,D=0;D<I;D++)v.push(d[D]);return v}v=[],I=0;for(D in d)v[I++]=d[D];return v}function il(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var I=0;I<d;I++)v.push(I);return v}v=[],I=0;for(const D in d)v[I++]=D;return v}}}function Gs(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var I=il(d),D=rl(d),Q=D.length,ne=0;ne<Q;ne++)v.call(void 0,D[ne],I&&I[ne],d)}var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tm(d,v){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var D=d[I].indexOf("="),Q=null;if(0<=D){var ne=d[I].substring(0,D);Q=d[I].substring(D+1)}else ne=d[I];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ns(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ns){this.h=d.h,ia(this,d.j),this.o=d.o,this.g=d.g,Qs(this,d.s),this.l=d.l;var v=d.i,I=new Li;I.i=v.i,v.g&&(I.g=new Map(v.g),I.h=v.h),Ys(this,I),this.m=d.m}else d&&(v=String(d).match(ra))?(this.h=!1,ia(this,v[1]||"",!0),this.o=vt(v[2]||""),this.g=vt(v[3]||"",!0),Qs(this,v[4]),this.l=vt(v[5]||"",!0),Ys(this,v[6]||"",!0),this.m=vt(v[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}ns.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Js(v,sl,!0),":");var I=this.g;return(I||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Js(v,sl,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(Js(I,I.charAt(0)=="/"?Bd:jd,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",Js(I,Wc)),d.join("")};function Ar(d){return new ns(d)}function ia(d,v,I){d.j=I?vt(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Qs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Ys(d,v,I){v instanceof Li?(d.i=v,Mi(d.i,d.h)):(I||(v=Js(v,Hd)),d.i=new Li(v,d.h))}function xt(d,v,I){d.i.set(v,I)}function Xs(d){return xt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function vt(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Js(d,v,I){return typeof d=="string"?(d=encodeURI(d).replace(v,Fd),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Fd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var sl=/[#\/\?@]/g,jd=/[#\?:]/g,Bd=/[#\?]/g,Hd=/[#\?@]/g,Wc=/#/g;function Li(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function kn(d){d.g||(d.g=new Map,d.h=0,d.i&&tm(d.i,function(v,I){d.add(decodeURIComponent(v.replace(/\+/g," ")),I)}))}n=Li.prototype,n.add=function(d,v){kn(this),this.i=null,d=Wr(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(v),this.h+=1,this};function ui(d,v){kn(d),v=Wr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function di(d,v){return kn(d),v=Wr(d,v),d.g.has(v)}n.forEach=function(d,v){kn(this),this.g.forEach(function(I,D){I.forEach(function(Q){d.call(v,Q,D,this)},this)},this)},n.na=function(){kn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),I=[];for(let D=0;D<v.length;D++){const Q=d[D];for(let ne=0;ne<Q.length;ne++)I.push(v[D])}return I},n.V=function(d){kn(this);let v=[];if(typeof d=="string")di(this,d)&&(v=v.concat(this.g.get(Wr(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)v=v.concat(d[I])}return v},n.set=function(d,v){return kn(this),this.i=null,d=Wr(this,d),di(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Zs(d,v,I){ui(d,v),0<I.length&&(d.i=null,d.g.set(Wr(d,v),N(I)),d.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var I=0;I<v.length;I++){var D=v[I];const ne=encodeURIComponent(String(D)),ge=this.V(D);for(D=0;D<ge.length;D++){var Q=ne;ge[D]!==""&&(Q+="="+encodeURIComponent(String(ge[D]))),d.push(Q)}}return this.i=d.join("&")};function Wr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Mi(d,v){v&&!d.j&&(kn(d),d.i=null,d.g.forEach(function(I,D){var Q=D.toLowerCase();D!=Q&&(ui(this,D),Zs(this,Q,I))},d)),d.j=v}function nm(d,v){const I=new Z;if(u.Image){const D=new Image;D.onload=C(fr,I,"TestLoadImage: loaded",!0,v,D),D.onerror=C(fr,I,"TestLoadImage: error",!1,v,D),D.onabort=C(fr,I,"TestLoadImage: abort",!1,v,D),D.ontimeout=C(fr,I,"TestLoadImage: timeout",!1,v,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else v(!1)}function zd(d,v){const I=new Z,D=new AbortController,Q=setTimeout(()=>{D.abort(),fr(I,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:D.signal}).then(ne=>{clearTimeout(Q),ne.ok?fr(I,"TestPingServer: ok",!0,v):fr(I,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),fr(I,"TestPingServer: error",!1,v)})}function fr(d,v,I,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(I)}catch{}}function rm(){this.g=new Zo}function Wd(d,v,I){const D=I||"";try{Gs(d,function(Q,ne){let ge=Q;p(Q)&&(ge=cr(Q)),v.push(D+ne+"="+encodeURIComponent(ge))})}catch(Q){throw v.push(D+"type="+encodeURIComponent("_badmap")),Q}}function rs(d){this.l=d.Ub||null,this.j=d.eb||!1}k(rs,ki),rs.prototype.g=function(){return new sa(this.l,this.j)},rs.prototype.i=function(d){return function(){return d}}({});function sa(d,v){$e.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(sa,$e),n=sa.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,hi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function qd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?fi(this):hi(this),this.readyState==3&&qd(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,fi(this))},n.Qa=function(d){this.g&&(this.response=d,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var I=v.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=v.next();return d.join(`\r
`)};function hi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function is(d){let v="";return G(d,function(I,D){v+=D,v+=":",v+=I,v+=`\r
`}),v}function eo(d,v,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=is(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):xt(d,v,I))}function jt(d){$e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(jt,$e);var im=/^https?$/i,qc=["POST","PUT"];n=jt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?ci(this.o):ci(xe),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ne){oa(this,ne);return}if(d=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)I.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ne of D.keys())I.set(ne,D.get(ne));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(qc,v,void 0))||D||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of I)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{al(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){oa(this,ne)}};function oa(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ol(d),Rr(d)}function ol(d){d.A||(d.A=!0,yt(d,"complete"),yt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,yt(this,"complete"),yt(this,"abort"),Rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Kc(this):this.bb())},n.bb=function(){Kc(this)};function Kc(d){if(d.h&&typeof l<"u"&&(!d.v[1]||hr(d)!=4||d.Z()!=2)){if(d.u&&hr(d)==4)wn(d.Ea,0,d);else if(yt(d,"readystatechange"),hr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var I;if(!(I=v)){var D;if(D=ge===0){var Q=String(d.D).match(ra)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),D=!im.test(Q?Q.toLowerCase():"")}I=D}if(I)yt(d,"complete"),yt(d,"success");else{d.m=6;try{var ne=2<hr(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",ol(d)}}finally{Rr(d)}}}}function Rr(d,v){if(d.g){al(d);const I=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||yt(d,"ready");try{I.onreadystatechange=D}catch{}}}function al(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function hr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ri(v)}};function Gc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ll(d){const v={};d=(d.g&&2<=hr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(L(d[D]))continue;var I=U(d[D]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(I)}S(v,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(d,v,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||v}function Qc(d){this.Aa=0,this.i=[],this.j=new Z,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vi("baseRetryDelayMs",5e3,d),this.cb=Vi("retryDelaySeedMs",1e4,d),this.Wa=Vi("forwardChannelMaxRetries",2,d),this.wa=Vi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new At(d&&d.concurrentRequestLimit),this.Da=new rm,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qc.prototype,n.la=8,n.G=1,n.connect=function(d,v,I,D){Kt(0),this.W=d,this.H=v||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=Yd(this,null,this.W),Ui(this)};function Nn(d){if(cl(d),d.G==3){var v=d.U++,I=Ar(d.I);if(xt(I,"SID",d.K),xt(I,"RID",v),xt(I,"TYPE","terminate"),ss(d,I),v=new Ze(d,d.j,v),v.L=2,v.v=Xs(Ar(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=v.v,I=!0),I||(v.g=Xd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),dt(v)}Qd(d)}function pi(d){d.g&&(Yc(d),d.g.cancel(),d.g=null)}function cl(d){pi(d),d.u&&(u.clearTimeout(d.u),d.u=null),fl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Ui(d){if(!on(d.h)&&!d.s){d.s=!0;var v=d.Ga;Se||ce(),re||(Se(),re=!0),me.add(v,d),d.B=0}}function sm(d,v){return Oi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=K(T(d.Ga,d,v),Gd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new Ze(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=b(ne),M(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=I;break e}if(v===4096||I===this.i.length-1){v=I+1;break e}}v=1e3}else v=1e3;v=to(this,Q,v),I=Ar(this.I),xt(I,"RID",d),xt(I,"CVER",22),this.D&&xt(I,"X-HTTP-Session-Id",this.D),ss(this,I),ne&&(this.O?v="headers="+encodeURIComponent(String(is(ne)))+"&"+v:this.m&&eo(I,this.m,ne)),zr(this.h,Q),this.Ua&&xt(I,"TYPE","init"),this.P?(xt(I,"$req",v),xt(I,"SID","null"),Q.T=!0,kt(Q,I,null)):kt(Q,I,v),this.G=2}}else this.G==3&&(d?ul(this,d):this.i.length==0||on(this.h)||ul(this))};function ul(d,v){var I;v?I=v.l:I=d.U++;const D=Ar(d.I);xt(D,"SID",d.K),xt(D,"RID",I),xt(D,"AID",d.T),ss(d,D),d.m&&d.o&&eo(D,d.m,d.o),I=new Ze(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),v&&(d.i=v.D.concat(d.i)),v=to(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),zr(d.h,I),kt(I,D,v)}function ss(d,v){d.H&&G(d.H,function(I,D){xt(v,D,I)}),d.l&&Gs({},function(I,D){xt(v,D,I)})}function to(d,v,I){I=Math.min(d.i.length,I);var D=d.l?T(d.l.Na,d.l,d):null;e:{var Q=d.i;let ne=-1;for(;;){const ge=["count="+I];ne==-1?0<I?(ne=Q[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let Nt=!0;for(let pn=0;pn<I;pn++){let wt=Q[pn].g;const Tn=Q[pn].map;if(wt-=ne,0>wt)ne=Math.max(0,Q[pn].g-100),Nt=!1;else try{Wd(Tn,ge,"req"+wt+"_")}catch{D&&D(Tn)}}if(Nt){D=ge.join("&");break e}}}return d=d.i.splice(0,I),v.D=d,D}function aa(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Se||ce(),re||(Se(),re=!0),me.add(v,d),d.v=0}}function dl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=K(T(d.Fa,d),Gd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Kd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=K(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),pi(this),Kd(this))};function Yc(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Kd(d){d.g=new Ze(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Ar(d.qa);xt(v,"RID","rpc"),xt(v,"SID",d.K),xt(v,"AID",d.T),xt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&xt(v,"TO",d.ja),xt(v,"TYPE","xmlhttp"),ss(d,v),d.m&&d.o&&eo(v,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=Xs(Ar(v)),I.m=null,I.P=!0,Hr(I,d)}n.Za=function(){this.C!=null&&(this.C=null,pi(this),dl(this),Kt(19))};function fl(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function hl(d,v){var I=null;if(d.g==v){fl(d),Yc(d),d.g=null;var D=2}else if(ht(d.h,v))I=v.D,na(d.h,v),D=1;else return;if(d.G!=0){if(v.o)if(D==1){I=v.m?v.m.length:0,v=Date.now()-v.F;var Q=d.B;D=Ni(),yt(D,new B(D,I)),Ui(d)}else aa(d);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(D==1&&sm(d,v)||D==2&&dl(d)))switch(I&&0<I.length&&(v=d.h,v.i=v.i.concat(I)),Q){case 1:os(d,5);break;case 4:os(d,10);break;case 3:os(d,6);break;default:os(d,2)}}}function Gd(d,v){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*v}function os(d,v){if(d.j.info("Error code "+v),v==2){var I=T(d.fb,d),D=d.Xa;const Q=!D;D=new ns(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ia(D,"https"),Xs(D),Q?nm(D.toString(),I):zd(D.toString(),I)}else Kt(2);d.G=0,d.l&&d.l.sa(v),Qd(d),cl(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Qd(d){if(d.G=0,d.ka=[],d.l){const v=nl(d.h);(v.length!=0||d.i.length!=0)&&(R(d.ka,v),R(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function Yd(d,v,I){var D=I instanceof ns?Ar(I):new ns(I);if(D.g!="")v&&(D.g=v+"."+D.g),Qs(D,D.s);else{var Q=u.location;D=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new ns(null);D&&ia(ne,D),v&&(ne.g=v),Q&&Qs(ne,Q),I&&(ne.l=I),D=ne}return I=d.D,v=d.ya,I&&v&&xt(D,I,v),xt(D,"VER",d.la),ss(d,D),D}function Xd(d,v,I){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new jt(new rs({eb:I})):new jt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}n=Xc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function pl(){}pl.prototype.g=function(d,v){return new er(d,v)};function er(d,v){$e.call(this),this.g=new Qc(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!L(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new $i(this)}k(er,$e),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){Nn(this.g)},er.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=cr(d),d=I);v.i.push(new ft(v.Ya++,d)),v.G==3&&Ui(v)},er.prototype.N=function(){this.g.l=null,delete this.j,Nn(this.g),delete this.g,er.aa.N.call(this)};function Jd(d){ur.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const I in v){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}k(Jd,ur);function Zd(){qs.call(this),this.status=1}k(Zd,qs);function $i(d){this.g=d}k($i,Xc),$i.prototype.ua=function(){yt(this.g,"a")},$i.prototype.ta=function(d){yt(this.g,new Jd(d))},$i.prototype.sa=function(d){yt(this.g,new Zd)},$i.prototype.ra=function(){yt(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,HR=function(){return new pl},BR=function(){return Ni()},jR=Sr,Xy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,wh=Re,Ce.COMPLETE="complete",FR=Ce,ts.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Vu=ts,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,$R=jt}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const LI="@firebase/firestore",MI="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new E_("@firebase/firestore");function Wl(){return Fa.logLevel}function ke(n,...e){if(Fa.logLevel<=mt.DEBUG){const t=e.map(S_);Fa.debug(`Firestore (${$c}): ${n}`,...t)}}function Ms(n,...e){if(Fa.logLevel<=mt.ERROR){const t=e.map(S_);Fa.error(`Firestore (${$c}): ${n}`,...t)}}function gc(n,...e){if(Fa.logLevel<=mt.WARN){const t=e.map(S_);Fa.warn(`Firestore (${$c}): ${n}`,...t)}}function S_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n="Unexpected state"){const e=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: `+n;throw Ms(e),new Error(e)}function Rt(n,e){n||Xe()}function rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Ws{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qn.UNAUTHENTICATED))}shutdown(){}}class jF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BF{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string"),new zR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new qn(e)}}class HF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new HF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WF{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ni(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new VI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt(typeof t.token=="string"),this.R=t.token,new VI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function _t(n,e){return n<e?-1:n>e?1:0}function yc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=-62135596800,$I=1e6;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$I);return new yn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UI)throw new Le(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$I}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new yn(0,0))}static max(){return new tt(new yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__name__";class zi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(),r===void 0?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=zi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=zi.isNumericId(e),i=zi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?zi.extractNumericId(e).compare(zi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class Ft extends zi{construct(e,t,r){return new Ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ft(t)}static emptyPath(){return new Ft([])}}const KF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends zi{construct(e,t,r){return new Ln(e,t,r)}static isValidIdentifier(e){return KF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FI}static keyField(){return new Ln([FI])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Le(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Le(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Le(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Le(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(t)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Ft.fromString(e))}static fromName(e){return new He(Ft.fromString(e).popFirst(5))}static empty(){return new He(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function GF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new yn(t+1,0):new yn(t,r));return new Uo(i,He.empty(),e)}function QF(n){return new Uo(n.readTime,n.key,rd)}class Uo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Uo(tt.min(),He.empty(),rd)}static max(){return new Uo(tt.max(),He.empty(),rd)}}function YF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:_t(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==XF)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},f=>r(f))}),l=!0,o===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(m=>{l[p]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new se((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function ZF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-1;function Np(n){return n==null}function zh(n){return n===0&&1/n==-1/0}function ej(n){return typeof n=="number"&&Number.isInteger(n)&&!zh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="";function tj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jI(e)),e=nj(n.get(t),e);return jI(e)}function nj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case qR:t+="";break;default:t+=o}}return t}function jI(n){return n+qR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Go(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??xn.RED,this.left=i??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new xn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HI(this.data.getIterator())}getIteratorFrom(e){return new HI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class HI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Mr([])}unionWith(e){let t=new vn(Ln.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GR("Invalid base64 string: "+o):o}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const rj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $o(n){if(Rt(!!n),typeof n=="string"){let e=0;const t=rj.exec(n);if(Rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tn(n.seconds),nanos:tn(n.nanos)}}function tn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fo(n){return typeof n=="string"?Vn.fromBase64String(n):Vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="server_timestamp",YR="__type__",XR="__previous_value__",JR="__local_write_time__";function b_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[YR])===null||t===void 0?void 0:t.stringValue)===QR}function Pp(n){const e=n.mapValue.fields[XR];return b_(e)?Pp(e):e}function id(n){const e=$o(n.mapValue.fields[JR].timestampValue);return new yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t,r,i,o,l,u,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=p}}const Wh="(default)";class sd{constructor(e,t){this.projectId=e,this.database=t||Wh}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__type__",sj="__max__",ch={mapValue:{}},ek="__vector__",qh="value";function jo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?b_(n)?4:aj(n)?9007199254740991:oj(n)?10:11:Xe()}function Ji(n,e){if(n===e)return!0;const t=jo(n);if(t!==jo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return id(n).isEqual(id(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=$o(i.timestampValue),u=$o(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Fo(i.bytesValue).isEqual(Fo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return tn(i.geoPointValue.latitude)===tn(o.geoPointValue.latitude)&&tn(i.geoPointValue.longitude)===tn(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tn(i.integerValue)===tn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=tn(i.doubleValue),u=tn(o.doubleValue);return l===u?zh(l)===zh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return yc(n.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(BI(l)!==BI(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ji(l[f],u[f])))return!1;return!0}(n,e);default:return Xe()}}function od(n,e){return(n.values||[]).find(t=>Ji(t,e))!==void 0}function vc(n,e){if(n===e)return 0;const t=jo(n),r=jo(e);if(t!==r)return _t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _t(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=tn(o.integerValue||o.doubleValue),f=tn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return zI(n.timestampValue,e.timestampValue);case 4:return zI(id(n),id(e));case 5:return _t(n.stringValue,e.stringValue);case 6:return function(o,l){const u=Fo(o),f=Fo(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),f=l.split("/");for(let p=0;p<u.length&&p<f.length;p++){const m=_t(u[p],f[p]);if(m!==0)return m}return _t(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=_t(tn(o.latitude),tn(l.latitude));return u!==0?u:_t(tn(o.longitude),tn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return WI(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,f,p,m;const y=o.fields||{},T=l.fields||{},C=(u=y[qh])===null||u===void 0?void 0:u.arrayValue,k=(f=T[qh])===null||f===void 0?void 0:f.arrayValue,N=_t(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0);return N!==0?N:WI(C,k)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===ch.mapValue&&l===ch.mapValue)return 0;if(o===ch.mapValue)return 1;if(l===ch.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let y=0;y<f.length&&y<m.length;++y){const T=_t(f[y],m[y]);if(T!==0)return T;const C=vc(u[f[y]],p[m[y]]);if(C!==0)return C}return _t(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function zI(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _t(n,e);const t=$o(n),r=$o(e),i=_t(t.seconds,r.seconds);return i!==0?i:_t(t.nanos,r.nanos)}function WI(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=vc(t[i],r[i]);if(o)return o}return _t(t.length,r.length)}function _c(n){return Jy(n)}function Jy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=$o(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Jy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Jy(t.fields[l])}`;return i+"}"}(n.mapValue):Xe()}function Eh(n){switch(jo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pp(n);return e?16+Eh(e):16;case 5:return 2*n.stringValue.length;case 6:return Fo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Eh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Go(r.fields,(o,l)=>{i+=o.length+Eh(l)}),i}(n.mapValue);default:throw Xe()}}function qI(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zy(n){return!!n&&"integerValue"in n}function A_(n){return!!n&&"arrayValue"in n}function KI(n){return!!n&&"nullValue"in n}function GI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Th(n){return!!n&&"mapValue"in n}function oj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZR])===null||t===void 0?void 0:t.stringValue)===ek}function zu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Go(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=zu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(t)}setAll(e){let t=Ln.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=zu(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Go(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ir(zu(this.value))}}function tk(n){const e=[];return Go(n.fields,(t,r)=>{const i=new Ln([t]);if(Th(r)){const o=tk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Kn(e,0,tt.min(),tt.min(),tt.min(),Ir.empty(),0)}static newFoundDocument(e,t,r,i){return new Kn(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new Kn(e,2,t,tt.min(),tt.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,tt.min(),tt.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.position=e,this.inclusive=t}}function QI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=He.comparator(He.fromName(l.referenceValue),t.key):r=vc(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function lj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{}class dn extends nk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uj(e,t,r):t==="array-contains"?new hj(e,r):t==="in"?new pj(e,r):t==="not-in"?new mj(e,r):t==="array-contains-any"?new gj(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dj(e,r):new fj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(vc(t,this.value)):t!==null&&jo(this.value)===jo(t)&&this.matchesComparison(vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends nk{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ci(e,t)}matches(e){return rk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rk(n){return n.op==="and"}function ik(n){return cj(n)&&rk(n)}function cj(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function ev(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+_c(n.value);if(ik(n))return n.filters.map(e=>ev(e)).join(",");{const e=n.filters.map(t=>ev(t)).join(",");return`${n.op}(${e})`}}function sk(n,e){return n instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.field.isEqual(i.field)&&Ji(r.value,i.value)}(n,e):n instanceof Ci?function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&sk(l,i.filters[u]),!0):!1}(n,e):void Xe()}function ok(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${_c(t.value)}`}(n):n instanceof Ci?function(t){return t.op.toString()+" {"+t.getFilters().map(ok).join(" ,")+"}"}(n):"Filter"}class uj extends dn{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class dj extends dn{constructor(e,t){super(e,"in",t),this.keys=ak("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fj extends dn{constructor(e,t){super(e,"not-in",t),this.keys=ak("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ak(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class hj extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return A_(t)&&od(t.arrayValue,this.value)}}class pj extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&od(this.value.arrayValue,t)}}class mj extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!od(this.value.arrayValue,t)}}class gj extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!A_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function XI(n,e=null,t=[],r=[],i=null,o=null,l=null){return new yj(n,e,t,r,i,o,l)}function R_(n){const e=rt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ev(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Np(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_c(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_c(r)).join(",")),e.le=t}return e.le}function k_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YI(n.startAt,e.startAt)&&YI(n.endAt,e.endAt)}function tv(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vj(n,e,t,r,i,o,l,u){return new kd(n,e,t,r,i,o,l,u)}function Dp(n){return new kd(n)}function JI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lk(n){return n.collectionGroup!==null}function Wu(n){const e=rt(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new vn(Ln.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Gh(o,r))}),t.has(Ln.keyField().canonicalString())||e.he.push(new Gh(Ln.keyField(),r))}return e.he}function Ki(n){const e=rt(n);return e.Pe||(e.Pe=_j(e,Wu(n))),e.Pe}function _j(n,e){if(n.limitType==="F")return XI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gh(i.field,o)});const t=n.endAt?new Kh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kh(n.startAt.position,n.startAt.inclusive):null;return XI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function nv(n,e){const t=n.filters.concat([e]);return new kd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rv(n,e,t){return new kd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xp(n,e){return k_(Ki(n),Ki(e))&&n.limitType===e.limitType}function ck(n){return`${R_(Ki(n))}|lt:${n.limitType}`}function ql(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ok(i)).join(", ")}]`),Np(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_c(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_c(i)).join(",")),`Target(${r})`}(Ki(n))}; limitType=${n.limitType})`}function Op(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):He.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Wu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const p=QI(l,u,f);return l.inclusive?p<=0:p<0}(r.startAt,Wu(r),i)||r.endAt&&!function(l,u,f){const p=QI(l,u,f);return l.inclusive?p>=0:p>0}(r.endAt,Wu(r),i))}(n,e)}function wj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uk(n){return(e,t)=>{let r=!1;for(const i of Wu(n)){const o=Ej(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Ej(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(o,l,u){const f=l.data.field(o),p=u.data.field(o);return f!==null&&p!==null?vc(f,p):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Yt(He.comparator);function Vs(){return Tj}const dk=new Yt(He.comparator);function Uu(...n){let e=dk;for(const t of n)e=e.insert(t.key,t);return e}function fk(n){let e=dk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ka(){return qu()}function hk(){return qu()}function qu(){return new Ya(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ij=new Yt(He.comparator),Sj=new vn(He.comparator);function gt(...n){let e=Sj;for(const t of n)e=e.add(t);return e}const Cj=new vn(_t);function bj(){return Cj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function pk(n){return{integerValue:""+n}}function Aj(n,e){return ej(e)?pk(e):N_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this._=void 0}}function Rj(n,e,t){return n instanceof ad?function(i,o){const l={fields:{[YR]:{stringValue:QR},[JR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b_(o)&&(o=Pp(o)),o&&(l.fields[XR]=o),{mapValue:l}}(t,e):n instanceof wc?gk(n,e):n instanceof Ec?yk(n,e):function(i,o){const l=mk(i,o),u=ZI(l)+ZI(i.Ie);return Zy(l)&&Zy(i.Ie)?pk(u):N_(i.serializer,u)}(n,e)}function kj(n,e,t){return n instanceof wc?gk(n,e):n instanceof Ec?yk(n,e):t}function mk(n,e){return n instanceof Qh?function(r){return Zy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ad extends Lp{}class wc extends Lp{constructor(e){super(),this.elements=e}}function gk(n,e){const t=vk(e);for(const r of n.elements)t.some(i=>Ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ec extends Lp{constructor(e){super(),this.elements=e}}function yk(n,e){let t=vk(e);for(const r of n.elements)t=t.filter(i=>!Ji(i,r));return{arrayValue:{values:t}}}class Qh extends Lp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ZI(n){return tn(n.integerValue||n.doubleValue)}function vk(n){return A_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t){this.field=e,this.transform=t}}function Nj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof wc&&i instanceof wc||r instanceof Ec&&i instanceof Ec?yc(r.elements,i.elements,Ji):r instanceof Qh&&i instanceof Qh?Ji(r.Ie,i.Ie):r instanceof ad&&i instanceof ad}(n.transform,e.transform)}class Pj{constructor(e,t){this.version=e,this.transformResults=t}}class Si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Mp{}function _k(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new D_(n.key,Si.none()):new Nd(n.key,n.data,Si.none());{const t=n.data,r=Ir.empty();let i=new vn(Ln.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Qo(n.key,r,new Mr(i.toArray()),Si.none())}}function Dj(n,e,t){n instanceof Nd?function(i,o,l){const u=i.value.clone(),f=tS(i.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Qo?function(i,o,l){if(!Ih(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=tS(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(wk(i)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ku(n,e,t,r){return n instanceof Nd?function(o,l,u,f){if(!Ih(o.precondition,l))return u;const p=o.value.clone(),m=nS(o.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qo?function(o,l,u,f){if(!Ih(o.precondition,l))return u;const p=nS(o.fieldTransforms,f,l),m=l.data;return m.setAll(wk(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(o,l,u){return Ih(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function xj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=mk(r.transform,i||null);o!=null&&(t===null&&(t=Ir.empty()),t.set(r.field,o))}return t||null}function eS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yc(r,i,(o,l)=>Nj(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nd extends Mp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qo extends Mp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tS(n,e,t){const r=new Map;Rt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,kj(l,u,t[i]))}return r}function nS(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,Rj(o,l,e))}return r}class D_ extends Mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oj extends Mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Dj(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hk();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const f=_k(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gt())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(t,r)=>eS(t,r))&&yc(this.baseMutations,e.baseMutations,(t,r)=>eS(t,r))}}class x_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Rt(e.mutations.length===r.length);let i=function(){return Ij}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new x_(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,Et;function Uj(n){switch(n){case oe.OK:return Xe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Xe()}}function Ek(n){if(n===void 0)return Ms("GRPC error has no .code"),oe.UNKNOWN;switch(n){case cn.OK:return oe.OK;case cn.CANCELLED:return oe.CANCELLED;case cn.UNKNOWN:return oe.UNKNOWN;case cn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case cn.INTERNAL:return oe.INTERNAL;case cn.UNAVAILABLE:return oe.UNAVAILABLE;case cn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case cn.NOT_FOUND:return oe.NOT_FOUND;case cn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case cn.ABORTED:return oe.ABORTED;case cn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case cn.DATA_LOSS:return oe.DATA_LOSS;default:return Xe()}}(Et=cn||(cn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new xo([4294967295,4294967295],0);function rS(n){const e=$j().encode(n),t=new UR;return t.update(e),new Uint8Array(t.digest())}function iS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xo([t,r],0),new xo([i,o],0)]}class O_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $u(`Invalid padding: ${t}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $u(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=xo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(xo.fromNumber(r)));return i.compare(Fj)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=rS(e),[r,i]=iS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new O_(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=rS(e),[r,i]=iS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Vp(tt.min(),i,new Yt(_t),Vs(),gt())}}class Pd{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pd(r,t,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Tk{constructor(e,t){this.targetId=e,this.ge=t}}class Ik{constructor(e,t,r=Vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class sS{constructor(){this.pe=0,this.ye=oS(),this.we=Vn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=gt(),t=gt(),r=gt();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new Pd(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=oS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Rt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Vs(),this.$e=uh(),this.Ke=uh(),this.Ue=new Yt(_t)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(tv(o))if(r===0){const l=new He(o.path);this.ze(t,l,Kn.newNoDocument(l,tt.min()))}else Rt(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),f=u?this.nt(u,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=Fo(r).toUint8Array()}catch(f){if(f instanceof GR)return gc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new O_(l,i,o)}catch(f){return gc(f instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&tv(u.target)){const f=new He(u.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,Kn.newNoDocument(f,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=gt();this.Ke.forEach((o,l)=>{let u=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Vp(e,t,this.Ue,this.Qe,r);return this.Qe=Vs(),this.$e=uh(),this.Ke=uh(),this.Ue=new Yt(_t),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new sS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new vn(_t),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new vn(_t),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new sS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function uh(){return new Yt(He.comparator)}function oS(){return new Yt(He.comparator)}const Bj={asc:"ASCENDING",desc:"DESCENDING"},Hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zj={and:"AND",or:"OR"};class Wj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iv(n,e){return n.useProto3Json||Np(e)?e:{value:e}}function Yh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qj(n,e){return Yh(n,e.toTimestamp())}function Gi(n){return Rt(!!n),tt.fromTimestamp(function(t){const r=$o(t);return new yn(r.seconds,r.nanos)}(n))}function L_(n,e){return sv(n,e).canonicalString()}function sv(n,e){const t=function(i){return new Ft(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Ck(n){const e=Ft.fromString(n);return Rt(Nk(e)),e}function ov(n,e){return L_(n.databaseId,e.path)}function uy(n,e){const t=Ck(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(Ak(t))}function bk(n,e){return L_(n.databaseId,e)}function Kj(n){const e=Ck(n);return e.length===4?Ft.emptyPath():Ak(e)}function av(n){return new Ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ak(n){return Rt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function aS(n,e,t){return{name:ov(n,e),fields:t.value.mapValue.fields}}function Gj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(Rt(m===void 0||typeof m=="string"),Vn.fromBase64String(m||"")):(Rt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Vn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const m=p.code===void 0?oe.UNKNOWN:Ek(p.code);return new Le(m,p.message||"")}(l);t=new Ik(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uy(n,r.document.name),o=Gi(r.document.updateTime),l=r.document.createTime?Gi(r.document.createTime):tt.min(),u=new Ir({mapValue:{fields:r.document.fields}}),f=Kn.newFoundDocument(i,o,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new Sh(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uy(n,r.document),o=r.readTime?Gi(r.readTime):tt.min(),l=Kn.newNoDocument(i,o),u=r.removedTargetIds||[];t=new Sh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uy(n,r.document),o=r.removedTargetIds||[];t=new Sh([],o,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new Vj(i,o),u=r.targetId;t=new Tk(u,l)}}return t}function Qj(n,e){let t;if(e instanceof Nd)t={update:aS(n,e.key,e.value)};else if(e instanceof D_)t={delete:ov(n,e.key)};else if(e instanceof Qo)t={update:aS(n,e.key,e.data),updateMask:i3(e.fieldMask)};else{if(!(e instanceof Oj))return Xe();t={verify:ov(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof ad)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ec)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qh)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:qj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Xe()}(n,e.precondition)),t}function Yj(n,e){return n&&n.length>0?(Rt(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?Gi(i.updateTime):Gi(o);return l.isEqual(tt.min())&&(l=Gi(o)),new Pj(l,i.transformResults||[])}(t,e))):[]}function Xj(n,e){return{documents:[bk(n,e.path)]}}function Jj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bk(n,i);const o=function(p){if(p.length!==0)return kk(Ci.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(T){return{field:Kl(T.field),direction:t3(T.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=iv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function Zj(n){let e=Kj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Rt(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const T=Rk(y);return T instanceof Ci&&ik(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(T=>function(k){return new Gh(Gl(k.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(t.orderBy));let u=null;t.limit&&(u=function(y){let T;return T=typeof y=="object"?y.value:y,Np(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(y){const T=!!y.before,C=y.values||[];return new Kh(C,T)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const T=!y.before,C=y.values||[];return new Kh(C,T)}(t.endAt)),vj(e,i,l,o,u,"F",f,p)}function e3(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Rk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Gl(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gl(t.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gl(t.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Gl(t.unaryFilter.field);return dn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Gl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ci.create(t.compositeFilter.filters.map(r=>Rk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(n):Xe()}function t3(n){return Bj[n]}function n3(n){return Hj[n]}function r3(n){return zj[n]}function Kl(n){return{fieldPath:n.canonicalString()}}function Gl(n){return Ln.fromServerFormat(n.fieldPath)}function kk(n){return n instanceof dn?function(t){if(t.op==="=="){if(GI(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NAN"}};if(KI(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GI(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NOT_NAN"}};if(KI(t.value))return{unaryFilter:{field:Kl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(t.field),op:n3(t.op),value:t.value}}}(n):n instanceof Ci?function(t){const r=t.getFilters().map(i=>kk(i));return r.length===1?r[0]:{compositeFilter:{op:r3(t.op),filters:r}}}(n):Xe()}function i3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,r,i,o=tt.min(),l=tt.min(),u=Vn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.Tt=e}}function o3(n){const e=Zj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.Tn=new l3}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Uo.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class l3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vn(Ft.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pk=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(Pk,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Tc(0)}static Un(){return new Tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="LruGarbageCollector",c3=1048576;function uS([n,e],[t,r]){const i=_t(n,t);return i===0?_t(e,r):i}class u3{constructor(e){this.Hn=e,this.buffer=new vn(uS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(cS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jc(t)?ke(cS,"Ignoring IndexedDB error during garbage collection: ",t):await Fc(t)}await this.er(3e5)})}}class f3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(kp.ae);const r=new u3(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(lS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lS):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,u,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),Wl()<=mt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function h3(n,e){return new f3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.changes=new Ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ku(r.mutation,i,Mr.empty(),yn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=gt()){const i=ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Uu();return o.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=Vs();const l=qu(),u=function(){return qu()}();return t.forEach((f,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Qo)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Ku(m.mutation,p,m.mutation.getFieldMask(),yn.now())):l.set(p.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var y;return u.set(p,new m3(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=qu();let i=new Yt((l,u)=>l-u),o=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let m=r.get(f)||Mr.empty();m=u.applyToLocalView(p,m),r.set(f,m);const y=(i.get(u.batchId)||gt()).add(f);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),p=f.key,m=f.value,y=hk();m.forEach(T=>{if(!o.has(T)){const C=_k(t.get(T),r.get(T));C!==null&&y.set(T,C),o=o.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return He.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):se.resolve(ka());let u=rd,f=o;return l.next(p=>se.forEach(p,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next(T=>{f=f.insert(m,T)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,gt())).next(m=>({batchId:u,changes:fk(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=Uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Uu();return this.indexManager.getCollectionParents(e,o).next(u=>se.forEach(u,f=>{const p=function(y,T){return new kd(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((y,T)=>{l=l.insert(y,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Kn.newInvalidDocument(m)))});let u=Uu();return l.forEach((f,p)=>{const m=o.get(f);m!==void 0&&Ku(m.mutation,p,Mr.empty(),yn.now()),Op(t,p)&&(u=u.insert(f,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:o3(i.bundledQuery),readTime:Gi(i.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.overlays=new Yt(He.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ka();return se.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=ka(),o=t.length+1,l=new He(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Yt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=ka(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=ka(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=i)););return se.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Mj(t,r));let o=this.Rr.get(t);o===void 0&&(o=gt(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.Vr=new vn(bn.mr),this.gr=new vn(bn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new bn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new bn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new He(new Ft([])),r=new bn(t,e),i=new bn(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new He(new Ft([])),r=new bn(t,e),i=new bn(t,e+1);let o=gt();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new bn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return He.comparator(e.key,t.key)||_t(e.Cr,t.Cr)}static pr(e,t){return _t(e.Cr,t.Cr)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new vn(bn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lj(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new bn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?C_:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bn(t,0),i=new bn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);o.push(u)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(_t);return t.forEach(i=>{const o=new bn(i,0),l=new bn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{r=r.add(u.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;He.isDocumentKey(o)||(o=o.child(""));const l=new bn(new He(o),0);let u=new vn(_t);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(f.Cr)),!0)},l),se.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Rt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(t.mutations,i=>{const o=new bn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new bn(t,0),i=this.Mr.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.kr=e,this.docs=function(){return new Yt(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Vs();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Vs();const l=t.path,u=new He(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||YF(QF(m),r)<=0||(i.has(m.key)||Op(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Xe()}qr(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new T3(this)}getSize(e){return se.resolve(this.size)}}class T3 extends p3{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.persistence=e,this.Qr=new Ya(t=>R_(t),k_),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new M_,this.targetCount=0,this.Ur=Tc.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),se.waitFor(o).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new kp(0),this.zr=!1,this.zr=!0,this.jr=new _3,this.referenceDelegate=e(this),this.Hr=new I3(this),this.indexManager=new a3,this.remoteDocumentCache=function(i){return new E3(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new s3(t),this.Yr=new y3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new v3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new w3(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new S3(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class S3 extends JF{constructor(e){super(),this.currentSequenceNumber=e}}class V_{constructor(e){this.persistence=e,this.ti=new M_,this.ni=null}static ri(e){return new V_(e)}get ii(){if(this.ni)return this.ni;throw Xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const i=He.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Xh{constructor(e,t){this.persistence=e,this.oi=new Ya(r=>tj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=h3(this,t)}static ri(e,t){return new Xh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?se.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,o.removeEntry(l,tt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Eh(e.data.value)),t}ar(e,t,r){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=gt(),i=gt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new U_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return w4()?8:ZF(Qn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new C3;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Wl()<=mt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",ql(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(Wl()<=mt.DEBUG&&ke("QueryEngine","Query:",ql(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Wl()<=mt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",ql(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(t))):se.resolve())}rs(e,t){if(JI(t))return se.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=rv(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=gt(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,u);return this.ls(t,p,l,f.readTime)?this.rs(e,rv(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return JI(t)||i.isEqual(tt.min())?se.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?se.resolve(null):(Wl()<=mt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ql(t)),this.hs(e,l,t,GF(i,rd)).next(u=>u))})}cs(e,t){let r=new vn(uk(e));return t.forEach((i,o)=>{Op(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Wl()<=mt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",ql(t)),this.ns.getDocumentsMatchingQuery(e,t,Uo.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LocalStore",A3=3e8;class R3{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Yt(_t),this.Is=new Ya(o=>R_(o),k_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function k3(n,e,t,r){return new R3(n,e,t,r)}async function xk(n,e){const t=rt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let f=gt();for(const p of i){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:u}))})})}function N3(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,f,p,m){const y=p.batch,T=y.keys();let C=se.resolve();return T.forEach(k=>{C=C.next(()=>m.getEntry(f,k)).next(N=>{const R=p.docVersions.get(k);Rt(R!==null),N.version.compareTo(R)<0&&(y.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),m.addEntry(N)))})}),C.next(()=>u.mutationQueue.removeMutationBatch(f,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=gt();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(f=f.add(u.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Ok(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function P3(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,y)=>{const T=i.get(y);if(!T)return;u.push(t.Hr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(o,m.addedDocuments,y)));let C=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?C=C.withResumeToken(Vn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):m.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(m.resumeToken,r)),i=i.insert(y,C),function(N,R,x){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=A3?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(T,C,m)&&u.push(t.Hr.updateTargetData(o,C))});let f=Vs(),p=gt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(D3(o,l,e.documentUpdates).next(m=>{f=m.Vs,p=m.fs})),!r.isEqual(tt.min())){const m=t.Hr.getLastRemoteSnapshotVersion(o).next(y=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return se.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ts=i,o))}function D3(n,e,t){let r=gt(),i=gt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Vs();return t.forEach((u,f)=>{const p=o.get(u);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):ke($_,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function x3(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=C_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O3(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,se.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ro(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function lv(n,e,t){const r=rt(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!jc(l))throw l;ke($_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function dS(n,e,t){const r=rt(n);let i=tt.min(),o=gt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,m){const y=rt(f),T=y.Is.get(m);return T!==void 0?se.resolve(y.Ts.get(T)):y.Hr.getTargetData(p,m)}(r,l,Ki(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?o:gt())).next(u=>(L3(r,wj(e),u),{documents:u,gs:o})))}function L3(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class fS{constructor(){this.activeTargetIds=bj()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M3{constructor(){this.ho=new fS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="ConnectivityMonitor";class pS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(hS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(hS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function cv(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="RestConnection",U3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $3{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const l=cv(),u=this.bo(e,t.toUriEncodedString());ke(dy,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,o),this.vo(e,u,f,r).then(p=>(ke(dy,`Received RPC '${e}' ${l}: `,p),p),p=>{throw gc(dy,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p})}Co(e,t,r,i,o,l){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$c}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=U3[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class j3 extends $3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=cv();return new Promise((l,u)=>{const f=new $R;f.setWithCredentials(!0),f.listenOnce(FR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case wh.NO_ERROR:const m=f.getResponseJson();ke(Wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case wh.TIMEOUT:ke(Wn,`RPC '${e}' ${o} timed out`),u(new Le(oe.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const y=f.getStatus();if(ke(Wn,`RPC '${e}' ${o} failed with status:`,y,"response text:",f.getResponseText()),y>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const k=function(R){const x=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(x)>=0?x:oe.UNKNOWN}(C.status);u(new Le(k,C.message))}else u(new Le(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Le(oe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{ke(Wn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);ke(Wn,`RPC '${e}' ${o} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=cv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=HR(),u=BR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=o.join("");ke(Wn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const y=l.createWebChannel(m,f);let T=!1,C=!1;const k=new F3({Fo:R=>{C?ke(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(T||(ke(Wn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),T=!0),ke(Wn,`RPC '${e}' stream ${i} sending:`,R),y.send(R))},Mo:()=>y.close()}),N=(R,x,L)=>{R.listen(x,V=>{try{L(V)}catch(j){setTimeout(()=>{throw j},0)}})};return N(y,Vu.EventType.OPEN,()=>{C||(ke(Wn,`RPC '${e}' stream ${i} transport opened.`),k.Qo())}),N(y,Vu.EventType.CLOSE,()=>{C||(C=!0,ke(Wn,`RPC '${e}' stream ${i} transport closed`),k.Ko())}),N(y,Vu.EventType.ERROR,R=>{C||(C=!0,gc(Wn,`RPC '${e}' stream ${i} transport errored:`,R),k.Ko(new Le(oe.UNAVAILABLE,"The operation could not be completed")))}),N(y,Vu.EventType.MESSAGE,R=>{var x;if(!C){const L=R.data[0];Rt(!!L);const V=L,j=(V==null?void 0:V.error)||((x=V[0])===null||x===void 0?void 0:x.error);if(j){ke(Wn,`RPC '${e}' stream ${i} received error:`,j);const q=j.status;let G=function(P){const M=cn[P];if(M!==void 0)return Ek(M)}(q),S=j.message;G===void 0&&(G=oe.INTERNAL,S="Unknown error status: "+q+" with message "+j.message),C=!0,k.Ko(new Le(G,S)),y.close()}else ke(Wn,`RPC '${e}' stream ${i} received:`,L),k.Uo(L)}}),N(u,jR.STAT_EVENT,R=>{R.stat===Xy.PROXY?ke(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Xy.NOPROXY&&ke(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n){return new Wj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="PersistentStream";class Mk{constructor(e,t,r,i,o,l,u,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Lk(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Ms(t.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Le(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(mS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ke(mS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B3 extends Mk{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Gj(this.serializer,e),r=function(o){if(!("targetChange"in o))return tt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?Gi(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=av(this.serializer),t.addTarget=function(o,l){let u;const f=l.target;if(u=tv(f)?{documents:Xj(o,f)}:{query:Jj(o,f).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Sk(o,l.resumeToken);const p=iv(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){u.readTime=Yh(o,l.snapshotVersion.toTimestamp());const p=iv(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=e3(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=av(this.serializer),t.removeTarget=e,this.I_(t)}}class H3 extends Mk{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Yj(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=av(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Qj(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{}class W3 extends z3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Le(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,sv(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(oe.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,sv(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(oe.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class q3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ms(t),this.N_=!1):ke("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class K3{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Xa(this)&&(ke(ja,"Restarting streams for network reachability change."),await async function(f){const p=rt(f);p.W_.add(4),await Dd(p),p.j_.set("Unknown"),p.W_.delete(4),await $p(p)}(this))})}),this.j_=new q3(r,i)}}async function $p(n){if(Xa(n))for(const e of n.G_)await e(!0)}async function Dd(n){for(const e of n.G_)await e(!1)}function Vk(n,e){const t=rt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),H_(t)?B_(t):Bc(t).c_()&&j_(t,e))}function F_(n,e){const t=rt(n),r=Bc(t);t.U_.delete(e),r.c_()&&Uk(t,e),t.U_.size===0&&(r.c_()?r.P_():Xa(t)&&t.j_.set("Unknown"))}function j_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bc(n).y_(e)}function Uk(n,e){n.H_.Ne(e),Bc(n).w_(e)}function B_(n){n.H_=new jj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Bc(n).start(),n.j_.B_()}function H_(n){return Xa(n)&&!Bc(n).u_()&&n.U_.size>0}function Xa(n){return rt(n).W_.size===0}function $k(n){n.H_=void 0}async function G3(n){n.j_.set("Online")}async function Q3(n){n.U_.forEach((e,t)=>{j_(n,e)})}async function Y3(n,e){$k(n),H_(n)?(n.j_.q_(e),B_(n)):n.j_.set("Unknown")}async function X3(n,e,t){if(n.j_.set("Online"),e instanceof Ik&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ke(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(n,r)}else if(e instanceof Sh?n.H_.We(e):e instanceof Tk?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await Ok(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.U_.get(p);m&&o.U_.set(p,m.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,p)=>{const m=o.U_.get(f);if(!m)return;o.U_.set(f,m.withResumeToken(Vn.EMPTY_BYTE_STRING,m.snapshotVersion)),Uk(o,f);const y=new Ro(m.target,f,p,m.sequenceNumber);j_(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ke(ja,"Failed to raise snapshot:",r),await Jh(n,r)}}async function Jh(n,e,t){if(!jc(e))throw e;n.W_.add(1),await Dd(n),n.j_.set("Offline"),t||(t=()=>Ok(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke(ja,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await $p(n)})}function Fk(n,e){return e().catch(t=>Jh(n,t,e))}async function Fp(n){const e=rt(n),t=Bo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:C_;for(;J3(e);)try{const i=await x3(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Z3(e,i)}catch(i){await Jh(e,i)}jk(e)&&Bk(e)}function J3(n){return Xa(n)&&n.K_.length<10}function Z3(n,e){n.K_.push(e);const t=Bo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function jk(n){return Xa(n)&&!Bo(n).u_()&&n.K_.length>0}function Bk(n){Bo(n).start()}async function eB(n){Bo(n).C_()}async function tB(n){const e=Bo(n);for(const t of n.K_)e.b_(t.mutations)}async function nB(n,e,t){const r=n.K_.shift(),i=x_.from(r,e,t);await Fk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Fp(n)}async function rB(n,e){e&&Bo(n).S_&&await async function(r,i){if(function(l){return Uj(l)&&l!==oe.ABORTED}(i.code)){const o=r.K_.shift();Bo(r).h_(),await Fk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Fp(r)}}(n,e),jk(n)&&Bk(n)}async function gS(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),ke(ja,"RemoteStore received new credentials");const r=Xa(t);t.W_.add(3),await Dd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await $p(t)}async function iB(n,e){const t=rt(n);e?(t.W_.delete(2),await $p(t)):e||(t.W_.add(2),await Dd(t),t.j_.set("Unknown"))}function Bc(n){return n.J_||(n.J_=function(t,r,i){const o=rt(t);return o.M_(),new B3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:G3.bind(null,n),No:Q3.bind(null,n),Lo:Y3.bind(null,n),p_:X3.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),H_(n)?B_(n):n.j_.set("Unknown")):(await n.J_.stop(),$k(n))})),n.J_}function Bo(n){return n.Y_||(n.Y_=function(t,r,i){const o=rt(t);return o.M_(),new H3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:eB.bind(null,n),Lo:rB.bind(null,n),D_:tB.bind(null,n),v_:nB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Fp(n)):(await n.Y_.stop(),n.K_.length>0&&(ke(ja,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new z_(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W_(n,e){if(Ms("AsyncQueue",`${e}: ${n}`),jc(n))return new Le(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Uu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.Z_=new Yt(He.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ic{constructor(e,t,r,i,o,l,u,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Ic(e,t,Jl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class oB{constructor(){this.queries=vS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=rt(t),o=i.queries;i.queries=vS(),o.forEach((l,u)=>{for(const f of u.ta)f.onError(r)})})(this,new Le(oe.ABORTED,"Firestore shutting down"))}}function vS(){return new Ya(n=>ck(n),xp)}async function q_(n,e){const t=rt(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new sB,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=W_(l,`Initialization of query '${ql(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&G_(t)}async function K_(n,e){const t=rt(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function aB(n,e){const t=rt(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&G_(t)}function lB(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function G_(n){n.ia.forEach(e=>{e.next()})}var uv,_S;(_S=uv||(uv={}))._a="default",_S.Cache="cache";class Q_{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==uv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.key=e}}class zk{constructor(e){this.key=e}}class cB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=gt(),this.mutatedKeys=gt(),this.ya=uk(e),this.wa=new Jl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new yS,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const T=i.get(m),C=Op(this.query,y)?y:null,k=!!T&&this.mutatedKeys.has(T.key),N=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let R=!1;T&&C?T.data.isEqual(C.data)?k!==N&&(r.track({type:3,doc:C}),R=!0):this.va(T,C)||(r.track({type:2,doc:C}),R=!0,(f&&this.ya(C,f)>0||p&&this.ya(C,p)<0)&&(u=!0)):!T&&C?(r.track({type:0,doc:C}),R=!0):T&&!C&&(r.track({type:1,doc:T}),R=!0,(f||p)&&(u=!0)),R&&(C?(l=l.add(C),o=N?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,y)=>function(C,k){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return N(C)-N(k)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Ic(this.query,e.wa,o,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=gt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new zk(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Hk(r))}),t}Oa(e){this.fa=e.gs,this.pa=gt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ic.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Y_="SyncEngine";class uB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dB{constructor(e){this.key=e,this.Ba=!1}}class fB{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ya(u=>ck(u),xp),this.qa=new Map,this.Qa=new Set,this.$a=new Yt(He.comparator),this.Ka=new Map,this.Ua=new M_,this.Wa={},this.Ga=new Map,this.za=Tc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hB(n,e,t=!0){const r=Yk(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Wk(r,e,t,!0),i}async function pB(n,e){const t=Yk(n);await Wk(t,e,!0,!1)}async function Wk(n,e,t,r){const i=await O3(n.localStore,Ki(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await mB(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Vk(n.remoteStore,i),u}async function mB(n,e,t,r,i){n.Ha=(y,T,C)=>async function(N,R,x,L){let V=R.view.ba(x);V.ls&&(V=await dS(N.localStore,R.query,!1).then(({documents:S})=>R.view.ba(S,V)));const j=L&&L.targetChanges.get(R.targetId),q=L&&L.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(V,N.isPrimaryClient,j,q);return ES(N,R.targetId,G.Ma),G.snapshot}(n,y,T,C);const o=await dS(n.localStore,e,!0),l=new cB(e,o.gs),u=l.ba(o.documents),f=Pd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,f);ES(n,t,p.Ma);const m=new uB(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function gB(n,e,t){const r=rt(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!xp(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&F_(r.remoteStore,i.targetId),dv(r,i.targetId)}).catch(Fc)):(dv(r,i.targetId),await lv(r.localStore,i.targetId,!0))}async function yB(n,e){const t=rt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),F_(t.remoteStore,r.targetId))}async function vB(n,e,t){const r=CB(n);try{const i=await function(l,u){const f=rt(l),p=yn.now(),m=u.reduce((C,k)=>C.add(k.key),gt());let y,T;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=Vs(),N=gt();return f.ds.getEntries(C,m).next(R=>{k=R,k.forEach((x,L)=>{L.isValidDocument()||(N=N.add(x))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,k)).next(R=>{y=R;const x=[];for(const L of u){const V=xj(L,y.get(L.key).overlayedDocument);V!=null&&x.push(new Qo(L.key,V,tk(V.value.mapValue),Si.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,x,u)}).next(R=>{T=R;const x=R.applyToLocalDocumentSet(y,N);return f.documentOverlayCache.saveOverlays(C,R.batchId,x)})}).then(()=>({batchId:T.batchId,changes:fk(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new Yt(_t)),p=p.insert(u,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await xd(r,i.changes),await Fp(r.remoteStore)}catch(i){const o=W_(i,"Failed to persist write");t.reject(o)}}async function qk(n,e){const t=rt(n);try{const r=await P3(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Rt(l.Ba):i.removedDocuments.size>0&&(Rt(l.Ba),l.Ba=!1))}),await xd(t,r,e)}catch(r){await Fc(r)}}function wS(n,e,t){const r=rt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=rt(l);f.onlineState=u;let p=!1;f.queries.forEach((m,y)=>{for(const T of y.ta)T.sa(u)&&(p=!0)}),p&&G_(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _B(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new Yt(He.comparator);l=l.insert(o,Kn.newNoDocument(o,tt.min()));const u=gt().add(o),f=new Vp(tt.min(),new Map,new Yt(_t),l,u);await qk(r,f),r.$a=r.$a.remove(o),r.Ka.delete(e),X_(r)}else await lv(r.localStore,e,!1).then(()=>dv(r,e,t)).catch(Fc)}async function wB(n,e){const t=rt(n),r=e.batch.batchId;try{const i=await N3(t.localStore,e);Gk(t,r,null),Kk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await xd(t,i)}catch(i){await Fc(i)}}async function EB(n,e,t){const r=rt(n);try{const i=await function(l,u){const f=rt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return f.mutationQueue.lookupMutationBatch(p,u).next(y=>(Rt(y!==null),m=y.keys(),f.mutationQueue.removeMutationBatch(p,y))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>f.localDocuments.getDocuments(p,m))})}(r.localStore,e);Gk(r,e,t),Kk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await xd(r,i)}catch(i){await Fc(i)}}function Kk(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Gk(n,e,t){const r=rt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function dv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||Qk(n,r)})}function Qk(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(F_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),X_(n))}function ES(n,e,t){for(const r of t)r instanceof Hk?(n.Ua.addReference(r.key,e),TB(n,r)):r instanceof zk?(ke(Y_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||Qk(n,r.key)):Xe()}function TB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ke(Y_,"New document in limbo: "+t),n.Qa.add(r),X_(n))}function X_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new He(Ft.fromString(e)),r=n.za.next();n.Ka.set(r,new dB(t)),n.$a=n.$a.insert(t,r),Vk(n.remoteStore,new Ro(Ki(Dp(t.path)),r,"TargetPurposeLimboResolution",kp.ae))}}async function xd(n,e,t){const r=rt(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,f)=>{l.push(r.Ha(f,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){i.push(p);const y=U_.Yi(f.targetId,p);o.push(y)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const m=rt(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>se.forEach(p,T=>se.forEach(T.Hi,C=>m.persistence.referenceDelegate.addReference(y,T.targetId,C)).next(()=>se.forEach(T.Ji,C=>m.persistence.referenceDelegate.removeReference(y,T.targetId,C)))))}catch(y){if(!jc(y))throw y;ke($_,"Failed to update sequence numbers: "+y)}for(const y of p){const T=y.targetId;if(!y.fromCache){const C=m.Ts.get(T),k=C.snapshotVersion,N=C.withLastLimboFreeSnapshotVersion(k);m.Ts=m.Ts.insert(T,N)}}}(r.localStore,o))}async function IB(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){ke(Y_,"User change. New user:",e.toKey());const r=await xk(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(f=>{f.reject(new Le(oe.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xd(t,r.Rs)}}function SB(n,e){const t=rt(n),r=t.Ka.get(e);if(r&&r.Ba)return gt().add(r.key);{let i=gt();const o=t.qa.get(e);if(!o)return i;for(const l of o){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}function Yk(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_B.bind(null,e),e.La.p_=aB.bind(null,e.eventManager),e.La.Ja=lB.bind(null,e.eventManager),e}function CB(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EB.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Up(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return k3(this.persistence,new b3,e.initialUser,this.serializer)}Xa(e){return new Dk(V_.ri,this.serializer)}Za(e){return new M3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class bB extends Zh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Rt(this.persistence.referenceDelegate instanceof Xh);const r=this.persistence.referenceDelegate.garbageCollector;return new d3(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new Dk(r=>Xh.ri(r,t),this.serializer)}}class fv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IB.bind(null,this.syncEngine),await iB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oB}()}createDatastore(e){const t=Up(e.databaseInfo.databaseId),r=function(o){return new j3(o)}(e.databaseInfo);return function(o,l,u,f){return new W3(o,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new K3(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>wS(this.syncEngine,t,0),function(){return pS.D()?new pS:new V3}())}createSyncEngine(e,t){return function(i,o,l,u,f,p,m){const y=new fB(i,o,l,u,f,p);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=rt(i);ke(ja,"RemoteStore shutting down."),o.W_.add(5),await Dd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fv.provider={build:()=>new fv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class AB{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=WR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ke(Ho,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ke(Ho,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=W_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hy(n,e){n.asyncQueue.verifyOperationInProgress(),ke(Ho,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function TS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RB(n);ke(Ho,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>gS(e.remoteStore,i)),n._onlineComponents=e}async function RB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(Ho,"Using user provided OfflineComponentProvider");try{await hy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;gc("Error using user provided cache. Falling back to memory cache: "+t),await hy(n,new Zh)}}else ke(Ho,"Using default OfflineComponentProvider"),await hy(n,new bB(void 0));return n._offlineComponents}async function Xk(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(Ho,"Using user provided OnlineComponentProvider"),await TS(n,n._uninitializedComponentsProvider._online)):(ke(Ho,"Using default OnlineComponentProvider"),await TS(n,new fv))),n._onlineComponents}function kB(n){return Xk(n).then(e=>e.syncEngine)}async function ep(n){const e=await Xk(n),t=e.eventManager;return t.onListen=hB.bind(null,e.syncEngine),t.onUnlisten=gB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yB.bind(null,e.syncEngine),t}function NB(n,e,t={}){const r=new Rs;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,p){const m=new J_({next:T=>{m.su(),l.enqueueAndForget(()=>K_(o,y));const C=T.docs.has(u);!C&&T.fromCache?p.reject(new Le(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&f&&f.source==="server"?p.reject(new Le(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),y=new Q_(Dp(u.path),m,{includeMetadataChanges:!0,Ta:!0});return q_(o,y)}(await ep(n),n.asyncQueue,e,t,r)),r.promise}function PB(n,e,t={}){const r=new Rs;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,p){const m=new J_({next:T=>{m.su(),l.enqueueAndForget(()=>K_(o,y)),T.fromCache&&f.source==="server"?p.reject(new Le(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),y=new Q_(u,m,{includeMetadataChanges:!0,Ta:!0});return q_(o,y)}(await ep(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(n,e,t){if(!t)throw new Le(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DB(n,e,t,r){if(e===!0&&r===!0)throw new Le(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SS(n){if(!He.isDocumentKey(n))throw new Le(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CS(n){if(He.isDocumentKey(n))throw new Le(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe()}function Ur(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jp(n);throw new Le(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firestore.googleapis.com",bS=!0;class AS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eN,this.ssl=bS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:bS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c3)throw new Le(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FF;switch(r.type){case"firstParty":return new zF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=IS.get(t);r&&(ke("ComponentProvider","Removing Datastore"),IS.delete(t),r.terminate())}(this),Promise.resolve()}}function xB(n,e,t,r={}){var i;const o=(n=Ur(n,Bp))._getSettings(),l=`${e}:${t}`;if(o.host!==eN&&o.host!==l&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=qn.MOCK_USER;else{u=h4(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Le(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qn(p)}n._authCredentials=new jF(new zR(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class Gn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class Oo extends Ja{constructor(e,t,r){super(e,t,Dp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new He(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function Pa(n,e,...t){if(n=An(n),Zk("collection","path",e),n instanceof Bp){const r=Ft.fromString(e,...t);return CS(r),new Oo(n,null,r)}{if(!(n instanceof Gn||n instanceof Oo))throw new Le(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return CS(r),new Oo(n.firestore,null,r)}}function fn(n,e,...t){if(n=An(n),arguments.length===1&&(e=WR.newId()),Zk("doc","path",e),n instanceof Bp){const r=Ft.fromString(e,...t);return SS(r),new Gn(n,null,new He(r))}{if(!(n instanceof Gn||n instanceof Oo))throw new Le(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return SS(r),new Gn(n.firestore,n instanceof Oo?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="AsyncQueue";class kS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Lk(this,"async_queue_retry"),this.Su=()=>{const r=fy();r&&ke(RS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=fy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=fy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Rs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!jc(e))throw e;ke(RS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Ms("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=z_.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function NS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class zo extends Bp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kS(e),this._firestoreClient=void 0,await e}}}function OB(n,e){const t=typeof n=="object"?n:LR(),r=typeof n=="string"?n:Wh,i=I_(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=d4("firestore");o&&xB(i,...o)}return i}function Hp(n){if(n._terminated)throw new Le(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LB(n),n._firestoreClient}function LB(n){var e,t,r;const i=n._freezeSettings(),o=function(u,f,p,m){return new ij(u,f,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Jk(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new AB(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(Vn.fromBase64String(e))}catch(t){throw new Le(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sc(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Le(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=/^__.*__$/;class VB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nd(e,this.data,t,this.fieldTransforms)}}class tN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class Wp{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(nN(this.Lu)&&MB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Up(e)}ju(e,t,r,i=!1){return new Wp({Lu:e,methodName:t,zu:r,path:Ln.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tw(n){const e=n._freezeSettings(),t=Up(n._databaseId);return new UB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $B(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);sw("Data must be an object, but it was:",l,r);const u=iN(r,l);let f,p;if(o.merge)f=new Mr(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const T=hv(e,y,t);if(!l.contains(T))throw new Le(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);oN(m,T)||m.push(T)}f=new Mr(m),p=l.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,p=l.fieldTransforms;return new VB(new Ir(u),f,p)}class qp extends Hc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qp}}function rN(n,e,t){return new Wp({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nw extends Hc{_toFieldTransform(e){return new P_(e.path,new ad)}isEqual(e){return e instanceof nw}}class rw extends Hc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=rN(this,e,!0),r=this.Hu.map(o=>Za(o,t)),i=new wc(r);return new P_(e.path,i)}isEqual(e){return e instanceof rw&&pc(this.Hu,e.Hu)}}class iw extends Hc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=rN(this,e,!0),r=this.Hu.map(o=>Za(o,t)),i=new Ec(r);return new P_(e.path,i)}isEqual(e){return e instanceof iw&&pc(this.Hu,e.Hu)}}function FB(n,e,t,r){const i=n.ju(1,e,t);sw("Data must be an object, but it was:",i,r);const o=[],l=Ir.empty();Go(r,(f,p)=>{const m=ow(e,f,t);p=An(p);const y=i.Ku(m);if(p instanceof qp)o.push(m);else{const T=Za(p,y);T!=null&&(o.push(m),l.set(m,T))}});const u=new Mr(o);return new tN(l,u,i.fieldTransforms)}function jB(n,e,t,r,i,o){const l=n.ju(1,e,t),u=[hv(e,r,t)],f=[i];if(o.length%2!=0)throw new Le(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)u.push(hv(e,o[T])),f.push(o[T+1]);const p=[],m=Ir.empty();for(let T=u.length-1;T>=0;--T)if(!oN(p,u[T])){const C=u[T];let k=f[T];k=An(k);const N=l.Ku(C);if(k instanceof qp)p.push(C);else{const R=Za(k,N);R!=null&&(p.push(C),m.set(C,R))}}const y=new Mr(p);return new tN(m,y,l.fieldTransforms)}function BB(n,e,t,r=!1){return Za(t,n.ju(r?4:3,e))}function Za(n,e){if(sN(n=An(n)))return sw("Unsupported field value:",e,n),iN(n,e);if(n instanceof Hc)return function(r,i){if(!nN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let f=Za(u,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Aj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yn.fromDate(r);return{timestampValue:Yh(i.serializer,o)}}if(r instanceof yn){const o=new yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(i.serializer,o)}}if(r instanceof Z_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sc)return{bytesValue:Sk(i.serializer,r._byteString)};if(r instanceof Gn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:L_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ew)return function(l,u){return{mapValue:{fields:{[ZR]:{stringValue:ek},[qh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Wu("VectorValues must only contain numeric values.");return N_(u.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${jp(r)}`)}(n,e)}function iN(n,e){const t={};return KR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(n,(r,i)=>{const o=Za(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function sN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof Z_||n instanceof Sc||n instanceof Gn||n instanceof Hc||n instanceof ew)}function sw(n,e,t){if(!sN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=jp(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function hv(n,e,t){if((e=An(e))instanceof zp)return e._internalPath;if(typeof e=="string")return ow(n,e);throw tp("Field path arguments must be of type string or ",n,!1,void 0,t)}const HB=new RegExp("[~\\*/\\[\\]]");function ow(n,e,t){if(e.search(HB)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zp(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tp(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Le(oe.INVALID_ARGUMENT,u+n+f)}function oN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zB extends aN{data(){return super.data()}}function aw(n,e){return typeof e=="string"?ow(n,e):e instanceof zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Le(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lw{}class WB extends lw{}function qB(n,e,...t){let r=[];e instanceof lw&&r.push(e),r=r.concat(t),function(o){const l=o.filter(f=>f instanceof cw).length,u=o.filter(f=>f instanceof Kp).length;if(l>1||l>0&&u>0)throw new Le(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Kp extends WB{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Kp(e,t,r)}_apply(e){const t=this._parse(e);return cN(e._query,t),new Ja(e.firestore,e.converter,nv(e._query,t))}_parse(e){const t=tw(e.firestore);return function(o,l,u,f,p,m,y){let T;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Le(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){DS(y,m);const k=[];for(const N of y)k.push(PS(f,o,N));T={arrayValue:{values:k}}}else T=PS(f,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||DS(y,m),T=BB(u,l,y,m==="in"||m==="not-in");return dn.create(p,m,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function KB(n,e,t){const r=e,i=aw("where",n);return Kp._create(i,r,t)}class cw extends lw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const f of u)cN(l,f),l=nv(l,f)}(e._query,t),new Ja(e.firestore,e.converter,nv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PS(n,e,t){if(typeof(t=An(t))=="string"){if(t==="")throw new Le(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lk(e)&&t.indexOf("/")!==-1)throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ft.fromString(t));if(!He.isDocumentKey(r))throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qI(n,new He(r))}if(t instanceof Gn)return qI(n,t._key);throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jp(t)}.`)}function DS(n,e){if(!Array.isArray(n)||n.length===0)throw new Le(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cN(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Le(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GB{convertValue(e,t="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Go(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[qh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>tn(l.doubleValue));return new ew(o)}convertGeoPoint(e){return new Z_(tn(e.latitude),tn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const t=$o(e);return new yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ft.fromString(e);Rt(Nk(r));const i=new sd(r.get(1),r.get(3)),o=new He(r.popFirst(5));return i.isEqual(t)||Ms(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uN extends aN{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(aw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ch extends uN{data(e={}){return super.data(e)}}class dN{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ch(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new Ch(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new Ch(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:YB(u.type),doc:f,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(n){n=Ur(n,Gn);const e=Ur(n.firestore,zo);return NB(Hp(e),n._key).then(t=>hN(e,n,t))}class uw extends GB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}}function pv(n){n=Ur(n,Ja);const e=Ur(n.firestore,zo),t=Hp(e),r=new uw(e);return lN(n._query),PB(t,n._query).then(i=>new dN(e,r,n,i))}function Ns(n,e,t){n=Ur(n,Gn);const r=Ur(n.firestore,zo),i=QB(n.converter,e);return dw(r,[$B(tw(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Si.none())])}function Wi(n,e,t,...r){n=Ur(n,Gn);const i=Ur(n.firestore,zo),o=tw(i);let l;return l=typeof(e=An(e))=="string"||e instanceof zp?jB(o,"updateDoc",n._key,e,t,r):FB(o,"updateDoc",n._key,e),dw(i,[l.toMutation(n._key,Si.exists(!0))])}function XB(n){return dw(Ur(n.firestore,zo),[new D_(n._key,Si.none())])}function fN(n,...e){var t,r,i;n=An(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||NS(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(NS(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let f,p,m;if(n instanceof Gn)p=Ur(n.firestore,zo),m=Dp(n._key.path),f={next:y=>{e[l]&&e[l](hN(p,n,y))},error:e[l+1],complete:e[l+2]};else{const y=Ur(n,Ja);p=Ur(y.firestore,zo),m=y._query;const T=new uw(p);f={next:C=>{e[l]&&e[l](new dN(p,T,y,C))},error:e[l+1],complete:e[l+2]},lN(n._query)}return function(T,C,k,N){const R=new J_(N),x=new Q_(C,R,k);return T.asyncQueue.enqueueAndForget(async()=>q_(await ep(T),x)),()=>{R.su(),T.asyncQueue.enqueueAndForget(async()=>K_(await ep(T),x))}}(Hp(p),m,u,f)}function dw(n,e){return function(r,i){const o=new Rs;return r.asyncQueue.enqueueAndForget(async()=>vB(await kB(r),i,o)),o.promise}(Hp(n),e)}function hN(n,e,t){const r=t.docs.get(e._key),i=new uw(n);return new uN(n,i,e._key,r,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}function fw(){return new nw("serverTimestamp")}function Cc(...n){return new rw("arrayUnion",n)}function py(...n){return new iw("arrayRemove",n)}(function(e,t=!0){(function(i){$c=i})(Uc),mc(new $a("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new zo(new BF(r.getProvider("auth-internal")),new WF(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Le(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Do(LI,MI,e),Do(LI,MI,"esm2017")})();function hw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function pN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JB=pN,mN=new Ad("auth","Firebase",pN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new E_("@firebase/auth");function ZB(n,...e){np.logLevel<=mt.WARN&&np.warn(`Auth (${Uc}): ${n}`,...e)}function bh(n,...e){np.logLevel<=mt.ERROR&&np.error(`Auth (${Uc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,...e){throw pw(n,...e)}function Qi(n,...e){return pw(n,...e)}function gN(n,e,t){const r=Object.assign(Object.assign({},JB()),{[e]:t});return new Ad("auth","Firebase",r).create(e,{appName:n.name})}function Ps(n){return gN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mN.create(n,...e)}function Ye(n,e,...t){if(!n)throw pw(e,...t)}function Es(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bh(e),new Error(e)}function Us(n,e){n||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function e9(){return xS()==="http:"||xS()==="https:"}function xS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e9()||y4()||"connection"in navigator)?navigator.onLine:!0}function n9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=p4()||v4()}get(){return t9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e){Us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new Od(3e4,6e4);function Yo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xo(n,e,t,r,i={}){return vN(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Rd(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return g4()||(p.referrerPolicy="no-referrer"),yN.fetch()(_N(n,n.config.apiHost,t,u),p)})}async function vN(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},r9),e);try{const i=new o9(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw fh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,p]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw fh(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw fh(n,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gN(n,m,p);bi(n,m)}}catch(i){if(i instanceof Ws)throw i;bi(n,"network-request-failed",{message:String(i)})}}async function Ld(n,e,t,r,i={}){const o=await Xo(n,e,t,r,i);return"mfaPendingCredential"in o&&bi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function _N(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?mw(n.config,i):`${n.config.apiScheme}://${i}`}function s9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),i9.get())})}}function fh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Qi(n,e,r);return i.customData._tokenResponse=t,i}function OS(n){return n!==void 0&&n.enterprise!==void 0}class a9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return s9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l9(n,e){return Xo(n,"GET","/v2/recaptchaConfig",Yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(n,e){return Xo(n,"POST","/v1/accounts:delete",e)}async function wN(n,e){return Xo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u9(n,e=!1){const t=An(n),r=await t.getIdToken(e),i=gw(r);Ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Gu(my(i.auth_time)),issuedAtTime:Gu(my(i.iat)),expirationTime:Gu(my(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function my(n){return Number(n)*1e3}function gw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const i=RR(t);return i?JSON.parse(i):(bh("Failed to decode base64 JWT payload"),null)}catch(i){return bh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LS(n){const e=gw(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ws&&d9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function d9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ld(n,wN(t,{idToken:r}));Ye(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?EN(o.providerUserInfo):[],u=p9(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=f?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function h9(n){const e=An(n);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EN(n){return n.map(e=>{var{providerId:t}=e,r=hw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(n,e){const t=await vN(n,{},async()=>{const r=Rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=_N(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",yN.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function g9(n,e){return Xo(n,"POST","/v2/accounts:revokeToken",Yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const t=LS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await m9(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Zl;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ye(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(n,e){Ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ts{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=hw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ld(this,this.stsTokenManager.getToken(this.auth,e));return Ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return u9(this,e)}reload(){return h9(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await ld(this,c9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,f,p,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,C=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,N=(u=t.tenantId)!==null&&u!==void 0?u:void 0,R=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,x=(p=t.createdAt)!==null&&p!==void 0?p:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:j,isAnonymous:q,providerData:G,stsTokenManager:S}=t;Ye(V&&S,e,"internal-error");const b=Zl.fromJSON(this.name,S);Ye(typeof V=="string",e,"internal-error"),vo(y,e.name),vo(T,e.name),Ye(typeof j=="boolean",e,"internal-error"),Ye(typeof q=="boolean",e,"internal-error"),vo(C,e.name),vo(k,e.name),vo(N,e.name),vo(R,e.name),vo(x,e.name),vo(L,e.name);const P=new Ts({uid:V,auth:e,email:T,emailVerified:j,displayName:y,isAnonymous:q,photoURL:k,phoneNumber:C,tenantId:N,stsTokenManager:b,createdAt:x,lastLoginAt:L});return G&&Array.isArray(G)&&(P.providerData=G.map(M=>Object.assign({},M))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Zl;i.updateFromServerResponse(t);const o=new Ts({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rp(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?EN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Zl;u.updateFromIdToken(r);const f=new Ts({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new gv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=new Map;function Is(n){Us(n instanceof Function,"Expected a class definition");let e=MS.get(n);return e?(Us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,MS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TN.type="NONE";const VS=TN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n,e,t){return`firebase:${n}:${e}:${t}`}class ec{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ah("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ec(Is(VS),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Is(VS);const l=Ah(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){const y=Ts._fromJSON(e,m);p!==o&&(u=y),o=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ec(o,e,r):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new ec(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RN(e))return"Blackberry";if(kN(e))return"Webos";if(SN(e))return"Safari";if((e.includes("chrome/")||CN(e))&&!e.includes("edge/"))return"Chrome";if(AN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IN(n=Qn()){return/firefox\//i.test(n)}function SN(n=Qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CN(n=Qn()){return/crios\//i.test(n)}function bN(n=Qn()){return/iemobile/i.test(n)}function AN(n=Qn()){return/android/i.test(n)}function RN(n=Qn()){return/blackberry/i.test(n)}function kN(n=Qn()){return/webos/i.test(n)}function yw(n=Qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function y9(n=Qn()){var e;return yw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v9(){return _4()&&document.documentMode===10}function NN(n=Qn()){return yw(n)||AN(n)||kN(n)||RN(n)||/windows phone/i.test(n)||bN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n,e=[]){let t;switch(n){case"Browser":t=US(Qn());break;case"Worker":t=`${US(Qn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(n,e={}){return Xo(n,"GET","/v2/passwordPolicy",Yo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=6;class T9{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:E9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $S(this),this.idTokenSubscription=new $S(this),this.beforeStateQueue=new _9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Is(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wN(this,{idToken:e}),r=await Ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ni(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(Ps(this));const t=e?An(e):null;return t&&Ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w9(this),t=new T9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await g9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Is(e)||this._popupRedirectResolver;Ye(t,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[Is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function el(n){return An(n)}class $S{constructor(e){this.auth=e,this.observer=null,this.addObserver=A4(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S9(n){Gp=n}function DN(n){return Gp.loadJS(n)}function C9(){return Gp.recaptchaEnterpriseScript}function b9(){return Gp.gapiScript}function A9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class R9{constructor(){this.enterprise=new k9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class k9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const N9="recaptcha-enterprise",xN="NO_RECAPTCHA";class P9{constructor(e){this.type=N9,this.auth=el(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{l9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new a9(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(f=>{u(f)})})}function i(o,l,u){const f=window.grecaptcha;OS(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(xN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R9().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&OS(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=C9();f.length!==0&&(f+=u),DN(f).then(()=>{i(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function FS(n,e,t,r=!1,i=!1){const o=new P9(n);let l;if(i)l=xN;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function yv(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await FS(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await FS(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n,e){const t=I_(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(pc(o,e??{}))return i;bi(i,"already-initialized")}return t.initialize({options:e})}function x9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Is);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O9(n,e,t){const r=el(n);Ye(r._canInitEmulator,r,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=ON(e),{host:l,port:u}=L9(e),f=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),M9()}function ON(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function L9(n){const e=ON(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:jS(l)}}}function jS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function M9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,t){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function V9(n,e){return Xo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(n,e){return Ld(n,"POST","/v1/accounts:signInWithPassword",Yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(n,e){return Ld(n,"POST","/v1/accounts:signInWithEmailLink",Yo(n,e))}async function F9(n,e){return Ld(n,"POST","/v1/accounts:signInWithEmailLink",Yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends vw{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yv(e,t,"signInWithPassword",U9);case"emailLink":return $9(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yv(e,r,"signUpPassword",V9);case"emailLink":return F9(e,{idToken:t,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n,e){return Ld(n,"POST","/v1/accounts:signInWithIdp",Yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="http://localhost";class Ba extends vw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=hw(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ba(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return tc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tc(e,t)}buildRequest(){const e={requestUri:j9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H9(n){const e=Lu(Mu(n)).link,t=e?Lu(Mu(e)).deep_link_id:null,r=Lu(Mu(n)).deep_link_id;return(r?Lu(Mu(r)).link:null)||r||t||e||n}class _w{constructor(e){var t,r,i,o,l,u;const f=Lu(Mu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,y=B9((i=f.mode)!==null&&i!==void 0?i:null);Ye(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=H9(e);try{return new _w(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.providerId=zc.PROVIDER_ID}static credential(e,t){return cd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=_w.parseLink(t);return Ye(r,"argument-error"),cd._fromEmailAndCode(e,r.code,r.tenantId)}}zc.PROVIDER_ID="password";zc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends LN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Md{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Md{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ba._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return To.credential(t,r)}catch{return null}}}To.GOOGLE_SIGN_IN_METHOD="google.com";To.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Md{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.GITHUB_SIGN_IN_METHOD="github.com";Io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Md{constructor(){super("twitter.com")}static credential(e,t){return Ba._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return So.credential(t,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(n,e){return Ld(n,"POST","/v1/accounts:signUp",Yo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ts._fromIdTokenResponse(e,r,i),l=BS(r);return new Ha({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=BS(r);return new Ha({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function BS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Ws{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ip(e,t,r,i)}}function MN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(n,o,e,r):o})}async function W9(n,e,t=!1){const r=await ld(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ha._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(n,e,t=!1){const{auth:r}=n;if(ni(r.app))return Promise.reject(Ps(r));const i="reauthenticate";try{const o=await ld(n,MN(r,i,e,n),t);Ye(o.idToken,r,"internal-error");const l=gw(o.idToken);Ye(l,r,"internal-error");const{sub:u}=l;return Ye(n.uid===u,r,"user-mismatch"),Ha._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n,e,t=!1){if(ni(n.app))return Promise.reject(Ps(n));const r="signIn",i=await MN(n,r,e),o=await Ha._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function K9(n,e){return VN(el(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n){const e=el(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G9(n,e,t){if(ni(n.app))return Promise.reject(Ps(n));const r=el(n),l=await yv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z9).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&UN(n),f}),u=await Ha._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Q9(n,e,t){return ni(n.app)?Promise.reject(Ps(n)):K9(An(n),zc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UN(n),r})}function Y9(n,e,t,r){return An(n).onIdTokenChanged(e,t,r)}function X9(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function ww(n,e,t,r){return An(n).onAuthStateChanged(e,t,r)}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1e3,Z9=10;class FN extends $N{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);v9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},J9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}FN.type="LOCAL";const e6=FN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN extends $N{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jN.type="SESSION";const BN=jN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Qp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,o)),f=await t6(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const p=Ew("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const T=y;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(T.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function r6(n){Yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function i6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function o6(){return HN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="firebaseLocalStorageDb",a6=1,op="firebaseLocalStorage",WN="fbase_key";class Vd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yp(n,e){return n.transaction([op],e?"readwrite":"readonly").objectStore(op)}function l6(){const n=indexedDB.deleteDatabase(zN);return new Vd(n).toPromise()}function vv(){const n=indexedDB.open(zN,a6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(op,{keyPath:WN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(op)?e(r):(r.close(),await l6(),e(await vv()))})})}async function HS(n,e,t){const r=Yp(n,!0).put({[WN]:e,value:t});return new Vd(r).toPromise()}async function c6(n,e){const t=Yp(n,!1).get(e),r=await new Vd(t).toPromise();return r===void 0?null:r.value}function zS(n,e){const t=Yp(n,!0).delete(e);return new Vd(t).toPromise()}const u6=800,d6=3;class qN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>d6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qp._getInstance(o6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await i6(),!this.activeServiceWorker)return;this.sender=new n6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vv();return await HS(e,sp,"1"),await zS(e,sp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>HS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>c6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Yp(i,!1).getAll();return new Vd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qN.type="LOCAL";const f6=qN;new Od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n,e){return e?Is(e):(Ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends vw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function p6(n){return VN(n.auth,new Tw(n),n.bypassAuthState)}function m6(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),q9(t,new Tw(n),n.bypassAuthState)}async function g6(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),W9(t,new Tw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p6;case"linkViaPopup":case"linkViaRedirect":return g6;case"reauthViaPopup":case"reauthViaRedirect":return m6;default:bi(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new Od(2e3,1e4);class Yl extends KN{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=Ew();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y6.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="pendingRedirect",Rh=new Map;class _6 extends KN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await w6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w6(n,e){const t=I6(e),r=T6(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function E6(n,e){Rh.set(n._key(),e)}function T6(n){return Is(n._redirectPersistence)}function I6(n){return Ah(v6,n.config.apiKey,n.name)}async function S6(n,e,t=!1){if(ni(n.app))return Promise.reject(Ps(n));const r=el(n),i=h6(r,e),l=await new _6(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=10*60*1e3;class b6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!GN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C6&&this.cachedEventUids.clear(),this.cachedEventUids.has(WS(e))}saveEventToCache(e){this.cachedEventUids.add(WS(e)),this.lastProcessedEventTime=Date.now()}}function WS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(n,e={}){return Xo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N6=/^https?/;async function P6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await R6(n);for(const t of e)try{if(D6(t))return}catch{}bi(n,"unauthorized-domain")}function D6(n){const e=mv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!N6.test(t))return!1;if(k6.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Od(3e4,6e4);function qS(){const n=Yi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O6(n){return new Promise((e,t)=>{var r,i,o;function l(){qS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qS(),t(Qi(n,"network-request-failed"))},timeout:x6.get()})}if(!((i=(r=Yi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yi().gapi)===null||o===void 0)&&o.load)l();else{const u=A9("iframefcb");return Yi()[u]=()=>{gapi.load?l():t(Qi(n,"network-request-failed"))},DN(`${b9()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw kh=null,e})}let kh=null;function L6(n){return kh=kh||O6(n),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Od(5e3,15e3),V6="__/auth/iframe",U6="emulator/auth/iframe",$6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j6(n){const e=n.config;Ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mw(e,U6):`https://${n.config.authDomain}/${V6}`,r={apiKey:e.apiKey,appName:n.name,v:Uc},i=F6.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Rd(r).slice(1)}`}async function B6(n){const e=await L6(n),t=Yi().gapi;return Ye(t,n,"internal-error"),e.open({where:document.body,url:j6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Qi(n,"network-request-failed"),u=Yi().setTimeout(()=>{o(l)},M6.get());function f(){Yi().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z6=500,W6=600,q6="_blank",K6="http://localhost";class KS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G6(n,e,t,r=z6,i=W6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},H6),{width:r.toString(),height:i.toString(),top:o,left:l}),p=Qn().toLowerCase();t&&(u=CN(p)?q6:t),IN(p)&&(e=e||K6,f.scrollbars="yes");const m=Object.entries(f).reduce((T,[C,k])=>`${T}${C}=${k},`,"");if(y9(p)&&u!=="_self")return Q6(e||"",u),new KS(null);const y=window.open(e||"",u,m);Ye(y,n,"popup-blocked");try{y.focus()}catch{}return new KS(y)}function Q6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="__/auth/handler",X6="emulator/auth/handler",J6=encodeURIComponent("fac");async function GS(n,e,t,r,i,o){Ye(n.config.authDomain,n,"auth-domain-config-required"),Ye(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Uc,eventId:i};if(e instanceof LN){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",b4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Md){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),p=f?`#${J6}=${encodeURIComponent(f)}`:"";return`${Z6(n)}?${Rd(u).slice(1)}${p}`}function Z6({config:n}){return n.emulator?mw(n,X6):`https://${n.authDomain}/${Y6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="webStorageSupport";class e5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BN,this._completeRedirectFn=S6,this._overrideRedirectResult=E6}async _openPopup(e,t,r,i){var o;Us((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await GS(e,t,r,mv(),i);return G6(e,l,Ew())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await GS(e,t,r,mv(),i);return r6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Us(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await B6(e),r=new b6(e);return t.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gy,{type:gy},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[gy];l!==void 0&&t(!!l),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NN()||SN()||yw()}}const t5=e5;var QS="@firebase/auth",YS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i5(n){mc(new $a("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ye(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PN(n)},p=new I9(r,i,o,f);return x9(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mc(new $a("auth-internal",e=>{const t=el(e.getProvider("auth").getImmediate());return(r=>new n5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Do(QS,YS,r5(n)),Do(QS,YS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=5*60,o5=PR("authIdTokenMaxAge")||s5;let XS=null;const a5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>o5)return;const i=t==null?void 0:t.token;XS!==i&&(XS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l5(n=LR()){const e=I_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=D9(n,{popupRedirectResolver:t5,persistence:[f6,e6,BN]}),r=PR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=a5(o.toString());X9(t,l,()=>l(t.currentUser)),Y9(t,u=>l(u))}}const i=kR("auth");return i&&O9(t,`http://${i}`),t}function c5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}S9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Qi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",c5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i5("Browser");const u5={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"},QN=OR(u5),ei=l5(QN),rn=OB(QN);async function d5(n,e){if(!n||!e)return;const t=Pa(rn,"chats"),r=Pa(rn,"userchats"),i=fn(r,e),o=fn(r,n);try{const[l,u]=await Promise.all([ks(i),ks(o)]);l.exists()||await Ns(i,{chats:[]}),u.exists()||await Ns(o,{chats:[]});const f=l.exists()?l.data().chats||[]:[],p=u.exists()?u.data().chats||[]:[],m=f.some(k=>k.receiverId===n),y=p.some(k=>k.receiverId===e);if(m||y)throw new Error("User already added!");const T=fn(t);await Ns(T,{createdAt:fw(),messages:[]});const C={chatId:T.id,lastMessage:"",receiverId:n,updatedAt:Date.now()};return await Wi(i,{chats:Cc(C)}),await Wi(o,{chats:Cc({...C,receiverId:e})}),T.id}catch(l){throw console.error("Add User Error:",l),new Error("An error occurred while adding the user.")}}const YN=E.createContext(void 0),f5=({children:n})=>{const e=h5();return w(YN.Provider,{value:e,children:n})};function h5(){const[n,e]=E.useState(),[t,r]=E.useState();return E.useEffect(()=>{(async()=>{try{const o=await p_();if(o){e(o);const{userdb:l}=await Ua(o.$id);r(l)}else e(void 0)}catch(o){console.error("Failed to fetch user data:",o)}})()},[]),{userData:n,userdb:t}}function Jo(){const n=E.useContext(YN);if(!n)throw new Error(" userInfo() is being used outside of UserProvider.");return n}const Xp=({children:n})=>{const{session:e,logOut:t}=Zu(),r=li(),{userData:i}=Jo();async function o(){await t(),await ei.signOut(),r("/")}return w(zt,{children:X("div",{className:"body",children:[w(rh,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:X(Zi,{children:[X(rh.Brand,{href:"#/Home",children:[w("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),w(rh.Toggle,{"aria-controls":"basic-navbar-nav"}),w(rh.Collapse,{className:"justify-content-end flex-grow-1",children:w(Vr,{children:X(Ei,{className:"me-auto",children:[w(Ei.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),X(Cu,{title:(i==null?void 0:i.name)||"User",id:"basic-nav-dropdown",align:"end",children:[w(Cu.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),w(Cu.Divider,{}),e?w(Cu.Item,{className:"logout-nav",onClick:o,children:"Logout"}):w(Cu.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),w("main",{children:n})]})})};function XN({show:n,onHide:e}){const t=E.useRef(null),r=E.useRef(null),i=E.useRef(null),o=E.useRef(null),l=u=>{u.current.scrollIntoView({behavior:"smooth",block:"start"})};return w(zt,{children:X(rr,{show:n,onHide:e,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[w(rr.Header,{closeButton:!0,children:w(rr.Title,{children:"First Time?"})}),w(rr.Body,{children:X(Vr,{className:"mt-2",children:[w(Mn,{sm:3,children:X(Ei,{variant:"pills",className:"flex-column",children:[w(Ei.Item,{children:w(Ei.Link,{onClick:()=>l(t),children:"Trading"})}),w(Ei.Item,{children:w(Ei.Link,{onClick:()=>l(r),children:"Upload"})}),w(Ei.Item,{children:w(Ei.Link,{onClick:()=>l(i),children:"Account Issues"})}),w(Ei.Item,{children:w(Ei.Link,{onClick:()=>l(o),children:"Finish"})})]})}),w(Mn,{sm:9,children:X(Zi,{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ccc",padding:"15px",borderRadius:"10px",backgroundColor:"#f8f9fa"},children:[X("div",{ref:t,className:"mb-4",children:[w("h4",{children:"Trading"}),X(xr,{children:[X(xr.Item,{children:[w("strong",{children:"How does trading work?"}),w("p",{children:"You can list an item, find a match, and confirm a trade."})]}),X(xr.Item,{children:[w("strong",{children:"Is trading free?"}),w("p",{children:"Yes! Our platform only facilitates item exchanges without any money involved."})]})]})]}),X("div",{ref:r,className:"mb-4",children:[w("h4",{children:"Upload"}),X(xr,{children:[X(xr.Item,{children:[w("strong",{children:"How do I upload an item?"}),w("p",{children:'Go to your dashboard, click "Upload Item," and fill in the details.'})]}),X(xr.Item,{children:[w("strong",{children:"What types of files are supported?"}),w("p",{children:"We support images in JPG, PNG, and GIF formats."})]})]})]}),X("div",{ref:i,className:"mb-4",children:[w("h4",{children:"FAQ"}),X(xr,{children:[X(xr.Item,{children:[w("strong",{children:"How do I reset my password?"}),w("p",{children:'Go to the login page, click "Forgot Password," and follow the instructions.'})]}),X(xr.Item,{children:[w("strong",{children:"Why was my account suspended?"}),w("p",{children:"Check your email for details or contact support for further assistance."})]}),X(xr.Item,{children:[w("strong",{children:"Why is my post not showing in the HomePage?"}),w("p",{children:"Your post is probably not yet accepted by Admins."})]})]})]}),X("div",{ref:o,className:"mb-4",children:[w("h4",{children:"You're Done!"}),X(xr,{children:[X(xr.Item,{children:[w("strong",{children:"Since you're new to Tradery"}),w("p",{children:"Before you start Trading, We recommend you customize your profile first and change how people will see your profile. By clicking Done, this will redirect you to your profile in your dashboard where you can start editing."})]}),X(xr.Item,{children:[w("strong",{children:"Wanna read this again?"}),w("p",{children:"You can access this menu by going to the User Dashboard and clicking the Question button on the top right corner of the navigation bar."})]})]})]})]})})]})}),w(rr.Footer,{children:w(nn,{variant:"primary",onClick:e,children:"Done"})})]})})}const p5=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!1),[i,o]=E.useState({}),[l,u]=E.useState(),f=li(),{userData:p}=Jo(),[m,y]=E.useState(!1),T=()=>{y(!1),f("/Dashboard/Profile")};E.useEffect(()=>{(async function(){try{const{items:L}=await q$();e(L);const V={};if(await Promise.all(L.map(async q=>{if(!V[q.authorID]){const{userdb:G}=await Ua(q.authorID);V[q.authorID]=G}})),o(V),!p)return;const j=await t4(p.$id);if(console.log("User Exists? ",j),j||(y(!0),await J$(p.$id,{userId:p.$id,profileImageId:"",profileSummary:null,profileImageWidth:100,profileImageHeight:100,displayName:p.name,defaultName:p.name,userEmail:p.email,firebaseId:""}),console.log("New profile created.")),p.$id)try{const{userdb:q}=await Ua(p.$id);if(u(q),q.firebaseId)console.log("User exists, logging in..."),await Q9(ei,q.userEmail,q.userId),console.log("login successful");else{if(console.log("User does not exist, creating account..."),await G9(ei,q.userEmail,q.userId),await new Promise(G=>ww(ei,S=>S&&G(S))),!ei.currentUser){console.error("User is not authenticated!");return}await Ns(fn(rn,"users",ei.currentUser.uid),{username:q.defaultName,email:q.userEmail,id:ei.currentUser.uid,blocked:[]}),await Ns(fn(rn,"userchats",ei.currentUser.uid),{chats:[]}),await zy(q.userId,{...q,firebaseId:ei.currentUser.uid})}}catch(q){console.error("Login error:",q)}}catch(L){console.error("Error fetching items:",L)}})()},[]);async function C(x){const{items:L}=await G$(x);e(L)}async function k(){window.location.reload(),r(!1)}async function N(x){x.preventDefault(),r(!0);const L=x.target;try{const{items:V}=await K$(L.ItemSearch.value);e(V)}catch(V){console.error("Error finding Item:",V)}}const R={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Fashion Accessories",color:"info"},f:{name:"Sports & Outdoor",color:"dark"}};return X(Xp,{children:[w(XN,{show:m,onHide:T}),w("div",{className:"home",children:X("div",{className:"container",id:"pagewrap",children:[w("div",{className:"searchinput",children:X("form",{className:"search",onSubmit:N,autoComplete:"off",children:[w("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),t&&w(xc,{className:"clear-btn",onClick:k}),w("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),w("div",{className:"categories",children:w(bo,{defaultActiveKey:"0",children:X(bo.Item,{eventKey:"0",children:[w(bo.Header,{children:"Filter by Categories"}),w(bo.Body,{children:w(Vr,{children:X(Mn,{children:[w(nn,{variant:"outline-danger",onClick:k,children:"Clear Filter"}),Object.entries(R).map(([x,L])=>w(nn,{variant:`outline-${L.color}`,onClick:()=>C(x),children:L.name},x))]})})})]})})}),w("div",{className:"items container",children:w(Vr,{children:n.length>0?n.map(x=>{var q;const V={url:x.imageFileId&&bd(x.imageFileId),height:x.imageHeight,width:x.imageWidth},j=i[x.authorID];return w(Mn,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:X("a",{className:"itemLink",href:`#/Item/${x.$id}`,children:[w("div",{className:"itemLabel",children:w("span",{className:"Label",children:((q=R[x.itemCategory])==null?void 0:q.name)||"Uncategorized"})}),j?w(Ap,{image:V,name:x.name,date:x.date,author:j.displayName||j.defaultName}):w("div",{className:"card placeholder-glow",children:X("div",{className:"card-body",children:[w("h5",{className:"card-title placeholder-glow",children:w("span",{className:"placeholder col-6"})}),X("p",{className:"card-text placeholder-glow",children:[w("span",{className:"placeholder col-7"}),w("span",{className:"placeholder col-4"}),w("span",{className:"placeholder col-4"}),w("span",{className:"placeholder col-6"}),w("span",{className:"placeholder col-8"})]})]})})]})},x.$id)}):w(Zi,{children:X(uc,{variant:"warning",children:["No Items are currently posted, ",w(uc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})]})};function Ea(){const n=TR();return console.error(n),w("div",{id:"error-page",children:X("div",{class:"error",children:[X("a",{class:"HomeButton",href:"#/Home",children:[w("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:w("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),w("div",{class:"background-wrapper",children:w("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),w("p",{class:"errorText",children:"The page youre looking for does not exist."}),w("p",{children:w("i",{children:n.statusText||n.message})})]})})}function m5(){const n=li(),[e,t]=E.useState(!1);return X(zt,{children:[w(XN,{show:e,onHide:()=>{t(!1),n("/Dashboard/Profile")}}),X(zt,{children:[X("div",{className:"uWholeBox",children:[X("a",{className:"HomeButton",href:"#/Home",children:[w("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:w("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),w("div",{className:"uLooks",children:" Dashboard "})]}),X("div",{className:"NaviBar",children:[X("ul",{children:[w("li",{children:w(ku,{to:"/Dashboard/Post",children:"Post"})}),w("li",{children:w(ku,{to:"/Dashboard/Items",children:"Your Items"})}),w("li",{children:w(ku,{to:"/Dashboard/Requests",children:"Requests"})}),w("li",{children:w(ku,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),w("li",{children:w(ku,{to:"/Dashboard/Profile",children:"Profile"})})]}),w(g$,{})]}),w(nn,{variant:"outline-success",onClick:()=>t(!0),className:"tutorial",children:"?"})]})]})}const g5=()=>{const[n,e]=E.useState(),[t,r]=E.useState(!1),[i,o]=E.useState(),[l,u]=E.useState(null),[f,p]=E.useState(!1),[m,y]=E.useState(""),[T,C]=E.useState(""),[k,N]=E.useState(null),{userData:R,userdb:x}=Jo();E.useEffect(()=>{(async()=>{try{e(R),R&&(u(x!=null&&x.profileImageId?By(x.profileImageId):null),y((x==null?void 0:x.displayName)||(R==null?void 0:R.name)||""),C((x==null?void 0:x.profileSummary)||""))}catch(b){console.error("Error fetching user: ",b)}})()},[]);const L=()=>r(!0),V=S=>{const b=S.target.value.replace(/[^a-zA-Z0-9 ]/g,"");y(b)},j=S=>{const b=S.target.value.replace(/[^a-zA-Z0-9 .,!?]/g,"");C(b)},q=S=>{if(!S.target.files||S.target.files.length===0)return;const b=S.target.files[0];if(b.size>5*1024*1024){N("File size exceeds 5MB limit.");return}else N(null);const P=document.createElement("img");P.onload=function(){o({height:P.height,file:b,width:P.width})},P.src=URL.createObjectURL(b),u(URL.createObjectURL(b))},G=async S=>{if(S.preventDefault(),p(!0),!m.trim()||!T.trim()){alert("Please fill in all fields."),p(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),p(!1);return}let b=(x==null?void 0:x.profileImageId)||"";if((x==null?void 0:x.displayName)!==m&&await e4(m)){alert("The username already exists. Try another one."),p(!1);return}if(await zy(n.$id,{profileImageId:"",profileSummary:T,profileImageWidth:(i==null?void 0:i.width)??(x==null?void 0:x.profileImageWidth)??100,profileImageHeight:(i==null?void 0:i.height)??(x==null?void 0:x.profileImageHeight)??100,displayName:m,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:x==null?void 0:x.firebaseId}),i!=null&&i.file){b&&b!=="default"&&await W$(b);const P=await z$(n.$id,i.file);P!=null&&P.$id&&(b=P.$id)}await zy(n.$id,{profileImageId:b,profileSummary:T,profileImageWidth:(i==null?void 0:i.width)??(x==null?void 0:x.profileImageWidth)??100,profileImageHeight:(i==null?void 0:i.height)??(x==null?void 0:x.profileImageHeight)??100,displayName:m,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:x==null?void 0:x.firebaseId}),console.log(" Profile updated.")}catch(b){console.error("Failed to update profile:",b)}finally{p(!1),r(!1)}};return w(Zi,{className:"d-flex justify-content-center align-items-center min-vh-100",children:X(ys,{className:"profile-card shadow-lg",children:[f&&X("div",{className:"overlay",children:[w(rR,{animation:"border"}),w("p",{className:"mt-2",children:"Updating User Profile..."})]}),w(ys.Body,{className:"text-center",children:t?X(zt,{children:[w("h2",{children:"Edit Profile"}),X("form",{onSubmit:G,className:"mt-3",children:[X("div",{className:"profile-image-upload",children:[w("input",{type:"file",accept:".png, .jpg",onChange:q}),w(Xu,{src:l||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),w("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),k&&w("p",{className:"text-danger",children:k})]}),X(pt.Group,{className:"mb-3",children:[w(pt.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:m,onChange:V}),X("small",{className:"text-muted",children:[m.length,"/20"]})]}),X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:"Profile Summary"}),w(pt.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:T,onChange:j}),X("small",{className:"text-muted",children:[T.length,"/500"]})]}),w(nn,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):X(zt,{children:[w(Xu,{src:x!=null&&x.profileImageId?By(x.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),w("h2",{className:"display-name",children:(x==null?void 0:x.displayName)||"Username"}),w("p",{className:"account-name",children:n==null?void 0:n.name}),w("p",{className:"text-muted",children:(x==null?void 0:x.profileSummary)??"No profile description provided"}),w(nn,{className:"btn-lg mt-3",onClick:L,children:"Edit Profile"})]})})]})})},y5="_chat_9dxnd_1",v5="_top_9dxnd_9",_5="_user_9dxnd_17",w5="_userButton_9dxnd_22",E5="_texts_9dxnd_29",T5="_center_9dxnd_58",I5="_message_9dxnd_72",S5="_own_9dxnd_98",C5="_bottom_9dxnd_148",b5="_sendButton_9dxnd_189",A5="_cooldown_9dxnd_203",R5="_backButton_9dxnd_241",Zr={chat:y5,top:v5,user:_5,userButton:w5,texts:E5,center:T5,message:I5,own:S5,bottom:C5,sendButton:b5,cooldown:A5,backButton:R5},JS=n=>{let e;const t=new Set,r=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const T=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(C=>C(e,T))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(r,i,u);return u},k5=n=>n?JS(n):JS,N5=n=>n;function P5(n,e=N5){const t=nt.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return nt.useDebugValue(t),t}const ZS=n=>{const e=k5(n),t=r=>P5(e,r);return Object.assign(t,e),t},JN=n=>n?ZS(n):ZS,tl=JN(n=>({currentUser:null,isLoading:!0,fetchUserInfo:async e=>{if(!e)return n({currentUser:null,isLoading:!1});try{const t=fn(rn,"users",e),r=await ks(t);r.exists()?n({currentUser:r.data(),isLoading:!1}):n({currentUser:null,isLoading:!1})}catch(t){return console.log(t),n({currentUser:null,isLoading:!1})}}})),ud=JN(n=>({chatId:null,user:null,isCurrentUserBlocked:!1,isReceiverBlocked:!1,changeChat:(e,t)=>{const r=tl.getState().currentUser;return t.blocked.includes(r.id)?n({chatId:e,user:null,isCurrentUserBlocked:!0,isReceiverBlocked:!1}):r.blocked.includes(t.id)?n({chatId:e,user:t,isCurrentUserBlocked:!1,isReceiverBlocked:!0}):n({chatId:e,user:t,isCurrentUserBlocked:!1,isReceiverBlocked:!1})},changeBlock:()=>{n(e=>({...e,isReceiverBlocked:!e.isReceiverBlocked}))}})),D5=({openDetail:n,goBackToChatList:e})=>{var L;const[t,r]=E.useState(),[i,o]=E.useState(!1),[l,u]=E.useState(""),[f,p]=E.useState(!1),{currentUser:m}=tl(),{chatId:y,user:T,isCurrentUserBlocked:C,isReceiverBlocked:k}=ud(),N=E.useRef(null),R=E.useRef(null);E.useEffect(()=>{var V;(V=N.current)==null||V.scrollIntoView({behavior:"smooth"})},[t==null?void 0:t.messages]),E.useEffect(()=>{if(r(null),!y)return;const V=fN(fn(rn,"chats",y),j=>{r(j.data())});return()=>V()},[y]),E.useEffect(()=>{const V=j=>{R.current&&!R.current.contains(j.target)&&o(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const x=async()=>{if(!(l===""||f))try{await Wi(fn(rn,"chats",y),{messages:Cc({senderId:m.id,text:l,createdAt:new Date})}),u("")}catch(V){console.log(V)}};return X("div",{className:Zr.chat,children:[w("div",{className:Zr.top,children:X("div",{className:Zr.user,children:[w(nn,{variant:"link",onClick:n,className:Zr.userButton,children:T==null?void 0:T.username}),w(nn,{variant:"secondary",onClick:e,className:`${Zr.backButton} d-md-none`,children:"Back"})]})}),X("div",{className:Zr.center,children:[(L=t==null?void 0:t.messages)==null?void 0:L.map((V,j)=>{var q;return w("div",{className:`${Zr.message} ${V.senderId===m.id?Zr.own:""}`,children:X("div",{className:Zr.texts,children:[w("p",{children:V.text}),w("span",{children:(q=V.createdAt)!=null&&q.seconds?new Date(V.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Unknown Time"})]})},j)}),w("div",{ref:N})]}),X("div",{className:Zr.bottom,children:[w("input",{type:"text",placeholder:"Type a message...",value:l,onChange:V=>u(V.target.value),onKeyDown:V=>V.key==="Enter"&&x(),className:f?Zr.cooldown:""}),w("button",{className:`${Zr.sendButton} d-none d-md-block`,onClick:x,children:"Send"})]})]})},x5="_detail_168xd_1",O5="_user_168xd_7",L5="_info_168xd_23",M5="_report_168xd_72",V5="_reportPopup_168xd_81",U5="_popupContent_168xd_93",$5="_closeButton_168xd_102",F5="_deleteChat_168xd_142",ms={detail:x5,user:O5,info:L5,report:M5,reportPopup:V5,popupContent:U5,closeButton:$5,deleteChat:F5},j5=()=>{const{chatId:n,user:e,isCurrentUserBlocked:t,isReceiverBlocked:r,changeBlock:i}=ud(),{currentUser:o}=tl(),[l,u]=E.useState(!1),[f,p]=E.useState(""),m=li(),y=async()=>{if(!e)return;const k=fn(rn,"users",o.id);try{await Wi(k,{blocked:r?py(e.id):Cc(e.id)}),i()}catch(N){console.log(N)}},T=async k=>{if(k.preventDefault(),!!f.trim())try{const N=fn(rn,"reports",`${o.id}_${e.id}`);await Ns(N,{reporterUsername:o.username,reportedUsername:e.username,reporterId:o.id,reportedUserId:e.id,reason:f,timestamp:fw()}),u(!1),p(""),console.log("Report submitted")}catch(N){console.log("Error submitting report:",N)}},C=async()=>{if(!e||!n)return;const k=fn(rn,"userchats",o.id),N=fn(rn,"userchats",e.id),R=fn(rn,"chats",n);try{const x=await ks(k);if(!x.exists()){console.log("Current user chat not found.");return}const V=(x.data().chats||[]).find(G=>G.chatId===n);if(!V){console.log("Chat not found in current user's list.");return}await Wi(k,{chats:py(V)});const j=await ks(N);if(j.exists()){const S=(j.data().chats||[]).find(b=>b.chatId===n);S&&await Wi(N,{chats:py(S)})}(await ks(R)).exists()&&(console.log("Deleting chat document..."),await Wi(R,{messages:[]})),ud.setState({chatId:null,user:null}),console.log("Chat successfully deleted for both users!")}catch(x){console.log("Error deleting chat:",x)}};return X("div",{className:ms.detail,children:[(o==null?void 0:o.email)==="bagus.anselliam@ue.edu.ph"&&w("button",{className:ms.adminButton,onClick:()=>m("/Admin-Chat"),children:"Admin Panel"}),w("div",{className:ms.user,children:w("h2",{children:e==null?void 0:e.username})}),X("div",{className:ms.info,children:[w("button",{onClick:y,children:t?"You are Blocked!":r?"Unblock User":"Block User"}),w("button",{className:ms.report,onClick:()=>u(!0),children:"Report"}),w("button",{className:ms.deleteChat,onClick:C,children:"Delete Chat"})]}),l&&w("div",{className:ms.reportPopup,children:X("div",{className:ms.popupContent,children:[w("button",{className:ms.closeButton,onClick:()=>u(!1),children:"X"}),X("h2",{children:["Report ",e==null?void 0:e.username]}),X("form",{onSubmit:T,children:[w("textarea",{placeholder:"Enter the reason...",value:f,onChange:k=>p(k.target.value),required:!0}),w("button",{type:"submit",children:"Submit Report"})]})]})})]})},B5="_chatList_1usl9_1",H5="_search_1usl9_8",z5="_searchBar_1usl9_14",W5="_add_1usl9_36",q5="_item_1usl9_47",K5="_texts_1usl9_62",jl={chatList:B5,search:H5,searchBar:z5,add:W5,item:q5,texts:K5},G5="_addUser_1pkaj_1",Q5="_user_1pkaj_35",Y5="_detail_1pkaj_41",yy={addUser:G5,user:Q5,detail:Y5},X5=()=>{const[n,e]=E.useState(null),[t,r]=E.useState(!1),[i,o]=E.useState(!1),[l,u]=E.useState(null),{currentUser:f}=tl(),p=async y=>{y.preventDefault(),u(null);const C=new FormData(y.target).get("username");try{const k=Pa(rn,"users"),N=qB(k,KB("username","==",C)),R=await pv(N);if(R.empty)u("User not found!"),e(null);else{const x=R.docs[0].data();if(x.id===f.id){u("You cannot add yourself!"),e(null);return}e(x),r(!1)}}catch(k){console.log(k),u("An error occurred while searching.")}},m=async()=>{if(!n||t||i)return;o(!0),u(null);const y=Pa(rn,"chats"),T=Pa(rn,"userchats"),C=fn(T,f.id),k=fn(T,n.id);try{const[N,R]=await Promise.all([ks(C),ks(k)]);N.exists()||await Ns(C,{chats:[]}),R.exists()||await Ns(k,{chats:[]});const x=N.exists()?N.data().chats||[]:[],L=R.exists()?R.data().chats||[]:[],V=x.some(S=>S.receiverId===n.id),j=L.some(S=>S.receiverId===f.id);if(V||j){u("User already added!"),o(!1);return}const q=fn(y);await Ns(q,{createdAt:fw(),messages:[]});const G={chatId:q.id,lastMessage:"",receiverId:n.id,updatedAt:Date.now()};await Wi(C,{chats:Cc(G)}),await Wi(k,{chats:Cc({...G,receiverId:f.id})}),console.log("Chat created:",q.id),r(!0),setTimeout(()=>e(null),1e3)}catch(N){console.error(N),u("An error occurred while adding the user.")}finally{o(!1)}};return X("div",{className:yy.addUser,children:[X("form",{onSubmit:p,children:[w("input",{type:"text",placeholder:"Username",name:"username"}),w("button",{type:"submit",children:"Search"})]}),n&&X("div",{className:yy.user,children:[w("div",{className:yy.detail,children:w("span",{children:n.username})}),!t&&!l&&w("button",{onClick:m,disabled:i,children:i?"Adding...":"Add User"}),t&&w("span",{children:"User Added "})]}),l&&w("span",{style:{color:"red"},children:l})]})},J5=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!1),[i,o]=E.useState(""),{currentUser:l}=tl(),{changeChat:u}=ud();E.useEffect(()=>{if(!(l!=null&&l.id))return;const m=fN(fn(rn,"userchats",l.id),async y=>{var N;const C=((N=y.data())==null?void 0:N.chats).map(async R=>{const x=fn(rn,"users",R.receiverId),V=(await ks(x)).data();return{...R,user:V}}),k=await Promise.all(C);e(k.sort((R,x)=>x.updatedAt-R.updatedAt))});return()=>{m()}},[l.id]);const f=async m=>{const y=n.map(k=>{const{user:N,...R}=k;return R}),T=y.findIndex(k=>k.chatId===m.chatId);y[T].isSeen=!0;const C=fn(rn,"userchats",l.id);try{await Wi(C,{chats:y}),u(m.chatId,m.user)}catch(k){console.log(k)}},p=n.filter(m=>m.user.username.toLowerCase().includes(i.toLowerCase()));return X("div",{className:jl.chatList,children:[X("div",{className:jl.search,children:[X("div",{className:jl.searchBar,children:[w("img",{src:"./search.png",alt:""}),w("input",{type:"text",placeholder:"Search",onChange:m=>o(m.target.value)})]}),w("img",{src:t?"./minus.png":"./plus.png",alt:"",className:jl.add,onClick:()=>r(m=>!m)})]}),p.map(m=>w("div",{className:jl.item,onClick:()=>f(m),style:{backgroundColor:m!=null&&m.isSeen?"transparent":"#5183fe"},children:X("div",{className:jl.texts,children:[w("span",{children:m.user.blocked.includes(l.id)?"User":m.user.username}),w("p",{children:m.lastMessage})]})},m.chatId)),t&&w(X5,{})]})},Z5="_list_1vwb7_1",eH={list:Z5},tH="_userInfo_e98oz_1",nH="_user_e98oz_1",eC={userInfo:tH,user:nH},rH=()=>{const{currentUser:n}=tl();return w("div",{className:eC.userInfo,children:w("div",{className:eC.user,children:X("h2",{children:[n.username," "]})})})},iH=({onChatSelect:n})=>w("div",{className:eH.list,children:n&&X(zt,{children:[w(rH,{}),w(J5,{})]})});function ZN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=ZN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Da(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=ZN(n))&&(r&&(r+=" "),r+=e);return r}function sH(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}sH(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ud=n=>typeof n=="number"&&!isNaN(n),za=n=>typeof n=="string",$s=n=>typeof n=="function",oH=n=>za(n)||Ud(n),_v=n=>za(n)||$s(n)?n:null,aH=(n,e)=>n===!1||Ud(n)&&n>0?n:e,wv=n=>E.isValidElement(n)||za(n)||$s(n)||Ud(n);function lH(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function cH({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:u,done:f,nodeRef:p,isIn:m,playToast:y}){let T=t?`${n}--${l}`:n,C=t?`${e}--${l}`:e,k=E.useRef(0);return E.useLayoutEffect(()=>{let N=p.current,R=T.split(" "),x=L=>{L.target===p.current&&(y(),N.removeEventListener("animationend",x),N.removeEventListener("animationcancel",x),k.current===0&&L.type!=="animationcancel"&&N.classList.remove(...R))};N.classList.add(...R),N.addEventListener("animationend",x),N.addEventListener("animationcancel",x)},[]),E.useEffect(()=>{let N=p.current,R=()=>{N.removeEventListener("animationend",R),r?lH(N,f,i):f()};m||(u?R():(k.current=1,N.className+=` ${C}`,N.addEventListener("animationend",R)))},[m]),nt.createElement(nt.Fragment,null,o)}}function tC(n,e){return{content:e1(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function e1(n,e,t=!1){return E.isValidElement(n)&&!za(n.type)?E.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):$s(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function uH({closeToast:n,theme:e,ariaLabel:t="close"}){return nt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},nt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},nt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dH({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:o,controlledProgress:l,progress:u,rtl:f,isIn:p,theme:m}){let y=i||l&&u===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(T.transform=`scaleX(${u})`);let C=Da("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),k=$s(o)?o({rtl:f,type:r,defaultClassName:C}):Da(C,o),N={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{p&&t()}};return nt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},nt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),nt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:k,style:T,...N}))}var fH=1,t1=()=>`${fH++}`;function hH(n,e,t){let r=1,i=0,o=[],l=[],u=e,f=new Map,p=new Set,m=L=>(p.add(L),()=>p.delete(L)),y=()=>{l=Array.from(f.values()),p.forEach(L=>L())},T=({containerId:L,toastId:V,updateId:j})=>{let q=L?L!==n:n!==1,G=f.has(V)&&j==null;return q||G},C=(L,V)=>{f.forEach(j=>{var q;(V==null||V===j.props.toastId)&&((q=j.toggle)==null||q.call(j,L))})},k=L=>{var V,j;(j=(V=L.props)==null?void 0:V.onClose)==null||j.call(V,L.removalReason),L.isActive=!1},N=L=>{if(L==null)f.forEach(k);else{let V=f.get(L);V&&k(V)}y()},R=()=>{i-=o.length,o=[]},x=L=>{var V,j;let{toastId:q,updateId:G}=L.props,S=G==null;L.staleId&&f.delete(L.staleId),L.isActive=!0,f.set(q,L),y(),t(tC(L,S?"added":"updated")),S&&((j=(V=L.props).onOpen)==null||j.call(V))};return{id:n,props:u,observe:m,toggle:C,removeToast:N,toasts:f,clearQueue:R,buildToast:(L,V)=>{if(T(V))return;let{toastId:j,updateId:q,data:G,staleId:S,delay:b}=V,P=q==null;P&&i++;let M={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(V).filter(([F,O])=>O!=null)),toastId:j,updateId:q,data:G,isIn:!1,className:_v(V.className||u.toastClassName),progressClassName:_v(V.progressClassName||u.progressClassName),autoClose:V.isLoading?!1:aH(V.autoClose,u.autoClose),closeToast(F){f.get(j).removalReason=F,N(j)},deleteToast(){let F=f.get(j);if(F!=null){if(t(tC(F,"removed")),f.delete(j),i--,i<0&&(i=0),o.length>0){x(o.shift());return}y()}}};M.closeButton=u.closeButton,V.closeButton===!1||wv(V.closeButton)?M.closeButton=V.closeButton:V.closeButton===!0&&(M.closeButton=wv(u.closeButton)?u.closeButton:!0);let U={content:L,props:M,staleId:S};u.limit&&u.limit>0&&i>u.limit&&P?o.push(U):Ud(b)?setTimeout(()=>{x(U)},b):x(U)},setProps(L){u=L},setToggle:(L,V)=>{let j=f.get(L);j&&(j.toggle=V)},isToastActive:L=>{var V;return(V=f.get(L))==null?void 0:V.isActive},getSnapshot:()=>l}}var sr=new Map,dd=[],Ev=new Set,pH=n=>Ev.forEach(e=>e(n)),n1=()=>sr.size>0;function mH(){dd.forEach(n=>i1(n.content,n.options)),dd=[]}var gH=(n,{containerId:e})=>{var t;return(t=sr.get(e||1))==null?void 0:t.toasts.get(n)};function r1(n,e){var t;if(e)return!!((t=sr.get(e))!=null&&t.isToastActive(n));let r=!1;return sr.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function yH(n){if(!n1()){dd=dd.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||oH(n))sr.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=sr.get(n.containerId);e?e.removeToast(n.id):sr.forEach(t=>{t.removeToast(n.id)})}}var vH=(n={})=>{sr.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function i1(n,e){wv(n)&&(n1()||dd.push({content:n,options:e}),sr.forEach(t=>{t.buildToast(n,e)}))}function _H(n){var e;(e=sr.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function s1(n,e){sr.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function wH(n){let e=n.containerId||1;return{subscribe(t){let r=hH(e,n,pH);sr.set(e,r);let i=r.observe(t);return mH(),()=>{i(),sr.delete(e)}},setProps(t){var r;(r=sr.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=sr.get(e))==null?void 0:t.getSnapshot()}}}function EH(n){return Ev.add(n),()=>{Ev.delete(n)}}function TH(n){return n&&(za(n.toastId)||Ud(n.toastId))?n.toastId:t1()}function $d(n,e){return i1(n,e),e.toastId}function Jp(n,e){return{...e,type:e&&e.type||n,toastId:TH(e)}}function Zp(n){return(e,t)=>$d(e,Jp(n,t))}function Ot(n,e){return $d(n,Jp("default",e))}Ot.loading=(n,e)=>$d(n,Jp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function IH(n,{pending:e,error:t,success:r},i){let o;e&&(o=za(e)?Ot.loading(e,i):Ot.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,m,y)=>{if(m==null){Ot.dismiss(o);return}let T={type:p,...l,...i,data:y},C=za(m)?{render:m}:m;return o?Ot.update(o,{...T,...C}):Ot(C.render,{...T,...C}),y},f=$s(n)?n():n;return f.then(p=>u("success",r,p)).catch(p=>u("error",t,p)),f}Ot.promise=IH;Ot.success=Zp("success");Ot.info=Zp("info");Ot.error=Zp("error");Ot.warning=Zp("warning");Ot.warn=Ot.warning;Ot.dark=(n,e)=>$d(n,Jp("default",{theme:"dark",...e}));function SH(n){yH(n)}Ot.dismiss=SH;Ot.clearWaitingQueue=vH;Ot.isActive=r1;Ot.update=(n,e={})=>{let t=gH(n,e);if(t){let{props:r,content:i}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:t1()};o.toastId!==n&&(o.staleId=n);let l=o.render||i;delete o.render,$d(l,o)}};Ot.done=n=>{Ot.update(n,{progress:1})};Ot.onChange=EH;Ot.play=n=>s1(!0,n);Ot.pause=n=>s1(!1,n);function CH(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=E.useRef(wH(n)).current;i(n);let o=(e=E.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(u){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:m}=p.props;f.has(m)||f.set(m,[]),f.get(m).push(p)}),Array.from(f,p=>u(p[0],p[1]))}return{getToastToRender:l,isToastActive:r1,count:o==null?void 0:o.length}}function bH(n){let[e,t]=E.useState(!1),[r,i]=E.useState(!1),o=E.useRef(null),l=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:f,closeToast:p,onClick:m,closeOnClick:y}=n;_H({id:n.toastId,containerId:n.containerId,fn:t}),E.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{C()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||x(),window.addEventListener("focus",R),window.addEventListener("blur",x)}function C(){window.removeEventListener("focus",R),window.removeEventListener("blur",x)}function k(S){if(n.draggable===!0||n.draggable===S.pointerType){L();let b=o.current;l.canCloseOnClick=!0,l.canDrag=!0,b.style.transition="none",n.draggableDirection==="x"?(l.start=S.clientX,l.removalDistance=b.offsetWidth*(n.draggablePercent/100)):(l.start=S.clientY,l.removalDistance=b.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function N(S){let{top:b,bottom:P,left:M,right:U}=o.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&n.pauseOnHover&&S.clientX>=M&&S.clientX<=U&&S.clientY>=b&&S.clientY<=P?x():R()}function R(){t(!0)}function x(){t(!1)}function L(){l.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",q)}function V(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",q)}function j(S){let b=o.current;if(l.canDrag&&b){l.didMove=!0,e&&x(),n.draggableDirection==="x"?l.delta=S.clientX-l.start:l.delta=S.clientY-l.start,l.start!==S.clientX&&(l.canCloseOnClick=!1);let P=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;b.style.transform=`translate3d(${P},0)`,b.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function q(){V();let S=o.current;if(l.canDrag&&l.didMove&&S){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let G={onPointerDown:k,onPointerUp:N};return u&&f&&(G.onMouseEnter=x,n.stacked||(G.onMouseLeave=R)),y&&(G.onClick=S=>{m&&m(S),l.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:x,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:G}}var AH=typeof window<"u"?E.useLayoutEffect:E.useEffect,em=({theme:n,type:e,isLoading:t,...r})=>nt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function RH(n){return nt.createElement(em,{...n},nt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function kH(n){return nt.createElement(em,{...n},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function NH(n){return nt.createElement(em,{...n},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PH(n){return nt.createElement(em,{...n},nt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function DH(){return nt.createElement("div",{className:"Toastify__spinner"})}var Tv={info:kH,warning:RH,success:NH,error:PH,spinner:DH},xH=n=>n in Tv;function OH({theme:n,type:e,isLoading:t,icon:r}){let i=null,o={theme:n,type:e};return r===!1||($s(r)?i=r({...o,isLoading:t}):E.isValidElement(r)?i=E.cloneElement(r,o):t?i=Tv.spinner():xH(e)&&(i=Tv[e](o))),i}var LH=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:o}=bH(n),{closeButton:l,children:u,autoClose:f,onClick:p,type:m,hideProgressBar:y,closeToast:T,transition:C,position:k,className:N,style:R,progressClassName:x,updateId:L,role:V,progress:j,rtl:q,toastId:G,deleteToast:S,isIn:b,isLoading:P,closeOnClick:M,theme:U,ariaLabel:F}=n,O=Da("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":q},{"Toastify__toast--close-on-click":M}),we=$s(N)?N({rtl:q,position:k,type:m,defaultClassName:O}):Da(O,N),Ne=OH(n),je=!!j||!f,Se={closeToast:T,type:m,theme:U},re=null;return l===!1||($s(l)?re=l(Se):E.isValidElement(l)?re=E.cloneElement(l,Se):re=uH(Se)),nt.createElement(C,{isIn:b,done:S,position:k,preventExitTransition:t,nodeRef:r,playToast:o},nt.createElement("div",{id:G,tabIndex:0,onClick:p,"data-in":b,className:we,...i,style:R,ref:r,...b&&{role:V,"aria-label":F}},Ne!=null&&nt.createElement("div",{className:Da("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},Ne),e1(u,n,!e),re,!n.customProgressBar&&nt.createElement(dH,{...L&&!je?{key:`p-${L}`}:{},rtl:q,theme:U,delay:f,isRunning:e,isIn:b,closeToast:T,hide:y,type:m,className:x,controlledProgress:je,progress:j||0})))},MH=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),VH=cH(MH("bounce",!0)),UH={position:"top-right",transition:VH,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function $H(n){let e={...UH,...n},t=n.stacked,[r,i]=E.useState(!0),o=E.useRef(null),{getToastToRender:l,isToastActive:u,count:f}=CH(e),{className:p,style:m,rtl:y,containerId:T,hotKeys:C}=e;function k(R){let x=Da("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":y});return $s(p)?p({position:R,rtl:y,defaultClassName:x}):Da(x,_v(p))}function N(){t&&(i(!0),Ot.play())}return AH(()=>{var R;if(t){let x=o.current.querySelectorAll('[data-in="true"]'),L=12,V=(R=e.position)==null?void 0:R.includes("top"),j=0,q=0;Array.from(x).reverse().forEach((G,S)=>{let b=G;b.classList.add("Toastify__toast--stacked"),S>0&&(b.dataset.collapsed=`${r}`),b.dataset.pos||(b.dataset.pos=V?"top":"bot");let P=j*(r?.2:1)+(r?0:L*S);b.style.setProperty("--y",`${V?P:P*-1}px`),b.style.setProperty("--g",`${L}`),b.style.setProperty("--s",`${1-(r?q:0)}`),j+=b.offsetHeight,q+=.025})}},[r,f,t]),E.useEffect(()=>{function R(x){var L;let V=o.current;C(x)&&((L=V.querySelector('[tabIndex="0"]'))==null||L.focus(),i(!1),Ot.pause()),x.key==="Escape"&&(document.activeElement===V||V!=null&&V.contains(document.activeElement))&&(i(!0),Ot.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[C]),nt.createElement("section",{ref:o,className:"Toastify",id:T,onMouseEnter:()=>{t&&(i(!1),Ot.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,x)=>{let L=x.length?{...m}:{...m,pointerEvents:"none"};return nt.createElement("div",{tabIndex:-1,className:k(R),"data-stacked":t,style:L,key:`c-${R}`},x.map(({content:V,props:j})=>nt.createElement(LH,{...j,stacked:t,collapseAll:N,isIn:u(j.toastId,j.containerId),key:`t-${j.key}`},V)))}))}const FH=()=>w("div",{className:"",children:w($H,{position:"bottm-right"})}),jH="_loading_1ahbc_31",BH="_appContainer_1ahbc_40",HH="_appContent_1ahbc_49",zH="_listContainer_1ahbc_59",WH="_chatContainer_1ahbc_68",Nu={loading:jH,appContainer:BH,appContent:HH,listContainer:zH,chatContainer:WH};function qH(){const{currentUser:n,isLoading:e,fetchUserInfo:t}=tl(),{chatId:r,changeChat:i}=ud(),[o,l]=E.useState(!1),[u,f]=E.useState(!0);return E.useEffect(()=>{const p=ww(ei,async m=>{m?t(m.uid):console.log("No user is signed in.")});return()=>p()},[t]),e?w("div",{className:Nu.loading,children:"Loading..."}):w(Zi,{fluid:!0,className:Nu.appContainer,children:X(Vr,{className:Nu.appContent,children:[n&&X(zt,{children:[u&&w(Mn,{xs:12,md:4,className:Nu.listContainer,children:w(iH,{onChatSelect:()=>f(!1)})}),r&&w(Mn,{xs:12,md:8,className:Nu.chatContainer,children:w(D5,{openDetail:()=>l(!0),goBackToChatList:()=>f(!0)})}),X(rr,{show:o,onHide:()=>l(!1),centered:!0,children:[w(rr.Header,{children:w(xc,{onClick:()=>l(!1)})}),w(rr.Body,{children:w(j5,{})})]})]}),w(FH,{})]})})}const KH=()=>w("div",{className:"messages-container",children:w(qH,{})}),GH=()=>{const n=li(),[e,t]=E.useState(null),[r,i]=E.useState(!1),[o,l]=E.useState(""),[u,f]=E.useState(""),[p,m]=E.useState(null),[y,T]=E.useState({color:"",weight:"",height:"",width:"",brand:"",condition:"New",category:"",usageInstructions:""});function C(x){if(!x.target.files||x.target.files.length===0)return;const L=x.target.files[0];if(L.size>5*1024*1024){m("File size must be 5MB or less.");return}m(null);const V=new window.Image,j=URL.createObjectURL(L);V.onload=function(){t({height:V.height,file:L,width:V.width,previewUrl:j})},V.src=j}const k=async x=>{x.preventDefault(),i(!0);const V=new FormData(x.currentTarget).get("itemCategory"),j=`
Color: ${y.color}
Weight: ${y.weight} kg
Height: ${y.height} cm
Width: ${y.width} cm
Brand: ${y.brand}
Condition: ${y.condition}
Category: ${y.category}
Usage Instructions: ${y.usageInstructions}
  `.trim();if(!o||!u||!V||!e){m("Please fill in all fields."),i(!1);return}try{const q=await JV();if(!q){console.log("User data is still loading. Please wait."),i(!1);return}const G=await X$({name:o,authorID:q.$id,description:j+`

`+u,date:new Date().toISOString(),imageHeight:e.height,imageFileId:"",imageWidth:e.width,isApproved:!1,itemCategory:V});if(!G||!G.items||!G.items.$id)throw new Error("Failed to create item. No ID returned.");let S="";if(e.file){console.log("Uploading image...");const b=await B$(e.file);if(!b||!b.$id)throw new Error("Image upload failed.");S=b.$id}await CR(G.items.$id,{imageFileId:S,imageHeight:e.height,imageWidth:e.width,name:o,description:j+`

`+u,authorID:q.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:V}),console.log("Item created and updated successfully."),n(`/Item/${G.items.$id}`)}catch(q){console.error("Error creating or updating item:",q),alert("Failed to create item. Please try again.")}finally{i(!1)}},N=x=>w(h_,{id:"tooltip",children:x}),R=x=>{T({...y,[x.target.name]:x.target.value})};return X(Zi,{className:"mt-4",children:[r&&w("div",{className:"overlay",children:w("div",{className:"overlay-content",children:w("p",{children:"Please wait... Creating Tradery Item"})})}),X(ys,{className:"p-4 shadow",children:[w("h1",{className:"text-center",children:"Post Item"}),p&&w("p",{className:"text-danger",children:p}),X("form",{onSubmit:k,autoComplete:"off",children:[X(pt.Group,{controlId:"formFileLg",className:"mb-3",children:[w(pt.Label,{children:"Import Image (Max: 5MB)"}),w(pt.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:C,required:!0})]}),e&&w(Xu,{src:e.previewUrl,alt:"Preview",className:"mb-3",fluid:!0,rounded:!0}),w(s_,{controlId:"floatingSelect",label:"Category",children:X(pt.Select,{id:"itemCategory",name:"itemCategory",required:!0,children:[w("option",{value:"",disabled:!0,children:"Select a Category..."}),w("option",{value:"a",children:"School Supplies"}),w("option",{value:"b",children:"Clothing"}),w("option",{value:"c",children:"Entertainment/Hobbies"}),w("option",{value:"d",children:"Gaming/Technology"}),w("option",{value:"e",children:"Fashion Accessories"}),w("option",{value:"f",children:"Sports & Outdoor"})]})}),w(pt.Control,{className:"mt-3",id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:o,onChange:x=>l(x.target.value),required:!0}),X(Vr,{children:[w(Mn,{md:6,children:X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:w(gs,{placement:"right",overlay:N("Specify the item's primary color."),children:w("span",{children:"Color "})})}),w(pt.Control,{type:"text",name:"color",value:y.color,onChange:R,required:!0})]})}),w(Mn,{md:6,children:X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:w(gs,{placement:"right",overlay:N("Enter the item's weight in kilograms."),children:w("span",{children:"Weight "})})}),w(pt.Control,{type:"number",step:"0.1",name:"weight",value:y.weight,onChange:R,required:!0})]})})]}),X(Vr,{children:[w(Mn,{md:6,children:X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:w(gs,{placement:"right",overlay:N("Enter the item's height in centimeters."),children:w("span",{children:"Height "})})}),w(pt.Control,{type:"number",name:"height",value:y.height,onChange:R,required:!0})]})}),w(Mn,{md:6,children:X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:w(gs,{placement:"right",overlay:N("Enter the item's width in centimeters."),children:w("span",{children:"Width "})})}),w(pt.Control,{type:"number",name:"width",value:y.width,onChange:R,required:!0})]})})]}),X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:w(gs,{placement:"right",overlay:N("Enter the item's brand name (e.g., Nike, Samsung)."),children:w("span",{children:"Brand "})})}),w(pt.Control,{type:"text",name:"brand",value:y.brand,onChange:R,required:!0})]}),X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:w(gs,{placement:"right",overlay:N("Select the item's condition (New, Used, etc.)."),children:w("span",{children:"Condition "})})}),X(pt.Select,{name:"condition",value:y.condition,onChange:R,children:[w("option",{value:"New",children:"New"}),w("option",{value:"Used",children:"Used"}),w("option",{value:"Damaged",children:"Damaged"})]})]}),X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:w(gs,{placement:"right",overlay:N("Enter the category (e.g., Electronics, Clothing)."),children:w("span",{children:"Category "})})}),w(pt.Control,{type:"text",name:"category",value:y.category,onChange:R,required:!0})]}),X(pt.Group,{className:"mb-3",children:[w(pt.Label,{children:w(gs,{placement:"right",overlay:N("Enter any important usage instructions."),children:w("span",{children:"Usage Instructions "})})}),w(pt.Control,{as:"textarea",rows:3,name:"usageInstructions",value:y.usageInstructions,onChange:R,required:!0})]}),w(pt.Control,{className:"mt-3",as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:u,onChange:x=>f(x.target.value),required:!0}),w("p",{className:"text-muted",children:"Posting items that are harmful, sensual or offensive will lead to an unapproved item. Repeated offense may cause in a ban to the account."}),w(nn,{className:"w-100 mt-3",type:"submit",disabled:r,children:"Submit"})]})]})]})},QH=()=>{const[n,e]=E.useState([]),[t,r]=E.useState({}),{userData:i}=Jo();return E.useEffect(()=>{(async function(){if(!i){console.log("User data is still loading. Please wait.");return}const{items:l}=await w_(i.$id);e(l);const u={};await Promise.all(l.map(async f=>{if(!u[f.authorID]){const{userdb:p}=await Ua(f.authorID);u[f.authorID]=p}})),r(u)})()},[]),w("div",{className:"home",children:w("div",{className:"container",id:"pagewrap",children:w("div",{className:"items container",children:w(Vr,{children:n.length>0?n.map(o=>{const u={url:o.imageFileId&&bd(o.imageFileId),height:o.imageHeight,width:o.imageWidth},f=t[o.authorID];return w(Mn,{xs:12,md:3,style:{paddingBottom:"20px"},children:w("a",{className:"itemLink",href:`#/Item/${o.$id}`,children:w(Ap,{image:u,name:o.name,date:o.date,author:f?f.displayName||f.defaultName:"Unknown Author"})})},o.$id)}):w(Zi,{children:X(uc,{variant:"warning",children:["No Items are currently posted, ",w(uc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})},YH=({name:n,userId:e,eventKey:t})=>{const[r,i]=E.useState([]),{userdb:o}=Jo();if(!o)throw new Error("User data is not available");const l=li();E.useEffect(()=>{(async function(){if(!e||e.length===0)return;const p=await Promise.all(e.map(async m=>{try{const{userdb:y}=await Ua(m),T=(y==null?void 0:y.displayName)||(y==null?void 0:y.defaultName)||"",C=(y==null?void 0:y.defaultName)||"",k=(y==null?void 0:y.firebaseId)||null;return T||C?{displayName:T,appwriteName:C,firebaseId:k}:null}catch(y){return console.error("Error fetching user data:",y),null}}));i(p.filter(m=>m!==null))})()},[e]);async function u(f,p){try{await d5(f,p),console.log("Done")}catch{console.log("Failed to add chat")}finally{l("/Dashboard/Messages#view-messages")}}return X(bo.Item,{eventKey:t,children:[w(bo.Header,{children:n}),w(bo.Body,{children:r.length>0?r.map((f,p)=>X("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[X("p",{className:"mb-0",children:[w("strong",{children:f.displayName})," wants to trade. The default username is ",w("a",{href:`#/User/${f.displayName}`,className:"profile-link",children:w("strong",{children:f.appwriteName})}),", You can click on the name to view their profile."]}),w(nn,{variant:"primary",size:"sm",onClick:()=>{f.firebaseId&&o.firebaseId?u(f.firebaseId,o.firebaseId):console.error("Invalid user IDs")},children:"Message"})]},p)):w("p",{children:"No trade requests yet."})})]})},XH=()=>{const[n,e]=E.useState([]),{userData:t}=Jo();return E.useEffect(()=>{(async function(){if(!t){console.log("User data is still loading. Please wait.");return}const{items:i}=await w_(t.$id),o=i.filter(l=>l.requests&&l.requests.length>0);e(o)})()},[]),X("div",{className:"container",children:[w("h1",{children:"Your Items with Requests"}),n.length>0?X(bo,{alwaysOpen:!0,children:[" ",n.map((r,i)=>w(YH,{name:r.name,userId:r.requests,eventKey:String(i)},r.$id))]}):w("p",{children:"No items with requests found."})]})};function JH({params:n=vR()}){const[e,t]=E.useState(),[r,i]=E.useState(),o=li(),[l,u]=E.useState(!1),[f,p]=E.useState(!1),{isAdmin:m}=Zu(),{userData:y}=Jo(),C={url:(e==null?void 0:e.imageFileId)&&bd(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};E.useEffect(()=>{(async function(){var q;if(!n.itemsId)return;const{items:V}=await Hy(n.itemsId);if(t(V),(y==null?void 0:y.$id)===(V==null?void 0:V.authorID)&&u(!0),y&&p(((q=V.requests)==null?void 0:q.includes(y.$id))??!1),V){const{userdb:G}=await Ua(V.authorID);i(G)}})()},[n.itemsId]);async function k(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{const L=e.requests??[];if(L.includes(y.$id)){p(!0);return}const V=[...L,y.$id];t(j=>j&&{...j,requests:V}),p(!0),await wI(n.itemsId,{...e,isApproved:!0,requests:V}),console.log("Trade request successful")}catch(L){console.error("Error requesting trade:",L)}}}async function N(){if(e!=null&&e.$id){await Y$(e.$id);return}o(-1)}async function R(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{await CR(n.itemsId,{...e,isApproved:!0});const{items:L}=await Hy(n.itemsId);console.log(" Approved Post Data from Appwrite:",L),t(L),o(-1)}catch(L){console.error("Error approving post:",L)}}}async function x(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{const L=e.requests??[];if(!L.includes(y.$id)){p(!1);return}const V=L.filter(j=>j!==y.$id);t(j=>j&&{...j,requests:V}),p(!1),await wI(n.itemsId,{...e,isApproved:!0,requests:V}),console.log("Trade request removed")}catch(L){console.error("Error removing request:",L)}}}return X(Xp,{children:[X("a",{className:"HomeItem",href:"#/Home",children:[w("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:w("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),w("div",{className:"container",children:e&&X(zt,{children:[!e.isApproved&&w(uc,{variant:"warning",style:{margin:"20px"},children:"Post is waiting to be approved by the moderators."},"warning"),X("div",{className:"itemheading",children:[w("div",{children:w("h1",{children:e.name})}),r&&w("a",{href:`#/User/${r.displayName}`,className:"profile-link",children:r.displayName||r.defaultName}),X("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!m&&X("div",{className:"Tradecont",children:[l&&w(nn,{className:"Tradereq",variant:"primary",onClick:N,children:"Delete Item"}),!l&&w(zt,{children:f?w(nn,{className:"Tradereq",variant:"danger",onClick:x,children:"Remove Trade Request"}):w(nn,{className:"Tradereq",variant:"primary",onClick:k,children:"Request a Trade"})})]}),m&&X("div",{className:"Tradecont",children:[w(nn,{className:"Tradereq",variant:"primary",onClick:N,children:"Delete Item"}),w(nn,{className:"Tradereq",variant:"primary",onClick:R,children:"Approve Item"})]}),w("div",{className:"itemimg",children:w(NT,{className:"image-carousel",controls:!1,children:w(NT.Item,{children:w("img",{className:"thumbnail",src:C.url?String(C.url):"./images/favicon",alt:"Item"})})})}),w("div",{className:"description",children:w("p",{style:{whiteSpace:"pre-line"},children:e.description})})]})})]})}function ZH({params:n=vR()}){const[e,t]=E.useState(null),[r,i]=E.useState([]);return E.useEffect(()=>{(async function(){try{const{userdb:l}=await Z$(n.profileName);l.map(async u=>{const{items:f}=await w_(u.userId);i(f),t(u)})}catch(l){console.error("Error fetching profile data:",l)}})()},[n.profileName]),w(Xp,{children:X(Zi,{className:"mt-5",children:[w(Vr,{className:"justify-content-center text-center",children:w(Mn,{md:6,lg:4,children:X("div",{className:"profile-container p-4 bg-light rounded shadow",children:[w(Xu,{src:e!=null&&e.profileImageId?By(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),w("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),w("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),w("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),w(Vr,{className:"mt-5",children:X(Mn,{children:[w("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?w(Vr,{className:"g-4",children:r.map(o=>{const u={url:o.imageFileId&&bd(o.imageFileId),height:o.imageHeight,width:o.imageWidth};return w(Mn,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:w("a",{className:"itemLink",href:`#/Item/${o.$id}`,children:w(Ap,{image:u,name:o.name,date:o.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"})})},o.$id)})}):w("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function ez(){const{isAdmin:n,logInAdmin:e}=Zu(),[t,r]=E.useState([]),[i,o]=E.useState({}),l=async u=>{u.preventDefault();const f=u.target;await e(f.email.value,f.password.value),window.location.reload()};return E.useEffect(()=>{(async function(){const{items:f}=await Q$();r(f);const p={};await Promise.all(f.map(async m=>{if(!p[m.authorID]){const{userdb:y}=await Ua(m.authorID);p[m.authorID]=y}})),o(p)})()},[]),X(zt,{children:[!n&&w("div",{className:"RegAdminContainer",children:w("div",{className:"login-register-container",children:X("form",{onSubmit:l,autoComplete:"off",children:[X("div",{className:"form-field-wrapper",children:[w("label",{children:"Email:"}),w("input",{required:!0,className:"AdminInput",type:"email",name:"email",placeholder:"Enter email..."})]}),X("div",{className:"form-field-wrapper",children:[w("label",{children:"Password:"}),w(pt.Control,{className:"AdminInput",type:"password",name:"password",placeholder:"Enter password..."})]}),w("div",{className:"form-field-wrapper",children:w(nn,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&w(Xp,{children:w("div",{className:"home",children:X("div",{className:"container",id:"pagewrap",children:[w("h1",{children:"UNAPPROVED ITEMS"}),w("div",{className:"items container",children:w(Vr,{children:t.length>0?t.map(u=>{const p={url:u.imageFileId&&bd(u.imageFileId),height:u.imageHeight,width:u.imageWidth},m=i[u.authorID];return w(Mn,{xs:12,md:3,style:{paddingBottom:"20px"},children:w("a",{className:"itemLink",href:`#/Item/${u.$id}`,children:w(Ap,{image:p,name:u.name,date:u.date,author:m?m.displayName||m.defaultName:"Unknown Author"})})},u.$id)}):w(Zi,{children:w(uc,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const tz="bagus.anselliam@ue.edu.ph",nz=({children:n})=>{const[e,t]=E.useState(null),[r,i]=E.useState(!0),o=li();return E.useEffect(()=>{const l=ww(ei,async u=>{if(u){const f=await p_();f&&f.email===tz?t(!0):t(!1)}else t(!1);i(!1)});return()=>l()},[]),r?w("p",{children:"Loading..."}):e?n:o("/Home")},rz="_adminContainer_1hm91_1",iz="_userList_1hm91_19",sz="_reportsList_1hm91_54",oz="_reportItem_1hm91_71",az="_adminButtons_1hm91_106",lz="_backButton_1hm91_115",cz="_logout_1hm91_115",uz="_readMore_1hm91_169",dz="_modal_1hm91_185",fz="_modalContent_1hm91_197",hz="_closeModal_1hm91_216",pz="_showAllReports_1hm91_230",Or={adminContainer:rz,userList:iz,reportsList:sz,reportItem:oz,adminButtons:az,backButton:lz,logout:cz,readMore:uz,modal:dz,modalContent:fz,closeModal:hz,showAllReports:pz},mz=()=>{var T;const[n,e]=E.useState([]),[t,r]=E.useState([]),[i,o]=E.useState([]),[l,u]=E.useState(!0),[f,p]=E.useState(null),m=li();E.useEffect(()=>{(async()=>{try{const k=await pv(Pa(rn,"users")),N=await pv(Pa(rn,"reports"));e(k.docs.map(x=>({id:x.id,...x.data()})));const R=N.docs.map(x=>({id:x.id,...x.data()}));r(R),o(R)}catch(k){console.error("Error fetching data:",k)}finally{u(!1)}})()},[]);const y=async C=>{try{await XB(fn(rn,"reports",C)),r(k=>k.filter(N=>N.id!==C)),o(k=>k.filter(N=>N.id!==C))}catch(k){console.error("Error deleting report:",k)}};return X("div",{className:Or.adminContainer,children:[w("h1",{children:"Admin Panel"}),w("p",{children:"Welcome, Admin! Here you can manage users and view reports."}),X("div",{className:Or.adminButtons,children:[w("button",{className:Or.backButton,onClick:()=>m("/Dashboard/Messages"),children:"Back to Chat"}),w("button",{className:Or.logout,onClick:()=>ei.signOut(),children:"Logout"})]}),l?w("p",{children:"Loading data..."}):X(zt,{children:[X("div",{className:Or.userList,children:[w("h2",{children:"Registered Users"}),w("ul",{children:n.map(C=>X("li",{className:Or.userItem,children:[w("strong",{children:C.username})," - ",C.email,w("button",{onClick:()=>o(t.filter(k=>k.reportedUserId===C.id)),children:"View Reports"})]},C.id))}),w("button",{className:Or.showAllReports,onClick:()=>o(t),children:"Show All Reported Users"})]}),X("div",{className:Or.reportsList,children:[w("h2",{children:"Reported Users"}),i.length===0?w("p",{children:"No reports available."}):w("ul",{children:i.map(C=>{var N;const k=(N=C.timestamp)!=null&&N.seconds?new Date(C.timestamp.seconds*1e3).toLocaleString():"Unknown";return X("li",{className:Or.reportItem,children:[X("p",{children:[w("strong",{children:"Reporter:"})," ",C.reporterUsername]}),X("p",{children:[w("strong",{children:"Reporter ID:"})," ",C.reporterId]}),X("p",{children:[w("strong",{children:"Reported User:"})," ",C.reportedUsername]}),X("p",{children:[w("strong",{children:"Reported ID:"})," ",C.reportedUserId]}),X("p",{children:[w("strong",{children:"Reason:"})," ",C.reason.length>10?X(zt,{children:[C.reason.substring(0,10),"...",w("button",{className:Or.readMore,onClick:()=>p(C),children:"Read More"})]}):C.reason]}),X("p",{children:[w("strong",{children:"Timestamp:"})," ",k]}),w("button",{onClick:()=>y(C.id),children:"Delete"})]},C.id)})})]}),f&&w("div",{className:Or.modal,children:X("div",{className:Or.modalContent,children:[w("h2",{children:"Full Report"}),X("p",{children:[w("strong",{children:"Reporter:"})," ",f.reporterUsername]}),X("p",{children:[w("strong",{children:"Reporter ID:"})," ",f.reporterId]}),X("p",{children:[w("strong",{children:"Reported User:"})," ",f.reportedUsername]}),X("p",{children:[w("strong",{children:"Reported ID:"})," ",f.reportedUserId]}),X("p",{children:[w("strong",{children:"Reason:"})," ",f.reason]}),X("p",{children:[w("strong",{children:"Timestamp:"})," ",new Date(((T=f.timestamp)==null?void 0:T.seconds)*1e3).toLocaleString()]}),w("button",{className:Or.closeModal,onClick:()=>p(null),children:"Close"})]})})]})]})},hh=({children:n})=>{const{userData:e}=Jo();return e?w(zt,{children:n}):w(m$,{to:"/",replace:!0})},gz=S$([{path:"/",element:w(j$,{}),errorElement:w(Ea,{})},{path:"/Admin",element:w(ez,{}),errorElement:w(Ea,{})},{path:"/Admin-Chat",element:w(nz,{children:w(mz,{})}),errorElement:w(Ea,{})},{path:"/Home",element:w(hh,{children:w(p5,{})}),errorElement:w(Ea,{})},{path:"/Item/:itemsId",element:w(hh,{children:w(JH,{})}),errorElement:w(Ea,{})},{path:"/User/:profileName",element:w(hh,{children:w(ZH,{})}),errorElement:w(Ea,{})},{path:"/Dashboard",element:w(hh,{children:w(m5,{})}),errorElement:w(Ea,{}),children:[{path:"/Dashboard/Post",element:w(GH,{})},{path:"/Dashboard/Profile",element:w(g5,{})},{path:"/Dashboard/Items",element:w(QH,{})},{path:"/Dashboard/Requests",element:w(XH,{})},{path:"/Dashboard/Messages",element:w(KH,{})}]}]);mP.createRoot(document.getElementById("root")).render(w(E.StrictMode,{children:w(tU,{children:w(f5,{children:w(D$,{router:gz})})})}));
