function ZI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Mc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hm={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function Qk(){if(RE)return lt;RE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,x={};function b(H,ee,pe){this.props=H,this.context=ee,this.refs=x,this.updater=pe||A}b.prototype.isReactComponent={},b.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},b.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function z(){}z.prototype=b.prototype;function M(H,ee,pe){this.props=H,this.context=ee,this.refs=x,this.updater=pe||A}var j=M.prototype=new z;j.constructor=M,N(j,b.prototype),j.isPureReactComponent=!0;var B=Array.isArray,Z=Object.prototype.hasOwnProperty,Y={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function R(H,ee,pe){var ve,Ie={},Ae=null,Ge=null;if(ee!=null)for(ve in ee.ref!==void 0&&(Ge=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)Z.call(ee,ve)&&!S.hasOwnProperty(ve)&&(Ie[ve]=ee[ve]);var Fe=arguments.length-2;if(Fe===1)Ie.children=pe;else if(1<Fe){for(var st=Array(Fe),Et=0;Et<Fe;Et++)st[Et]=arguments[Et+2];Ie.children=st}if(H&&H.defaultProps)for(ve in Fe=H.defaultProps,Fe)Ie[ve]===void 0&&(Ie[ve]=Fe[ve]);return{$$typeof:n,type:H,key:Ae,ref:Ge,props:Ie,_owner:Y.current}}function D(H,ee){return{$$typeof:n,type:H.type,key:ee,ref:H.ref,props:H.props,_owner:H._owner}}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function L(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(pe){return ee[pe]})}var $=/\/+/g;function O(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):ee.toString(36)}function Ee(H,ee,pe,ve,Ie){var Ae=typeof H;(Ae==="undefined"||Ae==="boolean")&&(H=null);var Ge=!1;if(H===null)Ge=!0;else switch(Ae){case"string":case"number":Ge=!0;break;case"object":switch(H.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=H,Ie=Ie(Ge),H=ve===""?"."+O(Ge,0):ve,B(Ie)?(pe="",H!=null&&(pe=H.replace($,"$&/")+"/"),Ee(Ie,ee,pe,"",function(Et){return Et})):Ie!=null&&(k(Ie)&&(Ie=D(Ie,pe+(!Ie.key||Ge&&Ge.key===Ie.key?"":(""+Ie.key).replace($,"$&/")+"/")+H)),ee.push(Ie)),1;if(Ge=0,ve=ve===""?".":ve+":",B(H))for(var Fe=0;Fe<H.length;Fe++){Ae=H[Fe];var st=ve+O(Ae,Fe);Ge+=Ee(Ae,ee,pe,st,Ie)}else if(st=T(H),typeof st=="function")for(H=st.call(H),Fe=0;!(Ae=H.next()).done;)Ae=Ae.value,st=ve+O(Ae,Fe++),Ge+=Ee(Ae,ee,pe,st,Ie);else if(Ae==="object")throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ge}function xe(H,ee,pe){if(H==null)return H;var ve=[],Ie=0;return Ee(H,ve,"","",function(Ae){return ee.call(pe,Ae,Ie++)}),ve}function Be(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(pe){(H._status===0||H._status===-1)&&(H._status=1,H._result=pe)},function(pe){(H._status===0||H._status===-1)&&(H._status=2,H._result=pe)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var Ne={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Y};function le(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:xe,forEach:function(H,ee,pe){xe(H,function(){ee.apply(this,arguments)},pe)},count:function(H){var ee=0;return xe(H,function(){ee++}),ee},toArray:function(H){return xe(H,function(ee){return ee})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},lt.Component=b,lt.Fragment=t,lt.Profiler=i,lt.PureComponent=M,lt.StrictMode=r,lt.Suspense=f,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,lt.act=le,lt.cloneElement=function(H,ee,pe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ve=N({},H.props),Ie=H.key,Ae=H.ref,Ge=H._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,Ge=Y.current),ee.key!==void 0&&(Ie=""+ee.key),H.type&&H.type.defaultProps)var Fe=H.type.defaultProps;for(st in ee)Z.call(ee,st)&&!S.hasOwnProperty(st)&&(ve[st]=ee[st]===void 0&&Fe!==void 0?Fe[st]:ee[st])}var st=arguments.length-2;if(st===1)ve.children=pe;else if(1<st){Fe=Array(st);for(var Et=0;Et<st;Et++)Fe[Et]=arguments[Et+2];ve.children=Fe}return{$$typeof:n,type:H.type,key:Ie,ref:Ae,props:ve,_owner:Ge}},lt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},lt.createElement=R,lt.createFactory=function(H){var ee=R.bind(null,H);return ee.type=H,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(H){return{$$typeof:c,render:H}},lt.isValidElement=k,lt.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Be}},lt.memo=function(H,ee){return{$$typeof:p,type:H,compare:ee===void 0?null:ee}},lt.startTransition=function(H){var ee=ne.transition;ne.transition={};try{H()}finally{ne.transition=ee}},lt.unstable_act=le,lt.useCallback=function(H,ee){return Ne.current.useCallback(H,ee)},lt.useContext=function(H){return Ne.current.useContext(H)},lt.useDebugValue=function(){},lt.useDeferredValue=function(H){return Ne.current.useDeferredValue(H)},lt.useEffect=function(H,ee){return Ne.current.useEffect(H,ee)},lt.useId=function(){return Ne.current.useId()},lt.useImperativeHandle=function(H,ee,pe){return Ne.current.useImperativeHandle(H,ee,pe)},lt.useInsertionEffect=function(H,ee){return Ne.current.useInsertionEffect(H,ee)},lt.useLayoutEffect=function(H,ee){return Ne.current.useLayoutEffect(H,ee)},lt.useMemo=function(H,ee){return Ne.current.useMemo(H,ee)},lt.useReducer=function(H,ee,pe){return Ne.current.useReducer(H,ee,pe)},lt.useRef=function(H){return Ne.current.useRef(H)},lt.useState=function(H){return Ne.current.useState(H)},lt.useSyncExternalStore=function(H,ee,pe){return Ne.current.useSyncExternalStore(H,ee,pe)},lt.useTransition=function(){return Ne.current.useTransition()},lt.version="18.3.1",lt}var bE;function Oy(){return bE||(bE=1,Hm.exports=Qk()),Hm.exports}var w=Oy();const kn=Mc(w),Yk=ZI({__proto__:null,default:kn},[w]);var _f={},zm={exports:{}},fr={},Wm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function Xk(){return NE||(NE=1,function(n){function e(ne,me){var le=ne.length;ne.push(me);e:for(;0<le;){var H=le-1>>>1,ee=ne[H];if(0<i(ee,me))ne[H]=me,ne[le]=ee,le=H;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],le=ne.pop();if(le!==me){ne[0]=le;e:for(var H=0,ee=ne.length,pe=ee>>>1;H<pe;){var ve=2*(H+1)-1,Ie=ne[ve],Ae=ve+1,Ge=ne[Ae];if(0>i(Ie,le))Ae<ee&&0>i(Ge,Ie)?(ne[H]=Ge,ne[Ae]=le,H=Ae):(ne[H]=Ie,ne[ve]=le,H=ve);else if(Ae<ee&&0>i(Ge,le))ne[H]=Ge,ne[Ae]=le,H=Ae;else break e}}return me}function i(ne,me){var le=ne.sortIndex-me.sortIndex;return le!==0?le:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,T=3,A=!1,N=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ne){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ne)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function B(ne){if(x=!1,j(ne),!N)if(t(f)!==null)N=!0,Be(Z);else{var me=t(p);me!==null&&Ne(B,me.startTime-ne)}}function Z(ne,me){N=!1,x&&(x=!1,z(R),R=-1),A=!0;var le=T;try{for(j(me),_=t(f);_!==null&&(!(_.expirationTime>me)||ne&&!L());){var H=_.callback;if(typeof H=="function"){_.callback=null,T=_.priorityLevel;var ee=H(_.expirationTime<=me);me=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(f)&&r(f),j(me)}else r(f);_=t(f)}if(_!==null)var pe=!0;else{var ve=t(p);ve!==null&&Ne(B,ve.startTime-me),pe=!1}return pe}finally{_=null,T=le,A=!1}}var Y=!1,S=null,R=-1,D=5,k=-1;function L(){return!(n.unstable_now()-k<D)}function $(){if(S!==null){var ne=n.unstable_now();k=ne;var me=!0;try{me=S(!0,ne)}finally{me?O():(Y=!1,S=null)}}else Y=!1}var O;if(typeof M=="function")O=function(){M($)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,xe=Ee.port2;Ee.port1.onmessage=$,O=function(){xe.postMessage(null)}}else O=function(){b($,0)};function Be(ne){S=ne,Y||(Y=!0,O())}function Ne(ne,me){R=b(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){N||A||(N=!0,Be(Z))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var le=T;T=me;try{return ne()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=T;T=ne;try{return me()}finally{T=le}},n.unstable_scheduleCallback=function(ne,me,le){var H=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?H+le:H):le=H,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,ne={id:g++,callback:me,priorityLevel:ne,startTime:le,expirationTime:ee,sortIndex:-1},le>H?(ne.sortIndex=le,e(p,ne),t(f)===null&&ne===t(p)&&(x?(z(R),R=-1):x=!0,Ne(B,le-H))):(ne.sortIndex=ee,e(f,ne),N||A||(N=!0,Be(Z))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var me=T;return function(){var le=T;T=me;try{return ne.apply(this,arguments)}finally{T=le}}}}(qm)),qm}var kE;function Jk(){return kE||(kE=1,Wm.exports=Xk()),Wm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function Zk(){if(PE)return fr;PE=1;var n=Oy(),e=Jk();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function A(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,o,u,h){if(o===null||typeof o>"u"||A(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(s,o,u,h,m,v,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new x(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(z,M);b[o]=new x(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(z,M);b[o]=new x(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(z,M);b[o]=new x(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,o,u,h){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,u,m,h)&&(u=null),h||m===null?T(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),Y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,H;function ee(s){if(H===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+s}var pe=!1;function ve(s,o){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var h=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){h=J}s.call(o.prototype)}else{try{throw Error()}catch(J){h=J}s()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),v=h.stack.split(`
`),C=m.length-1,V=v.length-1;1<=C&&0<=V&&m[C]!==v[V];)V--;for(;1<=C&&0<=V;C--,V--)if(m[C]!==v[V]){if(C!==1||V!==1)do if(C--,V--,0>V||m[C]!==v[V]){var F=`
`+m[C].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=C&&0<=V);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Ie(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case Y:return"Portal";case D:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case Ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case k:return(s._context.displayName||"Context")+".Provider";case $:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case xe:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case Be:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=st(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function St(s){s._valueTracker||(s._valueTracker=Et(s))}function it(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=st(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Kt(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function rt(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Fe(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function jt(s,o){o=o.checked,o!=null&&j(s,"checked",o,!1)}function pn(s,o){jt(s,o);var u=Fe(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Wn(s,o.type,u):o.hasOwnProperty("defaultValue")&&Wn(s,o.type,Fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Or(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Wn(s,o,u){(o!=="number"||kt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Bt=Array.isArray;function Jt(s,o,u,h){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Fe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function tr(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Dn(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Bt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Fe(u)}}function Dt(s,o){var u=Fe(o.value),h=Fe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function sn(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function $e(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?$e(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ot,mn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ot.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function qn(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},He=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(s){He.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Kn[o]=Kn[s]})});function ot(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Kn.hasOwnProperty(s)&&Kn[s]?(""+o).trim():o+"px"}function gn(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=ot(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,m):s[u]=m}}var nr=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(s,o){if(o){if(nr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Uo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function Xr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hi=null,On=null,rr=null;function ks(s){if(s=Ou(s)){if(typeof Hi!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Od(o),Hi(s.stateNode,s.type,o))}}function vr(s){On?rr?rr.push(s):rr=[s]:On=s}function Fo(){if(On){var s=On,o=rr;if(rr=On=null,ks(s),o)for(s=0;s<o.length;s++)ks(o[s])}}function vi(s,o){return s(o)}function _i(){}var ir=!1;function jo(s,o,u){if(ir)return s(o,u);ir=!0;try{return vi(s,o,u)}finally{ir=!1,(On!==null||rr!==null)&&(_i(),Fo())}}function Ht(s,o){var u=s.stateNode;if(u===null)return null;var h=Od(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var U=!1;if(c)try{var q={};Object.defineProperty(q,"passive",{get:function(){U=!0}}),window.addEventListener("test",q,q),window.removeEventListener("test",q,q)}catch{U=!1}function X(s,o,u,h,m,v,C,V,F){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(ue){this.onError(ue)}}var re=!1,_e=null,ke=!1,Qe=null,Pe={onError:function(s){re=!0,_e=s}};function Re(s,o,u,h,m,v,C,V,F){re=!1,_e=null,X.apply(Pe,arguments)}function Se(s,o,u,h,m,v,C,V,F){if(Re.apply(this,arguments),re){if(re){var J=_e;re=!1,_e=null}else throw Error(t(198));ke||(ke=!0,Qe=J)}}function De(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function et(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Ze(s){if(De(s)!==s)throw Error(t(188))}function Gt(s){var o=s.alternate;if(!o){if(o=De(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Ze(m),s;if(v===h)return Ze(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=v;else{for(var C=!1,V=m.child;V;){if(V===u){C=!0,u=m,h=v;break}if(V===h){C=!0,h=m,u=v;break}V=V.sibling}if(!C){for(V=v.child;V;){if(V===u){C=!0,u=v,h=m;break}if(V===h){C=!0,h=v,u=m;break}V=V.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function Tt(s){return s=Gt(s),s!==null?at(s):null}function at(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=at(s);if(o!==null)return o;s=s.sibling}return null}var Rt=e.unstable_scheduleCallback,xr=e.unstable_cancelCallback,wi=e.unstable_shouldYield,_r=e.unstable_requestPaint,ct=e.unstable_now,Ps=e.unstable_getCurrentPriorityLevel,wr=e.unstable_ImmediatePriority,xn=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,Ei=e.unstable_LowPriority,dt=e.unstable_IdlePriority,Ct=null,Zt=null;function Ti(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ct,s,void 0,(s.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:xa,Lr=Math.log,Bo=Math.LN2;function xa(s){return s>>>=0,s===0?32:31-(Lr(s)/Bo|0)|0}var La=64,Ma=4194304;function Ds(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ho(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,v=s.pingedLanes,C=u&268435455;if(C!==0){var V=C&~m;V!==0?h=Ds(V):(v&=C,v!==0&&(h=Ds(v)))}else C=u&~m,C!==0?h=Ds(C):v!==0&&(h=Ds(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-ft(o),m=1<<u,h|=s[u],o&=~m;return h}function _p(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zi(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var C=31-ft(v),V=1<<C,F=m[C];F===-1?((V&u)===0||(V&h)!==0)&&(m[C]=_p(V,o)):F<=o&&(s.expiredLanes|=V),v&=~V}}function Er(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function zo(){var s=La;return La<<=1,(La&4194240)===0&&(La=64),s}function Os(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function xs(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ft(o),s[o]=u}function Pt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ft(u),v=1<<m;o[m]=0,h[m]=-1,s[m]=-1,u&=~v}}function Ls(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-ft(u),m=1<<h;m&o|s[h]&o&&(s[h]|=o),u&=~m}}var gt=0;function Ms(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var fd,Va,hd,pd,md,vu=!1,Ii=[],In=null,Jr=null,Zr=null,Vs=new Map,Mr=new Map,Si=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gd(s,o){switch(s){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Vs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(o.pointerId)}}function sr(s,o,u,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Ou(o),o!==null&&Va(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Ep(s,o,u,h,m){switch(o){case"focusin":return In=sr(In,s,o,u,h,m),!0;case"dragenter":return Jr=sr(Jr,s,o,u,h,m),!0;case"mouseover":return Zr=sr(Zr,s,o,u,h,m),!0;case"pointerover":var v=m.pointerId;return Vs.set(v,sr(Vs.get(v)||null,s,o,u,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Mr.set(v,sr(Mr.get(v)||null,s,o,u,h,m)),!0}return!1}function yd(s){var o=Qo(s.target);if(o!==null){var u=De(o);if(u!==null){if(o=u.tag,o===13){if(o=et(u),o!==null){s.blockedOn=o,md(s.priority,function(){hd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=$a(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);yi=h,u.target.dispatchEvent(h),yi=null}else return o=Ou(u),o!==null&&Va(o),s.blockedOn=u,!1;o.shift()}return!0}function Wo(s,o,u){Wi(s)&&u.delete(o)}function vd(){vu=!1,In!==null&&Wi(In)&&(In=null),Jr!==null&&Wi(Jr)&&(Jr=null),Zr!==null&&Wi(Zr)&&(Zr=null),Vs.forEach(Wo),Mr.forEach(Wo)}function ei(s,o){s.blockedOn===o&&(s.blockedOn=null,vu||(vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vd)))}function ti(s){function o(m){return ei(m,s)}if(0<Ii.length){ei(Ii[0],s);for(var u=1;u<Ii.length;u++){var h=Ii[u];h.blockedOn===s&&(h.blockedOn=null)}}for(In!==null&&ei(In,s),Jr!==null&&ei(Jr,s),Zr!==null&&ei(Zr,s),Vs.forEach(o),Mr.forEach(o),u=0;u<Si.length;u++)h=Si[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Si.length&&(u=Si[0],u.blockedOn===null);)yd(u),u.blockedOn===null&&Si.shift()}var qi=B.ReactCurrentBatchConfig,$s=!0;function Vt(s,o,u,h){var m=gt,v=qi.transition;qi.transition=null;try{gt=1,_u(s,o,u,h)}finally{gt=m,qi.transition=v}}function Tp(s,o,u,h){var m=gt,v=qi.transition;qi.transition=null;try{gt=4,_u(s,o,u,h)}finally{gt=m,qi.transition=v}}function _u(s,o,u,h){if($s){var m=$a(s,o,u,h);if(m===null)Op(s,o,h,qo,u),gd(s,h);else if(Ep(m,s,o,u,h))h.stopPropagation();else if(gd(s,h),o&4&&-1<wp.indexOf(s)){for(;m!==null;){var v=Ou(m);if(v!==null&&fd(v),v=$a(s,o,u,h),v===null&&Op(s,o,h,qo,u),v===m)break;m=v}m!==null&&h.stopPropagation()}else Op(s,o,h,null,u)}}var qo=null;function $a(s,o,u,h){if(qo=null,s=Xr(h),s=Qo(s),s!==null)if(o=De(s),o===null)s=null;else if(u=o.tag,u===13){if(s=et(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return qo=s,null}function wu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ps()){case wr:return 1;case xn:return 4;case Tn:case Ei:return 16;case dt:return 536870912;default:return 16}default:return 16}}var Tr=null,Ua=null,or=null;function Eu(){if(or)return or;var s,o=Ua,u=o.length,h,m="value"in Tr?Tr.value:Tr.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var C=u-s;for(h=1;h<=C&&o[u-h]===m[v-h];h++);return or=m.slice(s,1<h?1-h:void 0)}function Fa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ci(){return!0}function Tu(){return!1}function Sn(s){function o(u,h,m,v,C){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(u=s[V],this[V]=u?u(v):v[V]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ci:Tu,this.isPropagationStopped=Tu,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),o}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Sn(ni),Ai=le({},ni,{view:0,detail:0}),Ip=Sn(Ai),Ba,Ki,Us,Ko=le({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Us&&(Us&&s.type==="mousemove"?(Ba=s.screenX-Us.screenX,Ki=s.screenY-Us.screenY):Ki=Ba=0,Us=s),Ba)},movementY:function(s){return"movementY"in s?s.movementY:Ki}}),Ha=Sn(Ko),Iu=le({},Ko,{dataTransfer:0}),_d=Sn(Iu),za=le({},Ai,{relatedTarget:0}),Wa=Sn(za),wd=le({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Gi=Sn(wd),Ed=le({},ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Td=Sn(Ed),Id=le({},ni,{data:0}),Su=Sn(Id),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Sd[s])?!!o[s]:!1}function Ri(){return Cd}var d=le({},Ai,{key:function(s){if(s.key){var o=qa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Fa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(s){return s.type==="keypress"?Fa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Sn(d),E=le({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Sn(E),K=le({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),te=Sn(K),ge=le({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Sn(ge),on=le({},Ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=Sn(on),yn=[9,13,27,32],en=c&&"CompositionEvent"in window,Vr=null;c&&"documentMode"in document&&(Vr=document.documentMode);var Ir=c&&"TextEvent"in window&&!Vr,Go=c&&(!en||Vr&&8<Vr&&11>=Vr),Ka=" ",E_=!1;function T_(s,o){switch(s){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ga=!1;function qN(s,o){switch(s){case"compositionend":return I_(o);case"keypress":return o.which!==32?null:(E_=!0,Ka);case"textInput":return s=o.data,s===Ka&&E_?null:s;default:return null}}function KN(s,o){if(Ga)return s==="compositionend"||!en&&T_(s,o)?(s=Eu(),or=Ua=Tr=null,Ga=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Go&&o.locale!=="ko"?null:o.data;default:return null}}var GN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!GN[s.type]:o==="textarea"}function C_(s,o,u,h){vr(h),o=kd(o,"onChange"),0<o.length&&(u=new ja("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var Cu=null,Au=null;function QN(s){H_(s,0)}function Ad(s){var o=Za(s);if(it(o))return s}function YN(s,o){if(s==="change")return o}var A_=!1;if(c){var Sp;if(c){var Cp="oninput"in document;if(!Cp){var R_=document.createElement("div");R_.setAttribute("oninput","return;"),Cp=typeof R_.oninput=="function"}Sp=Cp}else Sp=!1;A_=Sp&&(!document.documentMode||9<document.documentMode)}function b_(){Cu&&(Cu.detachEvent("onpropertychange",N_),Au=Cu=null)}function N_(s){if(s.propertyName==="value"&&Ad(Au)){var o=[];C_(o,Au,s,Xr(s)),jo(QN,o)}}function XN(s,o,u){s==="focusin"?(b_(),Cu=o,Au=u,Cu.attachEvent("onpropertychange",N_)):s==="focusout"&&b_()}function JN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ad(Au)}function ZN(s,o){if(s==="click")return Ad(o)}function ek(s,o){if(s==="input"||s==="change")return Ad(o)}function tk(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ri=typeof Object.is=="function"?Object.is:tk;function Ru(s,o){if(ri(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!ri(s[m],o[m]))return!1}return!0}function k_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function P_(s,o){var u=k_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=k_(u)}}function D_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?D_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function O_(){for(var s=window,o=kt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=kt(s.document)}return o}function Ap(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function nk(s){var o=O_(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&D_(u.ownerDocument.documentElement,u)){if(h!==null&&Ap(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!s.extend&&v>h&&(m=h,h=v,v=m),m=P_(u,v);var C=P_(u,h);m&&C&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var rk=c&&"documentMode"in document&&11>=document.documentMode,Qa=null,Rp=null,bu=null,bp=!1;function x_(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bp||Qa==null||Qa!==kt(h)||(h=Qa,"selectionStart"in h&&Ap(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),bu&&Ru(bu,h)||(bu=h,h=kd(Rp,"onSelect"),0<h.length&&(o=new ja("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Qa)))}function Rd(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ya={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},Np={},L_={};c&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function bd(s){if(Np[s])return Np[s];if(!Ya[s])return s;var o=Ya[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in L_)return Np[s]=o[u];return s}var M_=bd("animationend"),V_=bd("animationiteration"),$_=bd("animationstart"),U_=bd("transitionend"),F_=new Map,j_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(s,o){F_.set(s,o),a(o,[s])}for(var kp=0;kp<j_.length;kp++){var Pp=j_[kp],ik=Pp.toLowerCase(),sk=Pp[0].toUpperCase()+Pp.slice(1);Fs(ik,"on"+sk)}Fs(M_,"onAnimationEnd"),Fs(V_,"onAnimationIteration"),Fs($_,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(U_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ok=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nu));function B_(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Se(h,o,void 0,s),s.currentTarget=null}function H_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var C=h.length-1;0<=C;C--){var V=h[C],F=V.instance,J=V.currentTarget;if(V=V.listener,F!==v&&m.isPropagationStopped())break e;B_(m,V,J),v=F}else for(C=0;C<h.length;C++){if(V=h[C],F=V.instance,J=V.currentTarget,V=V.listener,F!==v&&m.isPropagationStopped())break e;B_(m,V,J),v=F}}}if(ke)throw s=Qe,ke=!1,Qe=null,s}function Lt(s,o){var u=o[Up];u===void 0&&(u=o[Up]=new Set);var h=s+"__bubble";u.has(h)||(z_(o,s,2,!1),u.add(h))}function Dp(s,o,u){var h=0;o&&(h|=4),z_(u,s,h,o)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function ku(s){if(!s[Nd]){s[Nd]=!0,r.forEach(function(u){u!=="selectionchange"&&(ok.has(u)||Dp(u,!1,s),Dp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Nd]||(o[Nd]=!0,Dp("selectionchange",!1,o))}}function z_(s,o,u,h){switch(wu(o)){case 1:var m=Vt;break;case 4:m=Tp;break;default:m=_u}u=m.bind(null,o,u,s),m=void 0,!U||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Op(s,o,u,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var V=h.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(C===4)for(C=h.return;C!==null;){var F=C.tag;if((F===3||F===4)&&(F=C.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;C=C.return}for(;V!==null;){if(C=Qo(V),C===null)return;if(F=C.tag,F===5||F===6){h=v=C;continue e}V=V.parentNode}}h=h.return}jo(function(){var J=v,ue=Xr(u),fe=[];e:{var ae=F_.get(s);if(ae!==void 0){var Ce=ja,Le=s;switch(s){case"keypress":if(Fa(u)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Le="focus",Ce=Wa;break;case"focusout":Le="blur",Ce=Wa;break;case"beforeblur":case"afterblur":Ce=Wa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=te;break;case M_:case V_:case $_:Ce=Gi;break;case U_:Ce=bt;break;case"scroll":Ce=Ip;break;case"wheel":Ce=vt;break;case"copy":case"cut":case"paste":Ce=Td;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=P}var Me=(o&4)!==0,Yt=!Me&&s==="scroll",G=Me?ae!==null?ae+"Capture":null:ae;Me=[];for(var W=J,Q;W!==null;){Q=W;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,G!==null&&(he=Ht(W,G),he!=null&&Me.push(Pu(W,he,Q)))),Yt)break;W=W.return}0<Me.length&&(ae=new Ce(ae,Le,null,u,ue),fe.push({event:ae,listeners:Me}))}}if((o&7)===0){e:{if(ae=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",ae&&u!==yi&&(Le=u.relatedTarget||u.fromElement)&&(Qo(Le)||Le[Qi]))break e;if((Ce||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ce?(Le=u.relatedTarget||u.toElement,Ce=J,Le=Le?Qo(Le):null,Le!==null&&(Yt=De(Le),Le!==Yt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ce=null,Le=J),Ce!==Le)){if(Me=Ha,he="onMouseLeave",G="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Me=P,he="onPointerLeave",G="onPointerEnter",W="pointer"),Yt=Ce==null?ae:Za(Ce),Q=Le==null?ae:Za(Le),ae=new Me(he,W+"leave",Ce,u,ue),ae.target=Yt,ae.relatedTarget=Q,he=null,Qo(ue)===J&&(Me=new Me(G,W+"enter",Le,u,ue),Me.target=Q,Me.relatedTarget=Yt,he=Me),Yt=he,Ce&&Le)t:{for(Me=Ce,G=Le,W=0,Q=Me;Q;Q=Xa(Q))W++;for(Q=0,he=G;he;he=Xa(he))Q++;for(;0<W-Q;)Me=Xa(Me),W--;for(;0<Q-W;)G=Xa(G),Q--;for(;W--;){if(Me===G||G!==null&&Me===G.alternate)break t;Me=Xa(Me),G=Xa(G)}Me=null}else Me=null;Ce!==null&&W_(fe,ae,Ce,Me,!1),Le!==null&&Yt!==null&&W_(fe,Yt,Le,Me,!0)}}e:{if(ae=J?Za(J):window,Ce=ae.nodeName&&ae.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ae.type==="file")var Ve=YN;else if(S_(ae))if(A_)Ve=ek;else{Ve=JN;var We=XN}else(Ce=ae.nodeName)&&Ce.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ve=ZN);if(Ve&&(Ve=Ve(s,J))){C_(fe,Ve,u,ue);break e}We&&We(s,ae,J),s==="focusout"&&(We=ae._wrapperState)&&We.controlled&&ae.type==="number"&&Wn(ae,"number",ae.value)}switch(We=J?Za(J):window,s){case"focusin":(S_(We)||We.contentEditable==="true")&&(Qa=We,Rp=J,bu=null);break;case"focusout":bu=Rp=Qa=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,x_(fe,u,ue);break;case"selectionchange":if(rk)break;case"keydown":case"keyup":x_(fe,u,ue)}var qe;if(en)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ga?T_(s,u)&&(Xe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(Go&&u.locale!=="ko"&&(Ga||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ga&&(qe=Eu()):(Tr=ue,Ua="value"in Tr?Tr.value:Tr.textContent,Ga=!0)),We=kd(J,Xe),0<We.length&&(Xe=new Su(Xe,s,null,u,ue),fe.push({event:Xe,listeners:We}),qe?Xe.data=qe:(qe=I_(u),qe!==null&&(Xe.data=qe)))),(qe=Ir?qN(s,u):KN(s,u))&&(J=kd(J,"onBeforeInput"),0<J.length&&(ue=new Su("onBeforeInput","beforeinput",null,u,ue),fe.push({event:ue,listeners:J}),ue.data=qe))}H_(fe,o)})}function Pu(s,o,u){return{instance:s,listener:o,currentTarget:u}}function kd(s,o){for(var u=o+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ht(s,u),v!=null&&h.unshift(Pu(s,v,m)),v=Ht(s,o),v!=null&&h.push(Pu(s,v,m))),s=s.return}return h}function Xa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function W_(s,o,u,h,m){for(var v=o._reactName,C=[];u!==null&&u!==h;){var V=u,F=V.alternate,J=V.stateNode;if(F!==null&&F===h)break;V.tag===5&&J!==null&&(V=J,m?(F=Ht(u,v),F!=null&&C.unshift(Pu(u,F,V))):m||(F=Ht(u,v),F!=null&&C.push(Pu(u,F,V)))),u=u.return}C.length!==0&&s.push({event:o,listeners:C})}var ak=/\r\n?/g,lk=/\u0000|\uFFFD/g;function q_(s){return(typeof s=="string"?s:""+s).replace(ak,`
`).replace(lk,"")}function Pd(s,o,u){if(o=q_(o),q_(s)!==o&&u)throw Error(t(425))}function Dd(){}var xp=null,Lp=null;function Mp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,ck=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(s){return K_.resolve(null).then(s).catch(dk)}:Vp;function dk(s){setTimeout(function(){throw s})}function $p(s,o){var u=o,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),ti(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);ti(o)}function js(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function G_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),bi="__reactFiber$"+Ja,Du="__reactProps$"+Ja,Qi="__reactContainer$"+Ja,Up="__reactEvents$"+Ja,fk="__reactListeners$"+Ja,hk="__reactHandles$"+Ja;function Qo(s){var o=s[bi];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Qi]||u[bi]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=G_(s);s!==null;){if(u=s[bi])return u;s=G_(s)}return o}s=u,u=s.parentNode}return null}function Ou(s){return s=s[bi]||s[Qi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Za(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Od(s){return s[Du]||null}var Fp=[],el=-1;function Bs(s){return{current:s}}function Mt(s){0>el||(s.current=Fp[el],Fp[el]=null,el--)}function xt(s,o){el++,Fp[el]=s.current,s.current=o}var Hs={},Ln=Bs(Hs),ar=Bs(!1),Yo=Hs;function tl(s,o){var u=s.type.contextTypes;if(!u)return Hs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function lr(s){return s=s.childContextTypes,s!=null}function xd(){Mt(ar),Mt(Ln)}function Q_(s,o,u){if(Ln.current!==Hs)throw Error(t(168));xt(Ln,o),xt(ar,u)}function Y_(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ge(s)||"Unknown",m));return le({},u,h)}function Ld(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hs,Yo=Ln.current,xt(Ln,s),xt(ar,ar.current),!0}function X_(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=Y_(s,o,Yo),h.__reactInternalMemoizedMergedChildContext=s,Mt(ar),Mt(Ln),xt(Ln,s)):Mt(ar),xt(ar,u)}var Yi=null,Md=!1,jp=!1;function J_(s){Yi===null?Yi=[s]:Yi.push(s)}function pk(s){Md=!0,J_(s)}function zs(){if(!jp&&Yi!==null){jp=!0;var s=0,o=gt;try{var u=Yi;for(gt=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}Yi=null,Md=!1}catch(m){throw Yi!==null&&(Yi=Yi.slice(s+1)),Rt(wr,zs),m}finally{gt=o,jp=!1}}return null}var nl=[],rl=0,Vd=null,$d=0,$r=[],Ur=0,Xo=null,Xi=1,Ji="";function Jo(s,o){nl[rl++]=$d,nl[rl++]=Vd,Vd=s,$d=o}function Z_(s,o,u){$r[Ur++]=Xi,$r[Ur++]=Ji,$r[Ur++]=Xo,Xo=s;var h=Xi;s=Ji;var m=32-ft(h)-1;h&=~(1<<m),u+=1;var v=32-ft(o)+m;if(30<v){var C=m-m%5;v=(h&(1<<C)-1).toString(32),h>>=C,m-=C,Xi=1<<32-ft(o)+m|u<<m|h,Ji=v+s}else Xi=1<<v|u<<m|h,Ji=s}function Bp(s){s.return!==null&&(Jo(s,1),Z_(s,1,0))}function Hp(s){for(;s===Vd;)Vd=nl[--rl],nl[rl]=null,$d=nl[--rl],nl[rl]=null;for(;s===Xo;)Xo=$r[--Ur],$r[Ur]=null,Ji=$r[--Ur],$r[Ur]=null,Xi=$r[--Ur],$r[Ur]=null}var Sr=null,Cr=null,$t=!1,ii=null;function ew(s,o){var u=Hr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function tw(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Sr=s,Cr=js(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Sr=s,Cr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Xo!==null?{id:Xi,overflow:Ji}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Hr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Sr=s,Cr=null,!0):!1;default:return!1}}function zp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Wp(s){if($t){var o=Cr;if(o){var u=o;if(!tw(s,o)){if(zp(s))throw Error(t(418));o=js(u.nextSibling);var h=Sr;o&&tw(s,o)?ew(h,u):(s.flags=s.flags&-4097|2,$t=!1,Sr=s)}}else{if(zp(s))throw Error(t(418));s.flags=s.flags&-4097|2,$t=!1,Sr=s}}}function nw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Sr=s}function Ud(s){if(s!==Sr)return!1;if(!$t)return nw(s),$t=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Mp(s.type,s.memoizedProps)),o&&(o=Cr)){if(zp(s))throw rw(),Error(t(418));for(;o;)ew(s,o),o=js(o.nextSibling)}if(nw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Cr=js(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Cr=null}}else Cr=Sr?js(s.stateNode.nextSibling):null;return!0}function rw(){for(var s=Cr;s;)s=js(s.nextSibling)}function il(){Cr=Sr=null,$t=!1}function qp(s){ii===null?ii=[s]:ii.push(s)}var mk=B.ReactCurrentBatchConfig;function xu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var m=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(C){var V=m.refs;C===null?delete V[v]:V[v]=C},o._stringRef=v,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Fd(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function iw(s){var o=s._init;return o(s._payload)}function sw(s){function o(G,W){if(s){var Q=G.deletions;Q===null?(G.deletions=[W],G.flags|=16):Q.push(W)}}function u(G,W){if(!s)return null;for(;W!==null;)o(G,W),W=W.sibling;return null}function h(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function m(G,W){return G=Js(G,W),G.index=0,G.sibling=null,G}function v(G,W,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<W?(G.flags|=2,W):Q):(G.flags|=2,W)):(G.flags|=1048576,W)}function C(G){return s&&G.alternate===null&&(G.flags|=2),G}function V(G,W,Q,he){return W===null||W.tag!==6?(W=Vm(Q,G.mode,he),W.return=G,W):(W=m(W,Q),W.return=G,W)}function F(G,W,Q,he){var Ve=Q.type;return Ve===S?ue(G,W,Q.props.children,he,Q.key):W!==null&&(W.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Be&&iw(Ve)===W.type)?(he=m(W,Q.props),he.ref=xu(G,W,Q),he.return=G,he):(he=df(Q.type,Q.key,Q.props,null,G.mode,he),he.ref=xu(G,W,Q),he.return=G,he)}function J(G,W,Q,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=$m(Q,G.mode,he),W.return=G,W):(W=m(W,Q.children||[]),W.return=G,W)}function ue(G,W,Q,he,Ve){return W===null||W.tag!==7?(W=oa(Q,G.mode,he,Ve),W.return=G,W):(W=m(W,Q),W.return=G,W)}function fe(G,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Vm(""+W,G.mode,Q),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Z:return Q=df(W.type,W.key,W.props,null,G.mode,Q),Q.ref=xu(G,null,W),Q.return=G,Q;case Y:return W=$m(W,G.mode,Q),W.return=G,W;case Be:var he=W._init;return fe(G,he(W._payload),Q)}if(Bt(W)||me(W))return W=oa(W,G.mode,Q,null),W.return=G,W;Fd(G,W)}return null}function ae(G,W,Q,he){var Ve=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ve!==null?null:V(G,W,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Z:return Q.key===Ve?F(G,W,Q,he):null;case Y:return Q.key===Ve?J(G,W,Q,he):null;case Be:return Ve=Q._init,ae(G,W,Ve(Q._payload),he)}if(Bt(Q)||me(Q))return Ve!==null?null:ue(G,W,Q,he,null);Fd(G,Q)}return null}function Ce(G,W,Q,he,Ve){if(typeof he=="string"&&he!==""||typeof he=="number")return G=G.get(Q)||null,V(W,G,""+he,Ve);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case Z:return G=G.get(he.key===null?Q:he.key)||null,F(W,G,he,Ve);case Y:return G=G.get(he.key===null?Q:he.key)||null,J(W,G,he,Ve);case Be:var We=he._init;return Ce(G,W,Q,We(he._payload),Ve)}if(Bt(he)||me(he))return G=G.get(Q)||null,ue(W,G,he,Ve,null);Fd(W,he)}return null}function Le(G,W,Q,he){for(var Ve=null,We=null,qe=W,Xe=W=0,wn=null;qe!==null&&Xe<Q.length;Xe++){qe.index>Xe?(wn=qe,qe=null):wn=qe.sibling;var It=ae(G,qe,Q[Xe],he);if(It===null){qe===null&&(qe=wn);break}s&&qe&&It.alternate===null&&o(G,qe),W=v(It,W,Xe),We===null?Ve=It:We.sibling=It,We=It,qe=wn}if(Xe===Q.length)return u(G,qe),$t&&Jo(G,Xe),Ve;if(qe===null){for(;Xe<Q.length;Xe++)qe=fe(G,Q[Xe],he),qe!==null&&(W=v(qe,W,Xe),We===null?Ve=qe:We.sibling=qe,We=qe);return $t&&Jo(G,Xe),Ve}for(qe=h(G,qe);Xe<Q.length;Xe++)wn=Ce(qe,G,Xe,Q[Xe],he),wn!==null&&(s&&wn.alternate!==null&&qe.delete(wn.key===null?Xe:wn.key),W=v(wn,W,Xe),We===null?Ve=wn:We.sibling=wn,We=wn);return s&&qe.forEach(function(Zs){return o(G,Zs)}),$t&&Jo(G,Xe),Ve}function Me(G,W,Q,he){var Ve=me(Q);if(typeof Ve!="function")throw Error(t(150));if(Q=Ve.call(Q),Q==null)throw Error(t(151));for(var We=Ve=null,qe=W,Xe=W=0,wn=null,It=Q.next();qe!==null&&!It.done;Xe++,It=Q.next()){qe.index>Xe?(wn=qe,qe=null):wn=qe.sibling;var Zs=ae(G,qe,It.value,he);if(Zs===null){qe===null&&(qe=wn);break}s&&qe&&Zs.alternate===null&&o(G,qe),W=v(Zs,W,Xe),We===null?Ve=Zs:We.sibling=Zs,We=Zs,qe=wn}if(It.done)return u(G,qe),$t&&Jo(G,Xe),Ve;if(qe===null){for(;!It.done;Xe++,It=Q.next())It=fe(G,It.value,he),It!==null&&(W=v(It,W,Xe),We===null?Ve=It:We.sibling=It,We=It);return $t&&Jo(G,Xe),Ve}for(qe=h(G,qe);!It.done;Xe++,It=Q.next())It=Ce(qe,G,Xe,It.value,he),It!==null&&(s&&It.alternate!==null&&qe.delete(It.key===null?Xe:It.key),W=v(It,W,Xe),We===null?Ve=It:We.sibling=It,We=It);return s&&qe.forEach(function(Gk){return o(G,Gk)}),$t&&Jo(G,Xe),Ve}function Yt(G,W,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Z:e:{for(var Ve=Q.key,We=W;We!==null;){if(We.key===Ve){if(Ve=Q.type,Ve===S){if(We.tag===7){u(G,We.sibling),W=m(We,Q.props.children),W.return=G,G=W;break e}}else if(We.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Be&&iw(Ve)===We.type){u(G,We.sibling),W=m(We,Q.props),W.ref=xu(G,We,Q),W.return=G,G=W;break e}u(G,We);break}else o(G,We);We=We.sibling}Q.type===S?(W=oa(Q.props.children,G.mode,he,Q.key),W.return=G,G=W):(he=df(Q.type,Q.key,Q.props,null,G.mode,he),he.ref=xu(G,W,Q),he.return=G,G=he)}return C(G);case Y:e:{for(We=Q.key;W!==null;){if(W.key===We)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){u(G,W.sibling),W=m(W,Q.children||[]),W.return=G,G=W;break e}else{u(G,W);break}else o(G,W);W=W.sibling}W=$m(Q,G.mode,he),W.return=G,G=W}return C(G);case Be:return We=Q._init,Yt(G,W,We(Q._payload),he)}if(Bt(Q))return Le(G,W,Q,he);if(me(Q))return Me(G,W,Q,he);Fd(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(u(G,W.sibling),W=m(W,Q),W.return=G,G=W):(u(G,W),W=Vm(Q,G.mode,he),W.return=G,G=W),C(G)):u(G,W)}return Yt}var sl=sw(!0),ow=sw(!1),jd=Bs(null),Bd=null,ol=null,Kp=null;function Gp(){Kp=ol=Bd=null}function Qp(s){var o=jd.current;Mt(jd),s._currentValue=o}function Yp(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function al(s,o){Bd=s,Kp=ol=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(ur=!0),s.firstContext=null)}function Fr(s){var o=s._currentValue;if(Kp!==s)if(s={context:s,memoizedValue:o,next:null},ol===null){if(Bd===null)throw Error(t(308));ol=s,Bd.dependencies={lanes:0,firstContext:s}}else ol=ol.next=s;return o}var Zo=null;function Xp(s){Zo===null?Zo=[s]:Zo.push(s)}function aw(s,o,u,h){var m=o.interleaved;return m===null?(u.next=u,Xp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Zi(s,h)}function Zi(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ws=!1;function Jp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function es(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function qs(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(wt&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Zi(s,u)}return m=h.interleaved,m===null?(o.next=o,Xp(h)):(o.next=m.next,m.next=o),h.interleaved=o,Zi(s,u)}function Hd(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ls(s,u)}}function uw(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=C:v=v.next=C,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function zd(s,o,u,h){var m=s.updateQueue;Ws=!1;var v=m.firstBaseUpdate,C=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var F=V,J=F.next;F.next=null,C===null?v=J:C.next=J,C=F;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,V=ue.lastBaseUpdate,V!==C&&(V===null?ue.firstBaseUpdate=J:V.next=J,ue.lastBaseUpdate=F))}if(v!==null){var fe=m.baseState;C=0,ue=J=F=null,V=v;do{var ae=V.lane,Ce=V.eventTime;if((h&ae)===ae){ue!==null&&(ue=ue.next={eventTime:Ce,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Le=s,Me=V;switch(ae=o,Ce=u,Me.tag){case 1:if(Le=Me.payload,typeof Le=="function"){fe=Le.call(Ce,fe,ae);break e}fe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Me.payload,ae=typeof Le=="function"?Le.call(Ce,fe,ae):Le,ae==null)break e;fe=le({},fe,ae);break e;case 2:Ws=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,ae=m.effects,ae===null?m.effects=[V]:ae.push(V))}else Ce={eventTime:Ce,lane:ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ue===null?(J=ue=Ce,F=fe):ue=ue.next=Ce,C|=ae;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;ae=V,V=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);if(ue===null&&(F=fe),m.baseState=F,m.firstBaseUpdate=J,m.lastBaseUpdate=ue,o=m.shared.interleaved,o!==null){m=o;do C|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);na|=C,s.lanes=C,s.memoizedState=fe}}function cw(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Lu={},Ni=Bs(Lu),Mu=Bs(Lu),Vu=Bs(Lu);function ea(s){if(s===Lu)throw Error(t(174));return s}function Zp(s,o){switch(xt(Vu,o),xt(Mu,s),xt(Ni,Lu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=mt(o,s)}Mt(Ni),xt(Ni,o)}function ll(){Mt(Ni),Mt(Mu),Mt(Vu)}function dw(s){ea(Vu.current);var o=ea(Ni.current),u=mt(o,s.type);o!==u&&(xt(Mu,s),xt(Ni,u))}function em(s){Mu.current===s&&(Mt(Ni),Mt(Mu))}var zt=Bs(0);function Wd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var tm=[];function nm(){for(var s=0;s<tm.length;s++)tm[s]._workInProgressVersionPrimary=null;tm.length=0}var qd=B.ReactCurrentDispatcher,rm=B.ReactCurrentBatchConfig,ta=0,Wt=null,an=null,vn=null,Kd=!1,$u=!1,Uu=0,gk=0;function Mn(){throw Error(t(321))}function im(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ri(s[u],o[u]))return!1;return!0}function sm(s,o,u,h,m,v){if(ta=v,Wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,qd.current=s===null||s.memoizedState===null?wk:Ek,s=u(h,m),$u){v=0;do{if($u=!1,Uu=0,25<=v)throw Error(t(301));v+=1,vn=an=null,o.updateQueue=null,qd.current=Tk,s=u(h,m)}while($u)}if(qd.current=Yd,o=an!==null&&an.next!==null,ta=0,vn=an=Wt=null,Kd=!1,o)throw Error(t(300));return s}function om(){var s=Uu!==0;return Uu=0,s}function ki(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Wt.memoizedState=vn=s:vn=vn.next=s,vn}function jr(){if(an===null){var s=Wt.alternate;s=s!==null?s.memoizedState:null}else s=an.next;var o=vn===null?Wt.memoizedState:vn.next;if(o!==null)vn=o,an=s;else{if(s===null)throw Error(t(310));an=s,s={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},vn===null?Wt.memoizedState=vn=s:vn=vn.next=s}return vn}function Fu(s,o){return typeof o=="function"?o(s):o}function am(s){var o=jr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=an,m=h.baseQueue,v=u.pending;if(v!==null){if(m!==null){var C=m.next;m.next=v.next,v.next=C}h.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,h=h.baseState;var V=C=null,F=null,J=v;do{var ue=J.lane;if((ta&ue)===ue)F!==null&&(F=F.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:s(h,J.action);else{var fe={lane:ue,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};F===null?(V=F=fe,C=h):F=F.next=fe,Wt.lanes|=ue,na|=ue}J=J.next}while(J!==null&&J!==v);F===null?C=h:F.next=V,ri(h,o.memoizedState)||(ur=!0),o.memoizedState=h,o.baseState=C,o.baseQueue=F,u.lastRenderedState=h}if(s=u.interleaved,s!==null){m=s;do v=m.lane,Wt.lanes|=v,na|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function lm(s){var o=jr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var C=m=m.next;do v=s(v,C.action),C=C.next;while(C!==m);ri(v,o.memoizedState)||(ur=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function fw(){}function hw(s,o){var u=Wt,h=jr(),m=o(),v=!ri(h.memoizedState,m);if(v&&(h.memoizedState=m,ur=!0),h=h.queue,um(gw.bind(null,u,h,s),[s]),h.getSnapshot!==o||v||vn!==null&&vn.memoizedState.tag&1){if(u.flags|=2048,ju(9,mw.bind(null,u,h,m,o),void 0,null),_n===null)throw Error(t(349));(ta&30)!==0||pw(u,o,m)}return m}function pw(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function mw(s,o,u,h){o.value=u,o.getSnapshot=h,yw(o)&&vw(s)}function gw(s,o,u){return u(function(){yw(o)&&vw(s)})}function yw(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ri(s,u)}catch{return!0}}function vw(s){var o=Zi(s,1);o!==null&&li(o,s,1,-1)}function _w(s){var o=ki();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:s},o.queue=s,s=s.dispatch=_k.bind(null,Wt,s),[o.memoizedState,s]}function ju(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function ww(){return jr().memoizedState}function Gd(s,o,u,h){var m=ki();Wt.flags|=s,m.memoizedState=ju(1|o,u,void 0,h===void 0?null:h)}function Qd(s,o,u,h){var m=jr();h=h===void 0?null:h;var v=void 0;if(an!==null){var C=an.memoizedState;if(v=C.destroy,h!==null&&im(h,C.deps)){m.memoizedState=ju(o,u,v,h);return}}Wt.flags|=s,m.memoizedState=ju(1|o,u,v,h)}function Ew(s,o){return Gd(8390656,8,s,o)}function um(s,o){return Qd(2048,8,s,o)}function Tw(s,o){return Qd(4,2,s,o)}function Iw(s,o){return Qd(4,4,s,o)}function Sw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Cw(s,o,u){return u=u!=null?u.concat([s]):null,Qd(4,4,Sw.bind(null,o,s),u)}function cm(){}function Aw(s,o){var u=jr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&im(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function Rw(s,o){var u=jr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&im(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function bw(s,o,u){return(ta&21)===0?(s.baseState&&(s.baseState=!1,ur=!0),s.memoizedState=u):(ri(u,o)||(u=zo(),Wt.lanes|=u,na|=u,s.baseState=!0),o)}function yk(s,o){var u=gt;gt=u!==0&&4>u?u:4,s(!0);var h=rm.transition;rm.transition={};try{s(!1),o()}finally{gt=u,rm.transition=h}}function Nw(){return jr().memoizedState}function vk(s,o,u){var h=Ys(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},kw(s))Pw(o,u);else if(u=aw(s,o,u,h),u!==null){var m=Yn();li(u,s,h,m),Dw(u,o,h)}}function _k(s,o,u){var h=Ys(s),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(kw(s))Pw(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var C=o.lastRenderedState,V=v(C,u);if(m.hasEagerState=!0,m.eagerState=V,ri(V,C)){var F=o.interleaved;F===null?(m.next=m,Xp(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}u=aw(s,o,m,h),u!==null&&(m=Yn(),li(u,s,h,m),Dw(u,o,h))}}function kw(s){var o=s.alternate;return s===Wt||o!==null&&o===Wt}function Pw(s,o){$u=Kd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Dw(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ls(s,u)}}var Yd={readContext:Fr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},wk={readContext:Fr,useCallback:function(s,o){return ki().memoizedState=[s,o===void 0?null:o],s},useContext:Fr,useEffect:Ew,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Gd(4194308,4,Sw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Gd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Gd(4,2,s,o)},useMemo:function(s,o){var u=ki();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=ki();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=vk.bind(null,Wt,s),[h.memoizedState,s]},useRef:function(s){var o=ki();return s={current:s},o.memoizedState=s},useState:_w,useDebugValue:cm,useDeferredValue:function(s){return ki().memoizedState=s},useTransition:function(){var s=_w(!1),o=s[0];return s=yk.bind(null,s[1]),ki().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=Wt,m=ki();if($t){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),_n===null)throw Error(t(349));(ta&30)!==0||pw(h,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Ew(gw.bind(null,h,v,s),[s]),h.flags|=2048,ju(9,mw.bind(null,h,v,u,o),void 0,null),u},useId:function(){var s=ki(),o=_n.identifierPrefix;if($t){var u=Ji,h=Xi;u=(h&~(1<<32-ft(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=Uu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=gk++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Ek={readContext:Fr,useCallback:Aw,useContext:Fr,useEffect:um,useImperativeHandle:Cw,useInsertionEffect:Tw,useLayoutEffect:Iw,useMemo:Rw,useReducer:am,useRef:ww,useState:function(){return am(Fu)},useDebugValue:cm,useDeferredValue:function(s){var o=jr();return bw(o,an.memoizedState,s)},useTransition:function(){var s=am(Fu)[0],o=jr().memoizedState;return[s,o]},useMutableSource:fw,useSyncExternalStore:hw,useId:Nw,unstable_isNewReconciler:!1},Tk={readContext:Fr,useCallback:Aw,useContext:Fr,useEffect:um,useImperativeHandle:Cw,useInsertionEffect:Tw,useLayoutEffect:Iw,useMemo:Rw,useReducer:lm,useRef:ww,useState:function(){return lm(Fu)},useDebugValue:cm,useDeferredValue:function(s){var o=jr();return an===null?o.memoizedState=s:bw(o,an.memoizedState,s)},useTransition:function(){var s=lm(Fu)[0],o=jr().memoizedState;return[s,o]},useMutableSource:fw,useSyncExternalStore:hw,useId:Nw,unstable_isNewReconciler:!1};function si(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function dm(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Xd={isMounted:function(s){return(s=s._reactInternals)?De(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Yn(),m=Ys(s),v=es(h,m);v.payload=o,u!=null&&(v.callback=u),o=qs(s,v,m),o!==null&&(li(o,s,m,h),Hd(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Yn(),m=Ys(s),v=es(h,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=qs(s,v,m),o!==null&&(li(o,s,m,h),Hd(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Yn(),h=Ys(s),m=es(u,h);m.tag=2,o!=null&&(m.callback=o),o=qs(s,m,h),o!==null&&(li(o,s,h,u),Hd(o,s,h))}};function Ow(s,o,u,h,m,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,C):o.prototype&&o.prototype.isPureReactComponent?!Ru(u,h)||!Ru(m,v):!0}function xw(s,o,u){var h=!1,m=Hs,v=o.contextType;return typeof v=="object"&&v!==null?v=Fr(v):(m=lr(o)?Yo:Ln.current,h=o.contextTypes,v=(h=h!=null)?tl(s,m):Hs),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Xd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function Lw(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Xd.enqueueReplaceState(o,o.state,null)}function fm(s,o,u,h){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Jp(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Fr(v):(v=lr(o)?Yo:Ln.current,m.context=tl(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(dm(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Xd.enqueueReplaceState(m,m.state,null),zd(s,u,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ul(s,o){try{var u="",h=o;do u+=Ie(h),h=h.return;while(h);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function hm(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function pm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Ik=typeof WeakMap=="function"?WeakMap:Map;function Mw(s,o,u){u=es(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){sf||(sf=!0,Nm=h),pm(s,o)},u}function Vw(s,o,u){u=es(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){pm(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){pm(s,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),u}function $w(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new Ik;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),s=Vk.bind(null,s,o,u),o.then(s,s))}function Uw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Fw(s,o,u,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=es(-1,1),o.tag=2,qs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var Sk=B.ReactCurrentOwner,ur=!1;function Qn(s,o,u,h){o.child=s===null?ow(o,null,u,h):sl(o,s.child,u,h)}function jw(s,o,u,h,m){u=u.render;var v=o.ref;return al(o,m),h=sm(s,o,u,h,v,m),u=om(),s!==null&&!ur?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ts(s,o,m)):($t&&u&&Bp(o),o.flags|=1,Qn(s,o,h,m),o.child)}function Bw(s,o,u,h,m){if(s===null){var v=u.type;return typeof v=="function"&&!Mm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Hw(s,o,v,h,m)):(s=df(u.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var C=v.memoizedProps;if(u=u.compare,u=u!==null?u:Ru,u(C,h)&&s.ref===o.ref)return ts(s,o,m)}return o.flags|=1,s=Js(v,h),s.ref=o.ref,s.return=o,o.child=s}function Hw(s,o,u,h,m){if(s!==null){var v=s.memoizedProps;if(Ru(v,h)&&s.ref===o.ref)if(ur=!1,o.pendingProps=h=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(ur=!0);else return o.lanes=s.lanes,ts(s,o,m)}return mm(s,o,u,h,m)}function zw(s,o,u){var h=o.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(dl,Ar),Ar|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,xt(dl,Ar),Ar|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,xt(dl,Ar),Ar|=h}else v!==null?(h=v.baseLanes|u,o.memoizedState=null):h=u,xt(dl,Ar),Ar|=h;return Qn(s,o,m,u),o.child}function Ww(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function mm(s,o,u,h,m){var v=lr(u)?Yo:Ln.current;return v=tl(o,v),al(o,m),u=sm(s,o,u,h,v,m),h=om(),s!==null&&!ur?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ts(s,o,m)):($t&&h&&Bp(o),o.flags|=1,Qn(s,o,u,m),o.child)}function qw(s,o,u,h,m){if(lr(u)){var v=!0;Ld(o)}else v=!1;if(al(o,m),o.stateNode===null)Zd(s,o),xw(o,u,h),fm(o,u,h,m),h=!0;else if(s===null){var C=o.stateNode,V=o.memoizedProps;C.props=V;var F=C.context,J=u.contextType;typeof J=="object"&&J!==null?J=Fr(J):(J=lr(u)?Yo:Ln.current,J=tl(o,J));var ue=u.getDerivedStateFromProps,fe=typeof ue=="function"||typeof C.getSnapshotBeforeUpdate=="function";fe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==h||F!==J)&&Lw(o,C,h,J),Ws=!1;var ae=o.memoizedState;C.state=ae,zd(o,h,C,m),F=o.memoizedState,V!==h||ae!==F||ar.current||Ws?(typeof ue=="function"&&(dm(o,u,ue,h),F=o.memoizedState),(V=Ws||Ow(o,u,V,h,ae,F,J))?(fe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=F),C.props=h,C.state=F,C.context=J,h=V):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{C=o.stateNode,lw(s,o),V=o.memoizedProps,J=o.type===o.elementType?V:si(o.type,V),C.props=J,fe=o.pendingProps,ae=C.context,F=u.contextType,typeof F=="object"&&F!==null?F=Fr(F):(F=lr(u)?Yo:Ln.current,F=tl(o,F));var Ce=u.getDerivedStateFromProps;(ue=typeof Ce=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==fe||ae!==F)&&Lw(o,C,h,F),Ws=!1,ae=o.memoizedState,C.state=ae,zd(o,h,C,m);var Le=o.memoizedState;V!==fe||ae!==Le||ar.current||Ws?(typeof Ce=="function"&&(dm(o,u,Ce,h),Le=o.memoizedState),(J=Ws||Ow(o,u,J,h,ae,Le,F)||!1)?(ue||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(h,Le,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(h,Le,F)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||V===s.memoizedProps&&ae===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ae===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Le),C.props=h,C.state=Le,C.context=F,h=J):(typeof C.componentDidUpdate!="function"||V===s.memoizedProps&&ae===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ae===s.memoizedState||(o.flags|=1024),h=!1)}return gm(s,o,u,h,v,m)}function gm(s,o,u,h,m,v){Ww(s,o);var C=(o.flags&128)!==0;if(!h&&!C)return m&&X_(o,u,!1),ts(s,o,v);h=o.stateNode,Sk.current=o;var V=C&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&C?(o.child=sl(o,s.child,null,v),o.child=sl(o,null,V,v)):Qn(s,o,V,v),o.memoizedState=h.state,m&&X_(o,u,!0),o.child}function Kw(s){var o=s.stateNode;o.pendingContext?Q_(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Q_(s,o.context,!1),Zp(s,o.containerInfo)}function Gw(s,o,u,h,m){return il(),qp(m),o.flags|=256,Qn(s,o,u,h),o.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Qw(s,o,u){var h=o.pendingProps,m=zt.current,v=!1,C=(o.flags&128)!==0,V;if((V=C)||(V=s!==null&&s.memoizedState===null?!1:(m&2)!==0),V?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),xt(zt,m&1),s===null)return Wp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=h.children,s=h.fallback,v?(h=o.mode,v=o.child,C={mode:"hidden",children:C},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=C):v=ff(C,h,0,null),s=oa(s,h,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=vm(u),o.memoizedState=ym,s):_m(o,C));if(m=s.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return Ck(s,o,C,h,V,m,u);if(v){v=h.fallback,C=o.mode,m=s.child,V=m.sibling;var F={mode:"hidden",children:h.children};return(C&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=F,o.deletions=null):(h=Js(m,F),h.subtreeFlags=m.subtreeFlags&14680064),V!==null?v=Js(V,v):(v=oa(v,C,u,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,C=s.child.memoizedState,C=C===null?vm(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},v.memoizedState=C,v.childLanes=s.childLanes&~u,o.memoizedState=ym,h}return v=s.child,s=v.sibling,h=Js(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function _m(s,o){return o=ff({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Jd(s,o,u,h){return h!==null&&qp(h),sl(o,s.child,null,u),s=_m(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Ck(s,o,u,h,m,v,C){if(u)return o.flags&256?(o.flags&=-257,h=hm(Error(t(422))),Jd(s,o,C,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=ff({mode:"visible",children:h.children},m,0,null),v=oa(v,m,C,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&sl(o,s.child,null,C),o.child.memoizedState=vm(C),o.memoizedState=ym,v);if((o.mode&1)===0)return Jd(s,o,C,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var V=h.dgst;return h=V,v=Error(t(419)),h=hm(v,h,void 0),Jd(s,o,C,h)}if(V=(C&s.childLanes)!==0,ur||V){if(h=_n,h!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|C))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Zi(s,m),li(h,s,m,-1))}return Lm(),h=hm(Error(t(421))),Jd(s,o,C,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=$k.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,Cr=js(m.nextSibling),Sr=o,$t=!0,ii=null,s!==null&&($r[Ur++]=Xi,$r[Ur++]=Ji,$r[Ur++]=Xo,Xi=s.id,Ji=s.overflow,Xo=o),o=_m(o,h.children),o.flags|=4096,o)}function Yw(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Yp(s.return,o,u)}function wm(s,o,u,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=m)}function Xw(s,o,u){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(Qn(s,o,h.children,u),h=zt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Yw(s,u,o);else if(s.tag===19)Yw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(xt(zt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Wd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),wm(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Wd(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}wm(o,!0,u,null,v);break;case"together":wm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Zd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ts(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),na|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=Js(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Js(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Ak(s,o,u){switch(o.tag){case 3:Kw(o),il();break;case 5:dw(o);break;case 1:lr(o.type)&&Ld(o);break;case 4:Zp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;xt(jd,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(xt(zt,zt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Qw(s,o,u):(xt(zt,zt.current&1),s=ts(s,o,u),s!==null?s.sibling:null);xt(zt,zt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Xw(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(zt,zt.current),h)break;return null;case 22:case 23:return o.lanes=0,zw(s,o,u)}return ts(s,o,u)}var Jw,Em,Zw,eE;Jw=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Em=function(){},Zw=function(s,o,u,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,ea(Ni.current);var v=null;switch(u){case"input":m=Kt(s,m),h=Kt(s,h),v=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),v=[];break;case"textarea":m=tr(s,m),h=tr(s,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Dd)}gi(u,h);var C;u=null;for(J in m)if(!h.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var V=m[J];for(C in V)V.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?v||(v=[]):(v=v||[]).push(J,null));for(J in h){var F=h[J];if(V=m!=null?m[J]:void 0,h.hasOwnProperty(J)&&F!==V&&(F!=null||V!=null))if(J==="style")if(V){for(C in V)!V.hasOwnProperty(C)||F&&F.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in F)F.hasOwnProperty(C)&&V[C]!==F[C]&&(u||(u={}),u[C]=F[C])}else u||(v||(v=[]),v.push(J,u)),u=F;else J==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(v=v||[]).push(J,F)):J==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(J,""+F):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(F!=null&&J==="onScroll"&&Lt("scroll",s),v||V===F||(v=[])):(v=v||[]).push(J,F))}u&&(v=v||[]).push("style",u);var J=v;(o.updateQueue=J)&&(o.flags|=4)}},eE=function(s,o,u,h){u!==h&&(o.flags|=4)};function Bu(s,o){if(!$t)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Vn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function Rk(s,o,u){var h=o.pendingProps;switch(Hp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(o),null;case 1:return lr(o.type)&&xd(),Vn(o),null;case 3:return h=o.stateNode,ll(),Mt(ar),Mt(Ln),nm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Ud(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ii!==null&&(Dm(ii),ii=null))),Em(s,o),Vn(o),null;case 5:em(o);var m=ea(Vu.current);if(u=o.type,s!==null&&o.stateNode!=null)Zw(s,o,u,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Vn(o),null}if(s=ea(Ni.current),Ud(o)){h=o.stateNode,u=o.type;var v=o.memoizedProps;switch(h[bi]=o,h[Du]=v,s=(o.mode&1)!==0,u){case"dialog":Lt("cancel",h),Lt("close",h);break;case"iframe":case"object":case"embed":Lt("load",h);break;case"video":case"audio":for(m=0;m<Nu.length;m++)Lt(Nu[m],h);break;case"source":Lt("error",h);break;case"img":case"image":case"link":Lt("error",h),Lt("load",h);break;case"details":Lt("toggle",h);break;case"input":rt(h,v),Lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Lt("invalid",h);break;case"textarea":Dn(h,v),Lt("invalid",h)}gi(u,v),m=null;for(var C in v)if(v.hasOwnProperty(C)){var V=v[C];C==="children"?typeof V=="string"?h.textContent!==V&&(v.suppressHydrationWarning!==!0&&Pd(h.textContent,V,s),m=["children",V]):typeof V=="number"&&h.textContent!==""+V&&(v.suppressHydrationWarning!==!0&&Pd(h.textContent,V,s),m=["children",""+V]):i.hasOwnProperty(C)&&V!=null&&C==="onScroll"&&Lt("scroll",h)}switch(u){case"input":St(h),Or(h,v,!0);break;case"textarea":St(h),sn(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Dd)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$e(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=C.createElement(u,{is:h.is}):(s=C.createElement(u),u==="select"&&(C=s,h.multiple?C.multiple=!0:h.size&&(C.size=h.size))):s=C.createElementNS(s,u),s[bi]=o,s[Du]=h,Jw(s,o,!1,!1),o.stateNode=s;e:{switch(C=Uo(u,h),u){case"dialog":Lt("cancel",s),Lt("close",s),m=h;break;case"iframe":case"object":case"embed":Lt("load",s),m=h;break;case"video":case"audio":for(m=0;m<Nu.length;m++)Lt(Nu[m],s);m=h;break;case"source":Lt("error",s),m=h;break;case"img":case"image":case"link":Lt("error",s),Lt("load",s),m=h;break;case"details":Lt("toggle",s),m=h;break;case"input":rt(s,h),m=Kt(s,h),Lt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Lt("invalid",s);break;case"textarea":Dn(s,h),m=tr(s,h),Lt("invalid",s);break;default:m=h}gi(u,m),V=m;for(v in V)if(V.hasOwnProperty(v)){var F=V[v];v==="style"?gn(s,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&mn(s,F)):v==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&qn(s,F):typeof F=="number"&&qn(s,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?F!=null&&v==="onScroll"&&Lt("scroll",s):F!=null&&j(s,v,F,C))}switch(u){case"input":St(s),Or(s,h,!1);break;case"textarea":St(s),sn(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Fe(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?Jt(s,!!h.multiple,v,!1):h.defaultValue!=null&&Jt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Dd)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vn(o),null;case 6:if(s&&o.stateNode!=null)eE(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=ea(Vu.current),ea(Ni.current),Ud(o)){if(h=o.stateNode,u=o.memoizedProps,h[bi]=o,(v=h.nodeValue!==u)&&(s=Sr,s!==null))switch(s.tag){case 3:Pd(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pd(h.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[bi]=o,o.stateNode=h}return Vn(o),null;case 13:if(Mt(zt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($t&&Cr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)rw(),il(),o.flags|=98560,v=!1;else if(v=Ud(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[bi]=o}else il(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vn(o),v=!1}else ii!==null&&(Dm(ii),ii=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(zt.current&1)!==0?ln===0&&(ln=3):Lm())),o.updateQueue!==null&&(o.flags|=4),Vn(o),null);case 4:return ll(),Em(s,o),s===null&&ku(o.stateNode.containerInfo),Vn(o),null;case 10:return Qp(o.type._context),Vn(o),null;case 17:return lr(o.type)&&xd(),Vn(o),null;case 19:if(Mt(zt),v=o.memoizedState,v===null)return Vn(o),null;if(h=(o.flags&128)!==0,C=v.rendering,C===null)if(h)Bu(v,!1);else{if(ln!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=Wd(s),C!==null){for(o.flags|=128,Bu(v,!1),h=C.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)v=u,s=h,v.flags&=14680066,C=v.alternate,C===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,s=C.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return xt(zt,zt.current&1|2),o.child}s=s.sibling}v.tail!==null&&ct()>fl&&(o.flags|=128,h=!0,Bu(v,!1),o.lanes=4194304)}else{if(!h)if(s=Wd(C),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Bu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!$t)return Vn(o),null}else 2*ct()-v.renderingStartTime>fl&&u!==1073741824&&(o.flags|=128,h=!0,Bu(v,!1),o.lanes=4194304);v.isBackwards?(C.sibling=o.child,o.child=C):(u=v.last,u!==null?u.sibling=C:o.child=C,v.last=C)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=zt.current,xt(zt,h?u&1|2:u&1),o):(Vn(o),null);case 22:case 23:return xm(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Ar&1073741824)!==0&&(Vn(o),o.subtreeFlags&6&&(o.flags|=8192)):Vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function bk(s,o){switch(Hp(o),o.tag){case 1:return lr(o.type)&&xd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ll(),Mt(ar),Mt(Ln),nm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return em(o),null;case 13:if(Mt(zt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));il()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Mt(zt),null;case 4:return ll(),null;case 10:return Qp(o.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var ef=!1,$n=!1,Nk=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function cl(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Qt(s,o,h)}else u.current=null}function Tm(s,o,u){try{u()}catch(h){Qt(s,o,h)}}var tE=!1;function kk(s,o){if(xp=$s,s=O_(),Ap(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var C=0,V=-1,F=-1,J=0,ue=0,fe=s,ae=null;t:for(;;){for(var Ce;fe!==u||m!==0&&fe.nodeType!==3||(V=C+m),fe!==v||h!==0&&fe.nodeType!==3||(F=C+h),fe.nodeType===3&&(C+=fe.nodeValue.length),(Ce=fe.firstChild)!==null;)ae=fe,fe=Ce;for(;;){if(fe===s)break t;if(ae===u&&++J===m&&(V=C),ae===v&&++ue===h&&(F=C),(Ce=fe.nextSibling)!==null)break;fe=ae,ae=fe.parentNode}fe=Ce}u=V===-1||F===-1?null:{start:V,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lp={focusedElem:s,selectionRange:u},$s=!1,Oe=o;Oe!==null;)if(o=Oe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Oe=s;else for(;Oe!==null;){o=Oe;try{var Le=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Me=Le.memoizedProps,Yt=Le.memoizedState,G=o.stateNode,W=G.getSnapshotBeforeUpdate(o.elementType===o.type?Me:si(o.type,Me),Yt);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Qt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Oe=s;break}Oe=o.return}return Le=tE,tE=!1,Le}function Hu(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Tm(o,u,v)}m=m.next}while(m!==h)}}function tf(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Im(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function nE(s){var o=s.alternate;o!==null&&(s.alternate=null,nE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[bi],delete o[Du],delete o[Up],delete o[fk],delete o[hk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function rE(s){return s.tag===5||s.tag===3||s.tag===4}function iE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sm(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Dd));else if(h!==4&&(s=s.child,s!==null))for(Sm(s,o,u),s=s.sibling;s!==null;)Sm(s,o,u),s=s.sibling}function Cm(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Cm(s,o,u),s=s.sibling;s!==null;)Cm(s,o,u),s=s.sibling}var Cn=null,oi=!1;function Ks(s,o,u){for(u=u.child;u!==null;)sE(s,o,u),u=u.sibling}function sE(s,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 5:$n||cl(u,o);case 6:var h=Cn,m=oi;Cn=null,Ks(s,o,u),Cn=h,oi=m,Cn!==null&&(oi?(s=Cn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Cn.removeChild(u.stateNode));break;case 18:Cn!==null&&(oi?(s=Cn,u=u.stateNode,s.nodeType===8?$p(s.parentNode,u):s.nodeType===1&&$p(s,u),ti(s)):$p(Cn,u.stateNode));break;case 4:h=Cn,m=oi,Cn=u.stateNode.containerInfo,oi=!0,Ks(s,o,u),Cn=h,oi=m;break;case 0:case 11:case 14:case 15:if(!$n&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,C=v.destroy;v=v.tag,C!==void 0&&((v&2)!==0||(v&4)!==0)&&Tm(u,o,C),m=m.next}while(m!==h)}Ks(s,o,u);break;case 1:if(!$n&&(cl(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(V){Qt(u,o,V)}Ks(s,o,u);break;case 21:Ks(s,o,u);break;case 22:u.mode&1?($n=(h=$n)||u.memoizedState!==null,Ks(s,o,u),$n=h):Ks(s,o,u);break;default:Ks(s,o,u)}}function oE(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Nk),o.forEach(function(h){var m=Uk.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}}function ai(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var v=s,C=o,V=C;e:for(;V!==null;){switch(V.tag){case 5:Cn=V.stateNode,oi=!1;break e;case 3:Cn=V.stateNode.containerInfo,oi=!0;break e;case 4:Cn=V.stateNode.containerInfo,oi=!0;break e}V=V.return}if(Cn===null)throw Error(t(160));sE(v,C,m),Cn=null,oi=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(J){Qt(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)aE(o,s),o=o.sibling}function aE(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ai(o,s),Pi(s),h&4){try{Hu(3,s,s.return),tf(3,s)}catch(Me){Qt(s,s.return,Me)}try{Hu(5,s,s.return)}catch(Me){Qt(s,s.return,Me)}}break;case 1:ai(o,s),Pi(s),h&512&&u!==null&&cl(u,u.return);break;case 5:if(ai(o,s),Pi(s),h&512&&u!==null&&cl(u,u.return),s.flags&32){var m=s.stateNode;try{qn(m,"")}catch(Me){Qt(s,s.return,Me)}}if(h&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,C=u!==null?u.memoizedProps:v,V=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{V==="input"&&v.type==="radio"&&v.name!=null&&jt(m,v),Uo(V,C);var J=Uo(V,v);for(C=0;C<F.length;C+=2){var ue=F[C],fe=F[C+1];ue==="style"?gn(m,fe):ue==="dangerouslySetInnerHTML"?mn(m,fe):ue==="children"?qn(m,fe):j(m,ue,fe,J)}switch(V){case"input":pn(m,v);break;case"textarea":Dt(m,v);break;case"select":var ae=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?Jt(m,!!v.multiple,Ce,!1):ae!==!!v.multiple&&(v.defaultValue!=null?Jt(m,!!v.multiple,v.defaultValue,!0):Jt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Du]=v}catch(Me){Qt(s,s.return,Me)}}break;case 6:if(ai(o,s),Pi(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(Me){Qt(s,s.return,Me)}}break;case 3:if(ai(o,s),Pi(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ti(o.containerInfo)}catch(Me){Qt(s,s.return,Me)}break;case 4:ai(o,s),Pi(s);break;case 13:ai(o,s),Pi(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(bm=ct())),h&4&&oE(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?($n=(J=$n)||ue,ai(o,s),$n=J):ai(o,s),Pi(s),h&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ue&&(s.mode&1)!==0)for(Oe=s,ue=s.child;ue!==null;){for(fe=Oe=ue;Oe!==null;){switch(ae=Oe,Ce=ae.child,ae.tag){case 0:case 11:case 14:case 15:Hu(4,ae,ae.return);break;case 1:cl(ae,ae.return);var Le=ae.stateNode;if(typeof Le.componentWillUnmount=="function"){h=ae,u=ae.return;try{o=h,Le.props=o.memoizedProps,Le.state=o.memoizedState,Le.componentWillUnmount()}catch(Me){Qt(h,u,Me)}}break;case 5:cl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){cE(fe);continue}}Ce!==null?(Ce.return=ae,Oe=Ce):cE(fe)}ue=ue.sibling}e:for(ue=null,fe=s;;){if(fe.tag===5){if(ue===null){ue=fe;try{m=fe.stateNode,J?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(V=fe.stateNode,F=fe.memoizedProps.style,C=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=ot("display",C))}catch(Me){Qt(s,s.return,Me)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=J?"":fe.memoizedProps}catch(Me){Qt(s,s.return,Me)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:ai(o,s),Pi(s),h&4&&oE(s);break;case 21:break;default:ai(o,s),Pi(s)}}function Pi(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(rE(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(qn(m,""),h.flags&=-33);var v=iE(s);Cm(s,v,m);break;case 3:case 4:var C=h.stateNode.containerInfo,V=iE(s);Sm(s,V,C);break;default:throw Error(t(161))}}catch(F){Qt(s,s.return,F)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Pk(s,o,u){Oe=s,lE(s)}function lE(s,o,u){for(var h=(s.mode&1)!==0;Oe!==null;){var m=Oe,v=m.child;if(m.tag===22&&h){var C=m.memoizedState!==null||ef;if(!C){var V=m.alternate,F=V!==null&&V.memoizedState!==null||$n;V=ef;var J=$n;if(ef=C,($n=F)&&!J)for(Oe=m;Oe!==null;)C=Oe,F=C.child,C.tag===22&&C.memoizedState!==null?dE(m):F!==null?(F.return=C,Oe=F):dE(m);for(;v!==null;)Oe=v,lE(v),v=v.sibling;Oe=m,ef=V,$n=J}uE(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Oe=v):uE(s)}}function uE(s){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:$n||tf(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!$n)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:si(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&cw(o,v,h);break;case 3:var C=o.updateQueue;if(C!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}cw(o,C,u)}break;case 5:var V=o.stateNode;if(u===null&&o.flags&4){u=V;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var ue=J.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&ti(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$n||o.flags&512&&Im(o)}catch(ae){Qt(o,o.return,ae)}}if(o===s){Oe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function cE(s){for(;Oe!==null;){var o=Oe;if(o===s){Oe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function dE(s){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{tf(4,o)}catch(F){Qt(o,u,F)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(F){Qt(o,m,F)}}var v=o.return;try{Im(o)}catch(F){Qt(o,v,F)}break;case 5:var C=o.return;try{Im(o)}catch(F){Qt(o,C,F)}}}catch(F){Qt(o,o.return,F)}if(o===s){Oe=null;break}var V=o.sibling;if(V!==null){V.return=o.return,Oe=V;break}Oe=o.return}}var Dk=Math.ceil,nf=B.ReactCurrentDispatcher,Am=B.ReactCurrentOwner,Br=B.ReactCurrentBatchConfig,wt=0,_n=null,tn=null,An=0,Ar=0,dl=Bs(0),ln=0,zu=null,na=0,rf=0,Rm=0,Wu=null,cr=null,bm=0,fl=1/0,ns=null,sf=!1,Nm=null,Gs=null,of=!1,Qs=null,af=0,qu=0,km=null,lf=-1,uf=0;function Yn(){return(wt&6)!==0?ct():lf!==-1?lf:lf=ct()}function Ys(s){return(s.mode&1)===0?1:(wt&2)!==0&&An!==0?An&-An:mk.transition!==null?(uf===0&&(uf=zo()),uf):(s=gt,s!==0||(s=window.event,s=s===void 0?16:wu(s.type)),s)}function li(s,o,u,h){if(50<qu)throw qu=0,km=null,Error(t(185));xs(s,u,h),((wt&2)===0||s!==_n)&&(s===_n&&((wt&2)===0&&(rf|=u),ln===4&&Xs(s,An)),dr(s,h),u===1&&wt===0&&(o.mode&1)===0&&(fl=ct()+500,Md&&zs()))}function dr(s,o){var u=s.callbackNode;zi(s,o);var h=Ho(s,s===_n?An:0);if(h===0)u!==null&&xr(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&xr(u),o===1)s.tag===0?pk(hE.bind(null,s)):J_(hE.bind(null,s)),ck(function(){(wt&6)===0&&zs()}),u=null;else{switch(Ms(h)){case 1:u=wr;break;case 4:u=xn;break;case 16:u=Tn;break;case 536870912:u=dt;break;default:u=Tn}u=EE(u,fE.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function fE(s,o){if(lf=-1,uf=0,(wt&6)!==0)throw Error(t(327));var u=s.callbackNode;if(hl()&&s.callbackNode!==u)return null;var h=Ho(s,s===_n?An:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=cf(s,h);else{o=h;var m=wt;wt|=2;var v=mE();(_n!==s||An!==o)&&(ns=null,fl=ct()+500,ia(s,o));do try{Lk();break}catch(V){pE(s,V)}while(!0);Gp(),nf.current=v,wt=m,tn!==null?o=0:(_n=null,An=0,o=ln)}if(o!==0){if(o===2&&(m=Er(s),m!==0&&(h=m,o=Pm(s,m))),o===1)throw u=zu,ia(s,0),Xs(s,h),dr(s,ct()),u;if(o===6)Xs(s,h);else{if(m=s.current.alternate,(h&30)===0&&!Ok(m)&&(o=cf(s,h),o===2&&(v=Er(s),v!==0&&(h=v,o=Pm(s,v))),o===1))throw u=zu,ia(s,0),Xs(s,h),dr(s,ct()),u;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:sa(s,cr,ns);break;case 3:if(Xs(s,h),(h&130023424)===h&&(o=bm+500-ct(),10<o)){if(Ho(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Yn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Vp(sa.bind(null,s,cr,ns),o);break}sa(s,cr,ns);break;case 4:if(Xs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var C=31-ft(h);v=1<<C,C=o[C],C>m&&(m=C),h&=~v}if(h=m,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Dk(h/1960))-h,10<h){s.timeoutHandle=Vp(sa.bind(null,s,cr,ns),h);break}sa(s,cr,ns);break;case 5:sa(s,cr,ns);break;default:throw Error(t(329))}}}return dr(s,ct()),s.callbackNode===u?fE.bind(null,s):null}function Pm(s,o){var u=Wu;return s.current.memoizedState.isDehydrated&&(ia(s,o).flags|=256),s=cf(s,o),s!==2&&(o=cr,cr=u,o!==null&&Dm(o)),s}function Dm(s){cr===null?cr=s:cr.push.apply(cr,s)}function Ok(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],v=m.getSnapshot;m=m.value;try{if(!ri(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Xs(s,o){for(o&=~Rm,o&=~rf,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ft(o),h=1<<u;s[u]=-1,o&=~h}}function hE(s){if((wt&6)!==0)throw Error(t(327));hl();var o=Ho(s,0);if((o&1)===0)return dr(s,ct()),null;var u=cf(s,o);if(s.tag!==0&&u===2){var h=Er(s);h!==0&&(o=h,u=Pm(s,h))}if(u===1)throw u=zu,ia(s,0),Xs(s,o),dr(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,sa(s,cr,ns),dr(s,ct()),null}function Om(s,o){var u=wt;wt|=1;try{return s(o)}finally{wt=u,wt===0&&(fl=ct()+500,Md&&zs())}}function ra(s){Qs!==null&&Qs.tag===0&&(wt&6)===0&&hl();var o=wt;wt|=1;var u=Br.transition,h=gt;try{if(Br.transition=null,gt=1,s)return s()}finally{gt=h,Br.transition=u,wt=o,(wt&6)===0&&zs()}}function xm(){Ar=dl.current,Mt(dl)}function ia(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,uk(u)),tn!==null)for(u=tn.return;u!==null;){var h=u;switch(Hp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&xd();break;case 3:ll(),Mt(ar),Mt(Ln),nm();break;case 5:em(h);break;case 4:ll();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Qp(h.type._context);break;case 22:case 23:xm()}u=u.return}if(_n=s,tn=s=Js(s.current,null),An=Ar=o,ln=0,zu=null,Rm=rf=na=0,cr=Wu=null,Zo!==null){for(o=0;o<Zo.length;o++)if(u=Zo[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,v=u.pending;if(v!==null){var C=v.next;v.next=m,h.next=C}u.pending=h}Zo=null}return s}function pE(s,o){do{var u=tn;try{if(Gp(),qd.current=Yd,Kd){for(var h=Wt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Kd=!1}if(ta=0,vn=an=Wt=null,$u=!1,Uu=0,Am.current=null,u===null||u.return===null){ln=1,zu=o,tn=null;break}e:{var v=s,C=u.return,V=u,F=o;if(o=An,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var J=F,ue=V,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var ae=ue.alternate;ae?(ue.updateQueue=ae.updateQueue,ue.memoizedState=ae.memoizedState,ue.lanes=ae.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Ce=Uw(C);if(Ce!==null){Ce.flags&=-257,Fw(Ce,C,V,v,o),Ce.mode&1&&$w(v,J,o),o=Ce,F=J;var Le=o.updateQueue;if(Le===null){var Me=new Set;Me.add(F),o.updateQueue=Me}else Le.add(F);break e}else{if((o&1)===0){$w(v,J,o),Lm();break e}F=Error(t(426))}}else if($t&&V.mode&1){var Yt=Uw(C);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Fw(Yt,C,V,v,o),qp(ul(F,V));break e}}v=F=ul(F,V),ln!==4&&(ln=2),Wu===null?Wu=[v]:Wu.push(v),v=C;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var G=Mw(v,F,o);uw(v,G);break e;case 1:V=F;var W=v.type,Q=v.stateNode;if((v.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Gs===null||!Gs.has(Q)))){v.flags|=65536,o&=-o,v.lanes|=o;var he=Vw(v,V,o);uw(v,he);break e}}v=v.return}while(v!==null)}yE(u)}catch(Ve){o=Ve,tn===u&&u!==null&&(tn=u=u.return);continue}break}while(!0)}function mE(){var s=nf.current;return nf.current=Yd,s===null?Yd:s}function Lm(){(ln===0||ln===3||ln===2)&&(ln=4),_n===null||(na&268435455)===0&&(rf&268435455)===0||Xs(_n,An)}function cf(s,o){var u=wt;wt|=2;var h=mE();(_n!==s||An!==o)&&(ns=null,ia(s,o));do try{xk();break}catch(m){pE(s,m)}while(!0);if(Gp(),wt=u,nf.current=h,tn!==null)throw Error(t(261));return _n=null,An=0,ln}function xk(){for(;tn!==null;)gE(tn)}function Lk(){for(;tn!==null&&!wi();)gE(tn)}function gE(s){var o=wE(s.alternate,s,Ar);s.memoizedProps=s.pendingProps,o===null?yE(s):tn=o,Am.current=null}function yE(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=Rk(u,o,Ar),u!==null){tn=u;return}}else{if(u=bk(u,o),u!==null){u.flags&=32767,tn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ln=6,tn=null;return}}if(o=o.sibling,o!==null){tn=o;return}tn=o=s}while(o!==null);ln===0&&(ln=5)}function sa(s,o,u){var h=gt,m=Br.transition;try{Br.transition=null,gt=1,Mk(s,o,u,h)}finally{Br.transition=m,gt=h}return null}function Mk(s,o,u,h){do hl();while(Qs!==null);if((wt&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Pt(s,v),s===_n&&(tn=_n=null,An=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||of||(of=!0,EE(Tn,function(){return hl(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Br.transition,Br.transition=null;var C=gt;gt=1;var V=wt;wt|=4,Am.current=null,kk(s,u),aE(u,s),nk(Lp),$s=!!xp,Lp=xp=null,s.current=u,Pk(u),_r(),wt=V,gt=C,Br.transition=v}else s.current=u;if(of&&(of=!1,Qs=s,af=m),v=s.pendingLanes,v===0&&(Gs=null),Ti(u.stateNode),dr(s,ct()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(sf)throw sf=!1,s=Nm,Nm=null,s;return(af&1)!==0&&s.tag!==0&&hl(),v=s.pendingLanes,(v&1)!==0?s===km?qu++:(qu=0,km=s):qu=0,zs(),null}function hl(){if(Qs!==null){var s=Ms(af),o=Br.transition,u=gt;try{if(Br.transition=null,gt=16>s?16:s,Qs===null)var h=!1;else{if(s=Qs,Qs=null,af=0,(wt&6)!==0)throw Error(t(331));var m=wt;for(wt|=4,Oe=s.current;Oe!==null;){var v=Oe,C=v.child;if((Oe.flags&16)!==0){var V=v.deletions;if(V!==null){for(var F=0;F<V.length;F++){var J=V[F];for(Oe=J;Oe!==null;){var ue=Oe;switch(ue.tag){case 0:case 11:case 15:Hu(8,ue,v)}var fe=ue.child;if(fe!==null)fe.return=ue,Oe=fe;else for(;Oe!==null;){ue=Oe;var ae=ue.sibling,Ce=ue.return;if(nE(ue),ue===J){Oe=null;break}if(ae!==null){ae.return=Ce,Oe=ae;break}Oe=Ce}}}var Le=v.alternate;if(Le!==null){var Me=Le.child;if(Me!==null){Le.child=null;do{var Yt=Me.sibling;Me.sibling=null,Me=Yt}while(Me!==null)}}Oe=v}}if((v.subtreeFlags&2064)!==0&&C!==null)C.return=v,Oe=C;else e:for(;Oe!==null;){if(v=Oe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Hu(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,Oe=G;break e}Oe=v.return}}var W=s.current;for(Oe=W;Oe!==null;){C=Oe;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,Oe=Q;else e:for(C=W;Oe!==null;){if(V=Oe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:tf(9,V)}}catch(Ve){Qt(V,V.return,Ve)}if(V===C){Oe=null;break e}var he=V.sibling;if(he!==null){he.return=V.return,Oe=he;break e}Oe=V.return}}if(wt=m,zs(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ct,s)}catch{}h=!0}return h}finally{gt=u,Br.transition=o}}return!1}function vE(s,o,u){o=ul(u,o),o=Mw(s,o,1),s=qs(s,o,1),o=Yn(),s!==null&&(xs(s,1,o),dr(s,o))}function Qt(s,o,u){if(s.tag===3)vE(s,s,u);else for(;o!==null;){if(o.tag===3){vE(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gs===null||!Gs.has(h))){s=ul(u,s),s=Vw(o,s,1),o=qs(o,s,1),s=Yn(),o!==null&&(xs(o,1,s),dr(o,s));break}}o=o.return}}function Vk(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=Yn(),s.pingedLanes|=s.suspendedLanes&u,_n===s&&(An&u)===u&&(ln===4||ln===3&&(An&130023424)===An&&500>ct()-bm?ia(s,0):Rm|=u),dr(s,o)}function _E(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ma,Ma<<=1,(Ma&130023424)===0&&(Ma=4194304)));var u=Yn();s=Zi(s,o),s!==null&&(xs(s,o,u),dr(s,u))}function $k(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),_E(s,u)}function Uk(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),_E(s,u)}var wE;wE=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||ar.current)ur=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return ur=!1,Ak(s,o,u);ur=(s.flags&131072)!==0}else ur=!1,$t&&(o.flags&1048576)!==0&&Z_(o,$d,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Zd(s,o),s=o.pendingProps;var m=tl(o,Ln.current);al(o,u),m=sm(null,o,h,s,m,u);var v=om();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,lr(h)?(v=!0,Ld(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Jp(o),m.updater=Xd,o.stateNode=m,m._reactInternals=o,fm(o,h,s,u),o=gm(null,o,h,!0,v,u)):(o.tag=0,$t&&v&&Bp(o),Qn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Zd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=jk(h),s=si(h,s),m){case 0:o=mm(null,o,h,s,u);break e;case 1:o=qw(null,o,h,s,u);break e;case 11:o=jw(null,o,h,s,u);break e;case 14:o=Bw(null,o,h,si(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:si(h,m),mm(s,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:si(h,m),qw(s,o,h,m,u);case 3:e:{if(Kw(o),s===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,m=v.element,lw(s,o),zd(o,h,null,u);var C=o.memoizedState;if(h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ul(Error(t(423)),o),o=Gw(s,o,h,u,m);break e}else if(h!==m){m=ul(Error(t(424)),o),o=Gw(s,o,h,u,m);break e}else for(Cr=js(o.stateNode.containerInfo.firstChild),Sr=o,$t=!0,ii=null,u=ow(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(il(),h===m){o=ts(s,o,u);break e}Qn(s,o,h,u)}o=o.child}return o;case 5:return dw(o),s===null&&Wp(o),h=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,C=m.children,Mp(h,m)?C=null:v!==null&&Mp(h,v)&&(o.flags|=32),Ww(s,o),Qn(s,o,C,u),o.child;case 6:return s===null&&Wp(o),null;case 13:return Qw(s,o,u);case 4:return Zp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=sl(o,null,h,u):Qn(s,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:si(h,m),jw(s,o,h,m,u);case 7:return Qn(s,o,o.pendingProps,u),o.child;case 8:return Qn(s,o,o.pendingProps.children,u),o.child;case 12:return Qn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,C=m.value,xt(jd,h._currentValue),h._currentValue=C,v!==null)if(ri(v.value,C)){if(v.children===m.children&&!ar.current){o=ts(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var V=v.dependencies;if(V!==null){C=v.child;for(var F=V.firstContext;F!==null;){if(F.context===h){if(v.tag===1){F=es(-1,u&-u),F.tag=2;var J=v.updateQueue;if(J!==null){J=J.shared;var ue=J.pending;ue===null?F.next=F:(F.next=ue.next,ue.next=F),J.pending=F}}v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),Yp(v.return,u,o),V.lanes|=u;break}F=F.next}}else if(v.tag===10)C=v.type===o.type?null:v.child;else if(v.tag===18){if(C=v.return,C===null)throw Error(t(341));C.lanes|=u,V=C.alternate,V!==null&&(V.lanes|=u),Yp(C,u,o),C=v.sibling}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===o){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}Qn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,al(o,u),m=Fr(m),h=h(m),o.flags|=1,Qn(s,o,h,u),o.child;case 14:return h=o.type,m=si(h,o.pendingProps),m=si(h.type,m),Bw(s,o,h,m,u);case 15:return Hw(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:si(h,m),Zd(s,o),o.tag=1,lr(h)?(s=!0,Ld(o)):s=!1,al(o,u),xw(o,h,m),fm(o,h,m,u),gm(null,o,h,!0,s,u);case 19:return Xw(s,o,u);case 22:return zw(s,o,u)}throw Error(t(156,o.tag))};function EE(s,o){return Rt(s,o)}function Fk(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(s,o,u,h){return new Fk(s,o,u,h)}function Mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jk(s){if(typeof s=="function")return Mm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===xe)return 14}return 2}function Js(s,o){var u=s.alternate;return u===null?(u=Hr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function df(s,o,u,h,m,v){var C=2;if(h=s,typeof s=="function")Mm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case S:return oa(u.children,m,v,o);case R:C=8,m|=8;break;case D:return s=Hr(12,u,o,m|2),s.elementType=D,s.lanes=v,s;case O:return s=Hr(13,u,o,m),s.elementType=O,s.lanes=v,s;case Ee:return s=Hr(19,u,o,m),s.elementType=Ee,s.lanes=v,s;case Ne:return ff(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:C=10;break e;case L:C=9;break e;case $:C=11;break e;case xe:C=14;break e;case Be:C=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Hr(C,u,o,m),o.elementType=s,o.type=h,o.lanes=v,o}function oa(s,o,u,h){return s=Hr(7,s,h,o),s.lanes=u,s}function ff(s,o,u,h){return s=Hr(22,s,h,o),s.elementType=Ne,s.lanes=u,s.stateNode={isHidden:!1},s}function Vm(s,o,u){return s=Hr(6,s,null,o),s.lanes=u,s}function $m(s,o,u){return o=Hr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Bk(s,o,u,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Os(0),this.expirationTimes=Os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Um(s,o,u,h,m,v,C,V,F){return s=new Bk(s,o,u,V,F),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Hr(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(v),s}function Hk(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function TE(s){if(!s)return Hs;s=s._reactInternals;e:{if(De(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(lr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(lr(u))return Y_(s,u,o)}return o}function IE(s,o,u,h,m,v,C,V,F){return s=Um(u,h,!0,s,m,v,C,V,F),s.context=TE(null),u=s.current,h=Yn(),m=Ys(u),v=es(h,m),v.callback=o??null,qs(u,v,m),s.current.lanes=m,xs(s,m,h),dr(s,h),s}function hf(s,o,u,h){var m=o.current,v=Yn(),C=Ys(m);return u=TE(u),o.context===null?o.context=u:o.pendingContext=u,o=es(v,C),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=qs(m,o,C),s!==null&&(li(s,m,C,v),Hd(s,m,C)),C}function pf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function SE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Fm(s,o){SE(s,o),(s=s.alternate)&&SE(s,o)}function zk(){return null}var CE=typeof reportError=="function"?reportError:function(s){console.error(s)};function jm(s){this._internalRoot=s}mf.prototype.render=jm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));hf(s,o,null,null)},mf.prototype.unmount=jm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ra(function(){hf(null,s,null,null)}),o[Qi]=null}};function mf(s){this._internalRoot=s}mf.prototype.unstable_scheduleHydration=function(s){if(s){var o=pd();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Si.length&&o!==0&&o<Si[u].priority;u++);Si.splice(u,0,s),u===0&&yd(s)}};function Bm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function gf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function AE(){}function Wk(s,o,u,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var J=pf(C);v.call(J)}}var C=IE(o,h,s,0,null,!1,!1,"",AE);return s._reactRootContainer=C,s[Qi]=C.current,ku(s.nodeType===8?s.parentNode:s),ra(),C}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var V=h;h=function(){var J=pf(F);V.call(J)}}var F=Um(s,0,!1,null,null,!1,!1,"",AE);return s._reactRootContainer=F,s[Qi]=F.current,ku(s.nodeType===8?s.parentNode:s),ra(function(){hf(o,F,u,h)}),F}function yf(s,o,u,h,m){var v=u._reactRootContainer;if(v){var C=v;if(typeof m=="function"){var V=m;m=function(){var F=pf(C);V.call(F)}}hf(o,C,s,m)}else C=Wk(u,o,s,m,h);return pf(C)}fd=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ds(o.pendingLanes);u!==0&&(Ls(o,u|1),dr(o,ct()),(wt&6)===0&&(fl=ct()+500,zs()))}break;case 13:ra(function(){var h=Zi(s,1);if(h!==null){var m=Yn();li(h,s,1,m)}}),Fm(s,1)}},Va=function(s){if(s.tag===13){var o=Zi(s,134217728);if(o!==null){var u=Yn();li(o,s,134217728,u)}Fm(s,134217728)}},hd=function(s){if(s.tag===13){var o=Ys(s),u=Zi(s,o);if(u!==null){var h=Yn();li(u,s,o,h)}Fm(s,o)}},pd=function(){return gt},md=function(s,o){var u=gt;try{return gt=s,o()}finally{gt=u}},Hi=function(s,o,u){switch(o){case"input":if(pn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var m=Od(h);if(!m)throw Error(t(90));it(h),pn(h,m)}}}break;case"textarea":Dt(s,u);break;case"select":o=u.value,o!=null&&Jt(s,!!u.multiple,o,!1)}},vi=Om,_i=ra;var qk={usingClientEntryPoint:!1,Events:[Ou,Za,Od,vr,Fo,Om]},Ku={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kk={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tt(s),s===null?null:s.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||zk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{Ct=vf.inject(Kk),Zt=vf}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk,fr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(o))throw Error(t(200));return Hk(s,o,null,u)},fr.createRoot=function(s,o){if(!Bm(s))throw Error(t(299));var u=!1,h="",m=CE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Um(s,1,!1,null,null,u,!1,h,m),s[Qi]=o.current,ku(s.nodeType===8?s.parentNode:s),new jm(o)},fr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Tt(o),s=s===null?null:s.stateNode,s},fr.flushSync=function(s){return ra(s)},fr.hydrate=function(s,o,u){if(!gf(o))throw Error(t(200));return yf(null,s,o,!0,u)},fr.hydrateRoot=function(s,o,u){if(!Bm(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,v="",C=CE;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),o=IE(o,null,s,1,u??null,m,!1,v,C),s[Qi]=o.current,ku(s),h)for(s=0;s<h.length;s++)u=h[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new mf(o)},fr.render=function(s,o,u){if(!gf(o))throw Error(t(200));return yf(null,s,o,!1,u)},fr.unmountComponentAtNode=function(s){if(!gf(s))throw Error(t(40));return s._reactRootContainer?(ra(function(){yf(null,null,s,!1,function(){s._reactRootContainer=null,s[Qi]=null})}),!0):!1},fr.unstable_batchedUpdates=Om,fr.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!gf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return yf(s,o,u,!1,h)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var DE;function eS(){if(DE)return zm.exports;DE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zm.exports=Zk(),zm.exports}var OE;function eP(){if(OE)return _f;OE=1;var n=eS();return _f.createRoot=n.createRoot,_f.hydrateRoot=n.hydrateRoot,_f}var tP=eP(),Jn="top",kr="bottom",Pr="right",Zn="left",kh="auto",nu=[Jn,kr,Pr,Zn],ga="start",xl="end",tS="clippingParents",xy="viewport",wl="popper",nS="reference",Mg=nu.reduce(function(n,e){return n.concat([e+"-"+ga,e+"-"+xl])},[]),Ly=[].concat(nu,[kh]).reduce(function(n,e){return n.concat([e,e+"-"+ga,e+"-"+xl])},[]),rS="beforeRead",iS="read",sS="afterRead",oS="beforeMain",aS="main",lS="afterMain",uS="beforeWrite",cS="write",dS="afterWrite",fS=[rS,iS,sS,oS,aS,lS,uS,cS,dS];function Fi(n){return n?(n.nodeName||"").toLowerCase():null}function Dr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ya(n){var e=Dr(n).Element;return n instanceof e||n instanceof Element}function qr(n){var e=Dr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function My(n){if(typeof ShadowRoot>"u")return!1;var e=Dr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function nP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!qr(a)||!Fi(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function rP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=l.reduce(function(f,p){return f[p]="",f},{});!qr(i)||!Fi(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(f){i.removeAttribute(f)}))})}}const Vy={name:"applyStyles",enabled:!0,phase:"write",fn:nP,effect:rP,requires:["computeStyles"]};function Oi(n){return n.split("-")[0]}var ma=Math.max,eh=Math.min,Ll=Math.round;function Vg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function hS(){return!/^((?!chrome|android).)*safari/i.test(Vg())}function Ml(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&qr(n)&&(i=n.offsetWidth>0&&Ll(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Ll(r.height)/n.offsetHeight||1);var l=ya(n)?Dr(n):window,c=l.visualViewport,f=!hS()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/i,g=(r.top+(f&&c?c.offsetTop:0))/a,_=r.width/i,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function $y(n){var e=Ml(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function pS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&My(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ps(n){return Dr(n).getComputedStyle(n)}function iP(n){return["table","td","th"].indexOf(Fi(n))>=0}function Do(n){return((ya(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ph(n){return Fi(n)==="html"?n:n.assignedSlot||n.parentNode||(My(n)?n.host:null)||Do(n)}function xE(n){return!qr(n)||ps(n).position==="fixed"?null:n.offsetParent}function sP(n){var e=/firefox/i.test(Vg()),t=/Trident/i.test(Vg());if(t&&qr(n)){var r=ps(n);if(r.position==="fixed")return null}var i=Ph(n);for(My(i)&&(i=i.host);qr(i)&&["html","body"].indexOf(Fi(i))<0;){var a=ps(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Vc(n){for(var e=Dr(n),t=xE(n);t&&iP(t)&&ps(t).position==="static";)t=xE(t);return t&&(Fi(t)==="html"||Fi(t)==="body"&&ps(t).position==="static")?e:t||sP(n)||e}function Uy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function fc(n,e,t){return ma(n,eh(e,t))}function oP(n,e,t){var r=fc(n,e,t);return r>t?t:r}function mS(){return{top:0,right:0,bottom:0,left:0}}function gS(n){return Object.assign({},mS(),n)}function yS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var aP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,gS(typeof e!="number"?e:yS(e,nu))};function lP(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,c=Oi(t.placement),f=Uy(c),p=[Zn,Pr].indexOf(c)>=0,g=p?"height":"width";if(!(!a||!l)){var _=aP(i.padding,t),T=$y(a),A=f==="y"?Jn:Zn,N=f==="y"?kr:Pr,x=t.rects.reference[g]+t.rects.reference[f]-l[f]-t.rects.popper[g],b=l[f]-t.rects.reference[f],z=Vc(a),M=z?f==="y"?z.clientHeight||0:z.clientWidth||0:0,j=x/2-b/2,B=_[A],Z=M-T[g]-_[N],Y=M/2-T[g]/2+j,S=fc(B,Y,Z),R=f;t.modifiersData[r]=(e={},e[R]=S,e.centerOffset=S-Y,e)}}function uP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||pS(e.elements.popper,i)&&(e.elements.arrow=i))}const Fy={name:"arrow",enabled:!0,phase:"main",fn:lP,effect:uP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vl(n){return n.split("-")[1]}var cP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Ll(t*i)/i||0,y:Ll(r*i)/i||0}}function LE(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,A=T===void 0?0:T,N=l.y,x=N===void 0?0:N,b=typeof g=="function"?g({x:A,y:x}):{x:A,y:x};A=b.x,x=b.y;var z=l.hasOwnProperty("x"),M=l.hasOwnProperty("y"),j=Zn,B=Jn,Z=window;if(p){var Y=Vc(t),S="clientHeight",R="clientWidth";if(Y===Dr(t)&&(Y=Do(t),ps(Y).position!=="static"&&c==="absolute"&&(S="scrollHeight",R="scrollWidth")),Y=Y,i===Jn||(i===Zn||i===Pr)&&a===xl){B=kr;var D=_&&Y===Z&&Z.visualViewport?Z.visualViewport.height:Y[S];x-=D-r.height,x*=f?1:-1}if(i===Zn||(i===Jn||i===kr)&&a===xl){j=Pr;var k=_&&Y===Z&&Z.visualViewport?Z.visualViewport.width:Y[R];A-=k-r.width,A*=f?1:-1}}var L=Object.assign({position:c},p&&cP),$=g===!0?dP({x:A,y:x},Dr(t)):{x:A,y:x};if(A=$.x,x=$.y,f){var O;return Object.assign({},L,(O={},O[B]=M?"0":"",O[j]=z?"0":"",O.transform=(Z.devicePixelRatio||1)<=1?"translate("+A+"px, "+x+"px)":"translate3d("+A+"px, "+x+"px, 0)",O))}return Object.assign({},L,(e={},e[B]=M?x+"px":"",e[j]=z?A+"px":"",e.transform="",e))}function fP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:Oi(e.placement),variation:Vl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,LE(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,LE(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Dh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fP,data:{}};var wf={passive:!0};function hP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,f=Dr(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,wf)}),c&&f.addEventListener("resize",t.update,wf),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,wf)}),c&&f.removeEventListener("resize",t.update,wf)}}const Oh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hP,data:{}};var pP={left:"right",right:"left",bottom:"top",top:"bottom"};function Uf(n){return n.replace(/left|right|bottom|top/g,function(e){return pP[e]})}var mP={start:"end",end:"start"};function ME(n){return n.replace(/start|end/g,function(e){return mP[e]})}function jy(n){var e=Dr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function By(n){return Ml(Do(n)).left+jy(n).scrollLeft}function gP(n,e){var t=Dr(n),r=Do(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;var p=hS();(p||!p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c+By(n),y:f}}function yP(n){var e,t=Do(n),r=jy(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=ma(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ma(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+By(n),f=-r.scrollTop;return ps(i||t).direction==="rtl"&&(c+=ma(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:f}}function Hy(n){var e=ps(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function vS(n){return["html","body","#document"].indexOf(Fi(n))>=0?n.ownerDocument.body:qr(n)&&Hy(n)?n:vS(Ph(n))}function hc(n,e){var t;e===void 0&&(e=[]);var r=vS(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Dr(r),l=i?[a].concat(a.visualViewport||[],Hy(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(hc(Ph(l)))}function $g(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function vP(n,e){var t=Ml(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function VE(n,e,t){return e===xy?$g(gP(n,t)):ya(e)?vP(e,t):$g(yP(Do(n)))}function _P(n){var e=hc(Ph(n)),t=["absolute","fixed"].indexOf(ps(n).position)>=0,r=t&&qr(n)?Vc(n):n;return ya(r)?e.filter(function(i){return ya(i)&&pS(i,r)&&Fi(i)!=="body"}):[]}function wP(n,e,t,r){var i=e==="clippingParents"?_P(n):[].concat(e),a=[].concat(i,[t]),l=a[0],c=a.reduce(function(f,p){var g=VE(n,p,r);return f.top=ma(g.top,f.top),f.right=eh(g.right,f.right),f.bottom=eh(g.bottom,f.bottom),f.left=ma(g.left,f.left),f},VE(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function _S(n){var e=n.reference,t=n.element,r=n.placement,i=r?Oi(r):null,a=r?Vl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case Jn:f={x:l,y:e.y-t.height};break;case kr:f={x:l,y:e.y+e.height};break;case Pr:f={x:e.x+e.width,y:c};break;case Zn:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=i?Uy(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case ga:f[p]=f[p]-(e[g]/2-t[g]/2);break;case xl:f[p]=f[p]+(e[g]/2-t[g]/2);break}}return f}function $l(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,c=t.boundary,f=c===void 0?tS:c,p=t.rootBoundary,g=p===void 0?xy:p,_=t.elementContext,T=_===void 0?wl:_,A=t.altBoundary,N=A===void 0?!1:A,x=t.padding,b=x===void 0?0:x,z=gS(typeof b!="number"?b:yS(b,nu)),M=T===wl?nS:wl,j=n.rects.popper,B=n.elements[N?M:T],Z=wP(ya(B)?B:B.contextElement||Do(n.elements.popper),f,g,l),Y=Ml(n.elements.reference),S=_S({reference:Y,element:j,placement:i}),R=$g(Object.assign({},j,S)),D=T===wl?R:Y,k={top:Z.top-D.top+z.top,bottom:D.bottom-Z.bottom+z.bottom,left:Z.left-D.left+z.left,right:D.right-Z.right+z.right},L=n.modifiersData.offset;if(T===wl&&L){var $=L[i];Object.keys(k).forEach(function(O){var Ee=[Pr,kr].indexOf(O)>=0?1:-1,xe=[Jn,kr].indexOf(O)>=0?"y":"x";k[O]+=$[xe]*Ee})}return k}function EP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?Ly:f,g=Vl(r),_=g?c?Mg:Mg.filter(function(N){return Vl(N)===g}):nu,T=_.filter(function(N){return p.indexOf(N)>=0});T.length===0&&(T=_);var A=T.reduce(function(N,x){return N[x]=$l(n,{placement:x,boundary:i,rootBoundary:a,padding:l})[Oi(x)],N},{});return Object.keys(A).sort(function(N,x){return A[N]-A[x]})}function TP(n){if(Oi(n)===kh)return[];var e=Uf(n);return[ME(n),e,ME(e)]}function IP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,A=t.flipVariations,N=A===void 0?!0:A,x=t.allowedAutoPlacements,b=e.options.placement,z=Oi(b),M=z===b,j=f||(M||!N?[Uf(b)]:TP(b)),B=[b].concat(j).reduce(function(ve,Ie){return ve.concat(Oi(Ie)===kh?EP(e,{placement:Ie,boundary:g,rootBoundary:_,padding:p,flipVariations:N,allowedAutoPlacements:x}):Ie)},[]),Z=e.rects.reference,Y=e.rects.popper,S=new Map,R=!0,D=B[0],k=0;k<B.length;k++){var L=B[k],$=Oi(L),O=Vl(L)===ga,Ee=[Jn,kr].indexOf($)>=0,xe=Ee?"width":"height",Be=$l(e,{placement:L,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),Ne=Ee?O?Pr:Zn:O?kr:Jn;Z[xe]>Y[xe]&&(Ne=Uf(Ne));var ne=Uf(Ne),me=[];if(a&&me.push(Be[$]<=0),c&&me.push(Be[Ne]<=0,Be[ne]<=0),me.every(function(ve){return ve})){D=L,R=!1;break}S.set(L,me)}if(R)for(var le=N?3:1,H=function(Ie){var Ae=B.find(function(Ge){var Fe=S.get(Ge);if(Fe)return Fe.slice(0,Ie).every(function(st){return st})});if(Ae)return D=Ae,"break"},ee=le;ee>0;ee--){var pe=H(ee);if(pe==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}const zy={name:"flip",enabled:!0,phase:"main",fn:IP,requiresIfExists:["offset"],data:{_skip:!1}};function $E(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function UE(n){return[Jn,Pr,kr,Zn].some(function(e){return n[e]>=0})}function SP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=$l(e,{elementContext:"reference"}),c=$l(e,{altBoundary:!0}),f=$E(l,r),p=$E(c,i,a),g=UE(f),_=UE(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const Wy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SP};function CP(n,e,t){var r=Oi(n),i=[Zn,Jn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[Zn,Pr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function AP(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=Ly.reduce(function(g,_){return g[_]=CP(_,e.rects,a),g},{}),c=l[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const qy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:AP};function RP(n){var e=n.state,t=n.name;e.modifiersData[t]=_S({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const xh={name:"popperOffsets",enabled:!0,phase:"read",fn:RP,data:{}};function bP(n){return n==="x"?"y":"x"}function NP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,A=T===void 0?!0:T,N=t.tetherOffset,x=N===void 0?0:N,b=$l(e,{boundary:f,rootBoundary:p,padding:_,altBoundary:g}),z=Oi(e.placement),M=Vl(e.placement),j=!M,B=Uy(z),Z=bP(B),Y=e.modifiersData.popperOffsets,S=e.rects.reference,R=e.rects.popper,D=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,k=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(Y){if(a){var O,Ee=B==="y"?Jn:Zn,xe=B==="y"?kr:Pr,Be=B==="y"?"height":"width",Ne=Y[B],ne=Ne+b[Ee],me=Ne-b[xe],le=A?-R[Be]/2:0,H=M===ga?S[Be]:R[Be],ee=M===ga?-R[Be]:-S[Be],pe=e.elements.arrow,ve=A&&pe?$y(pe):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mS(),Ae=Ie[Ee],Ge=Ie[xe],Fe=fc(0,S[Be],ve[Be]),st=j?S[Be]/2-le-Fe-Ae-k.mainAxis:H-Fe-Ae-k.mainAxis,Et=j?-S[Be]/2+le+Fe+Ge+k.mainAxis:ee+Fe+Ge+k.mainAxis,St=e.elements.arrow&&Vc(e.elements.arrow),it=St?B==="y"?St.clientTop||0:St.clientLeft||0:0,kt=(O=L==null?void 0:L[B])!=null?O:0,Kt=Ne+st-kt-it,rt=Ne+Et-kt,jt=fc(A?eh(ne,Kt):ne,Ne,A?ma(me,rt):me);Y[B]=jt,$[B]=jt-Ne}if(c){var pn,Or=B==="x"?Jn:Zn,Wn=B==="x"?kr:Pr,Bt=Y[Z],Jt=Z==="y"?"height":"width",tr=Bt+b[Or],Dn=Bt-b[Wn],Dt=[Jn,Zn].indexOf(z)!==-1,sn=(pn=L==null?void 0:L[Z])!=null?pn:0,$e=Dt?tr:Bt-S[Jt]-R[Jt]-sn+k.altAxis,mt=Dt?Bt+S[Jt]+R[Jt]-sn-k.altAxis:Dn,Ot=A&&Dt?oP($e,Bt,mt):fc(A?$e:tr,Bt,A?mt:Dn);Y[Z]=Ot,$[Z]=Ot-Bt}e.modifiersData[r]=$}}const Ky={name:"preventOverflow",enabled:!0,phase:"main",fn:NP,requiresIfExists:["offset"]};function kP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function PP(n){return n===Dr(n)||!qr(n)?jy(n):kP(n)}function DP(n){var e=n.getBoundingClientRect(),t=Ll(e.width)/n.offsetWidth||1,r=Ll(e.height)/n.offsetHeight||1;return t!==1||r!==1}function OP(n,e,t){t===void 0&&(t=!1);var r=qr(e),i=qr(e)&&DP(e),a=Do(e),l=Ml(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Fi(e)!=="body"||Hy(a))&&(c=PP(e)),qr(e)?(f=Ml(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=By(a))),{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}function xP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function LP(n){var e=xP(n);return fS.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function MP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function VP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var FE={placement:"bottom",modifiers:[],strategy:"absolute"};function jE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $c(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?FE:i;return function(c,f,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},FE,a),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},_=[],T=!1,A={state:g,setOptions:function(z){var M=typeof z=="function"?z(g.options):z;x(),g.options=Object.assign({},a,g.options,M),g.scrollParents={reference:ya(c)?hc(c):c.contextElement?hc(c.contextElement):[],popper:hc(f)};var j=LP(VP([].concat(r,g.options.modifiers)));return g.orderedModifiers=j.filter(function(B){return B.enabled}),N(),A.update()},forceUpdate:function(){if(!T){var z=g.elements,M=z.reference,j=z.popper;if(jE(M,j)){g.rects={reference:OP(M,Vc(j),g.options.strategy==="fixed"),popper:$y(j)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(k){return g.modifiersData[k.name]=Object.assign({},k.data)});for(var B=0;B<g.orderedModifiers.length;B++){if(g.reset===!0){g.reset=!1,B=-1;continue}var Z=g.orderedModifiers[B],Y=Z.fn,S=Z.options,R=S===void 0?{}:S,D=Z.name;typeof Y=="function"&&(g=Y({state:g,options:R,name:D,instance:A})||g)}}}},update:MP(function(){return new Promise(function(b){A.forceUpdate(),b(g)})}),destroy:function(){x(),T=!0}};if(!jE(c,f))return A;A.setOptions(p).then(function(b){!T&&p.onFirstUpdate&&p.onFirstUpdate(b)});function N(){g.orderedModifiers.forEach(function(b){var z=b.name,M=b.options,j=M===void 0?{}:M,B=b.effect;if(typeof B=="function"){var Z=B({state:g,name:z,instance:A,options:j}),Y=function(){};_.push(Z||Y)}})}function x(){_.forEach(function(b){return b()}),_=[]}return A}}var $P=$c(),UP=[Oh,xh,Dh,Vy],FP=$c({defaultModifiers:UP}),jP=[Oh,xh,Dh,Vy,qy,zy,Ky,Fy,Wy],Gy=$c({defaultModifiers:jP});const wS=Object.freeze(Object.defineProperty({__proto__:null,afterMain:lS,afterRead:sS,afterWrite:dS,applyStyles:Vy,arrow:Fy,auto:kh,basePlacements:nu,beforeMain:oS,beforeRead:rS,beforeWrite:uS,bottom:kr,clippingParents:tS,computeStyles:Dh,createPopper:Gy,createPopperBase:$P,createPopperLite:FP,detectOverflow:$l,end:xl,eventListeners:Oh,flip:zy,hide:Wy,left:Zn,main:aS,modifierPhases:fS,offset:qy,placements:Ly,popper:wl,popperGenerator:$c,popperOffsets:xh,preventOverflow:Ky,read:iS,reference:nS,right:Pr,start:ga,top:Jn,variationPlacements:Mg,viewport:xy,write:cS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const eo=new Map,Km={set(n,e,t){eo.has(n)||eo.set(n,new Map);const r=eo.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return eo.has(n)&&eo.get(n).get(e)||null},remove(n,e){if(!eo.has(n))return;const t=eo.get(n);t.delete(e),t.size===0&&eo.delete(n)}},BP=1e6,HP=1e3,Ug="transitionend",ES=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),zP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),WP=n=>{do n+=Math.floor(Math.random()*BP);while(document.getElementById(n));return n},qP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*HP)},TS=n=>{n.dispatchEvent(new Event(Ug))},cs=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),To=n=>cs(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(ES(n)):null,ru=n=>{if(!cs(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Io=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",IS=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?IS(n.parentNode):null},th=()=>{},Uc=n=>{n.offsetHeight},SS=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Gm=[],KP=n=>{document.readyState==="loading"?(Gm.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Gm)e()}),Gm.push(n)):n()},Kr=()=>document.documentElement.dir==="rtl",Yr=n=>{KP(()=>{const e=SS();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},mr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,CS=(n,e,t=!0)=>{if(!t){mr(n);return}const i=qP(e)+5;let a=!1;const l=({target:c})=>{c===e&&(a=!0,e.removeEventListener(Ug,l),mr(n))};e.addEventListener(Ug,l),setTimeout(()=>{a||TS(e)},i)},Qy=(n,e,t,r)=>{const i=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[i-1]:n[0]:(a+=t?1:-1,r&&(a=(a+i)%i),n[Math.max(0,Math.min(a,i-1))])},GP=/[^.]*(?=\..*)\.|.*/,QP=/\..*/,YP=/::\d+$/,Qm={};let BE=1;const AS={mouseenter:"mouseover",mouseleave:"mouseout"},XP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function RS(n,e){return e&&`${e}::${BE++}`||n.uidEvent||BE++}function bS(n){const e=RS(n);return n.uidEvent=e,Qm[e]=Qm[e]||{},Qm[e]}function JP(n,e){return function t(r){return Yy(r,{delegateTarget:n}),t.oneOff&&ce.off(n,r.type,e),e.apply(n,[r])}}function ZP(n,e,t){return function r(i){const a=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const c of a)if(c===l)return Yy(i,{delegateTarget:l}),r.oneOff&&ce.off(n,i.type,e,t),t.apply(l,[i])}}function NS(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function kS(n,e,t){const r=typeof e=="string",i=r?t:e||t;let a=PS(n);return XP.has(a)||(a=n),[r,i,a]}function HE(n,e,t,r,i){if(typeof e!="string"||!n)return;let[a,l,c]=kS(e,t,r);e in AS&&(l=(N=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return N.call(this,x)})(l));const f=bS(n),p=f[c]||(f[c]={}),g=NS(p,l,a?t:null);if(g){g.oneOff=g.oneOff&&i;return}const _=RS(l,e.replace(GP,"")),T=a?ZP(n,t,l):JP(n,l);T.delegationSelector=a?t:null,T.callable=l,T.oneOff=i,T.uidEvent=_,p[_]=T,n.addEventListener(c,T,a)}function Fg(n,e,t,r,i){const a=NS(e[t],r,i);a&&(n.removeEventListener(t,a,!!i),delete e[t][a.uidEvent])}function eD(n,e,t,r){const i=e[t]||{};for(const[a,l]of Object.entries(i))a.includes(r)&&Fg(n,e,t,l.callable,l.delegationSelector)}function PS(n){return n=n.replace(QP,""),AS[n]||n}const ce={on(n,e,t,r){HE(n,e,t,r,!1)},one(n,e,t,r){HE(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,a,l]=kS(e,t,r),c=l!==e,f=bS(n),p=f[l]||{},g=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;Fg(n,f,l,a,i?t:null);return}if(g)for(const _ of Object.keys(f))eD(n,f,_,e.slice(1));for(const[_,T]of Object.entries(p)){const A=_.replace(YP,"");(!c||e.includes(A))&&Fg(n,f,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=SS(),i=PS(e),a=e!==i;let l=null,c=!0,f=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),c=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const g=Yy(new Event(e,{bubbles:c,cancelable:!0}),t);return p&&g.preventDefault(),f&&n.dispatchEvent(g),g.defaultPrevented&&l&&l.preventDefault(),g}};function Yy(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function zE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Ym(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ds={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Ym(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Ym(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=zE(n.dataset[r])}return e},getDataAttribute(n,e){return zE(n.getAttribute(`data-bs-${Ym(e)}`))}};class Fc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=cs(t)?ds.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...cs(t)?ds.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const a=e[r],l=cs(a)?"element":zP(a);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}}const tD="5.3.3";class mi extends Fc{constructor(e,t){super(),e=To(e),e&&(this._element=e,this._config=this._getConfig(t),Km.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Km.remove(this._element,this.constructor.DATA_KEY),ce.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){CS(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Km.get(To(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return tD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Xm=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>ES(t)).join(","):null},ze={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Io(t)&&ru(t))},getSelectorFromElement(n){const e=Xm(n);return e&&ze.findOne(e)?e:null},getElementFromSelector(n){const e=Xm(n);return e?ze.findOne(e):null},getMultipleElementsFromSelector(n){const e=Xm(n);return e?ze.find(e):[]}},Lh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ce.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Io(this))return;const a=ze.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},nD="alert",rD="bs.alert",DS=`.${rD}`,iD=`close${DS}`,sD=`closed${DS}`,oD="fade",aD="show";let OS=class xS extends mi{static get NAME(){return nD}close(){if(ce.trigger(this._element,iD).defaultPrevented)return;this._element.classList.remove(aD);const t=this._element.classList.contains(oD);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ce.trigger(this._element,sD),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=xS.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Lh(OS,"close");Yr(OS);const lD="button",uD="bs.button",cD=`.${uD}`,dD=".data-api",fD="active",WE='[data-bs-toggle="button"]',hD=`click${cD}${dD}`;let LS=class MS extends mi{static get NAME(){return lD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(fD))}static jQueryInterface(e){return this.each(function(){const t=MS.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};ce.on(document,hD,WE,n=>{n.preventDefault();const e=n.target.closest(WE);LS.getOrCreateInstance(e).toggle()});Yr(LS);const pD="swipe",iu=".bs.swipe",mD=`touchstart${iu}`,gD=`touchmove${iu}`,yD=`touchend${iu}`,vD=`pointerdown${iu}`,_D=`pointerup${iu}`,wD="touch",ED="pen",TD="pointer-event",ID=40,SD={endCallback:null,leftCallback:null,rightCallback:null},CD={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class nh extends Fc{constructor(e,t){super(),this._element=e,!(!e||!nh.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return SD}static get DefaultType(){return CD}static get NAME(){return pD}dispose(){ce.off(this._element,iu)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),mr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=ID)return;const t=e/this._deltaX;this._deltaX=0,t&&mr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ce.on(this._element,vD,e=>this._start(e)),ce.on(this._element,_D,e=>this._end(e)),this._element.classList.add(TD)):(ce.on(this._element,mD,e=>this._start(e)),ce.on(this._element,gD,e=>this._move(e)),ce.on(this._element,yD,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===ED||e.pointerType===wD)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const AD="carousel",RD="bs.carousel",Oo=`.${RD}`,VS=".data-api",bD="ArrowLeft",ND="ArrowRight",kD=500,Gu="next",pl="prev",El="left",Ff="right",PD=`slide${Oo}`,Jm=`slid${Oo}`,DD=`keydown${Oo}`,OD=`mouseenter${Oo}`,xD=`mouseleave${Oo}`,LD=`dragstart${Oo}`,MD=`load${Oo}${VS}`,VD=`click${Oo}${VS}`,$S="carousel",Ef="active",$D="slide",UD="carousel-item-end",FD="carousel-item-start",jD="carousel-item-next",BD="carousel-item-prev",US=".active",FS=".carousel-item",HD=US+FS,zD=".carousel-item img",WD=".carousel-indicators",qD="[data-bs-slide], [data-bs-slide-to]",KD='[data-bs-ride="carousel"]',GD={[bD]:Ff,[ND]:El},QD={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},YD={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Xy=class jS extends mi{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ze.findOne(WD,this._element),this._addEventListeners(),this._config.ride===$S&&this.cycle()}static get Default(){return QD}static get DefaultType(){return YD}static get NAME(){return AD}next(){this._slide(Gu)}nextWhenVisible(){!document.hidden&&ru(this._element)&&this.next()}prev(){this._slide(pl)}pause(){this._isSliding&&TS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ce.one(this._element,Jm,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ce.one(this._element,Jm,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Gu:pl;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ce.on(this._element,DD,e=>this._keydown(e)),this._config.pause==="hover"&&(ce.on(this._element,OD,()=>this.pause()),ce.on(this._element,xD,()=>this._maybeEnableCycle())),this._config.touch&&nh.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of ze.find(zD,this._element))ce.on(r,LD,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(El)),rightCallback:()=>this._slide(this._directionToOrder(Ff)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),kD+this._config.interval))}};this._swipeHelper=new nh(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=GD[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=ze.findOne(US,this._indicatorsElement);t.classList.remove(Ef),t.removeAttribute("aria-current");const r=ze.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Ef),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Gu,a=t||Qy(this._getItems(),r,i,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),c=A=>ce.trigger(this._element,A,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(c(PD).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const g=i?FD:UD,_=i?jD:BD;a.classList.add(_),Uc(a),r.classList.add(g),a.classList.add(g);const T=()=>{a.classList.remove(g,_),a.classList.add(Ef),r.classList.remove(Ef,_,g),this._isSliding=!1,c(Jm)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains($D)}_getActive(){return ze.findOne(HD,this._element)}_getItems(){return ze.find(FS,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Kr()?e===El?pl:Gu:e===El?Gu:pl}_orderToDirection(e){return Kr()?e===pl?El:Ff:e===pl?Ff:El}static jQueryInterface(e){return this.each(function(){const t=jS.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ce.on(document,VD,qD,function(n){const e=ze.getElementFromSelector(this);if(!e||!e.classList.contains($S))return;n.preventDefault();const t=Xy.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(ds.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ce.on(window,MD,()=>{const n=ze.find(KD);for(const e of n)Xy.getOrCreateInstance(e)});Yr(Xy);const XD="collapse",JD="bs.collapse",jc=`.${JD}`,ZD=".data-api",e1=`show${jc}`,t1=`shown${jc}`,n1=`hide${jc}`,r1=`hidden${jc}`,i1=`click${jc}${ZD}`,Zm="show",Rl="collapse",Tf="collapsing",s1="collapsed",o1=`:scope .${Rl} .${Rl}`,a1="collapse-horizontal",l1="width",u1="height",c1=".collapse.show, .collapse.collapsing",jg='[data-bs-toggle="collapse"]',d1={parent:null,toggle:!0},f1={parent:"(null|element)",toggle:"boolean"};let BS=class Bg extends mi{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=ze.find(jg);for(const i of r){const a=ze.getSelectorFromElement(i),l=ze.find(a).filter(c=>c===this._element);a!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return d1}static get DefaultType(){return f1}static get NAME(){return XD}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(c1).filter(c=>c!==this._element).map(c=>Bg.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||ce.trigger(this._element,e1).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(Rl),this._element.classList.add(Tf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Tf),this._element.classList.add(Rl,Zm),this._element.style[r]="",ce.trigger(this._element,t1)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ce.trigger(this._element,n1).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Uc(this._element),this._element.classList.add(Tf),this._element.classList.remove(Rl,Zm);for(const i of this._triggerArray){const a=ze.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Tf),this._element.classList.add(Rl),ce.trigger(this._element,r1)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Zm)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=To(e.parent),e}_getDimension(){return this._element.classList.contains(a1)?l1:u1}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(jg);for(const t of e){const r=ze.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=ze.find(o1,this._config.parent);return ze.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(s1,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Bg.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};ce.on(document,i1,jg,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of ze.getMultipleElementsFromSelector(this))BS.getOrCreateInstance(e,{toggle:!1}).toggle()});Yr(BS);const qE="dropdown",h1="bs.dropdown",Aa=`.${h1}`,Jy=".data-api",p1="Escape",KE="Tab",m1="ArrowUp",GE="ArrowDown",g1=2,y1=`hide${Aa}`,v1=`hidden${Aa}`,_1=`show${Aa}`,w1=`shown${Aa}`,HS=`click${Aa}${Jy}`,zS=`keydown${Aa}${Jy}`,E1=`keyup${Aa}${Jy}`,Tl="show",T1="dropup",I1="dropend",S1="dropstart",C1="dropup-center",A1="dropdown-center",ca='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',R1=`${ca}.${Tl}`,jf=".dropdown-menu",b1=".navbar",N1=".navbar-nav",k1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",P1=Kr()?"top-end":"top-start",D1=Kr()?"top-start":"top-end",O1=Kr()?"bottom-end":"bottom-start",x1=Kr()?"bottom-start":"bottom-end",L1=Kr()?"left-start":"right-start",M1=Kr()?"right-start":"left-start",V1="top",$1="bottom",U1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},F1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let su=class Bf extends mi{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ze.next(this._element,jf)[0]||ze.prev(this._element,jf)[0]||ze.findOne(jf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return U1}static get DefaultType(){return F1}static get NAME(){return qE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Io(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ce.trigger(this._element,_1,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(N1))for(const r of[].concat(...document.body.children))ce.on(r,"mouseover",th);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Tl),this._element.classList.add(Tl),ce.trigger(this._element,w1,e)}}hide(){if(Io(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ce.trigger(this._element,y1,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ce.off(r,"mouseover",th);this._popper&&this._popper.destroy(),this._menu.classList.remove(Tl),this._element.classList.remove(Tl),this._element.setAttribute("aria-expanded","false"),ds.removeDataAttribute(this._menu,"popper"),ce.trigger(this._element,v1,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!cs(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${qE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof wS>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:cs(this._config.reference)?e=To(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Gy(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Tl)}_getPlacement(){const e=this._parent;if(e.classList.contains(I1))return L1;if(e.classList.contains(S1))return M1;if(e.classList.contains(C1))return V1;if(e.classList.contains(A1))return $1;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(T1)?t?D1:P1:t?x1:O1}_detectNavbar(){return this._element.closest(b1)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ds.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...mr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=ze.find(k1,this._menu).filter(i=>ru(i));r.length&&Qy(r,t,e===GE,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Bf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===g1||e.type==="keyup"&&e.key!==KE)return;const t=ze.find(R1);for(const r of t){const i=Bf.getInstance(r);if(!i||i._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===KE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===p1,i=[m1,GE].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const a=this.matches(ca)?this:ze.prev(this,ca)[0]||ze.next(this,ca)[0]||ze.findOne(ca,e.delegateTarget.parentNode),l=Bf.getOrCreateInstance(a);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};ce.on(document,zS,ca,su.dataApiKeydownHandler);ce.on(document,zS,jf,su.dataApiKeydownHandler);ce.on(document,HS,su.clearMenus);ce.on(document,E1,su.clearMenus);ce.on(document,HS,ca,function(n){n.preventDefault(),su.getOrCreateInstance(this).toggle()});Yr(su);const WS="backdrop",j1="fade",QE="show",YE=`mousedown.bs.${WS}`,B1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},H1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qS extends Fc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return B1}static get DefaultType(){return H1}static get NAME(){return WS}show(e){if(!this._config.isVisible){mr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Uc(t),t.classList.add(QE),this._emulateAnimation(()=>{mr(e)})}hide(e){if(!this._config.isVisible){mr(e);return}this._getElement().classList.remove(QE),this._emulateAnimation(()=>{this.dispose(),mr(e)})}dispose(){this._isAppended&&(ce.off(this._element,YE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(j1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=To(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ce.on(e,YE,()=>{mr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){CS(e,this._getElement(),this._config.isAnimated)}}const z1="focustrap",W1="bs.focustrap",rh=`.${W1}`,q1=`focusin${rh}`,K1=`keydown.tab${rh}`,G1="Tab",Q1="forward",XE="backward",Y1={autofocus:!0,trapElement:null},X1={autofocus:"boolean",trapElement:"element"};class KS extends Fc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Y1}static get DefaultType(){return X1}static get NAME(){return z1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ce.off(document,rh),ce.on(document,q1,e=>this._handleFocusin(e)),ce.on(document,K1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ce.off(document,rh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=ze.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===XE?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===G1&&(this._lastTabNavDirection=e.shiftKey?XE:Q1)}}const JE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ZE=".sticky-top",If="padding-right",eT="margin-right";class Hg{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,If,t=>t+e),this._setElementAttributes(JE,If,t=>t+e),this._setElementAttributes(ZE,eT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,If),this._resetElementAttributes(JE,If),this._resetElementAttributes(ZE,eT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const c=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&ds.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const a=ds.getDataAttribute(i,t);if(a===null){i.style.removeProperty(t);return}ds.removeDataAttribute(i,t),i.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(cs(e)){t(e);return}for(const r of ze.find(e,this._element))t(r)}}const J1="modal",Z1="bs.modal",Gr=`.${Z1}`,eO=".data-api",tO="Escape",nO=`hide${Gr}`,rO=`hidePrevented${Gr}`,GS=`hidden${Gr}`,QS=`show${Gr}`,iO=`shown${Gr}`,sO=`resize${Gr}`,oO=`click.dismiss${Gr}`,aO=`mousedown.dismiss${Gr}`,lO=`keydown.dismiss${Gr}`,uO=`click${Gr}${eO}`,tT="modal-open",cO="fade",nT="show",eg="modal-static",dO=".modal.show",fO=".modal-dialog",hO=".modal-body",pO='[data-bs-toggle="modal"]',mO={backdrop:!0,focus:!0,keyboard:!0},gO={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let ih=class YS extends mi{constructor(e,t){super(e,t),this._dialog=ze.findOne(fO,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hg,this._addEventListeners()}static get Default(){return mO}static get DefaultType(){return gO}static get NAME(){return J1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ce.trigger(this._element,QS,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(tT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ce.trigger(this._element,nO).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(nT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ce.off(window,Gr),ce.off(this._dialog,Gr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qS({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new KS({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=ze.findOne(hO,this._dialog);t&&(t.scrollTop=0),Uc(this._element),this._element.classList.add(nT);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ce.trigger(this._element,iO,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ce.on(this._element,lO,e=>{if(e.key===tO){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ce.on(window,sO,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ce.on(this._element,aO,e=>{ce.one(this._element,oO,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(tT),this._resetAdjustments(),this._scrollBar.reset(),ce.trigger(this._element,GS)})}_isAnimated(){return this._element.classList.contains(cO)}_triggerBackdropTransition(){if(ce.trigger(this._element,rO).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(eg)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(eg),this._queueCallback(()=>{this._element.classList.remove(eg),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=Kr()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=Kr()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=YS.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};ce.on(document,uO,pO,function(n){const e=ze.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ce.one(e,QS,i=>{i.defaultPrevented||ce.one(e,GS,()=>{ru(this)&&this.focus()})});const t=ze.findOne(dO);t&&ih.getInstance(t).hide(),ih.getOrCreateInstance(e).toggle(this)});Lh(ih);Yr(ih);const yO="offcanvas",vO="bs.offcanvas",Ts=`.${vO}`,XS=".data-api",_O=`load${Ts}${XS}`,wO="Escape",rT="show",iT="showing",sT="hiding",EO="offcanvas-backdrop",JS=".offcanvas.show",TO=`show${Ts}`,IO=`shown${Ts}`,SO=`hide${Ts}`,oT=`hidePrevented${Ts}`,ZS=`hidden${Ts}`,CO=`resize${Ts}`,AO=`click${Ts}${XS}`,RO=`keydown.dismiss${Ts}`,bO='[data-bs-toggle="offcanvas"]',NO={backdrop:!0,keyboard:!0,scroll:!1},kO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Ul=class eC extends mi{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return NO}static get DefaultType(){return kO}static get NAME(){return yO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ce.trigger(this._element,TO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Hg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(iT);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(rT),this._element.classList.remove(iT),ce.trigger(this._element,IO,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ce.trigger(this._element,SO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(sT),this._backdrop.hide();const t=()=>{this._element.classList.remove(rT,sT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Hg().reset(),ce.trigger(this._element,ZS)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ce.trigger(this._element,oT);return}this.hide()},t=!!this._config.backdrop;return new qS({className:EO,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new KS({trapElement:this._element})}_addEventListeners(){ce.on(this._element,RO,e=>{if(e.key===wO){if(this._config.keyboard){this.hide();return}ce.trigger(this._element,oT)}})}static jQueryInterface(e){return this.each(function(){const t=eC.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ce.on(document,AO,bO,function(n){const e=ze.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Io(this))return;ce.one(e,ZS,()=>{ru(this)&&this.focus()});const t=ze.findOne(JS);t&&t!==e&&Ul.getInstance(t).hide(),Ul.getOrCreateInstance(e).toggle(this)});ce.on(window,_O,()=>{for(const n of ze.find(JS))Ul.getOrCreateInstance(n).show()});ce.on(window,CO,()=>{for(const n of ze.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Ul.getOrCreateInstance(n).hide()});Lh(Ul);Yr(Ul);const PO=/^aria-[\w-]*$/i,tC={"*":["class","dir","id","lang","role",PO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},DO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),OO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,xO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?DO.has(t)?!!OO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function LO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const l of a){const c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}const f=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[c]||[]);for(const g of f)xO(g,p)||l.removeAttribute(g.nodeName)}return i.body.innerHTML}const MO="TemplateFactory",VO={allowList:tC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},$O={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},UO={entry:"(string|element|function|null)",selector:"(string|element)"};class FO extends Fc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return VO}static get DefaultType(){return $O}static get NAME(){return MO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},UO)}_setContent(e,t,r){const i=ze.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(cs(t)){this._putElementInTemplate(To(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?LO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return mr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const jO="tooltip",BO=new Set(["sanitize","allowList","sanitizeFn"]),tg="fade",HO="modal",Sf="show",zO=".tooltip-inner",aT=`.${HO}`,lT="hide.bs.modal",Qu="hover",ng="focus",WO="click",qO="manual",KO="hide",GO="hidden",QO="show",YO="shown",XO="inserted",JO="click",ZO="focusin",ex="focusout",tx="mouseenter",nx="mouseleave",rx={AUTO:"auto",TOP:"top",RIGHT:Kr()?"left":"right",BOTTOM:"bottom",LEFT:Kr()?"right":"left"},ix={allowList:tC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sx={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Mh=class nC extends mi{constructor(e,t){if(typeof wS>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ix}static get DefaultType(){return sx}static get NAME(){return jO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ce.off(this._element.closest(aT),lT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ce.trigger(this._element,this.constructor.eventName(QO)),r=(IS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),ce.trigger(this._element,this.constructor.eventName(XO))),this._popper=this._createPopper(i),i.classList.add(Sf),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))ce.on(c,"mouseover",th);const l=()=>{ce.trigger(this._element,this.constructor.eventName(YO)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ce.trigger(this._element,this.constructor.eventName(KO)).defaultPrevented)return;if(this._getTipElement().classList.remove(Sf),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ce.off(i,"mouseover",th);this._activeTrigger[WO]=!1,this._activeTrigger[ng]=!1,this._activeTrigger[Qu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ce.trigger(this._element,this.constructor.eventName(GO)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(tg,Sf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=WP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(tg),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new FO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(tg)}_isShown(){return this.tip&&this.tip.classList.contains(Sf)}_createPopper(e){const t=mr(this._config.placement,[this,e,this._element]),r=rx[t.toUpperCase()];return Gy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return mr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...mr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ce.on(this._element,this.constructor.eventName(JO),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==qO){const r=t===Qu?this.constructor.eventName(tx):this.constructor.eventName(ZO),i=t===Qu?this.constructor.eventName(nx):this.constructor.eventName(ex);ce.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?ng:Qu]=!0,l._enter()}),ce.on(this._element,i,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?ng:Qu]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ce.on(this._element.closest(aT),lT,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ds.getDataAttributes(this._element);for(const r of Object.keys(t))BO.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:To(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=nC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Yr(Mh);const ox="popover",ax=".popover-header",lx=".popover-body",ux={...Mh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},cx={...Mh.DefaultType,content:"(null|string|element|function)"};let dx=class rC extends Mh{static get Default(){return ux}static get DefaultType(){return cx}static get NAME(){return ox}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ax]:this._getTitle(),[lx]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=rC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Yr(dx);const fx="scrollspy",hx="bs.scrollspy",Zy=`.${hx}`,px=".data-api",mx=`activate${Zy}`,uT=`click${Zy}`,gx=`load${Zy}${px}`,yx="dropdown-item",ml="active",vx='[data-bs-spy="scroll"]',rg="[href]",_x=".nav, .list-group",cT=".nav-link",wx=".nav-item",Ex=".list-group-item",Tx=`${cT}, ${wx} > ${cT}, ${Ex}`,Ix=".dropdown",Sx=".dropdown-toggle",Cx={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ax={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vh extends mi{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Cx}static get DefaultType(){return Ax}static get NAME(){return fx}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=To(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ce.off(this._config.target,uT),ce.on(this._config.target,uT,rg,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const c=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(r(l),!i)return;continue}!a&&!c&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=ze.find(rg,this._config.target);for(const t of e){if(!t.hash||Io(t))continue;const r=ze.findOne(decodeURI(t.hash),this._element);ru(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ml),this._activateParents(e),ce.trigger(this._element,mx,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(yx)){ze.findOne(Sx,e.closest(Ix)).classList.add(ml);return}for(const t of ze.parents(e,_x))for(const r of ze.prev(t,Tx))r.classList.add(ml)}_clearActiveClass(e){e.classList.remove(ml);const t=ze.find(`${rg}.${ml}`,e);for(const r of t)r.classList.remove(ml)}static jQueryInterface(e){return this.each(function(){const t=Vh.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ce.on(window,gx,()=>{for(const n of ze.find(vx))Vh.getOrCreateInstance(n)});Yr(Vh);const Rx="tab",bx="bs.tab",Ra=`.${bx}`,Nx=`hide${Ra}`,kx=`hidden${Ra}`,Px=`show${Ra}`,Dx=`shown${Ra}`,Ox=`click${Ra}`,xx=`keydown${Ra}`,Lx=`load${Ra}`,Mx="ArrowLeft",dT="ArrowRight",Vx="ArrowUp",fT="ArrowDown",ig="Home",hT="End",da="active",pT="fade",sg="show",$x="dropdown",iC=".dropdown-toggle",Ux=".dropdown-menu",og=`:not(${iC})`,Fx='.list-group, .nav, [role="tablist"]',jx=".nav-item, .list-group-item",Bx=`.nav-link${og}, .list-group-item${og}, [role="tab"]${og}`,sC='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ag=`${Bx}, ${sC}`,Hx=`.${da}[data-bs-toggle="tab"], .${da}[data-bs-toggle="pill"], .${da}[data-bs-toggle="list"]`;class Fl extends mi{constructor(e){super(e),this._parent=this._element.closest(Fx),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ce.on(this._element,xx,t=>this._keydown(t)))}static get NAME(){return Rx}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ce.trigger(t,Nx,{relatedTarget:e}):null;ce.trigger(e,Px,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(da),this._activate(ze.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(sg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ce.trigger(e,Dx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(pT))}_deactivate(e,t){if(!e)return;e.classList.remove(da),e.blur(),this._deactivate(ze.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(sg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ce.trigger(e,kx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(pT))}_keydown(e){if(![Mx,dT,Vx,fT,ig,hT].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!Io(i));let r;if([ig,hT].includes(e.key))r=t[e.key===ig?0:t.length-1];else{const i=[dT,fT].includes(e.key);r=Qy(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),Fl.getOrCreateInstance(r).show())}_getChildren(){return ze.find(ag,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=ze.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains($x))return;const i=(a,l)=>{const c=ze.findOne(a,r);c&&c.classList.toggle(l,t)};i(iC,da),i(Ux,sg),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(da)}_getInnerElement(e){return e.matches(ag)?e:ze.findOne(ag,e)}_getOuterElement(e){return e.closest(jx)||e}static jQueryInterface(e){return this.each(function(){const t=Fl.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ce.on(document,Ox,sC,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Io(this)&&Fl.getOrCreateInstance(this).show()});ce.on(window,Lx,()=>{for(const n of ze.find(Hx))Fl.getOrCreateInstance(n)});Yr(Fl);const zx="toast",Wx="bs.toast",xo=`.${Wx}`,qx=`mouseover${xo}`,Kx=`mouseout${xo}`,Gx=`focusin${xo}`,Qx=`focusout${xo}`,Yx=`hide${xo}`,Xx=`hidden${xo}`,Jx=`show${xo}`,Zx=`shown${xo}`,eL="fade",mT="hide",Cf="show",Af="showing",tL={animation:"boolean",autohide:"boolean",delay:"number"},nL={animation:!0,autohide:!0,delay:5e3};class $h extends mi{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return nL}static get DefaultType(){return tL}static get NAME(){return zx}show(){if(ce.trigger(this._element,Jx).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(eL);const t=()=>{this._element.classList.remove(Af),ce.trigger(this._element,Zx),this._maybeScheduleHide()};this._element.classList.remove(mT),Uc(this._element),this._element.classList.add(Cf,Af),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ce.trigger(this._element,Yx).defaultPrevented)return;const t=()=>{this._element.classList.add(mT),this._element.classList.remove(Af,Cf),ce.trigger(this._element,Xx)};this._element.classList.add(Af),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Cf),super.dispose()}isShown(){return this._element.classList.contains(Cf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ce.on(this._element,qx,e=>this._onInteraction(e,!0)),ce.on(this._element,Kx,e=>this._onInteraction(e,!1)),ce.on(this._element,Gx,e=>this._onInteraction(e,!0)),ce.on(this._element,Qx,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=$h.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Lh($h);Yr($h);var lg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var gT;function rL(){return gT||(gT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(lg)),lg.exports}var iL=rL();const ye=Mc(iL);function zg(){return zg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zg.apply(null,arguments)}function oC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function yT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function sL(n){var e=oL(n,"string");return typeof e=="symbol"?e:String(e)}function oL(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function aC(n,e,t){var r=w.useRef(n!==void 0),i=w.useState(e),a=i[0],l=i[1],c=n!==void 0,f=r.current;return r.current=c,!c&&f&&a!==e&&l(e),[c?n:a,w.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function ba(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[yT(r)],c=a[r],f=oC(a,[yT(r),r].map(sL)),p=e[r],g=aC(c,l,n[p]),_=g[0],T=g[1];return zg({},f,(i={},i[r]=_,i[p]=T,i))},n)}function Wg(n,e){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Wg(n,e)}function aL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Wg(n,e)}var ug={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function lL(){if(vT)return Yu;vT=1;var n=Oy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},T=null,A=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:T,ref:A,props:_,_owner:i.current}}return Yu.Fragment=t,Yu.jsx=l,Yu.jsxs=l,Yu}var _T;function uL(){return _T||(_T=1,ug.exports=lL()),ug.exports}var ev=uL();const I=ev.jsx,oe=ev.jsxs,hn=ev.Fragment,cL=["xxl","xl","lg","md","sm","xs"],dL="xs",Bc=w.createContext({prefixes:{},breakpoints:cL,minBreakpoint:dL}),{Consumer:pH,Provider:mH}=Bc;function we(n,e){const{prefixes:t}=w.useContext(Bc);return n||t[e]||e}function lC(){const{breakpoints:n}=w.useContext(Bc);return n}function uC(){const{minBreakpoint:n}=w.useContext(Bc);return n}function Hc(){const{dir:n}=w.useContext(Bc);return n==="rtl"}function ou(n){return n&&n.ownerDocument||document}function fL(n){var e=ou(n);return e&&e.defaultView||window}function hL(n,e){return fL(n).getComputedStyle(n,e)}var pL=/([A-Z])/g;function mL(n){return n.replace(pL,"-$1").toLowerCase()}var gL=/^ms-/;function Rf(n){return mL(n).replace(gL,"-ms-")}var yL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function vL(n){return!!(n&&yL.test(n))}function fs(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Rf(e))||hL(n).getPropertyValue(Rf(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(Rf(i)):vL(i)?r+=i+"("+a+") ":t+=Rf(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var cg={exports:{}},dg,wT;function _L(){if(wT)return dg;wT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dg=n,dg}var fg,ET;function wL(){if(ET)return fg;ET=1;var n=_L();function e(){}function t(){}return t.resetWarningCache=e,fg=function(){function r(l,c,f,p,g,_){if(_!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},fg}var TT;function EL(){return TT||(TT=1,cg.exports=wL()()),cg.exports}var TL=EL();const Xn=Mc(TL);var cC=eS();const lo=Mc(cC),IL=ZI({__proto__:null,default:lo},[cC]),IT={disabled:!1},dC=kn.createContext(null);var SL=function(e){return e.scrollTop},rc="unmounted",ro="exited",di="entering",ss="entered",wc="exiting",Is=function(n){aL(e,n);function e(r,i){var a;a=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?c?(f=ro,a.appearStatus=di):f=ss:r.unmountOnExit||r.mountOnEnter?f=rc:f=ro,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===rc?{status:ro}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==di&&l!==ss&&(a=di):(l===di||l===ss)&&(a=wc)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===di){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:lo.findDOMNode(this);l&&SL(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ro&&this.setState({status:rc})},t.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,f=this.props.nodeRef?[c]:[lo.findDOMNode(this),c],p=f[0],g=f[1],_=this.getTimeouts(),T=c?_.appear:_.enter;if(!i&&!l||IT.disabled){this.safeSetState({status:ss},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:di},function(){a.props.onEntering(p,g),a.onTransitionEnd(T,function(){a.safeSetState({status:ss},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:lo.findDOMNode(this);if(!a||IT.disabled){this.safeSetState({status:ro},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:wc},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:ro},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:lo.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],g=f[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===rc)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=oC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kn.createElement(dC.Provider,{value:null},typeof l=="function"?l(i,c):kn.cloneElement(kn.Children.only(l),c))},e}(kn.Component);Is.contextType=dC;Is.propTypes={};function gl(){}Is.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gl,onEntering:gl,onEntered:gl,onExit:gl,onExiting:gl,onExited:gl};Is.UNMOUNTED=rc;Is.EXITED=ro;Is.ENTERING=di;Is.ENTERED=ss;Is.EXITING=wc;function fC(n){return n.code==="Escape"||n.keyCode===27}function CL(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Na(n){if(!n||typeof n=="function")return null;const{major:e}=CL();return e>=19?n.props.ref:n.ref}const au=!!(typeof window<"u"&&window.document&&window.document.createElement);var qg=!1,Kg=!1;try{var hg={get passive(){return qg=!0},get once(){return Kg=qg=!0}};au&&(window.addEventListener("test",hg,hg),window.removeEventListener("test",hg,!0))}catch{}function tv(n,e,t,r){if(r&&typeof r!="boolean"&&!Kg){var i=r.once,a=r.capture,l=t;!Kg&&i&&(l=t.__once||function c(f){this.removeEventListener(e,c,a),t.call(this,f)},t.__once=l),n.addEventListener(e,l,qg?r:a)}n.addEventListener(e,t,r)}function Gg(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function os(n,e,t,r){return tv(n,e,t,r),function(){Gg(n,e,t,r)}}function AL(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function RL(n){var e=fs(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function bL(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||AL(n,"transitionend",!0)},e+t),a=os(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function hC(n,e,t,r){t==null&&(t=RL(n)||0);var i=bL(n,t,r),a=os(n,"transitionend",e);return function(){i(),a()}}function ST(n,e){const t=fs(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Uh(n,e){const t=ST(n,"transitionDuration"),r=ST(n,"transitionDelay"),i=hC(n,a=>{a.target===n&&(i(),e(a))},t+r)}function Xu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function nv(n){n.offsetHeight}const CT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function NL(n,e){const t=CT(n),r=CT(e);return i=>{t&&t(i),r&&r(i)}}function lu(n,e){return w.useMemo(()=>NL(n,e),[n,e])}function sh(n){return n&&"setState"in n?lo.findDOMNode(n):n??null}const Fh=kn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:f,...p},g)=>{const _=w.useRef(null),T=lu(_,f),A=Y=>{T(sh(Y))},N=Y=>S=>{Y&&_.current&&Y(_.current,S)},x=w.useCallback(N(n),[n]),b=w.useCallback(N(e),[e]),z=w.useCallback(N(t),[t]),M=w.useCallback(N(r),[r]),j=w.useCallback(N(i),[i]),B=w.useCallback(N(a),[a]),Z=w.useCallback(N(l),[l]);return I(Is,{ref:g,...p,onEnter:x,onEntered:z,onEntering:b,onExit:M,onExited:B,onExiting:j,addEndListener:Z,nodeRef:_,children:typeof c=="function"?(Y,S)=>c(Y,{...S,ref:A}):kn.cloneElement(c,{ref:A})})}),kL={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function PL(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=kL[n];return r+parseInt(fs(e,i[0]),10)+parseInt(fs(e,i[1]),10)}const DL={[ro]:"collapse",[wc]:"collapsing",[di]:"collapsing",[ss]:"collapse show"},pC=kn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:f=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:T=!1,getDimensionValue:A=PL,...N},x)=>{const b=typeof c=="function"?c():c,z=w.useMemo(()=>Xu(Y=>{Y.style[b]="0"},n),[b,n]),M=w.useMemo(()=>Xu(Y=>{const S=`scroll${b[0].toUpperCase()}${b.slice(1)}`;Y.style[b]=`${Y[S]}px`},e),[b,e]),j=w.useMemo(()=>Xu(Y=>{Y.style[b]=null},t),[b,t]),B=w.useMemo(()=>Xu(Y=>{Y.style[b]=`${A(b,Y)}px`,nv(Y)},r),[r,A,b]),Z=w.useMemo(()=>Xu(Y=>{Y.style[b]=null},i),[b,i]);return I(Fh,{ref:x,addEndListener:Uh,...N,"aria-expanded":N.role?f:null,onEnter:z,onEntering:M,onEntered:j,onExit:B,onExiting:Z,childRef:Na(l),in:f,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:T,children:(Y,S)=>kn.cloneElement(l,{...S,className:ye(a,l.props.className,DL[Y],b==="width"&&"collapse-horizontal")})})});function mC(n,e){return Array.isArray(n)?n.includes(e):n===e}const zc=w.createContext({});zc.displayName="AccordionContext";const rv=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...a},l)=>{const{activeEventKey:c}=w.useContext(zc);return e=we(e,"accordion-collapse"),I(pC,{ref:l,in:mC(c,i),...a,className:ye(t,e),children:I(n,{children:w.Children.only(r)})})});rv.displayName="AccordionCollapse";const jh=w.createContext({eventKey:""});jh.displayName="AccordionItemContext";const gC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,...p},g)=>{e=we(e,"accordion-body");const{eventKey:_}=w.useContext(jh);return I(rv,{eventKey:_,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,children:I(n,{ref:g,...p,className:ye(t,e)})})});gC.displayName="AccordionBody";function OL(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=w.useContext(zc);return a=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(c=>c!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const iv=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},a)=>{e=we(e,"accordion-button");const{eventKey:l}=w.useContext(jh),c=OL(l,r),{activeEventKey:f}=w.useContext(zc);return n==="button"&&(i.type="button"),I(n,{ref:a,onClick:c,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:ye(t,e,!mC(f,l)&&"collapsed")})});iv.displayName="AccordionButton";const yC=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:a,...l},c)=>(t=we(t,"accordion-header"),I(n,{ref:c,...l,className:ye(r,t),children:I(iv,{onClick:a,"aria-controls":e,children:i})})));yC.displayName="AccordionHeader";const vC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},a)=>{e=we(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return I(jh.Provider,{value:l,children:I(n,{ref:a,...i,className:ye(t,e)})})});vC.displayName="AccordionItem";const _C=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:c,alwaysOpen:f,...p}=ba(n,{activeKey:"onSelect"}),g=we(i,"accordion"),_=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return I(zc.Provider,{value:_,children:I(t,{ref:e,...p,className:ye(a,g,c&&`${g}-flush`)})})});_C.displayName="Accordion";const uo=Object.assign(_C,{Button:iv,Collapse:rv,Item:vC,Header:yC,Body:gC});function wC(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Qr(n){const e=wC(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Wc=n=>w.forwardRef((e,t)=>I("div",{...e,ref:t,className:ye(e.className,n)})),EC=Wc("h4");EC.displayName="DivStyledAsH4";const TC=w.forwardRef(({className:n,bsPrefix:e,as:t=EC,...r},i)=>(e=we(e,"alert-heading"),I(t,{ref:i,className:ye(n,e),...r})));TC.displayName="AlertHeading";function Qg(){return w.useState(null)}function xL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function bn(n){const e=xL(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function LL(n,e,t,r=!1){const i=bn(t);w.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}function IC(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function SC(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const ML=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",VL=typeof document<"u",AT=VL||ML?w.useLayoutEffect:w.useEffect,$L=["as","disabled"];function UL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function FL(n){return!n||n.trim()==="#"}function sv({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&FL(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:_},p]}const ov=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=UL(n,$L);const[a,{tagName:l}]=sv(Object.assign({tagName:t,disabled:r},i));return I(l,Object.assign({},i,a,{ref:e}))});ov.displayName="Button";const jL=["onKeyDown"];function BL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function HL(n){return!n||n.trim()==="#"}const jl=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=BL(n,jL);const[i]=sv(Object.assign({tagName:"a"},r)),a=bn(l=>{i.onKeyDown(l),t==null||t(l)});return HL(r.href)||r.role==="button"?I("a",Object.assign({ref:e},r,i,{onKeyDown:a})):I("a",Object.assign({ref:e},r,{onKeyDown:t}))});jl.displayName="Anchor";const CC=w.forwardRef(({className:n,bsPrefix:e,as:t=jl,...r},i)=>(e=we(e,"alert-link"),I(t,{ref:i,className:ye(n,e),...r})));CC.displayName="AlertLink";const zL={[di]:"show",[ss]:"show"},So=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=w.useCallback((f,p)=>{nv(f),r==null||r(f,p)},[r]);return I(Fh,{ref:a,addEndListener:Uh,...l,onEnter:c,childRef:Na(e),children:(f,p)=>w.cloneElement(e,{...p,className:ye("fade",n,e.props.className,zL[f],t[f])})})});So.displayName="Fade";const WL={"aria-label":Xn.string,onClick:Xn.func,variant:Xn.oneOf(["white"])},qc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>I("button",{ref:i,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));qc.displayName="CloseButton";qc.propTypes=WL;const AC=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:l,children:c,variant:f="primary",onClose:p,dismissible:g,transition:_=So,...T}=ba(n,{show:"onClose"}),A=we(t,"alert"),N=Qr(z=>{p&&p(!1,z)}),x=_===!0?So:_,b=oe("div",{role:"alert",...x?void 0:T,ref:e,className:ye(l,A,f&&`${A}-${f}`,g&&`${A}-dismissible`),children:[g&&I(qc,{onClick:N,"aria-label":i,variant:a}),c]});return x?I(x,{unmountOnExit:!0,...T,ref:void 0,in:r,children:b}):r?b:null});AC.displayName="Alert";const Bl=Object.assign(AC,{Link:CC,Heading:TC}),un=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},f)=>{const p=we(e,"btn"),[g,{tagName:_}]=sv({tagName:n,disabled:a,...c});return I(_,{...g,...c,ref:f,disabled:a,className:ye(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});un.displayName="Button";const av=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-body"),I(t,{ref:i,className:ye(n,e),...r})));av.displayName="CardBody";const RC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-footer"),I(t,{ref:i,className:ye(n,e),...r})));RC.displayName="CardFooter";const lv=w.createContext(null);lv.displayName="CardHeaderContext";const bC=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=we(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return I(lv.Provider,{value:l,children:I(t,{ref:i,...r,className:ye(e,a)})})});bC.displayName="CardHeader";const NC=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=we(n,"card-img");return I(r,{ref:a,className:ye(t?`${l}-${t}`:l,e),...i})});NC.displayName="CardImg";const kC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-img-overlay"),I(t,{ref:i,className:ye(n,e),...r})));kC.displayName="CardImgOverlay";const PC=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=we(e,"card-link"),I(t,{ref:i,className:ye(n,e),...r})));PC.displayName="CardLink";const qL=Wc("h6"),DC=w.forwardRef(({className:n,bsPrefix:e,as:t=qL,...r},i)=>(e=we(e,"card-subtitle"),I(t,{ref:i,className:ye(n,e),...r})));DC.displayName="CardSubtitle";const OC=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=we(e,"card-text"),I(t,{ref:i,className:ye(n,e),...r})));OC.displayName="CardText";const KL=Wc("h5"),xC=w.forwardRef(({className:n,bsPrefix:e,as:t=KL,...r},i)=>(e=we(e,"card-title"),I(t,{ref:i,className:ye(n,e),...r})));xC.displayName="CardTitle";const LC=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:c="div",...f},p)=>{const g=we(n,"card");return I(c,{ref:p,...f,className:ye(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?I(av,{children:l}):l})});LC.displayName="Card";const rs=Object.assign(LC,{Img:NC,Title:xC,Subtitle:DC,Body:av,Link:PC,Text:OC,Header:bC,Footer:RC,ImgOverlay:kC});function GL(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function QL(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function YL(n){const e=w.useRef(n);return e.current=n,e}function MC(n){const e=YL(n);w.useEffect(()=>()=>e.current(),[])}const Yg=2**31-1;function VC(n,e,t){const r=t-Date.now();n.current=r<=Yg?setTimeout(e,r):setTimeout(()=>VC(n,e,t),Yg)}function $C(){const n=QL(),e=w.useRef();return MC(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,a=0){n()&&(t(),a<=Yg?e.current=setTimeout(i,a):VC(e,i,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const UC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"carousel-caption"),I(t,{ref:i,className:ye(n,e),...r})));UC.displayName="CarouselCaption";const FC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},i)=>{const a=ye(t,we(e,"carousel-item"));return I(n,{ref:i,...r,className:a})});FC.displayName="CarouselItem";function RT(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function XL(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function JL(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const ZL=40;function eM(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const jC=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:i,slide:a=!0,fade:l=!1,controls:c=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:g,onSelect:_,onSlide:T,onSlid:A,interval:N=5e3,keyboard:x=!0,onKeyDown:b,pause:z="hover",onMouseOver:M,onMouseOut:j,wrap:B=!0,touch:Z=!0,onTouchStart:Y,onTouchMove:S,onTouchEnd:R,prevIcon:D=I("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:k="Previous",nextIcon:L=I("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:$="Next",variant:O,className:Ee,children:xe,...Be}=ba({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Ne=we(i,"carousel"),ne=Hc(),me=w.useRef(null),[le,H]=w.useState("next"),[ee,pe]=w.useState(!1),[ve,Ie]=w.useState(!1),[Ae,Ge]=w.useState(g||0);w.useEffect(()=>{!ve&&g!==Ae&&(me.current?H(me.current):H((g||0)>Ae?"next":"prev"),a&&Ie(!0),Ge(g||0))},[g,ve,Ae,a]),w.useEffect(()=>{me.current&&(me.current=null)});let Fe=0,st;XL(xe,(He,ot)=>{++Fe,ot===g&&(st=He.props.interval)});const Et=wC(st),St=w.useCallback(He=>{if(ve)return;let ot=Ae-1;if(ot<0){if(!B)return;ot=Fe-1}me.current="prev",_==null||_(ot,He)},[ve,Ae,_,B,Fe]),it=Qr(He=>{if(ve)return;let ot=Ae+1;if(ot>=Fe){if(!B)return;ot=0}me.current="next",_==null||_(ot,He)}),kt=w.useRef();w.useImperativeHandle(t,()=>({element:kt.current,prev:St,next:it}));const Kt=Qr(()=>{!document.hidden&&eM(kt.current)&&(ne?St():it())}),rt=le==="next"?"start":"end";GL(()=>{a||(T==null||T(Ae,rt),A==null||A(Ae,rt))},[Ae]);const jt=`${Ne}-item-${le}`,pn=`${Ne}-item-${rt}`,Or=w.useCallback(He=>{nv(He),T==null||T(Ae,rt)},[T,Ae,rt]),Wn=w.useCallback(()=>{Ie(!1),A==null||A(Ae,rt)},[A,Ae,rt]),Bt=w.useCallback(He=>{if(x&&!/input|textarea/i.test(He.target.tagName))switch(He.key){case"ArrowLeft":He.preventDefault(),ne?it(He):St(He);return;case"ArrowRight":He.preventDefault(),ne?St(He):it(He);return}b==null||b(He)},[x,b,St,it,ne]),Jt=w.useCallback(He=>{z==="hover"&&pe(!0),M==null||M(He)},[z,M]),tr=w.useCallback(He=>{pe(!1),j==null||j(He)},[j]),Dn=w.useRef(0),Dt=w.useRef(0),sn=$C(),$e=w.useCallback(He=>{Dn.current=He.touches[0].clientX,Dt.current=0,z==="hover"&&pe(!0),Y==null||Y(He)},[z,Y]),mt=w.useCallback(He=>{He.touches&&He.touches.length>1?Dt.current=0:Dt.current=He.touches[0].clientX-Dn.current,S==null||S(He)},[S]),Ot=w.useCallback(He=>{if(Z){const ot=Dt.current;Math.abs(ot)>ZL&&(ot>0?St(He):it(He))}z==="hover"&&sn.set(()=>{pe(!1)},N||void 0),R==null||R(He)},[Z,z,St,it,sn,N,R]),mn=N!=null&&!ee&&!ve,qn=w.useRef();w.useEffect(()=>{var He,ot;if(!mn)return;const gn=ne?St:it;return qn.current=window.setInterval(document.visibilityState?Kt:gn,(He=(ot=Et.current)!=null?ot:N)!=null?He:void 0),()=>{qn.current!==null&&clearInterval(qn.current)}},[mn,St,it,Et,N,Kt,ne]);const Kn=w.useMemo(()=>f&&Array.from({length:Fe},(He,ot)=>gn=>{_==null||_(ot,gn)}),[f,Fe,_]);return oe(r,{ref:kt,...Be,onKeyDown:Bt,onMouseOver:Jt,onMouseOut:tr,onTouchStart:$e,onTouchMove:mt,onTouchEnd:Ot,className:ye(Ee,Ne,a&&"slide",l&&`${Ne}-fade`,O&&`${Ne}-${O}`),children:[f&&I("div",{className:`${Ne}-indicators`,children:RT(xe,(He,ot)=>I("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[ot]:`Slide ${ot+1}`,className:ot===Ae?"active":void 0,onClick:Kn?Kn[ot]:void 0,"aria-current":ot===Ae},ot))}),I("div",{className:`${Ne}-inner`,children:RT(xe,(He,ot)=>{const gn=ot===Ae;return a?I(Fh,{in:gn,onEnter:gn?Or:void 0,onEntered:gn?Wn:void 0,addEndListener:Uh,children:(nr,gi)=>w.cloneElement(He,{...gi,className:ye(He.props.className,gn&&nr!=="entered"&&jt,(nr==="entered"||nr==="exiting")&&"active",(nr==="entering"||nr==="exiting")&&pn)})}):w.cloneElement(He,{className:ye(He.props.className,gn&&"active")})})}),c&&oe(hn,{children:[(B||g!==0)&&oe(jl,{className:`${Ne}-control-prev`,onClick:St,children:[D,k&&I("span",{className:"visually-hidden",children:k})]}),(B||g!==Fe-1)&&oe(jl,{className:`${Ne}-control-next`,onClick:it,children:[L,$&&I("span",{className:"visually-hidden",children:$})]})]})]})});jC.displayName="Carousel";const bT=Object.assign(jC,{Caption:UC,Item:FC});function tM({as:n,bsPrefix:e,className:t,...r}){e=we(e,"col");const i=lC(),a=uC(),l=[],c=[];return i.forEach(f=>{const p=r[f];delete r[f];let g,_,T;typeof p=="object"&&p!=null?{span:g,offset:_,order:T}=p:g=p;const A=f!==a?`-${f}`:"";g&&l.push(g===!0?`${e}${A}`:`${e}${A}-${g}`),T!=null&&c.push(`order${A}-${T}`),_!=null&&c.push(`offset${A}-${_}`)}),[{...r,className:ye(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const hi=w.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:a,spans:l}]=tM(n);return I(i,{...r,ref:e,className:ye(t,!l.length&&a)})});hi.displayName="Col";const Ss=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},a)=>{const l=we(n,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return I(t,{ref:a,...i,className:ye(r,e?`${l}${c}`:l)})});Ss.displayName="Container";var nM=Function.prototype.bind.call(Function.prototype.call,[].slice);function is(n,e){return nM(n.querySelectorAll(e))}function rM(n,e,t){const r=w.useRef(n!==void 0),[i,a]=w.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,w.useCallback((...f)=>{const[p,...g]=f;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function BC(){const[,n]=w.useReducer(e=>e+1,0);return n}const Bh=w.createContext(null);var NT=Object.prototype.hasOwnProperty;function kT(n,e,t){for(t of n.keys())if(pc(t,e))return t}function pc(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&pc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=kT(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=kT(e,i),!i)||!pc(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(NT.call(n,t)&&++r&&!NT.call(e,t)||!(t in e)||!pc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function iM(n){const e=IC();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const sM=$c({defaultModifiers:[Wy,xh,Dh,Oh,qy,zy,Ky,Fy]}),oM=["enabled","placement","strategy","modifiers"];function aM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const lM={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},uM={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},cM=[];function HC(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=cM}=t,c=aM(t,oM);const f=w.useRef(l),p=w.useRef(),g=w.useCallback(()=>{var b;(b=p.current)==null||b.update()},[]),_=w.useCallback(()=>{var b;(b=p.current)==null||b.forceUpdate()},[]),[T,A]=iM(w.useState({placement:i,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),N=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const z={},M={};Object.keys(b.elements).forEach(j=>{z[j]=b.styles[j],M[j]=b.attributes[j]}),A({state:b,styles:z,attributes:M,update:g,forceUpdate:_,placement:b.placement})}}),[g,_,A]),x=w.useMemo(()=>(pc(f.current,l)||(f.current=l),f.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...x,N,lM]})},[a,i,N,r,x]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=sM(n,e,Object.assign({},c,{placement:i,strategy:a,modifiers:[...x,uM,N]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,A(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function Ec(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var pg,PT;function dM(){if(PT)return pg;PT=1;var n=function(){};return pg=n,pg}var fM=dM();const hM=Mc(fM),DT=()=>{};function pM(n){return n.button===0}function mM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Hf=n=>n&&("current"in n?n.current:n),OT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function zC(n,e=DT,{disabled:t,clickTrigger:r="click"}={}){const i=w.useRef(!1),a=w.useRef(!1),l=w.useCallback(p=>{const g=Hf(n);hM(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||mM(p)||!pM(p)||!!Ec(g,p.target)||a.current,a.current=!1},[n]),c=bn(p=>{const g=Hf(n);g&&Ec(g,p.target)?a.current=!0:a.current=!1}),f=bn(p=>{i.current||e(p)});w.useEffect(()=>{var p,g;if(t||n==null)return;const _=ou(Hf(n)),T=_.defaultView||window;let A=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,N=null;OT[r]&&(N=os(_,OT[r],c,!0));const x=os(_,r,l,!0),b=os(_,r,M=>{if(M===A){A=void 0;return}f(M)});let z=[];return"ontouchstart"in _.documentElement&&(z=[].slice.call(_.body.children).map(M=>os(M,"mousemove",DT))),()=>{N==null||N(),x(),b(),z.forEach(M=>M())}},[n,t,r,l,c,f])}function gM(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function yM(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function WC({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:c,popperConfig:f={}}){var p,g,_,T,A;const N=gM(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:yM(Object.assign({},N,{eventListeners:{enabled:e,options:(p=N.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},N.preventOverflow,{options:l?Object.assign({padding:l},(g=N.preventOverflow)==null?void 0:g.options):(_=N.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:i},(T=N.offset)==null?void 0:T.options)},arrow:Object.assign({},N.arrow,{enabled:!!c,options:Object.assign({},(A=N.arrow)==null?void 0:A.options,{element:c})}),flip:Object.assign({enabled:!!r},N.flip)}))})}const vM=["children","usePopper"];function _M(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const wM=()=>{};function qC(n={}){const e=w.useContext(Bh),[t,r]=Qg(),i=w.useRef(!1),{flip:a,offset:l,rootCloseEvent:c,fixed:f=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,A=(e==null?void 0:e.show)==null?!!n.show:e.show;A&&!i.current&&(i.current=!0);const N=Y=>{e==null||e.toggle(!1,Y)},{placement:x,setMenu:b,menuElement:z,toggleElement:M}=e||{},j=HC(M,z,WC({placement:p||x||"bottom-start",enabled:T,enableEvents:_??A,offset:l,flip:a,fixed:f,arrowElement:t,popperConfig:g})),B=Object.assign({ref:b||wM,"aria-labelledby":M==null?void 0:M.id},j.attributes.popper,{style:j.styles.popper}),Z={show:A,placement:x,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?j:null,arrowProps:T?Object.assign({ref:r},j.attributes.arrow,{style:j.styles.arrow}):{}};return zC(z,N,{clickTrigger:c,disabled:!A}),[B,Z]}function KC(n){let{children:e,usePopper:t=!0}=n,r=_M(n,vM);const[i,a]=qC(Object.assign({},r,{usePopper:t}));return I(hn,{children:e(i,a)})}KC.displayName="DropdownMenu";const uv={prefix:String(Math.round(Math.random()*1e10)),current:0},GC=kn.createContext(uv),EM=kn.createContext(!1);let TM=!!(typeof window<"u"&&window.document&&window.document.createElement),mg=new WeakMap;function IM(n=!1){let e=w.useContext(GC),t=w.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=mg.get(a);l==null?mg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,mg.delete(a))}t.current=++e.current}return t.current}function SM(n){let e=w.useContext(GC);e===uv&&!TM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=IM(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function CM(n){let e=kn.useId(),[t]=w.useState(kM()),r=t?"react-aria":`react-aria${uv.prefix}`;return n||`${r}-${e}`}const AM=typeof kn.useId=="function"?CM:SM;function RM(){return!1}function bM(){return!0}function NM(n){return()=>{}}function kM(){return typeof kn.useSyncExternalStore=="function"?kn.useSyncExternalStore(NM,RM,bM):w.useContext(EM)}const QC=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},xT=()=>{};function YC(){const n=AM(),{show:e=!1,toggle:t=xT,setToggle:r,menuElement:i}=w.useContext(Bh)||{},a=w.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||xT,onClick:a,"aria-expanded":!!e};return i&&QC(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function XC({children:n}){const[e,t]=YC();return I(hn,{children:n(e,t)})}XC.displayName="DropdownToggle";const va=w.createContext(null),Hl=(n,e=null)=>n!=null?String(n):e||null,Hh=w.createContext(null);Hh.displayName="NavContext";const PM="data-rr-ui-",DM="rrUi";function uu(n){return`${PM}${n}`}function OM(n){return`${DM}${n}`}const xM=["eventKey","disabled","onClick","active","as"];function LM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function JC({key:n,href:e,active:t,disabled:r,onClick:i}){const a=w.useContext(va),l=w.useContext(Hh),{activeKey:c}=l||{},f=Hl(n,e),p=t==null&&n!=null?Hl(c)===f:t;return[{onClick:bn(_=>{r||(i==null||i(_),a&&!_.isPropagationStopped()&&a(f,_))}),"aria-disabled":r||void 0,"aria-selected":p,[uu("dropdown-item")]:""},{isActive:p}]}const ZC=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=ov}=n,c=LM(n,xM);const[f]=JC({key:t,href:c.href,disabled:r,onClick:i,active:a});return I(l,Object.assign({},c,{ref:e},f))});ZC.displayName="DropdownItem";const eA=w.createContext(au?window:void 0);eA.Provider;function zh(){return w.useContext(eA)}function LT(){const n=BC(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Kc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${uu("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}){const f=zh(),[p,g]=rM(e,n,r),[_,T]=LT(),A=_.current,[N,x]=LT(),b=N.current,z=SC(p),M=w.useRef(null),j=w.useRef(!1),B=w.useContext(va),Z=w.useCallback((L,$,O=$==null?void 0:$.type)=>{g(L,{originalEvent:$,source:O})},[g]),Y=bn((L,$)=>{t==null||t(L,$),Z(!1,$,"select"),$.isPropagationStopped()||B==null||B(L,$)}),S=w.useMemo(()=>({toggle:Z,placement:l,show:p,menuElement:A,toggleElement:b,setMenu:T,setToggle:x}),[Z,l,p,A,b,T,x]);A&&z&&!p&&(j.current=A.contains(A.ownerDocument.activeElement));const R=bn(()=>{b&&b.focus&&b.focus()}),D=bn(()=>{const L=M.current;let $=a;if($==null&&($=_.current&&QC(_.current)?"keyboard":!1),$===!1||$==="keyboard"&&!/^key.+$/.test(L))return;const O=is(_.current,i)[0];O&&O.focus&&O.focus()});w.useEffect(()=>{p?D():j.current&&(j.current=!1,R())},[p,j,R,D]),w.useEffect(()=>{M.current=null});const k=(L,$)=>{if(!_.current)return null;const O=is(_.current,i);let Ee=O.indexOf(L)+$;return Ee=Math.max(0,Math.min(Ee,O.length)),O[Ee]};return LL(w.useCallback(()=>f.document,[f]),"keydown",L=>{var $,O;const{key:Ee}=L,xe=L.target,Be=($=_.current)==null?void 0:$.contains(xe),Ne=(O=N.current)==null?void 0:O.contains(xe);if(/input|textarea/i.test(xe.tagName)&&(Ee===" "||Ee!=="Escape"&&Be||Ee==="Escape"&&xe.type==="search")||!Be&&!Ne||Ee==="Tab"&&(!_.current||!p))return;M.current=L.type;const me={originalEvent:L,source:L.type};switch(Ee){case"ArrowUp":{const le=k(xe,-1);le&&le.focus&&le.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!p)g(!0,me);else{const le=k(xe,1);le&&le.focus&&le.focus()}return;case"Tab":tv(xe.ownerDocument,"keyup",le=>{var H;(le.key==="Tab"&&!le.target||!((H=_.current)!=null&&H.contains(le.target)))&&g(!1,me)},{once:!0});break;case"Escape":Ee==="Escape"&&(L.preventDefault(),L.stopPropagation()),g(!1,me);break}}),I(va.Provider,{value:Y,children:I(Bh.Provider,{value:S,children:c})})}Kc.displayName="Dropdown";Kc.Menu=KC;Kc.Toggle=XC;Kc.Item=ZC;const cv=w.createContext({});cv.displayName="DropdownContext";const tA=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=we(e,"dropdown-divider"),I(t,{ref:a,className:ye(n,e),role:r,...i})));tA.displayName="DropdownDivider";const nA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=we(e,"dropdown-header"),I(t,{ref:a,className:ye(n,e),role:r,...i})));nA.displayName="DropdownHeader";const rA=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=jl,...c},f)=>{const p=we(n,"dropdown-item"),[g,_]=JC({key:t,href:c.href,disabled:r,onClick:i,active:a});return I(l,{...c,...g,ref:f,className:ye(e,p,_.isActive&&"active",r&&"disabled")})});rA.displayName="DropdownItem";const iA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=we(e,"dropdown-item-text"),I(t,{ref:i,className:ye(n,e),...r})));iA.displayName="DropdownItemText";const MM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",VM=typeof document<"u",dv=VM||MM?w.useLayoutEffect:w.useEffect,fv=w.createContext(null);fv.displayName="InputGroupContext";const ka=w.createContext(null);ka.displayName="NavbarContext";function sA(n,e){return n}function oA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?i:r:e==="end"?_=n?g:p:e==="start"?_=n?f:c:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const aA=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:c="div",popperConfig:f,variant:p,...g},_)=>{let T=!1;const A=w.useContext(ka),N=we(n,"dropdown-menu"),{align:x,drop:b,isRTL:z}=w.useContext(cv);t=t||x;const M=w.useContext(fv),j=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const $=L[0],O=t[$];T=O==="start",j.push(`${N}-${$}-${O}`)}}else t==="end"&&(T=!0);const B=oA(T,b,z),[Z,{hasShown:Y,popper:S,show:R,toggle:D}]=qC({flip:i,rootCloseEvent:r,show:a,usePopper:!A&&j.length===0,offset:[0,2],popperConfig:f,placement:B});if(Z.ref=lu(sA(_),Z.ref),dv(()=>{R&&(S==null||S.update())},[R]),!Y&&!l&&!M)return null;typeof c!="string"&&(Z.show=R,Z.close=()=>D==null?void 0:D(!1),Z.align=t);let k=g.style;return S!=null&&S.placement&&(k={...g.style,...Z.style},g["x-placement"]=S.placement),I(c,{...g,...Z,style:k,...(j.length||A)&&{"data-bs-popper":"static"},className:ye(e,N,R&&"show",T&&`${N}-end`,p&&`${N}-${p}`,...j)})});aA.displayName="DropdownMenu";const lA=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=un,...a},l)=>{const c=we(n,"dropdown-toggle"),f=w.useContext(Bh);r!==void 0&&(a.bsPrefix=r);const[p]=YC();return p.ref=lu(p.ref,sA(l)),I(i,{className:ye(t,c,e&&`${c}-split`,(f==null?void 0:f.show)&&"show"),...p,...a})});lA.displayName="DropdownToggle";const uA=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:c,onToggle:f,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...A}=ba(n,{show:"onToggle"}),N=w.useContext(fv),x=we(t,"dropdown"),b=Hc(),z=S=>T===!1?S==="click":T==="inside"?S!=="rootClose":T==="outside"?S!=="select":!0,M=Qr((S,R)=>{var D;!((D=R.originalEvent)==null||(D=D.target)==null)&&D.classList.contains("dropdown-toggle")&&R.source==="mousedown"||(R.originalEvent.currentTarget===document&&(R.source!=="keydown"||R.originalEvent.key==="Escape")&&(R.source="rootClose"),z(R.source)&&(f==null||f(S,R)))}),B=oA(l==="end",r,b),Z=w.useMemo(()=>({align:l,drop:r,isRTL:b}),[l,r,b]),Y={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return I(cv.Provider,{value:Z,children:I(Kc,{placement:B,show:i,onSelect:c,onToggle:M,focusFirstItemOnShow:p,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:N?A.children:I(g,{...A,ref:e,className:ye(a,i&&"show",Y[r])})})})});uA.displayName="Dropdown";const fa=Object.assign(uA,{Toggle:lA,Menu:aA,Item:rA,ItemText:iA,Divider:tA,Header:nA});Xn.string,Xn.bool,Xn.bool,Xn.bool,Xn.bool;const Tc=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:a=!1,...l},c)=>(n=we(n,"img"),I("img",{ref:c,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",i&&"rounded-circle",a&&`${n}-thumbnail`)})));Tc.displayName="Image";const $M={type:Xn.string,tooltip:Xn.bool,as:Xn.elementType},Wh=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},a)=>I(n,{...i,ref:a,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));Wh.displayName="Feedback";Wh.propTypes=$M;const ms=w.createContext({}),hv=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:a=!1,as:l="input",...c},f)=>{const{controlId:p}=w.useContext(ms);return e=we(e,"form-check-input"),I(l,{...c,ref:f,type:r,id:n||p,className:ye(t,e,i&&"is-valid",a&&"is-invalid")})});hv.displayName="FormCheckInput";const oh=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:a}=w.useContext(ms);return n=we(n,"form-check-label"),I("label",{...r,ref:i,htmlFor:t||a,className:ye(e,n)})});oh.displayName="FormCheckLabel";const cA=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:a=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:g,className:_,style:T,title:A="",type:N="checkbox",label:x,children:b,as:z="input",...M},j)=>{e=we(e,"form-check"),t=we(t,"form-switch");const{controlId:B}=w.useContext(ms),Z=w.useMemo(()=>({controlId:n||B}),[B,n]),Y=!b&&x!=null&&x!==!1||JL(b,oh),S=I(hv,{...M,type:N==="switch"?"checkbox":N,ref:j,isValid:l,isInvalid:c,disabled:a,as:z});return I(ms.Provider,{value:Z,children:I("div",{style:T,className:ye(_,Y&&e,r&&`${e}-inline`,i&&`${e}-reverse`,N==="switch"&&t),children:b||oe(hn,{children:[S,Y&&I(oh,{title:A,children:x}),p&&I(Wh,{type:g,tooltip:f,children:p})]})})})});cA.displayName="FormCheck";const ah=Object.assign(cA,{Input:hv,Label:oh}),dA=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:a,isValid:l=!1,isInvalid:c=!1,plaintext:f,readOnly:p,as:g="input",..._},T)=>{const{controlId:A}=w.useContext(ms);return n=we(n,"form-control"),I(g,{..._,type:e,size:r,ref:T,readOnly:p,id:i||A,className:ye(a,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});dA.displayName="FormControl";const UM=Object.assign(dA,{Feedback:Wh}),fA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"form-floating"),I(t,{ref:i,className:ye(n,e),...r})));fA.displayName="FormFloating";const pv=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=w.useMemo(()=>({controlId:n}),[n]);return I(ms.Provider,{value:i,children:I(e,{...t,ref:r})})});pv.displayName="FormGroup";const hA=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:a,...l},c)=>{const{controlId:f}=w.useContext(ms);e=we(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=ye(i,e,r&&"visually-hidden",t&&p);return a=a||f,t?I(hi,{ref:c,as:"label",className:g,htmlFor:a,...l}):I(n,{ref:c,className:g,htmlFor:a,...l})});hA.displayName="FormLabel";const pA=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:a}=w.useContext(ms);return n=we(n,"form-range"),I("input",{...r,type:"range",ref:i,className:ye(e,n),id:t||a})});pA.displayName="FormRange";const mA=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:a=!1,id:l,...c},f)=>{const{controlId:p}=w.useContext(ms);return n=we(n,"form-select"),I("select",{...c,size:t,ref:f,className:ye(r,n,e&&`${n}-${e}`,i&&"is-valid",a&&"is-invalid"),id:l||p})});mA.displayName="FormSelect";const gA=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},a)=>(n=we(n,"form-text"),I(t,{...i,ref:a,className:ye(e,n,r&&"text-muted")})));gA.displayName="FormText";const yA=w.forwardRef((n,e)=>I(ah,{...n,ref:e,type:"switch"}));yA.displayName="Switch";const FM=Object.assign(yA,{Input:ah.Input,Label:ah.Label}),mv=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...a},l)=>(n=we(n,"form-floating"),oe(pv,{ref:l,className:ye(e,n),controlId:r,...a,children:[t,I("label",{htmlFor:r,children:i})]})));mv.displayName="FloatingLabel";const jM={_ref:Xn.any,validated:Xn.bool,as:Xn.elementType},gv=w.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>I(t,{...r,ref:i,className:ye(n,e&&"was-validated")}));gv.displayName="Form";gv.propTypes=jM;const zr=Object.assign(gv,{Group:pv,Control:UM,Floating:fA,Check:ah,Switch:FM,Label:hA,Text:gA,Range:pA,Select:mA,FloatingLabel:mv}),MT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function BM(n,e){const t=MT(n),r=MT(e);return i=>{t&&t(i),r&&r(i)}}function Gc(n,e){return w.useMemo(()=>BM(n,e),[n,e])}const vA=w.createContext(null),HM=["as","active","eventKey"];function zM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function yv({key:n,onClick:e,active:t,id:r,role:i,disabled:a}){const l=w.useContext(va),c=w.useContext(Hh),f=w.useContext(vA);let p=t;const g={role:i};if(c){!i&&c.role==="tablist"&&(g.role="tab");const _=c.getControllerId(n??null),T=c.getControlledId(n??null);g[uu("event-key")]=n,g.id=_||r,p=t==null&&n!=null?c.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(g["aria-controls"]=T)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=bn(_=>{a||(e==null||e(_),n!=null&&l&&!_.isPropagationStopped()&&l(n,_))}),[g,{isActive:p}]}const _A=w.forwardRef((n,e)=>{let{as:t=ov,active:r,eventKey:i}=n,a=zM(n,HM);const[l,c]=yv(Object.assign({key:Hl(i,a.href),active:r},a));return l[uu("active")]=c.isActive,I(t,Object.assign({},a,l,{ref:e}))});_A.displayName="NavItem";const WM=["as","onSelect","activeKey","role","onKeyDown"];function qM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const VT=()=>{},$T=uu("event-key"),wA=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:a,onKeyDown:l}=n,c=qM(n,WM);const f=BC(),p=w.useRef(!1),g=w.useContext(va),_=w.useContext(vA);let T,A;_&&(a=a||"tablist",i=_.activeKey,T=_.getControlledId,A=_.getControllerId);const N=w.useRef(null),x=j=>{const B=N.current;if(!B)return null;const Z=is(B,`[${$T}]:not([aria-disabled=true])`),Y=B.querySelector("[aria-selected=true]");if(!Y||Y!==document.activeElement)return null;const S=Z.indexOf(Y);if(S===-1)return null;let R=S+j;return R>=Z.length&&(R=0),R<0&&(R=Z.length-1),Z[R]},b=(j,B)=>{j!=null&&(r==null||r(j,B),g==null||g(j,B))},z=j=>{if(l==null||l(j),!_)return;let B;switch(j.key){case"ArrowLeft":case"ArrowUp":B=x(-1);break;case"ArrowRight":case"ArrowDown":B=x(1);break;default:return}B&&(j.preventDefault(),b(B.dataset[OM("EventKey")]||null,j),p.current=!0,f())};w.useEffect(()=>{if(N.current&&p.current){const j=N.current.querySelector(`[${$T}][aria-selected=true]`);j==null||j.focus()}p.current=!1});const M=Gc(e,N);return I(va.Provider,{value:b,children:I(Hh.Provider,{value:{role:a,activeKey:Hl(i),getControlledId:T||VT,getControllerId:A||VT},children:I(t,Object.assign({},c,{onKeyDown:z,ref:M,role:a}))})})});wA.displayName="Nav";const EA=Object.assign(wA,{Item:_A}),TA=w.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:i,variant:a,action:l,as:c,...f},p)=>{n=we(n,"list-group-item");const[g,_]=yv({key:Hl(r,f.href),active:e,...f}),T=Qr(N=>{if(t){N.preventDefault(),N.stopPropagation();return}g.onClick(N)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const A=c||(l?f.href?"a":"button":"div");return I(A,{ref:p,...f,...g,onClick:T,className:ye(i,n,_.isActive&&"active",t&&"disabled",a&&`${n}-${a}`,l&&`${n}-action`)})});TA.displayName="ListGroupItem";const IA=w.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:i,horizontal:a,numbered:l,as:c="div",...f}=ba(n,{activeKey:"onSelect"}),p=we(r,"list-group");let g;return a&&(g=a===!0?"horizontal":`horizontal-${a}`),I(EA,{ref:e,...f,as:c,className:ye(t,p,i&&`${p}-${i}`,g&&`${p}-${g}`,l&&`${p}-numbered`)})});IA.displayName="ListGroup";const Rr=Object.assign(IA,{Item:TA});var bf;function UT(n){if((!bf&&bf!==0||n)&&au){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),bf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return bf}function KM(){return w.useState(null)}function gg(n){n===void 0&&(n=ou());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function GM(n){const e=w.useRef(n);return e.current=n,e}function QM(n){const e=GM(n);w.useEffect(()=>()=>e.current(),[])}function YM(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const FT=uu("modal-open");class vv{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return YM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(fs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(FT,""),fs(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(FT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const yg=(n,e)=>au?n==null?(e||ou()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Xg(n,e){const t=zh(),[r,i]=w.useState(()=>yg(n,t==null?void 0:t.document));if(!r){const a=yg(n);a&&i(a)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const a=yg(n);a!==r&&i(a)},[n,r]),r}function XM({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const a=w.useRef(null),l=w.useRef(e),c=bn(t);w.useEffect(()=>{e?l.current=!0:c(a.current)},[e,c]);const f=Gc(a,Na(n)),p=w.cloneElement(n,{ref:f});return e?p:i||!l.current&&r?null:p}const JM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ZM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function eV(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:f}=n,p=ZM(n,JM);const g=w.useRef(null),_=Gc(g,Na(f)),T=B=>Z=>{B&&g.current&&B(g.current,Z)},A=w.useCallback(T(e),[e]),N=w.useCallback(T(t),[t]),x=w.useCallback(T(r),[r]),b=w.useCallback(T(i),[i]),z=w.useCallback(T(a),[a]),M=w.useCallback(T(l),[l]),j=w.useCallback(T(c),[c]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:A},t&&{onEntering:N},r&&{onEntered:x},i&&{onExit:b},a&&{onExiting:z},l&&{onExited:M},c&&{addEndListener:j},{children:typeof f=="function"?(B,Z)=>f(B,Object.assign({},Z,{ref:_})):w.cloneElement(f,{ref:_})})}const tV=["component"];function nV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const rV=w.forwardRef((n,e)=>{let{component:t}=n,r=nV(n,tV);const i=eV(r);return I(t,Object.assign({ref:e},i))});function iV({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),i=bn(e);return AT(()=>{if(!t.current)return;let a=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,i]),AT(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function sV({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[a,l]=w.useState(!e);e&&a&&l(!1);const c=iV({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(g,_=>{throw p.in||l(!0),_})}}),f=Gc(c,Na(n));return a&&!e?null:w.cloneElement(n,{ref:f})}function Jg(n,e,t){return n?I(rV,Object.assign({},t,{component:n})):e?I(sV,Object.assign({},t,{transition:e})):I(XM,Object.assign({},t))}const oV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function aV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let vg;function lV(n){return vg||(vg=new vv({ownerDocument:n==null?void 0:n.document})),vg}function uV(n){const e=zh(),t=n||lV(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:w.useCallback(i=>{r.current.backdrop=i},[])})}const SA=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:a,children:l,backdrop:c=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:T,backdropTransition:A,runBackdropTransition:N,autoFocus:x=!0,enforceFocus:b=!0,restoreFocus:z=!0,restoreFocusOptions:M,renderDialog:j,renderBackdrop:B=rt=>I("div",Object.assign({},rt)),manager:Z,container:Y,onShow:S,onHide:R=()=>{},onExit:D,onExited:k,onExiting:L,onEnter:$,onEntering:O,onEntered:Ee}=n,xe=aV(n,oV);const Be=zh(),Ne=Xg(Y),ne=uV(Z),me=IC(),le=SC(t),[H,ee]=w.useState(!t),pe=w.useRef(null);w.useImperativeHandle(e,()=>ne,[ne]),au&&!le&&t&&(pe.current=gg(Be==null?void 0:Be.document)),t&&H&&ee(!1);const ve=bn(()=>{if(ne.add(),Et.current=os(document,"keydown",Fe),st.current=os(document,"focus",()=>setTimeout(Ae),!0),S&&S(),x){var rt,jt;const pn=gg((rt=(jt=ne.dialog)==null?void 0:jt.ownerDocument)!=null?rt:Be==null?void 0:Be.document);ne.dialog&&pn&&!Ec(ne.dialog,pn)&&(pe.current=pn,ne.dialog.focus())}}),Ie=bn(()=>{if(ne.remove(),Et.current==null||Et.current(),st.current==null||st.current(),z){var rt;(rt=pe.current)==null||rt.focus==null||rt.focus(M),pe.current=null}});w.useEffect(()=>{!t||!Ne||ve()},[t,Ne,ve]),w.useEffect(()=>{H&&Ie()},[H,Ie]),QM(()=>{Ie()});const Ae=bn(()=>{if(!b||!me()||!ne.isTopModal())return;const rt=gg(Be==null?void 0:Be.document);ne.dialog&&rt&&!Ec(ne.dialog,rt)&&ne.dialog.focus()}),Ge=bn(rt=>{rt.target===rt.currentTarget&&(p==null||p(rt),c===!0&&R())}),Fe=bn(rt=>{f&&fC(rt)&&ne.isTopModal()&&(g==null||g(rt),rt.defaultPrevented||R())}),st=w.useRef(),Et=w.useRef(),St=(...rt)=>{ee(!0),k==null||k(...rt)};if(!Ne)return null;const it=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},xe,{style:a,className:i,tabIndex:-1});let kt=j?j(it):I("div",Object.assign({},it,{children:w.cloneElement(l,{role:"document"})}));kt=Jg(_,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:D,onExiting:L,onExited:St,onEnter:$,onEntering:O,onEntered:Ee,children:kt});let Kt=null;return c&&(Kt=B({ref:ne.setBackdropRef,onClick:Ge}),Kt=Jg(A,N,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Kt})),I(hn,{children:lo.createPortal(oe(hn,{children:[Kt,kt]}),Ne)})});SA.displayName="Modal";const CA=Object.assign(SA,{Manager:vv});function Zg(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function cV(n,e){n.classList?n.classList.add(e):Zg(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function jT(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function dV(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=jT(n.className,e):n.setAttribute("class",jT(n.className&&n.className.baseVal||"",e))}const yl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class AA extends vv{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,fs(t,{[e]:`${parseFloat(fs(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],fs(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(cV(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";is(t,yl.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),is(t,yl.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-e.scrollBarWidth)),is(t,yl.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();dV(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";is(t,yl.FIXED_CONTENT).forEach(a=>this.restore(r,a)),is(t,yl.STICKY_CONTENT).forEach(a=>this.restore(i,a)),is(t,yl.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let _g;function RA(n){return _g||(_g=new AA(n)),_g}const bA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"modal-body"),I(t,{ref:i,className:ye(n,e),...r})));bA.displayName="ModalBody";const _v=w.createContext({onHide(){}}),wv=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:a,children:l,scrollable:c,...f},p)=>{n=we(n,"modal");const g=`${n}-dialog`,_=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return I("div",{...f,ref:p,className:ye(g,e,i&&`${n}-${i}`,r&&`${g}-centered`,c&&`${g}-scrollable`,a&&_),children:I("div",{className:ye(`${n}-content`,t),children:l})})});wv.displayName="ModalDialog";const NA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"modal-footer"),I(t,{ref:i,className:ye(n,e),...r})));NA.displayName="ModalFooter";const kA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...a},l)=>{const c=w.useContext(_v),f=Qr(()=>{c==null||c.onHide(),r==null||r()});return oe("div",{ref:l,...a,children:[i,t&&I(qc,{"aria-label":n,variant:e,onClick:f})]})}),PA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=we(n,"modal-header"),I(kA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));PA.displayName="ModalHeader";const fV=Wc("h4"),DA=w.forwardRef(({className:n,bsPrefix:e,as:t=fV,...r},i)=>(e=we(e,"modal-title"),I(t,{ref:i,className:ye(n,e),...r})));DA.displayName="ModalTitle";function hV(n){return I(So,{...n,timeout:null})}function pV(n){return I(So,{...n,timeout:null})}const OA=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:a,dialogAs:l=wv,"data-bs-theme":c,"aria-labelledby":f,"aria-describedby":p,"aria-label":g,show:_=!1,animation:T=!0,backdrop:A=!0,keyboard:N=!0,onEscapeKeyDown:x,onShow:b,onHide:z,container:M,autoFocus:j=!0,enforceFocus:B=!0,restoreFocus:Z=!0,restoreFocusOptions:Y,onEntered:S,onExit:R,onExiting:D,onEnter:k,onEntering:L,onExited:$,backdropClassName:O,manager:Ee,...xe},Be)=>{const[Ne,ne]=w.useState({}),[me,le]=w.useState(!1),H=w.useRef(!1),ee=w.useRef(!1),pe=w.useRef(null),[ve,Ie]=KM(),Ae=lu(Be,Ie),Ge=Qr(z),Fe=Hc();n=we(n,"modal");const st=w.useMemo(()=>({onHide:Ge}),[Ge]);function Et(){return Ee||RA({isRTL:Fe})}function St($e){if(!au)return;const mt=Et().getScrollbarWidth()>0,Ot=$e.scrollHeight>ou($e).documentElement.clientHeight;ne({paddingRight:mt&&!Ot?UT():void 0,paddingLeft:!mt&&Ot?UT():void 0})}const it=Qr(()=>{ve&&St(ve.dialog)});MC(()=>{Gg(window,"resize",it),pe.current==null||pe.current()});const kt=()=>{H.current=!0},Kt=$e=>{H.current&&ve&&$e.target===ve.dialog&&(ee.current=!0),H.current=!1},rt=()=>{le(!0),pe.current=hC(ve.dialog,()=>{le(!1)})},jt=$e=>{$e.target===$e.currentTarget&&rt()},pn=$e=>{if(A==="static"){jt($e);return}if(ee.current||$e.target!==$e.currentTarget){ee.current=!1;return}z==null||z()},Or=$e=>{N?x==null||x($e):($e.preventDefault(),A==="static"&&rt())},Wn=($e,mt)=>{$e&&St($e),k==null||k($e,mt)},Bt=$e=>{pe.current==null||pe.current(),R==null||R($e)},Jt=($e,mt)=>{L==null||L($e,mt),tv(window,"resize",it)},tr=$e=>{$e&&($e.style.display=""),$==null||$($e),Gg(window,"resize",it)},Dn=w.useCallback($e=>I("div",{...$e,className:ye(`${n}-backdrop`,O,!T&&"show")}),[T,O,n]),Dt={...t,...Ne};Dt.display="block";const sn=$e=>I("div",{role:"dialog",...$e,style:Dt,className:ye(e,n,me&&`${n}-static`,!T&&"show"),onClick:A?pn:void 0,onMouseUp:Kt,"data-bs-theme":c,"aria-label":g,"aria-labelledby":f,"aria-describedby":p,children:I(l,{...xe,onMouseDown:kt,className:r,contentClassName:i,children:a})});return I(_v.Provider,{value:st,children:I(CA,{show:_,ref:Ae,backdrop:A,container:M,keyboard:!0,autoFocus:j,enforceFocus:B,restoreFocus:Z,restoreFocusOptions:Y,onEscapeKeyDown:Or,onShow:b,onHide:z,onEnter:Wn,onEntering:Jt,onEntered:S,onExit:Bt,onExiting:D,onExited:tr,manager:Et(),transition:T?hV:void 0,backdropTransition:T?pV:void 0,renderBackdrop:Dn,renderDialog:sn})})});OA.displayName="Modal";const jn=Object.assign(OA,{Body:bA,Header:PA,Title:DA,Footer:NA,Dialog:wv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),xA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"nav-item"),I(t,{ref:i,className:ye(n,e),...r})));xA.displayName="NavItem";const Ev=w.forwardRef(({bsPrefix:n,className:e,as:t=jl,active:r,eventKey:i,disabled:a=!1,...l},c)=>{n=we(n,"nav-link");const[f,p]=yv({key:Hl(i,l.href),active:r,disabled:a,...l});return I(t,{...l,...f,ref:c,disabled:a,className:ye(e,n,a&&"disabled",p.isActive&&"active")})});Ev.displayName="NavLink";const LA=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:a=!1,justify:l=!1,navbar:c,navbarScroll:f,className:p,activeKey:g,..._}=ba(n,{activeKey:"onSelect"}),T=we(r,"nav");let A,N,x=!1;const b=w.useContext(ka),z=w.useContext(lv);return b?(A=b.bsPrefix,x=c??!0):z&&({cardHeaderBsPrefix:N}=z),I(EA,{as:t,ref:e,activeKey:g,className:ye(p,{[T]:!x,[`${A}-nav`]:x,[`${A}-nav-scroll`]:x&&f,[`${N}-${i}`]:!!N,[`${T}-${i}`]:!!i,[`${T}-fill`]:a,[`${T}-justified`]:l}),..._})});LA.displayName="Nav";const ui=Object.assign(LA,{Item:xA,Link:Ev}),MA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=we(n,"navbar-brand");const a=t||(r.href?"a":"span");return I(a,{...r,ref:i,className:ye(e,n)})});MA.displayName="NavbarBrand";const VA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=we(e,"navbar-collapse");const i=w.useContext(ka);return I(pC,{in:!!(i&&i.expanded),...t,children:I("div",{ref:r,className:e,children:n})})});VA.displayName="NavbarCollapse";const $A=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:a,...l},c)=>{n=we(n,"navbar-toggler");const{onToggle:f,expanded:p}=w.useContext(ka)||{},g=Qr(_=>{a&&a(_),f&&f()});return i==="button"&&(l.type="button"),I(i,{...l,ref:c,onClick:g,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||I("span",{className:`${n}-icon`})})});$A.displayName="NavbarToggle";const ey=new WeakMap,BT=(n,e)=>{if(!n||!e)return;const t=ey.get(e)||new Map;ey.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function mV(n,e=typeof window>"u"?void 0:window){const t=BT(n,e),[r,i]=w.useState(()=>t?t.matches:!1);return dv(()=>{let a=BT(n,e);if(!a)return i(!1);let l=ey.get(e);const c=()=>{i(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function gV(n){const e=Object.keys(n);function t(c,f){return c===f?f:c?`${c} and ${f}`:f}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function i(c){const f=r(c);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(c){let f=n[c];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function l(c,f,p){let g;typeof c=="object"?(g=c,p=f,f=!0):(f=f||!0,g={[c]:f});let _=w.useMemo(()=>Object.entries(g).reduce((T,[A,N])=>((N==="up"||N===!0)&&(T=t(T,a(A))),(N==="down"||N===!0)&&(T=t(T,i(A))),T),""),[JSON.stringify(g)]);return mV(_,p)}return l}const yV=gV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),UA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"offcanvas-body"),I(t,{ref:i,className:ye(n,e),...r})));UA.displayName="OffcanvasBody";const vV={[di]:"show",[ss]:"show"},FA=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:a=!1,appear:l=!1,...c},f)=>(n=we(n,"offcanvas"),I(Fh,{ref:f,addEndListener:Uh,in:r,mountOnEnter:i,unmountOnExit:a,appear:l,...c,childRef:Na(t),children:(p,g)=>w.cloneElement(t,{...g,className:ye(e,t.props.className,(p===di||p===wc)&&`${n}-toggling`,vV[p])})})));FA.displayName="OffcanvasToggling";const jA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=we(n,"offcanvas-header"),I(kA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));jA.displayName="OffcanvasHeader";const _V=Wc("h5"),BA=w.forwardRef(({className:n,bsPrefix:e,as:t=_V,...r},i)=>(e=we(e,"offcanvas-title"),I(t,{ref:i,className:ye(n,e),...r})));BA.displayName="OffcanvasTitle";function wV(n){return I(FA,{...n})}function EV(n){return I(So,{...n})}const HA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:a,show:l=!1,backdrop:c=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:T,container:A,autoFocus:N=!0,enforceFocus:x=!0,restoreFocus:b=!0,restoreFocusOptions:z,onEntered:M,onExit:j,onExiting:B,onEnter:Z,onEntering:Y,onExited:S,backdropClassName:R,manager:D,renderStaticNode:k=!1,...L},$)=>{const O=w.useRef();n=we(n,"offcanvas");const[Ee,xe]=w.useState(!1),Be=Qr(T),Ne=yV(a||"xs","up");w.useEffect(()=>{xe(a?l&&!Ne:l)},[l,a,Ne]);const ne=w.useMemo(()=>({onHide:Be}),[Be]);function me(){return D||(p?(O.current||(O.current=new AA({handleContainerOverflow:!1})),O.current):RA())}const le=(ve,...Ie)=>{ve&&(ve.style.visibility="visible"),Z==null||Z(ve,...Ie)},H=(ve,...Ie)=>{ve&&(ve.style.visibility=""),S==null||S(...Ie)},ee=w.useCallback(ve=>I("div",{...ve,className:ye(`${n}-backdrop`,R)}),[R,n]),pe=ve=>I("div",{...ve,...L,className:ye(e,a?`${n}-${a}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return oe(hn,{children:[!Ee&&(a||k)&&pe({}),I(_v.Provider,{value:ne,children:I(CA,{show:Ee,ref:$,backdrop:c,container:A,keyboard:f,autoFocus:N,enforceFocus:x&&!p,restoreFocus:b,restoreFocusOptions:z,onEscapeKeyDown:g,onShow:_,onHide:Be,onEnter:le,onEntering:Y,onEntered:M,onExit:j,onExiting:B,onExited:H,manager:me(),transition:wV,backdropTransition:EV,renderBackdrop:ee,renderDialog:pe})})]})});HA.displayName="Offcanvas";const TV=Object.assign(HA,{Body:UA,Header:jA,Title:BA}),zA=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(ka),i=Qr(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return I(TV,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});zA.displayName="NavbarOffcanvas";const WA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=we(e,"navbar-text"),I(t,{ref:i,className:ye(n,e),...r})));WA.displayName="NavbarText";const qA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:a,fixed:l,sticky:c,className:f,as:p="nav",expanded:g,onToggle:_,onSelect:T,collapseOnSelect:A=!1,...N}=ba(n,{expanded:"onToggle"}),x=we(t,"navbar"),b=w.useCallback((...j)=>{T==null||T(...j),A&&g&&(_==null||_(!1))},[T,A,g,_]);N.role===void 0&&p!=="nav"&&(N.role="navigation");let z=`${x}-expand`;typeof r=="string"&&(z=`${z}-${r}`);const M=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:x,expanded:!!g,expand:r}),[x,g,r,_]);return I(ka.Provider,{value:M,children:I(va.Provider,{value:b,children:I(p,{ref:e,...N,className:ye(f,x,r&&z,i&&`${x}-${i}`,a&&`bg-${a}`,c&&`sticky-${c}`,l&&`fixed-${l}`)})})})});qA.displayName="Navbar";const Nf=Object.assign(qA,{Brand:MA,Collapse:VA,Offcanvas:zA,Text:WA,Toggle:$A}),KA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:i,rootCloseEvent:a,menuRole:l,disabled:c,active:f,renderMenuOnMount:p,menuVariant:g,..._},T)=>{const A=we(void 0,"nav-item");return oe(fa,{ref:T,..._,className:ye(i,A),children:[I(fa.Toggle,{id:n,eventKey:null,active:f,disabled:c,childBsPrefix:r,as:Ev,children:e}),I(fa.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:g,children:t})]})});KA.displayName="NavDropdown";const Ju=Object.assign(KA,{Item:fa.Item,ItemText:fa.ItemText,Divider:fa.Divider,Header:fa.Header}),IV=()=>{};function SV(n,e,{disabled:t,clickTrigger:r}={}){const i=e||IV;zC(n,i,{disabled:t,clickTrigger:r});const a=bn(l=>{fC(l)&&i(l)});w.useEffect(()=>{if(t||n==null)return;const l=ou(Hf(n));let c=(l.defaultView||window).event;const f=os(l,"keyup",p=>{if(p===c){c=void 0;return}a(p)});return()=>{f()}},[n,t,a])}const GA=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:i,containerPadding:a,popperConfig:l={},transition:c,runTransition:f}=n,[p,g]=Qg(),[_,T]=Qg(),A=Gc(g,e),N=Xg(n.container),x=Xg(n.target),[b,z]=w.useState(!n.show),M=HC(x,p,WC({placement:i,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:_,popperConfig:l}));n.show&&b&&z(!1);const j=(...L)=>{z(!0),n.onExited&&n.onExited(...L)},B=n.show||!b;if(SV(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!B)return null;const{onExit:Z,onExiting:Y,onEnter:S,onEntering:R,onEntered:D}=n;let k=n.children(Object.assign({},M.attributes.popper,{style:M.styles.popper,ref:A}),{popper:M,placement:i,show:!!n.show,arrowProps:Object.assign({},M.attributes.arrow,{style:M.styles.arrow,ref:T})});return k=Jg(c,f,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k,onExit:Z,onExiting:Y,onExited:j,onEnter:S,onEntering:R,onEntered:D}),N?lo.createPortal(k,N):null});GA.displayName="Overlay";const QA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"popover-header"),I(t,{ref:i,className:ye(n,e),...r})));QA.displayName="PopoverHeader";const Tv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"popover-body"),I(t,{ref:i,className:ye(n,e),...r})));Tv.displayName="PopoverBody";function YA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function XA(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const CV=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,body:a,arrowProps:l,hasDoneInitialMeasure:c,popper:f,show:p,...g},_)=>{const T=we(n,"popover"),A=Hc(),[N]=(e==null?void 0:e.split("-"))||[],x=YA(N,A);let b=r;return p&&!c&&(b={...r,...XA(f==null?void 0:f.strategy)}),oe("div",{ref:_,role:"tooltip",style:b,"x-placement":N,className:ye(t,T,N&&`bs-popover-${x}`),...g,children:[I("div",{className:"popover-arrow",...l}),a?I(Tv,{children:i}):i]})}),AV=Object.assign(CV,{Header:QA,Body:Tv,POPPER_OFFSET:[0,8]}),JA=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,arrowProps:a,hasDoneInitialMeasure:l,popper:c,show:f,...p},g)=>{n=we(n,"tooltip");const _=Hc(),[T]=(e==null?void 0:e.split("-"))||[],A=YA(T,_);let N=r;return f&&!l&&(N={...r,...XA(c==null?void 0:c.strategy)}),oe("div",{ref:g,style:N,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${A}`),...p,children:[I("div",{className:"tooltip-arrow",...a}),I("div",{className:`${n}-inner`,children:i})]})});JA.displayName="Tooltip";const ZA=Object.assign(JA,{TOOLTIP_OFFSET:[0,6]});function RV(n){const e=w.useRef(null),t=we(void 0,"popover"),r=we(void 0,"tooltip"),i=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Zg(e.current,t))return AV.POPPER_OFFSET;if(Zg(e.current,r))return ZA.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[i]]}function bV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=i=>t(sh(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(sh(i)))}const eR=w.forwardRef(({children:n,transition:e=So,popperConfig:t={},rootClose:r=!1,placement:i="top",show:a=!1,...l},c)=>{const f=w.useRef({}),[p,g]=w.useState(null),[_,T]=RV(l.offset),A=lu(c,_),N=e===!0?So:e||void 0,x=Qr(b=>{g(b),t==null||t.onFirstUpdate==null||t.onFirstUpdate(b)});return dv(()=>{p&&l.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{a||g(null)},[a]),I(GA,{...l,ref:A,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:x},transition:N,rootClose:r,placement:i,show:a,children:(b,{arrowProps:z,popper:M,show:j})=>{var B;bV(b,z);const Z=M==null?void 0:M.placement,Y=Object.assign(f.current,{state:M==null?void 0:M.state,scheduleUpdate:M==null?void 0:M.update,placement:Z,outOfBoundaries:(M==null||(B=M.state)==null||(B=B.modifiersData.hide)==null?void 0:B.isReferenceHidden)||!1,strategy:t.strategy}),S=!!p;return typeof n=="function"?n({...b,placement:Z,show:j,...!e&&j&&{className:"show"},popper:Y,arrowProps:z,hasDoneInitialMeasure:S}):w.cloneElement(n,{...b,placement:Z,arrowProps:z,popper:Y,hasDoneInitialMeasure:S,className:ye(n.props.className,!e&&j&&"show"),style:{...n.props.style,...b.style}})}})});eR.displayName="Overlay";function NV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function HT(n,e,t){const[r]=e,i=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==i)&&!Ec(i,a)&&n(...e)}Xn.oneOf(["click","hover","focus"]);const kV=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:i,defaultShow:a=!1,onToggle:l,delay:c,placement:f,flip:p=f&&f.indexOf("auto")!==-1,...g})=>{const _=w.useRef(null),T=lu(_,Na(t)),A=$C(),N=w.useRef(""),[x,b]=aC(i,a,l),z=NV(c),{onFocus:M,onBlur:j,onClick:B}=typeof t!="function"?w.Children.only(t).props:{},Z=xe=>{T(sh(xe))},Y=w.useCallback(()=>{if(A.clear(),N.current="show",!z.show){b(!0);return}A.set(()=>{N.current==="show"&&b(!0)},z.show)},[z.show,b,A]),S=w.useCallback(()=>{if(A.clear(),N.current="hide",!z.hide){b(!1);return}A.set(()=>{N.current==="hide"&&b(!1)},z.hide)},[z.hide,b,A]),R=w.useCallback((...xe)=>{Y(),M==null||M(...xe)},[Y,M]),D=w.useCallback((...xe)=>{S(),j==null||j(...xe)},[S,j]),k=w.useCallback((...xe)=>{b(!x),B==null||B(...xe)},[B,b,x]),L=w.useCallback((...xe)=>{HT(Y,xe,"fromElement")},[Y]),$=w.useCallback((...xe)=>{HT(S,xe,"toElement")},[S]),O=n==null?[]:[].concat(n),Ee={ref:Z};return O.indexOf("click")!==-1&&(Ee.onClick=k),O.indexOf("focus")!==-1&&(Ee.onFocus=R,Ee.onBlur=D),O.indexOf("hover")!==-1&&(Ee.onMouseOver=L,Ee.onMouseOut=$),oe(hn,{children:[typeof t=="function"?t(Ee):w.cloneElement(t,Ee),I(eR,{...g,show:x,onHide:S,flip:p,placement:f,popperConfig:r,target:_.current,children:e})]})},xi=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=we(n,"row"),l=lC(),c=uC(),f=`${a}-cols`,p=[];return l.forEach(g=>{const _=r[g];delete r[g];let T;_!=null&&typeof _=="object"?{cols:T}=_:T=_;const A=g!==c?`-${g}`:"";T!=null&&p.push(`${f}${A}-${T}`)}),I(t,{ref:i,...r,className:ye(e,a,...p)})});xi.displayName="Row";const qh=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:a,...l},c)=>{n=we(n,"spinner");const f=`${n}-${t}`;return I(i,{ref:c,...l,className:ye(a,f,r&&`${f}-${r}`,e&&`text-${e}`)})});qh.displayName="Spinner";function Te(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function f(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):i(g.value).then(c,f)}p((r=r.apply(n,[])).next())})}function PV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let Ue=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};Ue.equal=(n,e)=>new Ue("equal",n,e).toString();Ue.notEqual=(n,e)=>new Ue("notEqual",n,e).toString();Ue.lessThan=(n,e)=>new Ue("lessThan",n,e).toString();Ue.lessThanEqual=(n,e)=>new Ue("lessThanEqual",n,e).toString();Ue.greaterThan=(n,e)=>new Ue("greaterThan",n,e).toString();Ue.greaterThanEqual=(n,e)=>new Ue("greaterThanEqual",n,e).toString();Ue.isNull=n=>new Ue("isNull",n).toString();Ue.isNotNull=n=>new Ue("isNotNull",n).toString();Ue.between=(n,e,t)=>new Ue("between",n,[e,t]).toString();Ue.startsWith=(n,e)=>new Ue("startsWith",n,e).toString();Ue.endsWith=(n,e)=>new Ue("endsWith",n,e).toString();Ue.select=n=>new Ue("select",void 0,n).toString();Ue.search=(n,e)=>new Ue("search",n,e).toString();Ue.orderDesc=n=>new Ue("orderDesc",n).toString();Ue.orderAsc=n=>new Ue("orderAsc",n).toString();Ue.cursorAfter=n=>new Ue("cursorAfter",void 0,n).toString();Ue.cursorBefore=n=>new Ue("cursorBefore",void 0,n).toString();Ue.limit=n=>new Ue("limit",void 0,n).toString();Ue.offset=n=>new Ue("offset",void 0,n).toString();Ue.contains=(n,e)=>new Ue("contains",n,e).toString();Ue.or=n=>new Ue("or",void 0,n.map(e=>JSON.parse(e))).toString();Ue.and=n=>new Ue("and",void 0,n.map(e=>JSON.parse(e))).toString();class se extends Error{constructor(e,t=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=i}}class Wr{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(l=>{i.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+i.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var c,f,p;if(!this.realtime.reconnect||((f=(c=this.realtime)===null||c===void 0?void 0:c.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const g=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${g/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},g)}))},onMessage:e=>{var t,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],c=i.data;l&&!c.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let f=i.data;if(f!=null&&f.channels){if(!f.channels.some(g=>this.realtime.channels.has(g)))return;this.realtime.subscriptions.forEach(g=>{f.channels.some(_=>g.channels.includes(_))&&setTimeout(()=>g.callback(f))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,c]of Object.entries(Wr.flatten(i)))t.searchParams.append(l,c);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(i);break;case"multipart/form-data":const l=new FormData;for(const[c,f]of Object.entries(i))if(f instanceof File)l.append(c,f,f.name);else if(Array.isArray(f))for(const p of f)l.append(`${c}[]`,p);else l.append(c,f);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},i={},a){return Te(this,void 0,void 0,function*(){const l=Object.values(i).find(p=>p instanceof File);if(l.size<=Wr.CHUNK_SIZE)return yield this.call(e,t,r,i);let c=0,f=null;for(;c<l.size;){let p=c+Wr.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${c}-${p-1}/${l.size}`;const g=l.slice(c,p);let _=Object.assign(Object.assign({},i),{file:new File([g],l.name)});f=yield this.call(e,t,r,_),a&&typeof a=="function"&&a({$id:f.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/Wr.CHUNK_SIZE),chunksUploaded:Math.ceil(p/Wr.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),c=p}return f})}ping(){return Te(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},i={},a="json"){var l;return Te(this,void 0,void 0,function*(){const{uri:c,options:f}=this.prepareRequest(e,t,r,i);let p=null;const g=yield fetch(c,f),_=g.headers.get("x-appwrite-warning");if(_&&_.split(";").forEach(A=>console.warn("Warning: "+A)),!((l=g.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield g.json():a==="arrayBuffer"?p=yield g.arrayBuffer():p={message:yield g.text()},400<=g.status)throw new se(p==null?void 0:p.message,g.status,p==null?void 0:p.type,p);const T=g.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),Wr.flatten(a,l)):r[l]=a}return r}}Wr.CHUNK_SIZE=1024*1024*5;class po{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),po.flatten(a,l)):r[l]=a}return r}}po.CHUNK_SIZE=5*1024*1024;class DV{constructor(e){this.client=e}get(){return Te(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}create(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');if(typeof r>"u")throw new se('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof i<"u"&&(l.name=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}updateEmail(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}listIdentities(e){return Te(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}deleteIdentity(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createJWT(){return Te(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}listLogs(e){return Te(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateMFA(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaAuthenticator(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');if(typeof t>"u")throw new se('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deleteMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createMfaChallenge(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaChallenge(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "challengeId"');if(typeof t>"u")throw new se('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}listMfaFactors(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}getMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}createMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updateMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}updateName(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}updatePassword(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}updatePhone(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "phone"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}getPrefs(){return Te(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}updatePrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createRecovery(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateRecovery(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');if(typeof r>"u")throw new se('Missing required parameter: "password"');const i="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("put",l,c,a)})}listSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}deleteSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,t)})}createAnonymousSession(){return Te(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}createEmailPasswordSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateMagicURLSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createOAuth2Session(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(po.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}updatePhoneSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}getSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}deleteSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}updateStatus(){return Te(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}createPushTarget(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');if(typeof t>"u")throw new se('Missing required parameter: "identifier"');const i="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}updatePushTarget(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');if(typeof t>"u")throw new se('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof t<"u"&&(i.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deletePushTarget(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createEmailToken(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');const i="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}createMagicURLToken(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof i<"u"&&(l.phrase=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}createOAuth2Token(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(po.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}createPhoneToken(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}createVerification(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createPhoneVerification(){return Te(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updatePhoneVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}class OV{constructor(e){this.client=e}listDocuments(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createDocument(e,t,r,i,a){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');if(typeof i>"u")throw new se('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),c={};typeof r<"u"&&(c.documentId=r),typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",f,p,c)})}getDocument(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof i<"u"&&(l.queries=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("get",c,f,l)})}updateDocument(e,t,r,i,a){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),c={};typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",f,p,c)})}deleteDocument(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("delete",l,c,a)})}}class xV{constructor(e){this.client=e}listFiles(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createFile(e,t,r,i,a=l=>{}){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');if(typeof r>"u")throw new se('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),c={};typeof t<"u"&&(c.fileId=t),typeof r<"u"&&(c.file=r),typeof i<"u"&&(c.permissions=i);const f=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,p,c,a)})}getFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateFile(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof i<"u"&&(l.permissions=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("put",c,f,l)})}deleteFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}getFileDownload(e,t){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(po.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Wr.flatten(i)))a.searchParams.append(l,c);return a.toString()}getFilePreview(e,t,r,i,a,l,c,f,p,g,_,T,A){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const N="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),x={};typeof r<"u"&&(x.width=r),typeof i<"u"&&(x.height=i),typeof a<"u"&&(x.gravity=a),typeof l<"u"&&(x.quality=l),typeof c<"u"&&(x.borderWidth=c),typeof f<"u"&&(x.borderColor=f),typeof p<"u"&&(x.borderRadius=p),typeof g<"u"&&(x.opacity=g),typeof _<"u"&&(x.rotation=_),typeof T<"u"&&(x.background=T),typeof A<"u"&&(x.output=A);const b=new URL(this.client.config.endpoint+N);x.project=this.client.config.project;for(const[z,M]of Object.entries(po.flatten(x)))b.searchParams.append(z,M);x.project=this.client.config.project;for(const[z,M]of Object.entries(Wr.flatten(x)))b.searchParams.append(z,M);return b.toString()}getFileView(e,t){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(po.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Wr.flatten(i)))a.searchParams.append(l,c);return a.toString()}}class LV{constructor(e){this.client=e}list(e,t){return Te(this,void 0,void 0,function*(){const r="/teams",i={};typeof e<"u"&&(i.queries=e),typeof t<"u"&&(i.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}create(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "name"');const i="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}get(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateName(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),i={};typeof t<"u"&&(i.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}delete(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}listMemberships(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const i="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createMembership(e,t,r,i,a,l,c){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof i<"u"&&(p.userId=i),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof c<"u"&&(p.name=c);const g=new URL(this.client.config.endpoint+f),_={"content-type":"application/json"};return yield this.client.call("post",g,_,p)})}getMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateMembership(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');if(typeof r>"u")throw new se('Missing required parameter: "roles"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("patch",l,c,a)})}deleteMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}updateMembershipStatus(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');if(typeof r>"u")throw new se('Missing required parameter: "userId"');if(typeof i>"u")throw new se('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("patch",c,f,l)})}getPrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updatePrefs(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),i={};typeof t<"u"&&(i.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}var tR,nR;class zl{static custom(e){return e}static unique(e=7){const t=PV(zl,tR,"m",nR).call(zl);let r="";for(let i=0;i<e;i++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}tR=zl,nR=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var zT;(function(n){n.Totp="totp"})(zT||(zT={}));var WT;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(WT||(WT={}));var ty;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(ty||(ty={}));var qT;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(qT||(qT={}));var KT;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(KT||(KT={}));var GT;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(GT||(GT={}));var QT;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(QT||(QT={}));var YT;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(YT||(YT={}));var XT;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(XT||(XT={}));const Qc=new Wr;Qc.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const cu=new xV(Qc),Ic=new DV(Qc),zn=new OV(Qc),MV=new LV(Qc);async function VV(){return{session:await Ic.getSession("current")}}const Yc=async()=>{try{return await Ic.get()}catch(n){console.error(n)}};async function $V(){await Ic.deleteSession("current"),console.log("log out")}async function co(){const n=await Yc();return n?UV(n):(console.error("User data is undefined"),null)}function UV(n){return{name:n.name,$id:n.$id,email:n.email}}async function FV(){return{teams:(await MV.list()).teams}}const rR=w.createContext(void 0),jV=({children:n})=>{const e=BV();return I(rR.Provider,{value:e,children:n})};function BV(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const f=await VV();e(f.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:f}=await FV(),p=!!f.find(g=>g.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function i(){await Ic.createOAuth2Session(ty.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery")}async function a(c,f){try{await Ic.createEmailPasswordSession(c,f)}catch(p){console.error(p)}}async function l(){await $V(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:i,logInAdmin:a}}function Co(){const n=w.useContext(rR);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ut.apply(this,arguments)}var rn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rn||(rn={}));const JT="popstate";function HV(n){n===void 0&&(n={});function e(i,a){let{pathname:l="/",search:c="",hash:f=""}=Cs(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Sc("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");c=p===-1?f:f.slice(0,p)}return c+"#"+(typeof a=="string"?a:wa(a))}function r(i,a){_a(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return WV(e,t,r,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _a(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zV(){return Math.random().toString(36).substr(2,8)}function ZT(n,e){return{usr:n.state,key:n.key,idx:e}}function Sc(n,e,t,r){return t===void 0&&(t=null),Ut({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Cs(e):e,{state:t,key:e&&e.key||r||zV()})}function wa(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function WV(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c=rn.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(Ut({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){c=rn.Pop;let b=g(),z=b==null?null:b-p;p=b,f&&f({action:c,location:x.location,delta:z})}function T(b,z){c=rn.Push;let M=Sc(x.location,b,z);t&&t(M,b),p=g()+1;let j=ZT(M,p),B=x.createHref(M);try{l.pushState(j,"",B)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(B)}a&&f&&f({action:c,location:x.location,delta:1})}function A(b,z){c=rn.Replace;let M=Sc(x.location,b,z);t&&t(M,b),p=g();let j=ZT(M,p),B=x.createHref(M);l.replaceState(j,"",B),a&&f&&f({action:c,location:x.location,delta:0})}function N(b){let z=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof b=="string"?b:wa(b);return M=M.replace(/ $/,"%20"),ut(z,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,z)}let x={get action(){return c},get location(){return n(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(JT,_),f=b,()=>{i.removeEventListener(JT,_),f=null}},createHref(b){return e(i,b)},createURL:N,encodeLocation(b){let z=N(b);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:A,go(b){return l.go(b)}};return x}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const qV=new Set(["lazy","caseSensitive","path","id","index","children"]);function KV(n){return n.index===!0}function lh(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,a)=>{let l=[...t,String(a)],c=typeof i.id=="string"?i.id:l.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),KV(i)){let f=Ut({},i,e(i),{id:c});return r[c]=f,f}else{let f=Ut({},i,e(i),{id:c,children:void 0});return r[c]=f,i.children&&(f.children=lh(i.children,e,l,r)),f}})}function la(n,e,t){return t===void 0&&(t="/"),zf(n,e,t,!1)}function zf(n,e,t,r){let i=typeof e=="string"?Cs(e):e,a=gs(i.pathname||"/",t);if(a==null)return null;let l=iR(n);QV(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=o2(a);c=i2(l[f],p,r)}return c}function GV(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function iR(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=hs([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),iR(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:n2(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of sR(a.path))i(a,l,f)}),e}function sR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=sR(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function QV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:r2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const YV=/^:[\w-]+$/,XV=3,JV=2,ZV=1,e2=10,t2=-2,e0=n=>n==="*";function n2(n,e){let t=n.split("/"),r=t.length;return t.some(e0)&&(r+=t2),e&&(r+=JV),t.filter(i=>!e0(i)).reduce((i,a)=>i+(YV.test(a)?XV:a===""?ZV:e2),r)}function r2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function i2(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),T=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:hs([a,_.pathname]),pathnameBase:u2(hs([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=hs([a,_.pathnameBase]))}return l}function uh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=s2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:T,isOptional:A}=g;if(T==="*"){let x=c[_]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const N=c[_];return A&&!N?p[T]=void 0:p[T]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function s2(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),_a(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function o2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _a(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function a2(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Cs(n):n;return{pathname:t?t.startsWith("/")?t:l2(t,e):e,search:c2(r),hash:d2(i)}}function l2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function wg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Iv(n,e){let t=oR(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Sv(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Cs(n):(i=Ut({},n),ut(!i.pathname||!i.pathname.includes("?"),wg("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),wg("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),wg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;i.pathname=T.join("/")}c=_>=0?e[_]:"/"}let f=a2(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const hs=n=>n.join("/").replace(/\/\/+/g,"/"),u2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),c2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class ch{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Cc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const aR=["post","put","patch","delete"],f2=new Set(aR),h2=["get",...aR],p2=new Set(h2),m2=new Set([301,302,303,307,308]),g2=new Set([307,308]),Eg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},y2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v2=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),lR="remix-router-transitions";function _2(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let U=n.detectErrorBoundary;i=q=>({hasErrorBoundary:U(q)})}else i=v2;let a={},l=lh(n.routes,i,void 0,a),c,f=n.basename||"/",p=n.dataStrategy||I2,g=n.patchRoutesOnNavigation,_=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,A=new Set,N=null,x=null,b=null,z=n.hydrationData!=null,M=la(l,n.history.location,f),j=!1,B=null;if(M==null&&!g){let U=hr(404,{pathname:n.history.location.pathname}),{matches:q,route:X}=d0(l);M=q,B={[X.id]:U}}M&&!n.hydrationData&&_i(M,l,n.history.location.pathname).active&&(M=null);let Z;if(M)if(M.some(U=>U.route.lazy))Z=!1;else if(!M.some(U=>U.route.loader))Z=!0;else if(_.v7_partialHydration){let U=n.hydrationData?n.hydrationData.loaderData:null,q=n.hydrationData?n.hydrationData.errors:null;if(q){let X=M.findIndex(re=>q[re.route.id]!==void 0);Z=M.slice(0,X+1).every(re=>!ry(re.route,U,q))}else Z=M.every(X=>!ry(X.route,U,q))}else Z=n.hydrationData!=null;else if(Z=!1,M=[],_.v7_partialHydration){let U=_i(null,l,n.history.location.pathname);U.active&&U.matches&&(j=!0,M=U.matches)}let Y,S={historyAction:n.history.action,location:n.history.location,matches:M,initialized:Z,navigation:Eg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||B,fetchers:new Map,blockers:new Map},R=rn.Pop,D=!1,k,L=!1,$=new Map,O=null,Ee=!1,xe=!1,Be=[],Ne=new Set,ne=new Map,me=0,le=-1,H=new Map,ee=new Set,pe=new Map,ve=new Map,Ie=new Set,Ae=new Map,Ge=new Map,Fe;function st(){if(T=n.history.listen(U=>{let{action:q,location:X,delta:re}=U;if(Fe){Fe(),Fe=void 0;return}_a(Ge.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=Hi({currentLocation:S.location,nextLocation:X,historyAction:q});if(_e&&re!=null){let ke=new Promise(Qe=>{Fe=Qe});n.history.go(re*-1),Xr(_e,{state:"blocked",location:X,proceed(){Xr(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ke.then(()=>n.history.go(re))},reset(){let Qe=new Map(S.blockers);Qe.set(_e,Zu),it({blockers:Qe})}});return}return jt(q,X)}),t){V2(e,$);let U=()=>$2(e,$);e.addEventListener("pagehide",U),O=()=>e.removeEventListener("pagehide",U)}return S.initialized||jt(rn.Pop,S.location,{initialHydration:!0}),Y}function Et(){T&&T(),O&&O(),A.clear(),k&&k.abort(),S.fetchers.forEach((U,q)=>Kn(q)),S.blockers.forEach((U,q)=>yi(q))}function St(U){return A.add(U),()=>A.delete(U)}function it(U,q){q===void 0&&(q={}),S=Ut({},S,U);let X=[],re=[];_.v7_fetcherPersist&&S.fetchers.forEach((_e,ke)=>{_e.state==="idle"&&(Ie.has(ke)?re.push(ke):X.push(ke))}),Ie.forEach(_e=>{!S.fetchers.has(_e)&&!ne.has(_e)&&re.push(_e)}),[...A].forEach(_e=>_e(S,{deletedFetchers:re,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),_.v7_fetcherPersist?(X.forEach(_e=>S.fetchers.delete(_e)),re.forEach(_e=>Kn(_e))):re.forEach(_e=>Ie.delete(_e))}function kt(U,q,X){var re,_e;let{flushSync:ke}=X===void 0?{}:X,Qe=S.actionData!=null&&S.navigation.formMethod!=null&&ci(S.navigation.formMethod)&&S.navigation.state==="loading"&&((re=U.state)==null?void 0:re._isRedirect)!==!0,Pe;q.actionData?Object.keys(q.actionData).length>0?Pe=q.actionData:Pe=null:Qe?Pe=S.actionData:Pe=null;let Re=q.loaderData?u0(S.loaderData,q.loaderData,q.matches||[],q.errors):S.loaderData,Se=S.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Ze,Gt)=>Se.set(Gt,Zu)));let De=D===!0||S.navigation.formMethod!=null&&ci(S.navigation.formMethod)&&((_e=U.state)==null?void 0:_e._isRedirect)!==!0;c&&(l=c,c=void 0),Ee||R===rn.Pop||(R===rn.Push?n.history.push(U,U.state):R===rn.Replace&&n.history.replace(U,U.state));let et;if(R===rn.Pop){let Ze=$.get(S.location.pathname);Ze&&Ze.has(U.pathname)?et={currentLocation:S.location,nextLocation:U}:$.has(U.pathname)&&(et={currentLocation:U,nextLocation:S.location})}else if(L){let Ze=$.get(S.location.pathname);Ze?Ze.add(U.pathname):(Ze=new Set([U.pathname]),$.set(S.location.pathname,Ze)),et={currentLocation:S.location,nextLocation:U}}it(Ut({},q,{actionData:Pe,loaderData:Re,historyAction:R,location:U,initialized:!0,navigation:Eg,revalidation:"idle",restoreScrollPosition:vi(U,q.matches||S.matches),preventScrollReset:De,blockers:Se}),{viewTransitionOpts:et,flushSync:ke===!0}),R=rn.Pop,D=!1,L=!1,Ee=!1,xe=!1,Be=[]}async function Kt(U,q){if(typeof U=="number"){n.history.go(U);return}let X=ny(S.location,S.matches,f,_.v7_prependBasename,U,_.v7_relativeSplatPath,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:re,submission:_e,error:ke}=t0(_.v7_normalizeFormMethod,!1,X,q),Qe=S.location,Pe=Sc(S.location,re,q&&q.state);Pe=Ut({},Pe,n.history.encodeLocation(Pe));let Re=q&&q.replace!=null?q.replace:void 0,Se=rn.Push;Re===!0?Se=rn.Replace:Re===!1||_e!=null&&ci(_e.formMethod)&&_e.formAction===S.location.pathname+S.location.search&&(Se=rn.Replace);let De=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,et=(q&&q.flushSync)===!0,Ze=Hi({currentLocation:Qe,nextLocation:Pe,historyAction:Se});if(Ze){Xr(Ze,{state:"blocked",location:Pe,proceed(){Xr(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),Kt(U,q)},reset(){let Gt=new Map(S.blockers);Gt.set(Ze,Zu),it({blockers:Gt})}});return}return await jt(Se,Pe,{submission:_e,pendingError:ke,preventScrollReset:De,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:et})}function rt(){if(mt(),it({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){jt(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}jt(R||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:L===!0})}}async function jt(U,q,X){k&&k.abort(),k=null,R=U,Ee=(X&&X.startUninterruptedRevalidation)===!0,Fo(S.location,S.matches),D=(X&&X.preventScrollReset)===!0,L=(X&&X.enableViewTransition)===!0;let re=c||l,_e=X&&X.overrideNavigation,ke=X!=null&&X.initialHydration&&S.matches&&S.matches.length>0&&!j?S.matches:la(re,q,f),Qe=(X&&X.flushSync)===!0,Pe=_i(ke,re,q.pathname);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){let{error:Tt,notFoundMatches:at,route:Rt}=On(q.pathname);kt(q,{matches:at,loaderData:{},errors:{[Rt.id]:Tt}},{flushSync:Qe});return}if(S.initialized&&!xe&&N2(S.location,q)&&!(X&&X.submission&&ci(X.submission.formMethod))){kt(q,{matches:ke},{flushSync:Qe});return}k=new AbortController;let Re=vl(n.history,q,k.signal,X&&X.submission),Se;if(X&&X.pendingError)Se=[ua(ke).route.id,{type:Nt.error,error:X.pendingError}];else if(X&&X.submission&&ci(X.submission.formMethod)){let Tt=await pn(Re,q,X.submission,ke,Pe.active,{replace:X.replace,flushSync:Qe});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[at,Rt]=Tt.pendingActionResult;if(br(Rt)&&Cc(Rt.error)&&Rt.error.status===404){k=null,kt(q,{matches:Tt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}ke=Tt.matches||ke,Se=Tt.pendingActionResult,_e=Tg(q,X.submission),Qe=!1,Pe.active=!1,Re=vl(n.history,Re.url,Re.signal)}let{shortCircuited:De,matches:et,loaderData:Ze,errors:Gt}=await Or(Re,q,ke,Pe.active,_e,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Qe,Se);De||(k=null,kt(q,Ut({matches:et||ke},c0(Se),{loaderData:Ze,errors:Gt})))}async function pn(U,q,X,re,_e,ke){ke===void 0&&(ke={}),mt();let Qe=L2(q,X);if(it({navigation:Qe},{flushSync:ke.flushSync===!0}),_e){let Se=await ir(re,q.pathname,U.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let De=ua(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[De,{type:Nt.error,error:Se.error}]}}else if(Se.matches)re=Se.matches;else{let{notFoundMatches:De,error:et,route:Ze}=On(q.pathname);return{matches:De,pendingActionResult:[Ze.id,{type:Nt.error,error:et}]}}}let Pe,Re=ic(re,q);if(!Re.route.action&&!Re.route.lazy)Pe={type:Nt.error,error:hr(405,{method:U.method,pathname:q.pathname,routeId:Re.route.id})};else if(Pe=(await sn("action",S,U,[Re],re,null))[Re.route.id],U.signal.aborted)return{shortCircuited:!0};if(ha(Pe)){let Se;return ke&&ke.replace!=null?Se=ke.replace:Se=o0(Pe.response.headers.get("Location"),new URL(U.url),f)===S.location.pathname+S.location.search,await Dt(U,Pe,!0,{submission:X,replace:Se}),{shortCircuited:!0}}if(fo(Pe))throw hr(400,{type:"defer-action"});if(br(Pe)){let Se=ua(re,Re.route.id);return(ke&&ke.replace)!==!0&&(R=rn.Push),{matches:re,pendingActionResult:[Se.route.id,Pe]}}return{matches:re,pendingActionResult:[Re.route.id,Pe]}}async function Or(U,q,X,re,_e,ke,Qe,Pe,Re,Se,De){let et=_e||Tg(q,ke),Ze=ke||Qe||h0(et),Gt=!Ee&&(!_.v7_partialHydration||!Re);if(re){if(Gt){let Ct=Wn(De);it(Ut({navigation:et},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Se})}let dt=await ir(X,q.pathname,U.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Ct=ua(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Ct]:dt.error}}}else if(dt.matches)X=dt.matches;else{let{error:Ct,notFoundMatches:Zt,route:Ti}=On(q.pathname);return{matches:Zt,loaderData:{},errors:{[Ti.id]:Ct}}}}let Tt=c||l,[at,Rt]=r0(n.history,S,X,Ze,q,_.v7_partialHydration&&Re===!0,_.v7_skipActionErrorRevalidation,xe,Be,Ne,Ie,pe,ee,Tt,f,De);if(rr(dt=>!(X&&X.some(Ct=>Ct.route.id===dt))||at&&at.some(Ct=>Ct.route.id===dt)),le=++me,at.length===0&&Rt.length===0){let dt=nr();return kt(q,Ut({matches:X,loaderData:{},errors:De&&br(De[1])?{[De[0]]:De[1].error}:null},c0(De),dt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Se}),{shortCircuited:!0}}if(Gt){let dt={};if(!re){dt.navigation=et;let Ct=Wn(De);Ct!==void 0&&(dt.actionData=Ct)}Rt.length>0&&(dt.fetchers=Bt(Rt)),it(dt,{flushSync:Se})}Rt.forEach(dt=>{ot(dt.key),dt.controller&&ne.set(dt.key,dt.controller)});let xr=()=>Rt.forEach(dt=>ot(dt.key));k&&k.signal.addEventListener("abort",xr);let{loaderResults:wi,fetcherResults:_r}=await $e(S,X,at,Rt,U);if(U.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",xr),Rt.forEach(dt=>ne.delete(dt.key));let ct=kf(wi);if(ct)return await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};if(ct=kf(_r),ct)return ee.add(ct.key),await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Ps,errors:wr}=l0(S,X,wi,De,Rt,_r,Ae);Ae.forEach((dt,Ct)=>{dt.subscribe(Zt=>{(Zt||dt.done)&&Ae.delete(Ct)})}),_.v7_partialHydration&&Re&&S.errors&&(wr=Ut({},S.errors,wr));let xn=nr(),Tn=gi(le),Ei=xn||Tn||Rt.length>0;return Ut({matches:X,loaderData:Ps,errors:wr},Ei?{fetchers:new Map(S.fetchers)}:{})}function Wn(U){if(U&&!br(U[1]))return{[U[0]]:U[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Bt(U){return U.forEach(q=>{let X=S.fetchers.get(q.key),re=ec(void 0,X?X.data:void 0);S.fetchers.set(q.key,re)}),new Map(S.fetchers)}function Jt(U,q,X,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ot(U);let _e=(re&&re.flushSync)===!0,ke=c||l,Qe=ny(S.location,S.matches,f,_.v7_prependBasename,X,_.v7_relativeSplatPath,q,re==null?void 0:re.relative),Pe=la(ke,Qe,f),Re=_i(Pe,ke,Qe);if(Re.active&&Re.matches&&(Pe=Re.matches),!Pe){mn(U,q,hr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Se,submission:De,error:et}=t0(_.v7_normalizeFormMethod,!0,Qe,re);if(et){mn(U,q,et,{flushSync:_e});return}let Ze=ic(Pe,Se),Gt=(re&&re.preventScrollReset)===!0;if(De&&ci(De.formMethod)){tr(U,q,Se,Ze,Pe,Re.active,_e,Gt,De);return}pe.set(U,{routeId:q,path:Se}),Dn(U,q,Se,Ze,Pe,Re.active,_e,Gt,De)}async function tr(U,q,X,re,_e,ke,Qe,Pe,Re){mt(),pe.delete(U);function Se(ft){if(!ft.route.action&&!ft.route.lazy){let Lr=hr(405,{method:Re.formMethod,pathname:X,routeId:q});return mn(U,q,Lr,{flushSync:Qe}),!0}return!1}if(!ke&&Se(re))return;let De=S.fetchers.get(U);Ot(U,M2(Re,De),{flushSync:Qe});let et=new AbortController,Ze=vl(n.history,X,et.signal,Re);if(ke){let ft=await ir(_e,new URL(Ze.url).pathname,Ze.signal);if(ft.type==="aborted")return;if(ft.type==="error"){mn(U,q,ft.error,{flushSync:Qe});return}else if(ft.matches){if(_e=ft.matches,re=ic(_e,X),Se(re))return}else{mn(U,q,hr(404,{pathname:X}),{flushSync:Qe});return}}ne.set(U,et);let Gt=me,at=(await sn("action",S,Ze,[re],_e,U))[re.route.id];if(Ze.signal.aborted){ne.get(U)===et&&ne.delete(U);return}if(_.v7_fetcherPersist&&Ie.has(U)){if(ha(at)||br(at)){Ot(U,no(void 0));return}}else{if(ha(at))if(ne.delete(U),le>Gt){Ot(U,no(void 0));return}else return ee.add(U),Ot(U,ec(Re)),Dt(Ze,at,!1,{fetcherSubmission:Re,preventScrollReset:Pe});if(br(at)){mn(U,q,at.error);return}}if(fo(at))throw hr(400,{type:"defer-action"});let Rt=S.navigation.location||S.location,xr=vl(n.history,Rt,et.signal),wi=c||l,_r=S.navigation.state!=="idle"?la(wi,S.navigation.location,f):S.matches;ut(_r,"Didn't find any matches after fetcher action");let ct=++me;H.set(U,ct);let Ps=ec(Re,at.data);S.fetchers.set(U,Ps);let[wr,xn]=r0(n.history,S,_r,Re,Rt,!1,_.v7_skipActionErrorRevalidation,xe,Be,Ne,Ie,pe,ee,wi,f,[re.route.id,at]);xn.filter(ft=>ft.key!==U).forEach(ft=>{let Lr=ft.key,Bo=S.fetchers.get(Lr),xa=ec(void 0,Bo?Bo.data:void 0);S.fetchers.set(Lr,xa),ot(Lr),ft.controller&&ne.set(Lr,ft.controller)}),it({fetchers:new Map(S.fetchers)});let Tn=()=>xn.forEach(ft=>ot(ft.key));et.signal.addEventListener("abort",Tn);let{loaderResults:Ei,fetcherResults:dt}=await $e(S,_r,wr,xn,xr);if(et.signal.aborted)return;et.signal.removeEventListener("abort",Tn),H.delete(U),ne.delete(U),xn.forEach(ft=>ne.delete(ft.key));let Ct=kf(Ei);if(Ct)return Dt(xr,Ct.result,!1,{preventScrollReset:Pe});if(Ct=kf(dt),Ct)return ee.add(Ct.key),Dt(xr,Ct.result,!1,{preventScrollReset:Pe});let{loaderData:Zt,errors:Ti}=l0(S,_r,Ei,void 0,xn,dt,Ae);if(S.fetchers.has(U)){let ft=no(at.data);S.fetchers.set(U,ft)}gi(ct),S.navigation.state==="loading"&&ct>le?(ut(R,"Expected pending action"),k&&k.abort(),kt(S.navigation.location,{matches:_r,loaderData:Zt,errors:Ti,fetchers:new Map(S.fetchers)})):(it({errors:Ti,loaderData:u0(S.loaderData,Zt,_r,Ti),fetchers:new Map(S.fetchers)}),xe=!1)}async function Dn(U,q,X,re,_e,ke,Qe,Pe,Re){let Se=S.fetchers.get(U);Ot(U,ec(Re,Se?Se.data:void 0),{flushSync:Qe});let De=new AbortController,et=vl(n.history,X,De.signal);if(ke){let at=await ir(_e,new URL(et.url).pathname,et.signal);if(at.type==="aborted")return;if(at.type==="error"){mn(U,q,at.error,{flushSync:Qe});return}else if(at.matches)_e=at.matches,re=ic(_e,X);else{mn(U,q,hr(404,{pathname:X}),{flushSync:Qe});return}}ne.set(U,De);let Ze=me,Tt=(await sn("loader",S,et,[re],_e,U))[re.route.id];if(fo(Tt)&&(Tt=await Av(Tt,et.signal,!0)||Tt),ne.get(U)===De&&ne.delete(U),!et.signal.aborted){if(Ie.has(U)){Ot(U,no(void 0));return}if(ha(Tt))if(le>Ze){Ot(U,no(void 0));return}else{ee.add(U),await Dt(et,Tt,!1,{preventScrollReset:Pe});return}if(br(Tt)){mn(U,q,Tt.error);return}ut(!fo(Tt),"Unhandled fetcher deferred data"),Ot(U,no(Tt.data))}}async function Dt(U,q,X,re){let{submission:_e,fetcherSubmission:ke,preventScrollReset:Qe,replace:Pe}=re===void 0?{}:re;q.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let Re=q.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=o0(Re,new URL(U.url),f);let Se=Sc(S.location,Re,{_isRedirect:!0});if(t){let at=!1;if(q.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(Cv.test(Re)){const Rt=n.history.createURL(Re);at=Rt.origin!==e.location.origin||gs(Rt.pathname,f)==null}if(at){Pe?e.location.replace(Re):e.location.assign(Re);return}}k=null;let De=Pe===!0||q.response.headers.has("X-Remix-Replace")?rn.Replace:rn.Push,{formMethod:et,formAction:Ze,formEncType:Gt}=S.navigation;!_e&&!ke&&et&&Ze&&Gt&&(_e=h0(S.navigation));let Tt=_e||ke;if(g2.has(q.response.status)&&Tt&&ci(Tt.formMethod))await jt(De,Se,{submission:Ut({},Tt,{formAction:Re}),preventScrollReset:Qe||D,enableViewTransition:X?L:void 0});else{let at=Tg(Se,_e);await jt(De,Se,{overrideNavigation:at,fetcherSubmission:ke,preventScrollReset:Qe||D,enableViewTransition:X?L:void 0})}}async function sn(U,q,X,re,_e,ke){let Qe,Pe={};try{Qe=await S2(p,U,q,X,re,_e,ke,a,i)}catch(Re){return re.forEach(Se=>{Pe[Se.route.id]={type:Nt.error,error:Re}}),Pe}for(let[Re,Se]of Object.entries(Qe))if(k2(Se)){let De=Se.result;Pe[Re]={type:Nt.redirect,response:R2(De,X,Re,_e,f,_.v7_relativeSplatPath)}}else Pe[Re]=await A2(Se);return Pe}async function $e(U,q,X,re,_e){let ke=U.matches,Qe=sn("loader",U,_e,X,q,null),Pe=Promise.all(re.map(async De=>{if(De.matches&&De.match&&De.controller){let Ze=(await sn("loader",U,vl(n.history,De.path,De.controller.signal),[De.match],De.matches,De.key))[De.match.route.id];return{[De.key]:Ze}}else return Promise.resolve({[De.key]:{type:Nt.error,error:hr(404,{pathname:De.path})}})})),Re=await Qe,Se=(await Pe).reduce((De,et)=>Object.assign(De,et),{});return await Promise.all([O2(q,Re,_e.signal,ke,U.loaderData),x2(q,Se,re)]),{loaderResults:Re,fetcherResults:Se}}function mt(){xe=!0,Be.push(...rr()),pe.forEach((U,q)=>{ne.has(q)&&Ne.add(q),ot(q)})}function Ot(U,q,X){X===void 0&&(X={}),S.fetchers.set(U,q),it({fetchers:new Map(S.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function mn(U,q,X,re){re===void 0&&(re={});let _e=ua(S.matches,q);Kn(U),it({errors:{[_e.route.id]:X},fetchers:new Map(S.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function qn(U){return ve.set(U,(ve.get(U)||0)+1),Ie.has(U)&&Ie.delete(U),S.fetchers.get(U)||y2}function Kn(U){let q=S.fetchers.get(U);ne.has(U)&&!(q&&q.state==="loading"&&H.has(U))&&ot(U),pe.delete(U),H.delete(U),ee.delete(U),_.v7_fetcherPersist&&Ie.delete(U),Ne.delete(U),S.fetchers.delete(U)}function He(U){let q=(ve.get(U)||0)-1;q<=0?(ve.delete(U),Ie.add(U),_.v7_fetcherPersist||Kn(U)):ve.set(U,q),it({fetchers:new Map(S.fetchers)})}function ot(U){let q=ne.get(U);q&&(q.abort(),ne.delete(U))}function gn(U){for(let q of U){let X=qn(q),re=no(X.data);S.fetchers.set(q,re)}}function nr(){let U=[],q=!1;for(let X of ee){let re=S.fetchers.get(X);ut(re,"Expected fetcher: "+X),re.state==="loading"&&(ee.delete(X),U.push(X),q=!0)}return gn(U),q}function gi(U){let q=[];for(let[X,re]of H)if(re<U){let _e=S.fetchers.get(X);ut(_e,"Expected fetcher: "+X),_e.state==="loading"&&(ot(X),H.delete(X),q.push(X))}return gn(q),q.length>0}function Uo(U,q){let X=S.blockers.get(U)||Zu;return Ge.get(U)!==q&&Ge.set(U,q),X}function yi(U){S.blockers.delete(U),Ge.delete(U)}function Xr(U,q){let X=S.blockers.get(U)||Zu;ut(X.state==="unblocked"&&q.state==="blocked"||X.state==="blocked"&&q.state==="blocked"||X.state==="blocked"&&q.state==="proceeding"||X.state==="blocked"&&q.state==="unblocked"||X.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+q.state);let re=new Map(S.blockers);re.set(U,q),it({blockers:re})}function Hi(U){let{currentLocation:q,nextLocation:X,historyAction:re}=U;if(Ge.size===0)return;Ge.size>1&&_a(!1,"A router only supports one blocker at a time");let _e=Array.from(Ge.entries()),[ke,Qe]=_e[_e.length-1],Pe=S.blockers.get(ke);if(!(Pe&&Pe.state==="proceeding")&&Qe({currentLocation:q,nextLocation:X,historyAction:re}))return ke}function On(U){let q=hr(404,{pathname:U}),X=c||l,{matches:re,route:_e}=d0(X);return rr(),{notFoundMatches:re,route:_e,error:q}}function rr(U){let q=[];return Ae.forEach((X,re)=>{(!U||U(re))&&(X.cancel(),q.push(re),Ae.delete(re))}),q}function ks(U,q,X){if(N=U,b=q,x=X||null,!z&&S.navigation===Eg){z=!0;let re=vi(S.location,S.matches);re!=null&&it({restoreScrollPosition:re})}return()=>{N=null,b=null,x=null}}function vr(U,q){return x&&x(U,q.map(re=>GV(re,S.loaderData)))||U.key}function Fo(U,q){if(N&&b){let X=vr(U,q);N[X]=b()}}function vi(U,q){if(N){let X=vr(U,q),re=N[X];if(typeof re=="number")return re}return null}function _i(U,q,X){if(g)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:zf(q,X,f,!0)}}else return{active:!0,matches:zf(q,X,f,!0)||[]};return{active:!1,matches:null}}async function ir(U,q,X){if(!g)return{type:"success",matches:U};let re=U;for(;;){let _e=c==null,ke=c||l,Qe=a;try{await g({signal:X,path:q,matches:re,patch:(Se,De)=>{X.aborted||s0(Se,De,ke,Qe,i)}})}catch(Se){return{type:"error",error:Se,partialMatches:re}}finally{_e&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let Pe=la(ke,q,f);if(Pe)return{type:"success",matches:Pe};let Re=zf(ke,q,f,!0);if(!Re||re.length===Re.length&&re.every((Se,De)=>Se.route.id===Re[De].route.id))return{type:"success",matches:null};re=Re}}function jo(U){a={},c=lh(U,i,void 0,a)}function Ht(U,q){let X=c==null;s0(U,q,c||l,a,i),X&&(l=[...l],it({}))}return Y={get basename(){return f},get future(){return _},get state(){return S},get routes(){return l},get window(){return e},initialize:st,subscribe:St,enableScrollRestoration:ks,navigate:Kt,fetch:Jt,revalidate:rt,createHref:U=>n.history.createHref(U),encodeLocation:U=>n.history.encodeLocation(U),getFetcher:qn,deleteFetcher:He,dispose:Et,getBlocker:Uo,deleteBlocker:yi,patchRoutes:Ht,_internalFetchControllers:ne,_internalActiveDeferreds:Ae,_internalSetRoutes:jo},Y}function w2(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ny(n,e,t,r,i,a,l,c){let f,p;if(l){f=[];for(let _ of e)if(f.push(_),_.route.id===l){p=_;break}}else f=e,p=e[e.length-1];let g=Sv(i||".",Iv(f,a),gs(n.pathname,t)||n.pathname,c==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&p){let _=Rv(g.search);if(p.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&_){let T=new URLSearchParams(g.search),A=T.getAll("index");T.delete("index"),A.filter(x=>x).forEach(x=>T.append("index",x));let N=T.toString();g.search=N?"?"+N:""}}return r&&t!=="/"&&(g.pathname=g.pathname==="/"?t:hs([t,g.pathname])),wa(g)}function t0(n,e,t,r){if(!r||!w2(r))return{path:t};if(r.formMethod&&!D2(r.formMethod))return{path:t,error:hr(405,{method:r.formMethod})};let i=()=>({path:t,error:hr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),c=dR(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ci(l))return i();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((A,N)=>{let[x,b]=N;return""+A+x+"="+b+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!ci(l))return i();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=iy(r.formData),p=r.formData;else if(r.body instanceof FormData)f=iy(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=a0(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=a0(f)}catch{return i()}let g={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ci(g.formMethod))return{path:t,submission:g};let _=Cs(t);return e&&_.search&&Rv(_.search)&&f.append("index",""),_.search="?"+f,{path:wa(_),submission:g}}function n0(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function r0(n,e,t,r,i,a,l,c,f,p,g,_,T,A,N,x){let b=x?br(x[1])?x[1].error:x[1].data:void 0,z=n.createURL(e.location),M=n.createURL(i),j=t;a&&e.errors?j=n0(t,Object.keys(e.errors)[0],!0):x&&br(x[1])&&(j=n0(t,x[0]));let B=x?x[1].statusCode:void 0,Z=l&&B&&B>=400,Y=j.filter((R,D)=>{let{route:k}=R;if(k.lazy)return!0;if(k.loader==null)return!1;if(a)return ry(k,e.loaderData,e.errors);if(E2(e.loaderData,e.matches[D],R)||f.some(O=>O===R.route.id))return!0;let L=e.matches[D],$=R;return i0(R,Ut({currentUrl:z,currentParams:L.params,nextUrl:M,nextParams:$.params},r,{actionResult:b,actionStatus:B,defaultShouldRevalidate:Z?!1:c||z.pathname+z.search===M.pathname+M.search||z.search!==M.search||uR(L,$)}))}),S=[];return _.forEach((R,D)=>{if(a||!t.some(Ee=>Ee.route.id===R.routeId)||g.has(D))return;let k=la(A,R.path,N);if(!k){S.push({key:D,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(D),$=ic(k,R.path),O=!1;T.has(D)?O=!1:p.has(D)?(p.delete(D),O=!0):L&&L.state!=="idle"&&L.data===void 0?O=c:O=i0($,Ut({currentUrl:z,currentParams:e.matches[e.matches.length-1].params,nextUrl:M,nextParams:t[t.length-1].params},r,{actionResult:b,actionStatus:B,defaultShouldRevalidate:Z?!1:c})),O&&S.push({key:D,routeId:R.routeId,path:R.path,matches:k,match:$,controller:new AbortController})}),[Y,S]}function ry(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function E2(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function uR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function i0(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function s0(n,e,t,r,i){var a;let l;if(n){let p=r[n];ut(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(g=>cR(p,g))),f=lh(c,i,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...f)}function cR(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>cR(t,a))}):!1}async function T2(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];ut(i,"No route found in manifest");let a={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";_a(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!qV.has(l)&&(a[l]=r[l])}Object.assign(i,a),Object.assign(i,Ut({},e(i),{lazy:void 0}))}async function I2(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,a,l)=>Object.assign(i,{[t[l].route.id]:a}),{})}async function S2(n,e,t,r,i,a,l,c,f,p){let g=a.map(A=>A.route.lazy?T2(A.route,f,c):void 0),_=a.map((A,N)=>{let x=g[N],b=i.some(M=>M.route.id===A.route.id);return Ut({},A,{shouldLoad:b,resolve:async M=>(M&&r.method==="GET"&&(A.route.lazy||A.route.loader)&&(b=!0),b?C2(e,r,A,x,M,p):Promise.resolve({type:Nt.data,result:void 0}))})}),T=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return T}async function C2(n,e,t,r,i,a){let l,c,f=p=>{let g,_=new Promise((N,x)=>g=x);c=()=>g(),e.signal.addEventListener("abort",c);let T=N=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...N!==void 0?[N]:[]),A=(async()=>{try{return{type:"data",result:await(i?i(x=>T(x)):T())}}catch(N){return{type:"error",result:N}}})();return Promise.race([A,_])};try{let p=t.route[n];if(r)if(p){let g,[_]=await Promise.all([f(p).catch(T=>{g=T}),r]);if(g!==void 0)throw g;l=_}else if(await r,p=t.route[n],p)l=await f(p);else if(n==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw hr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await f(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw hr(404,{pathname:_})}ut(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function A2(n){let{result:e,type:t}=n;if(fR(e)){let _;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(T){return{type:Nt.error,error:T}}return t===Nt.error?{type:Nt.error,error:new ch(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:_,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(f0(e)){var r,i;if(e.data instanceof Error){var a,l;return{type:Nt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new ch(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Cc(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:Cc(e)?e.status:void 0}}if(P2(e)){var c,f;return{type:Nt.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(f0(e)){var p,g;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function R2(n,e,t,r,i,a){let l=n.headers.get("Location");if(ut(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cv.test(l)){let c=r.slice(0,r.findIndex(f=>f.route.id===t)+1);l=ny(new URL(e.url),c,i,!0,l,a),n.headers.set("Location",l)}return n}function o0(n,e,t){if(Cv.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=gs(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return n}function vl(n,e,t,r){let i=n.createURL(dR(e)).toString(),a={signal:t};if(r&&ci(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=iy(r.formData):a.body=r.formData}return new Request(i,a)}function iy(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function a0(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function b2(n,e,t,r,i){let a={},l=null,c,f=!1,p={},g=t&&br(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let T=_.route.id,A=e[T];if(ut(!ha(A),"Cannot handle redirect results in processLoaderData"),br(A)){let N=A.error;g!==void 0&&(N=g,g=void 0),l=l||{};{let x=ua(n,T);l[x.route.id]==null&&(l[x.route.id]=N)}a[T]=void 0,f||(f=!0,c=Cc(A.error)?A.error.status:500),A.headers&&(p[T]=A.headers)}else fo(A)?(r.set(T,A.deferredData),a[T]=A.deferredData.data,A.statusCode!=null&&A.statusCode!==200&&!f&&(c=A.statusCode),A.headers&&(p[T]=A.headers)):(a[T]=A.data,A.statusCode&&A.statusCode!==200&&!f&&(c=A.statusCode),A.headers&&(p[T]=A.headers))}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:p}}function l0(n,e,t,r,i,a,l){let{loaderData:c,errors:f}=b2(e,t,r,l);return i.forEach(p=>{let{key:g,match:_,controller:T}=p,A=a[g];if(ut(A,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(br(A)){let N=ua(n.matches,_==null?void 0:_.route.id);f&&f[N.route.id]||(f=Ut({},f,{[N.route.id]:A.error})),n.fetchers.delete(g)}else if(ha(A))ut(!1,"Unhandled fetcher revalidation redirect");else if(fo(A))ut(!1,"Unhandled fetcher deferred data");else{let N=no(A.data);n.fetchers.set(g,N)}}),{loaderData:c,errors:f}}function u0(n,e,t,r){let i=Ut({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&a.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function c0(n){return n?br(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ua(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function d0(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(n,e){let{pathname:t,routeId:r,method:i,type:a,message:l}=e===void 0?{}:e,c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&t&&r?f="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f='Route "'+r+'" does not match URL "'+t+'"'):n===404?(c="Not Found",f='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",i&&t&&r?f="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new ch(n||500,c,new Error(f),!0)}function kf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(ha(i))return{key:r,result:i}}}function dR(n){let e=typeof n=="string"?Cs(n):n;return wa(Ut({},e,{hash:""}))}function N2(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function k2(n){return fR(n.result)&&m2.has(n.result.status)}function fo(n){return n.type===Nt.deferred}function br(n){return n.type===Nt.error}function ha(n){return(n&&n.type)===Nt.redirect}function f0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function P2(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function fR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function D2(n){return p2.has(n.toLowerCase())}function ci(n){return f2.has(n.toLowerCase())}async function O2(n,e,t,r,i){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[c,f]=a[l],p=n.find(T=>(T==null?void 0:T.route.id)===c);if(!p)continue;let g=r.find(T=>T.route.id===p.route.id),_=g!=null&&!uR(g,p)&&(i&&i[p.route.id])!==void 0;fo(f)&&_&&await Av(f,t,!1).then(T=>{T&&(e[c]=T)})}}async function x2(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:a,controller:l}=t[r],c=e[i];n.find(p=>(p==null?void 0:p.route.id)===a)&&fo(c)&&(ut(l,"Expected an AbortController for revalidating fetcher deferred result"),await Av(c,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function Av(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Nt.error,error:i}}return{type:Nt.data,data:n.deferredData.data}}}function Rv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ic(n,e){let t=typeof e=="string"?Cs(e).search:e.search;if(n[n.length-1].route.index&&Rv(t||""))return n[n.length-1];let r=oR(n);return r[r.length-1]}function h0(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:a,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Tg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function L2(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ec(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function M2(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function no(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function V2(n,e){try{let t=n.sessionStorage.getItem(lR);if(t){let r=JSON.parse(t);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function $2(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(lR,JSON.stringify(t))}catch(r){_a(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dh(){return dh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dh.apply(this,arguments)}const Xc=w.createContext(null),bv=w.createContext(null),Lo=w.createContext(null),Nv=w.createContext(null),As=w.createContext({outlet:null,matches:[],isDataRoute:!1}),hR=w.createContext(null);function U2(n,e){let{relative:t}=e===void 0?{}:e;Jc()||ut(!1);let{basename:r,navigator:i}=w.useContext(Lo),{hash:a,pathname:l,search:c}=Kh(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:hs([r,l])),i.createHref({pathname:f,search:c,hash:a})}function Jc(){return w.useContext(Nv)!=null}function Zc(){return Jc()||ut(!1),w.useContext(Nv).location}function pR(n){w.useContext(Lo).static||w.useLayoutEffect(n)}function Rs(){let{isDataRoute:n}=w.useContext(As);return n?J2():F2()}function F2(){Jc()||ut(!1);let n=w.useContext(Xc),{basename:e,future:t,navigator:r}=w.useContext(Lo),{matches:i}=w.useContext(As),{pathname:a}=Zc(),l=JSON.stringify(Iv(i,t.v7_relativeSplatPath)),c=w.useRef(!1);return pR(()=>{c.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let _=Sv(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:hs([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}const j2=w.createContext(null);function B2(n){let e=w.useContext(As).outlet;return e&&w.createElement(j2.Provider,{value:n},e)}function mR(){let{matches:n}=w.useContext(As),e=n[n.length-1];return e?e.params:{}}function Kh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Lo),{matches:i}=w.useContext(As),{pathname:a}=Zc(),l=JSON.stringify(Iv(i,r.v7_relativeSplatPath));return w.useMemo(()=>Sv(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function H2(n,e,t,r){Jc()||ut(!1);let{navigator:i,static:a}=w.useContext(Lo),{matches:l}=w.useContext(As),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=Zc(),_;_=g;let T=_.pathname||"/",A=T;if(p!=="/"){let b=p.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(b.length).join("/")}let N=!a&&t&&t.matches&&t.matches.length>0?t.matches:la(n,{pathname:A});return G2(N&&N.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:hs([p,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:hs([p,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,t,r)}function z2(){let n=_R(),e=Cc(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,null)}const W2=w.createElement(z2,null);class q2 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(As.Provider,{value:this.props.routeContext},w.createElement(hR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K2(n){let{routeContext:e,match:t,children:r}=n,i=w.useContext(Xc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(As.Provider,{value:e},r)}function G2(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);g>=0||ut(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:A}=t,N=_.route.loader&&T[_.route.id]===void 0&&(!A||A[_.route.id]===void 0);if(_.route.lazy||N){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let A,N=!1,x=null,b=null;t&&(A=c&&_.route.id?c[_.route.id]:void 0,x=_.route.errorElement||W2,f&&(p<0&&T===0?(Z2("route-fallback"),N=!0,b=null):p===T&&(N=!0,b=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,T+1)),M=()=>{let j;return A?j=x:N?j=b:_.route.Component?j=w.createElement(_.route.Component,null):_.route.element?j=_.route.element:j=g,w.createElement(K2,{match:_,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:j})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?w.createElement(q2,{location:t.location,revalidation:t.revalidation,component:x,error:A,children:M(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):M()},null)}var gR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(gR||{}),yR=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(yR||{});function Q2(n){let e=w.useContext(Xc);return e||ut(!1),e}function Y2(n){let e=w.useContext(bv);return e||ut(!1),e}function X2(n){let e=w.useContext(As);return e||ut(!1),e}function vR(n){let e=X2(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function _R(){var n;let e=w.useContext(hR),t=Y2(yR.UseRouteError),r=vR();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function J2(){let{router:n}=Q2(gR.UseNavigateStable),e=vR(),t=w.useRef(!1);return pR(()=>{t.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,dh({fromRouteId:e},a)))},[n,e])}const p0={};function Z2(n,e,t){p0[n]||(p0[n]=!0)}function e$(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function t$(n){return B2(n.context)}function n$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=rn.Pop,navigator:a,static:l=!1,future:c}=n;Jc()&&ut(!1);let f=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:f,navigator:a,static:l,future:dh({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof r=="string"&&(r=Cs(r));let{pathname:g="/",search:_="",hash:T="",state:A=null,key:N="default"}=r,x=w.useMemo(()=>{let b=gs(g,f);return b==null?null:{location:{pathname:b,search:_,hash:T,state:A,key:N},navigationType:i}},[f,g,_,T,A,N,i]);return x==null?null:w.createElement(Lo.Provider,{value:p},w.createElement(Nv.Provider,{children:t,value:x}))}new Promise(()=>{});function r$(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wl.apply(this,arguments)}function wR(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function i$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function s$(n,e){return n.button===0&&(!e||e==="_self")&&!i$(n)}const o$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],l$="6";try{window.__reactRouterVersion=l$}catch{}function u$(n,e){return _2({basename:void 0,future:Wl({},void 0,{v7_prependBasename:!0}),history:HV({window:void 0}),hydrationData:c$(),routes:n,mapRouteProperties:r$,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function c$(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Wl({},e,{errors:d$(e.errors)})),e}function d$(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new ch(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(i.message);a.stack="",t[r]=a}}else t[r]=i;return t}const ER=w.createContext({isTransitioning:!1}),f$=w.createContext(new Map),h$="startTransition",m0=Yk[h$],p$="flushSync",g0=IL[p$];function m$(n){m0?m0(n):n()}function tc(n){g0?g0(n):n()}let g$=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function y$(n){let{fallbackElement:e,router:t,future:r}=n,[i,a]=w.useState(t.state),[l,c]=w.useState(),[f,p]=w.useState({isTransitioning:!1}),[g,_]=w.useState(),[T,A]=w.useState(),[N,x]=w.useState(),b=w.useRef(new Map),{v7_startTransition:z}=r||{},M=w.useCallback(R=>{z?m$(R):R()},[z]),j=w.useCallback((R,D)=>{let{deletedFetchers:k,flushSync:L,viewTransitionOpts:$}=D;R.fetchers.forEach((Ee,xe)=>{Ee.data!==void 0&&b.current.set(xe,Ee.data)}),k.forEach(Ee=>b.current.delete(Ee));let O=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!$||O){L?tc(()=>a(R)):M(()=>a(R));return}if(L){tc(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let Ee=t.window.document.startViewTransition(()=>{tc(()=>a(R))});Ee.finished.finally(()=>{tc(()=>{_(void 0),A(void 0),c(void 0),p({isTransitioning:!1})})}),tc(()=>A(Ee));return}T?(g&&g.resolve(),T.skipTransition(),x({state:R,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(c(R),p({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[t.window,T,g,b,M]);w.useLayoutEffect(()=>t.subscribe(j),[t,j]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&_(new g$)},[f]),w.useEffect(()=>{if(g&&l&&t.window){let R=l,D=g.promise,k=t.window.document.startViewTransition(async()=>{M(()=>a(R)),await D});k.finished.finally(()=>{_(void 0),A(void 0),c(void 0),p({isTransitioning:!1})}),A(k)}},[M,l,g,t.window]),w.useEffect(()=>{g&&l&&i.location.key===l.location.key&&g.resolve()},[g,T,i.location,l]),w.useEffect(()=>{!f.isTransitioning&&N&&(c(N.state),p({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),x(void 0))},[f.isTransitioning,N]),w.useEffect(()=>{},[]);let B=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,D,k)=>t.navigate(R,{state:D,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(R,D,k)=>t.navigate(R,{replace:!0,state:D,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[t]),Z=t.basename||"/",Y=w.useMemo(()=>({router:t,navigator:B,static:!1,basename:Z}),[t,B,Z]),S=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>e$(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(Xc.Provider,{value:Y},w.createElement(bv.Provider,{value:i},w.createElement(f$.Provider,{value:b.current},w.createElement(ER.Provider,{value:f},w.createElement(n$,{basename:Z,location:i.location,navigationType:i.historyAction,navigator:B,future:S},i.initialized||t.future.v7_partialHydration?w.createElement(v$,{routes:t.routes,future:t.future,state:i}):e))))),null)}const v$=w.memo(_$);function _$(n){let{routes:e,future:t,state:r}=n;return H2(e,void 0,r,t)}const w$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T$=w.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_}=e,T=wR(e,o$),{basename:A}=w.useContext(Lo),N,x=!1;if(typeof p=="string"&&E$.test(p)&&(N=p,w$))try{let j=new URL(window.location.href),B=p.startsWith("//")?new URL(j.protocol+p):new URL(p),Z=gs(B.pathname,A);B.origin===j.origin&&Z!=null?p=Z+B.search+B.hash:x=!0}catch{}let b=U2(p,{relative:i}),z=S$(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:_});function M(j){r&&r(j),j.defaultPrevented||z(j)}return w.createElement("a",Wl({},T,{href:N||b,onClick:x||a?r:M,ref:t,target:f}))}),nc=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:p,children:g}=e,_=wR(e,a$),T=Kh(f,{relative:_.relative}),A=Zc(),N=w.useContext(bv),{navigator:x,basename:b}=w.useContext(Lo),z=N!=null&&C$(T)&&p===!0,M=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,j=A.pathname,B=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(j=j.toLowerCase(),B=B?B.toLowerCase():null,M=M.toLowerCase()),B&&b&&(B=gs(B,b)||B);const Z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Y=j===M||!l&&j.startsWith(M)&&j.charAt(Z)==="/",S=B!=null&&(B===M||!l&&B.startsWith(M)&&B.charAt(M.length)==="/"),R={isActive:Y,isPending:S,isTransitioning:z},D=Y?r:void 0,k;typeof a=="function"?k=a(R):k=[a,Y?"active":null,S?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(R):c;return w.createElement(T$,Wl({},_,{"aria-current":D,className:k,ref:t,style:L,to:f,viewTransition:p}),typeof g=="function"?g(R):g)});var sy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(sy||(sy={}));var y0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function I$(n){let e=w.useContext(Xc);return e||ut(!1),e}function S$(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,f=Rs(),p=Zc(),g=Kh(n,{relative:l});return w.useCallback(_=>{if(s$(_,t)){_.preventDefault();let T=r!==void 0?r:wa(p)===wa(g);f(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,g,r,i,t,n,a,l,c])}function C$(n,e){e===void 0&&(e={});let t=w.useContext(ER);t==null&&ut(!1);let{basename:r}=I$(sy.useViewTransitionState),i=Kh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return uh(i.pathname,l)!=null||uh(i.pathname,a)!=null}function A$(){const[n,e]=w.useState(!1),[t,r]=w.useState(!1),i=()=>r(!1),a=()=>r(!0),l=N=>I(ZA,{id:"button-tooltip",...N,children:"Please check the notice below to continue.."}),{session:c}=Co(),f=Rs();w.useEffect(()=>{c&&f("/Home")},[c,f]);const[p,g]=w.useState(!1);function _(N){switch(N.target.checked){case!0:g(!0);break;case!1:g(!1);break}}const{logIn:T}=Co();async function A(){e(!0),await T(),e(!1)}return oe(hn,{children:[I(jn,{show:n,centered:!0,backdrop:"static",children:oe(jn.Body,{className:"text-center",children:[I("div",{className:"spinner-border text-primary",role:"status"}),I("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),oe(jn,{show:t,children:[I(jn.Header,{children:I(jn.Title,{children:"Terms and Conditions"})}),I(jn.Body,{children:oe("p",{children:["1. User Responsibility ",I("br",{})," By using this platform, you acknowledge that all interactions and transactions between users are conducted at your own risk. We do not take responsibility for any disputes, agreements, or exchanges made between users. It is your responsibility to exercise caution and ensure the legitimacy of the items and users you engage with.",I("br",{}),I("br",{}),"2. Privacy and Message Monitoring ",I("br",{})," We respect your privacy and do not monitor or view private messages exchanged between users during transactions. However, all accounts are recorded in our system for security and compliance purposes.",I("br",{}),I("br",{}),"3. Item Posting and Review",I("br",{}),"All items posted on the platform are subject to review by an administrator. We reserve the right to remove or reject any listings that contain inappropriate, illegal, or prohibited content. Users are encouraged to adhere to ethical and legal guidelines when posting items.",I("br",{}),I("br",{}),"4. Violations and Account Management",I("br",{}),"Users who repeatedly violate our guidelines by posting inappropriate content or engaging in prohibited activities may face account restrictions, suspensions, or permanent deletion. We reserve the right to take appropriate actions to maintain the integrity of the platform.",I("br",{}),I("br",{}),"5. Disclaimer of Liability",I("br",{}),"We do not guarantee the quality, safety, legality, or authenticity of the items listed on the platform. The website serves only as a medium for users to connect and trade, and we do not take responsibility for any losses, damages, or issues arising from trades or interactions.",I("br",{}),I("br",{}),"6. Amendments and Changes",I("br",{}),"We reserve the right to update or modify these Terms and Conditions at any time. Users are responsible for staying informed about any changes. Continued use of the platform signifies your acceptance of the updated terms.",I("br",{}),I("br",{}),"By using this platform, you agree to abide by these Terms and Conditions and ensure that your activities align with our community standards."]})}),I(jn.Footer,{children:I(un,{variant:"primary",onClick:i,children:"Okay"})})]}),oe("div",{className:"logincontainer",children:[I("div",{className:"circle",children:I("img",{src:"./images/favicon.png"})}),I("p",{className:"LoginWord",children:" USER LOGIN "}),oe("div",{className:"google-button",children:[p&&I(un,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:A,disabled:n,children:"Login with Google"}),!p&&I(kV,{placement:"right",delay:{show:0,hide:400},overlay:l,children:I("div",{children:I(un,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),oe("div",{children:[I("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),I("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),I("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:_}),I("p",{className:"terms-text text-primary fw-bold",style:{cursor:"pointer",textDecoration:"underline",position:"absolute",bottom:"0%",left:"30%"},onClick:a,children:"Terms and Conditions"})]})]})]})}async function R$(n){return await cu.createFile("678bac020031c1c3ad75",zl.unique(),n)}async function b$(n){return await cu.deleteFile("678bac020031c1c3ad75",n)}function ed(n){return cu.getFilePreview("678bac020031c1c3ad75",n)}function oy(n){return cu.getFilePreview("67932f8600176cf1dfdc",n)}async function N$(n,e){return await cu.createFile("67932f8600176cf1dfdc",n,e)}async function k$(n){return await cu.deleteFile("67932f8600176cf1dfdc",n)}async function P$(){const{documents:n}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Ue.orderDesc("date"),Ue.equal("isApproved",!0)]);return{items:n.map(bs)}}async function D$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Ue.orderDesc("date"),Ue.contains("name",n),Ue.equal("isApproved",!0)]);return{items:e.map(bs)}}async function O$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Ue.orderDesc("date"),Ue.contains("itemCategory",n),Ue.equal("isApproved",!0)]);return{items:e.map(bs)}}async function kv(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Ue.contains("authorID",n),Ue.orderDesc("date")]);return{items:e.map(bs)}}async function x$(){const{documents:n}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Ue.equal("isApproved",!1),Ue.orderDesc("date")]);return{items:n.map(bs)}}async function ay(n){const e=await zn.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:bs(e)}}async function L$(n){const{items:e}=await ay(n);await b$(e.imageFileId),await zn.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function M$(n){const e=await zn.createDocument("678babec0039e89240df","67932f2e00392d850485",zl.unique(),n);return{items:bs(e)}}async function TR(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:bs(t)}}async function v0(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:bs(t)}}function bs(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:n.isApproved,requests:n.requests,itemCategory:n.itemCategory}}async function V$(n,e){const t=await zn.createDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Gh(t)}}async function ys(n){const e=await zn.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:Gh(e)}}async function $$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f37003021addec1",[Ue.contains("displayName",n)]);return{userdb:e.map(Gh)}}async function U$(n){try{const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f37003021addec1",[Ue.equal("displayName",n)]);return e.length>0}catch{return!1}}async function F$(n){try{return!!await zn.getDocument("678babec0039e89240df","67932f37003021addec1",n)}catch{return!1}}async function _0(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Gh(t)}}function Gh(n){return{userId:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight,userEmail:n.userEmail,firebaseId:n.firebaseId}}function Pf(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,i,...a]=t.map(f=>parseInt(f)),l=[r,i-1,...a];return new Date(Date.UTC(...l))}}function w0(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function ly(){return ly=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ly.apply(this,arguments)}const sc=60,oc=sc*60,Nl=oc*24,Df=Nl*7,E0=Nl*30,T0=Nl*365,j$=()=>Date.now();function B$({date:n,formatter:e=w0,component:t="time",live:r=!0,minPeriod:i=0,maxPeriod:a=Df,title:l,now:c=j$,...f}){const[p,g]=w.useState(c());w.useEffect(()=>{if(!r)return;const Z=(()=>{const Y=Pf(n).valueOf();if(!Y)return console.warn("[react-timeago] Invalid Date provided"),0;const S=Math.round(Math.abs(p-Y)/1e3),R=S<sc?1e3:S<oc?1e3*sc:S<Nl?1e3*oc:1e3*Df,D=Math.min(Math.max(R,i*1e3),a*1e3);return D?setTimeout(()=>{g(c())},D):0})();return()=>{Z&&clearTimeout(Z)}},[n,r,a,i,c,p]);const _=t,T=Pf(n).valueOf();if(!T)return null;const A=Math.round(Math.abs(p-T)/1e3),N=T<p?"ago":"from now",[x,b]=A<sc?[Math.round(A),"second"]:A<oc?[Math.round(A/sc),"minute"]:A<Nl?[Math.round(A/oc),"hour"]:A<Df?[Math.round(A/Nl),"day"]:A<E0?[Math.round(A/Df),"week"]:A<T0?[Math.round(A/E0),"month"]:[Math.round(A/T0),"year"],z=typeof l>"u"?typeof n=="string"?n:Pf(n).toISOString().substr(0,16).replace("T"," "):l,M=_==="time"?{...f,dateTime:Pf(n).toISOString()}:f,j=w0.bind(null,x,b,N);return w.createElement(_,ly({},M,{title:z}),e(x,b,N,T,j,c))}const Qh=({name:n,date:e,author:t,image:r})=>oe(rs,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[I("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&oe(hn,{children:[I(rs.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),I("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),oe(rs.Body,{children:[I(rs.Title,{children:n}),I(rs.Text,{children:t}),I(rs.Text,{children:I(B$,{date:e})})]})]}),Yh=({children:n})=>{const{session:e,logOut:t}=Co(),r=Rs(),[i,a]=w.useState(),[l,c]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/");return}try{const g=await Yc();a(g)}catch(g){console.error("Error fetching user:",g)}finally{c(!1)}})()},[e,r]);async function f(){await t(),r("/")}return oe(hn,{children:[I(jn,{show:l,centered:!0,backdrop:"static",children:oe(jn.Body,{className:"text-center",children:[I(qh,{animation:"border",role:"status",children:I("span",{className:"visually-hidden",children:"Loading..."})}),I("p",{className:"mt-3",children:"Please wait, loading..."})]})}),oe("div",{className:"body",children:[I(Nf,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:oe(Ss,{children:[oe(Nf.Brand,{href:"#/Home",children:[I("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),I(Nf.Toggle,{"aria-controls":"basic-navbar-nav"}),I(Nf.Collapse,{className:"justify-content-end flex-grow-1",children:I(xi,{children:oe(ui,{className:"me-auto",children:[I(ui.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),oe(Ju,{title:(i==null?void 0:i.name)||"User",id:"basic-nav-dropdown",align:"end",children:[I(Ju.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),I(Ju.Divider,{}),e?I(Ju.Item,{className:"logout-nav",onClick:f,children:"Logout"}):I(Ju.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),I("main",{children:n})]})]})};function IR({show:n,onHide:e}){const t=w.useRef(null),r=w.useRef(null),i=w.useRef(null),a=w.useRef(null),l=c=>{c.current.scrollIntoView({behavior:"smooth",block:"start"})};return I(hn,{children:oe(jn,{show:n,onHide:e,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[I(jn.Header,{closeButton:!0,children:I(jn.Title,{children:"First Time?"})}),I(jn.Body,{children:oe(xi,{className:"mt-2",children:[I(hi,{sm:3,children:oe(ui,{variant:"pills",className:"flex-column",children:[I(ui.Item,{children:I(ui.Link,{onClick:()=>l(t),children:"Trading"})}),I(ui.Item,{children:I(ui.Link,{onClick:()=>l(r),children:"Upload"})}),I(ui.Item,{children:I(ui.Link,{onClick:()=>l(i),children:"Account Issues"})}),I(ui.Item,{children:I(ui.Link,{onClick:()=>l(a),children:"Finish"})})]})}),I(hi,{sm:9,children:oe(Ss,{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ccc",padding:"15px",borderRadius:"10px",backgroundColor:"#f8f9fa"},children:[oe("div",{ref:t,className:"mb-4",children:[I("h4",{children:"Trading"}),oe(Rr,{children:[oe(Rr.Item,{children:[I("strong",{children:"How does trading work?"}),I("p",{children:"You can list an item, find a match, and confirm a trade."})]}),oe(Rr.Item,{children:[I("strong",{children:"Is trading free?"}),I("p",{children:"Yes! Our platform only facilitates item exchanges without any money involved."})]})]})]}),oe("div",{ref:r,className:"mb-4",children:[I("h4",{children:"Upload"}),oe(Rr,{children:[oe(Rr.Item,{children:[I("strong",{children:"How do I upload an item?"}),I("p",{children:'Go to your dashboard, click "Upload Item," and fill in the details.'})]}),oe(Rr.Item,{children:[I("strong",{children:"What types of files are supported?"}),I("p",{children:"We support images in JPG, PNG, and GIF formats."})]})]})]}),oe("div",{ref:i,className:"mb-4",children:[I("h4",{children:"FAQ"}),oe(Rr,{children:[oe(Rr.Item,{children:[I("strong",{children:"How do I reset my password?"}),I("p",{children:'Go to the login page, click "Forgot Password," and follow the instructions.'})]}),oe(Rr.Item,{children:[I("strong",{children:"Why was my account suspended?"}),I("p",{children:"Check your email for details or contact support for further assistance."})]}),oe(Rr.Item,{children:[I("strong",{children:"Why is my post not showing in the HomePage?"}),I("p",{children:"Your post is probably not yet accepted by Admins."})]})]})]}),oe("div",{ref:a,className:"mb-4",children:[I("h4",{children:"You're Done!"}),oe(Rr,{children:[oe(Rr.Item,{children:[I("strong",{children:"Since you're new to Tradery"}),I("p",{children:"Before you start Trading, We recommend you customize your profile first and change how people will see your profile. By clicking Done, this will redirect you to your profile in your dashboard where you can start editing."})]}),oe(Rr.Item,{children:[I("strong",{children:"Wanna read this again?"}),I("p",{children:"You can access this menu by going to the User Dashboard and clicking the Question button on the top right corner of the navigation bar."})]})]})]})]})})]})}),I(jn.Footer,{children:I(un,{variant:"primary",onClick:e,children:"Done"})})]})})}var I0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},H$=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},CR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,A=p&63;f||(A=64,l||(T=64)),r.push(t[g],t[_],t[T],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new z$;const T=a<<2|c>>4;if(r.push(T),p!==64){const A=c<<4&240|p>>2;if(r.push(A),_!==64){const N=p<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class z$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W$=function(n){const e=SR(n);return CR.encodeByteArray(e,!0)},fh=function(n){return W$(n).replace(/\./g,"")},AR=function(n){try{return CR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=()=>q$().__FIREBASE_DEFAULTS__,G$=()=>{if(typeof process>"u"||typeof I0>"u")return;const n=I0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Q$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&AR(n[1]);return e&&JSON.parse(e)},Xh=()=>{try{return K$()||G$()||Q$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RR=n=>{var e,t;return(t=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Y$=n=>{const e=RR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bR=()=>{var n;return(n=Xh())===null||n===void 0?void 0:n.config},NR=n=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fh(JSON.stringify(t)),fh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function eU(){var n;const e=(n=Xh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iU(){const n=Hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sU(){return!eU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oU(){try{return typeof indexedDB=="object"}catch{return!1}}function aU(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="FirebaseError";class Ns extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lU,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,td.prototype.create)}}class td{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?uU(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ns(i,c,r)}}function uU(n,e){return n.replace(cU,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cU=/\{\$([^}]+)}/g;function dU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ac(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(S0(a)&&S0(l)){if(!Ac(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function S0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ac(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function lc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fU(n,e){const t=new hU(n,e);return t.subscribe.bind(t)}class hU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ig),i.error===void 0&&(i.error=Ig),i.complete===void 0&&(i.complete=Ig);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n){return n&&n._delegate?n._delegate:n}class Ea{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new X$;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yU(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gU(n){return n===aa?void 0:n}function yU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const _U={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},wU=ht.INFO,EU={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},TU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=EU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pv{constructor(e){this.name=e,this._logLevel=wU,this._logHandler=TU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const IU=(n,e)=>e.some(t=>n instanceof t);let C0,A0;function SU(){return C0||(C0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CU(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kR=new WeakMap,uy=new WeakMap,PR=new WeakMap,Sg=new WeakMap,Dv=new WeakMap;function AU(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(mo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&kR.set(t,n)}).catch(()=>{}),Dv.set(e,n),e}function RU(n){if(uy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});uy.set(n,e)}let cy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bU(n){cy=n(cy)}function NU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cg(this),e,...t);return PR.set(r,e.sort?e.sort():[e]),mo(r)}:CU().includes(n)?function(...e){return n.apply(Cg(this),e),mo(kR.get(this))}:function(...e){return mo(n.apply(Cg(this),e))}}function kU(n){return typeof n=="function"?NU(n):(n instanceof IDBTransaction&&RU(n),IU(n,SU())?new Proxy(n,cy):n)}function mo(n){if(n instanceof IDBRequest)return AU(n);if(Sg.has(n))return Sg.get(n);const e=kU(n);return e!==n&&(Sg.set(n,e),Dv.set(e,n)),e}const Cg=n=>Dv.get(n);function PU(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=mo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(mo(l.result),f.oldVersion,f.newVersion,mo(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const DU=["get","getKey","getAll","getAllKeys","count"],OU=["put","add","delete","clear"],Ag=new Map;function R0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ag.get(e))return Ag.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=OU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DU.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return Ag.set(e,a),a}bU(n=>({...n,get:(e,t,r)=>R0(e,t)||n.get(e,t,r),has:(e,t)=>!!R0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function LU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dy="@firebase/app",b0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Pv("@firebase/app"),MU="@firebase/app-compat",VU="@firebase/analytics-compat",$U="@firebase/analytics",UU="@firebase/app-check-compat",FU="@firebase/app-check",jU="@firebase/auth",BU="@firebase/auth-compat",HU="@firebase/database",zU="@firebase/data-connect",WU="@firebase/database-compat",qU="@firebase/functions",KU="@firebase/functions-compat",GU="@firebase/installations",QU="@firebase/installations-compat",YU="@firebase/messaging",XU="@firebase/messaging-compat",JU="@firebase/performance",ZU="@firebase/performance-compat",eF="@firebase/remote-config",tF="@firebase/remote-config-compat",nF="@firebase/storage",rF="@firebase/storage-compat",iF="@firebase/firestore",sF="@firebase/vertexai",oF="@firebase/firestore-compat",aF="firebase",lF="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",uF={[dy]:"fire-core",[MU]:"fire-core-compat",[$U]:"fire-analytics",[VU]:"fire-analytics-compat",[FU]:"fire-app-check",[UU]:"fire-app-check-compat",[jU]:"fire-auth",[BU]:"fire-auth-compat",[HU]:"fire-rtdb",[zU]:"fire-data-connect",[WU]:"fire-rtdb-compat",[qU]:"fire-fn",[KU]:"fire-fn-compat",[GU]:"fire-iid",[QU]:"fire-iid-compat",[YU]:"fire-fcm",[XU]:"fire-fcm-compat",[JU]:"fire-perf",[ZU]:"fire-perf-compat",[eF]:"fire-rc",[tF]:"fire-rc-compat",[nF]:"fire-gcs",[rF]:"fire-gcs-compat",[iF]:"fire-fst",[oF]:"fire-fst-compat",[sF]:"fire-vertex","fire-js":"fire-js",[aF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,cF=new Map,hy=new Map;function N0(n,e){try{n.container.addComponent(e)}catch(t){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ql(n){const e=n.name;if(hy.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,n);for(const t of hh.values())N0(t,n);for(const t of cF.values())N0(t,n);return!0}function Ov(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new td("app","Firebase",dF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=lF;function DR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw go.create("bad-app-name",{appName:String(i)});if(t||(t=bR()),!t)throw go.create("no-options");const a=hh.get(i);if(a){if(Ac(t,a.options)&&Ac(r,a.config))return a;throw go.create("duplicate-app",{appName:i})}const l=new vU(i);for(const f of hy.values())l.addComponent(f);const c=new fF(t,r,l);return hh.set(i,c),c}function OR(n=fy){const e=hh.get(n);if(!e&&n===fy&&bR())return DR();if(!e)throw go.create("no-app",{appName:n});return e}function yo(n,e,t){var r;let i=(r=uF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(c.join(" "));return}ql(new Ea(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="firebase-heartbeat-database",pF=1,Rc="firebase-heartbeat-store";let Rg=null;function xR(){return Rg||(Rg=PU(hF,pF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw go.create("idb-open",{originalErrorMessage:n.message})})),Rg}async function mF(n){try{const t=(await xR()).transaction(Rc),r=await t.objectStore(Rc).get(LR(n));return await t.done,r}catch(e){if(e instanceof Ns)vs.warn(e.message);else{const t=go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(t.message)}}}async function k0(n,e){try{const r=(await xR()).transaction(Rc,"readwrite");await r.objectStore(Rc).put(e,LR(n)),await r.done}catch(t){if(t instanceof Ns)vs.warn(t.message);else{const r=go.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vs.warn(r.message)}}}function LR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=1024,yF=30;class vF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yF){const l=EF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P0(),{heartbeatsToSend:r,unsentEntries:i}=_F(this._heartbeatsCache.heartbeats),a=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return vs.warn(t),""}}}function P0(){return new Date().toISOString().substring(0,10)}function _F(n,e=gF){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),D0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),D0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oU()?aU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return k0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return k0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function D0(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function EF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(n){ql(new Ea("platform-logger",e=>new xU(e),"PRIVATE")),ql(new Ea("heartbeat",e=>new vF(e),"PRIVATE")),yo(dy,b0,n),yo(dy,b0,"esm2017"),yo("fire-js","")}TF("");function xv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function MR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IF=MR,VR=new td("auth","Firebase",MR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Pv("@firebase/auth");function SF(n,...e){ph.logLevel<=ht.WARN&&ph.warn(`Auth (${du}): ${n}`,...e)}function Wf(n,...e){ph.logLevel<=ht.ERROR&&ph.error(`Auth (${du}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,...e){throw Lv(n,...e)}function Li(n,...e){return Lv(n,...e)}function $R(n,e,t){const r=Object.assign(Object.assign({},IF()),{[e]:t});return new td("auth","Firebase",r).create(e,{appName:n.name})}function vo(n){return $R(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VR.create(n,...e)}function Ye(n,e,...t){if(!n)throw Lv(e,...t)}function as(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wf(e),new Error(e)}function _s(n,e){n||as(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function CF(){return O0()==="http:"||O0()==="https:"}function O0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CF()||nU()||"connection"in navigator)?navigator.onLine:!0}function RF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.shortDelay=e,this.longDelay=t,_s(t>e,"Short delay should be less than long delay!"),this.isMobile=Z$()||rU()}get(){return AF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(n,e){_s(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new rd(3e4,6e4);function Pa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Mo(n,e,t,r,i={}){return FR(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=nd(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return tU()||(p.referrerPolicy="no-referrer"),UR.fetch()(jR(n,n.config.apiHost,t,c),p)})}async function FR(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},bF),e);try{const i=new PF(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Of(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Of(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Of(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $R(n,g,p);pi(n,g)}}catch(i){if(i instanceof Ns)throw i;pi(n,"network-request-failed",{message:String(i)})}}async function Jh(n,e,t,r,i={}){const a=await Mo(n,e,t,r,i);return"mfaPendingCredential"in a&&pi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function jR(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Mv(n.config,i):`${n.config.apiScheme}://${i}`}function kF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),NF.get())})}}function Of(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Li(n,e,r);return i.customData._tokenResponse=t,i}function x0(n){return n!==void 0&&n.enterprise!==void 0}class DF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OF(n,e){return Mo(n,"GET","/v2/recaptchaConfig",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(n,e){return Mo(n,"POST","/v1/accounts:delete",e)}async function BR(n,e){return Mo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LF(n,e=!1){const t=er(n),r=await t.getIdToken(e),i=Vv(r);Ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:mc(bg(i.auth_time)),issuedAtTime:mc(bg(i.iat)),expirationTime:mc(bg(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function bg(n){return Number(n)*1e3}function Vv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const i=AR(t);return i?JSON.parse(i):(Wf("Failed to decode base64 JWT payload"),null)}catch(i){return Wf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L0(n){const e=Vv(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ns&&MF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function MF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await bc(n,BR(t,{idToken:r}));Ye(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?HR(a.providerUserInfo):[],c=UF(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new my(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function $F(n){const e=er(n);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HR(n){return n.map(e=>{var{providerId:t}=e,r=xv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(n,e){const t=await FR(n,{},async()=>{const r=nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=jR(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",UR.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jF(n,e){return Mo(n,"POST","/v2/accounts:revokeToken",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const t=L0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await FF(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new kl;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ye(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(n,e){Ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ls{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new my(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await bc(this,this.stsTokenManager.getToken(this.auth,e));return Ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LF(this,e)}reload(){return $F(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await bc(this,xF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,f,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,z=(p=t.createdAt)!==null&&p!==void 0?p:void 0,M=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:B,isAnonymous:Z,providerData:Y,stsTokenManager:S}=t;Ye(j&&S,e,"internal-error");const R=kl.fromJSON(this.name,S);Ye(typeof j=="string",e,"internal-error"),to(_,e.name),to(T,e.name),Ye(typeof B=="boolean",e,"internal-error"),Ye(typeof Z=="boolean",e,"internal-error"),to(A,e.name),to(N,e.name),to(x,e.name),to(b,e.name),to(z,e.name),to(M,e.name);const D=new ls({uid:j,auth:e,email:T,emailVerified:B,displayName:_,isAnonymous:Z,photoURL:N,phoneNumber:A,tenantId:x,stsTokenManager:R,createdAt:z,lastLoginAt:M});return Y&&Array.isArray(Y)&&(D.providerData=Y.map(k=>Object.assign({},k))),b&&(D._redirectEventId=b),D}static async _fromIdTokenResponse(e,t,r=!1){const i=new kl;i.updateFromServerResponse(t);const a=new ls({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ye(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?HR(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new kl;c.updateFromIdToken(r);const f=new ls({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new my(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;function us(n){_s(n instanceof Function,"Expected a class definition");let e=M0.get(n);return e?(_s(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zR.type="NONE";const V0=zR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(n,e,t){return`firebase:${n}:${e}:${t}`}class Pl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=qf(this.userKey,i.apiKey,a),this.fullPersistenceKey=qf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Pl(us(V0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||us(V0);const l=qf(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=ls._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Pl(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Pl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YR(e))return"Blackberry";if(XR(e))return"Webos";if(qR(e))return"Safari";if((e.includes("chrome/")||KR(e))&&!e.includes("edge/"))return"Chrome";if(QR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WR(n=Hn()){return/firefox\//i.test(n)}function qR(n=Hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KR(n=Hn()){return/crios\//i.test(n)}function GR(n=Hn()){return/iemobile/i.test(n)}function QR(n=Hn()){return/android/i.test(n)}function YR(n=Hn()){return/blackberry/i.test(n)}function XR(n=Hn()){return/webos/i.test(n)}function $v(n=Hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BF(n=Hn()){var e;return $v(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HF(){return iU()&&document.documentMode===10}function JR(n=Hn()){return $v(n)||QR(n)||XR(n)||YR(n)||/windows phone/i.test(n)||GR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n,e=[]){let t;switch(n){case"Browser":t=$0(Hn());break;case"Worker":t=`${$0(Hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${du}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(n,e={}){return Mo(n,"GET","/v2/passwordPolicy",Pa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=6;class KF{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:qF,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U0(this),this.idTokenSubscription=new U0(this),this.beforeStateQueue=new zF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=us(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await BR(this,{idToken:e}),r=await ls._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(vo(this));const t=e?er(e):null;return t&&Ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WF(this),t=new KF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new td("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&us(e)||this._popupRedirectResolver;Ye(t,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[us(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&SF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fu(n){return er(n)}class U0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fU(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QF(n){Zh=n}function eb(n){return Zh.loadJS(n)}function YF(){return Zh.recaptchaEnterpriseScript}function XF(){return Zh.gapiScript}function JF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ZF{constructor(){this.enterprise=new e4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class e4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const t4="recaptcha-enterprise",tb="NO_RECAPTCHA";class n4{constructor(e){this.type=t4,this.auth=fu(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{OF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new DF(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function i(a,l,c){const f=window.grecaptcha;x0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(tb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZF().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&x0(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=YF();f.length!==0&&(f+=c),eb(f).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function F0(n,e,t,r=!1,i=!1){const a=new n4(n);let l;if(i)l=tb;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function j0(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await F0(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await F0(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(n,e){const t=Ov(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Ac(a,e??{}))return i;pi(i,"already-initialized")}return t.initialize({options:e})}function i4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(us);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function s4(n,e,t){const r=fu(n);Ye(r._canInitEmulator,r,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=nb(e),{host:l,port:c}=o4(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),a4()}function nb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function o4(n){const e=nb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:B0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:B0(l)}}}function B0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function a4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,t){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function l4(n,e){return Mo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(n,e){return Jh(n,"POST","/v1/accounts:signInWithPassword",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(n,e){return Jh(n,"POST","/v1/accounts:signInWithEmailLink",Pa(n,e))}async function d4(n,e){return Jh(n,"POST","/v1/accounts:signInWithEmailLink",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Uv{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Nc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Nc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j0(e,t,"signInWithPassword",u4);case"emailLink":return c4(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j0(e,r,"signUpPassword",l4);case"emailLink":return d4(e,{idToken:t,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n,e){return Jh(n,"POST","/v1/accounts:signInWithIdp",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="http://localhost";class Ta extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=xv(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ta(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Dl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dl(e,t)}buildRequest(){const e={requestUri:f4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p4(n){const e=ac(lc(n)).link,t=e?ac(lc(e)).deep_link_id:null,r=ac(lc(n)).deep_link_id;return(r?ac(lc(r)).link:null)||r||t||e||n}class Fv{constructor(e){var t,r,i,a,l,c;const f=ac(lc(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=h4((i=f.mode)!==null&&i!==void 0?i:null);Ye(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=p4(e);try{return new Fv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,t){return Nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Fv.parseLink(t);return Ye(r,"argument-error"),Nc._fromEmailAndCode(e,r.code,r.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends rb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends id{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ta._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return so.credential(t,r)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends id{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends id{constructor(){super("twitter.com")}static credential(e,t){return Ta._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ao.credential(t,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ls._fromIdTokenResponse(e,r,i),l=H0(r);return new Kl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=H0(r);return new Kl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function H0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Ns{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new gh(e,t,r,i)}}function ib(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(n,a,e,r):a})}async function m4(n,e,t=!1){const r=await bc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Kl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e,t=!1){const{auth:r}=n;if(fi(r.app))return Promise.reject(vo(r));const i="reauthenticate";try{const a=await bc(n,ib(r,i,e,n),t);Ye(a.idToken,r,"internal-error");const l=Vv(a.idToken);Ye(l,r,"internal-error");const{sub:c}=l;return Ye(n.uid===c,r,"user-mismatch"),Kl._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&pi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(n,e,t=!1){if(fi(n.app))return Promise.reject(vo(n));const r="signIn",i=await ib(n,r,e),a=await Kl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function y4(n,e){return sb(fu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(n){const e=fu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _4(n,e,t){return fi(n.app)?Promise.reject(vo(n)):y4(er(n),hu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&v4(n),r})}function w4(n,e,t,r){return er(n).onIdTokenChanged(e,t,r)}function E4(n,e,t){return er(n).beforeAuthStateChanged(e,t)}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=1e3,I4=10;class ab extends ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);HF()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},T4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ab.type="LOCAL";const S4=ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lb.type="SESSION";const ub=lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ep(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await C4(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ep.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=jv("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function R4(n){Mi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function b4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function k4(){return cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firebaseLocalStorageDb",P4=1,vh="firebaseLocalStorage",fb="fbase_key";class sd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tp(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function D4(){const n=indexedDB.deleteDatabase(db);return new sd(n).toPromise()}function gy(){const n=indexedDB.open(db,P4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vh,{keyPath:fb})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await D4(),e(await gy()))})})}async function z0(n,e,t){const r=tp(n,!0).put({[fb]:e,value:t});return new sd(r).toPromise()}async function O4(n,e){const t=tp(n,!1).get(e),r=await new sd(t).toPromise();return r===void 0?null:r.value}function W0(n,e){const t=tp(n,!0).delete(e);return new sd(t).toPromise()}const x4=800,L4=3;class hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>L4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ep._getInstance(k4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await b4(),!this.activeServiceWorker)return;this.sender=new A4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await z0(e,yh,"1"),await W0(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>z0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>O4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=tp(i,!1).getAll();return new sd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hb.type="LOCAL";const M4=hb;new rd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n,e){return e?us(e):(Ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv extends Uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $4(n){return sb(n.auth,new Bv(n),n.bypassAuthState)}function U4(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),g4(t,new Bv(n),n.bypassAuthState)}async function F4(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),m4(t,new Bv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $4;case"linkViaPopup":case"linkViaRedirect":return F4;case"reauthViaPopup":case"reauthViaRedirect":return U4;default:pi(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new rd(2e3,1e4);class bl extends pb{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j4.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="pendingRedirect",Kf=new Map;class H4 extends pb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await z4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z4(n,e){const t=K4(e),r=q4(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function W4(n,e){Kf.set(n._key(),e)}function q4(n){return us(n._redirectPersistence)}function K4(n){return qf(B4,n.config.apiKey,n.name)}async function G4(n,e,t=!1){if(fi(n.app))return Promise.reject(vo(n));const r=fu(n),i=V4(r,e),l=await new H4(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=10*60*1e3;class Y4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Li(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(q0(e))}saveEventToCache(e){this.cachedEventUids.add(q0(e)),this.lastProcessedEventTime=Date.now()}}function q0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(n,e={}){return Mo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ej=/^https?/;async function tj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await J4(n);for(const t of e)try{if(nj(t))return}catch{}pi(n,"unauthorized-domain")}function nj(n){const e=py(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!ej.test(t))return!1;if(Z4.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=new rd(3e4,6e4);function K0(){const n=Mi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ij(n){return new Promise((e,t)=>{var r,i,a;function l(){K0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K0(),t(Li(n,"network-request-failed"))},timeout:rj.get()})}if(!((i=(r=Mi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Mi().gapi)===null||a===void 0)&&a.load)l();else{const c=JF("iframefcb");return Mi()[c]=()=>{gapi.load?l():t(Li(n,"network-request-failed"))},eb(`${XF()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function sj(n){return Gf=Gf||ij(n),Gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new rd(5e3,15e3),aj="__/auth/iframe",lj="emulator/auth/iframe",uj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dj(n){const e=n.config;Ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mv(e,lj):`https://${n.config.authDomain}/${aj}`,r={apiKey:e.apiKey,appName:n.name,v:du},i=cj.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${nd(r).slice(1)}`}async function fj(n){const e=await sj(n),t=Mi().gapi;return Ye(t,n,"internal-error"),e.open({where:document.body,url:dj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uj,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Li(n,"network-request-failed"),c=Mi().setTimeout(()=>{a(l)},oj.get());function f(){Mi().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pj=500,mj=600,gj="_blank",yj="http://localhost";class G0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vj(n,e,t,r=pj,i=mj){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},hj),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Hn().toLowerCase();t&&(c=KR(p)?gj:t),WR(p)&&(e=e||yj,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[A,N])=>`${T}${A}=${N},`,"");if(BF(p)&&c!=="_self")return _j(e||"",c),new G0(null);const _=window.open(e||"",c,g);Ye(_,n,"popup-blocked");try{_.focus()}catch{}return new G0(_)}function _j(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="__/auth/handler",Ej="emulator/auth/handler",Tj=encodeURIComponent("fac");async function Q0(n,e,t,r,i,a){Ye(n.config.authDomain,n,"auth-domain-config-required"),Ye(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:du,eventId:i};if(e instanceof rb){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",dU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof id){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${Tj}=${encodeURIComponent(f)}`:"";return`${Ij(n)}?${nd(c).slice(1)}${p}`}function Ij({config:n}){return n.emulator?Mv(n,Ej):`https://${n.authDomain}/${wj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class Sj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ub,this._completeRedirectFn=G4,this._overrideRedirectResult=W4}async _openPopup(e,t,r,i){var a;_s((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Q0(e,t,r,py(),i);return vj(e,l,jv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Q0(e,t,r,py(),i);return R4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(_s(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await fj(e),r=new Y4(e);return t.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ng,{type:Ng},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Ng];l!==void 0&&t(!!l),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JR()||qR()||$v()}}const Cj=Sj;var Y0="@firebase/auth",X0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bj(n){ql(new Ea("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ye(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZR(n)},p=new GF(r,i,a,f);return i4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ql(new Ea("auth-internal",e=>{const t=fu(e.getProvider("auth").getImmediate());return(r=>new Aj(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(Y0,X0,Rj(n)),yo(Y0,X0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=5*60,kj=NR("authIdTokenMaxAge")||Nj;let J0=null;const Pj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>kj)return;const i=t==null?void 0:t.token;J0!==i&&(J0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dj(n=OR()){const e=Ov(n,"auth");if(e.isInitialized())return e.getImmediate();const t=r4(n,{popupRedirectResolver:Cj,persistence:[M4,S4,ub]}),r=NR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=Pj(a.toString());E4(t,l,()=>l(t.currentUser)),w4(t,c=>l(c))}}const i=RR("auth");return i&&s4(t,`http://${i}`),t}function Oj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}QF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Li("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",Oj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bj("Browser");var xj="firebase",Lj="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(xj,Lj,"app");var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,gb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,R){function D(){}D.prototype=R.prototype,S.D=R.prototype,S.prototype=new D,S.prototype.constructor=S,S.C=function(k,L,$){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return R.prototype[L].apply(k,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,R,D){D||(D=0);var k=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)k[L]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(L=0;16>L;++L)k[L]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=S.g[0],D=S.g[1],L=S.g[2];var $=S.g[3],O=R+($^D&(L^$))+k[0]+3614090360&4294967295;R=D+(O<<7&4294967295|O>>>25),O=$+(L^R&(D^L))+k[1]+3905402710&4294967295,$=R+(O<<12&4294967295|O>>>20),O=L+(D^$&(R^D))+k[2]+606105819&4294967295,L=$+(O<<17&4294967295|O>>>15),O=D+(R^L&($^R))+k[3]+3250441966&4294967295,D=L+(O<<22&4294967295|O>>>10),O=R+($^D&(L^$))+k[4]+4118548399&4294967295,R=D+(O<<7&4294967295|O>>>25),O=$+(L^R&(D^L))+k[5]+1200080426&4294967295,$=R+(O<<12&4294967295|O>>>20),O=L+(D^$&(R^D))+k[6]+2821735955&4294967295,L=$+(O<<17&4294967295|O>>>15),O=D+(R^L&($^R))+k[7]+4249261313&4294967295,D=L+(O<<22&4294967295|O>>>10),O=R+($^D&(L^$))+k[8]+1770035416&4294967295,R=D+(O<<7&4294967295|O>>>25),O=$+(L^R&(D^L))+k[9]+2336552879&4294967295,$=R+(O<<12&4294967295|O>>>20),O=L+(D^$&(R^D))+k[10]+4294925233&4294967295,L=$+(O<<17&4294967295|O>>>15),O=D+(R^L&($^R))+k[11]+2304563134&4294967295,D=L+(O<<22&4294967295|O>>>10),O=R+($^D&(L^$))+k[12]+1804603682&4294967295,R=D+(O<<7&4294967295|O>>>25),O=$+(L^R&(D^L))+k[13]+4254626195&4294967295,$=R+(O<<12&4294967295|O>>>20),O=L+(D^$&(R^D))+k[14]+2792965006&4294967295,L=$+(O<<17&4294967295|O>>>15),O=D+(R^L&($^R))+k[15]+1236535329&4294967295,D=L+(O<<22&4294967295|O>>>10),O=R+(L^$&(D^L))+k[1]+4129170786&4294967295,R=D+(O<<5&4294967295|O>>>27),O=$+(D^L&(R^D))+k[6]+3225465664&4294967295,$=R+(O<<9&4294967295|O>>>23),O=L+(R^D&($^R))+k[11]+643717713&4294967295,L=$+(O<<14&4294967295|O>>>18),O=D+($^R&(L^$))+k[0]+3921069994&4294967295,D=L+(O<<20&4294967295|O>>>12),O=R+(L^$&(D^L))+k[5]+3593408605&4294967295,R=D+(O<<5&4294967295|O>>>27),O=$+(D^L&(R^D))+k[10]+38016083&4294967295,$=R+(O<<9&4294967295|O>>>23),O=L+(R^D&($^R))+k[15]+3634488961&4294967295,L=$+(O<<14&4294967295|O>>>18),O=D+($^R&(L^$))+k[4]+3889429448&4294967295,D=L+(O<<20&4294967295|O>>>12),O=R+(L^$&(D^L))+k[9]+568446438&4294967295,R=D+(O<<5&4294967295|O>>>27),O=$+(D^L&(R^D))+k[14]+3275163606&4294967295,$=R+(O<<9&4294967295|O>>>23),O=L+(R^D&($^R))+k[3]+4107603335&4294967295,L=$+(O<<14&4294967295|O>>>18),O=D+($^R&(L^$))+k[8]+1163531501&4294967295,D=L+(O<<20&4294967295|O>>>12),O=R+(L^$&(D^L))+k[13]+2850285829&4294967295,R=D+(O<<5&4294967295|O>>>27),O=$+(D^L&(R^D))+k[2]+4243563512&4294967295,$=R+(O<<9&4294967295|O>>>23),O=L+(R^D&($^R))+k[7]+1735328473&4294967295,L=$+(O<<14&4294967295|O>>>18),O=D+($^R&(L^$))+k[12]+2368359562&4294967295,D=L+(O<<20&4294967295|O>>>12),O=R+(D^L^$)+k[5]+4294588738&4294967295,R=D+(O<<4&4294967295|O>>>28),O=$+(R^D^L)+k[8]+2272392833&4294967295,$=R+(O<<11&4294967295|O>>>21),O=L+($^R^D)+k[11]+1839030562&4294967295,L=$+(O<<16&4294967295|O>>>16),O=D+(L^$^R)+k[14]+4259657740&4294967295,D=L+(O<<23&4294967295|O>>>9),O=R+(D^L^$)+k[1]+2763975236&4294967295,R=D+(O<<4&4294967295|O>>>28),O=$+(R^D^L)+k[4]+1272893353&4294967295,$=R+(O<<11&4294967295|O>>>21),O=L+($^R^D)+k[7]+4139469664&4294967295,L=$+(O<<16&4294967295|O>>>16),O=D+(L^$^R)+k[10]+3200236656&4294967295,D=L+(O<<23&4294967295|O>>>9),O=R+(D^L^$)+k[13]+681279174&4294967295,R=D+(O<<4&4294967295|O>>>28),O=$+(R^D^L)+k[0]+3936430074&4294967295,$=R+(O<<11&4294967295|O>>>21),O=L+($^R^D)+k[3]+3572445317&4294967295,L=$+(O<<16&4294967295|O>>>16),O=D+(L^$^R)+k[6]+76029189&4294967295,D=L+(O<<23&4294967295|O>>>9),O=R+(D^L^$)+k[9]+3654602809&4294967295,R=D+(O<<4&4294967295|O>>>28),O=$+(R^D^L)+k[12]+3873151461&4294967295,$=R+(O<<11&4294967295|O>>>21),O=L+($^R^D)+k[15]+530742520&4294967295,L=$+(O<<16&4294967295|O>>>16),O=D+(L^$^R)+k[2]+3299628645&4294967295,D=L+(O<<23&4294967295|O>>>9),O=R+(L^(D|~$))+k[0]+4096336452&4294967295,R=D+(O<<6&4294967295|O>>>26),O=$+(D^(R|~L))+k[7]+1126891415&4294967295,$=R+(O<<10&4294967295|O>>>22),O=L+(R^($|~D))+k[14]+2878612391&4294967295,L=$+(O<<15&4294967295|O>>>17),O=D+($^(L|~R))+k[5]+4237533241&4294967295,D=L+(O<<21&4294967295|O>>>11),O=R+(L^(D|~$))+k[12]+1700485571&4294967295,R=D+(O<<6&4294967295|O>>>26),O=$+(D^(R|~L))+k[3]+2399980690&4294967295,$=R+(O<<10&4294967295|O>>>22),O=L+(R^($|~D))+k[10]+4293915773&4294967295,L=$+(O<<15&4294967295|O>>>17),O=D+($^(L|~R))+k[1]+2240044497&4294967295,D=L+(O<<21&4294967295|O>>>11),O=R+(L^(D|~$))+k[8]+1873313359&4294967295,R=D+(O<<6&4294967295|O>>>26),O=$+(D^(R|~L))+k[15]+4264355552&4294967295,$=R+(O<<10&4294967295|O>>>22),O=L+(R^($|~D))+k[6]+2734768916&4294967295,L=$+(O<<15&4294967295|O>>>17),O=D+($^(L|~R))+k[13]+1309151649&4294967295,D=L+(O<<21&4294967295|O>>>11),O=R+(L^(D|~$))+k[4]+4149444226&4294967295,R=D+(O<<6&4294967295|O>>>26),O=$+(D^(R|~L))+k[11]+3174756917&4294967295,$=R+(O<<10&4294967295|O>>>22),O=L+(R^($|~D))+k[2]+718787259&4294967295,L=$+(O<<15&4294967295|O>>>17),O=D+($^(L|~R))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+R&4294967295,S.g[1]=S.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+$&4294967295}r.prototype.u=function(S,R){R===void 0&&(R=S.length);for(var D=R-this.blockSize,k=this.B,L=this.h,$=0;$<R;){if(L==0)for(;$<=D;)i(this,S,$),$+=this.blockSize;if(typeof S=="string"){for(;$<R;)if(k[L++]=S.charCodeAt($++),L==this.blockSize){i(this,k),L=0;break}}else for(;$<R;)if(k[L++]=S[$++],L==this.blockSize){i(this,k),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var R=1;R<S.length-8;++R)S[R]=0;var D=8*this.o;for(R=S.length-8;R<S.length;++R)S[R]=D&255,D/=256;for(this.u(S),S=Array(16),R=D=0;4>R;++R)for(var k=0;32>k;k+=8)S[D++]=this.g[R]>>>k&255;return S};function a(S,R){var D=c;return Object.prototype.hasOwnProperty.call(D,S)?D[S]:D[S]=R(S)}function l(S,R){this.h=R;for(var D=[],k=!0,L=S.length-1;0<=L;L--){var $=S[L]|0;k&&$==R||(D[L]=$,k=!1)}this.g=D}var c={};function f(S){return-128<=S&&128>S?a(S,function(R){return new l([R|0],0>R?-1:0)}):new l([S|0],0>S?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return b(p(-S));for(var R=[],D=1,k=0;S>=D;k++)R[k]=S/D|0,D*=4294967296;return new l(R,0)}function g(S,R){if(S.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S.charAt(0)=="-")return b(g(S.substring(1),R));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(R,8)),k=_,L=0;L<S.length;L+=8){var $=Math.min(8,S.length-L),O=parseInt(S.substring(L,L+$),R);8>$?($=p(Math.pow(R,$)),k=k.j($).add(p(O))):(k=k.j(D),k=k.add(p(O)))}return k}var _=f(0),T=f(1),A=f(16777216);n=l.prototype,n.m=function(){if(x(this))return-b(this).m();for(var S=0,R=1,D=0;D<this.g.length;D++){var k=this.i(D);S+=(0<=k?k:4294967296+k)*R,R*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N(this))return"0";if(x(this))return"-"+b(this).toString(S);for(var R=p(Math.pow(S,6)),D=this,k="";;){var L=B(D,R).g;D=z(D,L.j(R));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(S);if(D=L,N(D))return $+k;for(;6>$.length;)$="0"+$;k=$+k}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function N(S){if(S.h!=0)return!1;for(var R=0;R<S.g.length;R++)if(S.g[R]!=0)return!1;return!0}function x(S){return S.h==-1}n.l=function(S){return S=z(this,S),x(S)?-1:N(S)?0:1};function b(S){for(var R=S.g.length,D=[],k=0;k<R;k++)D[k]=~S.g[k];return new l(D,~S.h).add(T)}n.abs=function(){return x(this)?b(this):this},n.add=function(S){for(var R=Math.max(this.g.length,S.g.length),D=[],k=0,L=0;L<=R;L++){var $=k+(this.i(L)&65535)+(S.i(L)&65535),O=($>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);k=O>>>16,$&=65535,O&=65535,D[L]=O<<16|$}return new l(D,D[D.length-1]&-2147483648?-1:0)};function z(S,R){return S.add(b(R))}n.j=function(S){if(N(this)||N(S))return _;if(x(this))return x(S)?b(this).j(b(S)):b(b(this).j(S));if(x(S))return b(this.j(b(S)));if(0>this.l(A)&&0>S.l(A))return p(this.m()*S.m());for(var R=this.g.length+S.g.length,D=[],k=0;k<2*R;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<S.g.length;L++){var $=this.i(k)>>>16,O=this.i(k)&65535,Ee=S.i(L)>>>16,xe=S.i(L)&65535;D[2*k+2*L]+=O*xe,M(D,2*k+2*L),D[2*k+2*L+1]+=$*xe,M(D,2*k+2*L+1),D[2*k+2*L+1]+=O*Ee,M(D,2*k+2*L+1),D[2*k+2*L+2]+=$*Ee,M(D,2*k+2*L+2)}for(k=0;k<R;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=R;k<2*R;k++)D[k]=0;return new l(D,0)};function M(S,R){for(;(S[R]&65535)!=S[R];)S[R+1]+=S[R]>>>16,S[R]&=65535,R++}function j(S,R){this.g=S,this.h=R}function B(S,R){if(N(R))throw Error("division by zero");if(N(S))return new j(_,_);if(x(S))return R=B(b(S),R),new j(b(R.g),b(R.h));if(x(R))return R=B(S,b(R)),new j(b(R.g),R.h);if(30<S.g.length){if(x(S)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var D=T,k=R;0>=k.l(S);)D=Z(D),k=Z(k);var L=Y(D,1),$=Y(k,1);for(k=Y(k,2),D=Y(D,2);!N(k);){var O=$.add(k);0>=O.l(S)&&(L=L.add(D),$=O),k=Y(k,1),D=Y(D,1)}return R=z(S,L.j(R)),new j(L,R)}for(L=_;0<=S.l(R);){for(D=Math.max(1,Math.floor(S.m()/R.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),$=p(D),O=$.j(R);x(O)||0<O.l(S);)D-=k,$=p(D),O=$.j(R);N($)&&($=T),L=L.add($),S=z(S,O)}return new j(L,S)}n.A=function(S){return B(this,S).h},n.and=function(S){for(var R=Math.max(this.g.length,S.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)&S.i(k);return new l(D,this.h&S.h)},n.or=function(S){for(var R=Math.max(this.g.length,S.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)|S.i(k);return new l(D,this.h|S.h)},n.xor=function(S){for(var R=Math.max(this.g.length,S.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)^S.i(k);return new l(D,this.h^S.h)};function Z(S){for(var R=S.g.length+1,D=[],k=0;k<R;k++)D[k]=S.i(k)<<1|S.i(k-1)>>>31;return new l(D,S.h)}function Y(S,R){var D=R>>5;R%=32;for(var k=S.g.length-D,L=[],$=0;$<k;$++)L[$]=0<R?S.i($+D)>>>R|S.i($+D+1)<<32-R:S.i($+D);return new l(L,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gb=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,_o=l}).apply(typeof Z0<"u"?Z0:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yb,uc,vb,Qf,yy,_b,wb,Eb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var K=d[P];if(!(K in E))break e;E=E[K]}d=d[d.length-1],P=E[d],y=y(P),y!=P&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var E=0,P=!1,K={next:function(){if(!P&&E<d.length){var te=E++;return{value:y(te,d[te]),done:!1}}return P=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function _(d,y,E){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,P),d.apply(y,K)}}return function(){return d.apply(y,arguments)}}function T(d,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function A(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function N(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(P,K,te){for(var ge=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ge[bt-2]=arguments[bt];return y.prototype[K].apply(P,ge)}}function x(d){const y=d.length;if(0<y){const E=Array(y);for(let P=0;P<y;P++)E[P]=d[P];return E}return[]}function b(d,y){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(f(P)){const K=d.length||0,te=P.length||0;d.length=K+te;for(let ge=0;ge<te;ge++)d[K+ge]=P[ge]}else d.push(P)}}class z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function M(d){return/^[\s\xa0]*$/.test(d)}function j(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function B(d){return B[" "](d),d}B[" "]=function(){};var Z=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Y(d,y,E){for(const P in d)y.call(E,d[P],P,d)}function S(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function R(d){const y={};for(const E in d)y[E]=d[E];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,y){let E,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(E in P)d[E]=P[E];for(let te=0;te<D.length;te++)E=D[te],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function L(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function $(d){c.setTimeout(()=>{throw d},0)}function O(){var d=me;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ee{constructor(){this.h=this.g=null}add(y,E){const P=xe.get();P.set(y,E),this.h?this.h.next=P:this.g=P,this.h=P}}var xe=new z(()=>new Be,d=>d.reset());class Be{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,me=new Ee,le=()=>{const d=c.Promise.resolve(void 0);Ne=()=>{d.then(H)}};var H=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){$(E)}var y=xe;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function Ie(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(Z){e:{try{B(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}N(Ie,pe);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function st(d,y,E,P,K){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!P,this.ha=K,this.key=++Fe,this.da=this.fa=!1}function Et(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function St(d){this.src=d,this.g={},this.h=0}St.prototype.add=function(d,y,E,P,K){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var ge=kt(d,y,P,K);return-1<ge?(y=d[ge],E||(y.fa=!1)):(y=new st(y,this.src,te,!!P,K),y.fa=E,d.push(y)),y};function it(d,y){var E=y.type;if(E in d.g){var P=d.g[E],K=Array.prototype.indexOf.call(P,y,void 0),te;(te=0<=K)&&Array.prototype.splice.call(P,K,1),te&&(Et(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function kt(d,y,E,P){for(var K=0;K<d.length;++K){var te=d[K];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==P)return K}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),rt={};function jt(d,y,E,P,K){if(Array.isArray(y)){for(var te=0;te<y.length;te++)jt(d,y[te],E,P,K);return null}return E=sn(E),d&&d[Ge]?d.K(y,E,p(P)?!!P.capture:!1,K):pn(d,y,E,!1,P,K)}function pn(d,y,E,P,K,te){if(!y)throw Error("Invalid event type");var ge=p(K)?!!K.capture:!!K,bt=Dn(d);if(bt||(d[Kt]=bt=new St(d)),E=bt.add(y,E,P,ge,te),E.proxy)return E;if(P=Or(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)ve||(K=ge),K===void 0&&(K=!1),d.addEventListener(y.toString(),P,K);else if(d.attachEvent)d.attachEvent(Jt(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Or(){function d(E){return y.call(d.src,d.listener,E)}const y=tr;return d}function Wn(d,y,E,P,K){if(Array.isArray(y))for(var te=0;te<y.length;te++)Wn(d,y[te],E,P,K);else P=p(P)?!!P.capture:!!P,E=sn(E),d&&d[Ge]?(d=d.i,y=String(y).toString(),y in d.g&&(te=d.g[y],E=kt(te,E,P,K),-1<E&&(Et(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete d.g[y],d.h--)))):d&&(d=Dn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=kt(y,E,P,K)),(E=-1<d?y[d]:null)&&Bt(E))}function Bt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ge])it(y.i,d);else{var E=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(E,P,d.capture):y.detachEvent?y.detachEvent(Jt(E),P):y.addListener&&y.removeListener&&y.removeListener(P),(E=Dn(y))?(it(E,d),E.h==0&&(E.src=null,y[Kt]=null)):Et(d)}}}function Jt(d){return d in rt?rt[d]:rt[d]="on"+d}function tr(d,y){if(d.da)d=!0;else{y=new Ie(y,this);var E=d.listener,P=d.ha||d.src;d.fa&&Bt(d),d=E.call(P,y)}return d}function Dn(d){return d=d[Kt],d instanceof St?d:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(d){return typeof d=="function"?d:(d[Dt]||(d[Dt]=function(y){return d.handleEvent(y)}),d[Dt])}function $e(){ee.call(this),this.i=new St(this),this.M=this,this.F=null}N($e,ee),$e.prototype[Ge]=!0,$e.prototype.removeEventListener=function(d,y,E,P){Wn(this,d,y,E,P)};function mt(d,y){var E,P=d.F;if(P)for(E=[];P;P=P.F)E.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var K=y;y=new pe(P,d),k(y,K)}if(K=!0,E)for(var te=E.length-1;0<=te;te--){var ge=y.g=E[te];K=Ot(ge,P,!0,y)&&K}if(ge=y.g=d,K=Ot(ge,P,!0,y)&&K,K=Ot(ge,P,!1,y)&&K,E)for(te=0;te<E.length;te++)ge=y.g=E[te],K=Ot(ge,P,!1,y)&&K}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],P=0;P<E.length;P++)Et(E[P]);delete d.g[y],d.h--}}this.F=null},$e.prototype.K=function(d,y,E,P){return this.i.add(String(d),y,!1,E,P)},$e.prototype.L=function(d,y,E,P){return this.i.add(String(d),y,!0,E,P)};function Ot(d,y,E,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,te=0;te<y.length;++te){var ge=y[te];if(ge&&!ge.da&&ge.capture==E){var bt=ge.listener,on=ge.ha||ge.src;ge.fa&&it(d.i,ge),K=bt.call(on,P)!==!1&&K}}return K&&!P.defaultPrevented}function mn(d,y,E){if(typeof d=="function")E&&(d=T(d,E));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function qn(d){d.g=mn(()=>{d.g=null,d.i&&(d.i=!1,qn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Kn extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function He(d){ee.call(this),this.h=d,this.g={}}N(He,ee);var ot=[];function gn(d){Y(d.g,function(y,E){this.g.hasOwnProperty(E)&&Bt(y)},d),d.g={}}He.prototype.N=function(){He.aa.N.call(this),gn(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=c.JSON.stringify,gi=c.JSON.parse,Uo=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function yi(){}yi.prototype.h=null;function Xr(d){return d.h||(d.h=d.i())}function Hi(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){pe.call(this,"d")}N(rr,pe);function ks(){pe.call(this,"c")}N(ks,pe);var vr={},Fo=null;function vi(){return Fo=Fo||new $e}vr.La="serverreachability";function _i(d){pe.call(this,vr.La,d)}N(_i,pe);function ir(d){const y=vi();mt(y,new _i(y))}vr.STAT_EVENT="statevent";function jo(d,y){pe.call(this,vr.STAT_EVENT,d),this.stat=y}N(jo,pe);function Ht(d){const y=vi();mt(y,new jo(y,d))}vr.Ma="timingevent";function U(d,y){pe.call(this,vr.Ma,d),this.size=y}N(U,pe);function q(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function re(d,y,E,P,K,te){d.info(function(){if(d.g)if(te)for(var ge="",bt=te.split("&"),on=0;on<bt.length;on++){var vt=bt[on].split("=");if(1<vt.length){var yn=vt[0];vt=vt[1];var en=yn.split("_");ge=2<=en.length&&en[1]=="type"?ge+(yn+"="+vt+"&"):ge+(yn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+y+`
`+E+`
`+ge})}function _e(d,y,E,P,K,te,ge){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+y+`
`+E+`
`+te+" "+ge})}function ke(d,y,E,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(d,E)+(P?" "+P:"")})}function Qe(d,y){d.info(function(){return"TIMEOUT: "+y})}X.prototype.info=function(){};function Pe(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var P=E[d];if(!(2>P.length)){var K=P[1];if(Array.isArray(K)&&!(1>K.length)){var te=K[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<K.length;ge++)K[ge]=""}}}}return nr(E)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function et(){}N(et,yi),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},De=new et;function Ze(d,y,E,P){this.j=d,this.i=y,this.l=E,this.R=P||1,this.U=new He(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}var Tt={},at={};function Rt(d,y,E){d.L=1,d.v=Ls(Er(y)),d.m=E,d.P=!0,xr(d,null)}function xr(d,y){d.F=Date.now(),ct(d),d.A=Er(d.v);var E=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),Vs(E.i,"t",P),d.C=0,E=d.j.J,d.h=new Gt,d.g=Id(d.j,E?y:null,!d.m),0<d.O&&(d.M=new Kn(T(d.Y,d,d.g),d.O)),y=d.U,E=d.g,P=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(ot[0]=K.toString()),K=ot);for(var te=0;te<K.length;te++){var ge=jt(E,K[te],P||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),ir(),re(d.i,d.u,d.A,d.l,d.R,d.m)}Ze.prototype.ca=function(d){d=d.target;const y=this.M;y&&or(d)==3?y.j():this.Y(d)},Ze.prototype.Y=function(d){try{if(d==this.g)e:{const en=or(this.g);var y=this.g.Ba();const Vr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||en!=4||y==7||(y==8||0>=Vr?ir(3):ir(2)),wr(this);var E=this.g.Z();this.X=E;t:if(wi(this)){var P=Eu(this.g);d="";var K=P.length,te=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),xn(this);var ge="";break t}this.h.i=new c.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(te&&y==K-1)});P.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,_e(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,on=this.g;if((bt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(bt)){var vt=bt;break t}}vt=null}if(E=vt)ke(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,E);else{this.o=!1,this.s=3,Ht(12),Tn(this),xn(this);break e}}if(this.P){E=!0;let Ir;for(;!this.J&&this.C<ge.length;)if(Ir=_r(this,ge),Ir==at){en==4&&(this.s=4,Ht(14),E=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(Ir==Tt){this.s=4,Ht(15),ke(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else ke(this.i,this.l,Ir,null),Ei(this,Ir);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ge.length!=0||this.h.h||(this.s=1,Ht(16),E=!1),this.o=this.o&&E,!E)ke(this.i,this.l,ge,"[Invalid Chunked Response]"),Tn(this),xn(this);else if(0<ge.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Iu(yn),yn.M=!0,Ht(11))}}else ke(this.i,this.l,ge,null),Ei(this,ge);en==4&&Tn(this),this.o&&!this.J&&(en==4?Wa(this.j,this):(this.o=!1,ct(this)))}else Fa(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Tn(this),xn(this)}}}catch{}finally{}};function wi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function _r(d,y){var E=d.C,P=y.indexOf(`
`,E);return P==-1?at:(E=Number(y.substring(E,P)),isNaN(E)?Tt:(P+=1,P+E>y.length?at:(y=y.slice(P,P+E),d.C=P+E,y)))}Ze.prototype.cancel=function(){this.J=!0,Tn(this)};function ct(d){d.S=Date.now()+d.I,Ps(d,d.I)}function Ps(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=q(T(d.ba,d),y)}function wr(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Ze.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(ir(),Ht(17)),Tn(this),this.s=2,xn(this)):Ps(this,this.S-d)};function xn(d){d.j.G==0||d.J||Wa(d.j,d)}function Tn(d){wr(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,gn(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ei(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||ft(E.h,d))){if(!d.K&&ft(E.h,d)&&E.G==3){try{var P=E.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)za(E),ni(E);else break e;Ha(E),Ht(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=q(T(E.Za,E),6e3));if(1>=Ti(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Gi(E,11)}else if((d.K||E.g==d)&&za(E),!M(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let vt=K[y];if(E.T=vt[0],vt=vt[1],E.G==2)if(vt[0]=="c"){E.K=vt[1],E.ia=vt[2];const yn=vt[3];yn!=null&&(E.la=yn,E.j.info("VER="+E.la));const en=vt[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const Vr=vt[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(P=1.5*Vr,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Ir=d.g;if(Ir){const Go=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var te=P.h;te.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Lr(te,te.h),te.h=null))}if(P.D){const Ka=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(P.ya=Ka,Pt(P.I,P.D,Ka))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var ge=d;if(P.qa=Td(P,P.J?P.ia:null,P.W),ge.K){Bo(P.h,ge);var bt=ge,on=P.L;on&&(bt.I=on),bt.B&&(wr(bt),ct(bt)),P.g=ge}else Ko(P);0<E.i.length&&Ai(E)}else vt[0]!="stop"&&vt[0]!="close"||Gi(E,7);else E.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Gi(E,7):Sn(E):vt[0]!="noop"&&E.l&&E.l.ta(vt),E.v=0)}}ir(4)}catch{}}var dt=class{constructor(d,y){this.g=d,this.map=y}};function Ct(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ti(d){return d.h?1:d.g?d.g.size:0}function ft(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Lr(d,y){d.g?d.g.add(y):d.h=y}function Bo(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ct.prototype.cancel=function(){if(this.i=xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xa(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return x(d.i)}function La(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],E=d.length,P=0;P<E;P++)y.push(d[P]);return y}y=[],E=0;for(P in d)y[E++]=d[P];return y}function Ma(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const P in d)y[E++]=P;return y}}}function Ds(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=Ma(d),P=La(d),K=P.length,te=0;te<K;te++)y.call(void 0,P[te],E&&E[te],d)}var Ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _p(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var P=d[E].indexOf("="),K=null;if(0<=P){var te=d[E].substring(0,P);K=d[E].substring(P+1)}else te=d[E];y(te,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function zi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zi){this.h=d.h,zo(this,d.j),this.o=d.o,this.g=d.g,Os(this,d.s),this.l=d.l;var y=d.i,E=new Ii;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),xs(this,E),this.m=d.m}else d&&(y=String(d).match(Ho))?(this.h=!1,zo(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),Os(this,y[4]),this.l=gt(y[5]||"",!0),xs(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}zi.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ms(y,Va,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ms(y,Va,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ms(E,E.charAt(0)=="/"?pd:hd,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ms(E,vu)),d.join("")};function Er(d){return new zi(d)}function zo(d,y,E){d.j=E?gt(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Os(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function xs(d,y,E){y instanceof Ii?(d.i=y,Si(d.i,d.h)):(E||(y=Ms(y,md)),d.i=new Ii(y,d.h))}function Pt(d,y,E){d.i.set(y,E)}function Ls(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gt(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ms(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,fd),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function fd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Va=/[#\/\?@]/g,hd=/[#\?:]/g,pd=/[#\?]/g,md=/[#\?@]/g,vu=/#/g;function Ii(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function In(d){d.g||(d.g=new Map,d.h=0,d.i&&_p(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Ii.prototype,n.add=function(d,y){In(this),this.i=null,d=Mr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function Jr(d,y){In(d),y=Mr(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Zr(d,y){return In(d),y=Mr(d,y),d.g.has(y)}n.forEach=function(d,y){In(this),this.g.forEach(function(E,P){E.forEach(function(K){d.call(y,K,P,this)},this)},this)},n.na=function(){In(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let P=0;P<y.length;P++){const K=d[P];for(let te=0;te<K.length;te++)E.push(y[P])}return E},n.V=function(d){In(this);let y=[];if(typeof d=="string")Zr(this,d)&&(y=y.concat(this.g.get(Mr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},n.set=function(d,y){return In(this),this.i=null,d=Mr(this,d),Zr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Vs(d,y,E){Jr(d,y),0<E.length&&(d.i=null,d.g.set(Mr(d,y),x(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var P=y[E];const te=encodeURIComponent(String(P)),ge=this.V(P);for(P=0;P<ge.length;P++){var K=te;ge[P]!==""&&(K+="="+encodeURIComponent(String(ge[P]))),d.push(K)}}return this.i=d.join("&")};function Mr(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Si(d,y){y&&!d.j&&(In(d),d.i=null,d.g.forEach(function(E,P){var K=P.toLowerCase();P!=K&&(Jr(this,P),Vs(this,K,E))},d)),d.j=y}function wp(d,y){const E=new X;if(c.Image){const P=new Image;P.onload=A(sr,E,"TestLoadImage: loaded",!0,y,P),P.onerror=A(sr,E,"TestLoadImage: error",!1,y,P),P.onabort=A(sr,E,"TestLoadImage: abort",!1,y,P),P.ontimeout=A(sr,E,"TestLoadImage: timeout",!1,y,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function gd(d,y){const E=new X,P=new AbortController,K=setTimeout(()=>{P.abort(),sr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(te=>{clearTimeout(K),te.ok?sr(E,"TestPingServer: ok",!0,y):sr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),sr(E,"TestPingServer: error",!1,y)})}function sr(d,y,E,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(E)}catch{}}function Ep(){this.g=new Uo}function yd(d,y,E){const P=E||"";try{Ds(d,function(K,te){let ge=K;p(K)&&(ge=nr(K)),y.push(P+te+"="+encodeURIComponent(ge))})}catch(K){throw y.push(P+"type="+encodeURIComponent("_badmap")),K}}function Wi(d){this.l=d.Ub||null,this.j=d.eb||!1}N(Wi,yi),Wi.prototype.g=function(){return new Wo(this.l,this.j)},Wi.prototype.i=function(d){return function(){return d}}({});function Wo(d,y){$e.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Wo,$e),n=Wo.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ti(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function vd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?ei(this):ti(this),this.readyState==3&&vd(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,ei(this))},n.Qa=function(d){this.g&&(this.response=d,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ti(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function ti(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function qi(d){let y="";return Y(d,function(E,P){y+=P,y+=":",y+=E,y+=`\r
`}),y}function $s(d,y,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=qi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Pt(d,y,E))}function Vt(d){$e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Vt,$e);var Tp=/^https?$/i,_u=["POST","PUT"];n=Vt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?Xr(this.o):Xr(De),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(te){qo(this,te);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)E.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const te of P.keys())E.set(te,P.get(te));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),K=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(_u,y,void 0))||P||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of E)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ua(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){qo(this,te)}};function qo(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,$a(d),Tr(d)}function $a(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},n.bb=function(){wu(this)};function wu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||or(d)!=4||d.Z()!=2)){if(d.u&&or(d)==4)mn(d.Ea,0,d);else if(mt(d,"readystatechange"),or(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var P;if(P=ge===0){var K=String(d.D).match(Ho)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),P=!Tp.test(K?K.toLowerCase():"")}E=P}if(E)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var te=2<or(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",$a(d)}}finally{Tr(d)}}}}function Tr(d,y){if(d.g){Ua(d);const E=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||mt(d,"ready");try{E.onreadystatechange=P}catch{}}}function Ua(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function or(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),gi(y)}};function Eu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Fa(d){const y={};d=(d.g&&2<=or(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(M(d[P]))continue;var E=L(d[P]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[K]||[];y[K]=te,te.push(E)}S(y,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function Tu(d){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,d),this.cb=Ci("retryDelaySeedMs",1e4,d),this.Wa=Ci("forwardChannelMaxRetries",2,d),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ct(d&&d.concurrentRequestLimit),this.Da=new Ep,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Tu.prototype,n.la=8,n.G=1,n.connect=function(d,y,E,P){Ht(0),this.W=d,this.H=y||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=Td(this,null,this.W),Ai(this)};function Sn(d){if(ja(d),d.G==3){var y=d.U++,E=Er(d.I);if(Pt(E,"SID",d.K),Pt(E,"RID",y),Pt(E,"TYPE","terminate"),Ki(d,E),y=new Ze(d,d.j,y),y.L=2,y.v=Ls(Er(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=Id(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}Ed(d)}function ni(d){d.g&&(Iu(d),d.g.cancel(),d.g=null)}function ja(d){ni(d),d.u&&(c.clearTimeout(d.u),d.u=null),za(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ai(d){if(!Zt(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ne||le(),ne||(Ne(),ne=!0),me.add(y,d),d.B=0}}function Ip(d,y){return Ti(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=q(T(d.Ga,d,y),wd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new Ze(this,this.j,d);let te=this.o;if(this.S&&(te?(te=R(te),k(te,this.S)):te=this.S),this.m!==null||this.O||(K.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Us(this,K,y),E=Er(this.I),Pt(E,"RID",d),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),Ki(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(qi(te)))+"&"+y:this.m&&$s(E,this.m,te)),Lr(this.h,K),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",y),Pt(E,"SID","null"),K.T=!0,Rt(K,E,null)):Rt(K,E,y),this.G=2}}else this.G==3&&(d?Ba(this,d):this.i.length==0||Zt(this.h)||Ba(this))};function Ba(d,y){var E;y?E=y.l:E=d.U++;const P=Er(d.I);Pt(P,"SID",d.K),Pt(P,"RID",E),Pt(P,"AID",d.T),Ki(d,P),d.m&&d.o&&$s(P,d.m,d.o),E=new Ze(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Us(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Lr(d.h,E),Rt(E,P,y)}function Ki(d,y){d.H&&Y(d.H,function(E,P){Pt(y,P,E)}),d.l&&Ds({},function(E,P){Pt(y,P,E)})}function Us(d,y,E){E=Math.min(d.i.length,E);var P=d.l?T(d.l.Na,d.l,d):null;e:{var K=d.i;let te=-1;for(;;){const ge=["count="+E];te==-1?0<E?(te=K[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let bt=!0;for(let on=0;on<E;on++){let vt=K[on].g;const yn=K[on].map;if(vt-=te,0>vt)te=Math.max(0,K[on].g-100),bt=!1;else try{yd(yn,ge,"req"+vt+"_")}catch{P&&P(yn)}}if(bt){P=ge.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,P}function Ko(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ne||le(),ne||(Ne(),ne=!0),me.add(y,d),d.v=0}}function Ha(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=q(T(d.Fa,d),wd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,_d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=q(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),ni(this),_d(this))};function Iu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function _d(d){d.g=new Ze(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Er(d.qa);Pt(y,"RID","rpc"),Pt(y,"SID",d.K),Pt(y,"AID",d.T),Pt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(y,"TO",d.ja),Pt(y,"TYPE","xmlhttp"),Ki(d,y),d.m&&d.o&&$s(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ls(Er(y)),E.m=null,E.P=!0,xr(E,d)}n.Za=function(){this.C!=null&&(this.C=null,ni(this),Ha(this),Ht(19))};function za(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Wa(d,y){var E=null;if(d.g==y){za(d),Iu(d),d.g=null;var P=2}else if(ft(d.h,y))E=y.D,Bo(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=d.B;P=vi(),mt(P,new U(P,E)),Ai(d)}else Ko(d);else if(K=y.s,K==3||K==0&&0<y.X||!(P==1&&Ip(d,y)||P==2&&Ha(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),K){case 1:Gi(d,5);break;case 4:Gi(d,10);break;case 3:Gi(d,6);break;default:Gi(d,2)}}}function wd(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function Gi(d,y){if(d.j.info("Error code "+y),y==2){var E=T(d.fb,d),P=d.Xa;const K=!P;P=new zi(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zo(P,"https"),Ls(P),K?wp(P.toString(),E):gd(P.toString(),E)}else Ht(2);d.G=0,d.l&&d.l.sa(y),Ed(d),ja(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Ed(d){if(d.G=0,d.ka=[],d.l){const y=xa(d.h);(y.length!=0||d.i.length!=0)&&(b(d.ka,y),b(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function Td(d,y,E){var P=E instanceof zi?Er(E):new zi(E);if(P.g!="")y&&(P.g=y+"."+P.g),Os(P,P.s);else{var K=c.location;P=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var te=new zi(null);P&&zo(te,P),y&&(te.g=y),K&&Os(te,K),E&&(te.l=E),P=te}return E=d.D,y=d.ya,E&&y&&Pt(P,E,y),Pt(P,"VER",d.la),Ki(d,P),P}function Id(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Vt(new Wi({eb:E})):new Vt(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}n=Su.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qa(){}qa.prototype.g=function(d,y){return new Gn(d,y)};function Gn(d,y){$e.call(this),this.g=new Tu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!M(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ri(this)}N(Gn,$e),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Sn(this.g)},Gn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=nr(d),d=E);y.i.push(new dt(y.Ya++,d)),y.G==3&&Ai(y)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,Gn.aa.N.call(this)};function Sd(d){rr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}N(Sd,rr);function Cd(){ks.call(this),this.status=1}N(Cd,ks);function Ri(d){this.g=d}N(Ri,Su),Ri.prototype.ua=function(){mt(this.g,"a")},Ri.prototype.ta=function(d){mt(this.g,new Sd(d))},Ri.prototype.sa=function(d){mt(this.g,new Cd)},Ri.prototype.ra=function(){mt(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Eb=function(){return new qa},wb=function(){return vi()},_b=vr,yy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Qf=Re,Se.COMPLETE="complete",vb=Se,Hi.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",$e.prototype.listen=$e.prototype.K,uc=Hi,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,yb=Vt}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});const eI="@firebase/firestore",tI="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Pv("@firebase/firestore");function Il(){return Ia.logLevel}function be(n,...e){if(Ia.logLevel<=ht.DEBUG){const t=e.map(Hv);Ia.debug(`Firestore (${pu}): ${n}`,...t)}}function ws(n,...e){if(Ia.logLevel<=ht.ERROR){const t=e.map(Hv);Ia.error(`Firestore (${pu}): ${n}`,...t)}}function Gl(n,...e){if(Ia.logLevel<=ht.WARN){const t=e.map(Hv);Ia.warn(`Firestore (${pu}): ${n}`,...t)}}function Hv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(n="Unexpected state"){const e=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: `+n;throw ws(e),new Error(e)}function At(n,e){n||Je()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fn.UNAUTHENTICATED))}shutdown(){}}class Vj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $j{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new wo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new wo,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wo)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new Tb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new Fn(e)}}class Uj{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fj{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Uj(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jj{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new nI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new nI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Bj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function Ql(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=-62135596800,iI=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*iI);return new dn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rI)throw new je(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iI}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new dn(0,0))}static max(){return new tt(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="__name__";class Di{constructor(e,t,r){t===void 0?t=0:t>e.length&&Je(),r===void 0?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Di.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Di.isNumericId(e),i=Di.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Di.extractNumericId(e).compare(Di.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class Ft extends Di{construct(e,t,r){return new Ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ft(t)}static emptyPath(){return new Ft([])}}const Hj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Di{construct(e,t,r){return new Nn(e,t,r)}static isValidIdentifier(e){return Hj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sI}static keyField(){return new Nn([sI])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new je(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new je(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new je(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new je(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(t)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Ft.fromString(e))}static fromName(e){return new Ke(Ft.fromString(e).popFirst(5))}static empty(){return new Ke(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=-1;function zj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new dn(t+1,0):new dn(t,r));return new Ao(i,Ke.empty(),e)}function Wj(n){return new Ao(n.readTime,n.key,kc)}class Ao{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ao(tt.min(),Ke.empty(),kc)}static max(){return new Ao(tt.max(),Ke.empty(),kc)}}function qj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ke.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Kj)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new ie((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function Qj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}np.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=-1;function rp(n){return n==null}function _h(n){return n===0&&1/n==-1/0}function Yj(n){return typeof n=="number"&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="";function Xj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=oI(e)),e=Jj(n.get(t),e);return oI(e)}function Jj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Sb:t+="";break;default:t+=a}}return t}function oI(n){return n+Sb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Cb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lf(this.root,e,this.comparator,!0)}}class Lf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Rn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lI(this.data.getIterator())}getIteratorFrom(e){return new lI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class lI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new fn(Nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ab("Invalid base64 string: "+a):a}}(e);return new Pn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Zj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(n){if(At(!!n),typeof n=="string"){let e=0;const t=Zj.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bo(n){return typeof n=="string"?Pn.fromBase64String(n):Pn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="server_timestamp",bb="__type__",Nb="__previous_value__",kb="__local_write_time__";function Wv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[bb])===null||t===void 0?void 0:t.stringValue)===Rb}function ip(n){const e=n.mapValue.fields[Nb];return Wv(e)?ip(e):e}function Pc(n){const e=Ro(n.mapValue.fields[kb].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,t,r,i,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const wh="(default)";class Dc{constructor(e,t){this.projectId=e,this.database=t||wh}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__type__",tB="__max__",Mf={mapValue:{}},Db="__vector__",Eh="value";function No(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wv(n)?4:rB(n)?9007199254740991:nB(n)?10:11:Je()}function ji(n,e){if(n===e)return!0;const t=No(n);if(t!==No(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pc(n).isEqual(Pc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ro(i.timestampValue),c=Ro(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return bo(i.bytesValue).isEqual(bo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Xt(i.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Xt(i.integerValue)===Xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Xt(i.doubleValue),c=Xt(a.doubleValue);return l===c?_h(l)===_h(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Ql(n.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(aI(l)!==aI(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ji(l[f],c[f])))return!1;return!0}(n,e);default:return Je()}}function Oc(n,e){return(n.values||[]).find(t=>ji(t,e))!==void 0}function Yl(n,e){if(n===e)return 0;const t=No(n),r=No(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Xt(a.integerValue||a.doubleValue),f=Xt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return uI(n.timestampValue,e.timestampValue);case 4:return uI(Pc(n),Pc(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(a,l){const c=bo(a),f=bo(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=yt(c[p],f[p]);if(g!==0)return g}return yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=yt(Xt(a.latitude),Xt(l.latitude));return c!==0?c:yt(Xt(a.longitude),Xt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cI(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},T=l.fields||{},A=(c=_[Eh])===null||c===void 0?void 0:c.arrayValue,N=(f=T[Eh])===null||f===void 0?void 0:f.arrayValue,x=yt(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:cI(A,N)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Mf.mapValue&&l===Mf.mapValue)return 0;if(a===Mf.mapValue)return 1;if(l===Mf.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const T=yt(f[_],g[_]);if(T!==0)return T;const A=Yl(c[f[_]],p[g[_]]);if(A!==0)return A}return yt(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Je()}}function uI(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=Ro(n),r=Ro(e),i=yt(t.seconds,r.seconds);return i!==0?i:yt(t.nanos,r.nanos)}function cI(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Yl(t[i],r[i]);if(a)return a}return yt(t.length,r.length)}function Xl(n){return vy(n)}function vy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ro(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return bo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=vy(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${vy(t.fields[l])}`;return i+"}"}(n.mapValue):Je()}function Yf(n){switch(No(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ip(n);return e?16+Yf(e):16;case 5:return 2*n.stringValue.length;case 6:return bo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Yf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Vo(r.fields,(a,l)=>{i+=a.length+Yf(l)}),i}(n.mapValue);default:throw Je()}}function _y(n){return!!n&&"integerValue"in n}function qv(n){return!!n&&"arrayValue"in n}function dI(n){return!!n&&"nullValue"in n}function fI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xf(n){return!!n&&"mapValue"in n}function nB(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pb])===null||t===void 0?void 0:t.stringValue)===Db}function gc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rB(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(t)}setAll(e){let t=Nn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=gc(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Xf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Vo(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new gr(gc(this.value))}}function Ob(n){const e=[];return Vo(n.fields,(t,r)=>{const i=new Nn([t]);if(Xf(r)){const a=Ob(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Bn(e,0,tt.min(),tt.min(),tt.min(),gr.empty(),0)}static newFoundDocument(e,t,r,i){return new Bn(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new Bn(e,2,t,tt.min(),tt.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,tt.min(),tt.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t){this.position=e,this.inclusive=t}}function hI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Ke.comparator(Ke.fromName(l.referenceValue),t.key):r=Yl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function pI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function iB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{}class cn extends xb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oB(e,t,r):t==="array-contains"?new uB(e,r):t==="in"?new cB(e,r):t==="not-in"?new dB(e,r):t==="array-contains-any"?new fB(e,r):new cn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aB(e,r):new lB(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yl(t,this.value)):t!==null&&No(this.value)===No(t)&&this.matchesComparison(Yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends xb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Bi(e,t)}matches(e){return Lb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Lb(n){return n.op==="and"}function Mb(n){return sB(n)&&Lb(n)}function sB(n){for(const e of n.filters)if(e instanceof Bi)return!1;return!0}function wy(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+Xl(n.value);if(Mb(n))return n.filters.map(e=>wy(e)).join(",");{const e=n.filters.map(t=>wy(t)).join(",");return`${n.op}(${e})`}}function Vb(n,e){return n instanceof cn?function(r,i){return i instanceof cn&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)}(n,e):n instanceof Bi?function(r,i){return i instanceof Bi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&Vb(l,i.filters[c]),!0):!1}(n,e):void Je()}function $b(n){return n instanceof cn?function(t){return`${t.field.canonicalString()} ${t.op} ${Xl(t.value)}`}(n):n instanceof Bi?function(t){return t.op.toString()+" {"+t.getFilters().map($b).join(" ,")+"}"}(n):"Filter"}class oB extends cn{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class aB extends cn{constructor(e,t){super(e,"in",t),this.keys=Ub("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lB extends cn{constructor(e,t){super(e,"not-in",t),this.keys=Ub("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ub(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class uB extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qv(t)&&Oc(t.arrayValue,this.value)}}class cB extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Oc(this.value.arrayValue,t)}}class dB extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Oc(this.value.arrayValue,t)}}class fB extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function mI(n,e=null,t=[],r=[],i=null,a=null,l=null){return new hB(n,e,t,r,i,a,l)}function Kv(n){const e=nt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>wy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),rp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xl(r)).join(",")),e.le=t}return e.le}function Gv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Vb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pI(n.startAt,e.startAt)&&pI(n.endAt,e.endAt)}function Ey(n){return Ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function pB(n,e,t,r,i,a,l,c){return new sp(n,e,t,r,i,a,l,c)}function Qv(n){return new sp(n)}function gI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mB(n){return n.collectionGroup!==null}function yc(n){const e=nt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new fn(Nn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ih(a,r))}),t.has(Nn.keyField().canonicalString())||e.he.push(new Ih(Nn.keyField(),r))}return e.he}function Vi(n){const e=nt(n);return e.Pe||(e.Pe=gB(e,yc(n))),e.Pe}function gB(n,e){if(n.limitType==="F")return mI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ih(i.field,a)});const t=n.endAt?new Th(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Th(n.startAt.position,n.startAt.inclusive):null;return mI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ty(n,e,t){return new sp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function op(n,e){return Gv(Vi(n),Vi(e))&&n.limitType===e.limitType}function Fb(n){return`${Kv(Vi(n))}|lt:${n.limitType}`}function Sl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>$b(i)).join(", ")}]`),rp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Xl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Xl(i)).join(",")),`Target(${r})`}(Vi(n))}; limitType=${n.limitType})`}function ap(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of yc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=hI(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,yc(r),i)||r.endAt&&!function(l,c,f){const p=hI(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,yc(r),i))}(n,e)}function yB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jb(n){return(e,t)=>{let r=!1;for(const i of yc(n)){const a=vB(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function vB(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Yl(f,p):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Cb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=new qt(Ke.comparator);function Es(){return _B}const Bb=new qt(Ke.comparator);function cc(...n){let e=Bb;for(const t of n)e=e.insert(t.key,t);return e}function Hb(n){let e=Bb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pa(){return vc()}function zb(){return vc()}function vc(){return new Da(n=>n.toString(),(n,e)=>n.isEqual(e))}const wB=new qt(Ke.comparator),EB=new fn(Ke.comparator);function pt(...n){let e=EB;for(const t of n)e=e.add(t);return e}const TB=new fn(yt);function IB(){return TB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function Wb(n){return{integerValue:""+n}}function SB(n,e){return Yj(e)?Wb(e):Yv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function CB(n,e,t){return n instanceof xc?function(i,a){const l={fields:{[bb]:{stringValue:Rb},[kb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Wv(a)&&(a=ip(a)),a&&(l.fields[Nb]=a),{mapValue:l}}(t,e):n instanceof Jl?Kb(n,e):n instanceof Lc?Gb(n,e):function(i,a){const l=qb(i,a),c=yI(l)+yI(i.Ie);return _y(l)&&_y(i.Ie)?Wb(c):Yv(i.serializer,c)}(n,e)}function AB(n,e,t){return n instanceof Jl?Kb(n,e):n instanceof Lc?Gb(n,e):t}function qb(n,e){return n instanceof Sh?function(r){return _y(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class xc extends lp{}class Jl extends lp{constructor(e){super(),this.elements=e}}function Kb(n,e){const t=Qb(e);for(const r of n.elements)t.some(i=>ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class Lc extends lp{constructor(e){super(),this.elements=e}}function Gb(n,e){let t=Qb(e);for(const r of n.elements)t=t.filter(i=>!ji(i,r));return{arrayValue:{values:t}}}class Sh extends lp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function yI(n){return Xt(n.integerValue||n.doubleValue)}function Qb(n){return qv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t){this.field=e,this.transform=t}}function RB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Jl&&i instanceof Jl||r instanceof Lc&&i instanceof Lc?Ql(r.elements,i.elements,ji):r instanceof Sh&&i instanceof Sh?ji(r.Ie,i.Ie):r instanceof xc&&i instanceof xc}(n.transform,e.transform)}class bB{constructor(e,t){this.version=e,this.transformResults=t}}class $i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class up{}function Xb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zb(n.key,$i.none()):new od(n.key,n.data,$i.none());{const t=n.data,r=gr.empty();let i=new fn(Nn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new $o(n.key,r,new Nr(i.toArray()),$i.none())}}function NB(n,e,t){n instanceof od?function(i,a,l){const c=i.value.clone(),f=_I(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof $o?function(i,a,l){if(!Jf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=_I(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(Jb(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function _c(n,e,t,r){return n instanceof od?function(a,l,c,f){if(!Jf(a.precondition,l))return c;const p=a.value.clone(),g=wI(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof $o?function(a,l,c,f){if(!Jf(a.precondition,l))return c;const p=wI(a.fieldTransforms,f,l),g=l.data;return g.setAll(Jb(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,c){return Jf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function kB(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=qb(r.transform,i||null);a!=null&&(t===null&&(t=gr.empty()),t.set(r.field,a))}return t||null}function vI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ql(r,i,(a,l)=>RB(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class od extends up{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $o extends up{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Jb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _I(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,AB(l,c,t[i]))}return r}function wI(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,CB(a,l,e))}return r}class Zb extends up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PB extends up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&NB(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=zb();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=Xb(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(t,r)=>vI(t,r))&&Ql(this.baseMutations,e.baseMutations,(t,r)=>vI(t,r))}}class Xv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=function(){return wB}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Xv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,_t;function LB(n){switch(n){case de.OK:return Je();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Je()}}function eN(n){if(n===void 0)return ws("GRPC error has no .code"),de.UNKNOWN;switch(n){case nn.OK:return de.OK;case nn.CANCELLED:return de.CANCELLED;case nn.UNKNOWN:return de.UNKNOWN;case nn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case nn.INTERNAL:return de.INTERNAL;case nn.UNAVAILABLE:return de.UNAVAILABLE;case nn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case nn.NOT_FOUND:return de.NOT_FOUND;case nn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case nn.ABORTED:return de.ABORTED;case nn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case nn.DATA_LOSS:return de.DATA_LOSS;default:return Je()}}(_t=nn||(nn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=new _o([4294967295,4294967295],0);function EI(n){const e=MB().encode(n),t=new gb;return t.update(e),new Uint8Array(t.digest())}function TI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _o([t,r],0),new _o([i,a],0)]}class Jv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new dc(`Invalid padding: ${t}`);if(r<0)throw new dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new dc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=_o.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(_o.fromNumber(r)));return i.compare(VB)===1&&(i=new _o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=EI(e),[r,i]=TI(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Jv(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=EI(e),[r,i]=TI(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cp(tt.min(),i,new qt(yt),Es(),pt())}}class ad{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ad(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class tN{constructor(e,t){this.targetId=e,this.ge=t}}class nN{constructor(e,t,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class II{constructor(){this.pe=0,this.ye=SI(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=pt(),t=pt(),r=pt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new ad(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=SI()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $B{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Es(),this.$e=Vf(),this.Ke=Vf(),this.Ue=new qt(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(Ey(a))if(r===0){const l=new Ke(a.path);this.ze(t,l,Bn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=bo(r).toUint8Array()}catch(f){if(f instanceof Ab)return Gl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Jv(l,i,a)}catch(f){return Gl(f instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&Ey(c.target)){const f=new Ke(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,Bn.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=pt();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new cp(e,t,this.Ue,this.Qe,r);return this.Qe=Es(),this.$e=Vf(),this.Ke=Vf(),this.Ue=new qt(yt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new II,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new fn(yt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new fn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new II),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new qt(Ke.comparator)}function SI(){return new qt(Ke.comparator)}const UB={asc:"ASCENDING",desc:"DESCENDING"},FB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jB={and:"AND",or:"OR"};class BB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iy(n,e){return n.useProto3Json||rp(e)?e:{value:e}}function Ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HB(n,e){return Ch(n,e.toTimestamp())}function Ui(n){return At(!!n),tt.fromTimestamp(function(t){const r=Ro(t);return new dn(r.seconds,r.nanos)}(n))}function Zv(n,e){return Sy(n,e).canonicalString()}function Sy(n,e){const t=function(i){return new Ft(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function iN(n){const e=Ft.fromString(n);return At(uN(e)),e}function Cy(n,e){return Zv(n.databaseId,e.path)}function kg(n,e){const t=iN(e);if(t.get(1)!==n.databaseId.projectId)throw new je(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(oN(t))}function sN(n,e){return Zv(n.databaseId,e)}function zB(n){const e=iN(n);return e.length===4?Ft.emptyPath():oN(e)}function Ay(n){return new Ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oN(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function CI(n,e,t){return{name:Cy(n,e),fields:t.value.mapValue.fields}}function WB(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Je()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string"),Pn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Pn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?de.UNKNOWN:eN(p.code);return new je(g,p.message||"")}(l);t=new nN(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kg(n,r.document.name),a=Ui(r.document.updateTime),l=r.document.createTime?Ui(r.document.createTime):tt.min(),c=new gr({mapValue:{fields:r.document.fields}}),f=Bn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Zf(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kg(n,r.document),a=r.readTime?Ui(r.readTime):tt.min(),l=Bn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new Zf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kg(n,r.document),a=r.removedTargetIds||[];t=new Zf([],a,i,null)}else{if(!("filter"in e))return Je();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new xB(i,a),c=r.targetId;t=new tN(c,l)}}return t}function qB(n,e){let t;if(e instanceof od)t={update:CI(n,e.key,e.value)};else if(e instanceof Zb)t={delete:Cy(n,e.key)};else if(e instanceof $o)t={update:CI(n,e.key,e.data),updateMask:t9(e.fieldMask)};else{if(!(e instanceof PB))return Je();t={verify:Cy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof xc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Jl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:HB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Je()}(n,e.precondition)),t}function KB(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?Ui(i.updateTime):Ui(a);return l.isEqual(tt.min())&&(l=Ui(a)),new bB(l,i.transformResults||[])}(t,e))):[]}function GB(n,e){return{documents:[sN(n,e.path)]}}function QB(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sN(n,i);const a=function(p){if(p.length!==0)return lN(Bi.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:Cl(T.field),direction:JB(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Iy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function YB(n){let e=zB(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=aN(_);return T instanceof Bi&&Mb(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(N){return new Ih(Al(N.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(_){let T;return T=typeof _=="object"?_.value:_,rp(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(_){const T=!!_.before,A=_.values||[];return new Th(A,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,A=_.values||[];return new Th(A,T)}(t.endAt)),pB(e,i,l,a,c,"F",f,p)}function XB(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Al(t.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Al(t.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Al(t.unaryFilter.field);return cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Al(t.unaryFilter.field);return cn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):n.fieldFilter!==void 0?function(t){return cn.create(Al(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Bi.create(t.compositeFilter.filters.map(r=>aN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Je()}}(t.compositeFilter.op))}(n):Je()}function JB(n){return UB[n]}function ZB(n){return FB[n]}function e9(n){return jB[n]}function Cl(n){return{fieldPath:n.canonicalString()}}function Al(n){return Nn.fromServerFormat(n.fieldPath)}function lN(n){return n instanceof cn?function(t){if(t.op==="=="){if(fI(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NAN"}};if(dI(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fI(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NOT_NAN"}};if(dI(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(t.field),op:ZB(t.op),value:t.value}}}(n):n instanceof Bi?function(t){const r=t.getFilters().map(i=>lN(i));return r.length===1?r[0]:{compositeFilter:{op:e9(t.op),filters:r}}}(n):Je()}function t9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t,r,i,a=tt.min(),l=tt.min(),c=Pn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.Tt=e}}function r9(n){const e=YB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ty(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.Tn=new s9}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Ao.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class s9{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new fn(Ft.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cN=41943040;class pr{static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(cN,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Zl(0)}static Un(){return new Zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="LruGarbageCollector",o9=1048576;function bI([n,e],[t,r]){const i=yt(n,t);return i===0?yt(e,r):i}class a9{constructor(e){this.Hn=e,this.buffer=new fn(bI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();bI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l9{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(RI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gu(t)?be(RI,"Ignoring IndexedDB error during garbage collection: ",t):await mu(t)}await this.er(3e5)})}}class u9{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(np.ae);const r=new a9(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(AI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AI):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Il()<=ht.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function c9(n,e){return new u9(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this.changes=new Da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&_c(r.mutation,i,Nr.empty(),dn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const i=pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=cc();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=Es();const l=vc(),c=function(){return vc()}();return t.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof $o)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),_c(g.mutation,p,g.mutation.getFieldMask(),dn.now())):l.set(p.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new f9(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=vc();let i=new qt((l,c)=>l-c),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Nr.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||pt()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=zb();g.forEach(T=>{if(!a.has(T)){const A=Xb(t.get(T),r.get(T));A!==null&&_.set(T,A),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ie.resolve(pa());let c=kc,f=a;return l.next(p=>ie.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{f=f.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,pt())).next(g=>({batchId:c,changes:Hb(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=cc();return this.indexManager.getCollectionParents(e,a).next(c=>ie.forEach(c,f=>{const p=function(_,T){return new sp(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Bn.newInvalidDocument(g)))});let c=cc();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&_c(g.mutation,p,Nr.empty(),dn.now()),ap(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:r9(i.bundledQuery),readTime:Ui(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.overlays=new qt(Ke.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pa();return ie.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=pa(),a=t.length+1,l=new Ke(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new qt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=pa(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=pa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return ie.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new OB(t,r));let a=this.Rr.get(t);a===void 0&&(a=pt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.Vr=new fn(En.mr),this.gr=new fn(En.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new En(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new En(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ke(new Ft([])),r=new En(t,e),i=new En(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ke(new Ft([])),r=new En(t,e),i=new En(t,e+1);let a=pt();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new En(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ke.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||Ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new fn(En.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new DB(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new En(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?zv:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(yt);return t.forEach(i=>{const a=new En(i,0),l=new En(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ke.isDocumentKey(a)||(a=a.child(""));const l=new En(new Ke(a),0);let c=new fn(yt);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Cr)),!0)},l),ie.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,i=>{const a=new En(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new En(t,0),i=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.kr=e,this.docs=function(){return new qt(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=Es();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Es();const l=t.path,c=new Ke(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||qj(Wj(g),r)<=0||(i.has(g.key)||ap(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Je()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _9(this)}getSize(e){return ie.resolve(this.size)}}class _9 extends d9{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.persistence=e,this.Qr=new Da(t=>Kv(t),Gv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new e_,this.targetCount=0,this.Ur=Zl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Zl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new np(0),this.zr=!1,this.zr=!0,this.jr=new g9,this.referenceDelegate=e(this),this.Hr=new w9(this),this.indexManager=new i9,this.remoteDocumentCache=function(i){return new v9(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new n9(t),this.Yr=new p9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new y9(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new E9(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class E9 extends Gj{constructor(e){super(),this.currentSequenceNumber=e}}class t_{constructor(e){this.persistence=e,this.ti=new e_,this.ni=null}static ri(e){return new t_(e)}get ii(){if(this.ni)return this.ni;throw Je()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const i=Ke.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ah{constructor(e,t){this.persistence=e,this.oi=new Da(r=>Xj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=c9(this,t)}static ri(e,t){return new Ah(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yf(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=pt(),i=pt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new n_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sU()?8:Qj(Hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new T9;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Il()<=ht.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Il()<=ht.DEBUG&&be("QueryEngine","Query:",Sl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Il()<=ht.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):ie.resolve())}rs(e,t){if(gI(t))return ie.resolve(null);let r=Vi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ty(t,null,"F"),r=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=pt(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,c);return this.ls(t,p,l,f.readTime)?this.rs(e,Ty(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return gI(t)||i.isEqual(tt.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?ie.resolve(null):(Il()<=ht.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sl(t)),this.hs(e,l,t,zj(i,kc)).next(c=>c))})}cs(e,t){let r=new fn(jb(e));return t.forEach((i,a)=>{ap(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return Il()<=ht.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Sl(t)),this.ns.getDocumentsMatchingQuery(e,t,Ao.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LocalStore",S9=3e8;class C9{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new qt(yt),this.Is=new Da(a=>Kv(a),Gv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function A9(n,e,t,r){return new C9(n,e,t,r)}async function fN(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=pt();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function R9(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,T=_.keys();let A=ie.resolve();return T.forEach(N=>{A=A.next(()=>g.getEntry(f,N)).next(x=>{const b=p.docVersions.get(N);At(b!==null),x.version.compareTo(b)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=pt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hN(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function b9(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const T=i.get(_);if(!T)return;c.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Pn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(_,A),function(x,b,z){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=S9?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,A,g)&&c.push(t.Hr.updateTargetData(a,A))});let f=Es(),p=pt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(N9(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(tt.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ie.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=i,a))}function N9(n,e,t){let r=pt(),i=pt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Es();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):be(r_,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function k9(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P9(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new ho(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Ry(n,e,t){const r=nt(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!gu(l))throw l;be(r_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function NI(n,e,t){const r=nt(n);let i=tt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=nt(f),T=_.Is.get(g);return T!==void 0?ie.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Vi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?a:pt())).next(c=>(D9(r,yB(e),c),{documents:c,gs:a})))}function D9(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class kI{constructor(){this.activeTargetIds=IB()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O9{constructor(){this.ho=new kI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new kI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="ConnectivityMonitor";class DI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(PI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(PI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f=null;function by(){return $f===null?$f=function(){return 268435456+Math.round(2147483648*Math.random())}():$f++,"0x"+$f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="RestConnection",L9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===wh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,a){const l=by(),c=this.bo(e,t.toUriEncodedString());be(Pg,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,c,f,r).then(p=>(be(Pg,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Gl(Pg,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,a,l){return this.So(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const r=L9[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class $9 extends M9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=by();return new Promise((l,c)=>{const f=new yb;f.setWithCredentials(!0),f.listenOnce(vb.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Qf.NO_ERROR:const g=f.getResponseJson();be(Un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Qf.TIMEOUT:be(Un,`RPC '${e}' ${a} timed out`),c(new je(de.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const _=f.getStatus();if(be(Un,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const N=function(b){const z=b.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(z)>=0?z:de.UNKNOWN}(A.status);c(new je(N,A.message))}else c(new je(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new je(de.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{be(Un,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);be(Un,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=by(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Eb(),c=wb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");be(Un,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let T=!1,A=!1;const N=new V9({Fo:b=>{A?be(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(T||(be(Un,`Opening RPC '${e}' stream ${i} transport.`),_.open(),T=!0),be(Un,`RPC '${e}' stream ${i} sending:`,b),_.send(b))},Mo:()=>_.close()}),x=(b,z,M)=>{b.listen(z,j=>{try{M(j)}catch(B){setTimeout(()=>{throw B},0)}})};return x(_,uc.EventType.OPEN,()=>{A||(be(Un,`RPC '${e}' stream ${i} transport opened.`),N.Qo())}),x(_,uc.EventType.CLOSE,()=>{A||(A=!0,be(Un,`RPC '${e}' stream ${i} transport closed`),N.Ko())}),x(_,uc.EventType.ERROR,b=>{A||(A=!0,Gl(Un,`RPC '${e}' stream ${i} transport errored:`,b),N.Ko(new je(de.UNAVAILABLE,"The operation could not be completed")))}),x(_,uc.EventType.MESSAGE,b=>{var z;if(!A){const M=b.data[0];At(!!M);const j=M,B=(j==null?void 0:j.error)||((z=j[0])===null||z===void 0?void 0:z.error);if(B){be(Un,`RPC '${e}' stream ${i} received error:`,B);const Z=B.status;let Y=function(D){const k=nn[D];if(k!==void 0)return eN(k)}(Z),S=B.message;Y===void 0&&(Y=de.INTERNAL,S="Unknown error status: "+Z+" with message "+B.message),A=!0,N.Ko(new je(Y,S)),_.close()}else be(Un,`RPC '${e}' stream ${i} received:`,M),N.Uo(M)}}),x(c,_b.STAT_EVENT,b=>{b.stat===yy.PROXY?be(Un,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===yy.NOPROXY&&be(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(n){return new BB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="PersistentStream";class mN{constructor(e,t,r,i,a,l,c,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new pN(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ws(t.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new je(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(OI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(OI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U9 extends mN{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=WB(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?Ui(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Ay(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=Ey(f)?{documents:GB(a,f)}:{query:QB(a,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=rN(a,l.resumeToken);const p=Iy(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){c.readTime=Ch(a,l.snapshotVersion.toTimestamp());const p=Iy(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=XB(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Ay(this.serializer),t.removeTarget=e,this.I_(t)}}class F9 extends mN{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=KB(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Ay(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qB(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{}class B9 extends j9{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new je(de.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Sy(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(de.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Sy(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(de.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class H9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ws(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class z9{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Oa(this)&&(be(Sa,"Restarting streams for network reachability change."),await async function(f){const p=nt(f);p.W_.add(4),await ld(p),p.j_.set("Unknown"),p.W_.delete(4),await fp(p)}(this))})}),this.j_=new H9(r,i)}}async function fp(n){if(Oa(n))for(const e of n.G_)await e(!0)}async function ld(n){for(const e of n.G_)await e(!1)}function gN(n,e){const t=nt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),a_(t)?o_(t):yu(t).c_()&&s_(t,e))}function i_(n,e){const t=nt(n),r=yu(t);t.U_.delete(e),r.c_()&&yN(t,e),t.U_.size===0&&(r.c_()?r.P_():Oa(t)&&t.j_.set("Unknown"))}function s_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yu(n).y_(e)}function yN(n,e){n.H_.Ne(e),yu(n).w_(e)}function o_(n){n.H_=new $B({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),yu(n).start(),n.j_.B_()}function a_(n){return Oa(n)&&!yu(n).u_()&&n.U_.size>0}function Oa(n){return nt(n).W_.size===0}function vN(n){n.H_=void 0}async function W9(n){n.j_.set("Online")}async function q9(n){n.U_.forEach((e,t)=>{s_(n,e)})}async function K9(n,e){vN(n),a_(n)?(n.j_.q_(e),o_(n)):n.j_.set("Unknown")}async function G9(n,e,t){if(n.j_.set("Online"),e instanceof nN&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){be(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(n,r)}else if(e instanceof Zf?n.H_.We(e):e instanceof tN?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await hN(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.U_.get(f);if(!g)return;a.U_.set(f,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),yN(a,f);const _=new ho(g.target,f,p,g.sequenceNumber);s_(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){be(Sa,"Failed to raise snapshot:",r),await Rh(n,r)}}async function Rh(n,e,t){if(!gu(e))throw e;n.W_.add(1),await ld(n),n.j_.set("Offline"),t||(t=()=>hN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(Sa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await fp(n)})}function _N(n,e){return e().catch(t=>Rh(n,t,e))}async function hp(n){const e=nt(n),t=ko(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:zv;for(;Q9(e);)try{const i=await k9(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Y9(e,i)}catch(i){await Rh(e,i)}wN(e)&&EN(e)}function Q9(n){return Oa(n)&&n.K_.length<10}function Y9(n,e){n.K_.push(e);const t=ko(n);t.c_()&&t.S_&&t.b_(e.mutations)}function wN(n){return Oa(n)&&!ko(n).u_()&&n.K_.length>0}function EN(n){ko(n).start()}async function X9(n){ko(n).C_()}async function J9(n){const e=ko(n);for(const t of n.K_)e.b_(t.mutations)}async function Z9(n,e,t){const r=n.K_.shift(),i=Xv.from(r,e,t);await _N(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await hp(n)}async function e3(n,e){e&&ko(n).S_&&await async function(r,i){if(function(l){return LB(l)&&l!==de.ABORTED}(i.code)){const a=r.K_.shift();ko(r).h_(),await _N(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await hp(r)}}(n,e),wN(n)&&EN(n)}async function xI(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),be(Sa,"RemoteStore received new credentials");const r=Oa(t);t.W_.add(3),await ld(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await fp(t)}async function t3(n,e){const t=nt(n);e?(t.W_.delete(2),await fp(t)):e||(t.W_.add(2),await ld(t),t.j_.set("Unknown"))}function yu(n){return n.J_||(n.J_=function(t,r,i){const a=nt(t);return a.M_(),new U9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:W9.bind(null,n),No:q9.bind(null,n),Lo:K9.bind(null,n),p_:G9.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),a_(n)?o_(n):n.j_.set("Unknown")):(await n.J_.stop(),vN(n))})),n.J_}function ko(n){return n.Y_||(n.Y_=function(t,r,i){const a=nt(t);return a.M_(),new F9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:X9.bind(null,n),Lo:e3.bind(null,n),D_:J9.bind(null,n),v_:Z9.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await hp(n)):(await n.Y_.stop(),n.K_.length>0&&(be(Sa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new l_(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(n,e){if(ws("AsyncQueue",`${e}: ${n}`),gu(n))return new je(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=cc(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.Z_=new qt(Ke.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Je():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class eu{constructor(e,t,r,i,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new eu(e,t,Ol.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class r3{constructor(){this.queries=MI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=nt(t),a=i.queries;i.queries=MI(),a.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new je(de.ABORTED,"Firestore shutting down"))}}function MI(){return new Da(n=>Fb(n),op)}async function i3(n,e){const t=nt(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new n3,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=u_(l,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&c_(t)}async function s3(n,e){const t=nt(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function o3(n,e){const t=nt(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&c_(t)}function a3(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function c_(n){n.ia.forEach(e=>{e.next()})}var Ny,VI;(VI=Ny||(Ny={}))._a="default",VI.Cache="cache";class l3{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ny.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.key=e}}class IN{constructor(e){this.key=e}}class u3{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=jb(e),this.wa=new Ol(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new LI,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const T=i.get(g),A=ap(this.query,_)?_:null,N=!!T&&this.mutatedKeys.has(T.key),x=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let b=!1;T&&A?T.data.isEqual(A.data)?N!==x&&(r.track({type:3,doc:A}),b=!0):this.va(T,A)||(r.track({type:2,doc:A}),b=!0,(f&&this.ya(A,f)>0||p&&this.ya(A,p)<0)&&(c=!0)):!T&&A?(r.track({type:0,doc:A}),b=!0):T&&!A&&(r.track({type:1,doc:T}),b=!0,(f||p)&&(c=!0)),b&&(A?(l=l.add(A),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(A,N){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return x(A)-x(N)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new eu(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new LI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new IN(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new TN(r))}),t}Oa(e){this.fa=e.gs,this.pa=pt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return eu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const d_="SyncEngine";class c3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class d3{constructor(e){this.key=e,this.Ba=!1}}class f3{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Da(c=>Fb(c),op),this.qa=new Map,this.Qa=new Set,this.$a=new qt(Ke.comparator),this.Ka=new Map,this.Ua=new e_,this.Wa={},this.Ga=new Map,this.za=Zl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function h3(n,e,t=!0){const r=NN(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await SN(r,e,t,!0),i}async function p3(n,e){const t=NN(n);await SN(t,e,!0,!1)}async function SN(n,e,t,r){const i=await P9(n.localStore,Vi(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await m3(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&gN(n.remoteStore,i),c}async function m3(n,e,t,r,i){n.Ha=(_,T,A)=>async function(x,b,z,M){let j=b.view.ba(z);j.ls&&(j=await NI(x.localStore,b.query,!1).then(({documents:S})=>b.view.ba(S,j)));const B=M&&M.targetChanges.get(b.targetId),Z=M&&M.targetMismatches.get(b.targetId)!=null,Y=b.view.applyChanges(j,x.isPrimaryClient,B,Z);return UI(x,b.targetId,Y.Ma),Y.snapshot}(n,_,T,A);const a=await NI(n.localStore,e,!0),l=new u3(e,a.gs),c=l.ba(a.documents),f=ad.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);UI(n,t,p.Ma);const g=new c3(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function g3(n,e,t){const r=nt(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!op(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ry(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&i_(r.remoteStore,i.targetId),ky(r,i.targetId)}).catch(mu)):(ky(r,i.targetId),await Ry(r.localStore,i.targetId,!0))}async function y3(n,e){const t=nt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),i_(t.remoteStore,r.targetId))}async function v3(n,e,t){const r=C3(n);try{const i=await function(l,c){const f=nt(l),p=dn.now(),g=c.reduce((A,N)=>A.add(N.key),pt());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let N=Es(),x=pt();return f.ds.getEntries(A,g).next(b=>{N=b,N.forEach((z,M)=>{M.isValidDocument()||(x=x.add(z))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,N)).next(b=>{_=b;const z=[];for(const M of c){const j=kB(M,_.get(M.key).overlayedDocument);j!=null&&z.push(new $o(M.key,j,Ob(j.value.mapValue),$i.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,z,c)}).next(b=>{T=b;const z=b.applyToLocalDocumentSet(_,x);return f.documentOverlayCache.saveOverlays(A,b.batchId,z)})}).then(()=>({batchId:T.batchId,changes:Hb(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new qt(yt)),p=p.insert(c,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await ud(r,i.changes),await hp(r.remoteStore)}catch(i){const a=u_(i,"Failed to persist write");t.reject(a)}}async function CN(n,e){const t=nt(n);try{const r=await b9(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?At(l.Ba):i.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await ud(t,r,e)}catch(r){await mu(r)}}function $I(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=nt(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(c)&&(p=!0)}),p&&c_(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _3(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new qt(Ke.comparator);l=l.insert(a,Bn.newNoDocument(a,tt.min()));const c=pt().add(a),f=new cp(tt.min(),new Map,new qt(yt),l,c);await CN(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),f_(r)}else await Ry(r.localStore,e,!1).then(()=>ky(r,e,t)).catch(mu)}async function w3(n,e){const t=nt(n),r=e.batch.batchId;try{const i=await R9(t.localStore,e);RN(t,r,null),AN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ud(t,i)}catch(i){await mu(i)}}async function E3(n,e,t){const r=nt(n);try{const i=await function(l,c){const f=nt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(At(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);RN(r,e,t),AN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ud(r,i)}catch(i){await mu(i)}}function AN(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function RN(n,e,t){const r=nt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function ky(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||bN(n,r)})}function bN(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(i_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),f_(n))}function UI(n,e,t){for(const r of t)r instanceof TN?(n.Ua.addReference(r.key,e),T3(n,r)):r instanceof IN?(be(d_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||bN(n,r.key)):Je()}function T3(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(d_,"New document in limbo: "+t),n.Qa.add(r),f_(n))}function f_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ke(Ft.fromString(e)),r=n.za.next();n.Ka.set(r,new d3(t)),n.$a=n.$a.insert(t,r),gN(n.remoteStore,new ho(Vi(Qv(t.path)),r,"TargetPurposeLimboResolution",np.ae))}}async function ud(n,e,t){const r=nt(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=n_.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const g=nt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,T=>ie.forEach(T.Hi,A=>g.persistence.referenceDelegate.addReference(_,T.targetId,A)).next(()=>ie.forEach(T.Ji,A=>g.persistence.referenceDelegate.removeReference(_,T.targetId,A)))))}catch(_){if(!gu(_))throw _;be(r_,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const A=g.Ts.get(T),N=A.snapshotVersion,x=A.withLastLimboFreeSnapshotVersion(N);g.Ts=g.Ts.insert(T,x)}}}(r.localStore,a))}async function I3(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){be(d_,"User change. New user:",e.toKey());const r=await fN(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(f=>{f.reject(new je(de.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ud(t,r.Rs)}}function S3(n,e){const t=nt(n),r=t.Ka.get(e);if(r&&r.Ba)return pt().add(r.key);{let i=pt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function NN(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_3.bind(null,e),e.La.p_=o3.bind(null,e.eventManager),e.La.Ja=a3.bind(null,e.eventManager),e}function C3(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E3.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return A9(this.persistence,new I9,e.initialUser,this.serializer)}Xa(e){return new dN(t_.ri,this.serializer)}Za(e){return new O9}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class A3 extends bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof Ah);const r=this.persistence.referenceDelegate.garbageCollector;return new l9(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new dN(r=>Ah.ri(r,t),this.serializer)}}class Py{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$I(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I3.bind(null,this.syncEngine),await t3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r3}()}createDatastore(e){const t=dp(e.databaseInfo.databaseId),r=function(a){return new $9(a)}(e.databaseInfo);return function(a,l,c,f){return new B9(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new z9(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>$I(this.syncEngine,t,0),function(){return DI.D()?new DI:new x9}())}createSyncEngine(e,t){return function(i,a,l,c,f,p,g){const _=new f3(i,a,l,c,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=nt(i);be(Sa,"RemoteStore shutting down."),a.W_.add(5),await ld(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Py.provider={build:()=>new Py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirestoreClient";class b3{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=Ib.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{be(Po,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(Po,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=u_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Og(n,e){n.asyncQueue.verifyOperationInProgress(),be(Po,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function FI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await N3(n);be(Po,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xI(e.remoteStore,i)),n._onlineComponents=e}async function N3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(Po,"Using user provided OfflineComponentProvider");try{await Og(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gl("Error using user provided cache. Falling back to memory cache: "+t),await Og(n,new bh)}}else be(Po,"Using default OfflineComponentProvider"),await Og(n,new A3(void 0));return n._offlineComponents}async function kN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(Po,"Using user provided OnlineComponentProvider"),await FI(n,n._uninitializedComponentsProvider._online)):(be(Po,"Using default OnlineComponentProvider"),await FI(n,new Py))),n._onlineComponents}function k3(n){return kN(n).then(e=>e.syncEngine)}async function P3(n){const e=await kN(n),t=e.eventManager;return t.onListen=h3.bind(null,e.syncEngine),t.onUnlisten=g3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y3.bind(null,e.syncEngine),t}function D3(n,e,t={}){const r=new wo;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new R3({next:T=>{g.su(),l.enqueueAndForget(()=>s3(a,_));const A=T.docs.has(c);!A&&T.fromCache?p.reject(new je(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&f&&f.source==="server"?p.reject(new je(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new l3(Qv(c.path),g,{includeMetadataChanges:!0,Ta:!0});return i3(a,_)}(await P3(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n,e,t){if(!t)throw new je(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O3(n,e,t,r){if(e===!0&&r===!0)throw new je(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function BI(n){if(!Ke.isDocumentKey(n))throw new je(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HI(n){if(Ke.isDocumentKey(n))throw new je(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function h_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Je()}function Ca(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=h_(n);throw new je(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firestore.googleapis.com",zI=!0;class WI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ON,this.ssl=zI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:zI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o9)throw new je(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new je(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mj;switch(r.type){case"firstParty":return new Fj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=jI.get(t);r&&(be("ComponentProvider","Removing Datastore"),jI.delete(t),r.terminate())}(this),Promise.resolve()}}function x3(n,e,t,r={}){var i;const a=(n=Ca(n,pp))._getSettings(),l=`${e}:${t}`;if(a.host!==ON&&a.host!==l&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Fn.MOCK_USER;else{c=J$(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new je(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fn(p)}n._authCredentials=new Vj(new Tb(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new p_(this.firestore,e,this._query)}}class yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class Eo extends p_{constructor(e,t,r){super(e,t,Qv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new Ke(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function qI(n,e,...t){if(n=er(n),DN("collection","path",e),n instanceof pp){const r=Ft.fromString(e,...t);return HI(r),new Eo(n,null,r)}{if(!(n instanceof yr||n instanceof Eo))throw new je(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return HI(r),new Eo(n.firestore,null,r)}}function xg(n,e,...t){if(n=er(n),arguments.length===1&&(e=Ib.newId()),DN("doc","path",e),n instanceof pp){const r=Ft.fromString(e,...t);return BI(r),new yr(n,null,new Ke(r))}{if(!(n instanceof yr||n instanceof Eo))throw new je(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return BI(r),new yr(n.firestore,n instanceof Eo?n.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="AsyncQueue";class GI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new pN(this,"async_queue_retry"),this.Su=()=>{const r=Dg();r&&be(KI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new wo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!gu(e))throw e;be(KI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ws("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=l_.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Je()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class mp extends pp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new GI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GI(e),this._firestoreClient=void 0,await e}}}function L3(n,e){const t=typeof n=="object"?n:OR(),r=typeof n=="string"?n:wh,i=Ov(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Y$("firestore");a&&x3(i,...a)}return i}function xN(n){if(n._terminated)throw new je(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||M3(n),n._firestoreClient}function M3(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,p,g){return new eB(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,PN(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new b3(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tu(Pn.fromBase64String(e))}catch(t){throw new je(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tu(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=/^__.*__$/;class $3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $o(e,this.data,this.fieldMask,t,this.fieldTransforms):new od(e,this.data,t,this.fieldTransforms)}}class LN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $o(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class yp{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(MN(this.Lu)&&V3.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class U3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dp(e)}ju(e,t,r,i=!1){return new yp({Lu:e,methodName:t,zu:r,path:Nn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VN(n){const e=n._freezeSettings(),t=dp(n._databaseId);return new U3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function F3(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);__("Data must be an object, but it was:",l,r);const c=$N(r,l);let f,p;if(a.merge)f=new Nr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=Dy(e,_,t);if(!l.contains(T))throw new je(de.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);FN(g,T)||g.push(T)}f=new Nr(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new $3(new gr(c),f,p)}class vp extends cd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vp}}function j3(n,e,t){return new yp({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class y_ extends cd{_toFieldTransform(e){return new Yb(e.path,new xc)}isEqual(e){return e instanceof y_}}class v_ extends cd{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=j3(this,e,!0),r=this.Hu.map(a=>dd(a,t)),i=new Jl(r);return new Yb(e.path,i)}isEqual(e){return e instanceof v_&&Ac(this.Hu,e.Hu)}}function B3(n,e,t,r){const i=n.ju(1,e,t);__("Data must be an object, but it was:",i,r);const a=[],l=gr.empty();Vo(r,(f,p)=>{const g=w_(e,f,t);p=er(p);const _=i.Ku(g);if(p instanceof vp)a.push(g);else{const T=dd(p,_);T!=null&&(a.push(g),l.set(g,T))}});const c=new Nr(a);return new LN(l,c,i.fieldTransforms)}function H3(n,e,t,r,i,a){const l=n.ju(1,e,t),c=[Dy(e,r,t)],f=[i];if(a.length%2!=0)throw new je(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)c.push(Dy(e,a[T])),f.push(a[T+1]);const p=[],g=gr.empty();for(let T=c.length-1;T>=0;--T)if(!FN(p,c[T])){const A=c[T];let N=f[T];N=er(N);const x=l.Ku(A);if(N instanceof vp)p.push(A);else{const b=dd(N,x);b!=null&&(p.push(A),g.set(A,b))}}const _=new Nr(p);return new LN(g,_,l.fieldTransforms)}function dd(n,e){if(UN(n=er(n)))return __("Unsupported field value:",e,n),$N(n,e);if(n instanceof cd)return function(r,i){if(!MN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=dd(c,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dn.fromDate(r);return{timestampValue:Ch(i.serializer,a)}}if(r instanceof dn){const a=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(i.serializer,a)}}if(r instanceof m_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tu)return{bytesValue:rN(i.serializer,r._byteString)};if(r instanceof yr){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Zv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof g_)return function(l,c){return{mapValue:{fields:{[Pb]:{stringValue:Db},[Eh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return Yv(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${h_(r)}`)}(n,e)}function $N(n,e){const t={};return Cb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(n,(r,i)=>{const a=dd(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function UN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dn||n instanceof m_||n instanceof tu||n instanceof yr||n instanceof cd||n instanceof g_)}function __(n,e,t){if(!UN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=h_(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Dy(n,e,t){if((e=er(e))instanceof gp)return e._internalPath;if(typeof e=="string")return w_(n,e);throw Nh("Field path arguments must be of type string or ",n,!1,void 0,t)}const z3=new RegExp("[~\\*/\\[\\]]");function w_(n,e,t){if(e.search(z3)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gp(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new je(de.INVALID_ARGUMENT,c+n+f)}function FN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class W3 extends jN{data(){return super.data()}}function BN(n,e){return typeof e=="string"?w_(n,e):e instanceof gp?e._internalPath:e._delegate._internalPath}class q3{convertValue(e,t="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Vo(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Eh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Xt(l.doubleValue));return new g_(a)}convertGeoPoint(e){return new m_(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ip(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ft.fromString(e);At(uN(r));const i=new Dc(r.get(1),r.get(3)),a=new Ke(r.popFirst(5));return i.isEqual(t)||ws(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HN extends jN{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Q3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Q3 extends HN{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){n=Ca(n,yr);const e=Ca(n.firestore,mp);return D3(xN(e),n._key).then(t=>X3(e,n,t))}class Y3 extends q3{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function Lg(n,e,t){n=Ca(n,yr);const r=Ca(n.firestore,mp),i=K3(n.converter,e);return zN(r,[F3(VN(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,$i.none())])}function YI(n,e,t,...r){n=Ca(n,yr);const i=Ca(n.firestore,mp),a=VN(i);let l;return l=typeof(e=er(e))=="string"||e instanceof gp?H3(a,"updateDoc",n._key,e,t,r):B3(a,"updateDoc",n._key,e),zN(i,[l.toMutation(n._key,$i.exists(!0))])}function zN(n,e){return function(r,i){const a=new wo;return r.asyncQueue.enqueueAndForget(async()=>v3(await k3(r),i,a)),a.promise}(xN(n),e)}function X3(n,e,t){const r=t.docs.get(e._key),i=new Y3(n);return new HN(n,i,e._key,r,new G3(t.hasPendingWrites,t.fromCache),e.converter)}function J3(){return new y_("serverTimestamp")}function XI(...n){return new v_("arrayUnion",n)}(function(e,t=!0){(function(i){pu=i})(du),ql(new Ea("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new mp(new $j(r.getProvider("auth-internal")),new jj(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new je(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),yo(eI,tI,e),yo(eI,tI,"esm2017")})();const Z3={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"},WN=DR(Z3),eH=Dj(WN),JI=L3(WN);async function tH(n,e){if(!n||!e)return;const t=qI(JI,"chats"),r=qI(JI,"userchats"),i=xg(r,e),a=xg(r,n);try{const[l,c]=await Promise.all([QI(i),QI(a)]);l.exists()||await Lg(i,{chats:[]}),c.exists()||await Lg(a,{chats:[]});const f=l.exists()?l.data().chats||[]:[],p=c.exists()?c.data().chats||[]:[],g=f.some(N=>N.receiverId===n),_=p.some(N=>N.receiverId===e);if(g||_)throw new Error("User already added!");const T=xg(t);await Lg(T,{createdAt:J3(),messages:[]});const A={chatId:T.id,lastMessage:"",receiverId:n,updatedAt:Date.now()};return await YI(i,{chats:XI(A)}),await YI(a,{chats:XI({...A,receiverId:e})}),T.id}catch(l){throw console.error("Add User Error:",l),new Error("An error occurred while adding the user.")}}const nH=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(),[i,a]=w.useState(),[l,c]=w.useState(!1),[f,p]=w.useState({}),g=Rs(),[_,T]=w.useState(!1),A=()=>{T(!1),g("/Dashboard/Profile")};w.useEffect(()=>{(async function(){try{const{items:j}=await P$();e(j);const B=await Yc();if(!B)return;r(B);const{userdb:Z}=await ys(B.$id);if(!Z)return;a(Z),console.log(i);const Y=await F$(B.$id);console.log("User Exists? ",Y);const S={};if(await Promise.all(j.map(async R=>{if(!S[R.authorID]){const{userdb:D}=await ys(R.authorID);S[R.authorID]=D}})),p(S),Y||(T(!0),await V$(B.$id,{userId:B.$id,profileImageId:"",profileSummary:null,profileImageWidth:100,profileImageHeight:100,displayName:B.name,defaultName:B.name,userEmail:B.email}),console.log("New profile created.")),!i)return;i.firebaseId?(console.log("User exists, logging in..."),await _4(eH,i.userEmail,i.userId),console.log("Firebase Account successfully logged in!")):console.log("No Firebase Account found! Enter Messages from the User Dashboard first!")}catch(j){console.error("Error fetching items:",j)}})()},[]);async function N(M){const{items:j}=await O$(M);e(j)}async function x(){window.location.reload(),c(!1)}async function b(M){M.preventDefault(),c(!0);const j=M.target;try{const{items:B}=await D$(j.ItemSearch.value);e(B)}catch(B){console.error("Error finding Item:",B)}}const z={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Fashion Accessories",color:"info"},f:{name:"Sports & Outdoor",color:"dark"}};return oe(Yh,{children:[I(IR,{show:_,onHide:A}),I("div",{className:"home",children:oe("div",{className:"container",id:"pagewrap",children:[I("div",{className:"searchinput",children:oe("form",{className:"search",onSubmit:b,autoComplete:"off",children:[I("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),l&&I(qc,{className:"clear-btn",onClick:x}),I("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),I("div",{className:"categories",children:I(uo,{defaultActiveKey:"0",children:oe(uo.Item,{eventKey:"0",children:[I(uo.Header,{children:"Filter by Categories"}),I(uo.Body,{children:I(xi,{children:oe(hi,{children:[I(un,{variant:"outline-danger",onClick:x,children:"Clear Filter"}),Object.entries(z).map(([M,j])=>I(un,{variant:`outline-${j.color}`,onClick:()=>N(M),children:j.name},M))]})})})]})})}),I("div",{className:"items container",children:I(xi,{children:n.length>0?n.map(M=>{var Y;const B={url:M.imageFileId&&ed(M.imageFileId),height:M.imageHeight,width:M.imageWidth},Z=f[M.authorID];return I(hi,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:oe("a",{className:"itemLink",href:`#/Item/${M.$id}`,children:[I("div",{className:"itemLabel",children:I("span",{className:"Label",children:((Y=z[M.itemCategory])==null?void 0:Y.name)||"Uncategorized"})}),I(Qh,{image:B,name:M.name,date:M.date,author:Z?Z.displayName||Z.defaultName:"Unknown Author"})]})},M.$id)}):I(Ss,{children:oe(Bl,{variant:"warning",children:["No Items are currently posted, ",I(Bl.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})]})};function _l(){const n=_R();return console.error(n),I("div",{id:"error-page",children:oe("div",{class:"error",children:[oe("a",{class:"HomeButton",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{class:"background-wrapper",children:I("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),I("p",{class:"errorText",children:"The page youre looking for does not exist."}),I("p",{children:I("i",{children:n.statusText||n.message})})]})})}function rH(){const{session:n}=Co(),e=Rs(),[t,r]=w.useState(!0),[i,a]=w.useState(!1),l=()=>{a(!1),e("/Dashboard/Profile")},c=()=>a(!0);return w.useEffect(()=>{(async()=>{if(!n){e("/");return}r(!1)})()},[n,e]),oe(hn,{children:[I(IR,{show:i,onHide:l}),I(jn,{show:t,centered:!0,backdrop:"static",children:oe(jn.Body,{className:"text-center",children:[I(qh,{animation:"border",role:"status",children:I("span",{className:"visually-hidden",children:"Loading..."})}),I("p",{className:"mt-3",children:"Verifying session..."})]})}),!t&&oe(hn,{children:[oe("div",{className:"uWholeBox",children:[oe("a",{className:"HomeButton",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{className:"uLooks",children:" Dashboard "})]}),oe("div",{className:"NaviBar",children:[oe("ul",{children:[I("li",{children:I(nc,{to:"/Dashboard/Post",children:"Post"})}),I("li",{children:I(nc,{to:"/Dashboard/Items",children:"Your Items"})}),I("li",{children:I(nc,{to:"/Dashboard/Requests",children:"Requests"})}),I("li",{children:I(nc,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),I("li",{children:I(nc,{to:"/Dashboard/Profile",children:"Profile"})})]}),I(t$,{})]}),I(un,{variant:"outline-success",onClick:c,className:"tutorial",children:"?"})]})]})}const iH=()=>{const[n,e]=w.useState(),[t,r]=w.useState(),[i,a]=w.useState(),[l,c]=w.useState(!1),[f,p]=w.useState(),[g,_]=w.useState(null),[T,A]=w.useState(!1),[N,x]=w.useState(""),[b,z]=w.useState(""),[M,j]=w.useState(null);w.useEffect(()=>{(async()=>{try{const k=await Yc();if(e(k),k){const{userdb:L}=await ys(k.$id);r(L),_(L!=null&&L.profileImageId?oy(L.profileImageId):null),x((L==null?void 0:L.displayName)||(k==null?void 0:k.name)||""),z((L==null?void 0:L.profileSummary)||"")}}catch(k){console.error("Error fetching user: ",k)}})()},[]);const B=()=>c(!0),Z=D=>{const k=D.target.value.replace(/[^a-zA-Z0-9]/g,"");x(k)},Y=D=>{const k=D.target.value.replace(/[^a-zA-Z0-9 .,!?]/g,"");z(k)},S=D=>{if(!D.target.files||D.target.files.length===0)return;const k=D.target.files[0];if(k.size>5*1024*1024){j("File size exceeds 5MB limit.");return}else j(null);const L=document.createElement("img");L.onload=function(){p({height:L.height,file:k,width:L.width})},L.src=URL.createObjectURL(k),_(URL.createObjectURL(k))},R=async D=>{if(D.preventDefault(),A(!0),!N.trim()||!b.trim()){alert("Please fill in all fields."),A(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),A(!1);return}let{userdb:k}=await ys(n.$id),L=(k==null?void 0:k.profileImageId)||"";if(k.displayName!=N){const $=await U$(N);a($)}if(i){if(await _0(n.$id,{profileImageId:"",profileSummary:b,profileImageWidth:(f==null?void 0:f.width)??(k==null?void 0:k.profileImageWidth)??100,profileImageHeight:(f==null?void 0:f.height)??(k==null?void 0:k.profileImageHeight)??100,displayName:N,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:k.firebaseId}),f!=null&&f.file){L&&L!=="default"&&await k$(L);const $=await N$(n.$id,f.file);$!=null&&$.$id&&(L=$.$id)}await _0(n.$id,{profileImageId:L,profileSummary:b,profileImageWidth:(f==null?void 0:f.width)??(k==null?void 0:k.profileImageWidth)??100,profileImageHeight:(f==null?void 0:f.height)??(k==null?void 0:k.profileImageHeight)??100,displayName:N,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:k.firebaseId})}else{alert("The username already exists. Try another one."),A(!1);return}console.log(" Profile updated."),r($=>({...$,displayName:N,profileSummary:b,profileImageId:L}))}catch(k){console.error("Failed to update profile:",k)}finally{A(!1),c(!1)}};return I(Ss,{className:"d-flex justify-content-center align-items-center min-vh-100",children:oe(rs,{className:"profile-card shadow-lg",children:[T&&oe("div",{className:"overlay",children:[I(qh,{animation:"border"}),I("p",{className:"mt-2",children:"Updating User Profile..."})]}),I(rs.Body,{className:"text-center",children:l?oe(hn,{children:[I("h2",{children:"Edit Profile"}),oe("form",{onSubmit:R,className:"mt-3",children:[oe("div",{className:"profile-image-upload",children:[I("input",{type:"file",accept:".png, .jpg",onChange:S}),I(Tc,{src:g||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),M&&I("p",{className:"text-danger",children:M})]}),oe(zr.Group,{className:"mb-3",children:[I(zr.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:N,onChange:Z}),oe("small",{className:"text-muted",children:[N.length,"/20"]})]}),oe(zr.Group,{className:"mb-3",children:[I(zr.Label,{children:"Profile Summary"}),I(zr.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:b,onChange:Y}),oe("small",{className:"text-muted",children:[b.length,"/500"]})]}),I(un,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):oe(hn,{children:[I(Tc,{src:t!=null&&t.profileImageId?oy(t.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("h2",{className:"display-name",children:(t==null?void 0:t.displayName)||"Username"}),I("p",{className:"account-name",children:n==null?void 0:n.name}),I("p",{className:"text-muted",children:(t==null?void 0:t.profileSummary)??"No profile description provided"}),I(un,{className:"btn-lg mt-3",onClick:B,children:"Edit Profile"})]})})]})})},sH=()=>{const[n,e]=w.useState("");w.useEffect(()=>{(async function(){try{const i=await co();console.log("Fetched User Data:",i),i&&typeof i.$id=="string"&&e(i.$id)}catch(i){console.error("Error fetching user data:",i)}})()},[]);const t=n?`https://lynxlenior.github.io/TraderyMessenger/#/${n}`:"";return I("div",{className:"messages-container",children:I("iframe",{width:"100%",height:"100%",src:t,title:"TraderyMessenger"})})},oH=()=>{const{session:n}=Co(),e=Rs(),[t,r]=w.useState(null),[i,a]=w.useState(!1),[l,c]=w.useState(""),[f,p]=w.useState(""),[g,_]=w.useState(null);function T(N){if(!N.target.files||N.target.files.length===0)return;const x=N.target.files[0];if(x.size>5*1024*1024){_("File size must be 5MB or less.");return}_(null);const b=new window.Image,z=URL.createObjectURL(x);b.onload=function(){r({height:b.height,file:x,width:b.width,previewUrl:z})},b.src=z}return oe(Ss,{className:"mt-4",children:[i&&I("div",{className:"overlay",children:I("div",{className:"overlay-content",children:I("p",{children:"Please wait... Creating Tradery Item"})})}),oe(rs,{className:"p-4 shadow",children:[I("h1",{className:"text-center",children:"Post Item"}),g&&I("p",{className:"text-danger",children:g}),oe("form",{onSubmit:async N=>{N.preventDefault(),a(!0);const b=new FormData(N.currentTarget).get("itemCategory");if(!l||!f||!b||!t){_("Please fill in all fields."),a(!1);return}try{const z=await co();if(!z){console.log("User data is still loading. Please wait."),a(!1);return}const M=await M$({name:l,authorID:z.$id,description:f,date:new Date().toISOString(),imageHeight:t.height,imageFileId:"",imageWidth:t.width,isApproved:!1,itemCategory:b});if(!M||!M.items||!M.items.$id)throw new Error("Failed to create item. No ID returned.");let j="";if(t.file){console.log("Uploading image...");const B=await R$(t.file);if(!B||!B.$id)throw new Error("Image upload failed.");j=B.$id}await TR(M.items.$id,{imageFileId:j,imageHeight:t.height,imageWidth:t.width,name:l,description:f,authorID:z.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:b}),console.log("Item created and updated successfully."),e(`/Item/${M.items.$id}`)}catch(z){console.error("Error creating or updating item:",z),alert("Failed to create item. Please try again.")}finally{a(!1)}},autoComplete:"off",children:[oe(zr.Group,{controlId:"formFileLg",className:"mb-3",children:[I(zr.Label,{children:"Import Image (Max: 5MB)"}),I(zr.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:T,required:!0})]}),t&&I(Tc,{src:t.previewUrl,alt:"Preview",className:"mb-3",fluid:!0,rounded:!0}),I(mv,{controlId:"floatingSelect",label:"Category",children:oe(zr.Select,{id:"itemCategory",name:"itemCategory",required:!0,children:[I("option",{value:"",disabled:!0,children:"Select a Category..."}),I("option",{value:"a",children:"School Supplies"}),I("option",{value:"b",children:"Clothing"}),I("option",{value:"c",children:"Entertainment/Hobbies"}),I("option",{value:"d",children:"Gaming/Technology"}),I("option",{value:"e",children:"Fashion Accessories"}),I("option",{value:"f",children:"Sports & Outdoor"})]})}),I(zr.Control,{className:"mt-3",id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:l,onChange:N=>c(N.target.value),required:!0}),I(zr.Control,{className:"mt-3",as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:f,onChange:N=>p(N.target.value),required:!0}),I(un,{className:"w-100 mt-3",type:"submit",disabled:i,children:"Submit"})]})]})]})},aH=()=>{const[n,e]=w.useState([]),[t,r]=w.useState({});return w.useEffect(()=>{(async function(){const a=await co();if(!a){console.log("User data is still loading. Please wait.");return}const{items:l}=await kv(a.$id);e(l);const c={};await Promise.all(l.map(async f=>{if(!c[f.authorID]){const{userdb:p}=await ys(f.authorID);c[f.authorID]=p}})),r(c)})()},[]),I("div",{className:"home",children:I("div",{className:"container",id:"pagewrap",children:I("div",{className:"items container",children:I(xi,{children:n.length>0?n.map(i=>{const l={url:i.imageFileId&&ed(i.imageFileId),height:i.imageHeight,width:i.imageWidth},c=t[i.authorID];return I(hi,{xs:12,md:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${i.$id}`,children:I(Qh,{image:l,name:i.name,date:i.date,author:c?c.displayName||c.defaultName:"Unknown Author"})})},i.$id)}):I(Ss,{children:oe(Bl,{variant:"warning",children:["No Items are currently posted, ",I(Bl.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})},lH=({name:n,userId:e,eventKey:t})=>{const[r,i]=w.useState([]),[a,l]=w.useState(),c=Rs();w.useEffect(()=>{(async function(){if(!e||e.length===0)return;const g=await Promise.all(e.map(async _=>{try{const{userdb:T}=await ys(_),A=(T==null?void 0:T.displayName)||(T==null?void 0:T.defaultName)||"",N=(T==null?void 0:T.defaultName)||"",x=(T==null?void 0:T.firebaseId)||null;return A||N?{displayName:A,appwriteName:N,firebaseId:x}:null}catch(T){return console.error("Error fetching user data:",T),null}}));i(g.filter(_=>_!==null))})()},[e]),w.useEffect(()=>{(async()=>{try{const g=await Yc();if(g){const{userdb:_}=await ys(g.$id);l(_)}}catch(g){console.error("Error fetching user: ",g)}})()},[]);async function f(p,g){try{await tH(p,g),console.log("Done"),c("/Dashboard/Profile")}catch{console.log("Failed to add chat")}}return oe(uo.Item,{eventKey:t,children:[I(uo.Header,{children:n}),I(uo.Body,{children:r.length>0?r.map((p,g)=>oe("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[oe("p",{className:"mb-0",children:[I("strong",{children:p.displayName})," wants to trade. The default username is ",I("strong",{children:p.appwriteName})]}),I(un,{variant:"primary",size:"sm",onClick:()=>f(p.firebaseId,a.firebaseId),children:"Message"})]},g)):I("p",{children:"No trade requests yet."})})]})},uH=()=>{const[n,e]=w.useState([]),{session:t}=Co();return Rs(),w.useEffect(()=>{(async function(){const i=await co();if(!i){console.log("User data is still loading. Please wait.");return}const{items:a}=await kv(i.$id),l=a.filter(c=>c.requests&&c.requests.length>0);e(l)})()},[]),oe("div",{className:"container",children:[I("h1",{children:"Your Items with Requests"}),n.length>0?oe(uo,{alwaysOpen:!0,children:[" ",n.map((r,i)=>I(lH,{name:r.name,userId:r.requests,eventKey:String(i)},r.$id))]}):I("p",{children:"No items with requests found."})]})};function cH({params:n=mR()}){const[e,t]=w.useState(),[r,i]=w.useState(),a=Rs(),[l,c]=w.useState(!1),[f,p]=w.useState(!1),{isAdmin:g}=Co(),T={url:(e==null?void 0:e.imageFileId)&&ed(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var Z;if(!n.itemsId)return;const{items:M}=await ay(n.itemsId);console.log("Fetched Item Data:",M),t(M);const j=await co();if((j==null?void 0:j.$id)===(M==null?void 0:M.authorID)&&c(!0),j&&p(((Z=M.requests)==null?void 0:Z.includes(j.$id))??!1),M){const{userdb:Y}=await ys(M.authorID);i(Y)}})()},[n.itemsId]);async function A(){if(!e)return;const z=await co();if(!z){console.log("User data is still loading. Please wait.");return}try{const M=e.requests??[];if(M.includes(z.$id)){p(!0);return}const j=[...M,z.$id];t(B=>B&&{...B,requests:j}),p(!0),await v0(n.itemsId,{...e,isApproved:!0,requests:j}),console.log("Trade request successful")}catch(M){console.error("Error requesting trade:",M)}}async function N(){if(e!=null&&e.$id){await L$(e.$id);return}a(-1)}async function x(){if(!e)return;if(!await co()){console.log("User data is still loading. Please wait.");return}try{await TR(n.itemsId,{...e,isApproved:!0});const{items:M}=await ay(n.itemsId);console.log(" Approved Post Data from Appwrite:",M),t(M),a(-1)}catch(M){console.error("Error approving post:",M)}}async function b(){if(!e)return;const z=await co();if(!z){console.log("User data is still loading. Please wait.");return}try{const M=e.requests??[];if(!M.includes(z.$id)){p(!1);return}const j=M.filter(B=>B!==z.$id);t(B=>B&&{...B,requests:j}),p(!1),await v0(n.itemsId,{...e,isApproved:!0,requests:j}),console.log("Trade request removed")}catch(M){console.error("Error removing request:",M)}}return oe(Yh,{children:[oe("a",{className:"HomeItem",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{className:"container",children:e&&oe(hn,{children:[!e.isApproved&&I(Bl,{variant:"warning",style:{margin:"20px"},children:"Post is waiting to be approved by the moderators."},"warning"),oe("div",{className:"itemheading",children:[I("div",{children:I("h1",{children:e.name})}),r&&I("a",{href:`#/User/${r.displayName}`,className:"profile-link",children:r.displayName||r.defaultName}),oe("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!g&&oe("div",{className:"Tradecont",children:[l&&I(un,{className:"Tradereq",variant:"primary",onClick:N,children:"Delete Item"}),!l&&I(hn,{children:f?I(un,{className:"Tradereq",variant:"danger",onClick:b,children:"Remove Trade Request"}):I(un,{className:"Tradereq",variant:"primary",onClick:A,children:"Request a Trade"})})]}),g&&oe("div",{className:"Tradecont",children:[I(un,{className:"Tradereq",variant:"primary",onClick:N,children:"Delete Item"}),I(un,{className:"Tradereq",variant:"primary",onClick:x,children:"Approve Item"})]}),I("div",{className:"itemimg",children:I(bT,{className:"image-carousel",controls:!1,children:I(bT.Item,{children:I("img",{className:"thumbnail",src:T.url?String(T.url):"./images/favicon",alt:"Item"})})})}),I("div",{className:"description",children:I("p",{children:e.description})})]})})]})}function dH({params:n=mR()}){const[e,t]=w.useState(null),[r,i]=w.useState([]);return w.useEffect(()=>{console.log(n.profileName),async function(){try{const{userdb:l}=await $$(n.profileName);l.map(async c=>{const{items:f}=await kv(c.userId);i(f),t(c)})}catch(l){console.error("Error fetching profile data:",l)}}()},[n.profileName]),I(Yh,{children:oe(Ss,{className:"mt-5",children:[I(xi,{className:"justify-content-center text-center",children:I(hi,{md:6,lg:4,children:oe("div",{className:"profile-container p-4 bg-light rounded shadow",children:[I(Tc,{src:e!=null&&e.profileImageId?oy(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),I("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),I("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),I(xi,{className:"mt-5",children:oe(hi,{children:[I("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?I(xi,{className:"g-4",children:r.map(a=>{const c={url:a.imageFileId&&ed(a.imageFileId),height:a.imageHeight,width:a.imageWidth};return I(hi,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${a.$id}`,children:I(Qh,{image:c,name:a.name,date:a.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"})})},a.$id)})}):I("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function fH(){const{isAdmin:n,logInAdmin:e}=Co(),[t,r]=w.useState([]),[i,a]=w.useState({}),l=async c=>{c.preventDefault();const f=c.target;await e(f.email.value,f.password.value),window.location.reload()};return w.useEffect(()=>{(async function(){const{items:f}=await x$();r(f);const p={};await Promise.all(f.map(async g=>{if(!p[g.authorID]){const{userdb:_}=await ys(g.authorID);p[g.authorID]=_}})),a(p)})()},[]),oe(hn,{children:[!n&&I("div",{className:"RegAdminContainer",children:I("div",{className:"login-register-container",children:oe("form",{onSubmit:l,autoComplete:"off",children:[oe("div",{className:"form-field-wrapper",children:[I("label",{children:"Email:"}),I("input",{required:!0,className:"AdminInput",type:"email",name:"email",placeholder:"Enter email..."})]}),oe("div",{className:"form-field-wrapper",children:[I("label",{children:"Password:"}),I(zr.Control,{className:"AdminInput",type:"password",name:"password",placeholder:"Enter password..."})]}),I("div",{className:"form-field-wrapper",children:I(un,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&I(Yh,{children:I("div",{className:"home",children:oe("div",{className:"container",id:"pagewrap",children:[I("h1",{children:"UNAPPROVED ITEMS"}),I("div",{className:"items container",children:I(xi,{children:t.length>0?t.map(c=>{const p={url:c.imageFileId&&ed(c.imageFileId),height:c.imageHeight,width:c.imageWidth},g=i[c.authorID];return I(hi,{xs:12,md:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${c.$id}`,children:I(Qh,{image:p,name:c.name,date:c.date,author:g?g.displayName||g.defaultName:"Unknown Author"})})},c.$id)}):I(Ss,{children:I(Bl,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const hH=u$([{path:"/",element:I(A$,{}),errorElement:I(_l,{})},{path:"/Admin",element:I(fH,{}),errorElement:I(_l,{})},{path:"/Home",element:I(nH,{}),errorElement:I(_l,{})},{path:"/Item/:itemsId",element:I(cH,{}),errorElement:I(_l,{})},{path:"/User/:profileName",element:I(dH,{}),errorElement:I(_l,{})},{path:"/Dashboard",element:I(rH,{}),errorElement:I(_l,{}),children:[{path:"/Dashboard/Post",element:I(oH,{})},{path:"/Dashboard/Profile",element:I(iH,{})},{path:"/Dashboard/Items",element:I(aH,{})},{path:"/Dashboard/Requests",element:I(uH,{})},{path:"/Dashboard/Messages",element:I(sH,{})}]}]);tP.createRoot(document.getElementById("root")).render(I(w.StrictMode,{children:I(jV,{children:I(y$,{router:hH})})}));
