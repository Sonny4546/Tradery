function nS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Oc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bm={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function eP(){if(DE)return lt;DE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function b(B,ee,pe){this.props=B,this.context=ee,this.refs=O,this.updater=pe||R}b.prototype.isReactComponent={},b.prototype.setState=function(B,ee){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ee,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function F(){}F.prototype=b.prototype;function V(B,ee,pe){this.props=B,this.context=ee,this.refs=O,this.updater=pe||R}var H=V.prototype=new F;H.constructor=V,P(H,b.prototype),H.isPureReactComponent=!0;var W=Array.isArray,Z=Object.prototype.hasOwnProperty,J={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(B,ee,pe){var ve,Ie={},Ae=null,Ge=null;if(ee!=null)for(ve in ee.ref!==void 0&&(Ge=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)Z.call(ee,ve)&&!S.hasOwnProperty(ve)&&(Ie[ve]=ee[ve]);var Fe=arguments.length-2;if(Fe===1)Ie.children=pe;else if(1<Fe){for(var st=Array(Fe),Et=0;Et<Fe;Et++)st[Et]=arguments[Et+2];Ie.children=st}if(B&&B.defaultProps)for(ve in Fe=B.defaultProps,Fe)Ie[ve]===void 0&&(Ie[ve]=Fe[ve]);return{$$typeof:n,type:B,key:Ae,ref:Ge,props:Ie,_owner:J.current}}function N(B,ee){return{$$typeof:n,type:B.type,key:ee,ref:B.ref,props:B.props,_owner:B._owner}}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var ee={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return ee[pe]})}var $=/\/+/g;function D(B,ee){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):ee.toString(36)}function Ee(B,ee,pe,ve,Ie){var Ae=typeof B;(Ae==="undefined"||Ae==="boolean")&&(B=null);var Ge=!1;if(B===null)Ge=!0;else switch(Ae){case"string":case"number":Ge=!0;break;case"object":switch(B.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=B,Ie=Ie(Ge),B=ve===""?"."+D(Ge,0):ve,W(Ie)?(pe="",B!=null&&(pe=B.replace($,"$&/")+"/"),Ee(Ie,ee,pe,"",function(Et){return Et})):Ie!=null&&(x(Ie)&&(Ie=N(Ie,pe+(!Ie.key||Ge&&Ge.key===Ie.key?"":(""+Ie.key).replace($,"$&/")+"/")+B)),ee.push(Ie)),1;if(Ge=0,ve=ve===""?".":ve+":",W(B))for(var Fe=0;Fe<B.length;Fe++){Ae=B[Fe];var st=ve+D(Ae,Fe);Ge+=Ee(Ae,ee,pe,st,Ie)}else if(st=T(B),typeof st=="function")for(B=st.call(B),Fe=0;!(Ae=B.next()).done;)Ae=Ae.value,st=ve+D(Ae,Fe++),Ge+=Ee(Ae,ee,pe,st,Ie);else if(Ae==="object")throw ee=String(B),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Le(B,ee,pe){if(B==null)return B;var ve=[],Ie=0;return Ee(B,ve,"","",function(Ae){return ee.call(pe,Ae,Ie++)}),ve}function He(B){if(B._status===-1){var ee=B._result;ee=ee(),ee.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=ee)}if(B._status===1)return B._result.default;throw B._result}var Ne={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:J};function ue(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:Le,forEach:function(B,ee,pe){Le(B,function(){ee.apply(this,arguments)},pe)},count:function(B){var ee=0;return Le(B,function(){ee++}),ee},toArray:function(B){return Le(B,function(ee){return ee})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},lt.Component=b,lt.Fragment=t,lt.Profiler=i,lt.PureComponent=V,lt.StrictMode=r,lt.Suspense=f,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,lt.act=ue,lt.cloneElement=function(B,ee,pe){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ve=P({},B.props),Ie=B.key,Ae=B.ref,Ge=B._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,Ge=J.current),ee.key!==void 0&&(Ie=""+ee.key),B.type&&B.type.defaultProps)var Fe=B.type.defaultProps;for(st in ee)Z.call(ee,st)&&!S.hasOwnProperty(st)&&(ve[st]=ee[st]===void 0&&Fe!==void 0?Fe[st]:ee[st])}var st=arguments.length-2;if(st===1)ve.children=pe;else if(1<st){Fe=Array(st);for(var Et=0;Et<st;Et++)Fe[Et]=arguments[Et+2];ve.children=Fe}return{$$typeof:n,type:B.type,key:Ie,ref:Ae,props:ve,_owner:Ge}},lt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},lt.createElement=A,lt.createFactory=function(B){var ee=A.bind(null,B);return ee.type=B,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(B){return{$$typeof:c,render:B}},lt.isValidElement=x,lt.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:He}},lt.memo=function(B,ee){return{$$typeof:p,type:B,compare:ee===void 0?null:ee}},lt.startTransition=function(B){var ee=ne.transition;ne.transition={};try{B()}finally{ne.transition=ee}},lt.unstable_act=ue,lt.useCallback=function(B,ee){return Ne.current.useCallback(B,ee)},lt.useContext=function(B){return Ne.current.useContext(B)},lt.useDebugValue=function(){},lt.useDeferredValue=function(B){return Ne.current.useDeferredValue(B)},lt.useEffect=function(B,ee){return Ne.current.useEffect(B,ee)},lt.useId=function(){return Ne.current.useId()},lt.useImperativeHandle=function(B,ee,pe){return Ne.current.useImperativeHandle(B,ee,pe)},lt.useInsertionEffect=function(B,ee){return Ne.current.useInsertionEffect(B,ee)},lt.useLayoutEffect=function(B,ee){return Ne.current.useLayoutEffect(B,ee)},lt.useMemo=function(B,ee){return Ne.current.useMemo(B,ee)},lt.useReducer=function(B,ee,pe){return Ne.current.useReducer(B,ee,pe)},lt.useRef=function(B){return Ne.current.useRef(B)},lt.useState=function(B){return Ne.current.useState(B)},lt.useSyncExternalStore=function(B,ee,pe){return Ne.current.useSyncExternalStore(B,ee,pe)},lt.useTransition=function(){return Ne.current.useTransition()},lt.version="18.3.1",lt}var OE;function xy(){return OE||(OE=1,Bm.exports=eP()),Bm.exports}var w=xy();const dn=Oc(w),tP=nS({__proto__:null,default:dn},[w]);var gf={},Hm={exports:{}},hr={},zm={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function nP(){return xE||(xE=1,function(n){function e(ne,me){var ue=ne.length;ne.push(me);e:for(;0<ue;){var B=ue-1>>>1,ee=ne[B];if(0<i(ee,me))ne[B]=me,ne[ue]=ee,ue=B;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],ue=ne.pop();if(ue!==me){ne[0]=ue;e:for(var B=0,ee=ne.length,pe=ee>>>1;B<pe;){var ve=2*(B+1)-1,Ie=ne[ve],Ae=ve+1,Ge=ne[Ae];if(0>i(Ie,ue))Ae<ee&&0>i(Ge,Ie)?(ne[B]=Ge,ne[Ae]=ue,B=Ae):(ne[B]=Ie,ne[ve]=ue,B=ve);else if(Ae<ee&&0>i(Ge,ue))ne[B]=Ge,ne[Ae]=ue,B=Ae;else break e}}return me}function i(ne,me){var ue=ne.sortIndex-me.sortIndex;return ue!==0?ue:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,T=3,R=!1,P=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(ne){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ne)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function W(ne){if(O=!1,H(ne),!P)if(t(f)!==null)P=!0,He(Z);else{var me=t(p);me!==null&&Ne(W,me.startTime-ne)}}function Z(ne,me){P=!1,O&&(O=!1,F(A),A=-1),R=!0;var ue=T;try{for(H(me),_=t(f);_!==null&&(!(_.expirationTime>me)||ne&&!L());){var B=_.callback;if(typeof B=="function"){_.callback=null,T=_.priorityLevel;var ee=B(_.expirationTime<=me);me=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(f)&&r(f),H(me)}else r(f);_=t(f)}if(_!==null)var pe=!0;else{var ve=t(p);ve!==null&&Ne(W,ve.startTime-me),pe=!1}return pe}finally{_=null,T=ue,R=!1}}var J=!1,S=null,A=-1,N=5,x=-1;function L(){return!(n.unstable_now()-x<N)}function $(){if(S!==null){var ne=n.unstable_now();x=ne;var me=!0;try{me=S(!0,ne)}finally{me?D():(J=!1,S=null)}}else J=!1}var D;if(typeof V=="function")D=function(){V($)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Le=Ee.port2;Ee.port1.onmessage=$,D=function(){Le.postMessage(null)}}else D=function(){b($,0)};function He(ne){S=ne,J||(J=!0,D())}function Ne(ne,me){A=b(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){P||R||(P=!0,He(Z))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var ue=T;T=me;try{return ne()}finally{T=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ue=T;T=ne;try{return me()}finally{T=ue}},n.unstable_scheduleCallback=function(ne,me,ue){var B=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?B+ue:B):ue=B,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ue+ee,ne={id:g++,callback:me,priorityLevel:ne,startTime:ue,expirationTime:ee,sortIndex:-1},ue>B?(ne.sortIndex=ue,e(p,ne),t(f)===null&&ne===t(p)&&(O?(F(A),A=-1):O=!0,Ne(W,ue-B))):(ne.sortIndex=ee,e(f,ne),P||R||(P=!0,He(Z))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var me=T;return function(){var ue=T;T=me;try{return ne.apply(this,arguments)}finally{T=ue}}}}(Wm)),Wm}var LE;function rP(){return LE||(LE=1,zm.exports=nP()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function iP(){if(ME)return hr;ME=1;var n=xy(),e=rP();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function R(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,u,h){if(o===null||typeof o>"u"||R(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function O(s,o,u,h,m,v,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new O(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new O(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new O(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new O(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new O(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new O(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new O(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new O(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new O(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,V);b[o]=new O(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,V);b[o]=new O(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,V);b[o]=new O(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new O(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new O(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,o,u,h){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,m,h)&&(u=null),h||m===null?T(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),J=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,B;function ee(s){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var pe=!1;function ve(s,o){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var h=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){h=X}s.call(o.prototype)}else{try{throw Error()}catch(X){h=X}s()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var m=X.stack.split(`
`),v=h.stack.split(`
`),C=m.length-1,M=v.length-1;1<=C&&0<=M&&m[C]!==v[M];)M--;for(;1<=C&&0<=M;C--,M--)if(m[C]!==v[M]){if(C!==1||M!==1)do if(C--,M--,0>M||m[C]!==v[M]){var j=`
`+m[C].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=C&&0<=M);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Ie(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case J:return"Portal";case N:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case Ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case x:return(s._context.displayName||"Context")+".Provider";case $:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Le:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case He:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=st(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function St(s){s._valueTracker||(s._valueTracker=Et(s))}function it(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=st(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Kt(s,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function rt(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Fe(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ft(s,o){o=o.checked,o!=null&&H(s,"checked",o,!1)}function mn(s,o){Ft(s,o);var u=Fe(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Wn(s,o.type,u):o.hasOwnProperty("defaultValue")&&Wn(s,o.type,Fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Or(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Wn(s,o,u){(o!=="number"||kt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Bt=Array.isArray;function Jt(s,o,u,h){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Fe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function nr(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Dn(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Bt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Fe(u)}}function Dt(s,o){var u=Fe(o.value),h=Fe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function on(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ue(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ue(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ot,gn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ot.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function qn(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(s){ze.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Kn[o]=Kn[s]})});function ot(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Kn.hasOwnProperty(s)&&Kn[s]?(""+o).trim():o+"px"}function yn(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=ot(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,m):s[u]=m}}var rr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mi(s,o){if(o){if(rr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Vo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gi=null;function Xr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bi=null,On=null,ir=null;function ks(s){if(s=Du(s)){if(typeof Bi!="function")throw Error(t(280));var o=s.stateNode;o&&(o=kd(o),Bi(s.stateNode,s.type,o))}}function vr(s){On?ir?ir.push(s):ir=[s]:On=s}function $o(){if(On){var s=On,o=ir;if(ir=On=null,ks(s),o)for(s=0;s<o.length;s++)ks(o[s])}}function yi(s,o){return s(o)}function vi(){}var sr=!1;function Uo(s,o,u){if(sr)return s(o,u);sr=!0;try{return yi(s,o,u)}finally{sr=!1,(On!==null||ir!==null)&&(vi(),$o())}}function Ht(s,o){var u=s.stateNode;if(u===null)return null;var h=kd(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var U=!1;if(c)try{var q={};Object.defineProperty(q,"passive",{get:function(){U=!0}}),window.addEventListener("test",q,q),window.removeEventListener("test",q,q)}catch{U=!1}function Y(s,o,u,h,m,v,C,M,j){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(ce){this.onError(ce)}}var re=!1,_e=null,ke=!1,Qe=null,Pe={onError:function(s){re=!0,_e=s}};function Re(s,o,u,h,m,v,C,M,j){re=!1,_e=null,Y.apply(Pe,arguments)}function Se(s,o,u,h,m,v,C,M,j){if(Re.apply(this,arguments),re){if(re){var X=_e;re=!1,_e=null}else throw Error(t(198));ke||(ke=!0,Qe=X)}}function De(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function et(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Je(s){if(De(s)!==s)throw Error(t(188))}function Gt(s){var o=s.alternate;if(!o){if(o=De(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Je(m),s;if(v===h)return Je(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=v;else{for(var C=!1,M=m.child;M;){if(M===u){C=!0,u=m,h=v;break}if(M===h){C=!0,h=m,u=v;break}M=M.sibling}if(!C){for(M=v.child;M;){if(M===u){C=!0,u=v,h=m;break}if(M===h){C=!0,h=v,u=m;break}M=M.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function Tt(s){return s=Gt(s),s!==null?at(s):null}function at(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=at(s);if(o!==null)return o;s=s.sibling}return null}var Rt=e.unstable_scheduleCallback,xr=e.unstable_cancelCallback,_i=e.unstable_shouldYield,_r=e.unstable_requestPaint,ct=e.unstable_now,Ps=e.unstable_getCurrentPriorityLevel,wr=e.unstable_ImmediatePriority,xn=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,wi=e.unstable_LowPriority,dt=e.unstable_IdlePriority,Ct=null,Zt=null;function Ei(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ct,s,void 0,(s.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Da,Lr=Math.log,jo=Math.LN2;function Da(s){return s>>>=0,s===0?32:31-(Lr(s)/jo|0)|0}var Oa=64,xa=4194304;function Ds(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Fo(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,v=s.pingedLanes,C=u&268435455;if(C!==0){var M=C&~m;M!==0?h=Ds(M):(v&=C,v!==0&&(h=Ds(v)))}else C=u&~m,C!==0?h=Ds(C):v!==0&&(h=Ds(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-ft(o),m=1<<u,h|=s[u],o&=~m;return h}function vp(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hi(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var C=31-ft(v),M=1<<C,j=m[C];j===-1?((M&u)===0||(M&h)!==0)&&(m[C]=vp(M,o)):j<=o&&(s.expiredLanes|=M),v&=~M}}function Er(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Bo(){var s=Oa;return Oa<<=1,(Oa&4194240)===0&&(Oa=64),s}function Os(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function xs(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ft(o),s[o]=u}function Pt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ft(u),v=1<<m;o[m]=0,h[m]=-1,s[m]=-1,u&=~v}}function Ls(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-ft(u),m=1<<h;m&o|s[h]&o&&(s[h]|=o),u&=~m}}var gt=0;function Ms(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ud,La,cd,dd,fd,yu=!1,Ti=[],Sn=null,Jr=null,Zr=null,Vs=new Map,Mr=new Map,Ii=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hd(s,o){switch(s){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Vs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(o.pointerId)}}function or(s,o,u,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Du(o),o!==null&&La(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function wp(s,o,u,h,m){switch(o){case"focusin":return Sn=or(Sn,s,o,u,h,m),!0;case"dragenter":return Jr=or(Jr,s,o,u,h,m),!0;case"mouseover":return Zr=or(Zr,s,o,u,h,m),!0;case"pointerover":var v=m.pointerId;return Vs.set(v,or(Vs.get(v)||null,s,o,u,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Mr.set(v,or(Mr.get(v)||null,s,o,u,h,m)),!0}return!1}function pd(s){var o=Ko(s.target);if(o!==null){var u=De(o);if(u!==null){if(o=u.tag,o===13){if(o=et(u),o!==null){s.blockedOn=o,fd(s.priority,function(){cd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Ma(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);gi=h,u.target.dispatchEvent(h),gi=null}else return o=Du(u),o!==null&&La(o),s.blockedOn=u,!1;o.shift()}return!0}function Ho(s,o,u){zi(s)&&u.delete(o)}function md(){yu=!1,Sn!==null&&zi(Sn)&&(Sn=null),Jr!==null&&zi(Jr)&&(Jr=null),Zr!==null&&zi(Zr)&&(Zr=null),Vs.forEach(Ho),Mr.forEach(Ho)}function ei(s,o){s.blockedOn===o&&(s.blockedOn=null,yu||(yu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,md)))}function ti(s){function o(m){return ei(m,s)}if(0<Ti.length){ei(Ti[0],s);for(var u=1;u<Ti.length;u++){var h=Ti[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Sn!==null&&ei(Sn,s),Jr!==null&&ei(Jr,s),Zr!==null&&ei(Zr,s),Vs.forEach(o),Mr.forEach(o),u=0;u<Ii.length;u++)h=Ii[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Ii.length&&(u=Ii[0],u.blockedOn===null);)pd(u),u.blockedOn===null&&Ii.shift()}var Wi=W.ReactCurrentBatchConfig,$s=!0;function $t(s,o,u,h){var m=gt,v=Wi.transition;Wi.transition=null;try{gt=1,vu(s,o,u,h)}finally{gt=m,Wi.transition=v}}function Ep(s,o,u,h){var m=gt,v=Wi.transition;Wi.transition=null;try{gt=4,vu(s,o,u,h)}finally{gt=m,Wi.transition=v}}function vu(s,o,u,h){if($s){var m=Ma(s,o,u,h);if(m===null)Dp(s,o,h,zo,u),hd(s,h);else if(wp(m,s,o,u,h))h.stopPropagation();else if(hd(s,h),o&4&&-1<_p.indexOf(s)){for(;m!==null;){var v=Du(m);if(v!==null&&ud(v),v=Ma(s,o,u,h),v===null&&Dp(s,o,h,zo,u),v===m)break;m=v}m!==null&&h.stopPropagation()}else Dp(s,o,h,null,u)}}var zo=null;function Ma(s,o,u,h){if(zo=null,s=Xr(h),s=Ko(s),s!==null)if(o=De(s),o===null)s=null;else if(u=o.tag,u===13){if(s=et(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return zo=s,null}function _u(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ps()){case wr:return 1;case xn:return 4;case In:case wi:return 16;case dt:return 536870912;default:return 16}default:return 16}}var Tr=null,Va=null,ar=null;function wu(){if(ar)return ar;var s,o=Va,u=o.length,h,m="value"in Tr?Tr.value:Tr.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var C=u-s;for(h=1;h<=C&&o[u-h]===m[v-h];h++);return ar=m.slice(s,1<h?1-h:void 0)}function $a(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Si(){return!0}function Eu(){return!1}function Cn(s){function o(u,h,m,v,C){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Si:Eu,this.isPropagationStopped=Eu,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),o}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Cn(ni),Ci=ue({},ni,{view:0,detail:0}),Tp=Cn(Ci),ja,qi,Us,Wo=ue({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Us&&(Us&&s.type==="mousemove"?(ja=s.screenX-Us.screenX,qi=s.screenY-Us.screenY):qi=ja=0,Us=s),ja)},movementY:function(s){return"movementY"in s?s.movementY:qi}}),Fa=Cn(Wo),Tu=ue({},Wo,{dataTransfer:0}),gd=Cn(Tu),Ba=ue({},Ci,{relatedTarget:0}),Ha=Cn(Ba),yd=ue({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Ki=Cn(yd),vd=ue({},ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_d=Cn(vd),wd=ue({},ni,{data:0}),Iu=Cn(wd),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Td(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ed[s])?!!o[s]:!1}function Ai(){return Td}var d=ue({},Ci,{key:function(s){if(s.key){var o=za[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=$a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(s){return s.type==="keypress"?$a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Cn(d),E=ue({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Cn(E),K=ue({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),te=Cn(K),ge=ue({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Cn(ge),an=ue({},Wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=Cn(an),vn=[9,13,27,32],en=c&&"CompositionEvent"in window,Vr=null;c&&"documentMode"in document&&(Vr=document.documentMode);var Ir=c&&"TextEvent"in window&&!Vr,qo=c&&(!en||Vr&&8<Vr&&11>=Vr),Wa=" ",A_=!1;function R_(s,o){switch(s){case"keyup":return vn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qa=!1;function XN(s,o){switch(s){case"compositionend":return b_(o);case"keypress":return o.which!==32?null:(A_=!0,Wa);case"textInput":return s=o.data,s===Wa&&A_?null:s;default:return null}}function JN(s,o){if(qa)return s==="compositionend"||!en&&R_(s,o)?(s=wu(),ar=Va=Tr=null,qa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qo&&o.locale!=="ko"?null:o.data;default:return null}}var ZN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!ZN[s.type]:o==="textarea"}function k_(s,o,u,h){vr(h),o=Rd(o,"onChange"),0<o.length&&(u=new Ua("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var Su=null,Cu=null;function ek(s){G_(s,0)}function Id(s){var o=Xa(s);if(it(o))return s}function tk(s,o){if(s==="change")return o}var P_=!1;if(c){var Ip;if(c){var Sp="oninput"in document;if(!Sp){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),Sp=typeof D_.oninput=="function"}Ip=Sp}else Ip=!1;P_=Ip&&(!document.documentMode||9<document.documentMode)}function O_(){Su&&(Su.detachEvent("onpropertychange",x_),Cu=Su=null)}function x_(s){if(s.propertyName==="value"&&Id(Cu)){var o=[];k_(o,Cu,s,Xr(s)),Uo(ek,o)}}function nk(s,o,u){s==="focusin"?(O_(),Su=o,Cu=u,Su.attachEvent("onpropertychange",x_)):s==="focusout"&&O_()}function rk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Id(Cu)}function ik(s,o){if(s==="click")return Id(o)}function sk(s,o){if(s==="input"||s==="change")return Id(o)}function ok(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ri=typeof Object.is=="function"?Object.is:ok;function Au(s,o){if(ri(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!ri(s[m],o[m]))return!1}return!0}function L_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function M_(s,o){var u=L_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=L_(u)}}function V_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?V_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function $_(){for(var s=window,o=kt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=kt(s.document)}return o}function Cp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function ak(s){var o=$_(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&V_(u.ownerDocument.documentElement,u)){if(h!==null&&Cp(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!s.extend&&v>h&&(m=h,h=v,v=m),m=M_(u,v);var C=M_(u,h);m&&C&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var lk=c&&"documentMode"in document&&11>=document.documentMode,Ka=null,Ap=null,Ru=null,Rp=!1;function U_(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Rp||Ka==null||Ka!==kt(h)||(h=Ka,"selectionStart"in h&&Cp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ru&&Au(Ru,h)||(Ru=h,h=Rd(Ap,"onSelect"),0<h.length&&(o=new Ua("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Ka)))}function Sd(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ga={animationend:Sd("Animation","AnimationEnd"),animationiteration:Sd("Animation","AnimationIteration"),animationstart:Sd("Animation","AnimationStart"),transitionend:Sd("Transition","TransitionEnd")},bp={},j_={};c&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Cd(s){if(bp[s])return bp[s];if(!Ga[s])return s;var o=Ga[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in j_)return bp[s]=o[u];return s}var F_=Cd("animationend"),B_=Cd("animationiteration"),H_=Cd("animationstart"),z_=Cd("transitionend"),W_=new Map,q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(s,o){W_.set(s,o),a(o,[s])}for(var Np=0;Np<q_.length;Np++){var kp=q_[Np],uk=kp.toLowerCase(),ck=kp[0].toUpperCase()+kp.slice(1);js(uk,"on"+ck)}js(F_,"onAnimationEnd"),js(B_,"onAnimationIteration"),js(H_,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(z_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dk=new Set("cancel close invalid load scroll toggle".split(" ").concat(bu));function K_(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Se(h,o,void 0,s),s.currentTarget=null}function G_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var C=h.length-1;0<=C;C--){var M=h[C],j=M.instance,X=M.currentTarget;if(M=M.listener,j!==v&&m.isPropagationStopped())break e;K_(m,M,X),v=j}else for(C=0;C<h.length;C++){if(M=h[C],j=M.instance,X=M.currentTarget,M=M.listener,j!==v&&m.isPropagationStopped())break e;K_(m,M,X),v=j}}}if(ke)throw s=Qe,ke=!1,Qe=null,s}function Lt(s,o){var u=o[$p];u===void 0&&(u=o[$p]=new Set);var h=s+"__bubble";u.has(h)||(Q_(o,s,2,!1),u.add(h))}function Pp(s,o,u){var h=0;o&&(h|=4),Q_(u,s,h,o)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function Nu(s){if(!s[Ad]){s[Ad]=!0,r.forEach(function(u){u!=="selectionchange"&&(dk.has(u)||Pp(u,!1,s),Pp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ad]||(o[Ad]=!0,Pp("selectionchange",!1,o))}}function Q_(s,o,u,h){switch(_u(o)){case 1:var m=$t;break;case 4:m=Ep;break;default:m=vu}u=m.bind(null,o,u,s),m=void 0,!U||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Dp(s,o,u,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var M=h.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(C===4)for(C=h.return;C!==null;){var j=C.tag;if((j===3||j===4)&&(j=C.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;C=C.return}for(;M!==null;){if(C=Ko(M),C===null)return;if(j=C.tag,j===5||j===6){h=v=C;continue e}M=M.parentNode}}h=h.return}Uo(function(){var X=v,ce=Xr(u),fe=[];e:{var le=W_.get(s);if(le!==void 0){var Ce=Ua,Me=s;switch(s){case"keypress":if($a(u)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Me="focus",Ce=Ha;break;case"focusout":Me="blur",Ce=Ha;break;case"beforeblur":case"afterblur":Ce=Ha;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=te;break;case F_:case B_:case H_:Ce=Ki;break;case z_:Ce=bt;break;case"scroll":Ce=Tp;break;case"wheel":Ce=vt;break;case"copy":case"cut":case"paste":Ce=_d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=k}var Ve=(o&4)!==0,Yt=!Ve&&s==="scroll",G=Ve?le!==null?le+"Capture":null:le;Ve=[];for(var z=X,Q;z!==null;){Q=z;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,G!==null&&(he=Ht(z,G),he!=null&&Ve.push(ku(z,he,Q)))),Yt)break;z=z.return}0<Ve.length&&(le=new Ce(le,Me,null,u,ce),fe.push({event:le,listeners:Ve}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",le&&u!==gi&&(Me=u.relatedTarget||u.fromElement)&&(Ko(Me)||Me[Gi]))break e;if((Ce||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,Ce?(Me=u.relatedTarget||u.toElement,Ce=X,Me=Me?Ko(Me):null,Me!==null&&(Yt=De(Me),Me!==Yt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ce=null,Me=X),Ce!==Me)){if(Ve=Fa,he="onMouseLeave",G="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=k,he="onPointerLeave",G="onPointerEnter",z="pointer"),Yt=Ce==null?le:Xa(Ce),Q=Me==null?le:Xa(Me),le=new Ve(he,z+"leave",Ce,u,ce),le.target=Yt,le.relatedTarget=Q,he=null,Ko(ce)===X&&(Ve=new Ve(G,z+"enter",Me,u,ce),Ve.target=Q,Ve.relatedTarget=Yt,he=Ve),Yt=he,Ce&&Me)t:{for(Ve=Ce,G=Me,z=0,Q=Ve;Q;Q=Qa(Q))z++;for(Q=0,he=G;he;he=Qa(he))Q++;for(;0<z-Q;)Ve=Qa(Ve),z--;for(;0<Q-z;)G=Qa(G),Q--;for(;z--;){if(Ve===G||G!==null&&Ve===G.alternate)break t;Ve=Qa(Ve),G=Qa(G)}Ve=null}else Ve=null;Ce!==null&&Y_(fe,le,Ce,Ve,!1),Me!==null&&Yt!==null&&Y_(fe,Yt,Me,Ve,!0)}}e:{if(le=X?Xa(X):window,Ce=le.nodeName&&le.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&le.type==="file")var $e=tk;else if(N_(le))if(P_)$e=sk;else{$e=rk;var qe=nk}else(Ce=le.nodeName)&&Ce.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&($e=ik);if($e&&($e=$e(s,X))){k_(fe,$e,u,ce);break e}qe&&qe(s,le,X),s==="focusout"&&(qe=le._wrapperState)&&qe.controlled&&le.type==="number"&&Wn(le,"number",le.value)}switch(qe=X?Xa(X):window,s){case"focusin":(N_(qe)||qe.contentEditable==="true")&&(Ka=qe,Ap=X,Ru=null);break;case"focusout":Ru=Ap=Ka=null;break;case"mousedown":Rp=!0;break;case"contextmenu":case"mouseup":case"dragend":Rp=!1,U_(fe,u,ce);break;case"selectionchange":if(lk)break;case"keydown":case"keyup":U_(fe,u,ce)}var Ke;if(en)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else qa?R_(s,u)&&(Xe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(qo&&u.locale!=="ko"&&(qa||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&qa&&(Ke=wu()):(Tr=ce,Va="value"in Tr?Tr.value:Tr.textContent,qa=!0)),qe=Rd(X,Xe),0<qe.length&&(Xe=new Iu(Xe,s,null,u,ce),fe.push({event:Xe,listeners:qe}),Ke?Xe.data=Ke:(Ke=b_(u),Ke!==null&&(Xe.data=Ke)))),(Ke=Ir?XN(s,u):JN(s,u))&&(X=Rd(X,"onBeforeInput"),0<X.length&&(ce=new Iu("onBeforeInput","beforeinput",null,u,ce),fe.push({event:ce,listeners:X}),ce.data=Ke))}G_(fe,o)})}function ku(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Rd(s,o){for(var u=o+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ht(s,u),v!=null&&h.unshift(ku(s,v,m)),v=Ht(s,o),v!=null&&h.push(ku(s,v,m))),s=s.return}return h}function Qa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Y_(s,o,u,h,m){for(var v=o._reactName,C=[];u!==null&&u!==h;){var M=u,j=M.alternate,X=M.stateNode;if(j!==null&&j===h)break;M.tag===5&&X!==null&&(M=X,m?(j=Ht(u,v),j!=null&&C.unshift(ku(u,j,M))):m||(j=Ht(u,v),j!=null&&C.push(ku(u,j,M)))),u=u.return}C.length!==0&&s.push({event:o,listeners:C})}var fk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function X_(s){return(typeof s=="string"?s:""+s).replace(fk,`
`).replace(hk,"")}function bd(s,o,u){if(o=X_(o),X_(s)!==o&&u)throw Error(t(425))}function Nd(){}var Op=null,xp=null;function Lp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mp=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,mk=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(s){return J_.resolve(null).then(s).catch(gk)}:Mp;function gk(s){setTimeout(function(){throw s})}function Vp(s,o){var u=o,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),ti(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);ti(o)}function Fs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Z_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),Ri="__reactFiber$"+Ya,Pu="__reactProps$"+Ya,Gi="__reactContainer$"+Ya,$p="__reactEvents$"+Ya,yk="__reactListeners$"+Ya,vk="__reactHandles$"+Ya;function Ko(s){var o=s[Ri];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Gi]||u[Ri]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Z_(s);s!==null;){if(u=s[Ri])return u;s=Z_(s)}return o}s=u,u=s.parentNode}return null}function Du(s){return s=s[Ri]||s[Gi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Xa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function kd(s){return s[Pu]||null}var Up=[],Ja=-1;function Bs(s){return{current:s}}function Mt(s){0>Ja||(s.current=Up[Ja],Up[Ja]=null,Ja--)}function xt(s,o){Ja++,Up[Ja]=s.current,s.current=o}var Hs={},Ln=Bs(Hs),lr=Bs(!1),Go=Hs;function Za(s,o){var u=s.type.contextTypes;if(!u)return Hs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function ur(s){return s=s.childContextTypes,s!=null}function Pd(){Mt(lr),Mt(Ln)}function ew(s,o,u){if(Ln.current!==Hs)throw Error(t(168));xt(Ln,o),xt(lr,u)}function tw(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ge(s)||"Unknown",m));return ue({},u,h)}function Dd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hs,Go=Ln.current,xt(Ln,s),xt(lr,lr.current),!0}function nw(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=tw(s,o,Go),h.__reactInternalMemoizedMergedChildContext=s,Mt(lr),Mt(Ln),xt(Ln,s)):Mt(lr),xt(lr,u)}var Qi=null,Od=!1,jp=!1;function rw(s){Qi===null?Qi=[s]:Qi.push(s)}function _k(s){Od=!0,rw(s)}function zs(){if(!jp&&Qi!==null){jp=!0;var s=0,o=gt;try{var u=Qi;for(gt=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}Qi=null,Od=!1}catch(m){throw Qi!==null&&(Qi=Qi.slice(s+1)),Rt(wr,zs),m}finally{gt=o,jp=!1}}return null}var el=[],tl=0,xd=null,Ld=0,$r=[],Ur=0,Qo=null,Yi=1,Xi="";function Yo(s,o){el[tl++]=Ld,el[tl++]=xd,xd=s,Ld=o}function iw(s,o,u){$r[Ur++]=Yi,$r[Ur++]=Xi,$r[Ur++]=Qo,Qo=s;var h=Yi;s=Xi;var m=32-ft(h)-1;h&=~(1<<m),u+=1;var v=32-ft(o)+m;if(30<v){var C=m-m%5;v=(h&(1<<C)-1).toString(32),h>>=C,m-=C,Yi=1<<32-ft(o)+m|u<<m|h,Xi=v+s}else Yi=1<<v|u<<m|h,Xi=s}function Fp(s){s.return!==null&&(Yo(s,1),iw(s,1,0))}function Bp(s){for(;s===xd;)xd=el[--tl],el[tl]=null,Ld=el[--tl],el[tl]=null;for(;s===Qo;)Qo=$r[--Ur],$r[Ur]=null,Xi=$r[--Ur],$r[Ur]=null,Yi=$r[--Ur],$r[Ur]=null}var Sr=null,Cr=null,Ut=!1,ii=null;function sw(s,o){var u=Hr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function ow(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Sr=s,Cr=Fs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Sr=s,Cr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Qo!==null?{id:Yi,overflow:Xi}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Hr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Sr=s,Cr=null,!0):!1;default:return!1}}function Hp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function zp(s){if(Ut){var o=Cr;if(o){var u=o;if(!ow(s,o)){if(Hp(s))throw Error(t(418));o=Fs(u.nextSibling);var h=Sr;o&&ow(s,o)?sw(h,u):(s.flags=s.flags&-4097|2,Ut=!1,Sr=s)}}else{if(Hp(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ut=!1,Sr=s}}}function aw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Sr=s}function Md(s){if(s!==Sr)return!1;if(!Ut)return aw(s),Ut=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Lp(s.type,s.memoizedProps)),o&&(o=Cr)){if(Hp(s))throw lw(),Error(t(418));for(;o;)sw(s,o),o=Fs(o.nextSibling)}if(aw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Cr=Fs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Cr=null}}else Cr=Sr?Fs(s.stateNode.nextSibling):null;return!0}function lw(){for(var s=Cr;s;)s=Fs(s.nextSibling)}function nl(){Cr=Sr=null,Ut=!1}function Wp(s){ii===null?ii=[s]:ii.push(s)}var wk=W.ReactCurrentBatchConfig;function Ou(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var m=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(C){var M=m.refs;C===null?delete M[v]:M[v]=C},o._stringRef=v,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Vd(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function uw(s){var o=s._init;return o(s._payload)}function cw(s){function o(G,z){if(s){var Q=G.deletions;Q===null?(G.deletions=[z],G.flags|=16):Q.push(z)}}function u(G,z){if(!s)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function h(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function m(G,z){return G=Js(G,z),G.index=0,G.sibling=null,G}function v(G,z,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<z?(G.flags|=2,z):Q):(G.flags|=2,z)):(G.flags|=1048576,z)}function C(G){return s&&G.alternate===null&&(G.flags|=2),G}function M(G,z,Q,he){return z===null||z.tag!==6?(z=Mm(Q,G.mode,he),z.return=G,z):(z=m(z,Q),z.return=G,z)}function j(G,z,Q,he){var $e=Q.type;return $e===S?ce(G,z,Q.props.children,he,Q.key):z!==null&&(z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===He&&uw($e)===z.type)?(he=m(z,Q.props),he.ref=Ou(G,z,Q),he.return=G,he):(he=lf(Q.type,Q.key,Q.props,null,G.mode,he),he.ref=Ou(G,z,Q),he.return=G,he)}function X(G,z,Q,he){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Vm(Q,G.mode,he),z.return=G,z):(z=m(z,Q.children||[]),z.return=G,z)}function ce(G,z,Q,he,$e){return z===null||z.tag!==7?(z=ia(Q,G.mode,he,$e),z.return=G,z):(z=m(z,Q),z.return=G,z)}function fe(G,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Mm(""+z,G.mode,Q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return Q=lf(z.type,z.key,z.props,null,G.mode,Q),Q.ref=Ou(G,null,z),Q.return=G,Q;case J:return z=Vm(z,G.mode,Q),z.return=G,z;case He:var he=z._init;return fe(G,he(z._payload),Q)}if(Bt(z)||me(z))return z=ia(z,G.mode,Q,null),z.return=G,z;Vd(G,z)}return null}function le(G,z,Q,he){var $e=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return $e!==null?null:M(G,z,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Z:return Q.key===$e?j(G,z,Q,he):null;case J:return Q.key===$e?X(G,z,Q,he):null;case He:return $e=Q._init,le(G,z,$e(Q._payload),he)}if(Bt(Q)||me(Q))return $e!==null?null:ce(G,z,Q,he,null);Vd(G,Q)}return null}function Ce(G,z,Q,he,$e){if(typeof he=="string"&&he!==""||typeof he=="number")return G=G.get(Q)||null,M(z,G,""+he,$e);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case Z:return G=G.get(he.key===null?Q:he.key)||null,j(z,G,he,$e);case J:return G=G.get(he.key===null?Q:he.key)||null,X(z,G,he,$e);case He:var qe=he._init;return Ce(G,z,Q,qe(he._payload),$e)}if(Bt(he)||me(he))return G=G.get(Q)||null,ce(z,G,he,$e,null);Vd(z,he)}return null}function Me(G,z,Q,he){for(var $e=null,qe=null,Ke=z,Xe=z=0,En=null;Ke!==null&&Xe<Q.length;Xe++){Ke.index>Xe?(En=Ke,Ke=null):En=Ke.sibling;var It=le(G,Ke,Q[Xe],he);if(It===null){Ke===null&&(Ke=En);break}s&&Ke&&It.alternate===null&&o(G,Ke),z=v(It,z,Xe),qe===null?$e=It:qe.sibling=It,qe=It,Ke=En}if(Xe===Q.length)return u(G,Ke),Ut&&Yo(G,Xe),$e;if(Ke===null){for(;Xe<Q.length;Xe++)Ke=fe(G,Q[Xe],he),Ke!==null&&(z=v(Ke,z,Xe),qe===null?$e=Ke:qe.sibling=Ke,qe=Ke);return Ut&&Yo(G,Xe),$e}for(Ke=h(G,Ke);Xe<Q.length;Xe++)En=Ce(Ke,G,Xe,Q[Xe],he),En!==null&&(s&&En.alternate!==null&&Ke.delete(En.key===null?Xe:En.key),z=v(En,z,Xe),qe===null?$e=En:qe.sibling=En,qe=En);return s&&Ke.forEach(function(Zs){return o(G,Zs)}),Ut&&Yo(G,Xe),$e}function Ve(G,z,Q,he){var $e=me(Q);if(typeof $e!="function")throw Error(t(150));if(Q=$e.call(Q),Q==null)throw Error(t(151));for(var qe=$e=null,Ke=z,Xe=z=0,En=null,It=Q.next();Ke!==null&&!It.done;Xe++,It=Q.next()){Ke.index>Xe?(En=Ke,Ke=null):En=Ke.sibling;var Zs=le(G,Ke,It.value,he);if(Zs===null){Ke===null&&(Ke=En);break}s&&Ke&&Zs.alternate===null&&o(G,Ke),z=v(Zs,z,Xe),qe===null?$e=Zs:qe.sibling=Zs,qe=Zs,Ke=En}if(It.done)return u(G,Ke),Ut&&Yo(G,Xe),$e;if(Ke===null){for(;!It.done;Xe++,It=Q.next())It=fe(G,It.value,he),It!==null&&(z=v(It,z,Xe),qe===null?$e=It:qe.sibling=It,qe=It);return Ut&&Yo(G,Xe),$e}for(Ke=h(G,Ke);!It.done;Xe++,It=Q.next())It=Ce(Ke,G,Xe,It.value,he),It!==null&&(s&&It.alternate!==null&&Ke.delete(It.key===null?Xe:It.key),z=v(It,z,Xe),qe===null?$e=It:qe.sibling=It,qe=It);return s&&Ke.forEach(function(Zk){return o(G,Zk)}),Ut&&Yo(G,Xe),$e}function Yt(G,z,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Z:e:{for(var $e=Q.key,qe=z;qe!==null;){if(qe.key===$e){if($e=Q.type,$e===S){if(qe.tag===7){u(G,qe.sibling),z=m(qe,Q.props.children),z.return=G,G=z;break e}}else if(qe.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===He&&uw($e)===qe.type){u(G,qe.sibling),z=m(qe,Q.props),z.ref=Ou(G,qe,Q),z.return=G,G=z;break e}u(G,qe);break}else o(G,qe);qe=qe.sibling}Q.type===S?(z=ia(Q.props.children,G.mode,he,Q.key),z.return=G,G=z):(he=lf(Q.type,Q.key,Q.props,null,G.mode,he),he.ref=Ou(G,z,Q),he.return=G,G=he)}return C(G);case J:e:{for(qe=Q.key;z!==null;){if(z.key===qe)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){u(G,z.sibling),z=m(z,Q.children||[]),z.return=G,G=z;break e}else{u(G,z);break}else o(G,z);z=z.sibling}z=Vm(Q,G.mode,he),z.return=G,G=z}return C(G);case He:return qe=Q._init,Yt(G,z,qe(Q._payload),he)}if(Bt(Q))return Me(G,z,Q,he);if(me(Q))return Ve(G,z,Q,he);Vd(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(u(G,z.sibling),z=m(z,Q),z.return=G,G=z):(u(G,z),z=Mm(Q,G.mode,he),z.return=G,G=z),C(G)):u(G,z)}return Yt}var rl=cw(!0),dw=cw(!1),$d=Bs(null),Ud=null,il=null,qp=null;function Kp(){qp=il=Ud=null}function Gp(s){var o=$d.current;Mt($d),s._currentValue=o}function Qp(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function sl(s,o){Ud=s,qp=il=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(cr=!0),s.firstContext=null)}function jr(s){var o=s._currentValue;if(qp!==s)if(s={context:s,memoizedValue:o,next:null},il===null){if(Ud===null)throw Error(t(308));il=s,Ud.dependencies={lanes:0,firstContext:s}}else il=il.next=s;return o}var Xo=null;function Yp(s){Xo===null?Xo=[s]:Xo.push(s)}function fw(s,o,u,h){var m=o.interleaved;return m===null?(u.next=u,Yp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Ji(s,h)}function Ji(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ws=!1;function Xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Zi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function qs(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(wt&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Ji(s,u)}return m=h.interleaved,m===null?(o.next=o,Yp(h)):(o.next=m.next,m.next=o),h.interleaved=o,Ji(s,u)}function jd(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ls(s,u)}}function pw(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=C:v=v.next=C,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Fd(s,o,u,h){var m=s.updateQueue;Ws=!1;var v=m.firstBaseUpdate,C=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,X=j.next;j.next=null,C===null?v=X:C.next=X,C=j;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,M=ce.lastBaseUpdate,M!==C&&(M===null?ce.firstBaseUpdate=X:M.next=X,ce.lastBaseUpdate=j))}if(v!==null){var fe=m.baseState;C=0,ce=X=j=null,M=v;do{var le=M.lane,Ce=M.eventTime;if((h&le)===le){ce!==null&&(ce=ce.next={eventTime:Ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Me=s,Ve=M;switch(le=o,Ce=u,Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){fe=Me.call(Ce,fe,le);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,le=typeof Me=="function"?Me.call(Ce,fe,le):Me,le==null)break e;fe=ue({},fe,le);break e;case 2:Ws=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,le=m.effects,le===null?m.effects=[M]:le.push(M))}else Ce={eventTime:Ce,lane:le,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ce===null?(X=ce=Ce,j=fe):ce=ce.next=Ce,C|=le;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;le=M,M=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);if(ce===null&&(j=fe),m.baseState=j,m.firstBaseUpdate=X,m.lastBaseUpdate=ce,o=m.shared.interleaved,o!==null){m=o;do C|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);ea|=C,s.lanes=C,s.memoizedState=fe}}function mw(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var xu={},bi=Bs(xu),Lu=Bs(xu),Mu=Bs(xu);function Jo(s){if(s===xu)throw Error(t(174));return s}function Jp(s,o){switch(xt(Mu,o),xt(Lu,s),xt(bi,xu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=mt(o,s)}Mt(bi),xt(bi,o)}function ol(){Mt(bi),Mt(Lu),Mt(Mu)}function gw(s){Jo(Mu.current);var o=Jo(bi.current),u=mt(o,s.type);o!==u&&(xt(Lu,s),xt(bi,u))}function Zp(s){Lu.current===s&&(Mt(bi),Mt(Lu))}var zt=Bs(0);function Bd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var em=[];function tm(){for(var s=0;s<em.length;s++)em[s]._workInProgressVersionPrimary=null;em.length=0}var Hd=W.ReactCurrentDispatcher,nm=W.ReactCurrentBatchConfig,Zo=0,Wt=null,ln=null,_n=null,zd=!1,Vu=!1,$u=0,Ek=0;function Mn(){throw Error(t(321))}function rm(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ri(s[u],o[u]))return!1;return!0}function im(s,o,u,h,m,v){if(Zo=v,Wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Hd.current=s===null||s.memoizedState===null?Ck:Ak,s=u(h,m),Vu){v=0;do{if(Vu=!1,$u=0,25<=v)throw Error(t(301));v+=1,_n=ln=null,o.updateQueue=null,Hd.current=Rk,s=u(h,m)}while(Vu)}if(Hd.current=Kd,o=ln!==null&&ln.next!==null,Zo=0,_n=ln=Wt=null,zd=!1,o)throw Error(t(300));return s}function sm(){var s=$u!==0;return $u=0,s}function Ni(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Wt.memoizedState=_n=s:_n=_n.next=s,_n}function Fr(){if(ln===null){var s=Wt.alternate;s=s!==null?s.memoizedState:null}else s=ln.next;var o=_n===null?Wt.memoizedState:_n.next;if(o!==null)_n=o,ln=s;else{if(s===null)throw Error(t(310));ln=s,s={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},_n===null?Wt.memoizedState=_n=s:_n=_n.next=s}return _n}function Uu(s,o){return typeof o=="function"?o(s):o}function om(s){var o=Fr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=ln,m=h.baseQueue,v=u.pending;if(v!==null){if(m!==null){var C=m.next;m.next=v.next,v.next=C}h.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,h=h.baseState;var M=C=null,j=null,X=v;do{var ce=X.lane;if((Zo&ce)===ce)j!==null&&(j=j.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:s(h,X.action);else{var fe={lane:ce,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};j===null?(M=j=fe,C=h):j=j.next=fe,Wt.lanes|=ce,ea|=ce}X=X.next}while(X!==null&&X!==v);j===null?C=h:j.next=M,ri(h,o.memoizedState)||(cr=!0),o.memoizedState=h,o.baseState=C,o.baseQueue=j,u.lastRenderedState=h}if(s=u.interleaved,s!==null){m=s;do v=m.lane,Wt.lanes|=v,ea|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function am(s){var o=Fr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var C=m=m.next;do v=s(v,C.action),C=C.next;while(C!==m);ri(v,o.memoizedState)||(cr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function yw(){}function vw(s,o){var u=Wt,h=Fr(),m=o(),v=!ri(h.memoizedState,m);if(v&&(h.memoizedState=m,cr=!0),h=h.queue,lm(Ew.bind(null,u,h,s),[s]),h.getSnapshot!==o||v||_n!==null&&_n.memoizedState.tag&1){if(u.flags|=2048,ju(9,ww.bind(null,u,h,m,o),void 0,null),wn===null)throw Error(t(349));(Zo&30)!==0||_w(u,o,m)}return m}function _w(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function ww(s,o,u,h){o.value=u,o.getSnapshot=h,Tw(o)&&Iw(s)}function Ew(s,o,u){return u(function(){Tw(o)&&Iw(s)})}function Tw(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ri(s,u)}catch{return!0}}function Iw(s){var o=Ji(s,1);o!==null&&li(o,s,1,-1)}function Sw(s){var o=Ni();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:s},o.queue=s,s=s.dispatch=Sk.bind(null,Wt,s),[o.memoizedState,s]}function ju(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function Cw(){return Fr().memoizedState}function Wd(s,o,u,h){var m=Ni();Wt.flags|=s,m.memoizedState=ju(1|o,u,void 0,h===void 0?null:h)}function qd(s,o,u,h){var m=Fr();h=h===void 0?null:h;var v=void 0;if(ln!==null){var C=ln.memoizedState;if(v=C.destroy,h!==null&&rm(h,C.deps)){m.memoizedState=ju(o,u,v,h);return}}Wt.flags|=s,m.memoizedState=ju(1|o,u,v,h)}function Aw(s,o){return Wd(8390656,8,s,o)}function lm(s,o){return qd(2048,8,s,o)}function Rw(s,o){return qd(4,2,s,o)}function bw(s,o){return qd(4,4,s,o)}function Nw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function kw(s,o,u){return u=u!=null?u.concat([s]):null,qd(4,4,Nw.bind(null,o,s),u)}function um(){}function Pw(s,o){var u=Fr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&rm(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function Dw(s,o){var u=Fr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&rm(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function Ow(s,o,u){return(Zo&21)===0?(s.baseState&&(s.baseState=!1,cr=!0),s.memoizedState=u):(ri(u,o)||(u=Bo(),Wt.lanes|=u,ea|=u,s.baseState=!0),o)}function Tk(s,o){var u=gt;gt=u!==0&&4>u?u:4,s(!0);var h=nm.transition;nm.transition={};try{s(!1),o()}finally{gt=u,nm.transition=h}}function xw(){return Fr().memoizedState}function Ik(s,o,u){var h=Ys(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Lw(s))Mw(o,u);else if(u=fw(s,o,u,h),u!==null){var m=Yn();li(u,s,h,m),Vw(u,o,h)}}function Sk(s,o,u){var h=Ys(s),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lw(s))Mw(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var C=o.lastRenderedState,M=v(C,u);if(m.hasEagerState=!0,m.eagerState=M,ri(M,C)){var j=o.interleaved;j===null?(m.next=m,Yp(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=fw(s,o,m,h),u!==null&&(m=Yn(),li(u,s,h,m),Vw(u,o,h))}}function Lw(s){var o=s.alternate;return s===Wt||o!==null&&o===Wt}function Mw(s,o){Vu=zd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Vw(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ls(s,u)}}var Kd={readContext:jr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},Ck={readContext:jr,useCallback:function(s,o){return Ni().memoizedState=[s,o===void 0?null:o],s},useContext:jr,useEffect:Aw,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Wd(4194308,4,Nw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Wd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Wd(4,2,s,o)},useMemo:function(s,o){var u=Ni();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Ni();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=Ik.bind(null,Wt,s),[h.memoizedState,s]},useRef:function(s){var o=Ni();return s={current:s},o.memoizedState=s},useState:Sw,useDebugValue:um,useDeferredValue:function(s){return Ni().memoizedState=s},useTransition:function(){var s=Sw(!1),o=s[0];return s=Tk.bind(null,s[1]),Ni().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=Wt,m=Ni();if(Ut){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),wn===null)throw Error(t(349));(Zo&30)!==0||_w(h,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Aw(Ew.bind(null,h,v,s),[s]),h.flags|=2048,ju(9,ww.bind(null,h,v,u,o),void 0,null),u},useId:function(){var s=Ni(),o=wn.identifierPrefix;if(Ut){var u=Xi,h=Yi;u=(h&~(1<<32-ft(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=$u++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Ek++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Ak={readContext:jr,useCallback:Pw,useContext:jr,useEffect:lm,useImperativeHandle:kw,useInsertionEffect:Rw,useLayoutEffect:bw,useMemo:Dw,useReducer:om,useRef:Cw,useState:function(){return om(Uu)},useDebugValue:um,useDeferredValue:function(s){var o=Fr();return Ow(o,ln.memoizedState,s)},useTransition:function(){var s=om(Uu)[0],o=Fr().memoizedState;return[s,o]},useMutableSource:yw,useSyncExternalStore:vw,useId:xw,unstable_isNewReconciler:!1},Rk={readContext:jr,useCallback:Pw,useContext:jr,useEffect:lm,useImperativeHandle:kw,useInsertionEffect:Rw,useLayoutEffect:bw,useMemo:Dw,useReducer:am,useRef:Cw,useState:function(){return am(Uu)},useDebugValue:um,useDeferredValue:function(s){var o=Fr();return ln===null?o.memoizedState=s:Ow(o,ln.memoizedState,s)},useTransition:function(){var s=am(Uu)[0],o=Fr().memoizedState;return[s,o]},useMutableSource:yw,useSyncExternalStore:vw,useId:xw,unstable_isNewReconciler:!1};function si(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function cm(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:ue({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Gd={isMounted:function(s){return(s=s._reactInternals)?De(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Yn(),m=Ys(s),v=Zi(h,m);v.payload=o,u!=null&&(v.callback=u),o=qs(s,v,m),o!==null&&(li(o,s,m,h),jd(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Yn(),m=Ys(s),v=Zi(h,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=qs(s,v,m),o!==null&&(li(o,s,m,h),jd(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Yn(),h=Ys(s),m=Zi(u,h);m.tag=2,o!=null&&(m.callback=o),o=qs(s,m,h),o!==null&&(li(o,s,h,u),jd(o,s,h))}};function $w(s,o,u,h,m,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,C):o.prototype&&o.prototype.isPureReactComponent?!Au(u,h)||!Au(m,v):!0}function Uw(s,o,u){var h=!1,m=Hs,v=o.contextType;return typeof v=="object"&&v!==null?v=jr(v):(m=ur(o)?Go:Ln.current,h=o.contextTypes,v=(h=h!=null)?Za(s,m):Hs),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function jw(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Gd.enqueueReplaceState(o,o.state,null)}function dm(s,o,u,h){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Xp(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=jr(v):(v=ur(o)?Go:Ln.current,m.context=Za(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(cm(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Gd.enqueueReplaceState(m,m.state,null),Fd(s,u,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function al(s,o){try{var u="",h=o;do u+=Ie(h),h=h.return;while(h);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function fm(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function hm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var bk=typeof WeakMap=="function"?WeakMap:Map;function Fw(s,o,u){u=Zi(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){tf||(tf=!0,bm=h),hm(s,o)},u}function Bw(s,o,u){u=Zi(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){hm(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){hm(s,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),u}function Hw(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new bk;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),s=Bk.bind(null,s,o,u),o.then(s,s))}function zw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Ww(s,o,u,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Zi(-1,1),o.tag=2,qs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var Nk=W.ReactCurrentOwner,cr=!1;function Qn(s,o,u,h){o.child=s===null?dw(o,null,u,h):rl(o,s.child,u,h)}function qw(s,o,u,h,m){u=u.render;var v=o.ref;return sl(o,m),h=im(s,o,u,h,v,m),u=sm(),s!==null&&!cr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,es(s,o,m)):(Ut&&u&&Fp(o),o.flags|=1,Qn(s,o,h,m),o.child)}function Kw(s,o,u,h,m){if(s===null){var v=u.type;return typeof v=="function"&&!Lm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Gw(s,o,v,h,m)):(s=lf(u.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var C=v.memoizedProps;if(u=u.compare,u=u!==null?u:Au,u(C,h)&&s.ref===o.ref)return es(s,o,m)}return o.flags|=1,s=Js(v,h),s.ref=o.ref,s.return=o,o.child=s}function Gw(s,o,u,h,m){if(s!==null){var v=s.memoizedProps;if(Au(v,h)&&s.ref===o.ref)if(cr=!1,o.pendingProps=h=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(cr=!0);else return o.lanes=s.lanes,es(s,o,m)}return pm(s,o,u,h,m)}function Qw(s,o,u){var h=o.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ul,Ar),Ar|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,xt(ul,Ar),Ar|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,xt(ul,Ar),Ar|=h}else v!==null?(h=v.baseLanes|u,o.memoizedState=null):h=u,xt(ul,Ar),Ar|=h;return Qn(s,o,m,u),o.child}function Yw(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function pm(s,o,u,h,m){var v=ur(u)?Go:Ln.current;return v=Za(o,v),sl(o,m),u=im(s,o,u,h,v,m),h=sm(),s!==null&&!cr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,es(s,o,m)):(Ut&&h&&Fp(o),o.flags|=1,Qn(s,o,u,m),o.child)}function Xw(s,o,u,h,m){if(ur(u)){var v=!0;Dd(o)}else v=!1;if(sl(o,m),o.stateNode===null)Yd(s,o),Uw(o,u,h),dm(o,u,h,m),h=!0;else if(s===null){var C=o.stateNode,M=o.memoizedProps;C.props=M;var j=C.context,X=u.contextType;typeof X=="object"&&X!==null?X=jr(X):(X=ur(u)?Go:Ln.current,X=Za(o,X));var ce=u.getDerivedStateFromProps,fe=typeof ce=="function"||typeof C.getSnapshotBeforeUpdate=="function";fe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==h||j!==X)&&jw(o,C,h,X),Ws=!1;var le=o.memoizedState;C.state=le,Fd(o,h,C,m),j=o.memoizedState,M!==h||le!==j||lr.current||Ws?(typeof ce=="function"&&(cm(o,u,ce,h),j=o.memoizedState),(M=Ws||$w(o,u,M,h,le,j,X))?(fe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=j),C.props=h,C.state=j,C.context=X,h=M):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{C=o.stateNode,hw(s,o),M=o.memoizedProps,X=o.type===o.elementType?M:si(o.type,M),C.props=X,fe=o.pendingProps,le=C.context,j=u.contextType,typeof j=="object"&&j!==null?j=jr(j):(j=ur(u)?Go:Ln.current,j=Za(o,j));var Ce=u.getDerivedStateFromProps;(ce=typeof Ce=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==fe||le!==j)&&jw(o,C,h,j),Ws=!1,le=o.memoizedState,C.state=le,Fd(o,h,C,m);var Me=o.memoizedState;M!==fe||le!==Me||lr.current||Ws?(typeof Ce=="function"&&(cm(o,u,Ce,h),Me=o.memoizedState),(X=Ws||$w(o,u,X,h,le,Me,j)||!1)?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(h,Me,j),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(h,Me,j)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Me),C.props=h,C.state=Me,C.context=j,h=X):(typeof C.componentDidUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),h=!1)}return mm(s,o,u,h,v,m)}function mm(s,o,u,h,m,v){Yw(s,o);var C=(o.flags&128)!==0;if(!h&&!C)return m&&nw(o,u,!1),es(s,o,v);h=o.stateNode,Nk.current=o;var M=C&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&C?(o.child=rl(o,s.child,null,v),o.child=rl(o,null,M,v)):Qn(s,o,M,v),o.memoizedState=h.state,m&&nw(o,u,!0),o.child}function Jw(s){var o=s.stateNode;o.pendingContext?ew(s,o.pendingContext,o.pendingContext!==o.context):o.context&&ew(s,o.context,!1),Jp(s,o.containerInfo)}function Zw(s,o,u,h,m){return nl(),Wp(m),o.flags|=256,Qn(s,o,u,h),o.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(s){return{baseLanes:s,cachePool:null,transitions:null}}function eE(s,o,u){var h=o.pendingProps,m=zt.current,v=!1,C=(o.flags&128)!==0,M;if((M=C)||(M=s!==null&&s.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),xt(zt,m&1),s===null)return zp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=h.children,s=h.fallback,v?(h=o.mode,v=o.child,C={mode:"hidden",children:C},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=C):v=uf(C,h,0,null),s=ia(s,h,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=ym(u),o.memoizedState=gm,s):vm(o,C));if(m=s.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return kk(s,o,C,h,M,m,u);if(v){v=h.fallback,C=o.mode,m=s.child,M=m.sibling;var j={mode:"hidden",children:h.children};return(C&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=j,o.deletions=null):(h=Js(m,j),h.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=Js(M,v):(v=ia(v,C,u,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,C=s.child.memoizedState,C=C===null?ym(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},v.memoizedState=C,v.childLanes=s.childLanes&~u,o.memoizedState=gm,h}return v=s.child,s=v.sibling,h=Js(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function vm(s,o){return o=uf({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Qd(s,o,u,h){return h!==null&&Wp(h),rl(o,s.child,null,u),s=vm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function kk(s,o,u,h,m,v,C){if(u)return o.flags&256?(o.flags&=-257,h=fm(Error(t(422))),Qd(s,o,C,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=uf({mode:"visible",children:h.children},m,0,null),v=ia(v,m,C,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&rl(o,s.child,null,C),o.child.memoizedState=ym(C),o.memoizedState=gm,v);if((o.mode&1)===0)return Qd(s,o,C,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(t(419)),h=fm(v,h,void 0),Qd(s,o,C,h)}if(M=(C&s.childLanes)!==0,cr||M){if(h=wn,h!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|C))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Ji(s,m),li(h,s,m,-1))}return xm(),h=fm(Error(t(421))),Qd(s,o,C,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=Hk.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,Cr=Fs(m.nextSibling),Sr=o,Ut=!0,ii=null,s!==null&&($r[Ur++]=Yi,$r[Ur++]=Xi,$r[Ur++]=Qo,Yi=s.id,Xi=s.overflow,Qo=o),o=vm(o,h.children),o.flags|=4096,o)}function tE(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Qp(s.return,o,u)}function _m(s,o,u,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=m)}function nE(s,o,u){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(Qn(s,o,h.children,u),h=zt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tE(s,u,o);else if(s.tag===19)tE(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(xt(zt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Bd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),_m(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Bd(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}_m(o,!0,u,null,v);break;case"together":_m(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function es(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),ea|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=Js(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Js(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Pk(s,o,u){switch(o.tag){case 3:Jw(o),nl();break;case 5:gw(o);break;case 1:ur(o.type)&&Dd(o);break;case 4:Jp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;xt($d,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(xt(zt,zt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?eE(s,o,u):(xt(zt,zt.current&1),s=es(s,o,u),s!==null?s.sibling:null);xt(zt,zt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return nE(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(zt,zt.current),h)break;return null;case 22:case 23:return o.lanes=0,Qw(s,o,u)}return es(s,o,u)}var rE,wm,iE,sE;rE=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},wm=function(){},iE=function(s,o,u,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,Jo(bi.current);var v=null;switch(u){case"input":m=Kt(s,m),h=Kt(s,h),v=[];break;case"select":m=ue({},m,{value:void 0}),h=ue({},h,{value:void 0}),v=[];break;case"textarea":m=nr(s,m),h=nr(s,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Nd)}mi(u,h);var C;u=null;for(X in m)if(!h.hasOwnProperty(X)&&m.hasOwnProperty(X)&&m[X]!=null)if(X==="style"){var M=m[X];for(C in M)M.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?v||(v=[]):(v=v||[]).push(X,null));for(X in h){var j=h[X];if(M=m!=null?m[X]:void 0,h.hasOwnProperty(X)&&j!==M&&(j!=null||M!=null))if(X==="style")if(M){for(C in M)!M.hasOwnProperty(C)||j&&j.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in j)j.hasOwnProperty(C)&&M[C]!==j[C]&&(u||(u={}),u[C]=j[C])}else u||(v||(v=[]),v.push(X,u)),u=j;else X==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(v=v||[]).push(X,j)):X==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(X,""+j):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(j!=null&&X==="onScroll"&&Lt("scroll",s),v||M===j||(v=[])):(v=v||[]).push(X,j))}u&&(v=v||[]).push("style",u);var X=v;(o.updateQueue=X)&&(o.flags|=4)}},sE=function(s,o,u,h){u!==h&&(o.flags|=4)};function Fu(s,o){if(!Ut)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Vn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function Dk(s,o,u){var h=o.pendingProps;switch(Bp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(o),null;case 1:return ur(o.type)&&Pd(),Vn(o),null;case 3:return h=o.stateNode,ol(),Mt(lr),Mt(Ln),tm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Md(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ii!==null&&(Pm(ii),ii=null))),wm(s,o),Vn(o),null;case 5:Zp(o);var m=Jo(Mu.current);if(u=o.type,s!==null&&o.stateNode!=null)iE(s,o,u,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Vn(o),null}if(s=Jo(bi.current),Md(o)){h=o.stateNode,u=o.type;var v=o.memoizedProps;switch(h[Ri]=o,h[Pu]=v,s=(o.mode&1)!==0,u){case"dialog":Lt("cancel",h),Lt("close",h);break;case"iframe":case"object":case"embed":Lt("load",h);break;case"video":case"audio":for(m=0;m<bu.length;m++)Lt(bu[m],h);break;case"source":Lt("error",h);break;case"img":case"image":case"link":Lt("error",h),Lt("load",h);break;case"details":Lt("toggle",h);break;case"input":rt(h,v),Lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Lt("invalid",h);break;case"textarea":Dn(h,v),Lt("invalid",h)}mi(u,v),m=null;for(var C in v)if(v.hasOwnProperty(C)){var M=v[C];C==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&bd(h.textContent,M,s),m=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&bd(h.textContent,M,s),m=["children",""+M]):i.hasOwnProperty(C)&&M!=null&&C==="onScroll"&&Lt("scroll",h)}switch(u){case"input":St(h),Or(h,v,!0);break;case"textarea":St(h),on(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Nd)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ue(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=C.createElement(u,{is:h.is}):(s=C.createElement(u),u==="select"&&(C=s,h.multiple?C.multiple=!0:h.size&&(C.size=h.size))):s=C.createElementNS(s,u),s[Ri]=o,s[Pu]=h,rE(s,o,!1,!1),o.stateNode=s;e:{switch(C=Vo(u,h),u){case"dialog":Lt("cancel",s),Lt("close",s),m=h;break;case"iframe":case"object":case"embed":Lt("load",s),m=h;break;case"video":case"audio":for(m=0;m<bu.length;m++)Lt(bu[m],s);m=h;break;case"source":Lt("error",s),m=h;break;case"img":case"image":case"link":Lt("error",s),Lt("load",s),m=h;break;case"details":Lt("toggle",s),m=h;break;case"input":rt(s,h),m=Kt(s,h),Lt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=ue({},h,{value:void 0}),Lt("invalid",s);break;case"textarea":Dn(s,h),m=nr(s,h),Lt("invalid",s);break;default:m=h}mi(u,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var j=M[v];v==="style"?yn(s,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&gn(s,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&qn(s,j):typeof j=="number"&&qn(s,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Lt("scroll",s):j!=null&&H(s,v,j,C))}switch(u){case"input":St(s),Or(s,h,!1);break;case"textarea":St(s),on(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Fe(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?Jt(s,!!h.multiple,v,!1):h.defaultValue!=null&&Jt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Nd)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vn(o),null;case 6:if(s&&o.stateNode!=null)sE(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=Jo(Mu.current),Jo(bi.current),Md(o)){if(h=o.stateNode,u=o.memoizedProps,h[Ri]=o,(v=h.nodeValue!==u)&&(s=Sr,s!==null))switch(s.tag){case 3:bd(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&bd(h.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Ri]=o,o.stateNode=h}return Vn(o),null;case 13:if(Mt(zt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ut&&Cr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)lw(),nl(),o.flags|=98560,v=!1;else if(v=Md(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Ri]=o}else nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vn(o),v=!1}else ii!==null&&(Pm(ii),ii=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(zt.current&1)!==0?un===0&&(un=3):xm())),o.updateQueue!==null&&(o.flags|=4),Vn(o),null);case 4:return ol(),wm(s,o),s===null&&Nu(o.stateNode.containerInfo),Vn(o),null;case 10:return Gp(o.type._context),Vn(o),null;case 17:return ur(o.type)&&Pd(),Vn(o),null;case 19:if(Mt(zt),v=o.memoizedState,v===null)return Vn(o),null;if(h=(o.flags&128)!==0,C=v.rendering,C===null)if(h)Fu(v,!1);else{if(un!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=Bd(s),C!==null){for(o.flags|=128,Fu(v,!1),h=C.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)v=u,s=h,v.flags&=14680066,C=v.alternate,C===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,s=C.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return xt(zt,zt.current&1|2),o.child}s=s.sibling}v.tail!==null&&ct()>cl&&(o.flags|=128,h=!0,Fu(v,!1),o.lanes=4194304)}else{if(!h)if(s=Bd(C),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Fu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Ut)return Vn(o),null}else 2*ct()-v.renderingStartTime>cl&&u!==1073741824&&(o.flags|=128,h=!0,Fu(v,!1),o.lanes=4194304);v.isBackwards?(C.sibling=o.child,o.child=C):(u=v.last,u!==null?u.sibling=C:o.child=C,v.last=C)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=zt.current,xt(zt,h?u&1|2:u&1),o):(Vn(o),null);case 22:case 23:return Om(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Ar&1073741824)!==0&&(Vn(o),o.subtreeFlags&6&&(o.flags|=8192)):Vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Ok(s,o){switch(Bp(o),o.tag){case 1:return ur(o.type)&&Pd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ol(),Mt(lr),Mt(Ln),tm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Zp(o),null;case 13:if(Mt(zt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));nl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Mt(zt),null;case 4:return ol(),null;case 10:return Gp(o.type._context),null;case 22:case 23:return Om(),null;case 24:return null;default:return null}}var Xd=!1,$n=!1,xk=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ll(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Qt(s,o,h)}else u.current=null}function Em(s,o,u){try{u()}catch(h){Qt(s,o,h)}}var oE=!1;function Lk(s,o){if(Op=$s,s=$_(),Cp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var C=0,M=-1,j=-1,X=0,ce=0,fe=s,le=null;t:for(;;){for(var Ce;fe!==u||m!==0&&fe.nodeType!==3||(M=C+m),fe!==v||h!==0&&fe.nodeType!==3||(j=C+h),fe.nodeType===3&&(C+=fe.nodeValue.length),(Ce=fe.firstChild)!==null;)le=fe,fe=Ce;for(;;){if(fe===s)break t;if(le===u&&++X===m&&(M=C),le===v&&++ce===h&&(j=C),(Ce=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=Ce}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(xp={focusedElem:s,selectionRange:u},$s=!1,Oe=o;Oe!==null;)if(o=Oe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Oe=s;else for(;Oe!==null;){o=Oe;try{var Me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ve=Me.memoizedProps,Yt=Me.memoizedState,G=o.stateNode,z=G.getSnapshotBeforeUpdate(o.elementType===o.type?Ve:si(o.type,Ve),Yt);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Qt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Oe=s;break}Oe=o.return}return Me=oE,oE=!1,Me}function Bu(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Em(o,u,v)}m=m.next}while(m!==h)}}function Jd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Tm(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function aE(s){var o=s.alternate;o!==null&&(s.alternate=null,aE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ri],delete o[Pu],delete o[$p],delete o[yk],delete o[vk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function lE(s){return s.tag===5||s.tag===3||s.tag===4}function uE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Im(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Nd));else if(h!==4&&(s=s.child,s!==null))for(Im(s,o,u),s=s.sibling;s!==null;)Im(s,o,u),s=s.sibling}function Sm(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Sm(s,o,u),s=s.sibling;s!==null;)Sm(s,o,u),s=s.sibling}var An=null,oi=!1;function Ks(s,o,u){for(u=u.child;u!==null;)cE(s,o,u),u=u.sibling}function cE(s,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 5:$n||ll(u,o);case 6:var h=An,m=oi;An=null,Ks(s,o,u),An=h,oi=m,An!==null&&(oi?(s=An,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):An.removeChild(u.stateNode));break;case 18:An!==null&&(oi?(s=An,u=u.stateNode,s.nodeType===8?Vp(s.parentNode,u):s.nodeType===1&&Vp(s,u),ti(s)):Vp(An,u.stateNode));break;case 4:h=An,m=oi,An=u.stateNode.containerInfo,oi=!0,Ks(s,o,u),An=h,oi=m;break;case 0:case 11:case 14:case 15:if(!$n&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,C=v.destroy;v=v.tag,C!==void 0&&((v&2)!==0||(v&4)!==0)&&Em(u,o,C),m=m.next}while(m!==h)}Ks(s,o,u);break;case 1:if(!$n&&(ll(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(M){Qt(u,o,M)}Ks(s,o,u);break;case 21:Ks(s,o,u);break;case 22:u.mode&1?($n=(h=$n)||u.memoizedState!==null,Ks(s,o,u),$n=h):Ks(s,o,u);break;default:Ks(s,o,u)}}function dE(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new xk),o.forEach(function(h){var m=zk.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}}function ai(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var v=s,C=o,M=C;e:for(;M!==null;){switch(M.tag){case 5:An=M.stateNode,oi=!1;break e;case 3:An=M.stateNode.containerInfo,oi=!0;break e;case 4:An=M.stateNode.containerInfo,oi=!0;break e}M=M.return}if(An===null)throw Error(t(160));cE(v,C,m),An=null,oi=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(X){Qt(m,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)fE(o,s),o=o.sibling}function fE(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ai(o,s),ki(s),h&4){try{Bu(3,s,s.return),Jd(3,s)}catch(Ve){Qt(s,s.return,Ve)}try{Bu(5,s,s.return)}catch(Ve){Qt(s,s.return,Ve)}}break;case 1:ai(o,s),ki(s),h&512&&u!==null&&ll(u,u.return);break;case 5:if(ai(o,s),ki(s),h&512&&u!==null&&ll(u,u.return),s.flags&32){var m=s.stateNode;try{qn(m,"")}catch(Ve){Qt(s,s.return,Ve)}}if(h&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,C=u!==null?u.memoizedProps:v,M=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&Ft(m,v),Vo(M,C);var X=Vo(M,v);for(C=0;C<j.length;C+=2){var ce=j[C],fe=j[C+1];ce==="style"?yn(m,fe):ce==="dangerouslySetInnerHTML"?gn(m,fe):ce==="children"?qn(m,fe):H(m,ce,fe,X)}switch(M){case"input":mn(m,v);break;case"textarea":Dt(m,v);break;case"select":var le=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?Jt(m,!!v.multiple,Ce,!1):le!==!!v.multiple&&(v.defaultValue!=null?Jt(m,!!v.multiple,v.defaultValue,!0):Jt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Pu]=v}catch(Ve){Qt(s,s.return,Ve)}}break;case 6:if(ai(o,s),ki(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(Ve){Qt(s,s.return,Ve)}}break;case 3:if(ai(o,s),ki(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ti(o.containerInfo)}catch(Ve){Qt(s,s.return,Ve)}break;case 4:ai(o,s),ki(s);break;case 13:ai(o,s),ki(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Rm=ct())),h&4&&dE(s);break;case 22:if(ce=u!==null&&u.memoizedState!==null,s.mode&1?($n=(X=$n)||ce,ai(o,s),$n=X):ai(o,s),ki(s),h&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ce&&(s.mode&1)!==0)for(Oe=s,ce=s.child;ce!==null;){for(fe=Oe=ce;Oe!==null;){switch(le=Oe,Ce=le.child,le.tag){case 0:case 11:case 14:case 15:Bu(4,le,le.return);break;case 1:ll(le,le.return);var Me=le.stateNode;if(typeof Me.componentWillUnmount=="function"){h=le,u=le.return;try{o=h,Me.props=o.memoizedProps,Me.state=o.memoizedState,Me.componentWillUnmount()}catch(Ve){Qt(h,u,Ve)}}break;case 5:ll(le,le.return);break;case 22:if(le.memoizedState!==null){mE(fe);continue}}Ce!==null?(Ce.return=le,Oe=Ce):mE(fe)}ce=ce.sibling}e:for(ce=null,fe=s;;){if(fe.tag===5){if(ce===null){ce=fe;try{m=fe.stateNode,X?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=fe.stateNode,j=fe.memoizedProps.style,C=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=ot("display",C))}catch(Ve){Qt(s,s.return,Ve)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=X?"":fe.memoizedProps}catch(Ve){Qt(s,s.return,Ve)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:ai(o,s),ki(s),h&4&&dE(s);break;case 21:break;default:ai(o,s),ki(s)}}function ki(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(lE(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(qn(m,""),h.flags&=-33);var v=uE(s);Sm(s,v,m);break;case 3:case 4:var C=h.stateNode.containerInfo,M=uE(s);Im(s,M,C);break;default:throw Error(t(161))}}catch(j){Qt(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Mk(s,o,u){Oe=s,hE(s)}function hE(s,o,u){for(var h=(s.mode&1)!==0;Oe!==null;){var m=Oe,v=m.child;if(m.tag===22&&h){var C=m.memoizedState!==null||Xd;if(!C){var M=m.alternate,j=M!==null&&M.memoizedState!==null||$n;M=Xd;var X=$n;if(Xd=C,($n=j)&&!X)for(Oe=m;Oe!==null;)C=Oe,j=C.child,C.tag===22&&C.memoizedState!==null?gE(m):j!==null?(j.return=C,Oe=j):gE(m);for(;v!==null;)Oe=v,hE(v),v=v.sibling;Oe=m,Xd=M,$n=X}pE(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Oe=v):pE(s)}}function pE(s){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:$n||Jd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!$n)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:si(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&mw(o,v,h);break;case 3:var C=o.updateQueue;if(C!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}mw(o,C,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ce=X.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&ti(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$n||o.flags&512&&Tm(o)}catch(le){Qt(o,o.return,le)}}if(o===s){Oe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function mE(s){for(;Oe!==null;){var o=Oe;if(o===s){Oe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function gE(s){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Jd(4,o)}catch(j){Qt(o,u,j)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(j){Qt(o,m,j)}}var v=o.return;try{Tm(o)}catch(j){Qt(o,v,j)}break;case 5:var C=o.return;try{Tm(o)}catch(j){Qt(o,C,j)}}}catch(j){Qt(o,o.return,j)}if(o===s){Oe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Oe=M;break}Oe=o.return}}var Vk=Math.ceil,Zd=W.ReactCurrentDispatcher,Cm=W.ReactCurrentOwner,Br=W.ReactCurrentBatchConfig,wt=0,wn=null,tn=null,Rn=0,Ar=0,ul=Bs(0),un=0,Hu=null,ea=0,ef=0,Am=0,zu=null,dr=null,Rm=0,cl=1/0,ts=null,tf=!1,bm=null,Gs=null,nf=!1,Qs=null,rf=0,Wu=0,Nm=null,sf=-1,of=0;function Yn(){return(wt&6)!==0?ct():sf!==-1?sf:sf=ct()}function Ys(s){return(s.mode&1)===0?1:(wt&2)!==0&&Rn!==0?Rn&-Rn:wk.transition!==null?(of===0&&(of=Bo()),of):(s=gt,s!==0||(s=window.event,s=s===void 0?16:_u(s.type)),s)}function li(s,o,u,h){if(50<Wu)throw Wu=0,Nm=null,Error(t(185));xs(s,u,h),((wt&2)===0||s!==wn)&&(s===wn&&((wt&2)===0&&(ef|=u),un===4&&Xs(s,Rn)),fr(s,h),u===1&&wt===0&&(o.mode&1)===0&&(cl=ct()+500,Od&&zs()))}function fr(s,o){var u=s.callbackNode;Hi(s,o);var h=Fo(s,s===wn?Rn:0);if(h===0)u!==null&&xr(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&xr(u),o===1)s.tag===0?_k(vE.bind(null,s)):rw(vE.bind(null,s)),mk(function(){(wt&6)===0&&zs()}),u=null;else{switch(Ms(h)){case 1:u=wr;break;case 4:u=xn;break;case 16:u=In;break;case 536870912:u=dt;break;default:u=In}u=AE(u,yE.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function yE(s,o){if(sf=-1,of=0,(wt&6)!==0)throw Error(t(327));var u=s.callbackNode;if(dl()&&s.callbackNode!==u)return null;var h=Fo(s,s===wn?Rn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=af(s,h);else{o=h;var m=wt;wt|=2;var v=wE();(wn!==s||Rn!==o)&&(ts=null,cl=ct()+500,na(s,o));do try{jk();break}catch(M){_E(s,M)}while(!0);Kp(),Zd.current=v,wt=m,tn!==null?o=0:(wn=null,Rn=0,o=un)}if(o!==0){if(o===2&&(m=Er(s),m!==0&&(h=m,o=km(s,m))),o===1)throw u=Hu,na(s,0),Xs(s,h),fr(s,ct()),u;if(o===6)Xs(s,h);else{if(m=s.current.alternate,(h&30)===0&&!$k(m)&&(o=af(s,h),o===2&&(v=Er(s),v!==0&&(h=v,o=km(s,v))),o===1))throw u=Hu,na(s,0),Xs(s,h),fr(s,ct()),u;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:ra(s,dr,ts);break;case 3:if(Xs(s,h),(h&130023424)===h&&(o=Rm+500-ct(),10<o)){if(Fo(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Yn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Mp(ra.bind(null,s,dr,ts),o);break}ra(s,dr,ts);break;case 4:if(Xs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var C=31-ft(h);v=1<<C,C=o[C],C>m&&(m=C),h&=~v}if(h=m,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Vk(h/1960))-h,10<h){s.timeoutHandle=Mp(ra.bind(null,s,dr,ts),h);break}ra(s,dr,ts);break;case 5:ra(s,dr,ts);break;default:throw Error(t(329))}}}return fr(s,ct()),s.callbackNode===u?yE.bind(null,s):null}function km(s,o){var u=zu;return s.current.memoizedState.isDehydrated&&(na(s,o).flags|=256),s=af(s,o),s!==2&&(o=dr,dr=u,o!==null&&Pm(o)),s}function Pm(s){dr===null?dr=s:dr.push.apply(dr,s)}function $k(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],v=m.getSnapshot;m=m.value;try{if(!ri(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Xs(s,o){for(o&=~Am,o&=~ef,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ft(o),h=1<<u;s[u]=-1,o&=~h}}function vE(s){if((wt&6)!==0)throw Error(t(327));dl();var o=Fo(s,0);if((o&1)===0)return fr(s,ct()),null;var u=af(s,o);if(s.tag!==0&&u===2){var h=Er(s);h!==0&&(o=h,u=km(s,h))}if(u===1)throw u=Hu,na(s,0),Xs(s,o),fr(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ra(s,dr,ts),fr(s,ct()),null}function Dm(s,o){var u=wt;wt|=1;try{return s(o)}finally{wt=u,wt===0&&(cl=ct()+500,Od&&zs())}}function ta(s){Qs!==null&&Qs.tag===0&&(wt&6)===0&&dl();var o=wt;wt|=1;var u=Br.transition,h=gt;try{if(Br.transition=null,gt=1,s)return s()}finally{gt=h,Br.transition=u,wt=o,(wt&6)===0&&zs()}}function Om(){Ar=ul.current,Mt(ul)}function na(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,pk(u)),tn!==null)for(u=tn.return;u!==null;){var h=u;switch(Bp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Pd();break;case 3:ol(),Mt(lr),Mt(Ln),tm();break;case 5:Zp(h);break;case 4:ol();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Gp(h.type._context);break;case 22:case 23:Om()}u=u.return}if(wn=s,tn=s=Js(s.current,null),Rn=Ar=o,un=0,Hu=null,Am=ef=ea=0,dr=zu=null,Xo!==null){for(o=0;o<Xo.length;o++)if(u=Xo[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,v=u.pending;if(v!==null){var C=v.next;v.next=m,h.next=C}u.pending=h}Xo=null}return s}function _E(s,o){do{var u=tn;try{if(Kp(),Hd.current=Kd,zd){for(var h=Wt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}zd=!1}if(Zo=0,_n=ln=Wt=null,Vu=!1,$u=0,Cm.current=null,u===null||u.return===null){un=1,Hu=o,tn=null;break}e:{var v=s,C=u.return,M=u,j=o;if(o=Rn,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=j,ce=M,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Ce=zw(C);if(Ce!==null){Ce.flags&=-257,Ww(Ce,C,M,v,o),Ce.mode&1&&Hw(v,X,o),o=Ce,j=X;var Me=o.updateQueue;if(Me===null){var Ve=new Set;Ve.add(j),o.updateQueue=Ve}else Me.add(j);break e}else{if((o&1)===0){Hw(v,X,o),xm();break e}j=Error(t(426))}}else if(Ut&&M.mode&1){var Yt=zw(C);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Ww(Yt,C,M,v,o),Wp(al(j,M));break e}}v=j=al(j,M),un!==4&&(un=2),zu===null?zu=[v]:zu.push(v),v=C;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var G=Fw(v,j,o);pw(v,G);break e;case 1:M=j;var z=v.type,Q=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Gs===null||!Gs.has(Q)))){v.flags|=65536,o&=-o,v.lanes|=o;var he=Bw(v,M,o);pw(v,he);break e}}v=v.return}while(v!==null)}TE(u)}catch($e){o=$e,tn===u&&u!==null&&(tn=u=u.return);continue}break}while(!0)}function wE(){var s=Zd.current;return Zd.current=Kd,s===null?Kd:s}function xm(){(un===0||un===3||un===2)&&(un=4),wn===null||(ea&268435455)===0&&(ef&268435455)===0||Xs(wn,Rn)}function af(s,o){var u=wt;wt|=2;var h=wE();(wn!==s||Rn!==o)&&(ts=null,na(s,o));do try{Uk();break}catch(m){_E(s,m)}while(!0);if(Kp(),wt=u,Zd.current=h,tn!==null)throw Error(t(261));return wn=null,Rn=0,un}function Uk(){for(;tn!==null;)EE(tn)}function jk(){for(;tn!==null&&!_i();)EE(tn)}function EE(s){var o=CE(s.alternate,s,Ar);s.memoizedProps=s.pendingProps,o===null?TE(s):tn=o,Cm.current=null}function TE(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=Dk(u,o,Ar),u!==null){tn=u;return}}else{if(u=Ok(u,o),u!==null){u.flags&=32767,tn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{un=6,tn=null;return}}if(o=o.sibling,o!==null){tn=o;return}tn=o=s}while(o!==null);un===0&&(un=5)}function ra(s,o,u){var h=gt,m=Br.transition;try{Br.transition=null,gt=1,Fk(s,o,u,h)}finally{Br.transition=m,gt=h}return null}function Fk(s,o,u,h){do dl();while(Qs!==null);if((wt&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Pt(s,v),s===wn&&(tn=wn=null,Rn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||nf||(nf=!0,AE(In,function(){return dl(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Br.transition,Br.transition=null;var C=gt;gt=1;var M=wt;wt|=4,Cm.current=null,Lk(s,u),fE(u,s),ak(xp),$s=!!Op,xp=Op=null,s.current=u,Mk(u),_r(),wt=M,gt=C,Br.transition=v}else s.current=u;if(nf&&(nf=!1,Qs=s,rf=m),v=s.pendingLanes,v===0&&(Gs=null),Ei(u.stateNode),fr(s,ct()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(tf)throw tf=!1,s=bm,bm=null,s;return(rf&1)!==0&&s.tag!==0&&dl(),v=s.pendingLanes,(v&1)!==0?s===Nm?Wu++:(Wu=0,Nm=s):Wu=0,zs(),null}function dl(){if(Qs!==null){var s=Ms(rf),o=Br.transition,u=gt;try{if(Br.transition=null,gt=16>s?16:s,Qs===null)var h=!1;else{if(s=Qs,Qs=null,rf=0,(wt&6)!==0)throw Error(t(331));var m=wt;for(wt|=4,Oe=s.current;Oe!==null;){var v=Oe,C=v.child;if((Oe.flags&16)!==0){var M=v.deletions;if(M!==null){for(var j=0;j<M.length;j++){var X=M[j];for(Oe=X;Oe!==null;){var ce=Oe;switch(ce.tag){case 0:case 11:case 15:Bu(8,ce,v)}var fe=ce.child;if(fe!==null)fe.return=ce,Oe=fe;else for(;Oe!==null;){ce=Oe;var le=ce.sibling,Ce=ce.return;if(aE(ce),ce===X){Oe=null;break}if(le!==null){le.return=Ce,Oe=le;break}Oe=Ce}}}var Me=v.alternate;if(Me!==null){var Ve=Me.child;if(Ve!==null){Me.child=null;do{var Yt=Ve.sibling;Ve.sibling=null,Ve=Yt}while(Ve!==null)}}Oe=v}}if((v.subtreeFlags&2064)!==0&&C!==null)C.return=v,Oe=C;else e:for(;Oe!==null;){if(v=Oe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Bu(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,Oe=G;break e}Oe=v.return}}var z=s.current;for(Oe=z;Oe!==null;){C=Oe;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,Oe=Q;else e:for(C=z;Oe!==null;){if(M=Oe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Jd(9,M)}}catch($e){Qt(M,M.return,$e)}if(M===C){Oe=null;break e}var he=M.sibling;if(he!==null){he.return=M.return,Oe=he;break e}Oe=M.return}}if(wt=m,zs(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ct,s)}catch{}h=!0}return h}finally{gt=u,Br.transition=o}}return!1}function IE(s,o,u){o=al(u,o),o=Fw(s,o,1),s=qs(s,o,1),o=Yn(),s!==null&&(xs(s,1,o),fr(s,o))}function Qt(s,o,u){if(s.tag===3)IE(s,s,u);else for(;o!==null;){if(o.tag===3){IE(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gs===null||!Gs.has(h))){s=al(u,s),s=Bw(o,s,1),o=qs(o,s,1),s=Yn(),o!==null&&(xs(o,1,s),fr(o,s));break}}o=o.return}}function Bk(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=Yn(),s.pingedLanes|=s.suspendedLanes&u,wn===s&&(Rn&u)===u&&(un===4||un===3&&(Rn&130023424)===Rn&&500>ct()-Rm?na(s,0):Am|=u),fr(s,o)}function SE(s,o){o===0&&((s.mode&1)===0?o=1:(o=xa,xa<<=1,(xa&130023424)===0&&(xa=4194304)));var u=Yn();s=Ji(s,o),s!==null&&(xs(s,o,u),fr(s,u))}function Hk(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),SE(s,u)}function zk(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),SE(s,u)}var CE;CE=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||lr.current)cr=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return cr=!1,Pk(s,o,u);cr=(s.flags&131072)!==0}else cr=!1,Ut&&(o.flags&1048576)!==0&&iw(o,Ld,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Yd(s,o),s=o.pendingProps;var m=Za(o,Ln.current);sl(o,u),m=im(null,o,h,s,m,u);var v=sm();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ur(h)?(v=!0,Dd(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Xp(o),m.updater=Gd,o.stateNode=m,m._reactInternals=o,dm(o,h,s,u),o=mm(null,o,h,!0,v,u)):(o.tag=0,Ut&&v&&Fp(o),Qn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Yd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=qk(h),s=si(h,s),m){case 0:o=pm(null,o,h,s,u);break e;case 1:o=Xw(null,o,h,s,u);break e;case 11:o=qw(null,o,h,s,u);break e;case 14:o=Kw(null,o,h,si(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:si(h,m),pm(s,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:si(h,m),Xw(s,o,h,m,u);case 3:e:{if(Jw(o),s===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,m=v.element,hw(s,o),Fd(o,h,null,u);var C=o.memoizedState;if(h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=al(Error(t(423)),o),o=Zw(s,o,h,u,m);break e}else if(h!==m){m=al(Error(t(424)),o),o=Zw(s,o,h,u,m);break e}else for(Cr=Fs(o.stateNode.containerInfo.firstChild),Sr=o,Ut=!0,ii=null,u=dw(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(nl(),h===m){o=es(s,o,u);break e}Qn(s,o,h,u)}o=o.child}return o;case 5:return gw(o),s===null&&zp(o),h=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,C=m.children,Lp(h,m)?C=null:v!==null&&Lp(h,v)&&(o.flags|=32),Yw(s,o),Qn(s,o,C,u),o.child;case 6:return s===null&&zp(o),null;case 13:return eE(s,o,u);case 4:return Jp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=rl(o,null,h,u):Qn(s,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:si(h,m),qw(s,o,h,m,u);case 7:return Qn(s,o,o.pendingProps,u),o.child;case 8:return Qn(s,o,o.pendingProps.children,u),o.child;case 12:return Qn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,C=m.value,xt($d,h._currentValue),h._currentValue=C,v!==null)if(ri(v.value,C)){if(v.children===m.children&&!lr.current){o=es(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){C=v.child;for(var j=M.firstContext;j!==null;){if(j.context===h){if(v.tag===1){j=Zi(-1,u&-u),j.tag=2;var X=v.updateQueue;if(X!==null){X=X.shared;var ce=X.pending;ce===null?j.next=j:(j.next=ce.next,ce.next=j),X.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Qp(v.return,u,o),M.lanes|=u;break}j=j.next}}else if(v.tag===10)C=v.type===o.type?null:v.child;else if(v.tag===18){if(C=v.return,C===null)throw Error(t(341));C.lanes|=u,M=C.alternate,M!==null&&(M.lanes|=u),Qp(C,u,o),C=v.sibling}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===o){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}Qn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,sl(o,u),m=jr(m),h=h(m),o.flags|=1,Qn(s,o,h,u),o.child;case 14:return h=o.type,m=si(h,o.pendingProps),m=si(h.type,m),Kw(s,o,h,m,u);case 15:return Gw(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:si(h,m),Yd(s,o),o.tag=1,ur(h)?(s=!0,Dd(o)):s=!1,sl(o,u),Uw(o,h,m),dm(o,h,m,u),mm(null,o,h,!0,s,u);case 19:return nE(s,o,u);case 22:return Qw(s,o,u)}throw Error(t(156,o.tag))};function AE(s,o){return Rt(s,o)}function Wk(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(s,o,u,h){return new Wk(s,o,u,h)}function Lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qk(s){if(typeof s=="function")return Lm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Le)return 14}return 2}function Js(s,o){var u=s.alternate;return u===null?(u=Hr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function lf(s,o,u,h,m,v){var C=2;if(h=s,typeof s=="function")Lm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case S:return ia(u.children,m,v,o);case A:C=8,m|=8;break;case N:return s=Hr(12,u,o,m|2),s.elementType=N,s.lanes=v,s;case D:return s=Hr(13,u,o,m),s.elementType=D,s.lanes=v,s;case Ee:return s=Hr(19,u,o,m),s.elementType=Ee,s.lanes=v,s;case Ne:return uf(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:C=10;break e;case L:C=9;break e;case $:C=11;break e;case Le:C=14;break e;case He:C=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Hr(C,u,o,m),o.elementType=s,o.type=h,o.lanes=v,o}function ia(s,o,u,h){return s=Hr(7,s,h,o),s.lanes=u,s}function uf(s,o,u,h){return s=Hr(22,s,h,o),s.elementType=Ne,s.lanes=u,s.stateNode={isHidden:!1},s}function Mm(s,o,u){return s=Hr(6,s,null,o),s.lanes=u,s}function Vm(s,o,u){return o=Hr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Kk(s,o,u,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Os(0),this.expirationTimes=Os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function $m(s,o,u,h,m,v,C,M,j){return s=new Kk(s,o,u,M,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Hr(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(v),s}function Gk(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function RE(s){if(!s)return Hs;s=s._reactInternals;e:{if(De(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ur(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(ur(u))return tw(s,u,o)}return o}function bE(s,o,u,h,m,v,C,M,j){return s=$m(u,h,!0,s,m,v,C,M,j),s.context=RE(null),u=s.current,h=Yn(),m=Ys(u),v=Zi(h,m),v.callback=o??null,qs(u,v,m),s.current.lanes=m,xs(s,m,h),fr(s,h),s}function cf(s,o,u,h){var m=o.current,v=Yn(),C=Ys(m);return u=RE(u),o.context===null?o.context=u:o.pendingContext=u,o=Zi(v,C),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=qs(m,o,C),s!==null&&(li(s,m,C,v),jd(s,m,C)),C}function df(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function NE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Um(s,o){NE(s,o),(s=s.alternate)&&NE(s,o)}function Qk(){return null}var kE=typeof reportError=="function"?reportError:function(s){console.error(s)};function jm(s){this._internalRoot=s}ff.prototype.render=jm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));cf(s,o,null,null)},ff.prototype.unmount=jm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ta(function(){cf(null,s,null,null)}),o[Gi]=null}};function ff(s){this._internalRoot=s}ff.prototype.unstable_scheduleHydration=function(s){if(s){var o=dd();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Ii.length&&o!==0&&o<Ii[u].priority;u++);Ii.splice(u,0,s),u===0&&pd(s)}};function Fm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function hf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function PE(){}function Yk(s,o,u,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var X=df(C);v.call(X)}}var C=bE(o,h,s,0,null,!1,!1,"",PE);return s._reactRootContainer=C,s[Gi]=C.current,Nu(s.nodeType===8?s.parentNode:s),ta(),C}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var M=h;h=function(){var X=df(j);M.call(X)}}var j=$m(s,0,!1,null,null,!1,!1,"",PE);return s._reactRootContainer=j,s[Gi]=j.current,Nu(s.nodeType===8?s.parentNode:s),ta(function(){cf(o,j,u,h)}),j}function pf(s,o,u,h,m){var v=u._reactRootContainer;if(v){var C=v;if(typeof m=="function"){var M=m;m=function(){var j=df(C);M.call(j)}}cf(o,C,s,m)}else C=Yk(u,o,s,m,h);return df(C)}ud=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ds(o.pendingLanes);u!==0&&(Ls(o,u|1),fr(o,ct()),(wt&6)===0&&(cl=ct()+500,zs()))}break;case 13:ta(function(){var h=Ji(s,1);if(h!==null){var m=Yn();li(h,s,1,m)}}),Um(s,1)}},La=function(s){if(s.tag===13){var o=Ji(s,134217728);if(o!==null){var u=Yn();li(o,s,134217728,u)}Um(s,134217728)}},cd=function(s){if(s.tag===13){var o=Ys(s),u=Ji(s,o);if(u!==null){var h=Yn();li(u,s,o,h)}Um(s,o)}},dd=function(){return gt},fd=function(s,o){var u=gt;try{return gt=s,o()}finally{gt=u}},Bi=function(s,o,u){switch(o){case"input":if(mn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var m=kd(h);if(!m)throw Error(t(90));it(h),mn(h,m)}}}break;case"textarea":Dt(s,u);break;case"select":o=u.value,o!=null&&Jt(s,!!u.multiple,o,!1)}},yi=Dm,vi=ta;var Xk={usingClientEntryPoint:!1,Events:[Du,Xa,kd,vr,$o,Dm]},qu={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jk={bundleType:qu.bundleType,version:qu.version,rendererPackageName:qu.rendererPackageName,rendererConfig:qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tt(s),s===null?null:s.stateNode},findFiberByHostInstance:qu.findFiberByHostInstance||Qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Ct=mf.inject(Jk),Zt=mf}catch{}}return hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk,hr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(o))throw Error(t(200));return Gk(s,o,null,u)},hr.createRoot=function(s,o){if(!Fm(s))throw Error(t(299));var u=!1,h="",m=kE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=$m(s,1,!1,null,null,u,!1,h,m),s[Gi]=o.current,Nu(s.nodeType===8?s.parentNode:s),new jm(o)},hr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Tt(o),s=s===null?null:s.stateNode,s},hr.flushSync=function(s){return ta(s)},hr.hydrate=function(s,o,u){if(!hf(o))throw Error(t(200));return pf(null,s,o,!0,u)},hr.hydrateRoot=function(s,o,u){if(!Fm(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,v="",C=kE;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),o=bE(o,null,s,1,u??null,m,!1,v,C),s[Gi]=o.current,Nu(s),h)for(s=0;s<h.length;s++)u=h[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new ff(o)},hr.render=function(s,o,u){if(!hf(o))throw Error(t(200));return pf(null,s,o,!1,u)},hr.unmountComponentAtNode=function(s){if(!hf(s))throw Error(t(40));return s._reactRootContainer?(ta(function(){pf(null,null,s,!1,function(){s._reactRootContainer=null,s[Gi]=null})}),!0):!1},hr.unstable_batchedUpdates=Dm,hr.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!hf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return pf(s,o,u,!1,h)},hr.version="18.3.1-next-f1338f8080-20240426",hr}var VE;function rS(){if(VE)return Hm.exports;VE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hm.exports=iP(),Hm.exports}var $E;function sP(){if($E)return gf;$E=1;var n=rS();return gf.createRoot=n.createRoot,gf.hydrateRoot=n.hydrateRoot,gf}var oP=sP(),Jn="top",kr="bottom",Pr="right",Zn="left",kh="auto",eu=[Jn,kr,Pr,Zn],ma="start",Dl="end",iS="clippingParents",Ly="viewport",vl="popper",sS="reference",xg=eu.reduce(function(n,e){return n.concat([e+"-"+ma,e+"-"+Dl])},[]),My=[].concat(eu,[kh]).reduce(function(n,e){return n.concat([e,e+"-"+ma,e+"-"+Dl])},[]),oS="beforeRead",aS="read",lS="afterRead",uS="beforeMain",cS="main",dS="afterMain",fS="beforeWrite",hS="write",pS="afterWrite",mS=[oS,aS,lS,uS,cS,dS,fS,hS,pS];function ji(n){return n?(n.nodeName||"").toLowerCase():null}function Dr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ga(n){var e=Dr(n).Element;return n instanceof e||n instanceof Element}function qr(n){var e=Dr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Vy(n){if(typeof ShadowRoot>"u")return!1;var e=Dr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function aP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!qr(a)||!ji(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function lP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=l.reduce(function(f,p){return f[p]="",f},{});!qr(i)||!ji(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(f){i.removeAttribute(f)}))})}}const $y={name:"applyStyles",enabled:!0,phase:"write",fn:aP,effect:lP,requires:["computeStyles"]};function Oi(n){return n.split("-")[0]}var ha=Math.max,Zf=Math.min,Ol=Math.round;function Lg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gS(){return!/^((?!chrome|android).)*safari/i.test(Lg())}function xl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&qr(n)&&(i=n.offsetWidth>0&&Ol(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Ol(r.height)/n.offsetHeight||1);var l=ga(n)?Dr(n):window,c=l.visualViewport,f=!gS()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/i,g=(r.top+(f&&c?c.offsetTop:0))/a,_=r.width/i,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function Uy(n){var e=xl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function yS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Vy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ps(n){return Dr(n).getComputedStyle(n)}function uP(n){return["table","td","th"].indexOf(ji(n))>=0}function ko(n){return((ga(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ph(n){return ji(n)==="html"?n:n.assignedSlot||n.parentNode||(Vy(n)?n.host:null)||ko(n)}function UE(n){return!qr(n)||ps(n).position==="fixed"?null:n.offsetParent}function cP(n){var e=/firefox/i.test(Lg()),t=/Trident/i.test(Lg());if(t&&qr(n)){var r=ps(n);if(r.position==="fixed")return null}var i=Ph(n);for(Vy(i)&&(i=i.host);qr(i)&&["html","body"].indexOf(ji(i))<0;){var a=ps(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function xc(n){for(var e=Dr(n),t=UE(n);t&&uP(t)&&ps(t).position==="static";)t=UE(t);return t&&(ji(t)==="html"||ji(t)==="body"&&ps(t).position==="static")?e:t||cP(n)||e}function jy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function cc(n,e,t){return ha(n,Zf(e,t))}function dP(n,e,t){var r=cc(n,e,t);return r>t?t:r}function vS(){return{top:0,right:0,bottom:0,left:0}}function _S(n){return Object.assign({},vS(),n)}function wS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var fP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,_S(typeof e!="number"?e:wS(e,eu))};function hP(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,c=Oi(t.placement),f=jy(c),p=[Zn,Pr].indexOf(c)>=0,g=p?"height":"width";if(!(!a||!l)){var _=fP(i.padding,t),T=Uy(a),R=f==="y"?Jn:Zn,P=f==="y"?kr:Pr,O=t.rects.reference[g]+t.rects.reference[f]-l[f]-t.rects.popper[g],b=l[f]-t.rects.reference[f],F=xc(a),V=F?f==="y"?F.clientHeight||0:F.clientWidth||0:0,H=O/2-b/2,W=_[R],Z=V-T[g]-_[P],J=V/2-T[g]/2+H,S=cc(W,J,Z),A=f;t.modifiersData[r]=(e={},e[A]=S,e.centerOffset=S-J,e)}}function pP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||yS(e.elements.popper,i)&&(e.elements.arrow=i))}const Fy={name:"arrow",enabled:!0,phase:"main",fn:hP,effect:pP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ll(n){return n.split("-")[1]}var mP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Ol(t*i)/i||0,y:Ol(r*i)/i||0}}function jE(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,R=T===void 0?0:T,P=l.y,O=P===void 0?0:P,b=typeof g=="function"?g({x:R,y:O}):{x:R,y:O};R=b.x,O=b.y;var F=l.hasOwnProperty("x"),V=l.hasOwnProperty("y"),H=Zn,W=Jn,Z=window;if(p){var J=xc(t),S="clientHeight",A="clientWidth";if(J===Dr(t)&&(J=ko(t),ps(J).position!=="static"&&c==="absolute"&&(S="scrollHeight",A="scrollWidth")),J=J,i===Jn||(i===Zn||i===Pr)&&a===Dl){W=kr;var N=_&&J===Z&&Z.visualViewport?Z.visualViewport.height:J[S];O-=N-r.height,O*=f?1:-1}if(i===Zn||(i===Jn||i===kr)&&a===Dl){H=Pr;var x=_&&J===Z&&Z.visualViewport?Z.visualViewport.width:J[A];R-=x-r.width,R*=f?1:-1}}var L=Object.assign({position:c},p&&mP),$=g===!0?gP({x:R,y:O},Dr(t)):{x:R,y:O};if(R=$.x,O=$.y,f){var D;return Object.assign({},L,(D={},D[W]=V?"0":"",D[H]=F?"0":"",D.transform=(Z.devicePixelRatio||1)<=1?"translate("+R+"px, "+O+"px)":"translate3d("+R+"px, "+O+"px, 0)",D))}return Object.assign({},L,(e={},e[W]=V?O+"px":"",e[H]=F?R+"px":"",e.transform="",e))}function yP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:Oi(e.placement),variation:Ll(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,jE(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,jE(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Dh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yP,data:{}};var yf={passive:!0};function vP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,f=Dr(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,yf)}),c&&f.addEventListener("resize",t.update,yf),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,yf)}),c&&f.removeEventListener("resize",t.update,yf)}}const Oh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vP,data:{}};var _P={left:"right",right:"left",bottom:"top",top:"bottom"};function Mf(n){return n.replace(/left|right|bottom|top/g,function(e){return _P[e]})}var wP={start:"end",end:"start"};function FE(n){return n.replace(/start|end/g,function(e){return wP[e]})}function By(n){var e=Dr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Hy(n){return xl(ko(n)).left+By(n).scrollLeft}function EP(n,e){var t=Dr(n),r=ko(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;var p=gS();(p||!p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c+Hy(n),y:f}}function TP(n){var e,t=ko(n),r=By(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=ha(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ha(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+Hy(n),f=-r.scrollTop;return ps(i||t).direction==="rtl"&&(c+=ha(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:f}}function zy(n){var e=ps(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function ES(n){return["html","body","#document"].indexOf(ji(n))>=0?n.ownerDocument.body:qr(n)&&zy(n)?n:ES(Ph(n))}function dc(n,e){var t;e===void 0&&(e=[]);var r=ES(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Dr(r),l=i?[a].concat(a.visualViewport||[],zy(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(dc(Ph(l)))}function Mg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function IP(n,e){var t=xl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function BE(n,e,t){return e===Ly?Mg(EP(n,t)):ga(e)?IP(e,t):Mg(TP(ko(n)))}function SP(n){var e=dc(Ph(n)),t=["absolute","fixed"].indexOf(ps(n).position)>=0,r=t&&qr(n)?xc(n):n;return ga(r)?e.filter(function(i){return ga(i)&&yS(i,r)&&ji(i)!=="body"}):[]}function CP(n,e,t,r){var i=e==="clippingParents"?SP(n):[].concat(e),a=[].concat(i,[t]),l=a[0],c=a.reduce(function(f,p){var g=BE(n,p,r);return f.top=ha(g.top,f.top),f.right=Zf(g.right,f.right),f.bottom=Zf(g.bottom,f.bottom),f.left=ha(g.left,f.left),f},BE(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function TS(n){var e=n.reference,t=n.element,r=n.placement,i=r?Oi(r):null,a=r?Ll(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case Jn:f={x:l,y:e.y-t.height};break;case kr:f={x:l,y:e.y+e.height};break;case Pr:f={x:e.x+e.width,y:c};break;case Zn:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=i?jy(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case ma:f[p]=f[p]-(e[g]/2-t[g]/2);break;case Dl:f[p]=f[p]+(e[g]/2-t[g]/2);break}}return f}function Ml(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,c=t.boundary,f=c===void 0?iS:c,p=t.rootBoundary,g=p===void 0?Ly:p,_=t.elementContext,T=_===void 0?vl:_,R=t.altBoundary,P=R===void 0?!1:R,O=t.padding,b=O===void 0?0:O,F=_S(typeof b!="number"?b:wS(b,eu)),V=T===vl?sS:vl,H=n.rects.popper,W=n.elements[P?V:T],Z=CP(ga(W)?W:W.contextElement||ko(n.elements.popper),f,g,l),J=xl(n.elements.reference),S=TS({reference:J,element:H,placement:i}),A=Mg(Object.assign({},H,S)),N=T===vl?A:J,x={top:Z.top-N.top+F.top,bottom:N.bottom-Z.bottom+F.bottom,left:Z.left-N.left+F.left,right:N.right-Z.right+F.right},L=n.modifiersData.offset;if(T===vl&&L){var $=L[i];Object.keys(x).forEach(function(D){var Ee=[Pr,kr].indexOf(D)>=0?1:-1,Le=[Jn,kr].indexOf(D)>=0?"y":"x";x[D]+=$[Le]*Ee})}return x}function AP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?My:f,g=Ll(r),_=g?c?xg:xg.filter(function(P){return Ll(P)===g}):eu,T=_.filter(function(P){return p.indexOf(P)>=0});T.length===0&&(T=_);var R=T.reduce(function(P,O){return P[O]=Ml(n,{placement:O,boundary:i,rootBoundary:a,padding:l})[Oi(O)],P},{});return Object.keys(R).sort(function(P,O){return R[P]-R[O]})}function RP(n){if(Oi(n)===kh)return[];var e=Mf(n);return[FE(n),e,FE(e)]}function bP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,R=t.flipVariations,P=R===void 0?!0:R,O=t.allowedAutoPlacements,b=e.options.placement,F=Oi(b),V=F===b,H=f||(V||!P?[Mf(b)]:RP(b)),W=[b].concat(H).reduce(function(ve,Ie){return ve.concat(Oi(Ie)===kh?AP(e,{placement:Ie,boundary:g,rootBoundary:_,padding:p,flipVariations:P,allowedAutoPlacements:O}):Ie)},[]),Z=e.rects.reference,J=e.rects.popper,S=new Map,A=!0,N=W[0],x=0;x<W.length;x++){var L=W[x],$=Oi(L),D=Ll(L)===ma,Ee=[Jn,kr].indexOf($)>=0,Le=Ee?"width":"height",He=Ml(e,{placement:L,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),Ne=Ee?D?Pr:Zn:D?kr:Jn;Z[Le]>J[Le]&&(Ne=Mf(Ne));var ne=Mf(Ne),me=[];if(a&&me.push(He[$]<=0),c&&me.push(He[Ne]<=0,He[ne]<=0),me.every(function(ve){return ve})){N=L,A=!1;break}S.set(L,me)}if(A)for(var ue=P?3:1,B=function(Ie){var Ae=W.find(function(Ge){var Fe=S.get(Ge);if(Fe)return Fe.slice(0,Ie).every(function(st){return st})});if(Ae)return N=Ae,"break"},ee=ue;ee>0;ee--){var pe=B(ee);if(pe==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const Wy={name:"flip",enabled:!0,phase:"main",fn:bP,requiresIfExists:["offset"],data:{_skip:!1}};function HE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function zE(n){return[Jn,Pr,kr,Zn].some(function(e){return n[e]>=0})}function NP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=Ml(e,{elementContext:"reference"}),c=Ml(e,{altBoundary:!0}),f=HE(l,r),p=HE(c,i,a),g=zE(f),_=zE(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const qy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:NP};function kP(n,e,t){var r=Oi(n),i=[Zn,Jn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[Zn,Pr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function PP(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=My.reduce(function(g,_){return g[_]=kP(_,e.rects,a),g},{}),c=l[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Ky={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:PP};function DP(n){var e=n.state,t=n.name;e.modifiersData[t]=TS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const xh={name:"popperOffsets",enabled:!0,phase:"read",fn:DP,data:{}};function OP(n){return n==="x"?"y":"x"}function xP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,R=T===void 0?!0:T,P=t.tetherOffset,O=P===void 0?0:P,b=Ml(e,{boundary:f,rootBoundary:p,padding:_,altBoundary:g}),F=Oi(e.placement),V=Ll(e.placement),H=!V,W=jy(F),Z=OP(W),J=e.modifiersData.popperOffsets,S=e.rects.reference,A=e.rects.popper,N=typeof O=="function"?O(Object.assign({},e.rects,{placement:e.placement})):O,x=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(J){if(a){var D,Ee=W==="y"?Jn:Zn,Le=W==="y"?kr:Pr,He=W==="y"?"height":"width",Ne=J[W],ne=Ne+b[Ee],me=Ne-b[Le],ue=R?-A[He]/2:0,B=V===ma?S[He]:A[He],ee=V===ma?-A[He]:-S[He],pe=e.elements.arrow,ve=R&&pe?Uy(pe):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:vS(),Ae=Ie[Ee],Ge=Ie[Le],Fe=cc(0,S[He],ve[He]),st=H?S[He]/2-ue-Fe-Ae-x.mainAxis:B-Fe-Ae-x.mainAxis,Et=H?-S[He]/2+ue+Fe+Ge+x.mainAxis:ee+Fe+Ge+x.mainAxis,St=e.elements.arrow&&xc(e.elements.arrow),it=St?W==="y"?St.clientTop||0:St.clientLeft||0:0,kt=(D=L==null?void 0:L[W])!=null?D:0,Kt=Ne+st-kt-it,rt=Ne+Et-kt,Ft=cc(R?Zf(ne,Kt):ne,Ne,R?ha(me,rt):me);J[W]=Ft,$[W]=Ft-Ne}if(c){var mn,Or=W==="x"?Jn:Zn,Wn=W==="x"?kr:Pr,Bt=J[Z],Jt=Z==="y"?"height":"width",nr=Bt+b[Or],Dn=Bt-b[Wn],Dt=[Jn,Zn].indexOf(F)!==-1,on=(mn=L==null?void 0:L[Z])!=null?mn:0,Ue=Dt?nr:Bt-S[Jt]-A[Jt]-on+x.altAxis,mt=Dt?Bt+S[Jt]+A[Jt]-on-x.altAxis:Dn,Ot=R&&Dt?dP(Ue,Bt,mt):cc(R?Ue:nr,Bt,R?mt:Dn);J[Z]=Ot,$[Z]=Ot-Bt}e.modifiersData[r]=$}}const Gy={name:"preventOverflow",enabled:!0,phase:"main",fn:xP,requiresIfExists:["offset"]};function LP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function MP(n){return n===Dr(n)||!qr(n)?By(n):LP(n)}function VP(n){var e=n.getBoundingClientRect(),t=Ol(e.width)/n.offsetWidth||1,r=Ol(e.height)/n.offsetHeight||1;return t!==1||r!==1}function $P(n,e,t){t===void 0&&(t=!1);var r=qr(e),i=qr(e)&&VP(e),a=ko(e),l=xl(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((ji(e)!=="body"||zy(a))&&(c=MP(e)),qr(e)?(f=xl(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=Hy(a))),{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}function UP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function jP(n){var e=UP(n);return mS.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function FP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function BP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var WE={placement:"bottom",modifiers:[],strategy:"absolute"};function qE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Lc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?WE:i;return function(c,f,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},WE,a),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},_=[],T=!1,R={state:g,setOptions:function(F){var V=typeof F=="function"?F(g.options):F;O(),g.options=Object.assign({},a,g.options,V),g.scrollParents={reference:ga(c)?dc(c):c.contextElement?dc(c.contextElement):[],popper:dc(f)};var H=jP(BP([].concat(r,g.options.modifiers)));return g.orderedModifiers=H.filter(function(W){return W.enabled}),P(),R.update()},forceUpdate:function(){if(!T){var F=g.elements,V=F.reference,H=F.popper;if(qE(V,H)){g.rects={reference:$P(V,xc(H),g.options.strategy==="fixed"),popper:Uy(H)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(x){return g.modifiersData[x.name]=Object.assign({},x.data)});for(var W=0;W<g.orderedModifiers.length;W++){if(g.reset===!0){g.reset=!1,W=-1;continue}var Z=g.orderedModifiers[W],J=Z.fn,S=Z.options,A=S===void 0?{}:S,N=Z.name;typeof J=="function"&&(g=J({state:g,options:A,name:N,instance:R})||g)}}}},update:FP(function(){return new Promise(function(b){R.forceUpdate(),b(g)})}),destroy:function(){O(),T=!0}};if(!qE(c,f))return R;R.setOptions(p).then(function(b){!T&&p.onFirstUpdate&&p.onFirstUpdate(b)});function P(){g.orderedModifiers.forEach(function(b){var F=b.name,V=b.options,H=V===void 0?{}:V,W=b.effect;if(typeof W=="function"){var Z=W({state:g,name:F,instance:R,options:H}),J=function(){};_.push(Z||J)}})}function O(){_.forEach(function(b){return b()}),_=[]}return R}}var HP=Lc(),zP=[Oh,xh,Dh,$y],WP=Lc({defaultModifiers:zP}),qP=[Oh,xh,Dh,$y,Ky,Wy,Gy,Fy,qy],Qy=Lc({defaultModifiers:qP});const IS=Object.freeze(Object.defineProperty({__proto__:null,afterMain:dS,afterRead:lS,afterWrite:pS,applyStyles:$y,arrow:Fy,auto:kh,basePlacements:eu,beforeMain:uS,beforeRead:oS,beforeWrite:fS,bottom:kr,clippingParents:iS,computeStyles:Dh,createPopper:Qy,createPopperBase:HP,createPopperLite:WP,detectOverflow:Ml,end:Dl,eventListeners:Oh,flip:Wy,hide:qy,left:Zn,main:cS,modifierPhases:mS,offset:Ky,placements:My,popper:vl,popperGenerator:Lc,popperOffsets:xh,preventOverflow:Gy,read:aS,reference:sS,right:Pr,start:ma,top:Jn,variationPlacements:xg,viewport:Ly,write:hS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const eo=new Map,qm={set(n,e,t){eo.has(n)||eo.set(n,new Map);const r=eo.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return eo.has(n)&&eo.get(n).get(e)||null},remove(n,e){if(!eo.has(n))return;const t=eo.get(n);t.delete(e),t.size===0&&eo.delete(n)}},KP=1e6,GP=1e3,Vg="transitionend",SS=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),QP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),YP=n=>{do n+=Math.floor(Math.random()*KP);while(document.getElementById(n));return n},XP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*GP)},CS=n=>{n.dispatchEvent(new Event(Vg))},us=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),wo=n=>us(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(SS(n)):null,tu=n=>{if(!us(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Eo=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",AS=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?AS(n.parentNode):null},eh=()=>{},Mc=n=>{n.offsetHeight},RS=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Km=[],JP=n=>{document.readyState==="loading"?(Km.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Km)e()}),Km.push(n)):n()},Kr=()=>document.documentElement.dir==="rtl",Yr=n=>{JP(()=>{const e=RS();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},gr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,bS=(n,e,t=!0)=>{if(!t){gr(n);return}const i=XP(e)+5;let a=!1;const l=({target:c})=>{c===e&&(a=!0,e.removeEventListener(Vg,l),gr(n))};e.addEventListener(Vg,l),setTimeout(()=>{a||CS(e)},i)},Yy=(n,e,t,r)=>{const i=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[i-1]:n[0]:(a+=t?1:-1,r&&(a=(a+i)%i),n[Math.max(0,Math.min(a,i-1))])},ZP=/[^.]*(?=\..*)\.|.*/,eD=/\..*/,tD=/::\d+$/,Gm={};let KE=1;const NS={mouseenter:"mouseover",mouseleave:"mouseout"},nD=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function kS(n,e){return e&&`${e}::${KE++}`||n.uidEvent||KE++}function PS(n){const e=kS(n);return n.uidEvent=e,Gm[e]=Gm[e]||{},Gm[e]}function rD(n,e){return function t(r){return Xy(r,{delegateTarget:n}),t.oneOff&&de.off(n,r.type,e),e.apply(n,[r])}}function iD(n,e,t){return function r(i){const a=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const c of a)if(c===l)return Xy(i,{delegateTarget:l}),r.oneOff&&de.off(n,i.type,e,t),t.apply(l,[i])}}function DS(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function OS(n,e,t){const r=typeof e=="string",i=r?t:e||t;let a=xS(n);return nD.has(a)||(a=n),[r,i,a]}function GE(n,e,t,r,i){if(typeof e!="string"||!n)return;let[a,l,c]=OS(e,t,r);e in NS&&(l=(P=>function(O){if(!O.relatedTarget||O.relatedTarget!==O.delegateTarget&&!O.delegateTarget.contains(O.relatedTarget))return P.call(this,O)})(l));const f=PS(n),p=f[c]||(f[c]={}),g=DS(p,l,a?t:null);if(g){g.oneOff=g.oneOff&&i;return}const _=kS(l,e.replace(ZP,"")),T=a?iD(n,t,l):rD(n,l);T.delegationSelector=a?t:null,T.callable=l,T.oneOff=i,T.uidEvent=_,p[_]=T,n.addEventListener(c,T,a)}function $g(n,e,t,r,i){const a=DS(e[t],r,i);a&&(n.removeEventListener(t,a,!!i),delete e[t][a.uidEvent])}function sD(n,e,t,r){const i=e[t]||{};for(const[a,l]of Object.entries(i))a.includes(r)&&$g(n,e,t,l.callable,l.delegationSelector)}function xS(n){return n=n.replace(eD,""),NS[n]||n}const de={on(n,e,t,r){GE(n,e,t,r,!1)},one(n,e,t,r){GE(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,a,l]=OS(e,t,r),c=l!==e,f=PS(n),p=f[l]||{},g=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;$g(n,f,l,a,i?t:null);return}if(g)for(const _ of Object.keys(f))sD(n,f,_,e.slice(1));for(const[_,T]of Object.entries(p)){const R=_.replace(tD,"");(!c||e.includes(R))&&$g(n,f,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=RS(),i=xS(e),a=e!==i;let l=null,c=!0,f=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),c=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const g=Xy(new Event(e,{bubbles:c,cancelable:!0}),t);return p&&g.preventDefault(),f&&n.dispatchEvent(g),g.defaultPrevented&&l&&l.preventDefault(),g}};function Xy(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function QE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Qm(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const cs={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Qm(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Qm(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=QE(n.dataset[r])}return e},getDataAttribute(n,e){return QE(n.getAttribute(`data-bs-${Qm(e)}`))}};class Vc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=us(t)?cs.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...us(t)?cs.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const a=e[r],l=us(a)?"element":QP(a);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}}const oD="5.3.3";class pi extends Vc{constructor(e,t){super(),e=wo(e),e&&(this._element=e,this._config=this._getConfig(t),qm.set(this._element,this.constructor.DATA_KEY,this))}dispose(){qm.remove(this._element,this.constructor.DATA_KEY),de.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){bS(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return qm.get(wo(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return oD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Ym=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>SS(t)).join(","):null},We={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Eo(t)&&tu(t))},getSelectorFromElement(n){const e=Ym(n);return e&&We.findOne(e)?e:null},getElementFromSelector(n){const e=Ym(n);return e?We.findOne(e):null},getMultipleElementsFromSelector(n){const e=Ym(n);return e?We.find(e):[]}},Lh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;de.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Eo(this))return;const a=We.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},aD="alert",lD="bs.alert",LS=`.${lD}`,uD=`close${LS}`,cD=`closed${LS}`,dD="fade",fD="show";let MS=class VS extends pi{static get NAME(){return aD}close(){if(de.trigger(this._element,uD).defaultPrevented)return;this._element.classList.remove(fD);const t=this._element.classList.contains(dD);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),de.trigger(this._element,cD),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=VS.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Lh(MS,"close");Yr(MS);const hD="button",pD="bs.button",mD=`.${pD}`,gD=".data-api",yD="active",YE='[data-bs-toggle="button"]',vD=`click${mD}${gD}`;let $S=class US extends pi{static get NAME(){return hD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(yD))}static jQueryInterface(e){return this.each(function(){const t=US.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};de.on(document,vD,YE,n=>{n.preventDefault();const e=n.target.closest(YE);$S.getOrCreateInstance(e).toggle()});Yr($S);const _D="swipe",nu=".bs.swipe",wD=`touchstart${nu}`,ED=`touchmove${nu}`,TD=`touchend${nu}`,ID=`pointerdown${nu}`,SD=`pointerup${nu}`,CD="touch",AD="pen",RD="pointer-event",bD=40,ND={endCallback:null,leftCallback:null,rightCallback:null},kD={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class th extends Vc{constructor(e,t){super(),this._element=e,!(!e||!th.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ND}static get DefaultType(){return kD}static get NAME(){return _D}dispose(){de.off(this._element,nu)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),gr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=bD)return;const t=e/this._deltaX;this._deltaX=0,t&&gr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(de.on(this._element,ID,e=>this._start(e)),de.on(this._element,SD,e=>this._end(e)),this._element.classList.add(RD)):(de.on(this._element,wD,e=>this._start(e)),de.on(this._element,ED,e=>this._move(e)),de.on(this._element,TD,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===AD||e.pointerType===CD)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const PD="carousel",DD="bs.carousel",Po=`.${DD}`,jS=".data-api",OD="ArrowLeft",xD="ArrowRight",LD=500,Ku="next",fl="prev",_l="left",Vf="right",MD=`slide${Po}`,Xm=`slid${Po}`,VD=`keydown${Po}`,$D=`mouseenter${Po}`,UD=`mouseleave${Po}`,jD=`dragstart${Po}`,FD=`load${Po}${jS}`,BD=`click${Po}${jS}`,FS="carousel",vf="active",HD="slide",zD="carousel-item-end",WD="carousel-item-start",qD="carousel-item-next",KD="carousel-item-prev",BS=".active",HS=".carousel-item",GD=BS+HS,QD=".carousel-item img",YD=".carousel-indicators",XD="[data-bs-slide], [data-bs-slide-to]",JD='[data-bs-ride="carousel"]',ZD={[OD]:Vf,[xD]:_l},e1={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},t1={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Jy=class zS extends pi{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=We.findOne(YD,this._element),this._addEventListeners(),this._config.ride===FS&&this.cycle()}static get Default(){return e1}static get DefaultType(){return t1}static get NAME(){return PD}next(){this._slide(Ku)}nextWhenVisible(){!document.hidden&&tu(this._element)&&this.next()}prev(){this._slide(fl)}pause(){this._isSliding&&CS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){de.one(this._element,Xm,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){de.one(this._element,Xm,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Ku:fl;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&de.on(this._element,VD,e=>this._keydown(e)),this._config.pause==="hover"&&(de.on(this._element,$D,()=>this.pause()),de.on(this._element,UD,()=>this._maybeEnableCycle())),this._config.touch&&th.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of We.find(QD,this._element))de.on(r,jD,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(_l)),rightCallback:()=>this._slide(this._directionToOrder(Vf)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),LD+this._config.interval))}};this._swipeHelper=new th(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=ZD[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=We.findOne(BS,this._indicatorsElement);t.classList.remove(vf),t.removeAttribute("aria-current");const r=We.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(vf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Ku,a=t||Yy(this._getItems(),r,i,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),c=R=>de.trigger(this._element,R,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(c(MD).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const g=i?WD:zD,_=i?qD:KD;a.classList.add(_),Mc(a),r.classList.add(g),a.classList.add(g);const T=()=>{a.classList.remove(g,_),a.classList.add(vf),r.classList.remove(vf,_,g),this._isSliding=!1,c(Xm)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(HD)}_getActive(){return We.findOne(GD,this._element)}_getItems(){return We.find(HS,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Kr()?e===_l?fl:Ku:e===_l?Ku:fl}_orderToDirection(e){return Kr()?e===fl?_l:Vf:e===fl?Vf:_l}static jQueryInterface(e){return this.each(function(){const t=zS.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};de.on(document,BD,XD,function(n){const e=We.getElementFromSelector(this);if(!e||!e.classList.contains(FS))return;n.preventDefault();const t=Jy.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(cs.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});de.on(window,FD,()=>{const n=We.find(JD);for(const e of n)Jy.getOrCreateInstance(e)});Yr(Jy);const n1="collapse",r1="bs.collapse",$c=`.${r1}`,i1=".data-api",s1=`show${$c}`,o1=`shown${$c}`,a1=`hide${$c}`,l1=`hidden${$c}`,u1=`click${$c}${i1}`,Jm="show",Cl="collapse",_f="collapsing",c1="collapsed",d1=`:scope .${Cl} .${Cl}`,f1="collapse-horizontal",h1="width",p1="height",m1=".collapse.show, .collapse.collapsing",Ug='[data-bs-toggle="collapse"]',g1={parent:null,toggle:!0},y1={parent:"(null|element)",toggle:"boolean"};let WS=class jg extends pi{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=We.find(Ug);for(const i of r){const a=We.getSelectorFromElement(i),l=We.find(a).filter(c=>c===this._element);a!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return g1}static get DefaultType(){return y1}static get NAME(){return n1}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(m1).filter(c=>c!==this._element).map(c=>jg.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||de.trigger(this._element,s1).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(Cl),this._element.classList.add(_f),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(_f),this._element.classList.add(Cl,Jm),this._element.style[r]="",de.trigger(this._element,o1)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||de.trigger(this._element,a1).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Mc(this._element),this._element.classList.add(_f),this._element.classList.remove(Cl,Jm);for(const i of this._triggerArray){const a=We.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(_f),this._element.classList.add(Cl),de.trigger(this._element,l1)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Jm)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=wo(e.parent),e}_getDimension(){return this._element.classList.contains(f1)?h1:p1}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ug);for(const t of e){const r=We.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=We.find(d1,this._config.parent);return We.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(c1,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=jg.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};de.on(document,u1,Ug,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of We.getMultipleElementsFromSelector(this))WS.getOrCreateInstance(e,{toggle:!1}).toggle()});Yr(WS);const XE="dropdown",v1="bs.dropdown",Ca=`.${v1}`,Zy=".data-api",_1="Escape",JE="Tab",w1="ArrowUp",ZE="ArrowDown",E1=2,T1=`hide${Ca}`,I1=`hidden${Ca}`,S1=`show${Ca}`,C1=`shown${Ca}`,qS=`click${Ca}${Zy}`,KS=`keydown${Ca}${Zy}`,A1=`keyup${Ca}${Zy}`,wl="show",R1="dropup",b1="dropend",N1="dropstart",k1="dropup-center",P1="dropdown-center",la='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',D1=`${la}.${wl}`,$f=".dropdown-menu",O1=".navbar",x1=".navbar-nav",L1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",M1=Kr()?"top-end":"top-start",V1=Kr()?"top-start":"top-end",$1=Kr()?"bottom-end":"bottom-start",U1=Kr()?"bottom-start":"bottom-end",j1=Kr()?"left-start":"right-start",F1=Kr()?"right-start":"left-start",B1="top",H1="bottom",z1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},W1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let ru=class Uf extends pi{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=We.next(this._element,$f)[0]||We.prev(this._element,$f)[0]||We.findOne($f,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return z1}static get DefaultType(){return W1}static get NAME(){return XE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Eo(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!de.trigger(this._element,S1,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(x1))for(const r of[].concat(...document.body.children))de.on(r,"mouseover",eh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(wl),this._element.classList.add(wl),de.trigger(this._element,C1,e)}}hide(){if(Eo(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!de.trigger(this._element,T1,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))de.off(r,"mouseover",eh);this._popper&&this._popper.destroy(),this._menu.classList.remove(wl),this._element.classList.remove(wl),this._element.setAttribute("aria-expanded","false"),cs.removeDataAttribute(this._menu,"popper"),de.trigger(this._element,I1,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!us(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${XE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof IS>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:us(this._config.reference)?e=wo(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Qy(e,this._menu,t)}_isShown(){return this._menu.classList.contains(wl)}_getPlacement(){const e=this._parent;if(e.classList.contains(b1))return j1;if(e.classList.contains(N1))return F1;if(e.classList.contains(k1))return B1;if(e.classList.contains(P1))return H1;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(R1)?t?V1:M1:t?U1:$1}_detectNavbar(){return this._element.closest(O1)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(cs.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...gr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=We.find(L1,this._menu).filter(i=>tu(i));r.length&&Yy(r,t,e===ZE,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Uf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===E1||e.type==="keyup"&&e.key!==JE)return;const t=We.find(D1);for(const r of t){const i=Uf.getInstance(r);if(!i||i._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===JE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===_1,i=[w1,ZE].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const a=this.matches(la)?this:We.prev(this,la)[0]||We.next(this,la)[0]||We.findOne(la,e.delegateTarget.parentNode),l=Uf.getOrCreateInstance(a);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};de.on(document,KS,la,ru.dataApiKeydownHandler);de.on(document,KS,$f,ru.dataApiKeydownHandler);de.on(document,qS,ru.clearMenus);de.on(document,A1,ru.clearMenus);de.on(document,qS,la,function(n){n.preventDefault(),ru.getOrCreateInstance(this).toggle()});Yr(ru);const GS="backdrop",q1="fade",e0="show",t0=`mousedown.bs.${GS}`,K1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},G1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class QS extends Vc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return K1}static get DefaultType(){return G1}static get NAME(){return GS}show(e){if(!this._config.isVisible){gr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Mc(t),t.classList.add(e0),this._emulateAnimation(()=>{gr(e)})}hide(e){if(!this._config.isVisible){gr(e);return}this._getElement().classList.remove(e0),this._emulateAnimation(()=>{this.dispose(),gr(e)})}dispose(){this._isAppended&&(de.off(this._element,t0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(q1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=wo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),de.on(e,t0,()=>{gr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){bS(e,this._getElement(),this._config.isAnimated)}}const Q1="focustrap",Y1="bs.focustrap",nh=`.${Y1}`,X1=`focusin${nh}`,J1=`keydown.tab${nh}`,Z1="Tab",eO="forward",n0="backward",tO={autofocus:!0,trapElement:null},nO={autofocus:"boolean",trapElement:"element"};class YS extends Vc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return tO}static get DefaultType(){return nO}static get NAME(){return Q1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),de.off(document,nh),de.on(document,X1,e=>this._handleFocusin(e)),de.on(document,J1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,de.off(document,nh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=We.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===n0?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===Z1&&(this._lastTabNavDirection=e.shiftKey?n0:eO)}}const r0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",i0=".sticky-top",wf="padding-right",s0="margin-right";class Fg{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,wf,t=>t+e),this._setElementAttributes(r0,wf,t=>t+e),this._setElementAttributes(i0,s0,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,wf),this._resetElementAttributes(r0,wf),this._resetElementAttributes(i0,s0)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const c=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&cs.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const a=cs.getDataAttribute(i,t);if(a===null){i.style.removeProperty(t);return}cs.removeDataAttribute(i,t),i.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(us(e)){t(e);return}for(const r of We.find(e,this._element))t(r)}}const rO="modal",iO="bs.modal",Gr=`.${iO}`,sO=".data-api",oO="Escape",aO=`hide${Gr}`,lO=`hidePrevented${Gr}`,XS=`hidden${Gr}`,JS=`show${Gr}`,uO=`shown${Gr}`,cO=`resize${Gr}`,dO=`click.dismiss${Gr}`,fO=`mousedown.dismiss${Gr}`,hO=`keydown.dismiss${Gr}`,pO=`click${Gr}${sO}`,o0="modal-open",mO="fade",a0="show",Zm="modal-static",gO=".modal.show",yO=".modal-dialog",vO=".modal-body",_O='[data-bs-toggle="modal"]',wO={backdrop:!0,focus:!0,keyboard:!0},EO={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let rh=class ZS extends pi{constructor(e,t){super(e,t),this._dialog=We.findOne(yO,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Fg,this._addEventListeners()}static get Default(){return wO}static get DefaultType(){return EO}static get NAME(){return rO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||de.trigger(this._element,JS,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(o0),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||de.trigger(this._element,aO).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(a0),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){de.off(window,Gr),de.off(this._dialog,Gr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new QS({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new YS({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=We.findOne(vO,this._dialog);t&&(t.scrollTop=0),Mc(this._element),this._element.classList.add(a0);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,de.trigger(this._element,uO,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){de.on(this._element,hO,e=>{if(e.key===oO){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),de.on(window,cO,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),de.on(this._element,fO,e=>{de.one(this._element,dO,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(o0),this._resetAdjustments(),this._scrollBar.reset(),de.trigger(this._element,XS)})}_isAnimated(){return this._element.classList.contains(mO)}_triggerBackdropTransition(){if(de.trigger(this._element,lO).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Zm)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Zm),this._queueCallback(()=>{this._element.classList.remove(Zm),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=Kr()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=Kr()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=ZS.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};de.on(document,pO,_O,function(n){const e=We.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),de.one(e,JS,i=>{i.defaultPrevented||de.one(e,XS,()=>{tu(this)&&this.focus()})});const t=We.findOne(gO);t&&rh.getInstance(t).hide(),rh.getOrCreateInstance(e).toggle(this)});Lh(rh);Yr(rh);const TO="offcanvas",IO="bs.offcanvas",Is=`.${IO}`,eC=".data-api",SO=`load${Is}${eC}`,CO="Escape",l0="show",u0="showing",c0="hiding",AO="offcanvas-backdrop",tC=".offcanvas.show",RO=`show${Is}`,bO=`shown${Is}`,NO=`hide${Is}`,d0=`hidePrevented${Is}`,nC=`hidden${Is}`,kO=`resize${Is}`,PO=`click${Is}${eC}`,DO=`keydown.dismiss${Is}`,OO='[data-bs-toggle="offcanvas"]',xO={backdrop:!0,keyboard:!0,scroll:!1},LO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Vl=class rC extends pi{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return xO}static get DefaultType(){return LO}static get NAME(){return TO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||de.trigger(this._element,RO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Fg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(u0);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(l0),this._element.classList.remove(u0),de.trigger(this._element,bO,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||de.trigger(this._element,NO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(c0),this._backdrop.hide();const t=()=>{this._element.classList.remove(l0,c0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Fg().reset(),de.trigger(this._element,nC)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){de.trigger(this._element,d0);return}this.hide()},t=!!this._config.backdrop;return new QS({className:AO,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new YS({trapElement:this._element})}_addEventListeners(){de.on(this._element,DO,e=>{if(e.key===CO){if(this._config.keyboard){this.hide();return}de.trigger(this._element,d0)}})}static jQueryInterface(e){return this.each(function(){const t=rC.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};de.on(document,PO,OO,function(n){const e=We.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Eo(this))return;de.one(e,nC,()=>{tu(this)&&this.focus()});const t=We.findOne(tC);t&&t!==e&&Vl.getInstance(t).hide(),Vl.getOrCreateInstance(e).toggle(this)});de.on(window,SO,()=>{for(const n of We.find(tC))Vl.getOrCreateInstance(n).show()});de.on(window,kO,()=>{for(const n of We.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Vl.getOrCreateInstance(n).hide()});Lh(Vl);Yr(Vl);const MO=/^aria-[\w-]*$/i,iC={"*":["class","dir","id","lang","role",MO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},VO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),$O=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,UO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?VO.has(t)?!!$O.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function jO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const l of a){const c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}const f=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[c]||[]);for(const g of f)UO(g,p)||l.removeAttribute(g.nodeName)}return i.body.innerHTML}const FO="TemplateFactory",BO={allowList:iC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},HO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},zO={entry:"(string|element|function|null)",selector:"(string|element)"};class WO extends Vc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return BO}static get DefaultType(){return HO}static get NAME(){return FO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},zO)}_setContent(e,t,r){const i=We.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(us(t)){this._putElementInTemplate(wo(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?jO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return gr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const qO="tooltip",KO=new Set(["sanitize","allowList","sanitizeFn"]),eg="fade",GO="modal",Ef="show",QO=".tooltip-inner",f0=`.${GO}`,h0="hide.bs.modal",Gu="hover",tg="focus",YO="click",XO="manual",JO="hide",ZO="hidden",ex="show",tx="shown",nx="inserted",rx="click",ix="focusin",sx="focusout",ox="mouseenter",ax="mouseleave",lx={AUTO:"auto",TOP:"top",RIGHT:Kr()?"left":"right",BOTTOM:"bottom",LEFT:Kr()?"right":"left"},ux={allowList:iC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},cx={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Mh=class sC extends pi{constructor(e,t){if(typeof IS>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ux}static get DefaultType(){return cx}static get NAME(){return qO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),de.off(this._element.closest(f0),h0,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=de.trigger(this._element,this.constructor.eventName(ex)),r=(AS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),de.trigger(this._element,this.constructor.eventName(nx))),this._popper=this._createPopper(i),i.classList.add(Ef),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))de.on(c,"mouseover",eh);const l=()=>{de.trigger(this._element,this.constructor.eventName(tx)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||de.trigger(this._element,this.constructor.eventName(JO)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ef),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))de.off(i,"mouseover",eh);this._activeTrigger[YO]=!1,this._activeTrigger[tg]=!1,this._activeTrigger[Gu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),de.trigger(this._element,this.constructor.eventName(ZO)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(eg,Ef),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=YP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(eg),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new WO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[QO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(eg)}_isShown(){return this.tip&&this.tip.classList.contains(Ef)}_createPopper(e){const t=gr(this._config.placement,[this,e,this._element]),r=lx[t.toUpperCase()];return Qy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return gr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...gr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")de.on(this._element,this.constructor.eventName(rx),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==XO){const r=t===Gu?this.constructor.eventName(ox):this.constructor.eventName(ix),i=t===Gu?this.constructor.eventName(ax):this.constructor.eventName(sx);de.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?tg:Gu]=!0,l._enter()}),de.on(this._element,i,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?tg:Gu]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},de.on(this._element.closest(f0),h0,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=cs.getDataAttributes(this._element);for(const r of Object.keys(t))KO.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:wo(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=sC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Yr(Mh);const dx="popover",fx=".popover-header",hx=".popover-body",px={...Mh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},mx={...Mh.DefaultType,content:"(null|string|element|function)"};let gx=class oC extends Mh{static get Default(){return px}static get DefaultType(){return mx}static get NAME(){return dx}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[fx]:this._getTitle(),[hx]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=oC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Yr(gx);const yx="scrollspy",vx="bs.scrollspy",ev=`.${vx}`,_x=".data-api",wx=`activate${ev}`,p0=`click${ev}`,Ex=`load${ev}${_x}`,Tx="dropdown-item",hl="active",Ix='[data-bs-spy="scroll"]',ng="[href]",Sx=".nav, .list-group",m0=".nav-link",Cx=".nav-item",Ax=".list-group-item",Rx=`${m0}, ${Cx} > ${m0}, ${Ax}`,bx=".dropdown",Nx=".dropdown-toggle",kx={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Px={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vh extends pi{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return kx}static get DefaultType(){return Px}static get NAME(){return yx}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=wo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(de.off(this._config.target,p0),de.on(this._config.target,p0,ng,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const c=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(r(l),!i)return;continue}!a&&!c&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=We.find(ng,this._config.target);for(const t of e){if(!t.hash||Eo(t))continue;const r=We.findOne(decodeURI(t.hash),this._element);tu(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(hl),this._activateParents(e),de.trigger(this._element,wx,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Tx)){We.findOne(Nx,e.closest(bx)).classList.add(hl);return}for(const t of We.parents(e,Sx))for(const r of We.prev(t,Rx))r.classList.add(hl)}_clearActiveClass(e){e.classList.remove(hl);const t=We.find(`${ng}.${hl}`,e);for(const r of t)r.classList.remove(hl)}static jQueryInterface(e){return this.each(function(){const t=Vh.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(window,Ex,()=>{for(const n of We.find(Ix))Vh.getOrCreateInstance(n)});Yr(Vh);const Dx="tab",Ox="bs.tab",Aa=`.${Ox}`,xx=`hide${Aa}`,Lx=`hidden${Aa}`,Mx=`show${Aa}`,Vx=`shown${Aa}`,$x=`click${Aa}`,Ux=`keydown${Aa}`,jx=`load${Aa}`,Fx="ArrowLeft",g0="ArrowRight",Bx="ArrowUp",y0="ArrowDown",rg="Home",v0="End",ua="active",_0="fade",ig="show",Hx="dropdown",aC=".dropdown-toggle",zx=".dropdown-menu",sg=`:not(${aC})`,Wx='.list-group, .nav, [role="tablist"]',qx=".nav-item, .list-group-item",Kx=`.nav-link${sg}, .list-group-item${sg}, [role="tab"]${sg}`,lC='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',og=`${Kx}, ${lC}`,Gx=`.${ua}[data-bs-toggle="tab"], .${ua}[data-bs-toggle="pill"], .${ua}[data-bs-toggle="list"]`;class $l extends pi{constructor(e){super(e),this._parent=this._element.closest(Wx),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),de.on(this._element,Ux,t=>this._keydown(t)))}static get NAME(){return Dx}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?de.trigger(t,xx,{relatedTarget:e}):null;de.trigger(e,Mx,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ua),this._activate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(ig);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),de.trigger(e,Vx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(_0))}_deactivate(e,t){if(!e)return;e.classList.remove(ua),e.blur(),this._deactivate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(ig);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),de.trigger(e,Lx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(_0))}_keydown(e){if(![Fx,g0,Bx,y0,rg,v0].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!Eo(i));let r;if([rg,v0].includes(e.key))r=t[e.key===rg?0:t.length-1];else{const i=[g0,y0].includes(e.key);r=Yy(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),$l.getOrCreateInstance(r).show())}_getChildren(){return We.find(og,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=We.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(Hx))return;const i=(a,l)=>{const c=We.findOne(a,r);c&&c.classList.toggle(l,t)};i(aC,ua),i(zx,ig),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ua)}_getInnerElement(e){return e.matches(og)?e:We.findOne(og,e)}_getOuterElement(e){return e.closest(qx)||e}static jQueryInterface(e){return this.each(function(){const t=$l.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(document,$x,lC,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Eo(this)&&$l.getOrCreateInstance(this).show()});de.on(window,jx,()=>{for(const n of We.find(Gx))$l.getOrCreateInstance(n)});Yr($l);const Qx="toast",Yx="bs.toast",Do=`.${Yx}`,Xx=`mouseover${Do}`,Jx=`mouseout${Do}`,Zx=`focusin${Do}`,eL=`focusout${Do}`,tL=`hide${Do}`,nL=`hidden${Do}`,rL=`show${Do}`,iL=`shown${Do}`,sL="fade",w0="hide",Tf="show",If="showing",oL={animation:"boolean",autohide:"boolean",delay:"number"},aL={animation:!0,autohide:!0,delay:5e3};class $h extends pi{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return aL}static get DefaultType(){return oL}static get NAME(){return Qx}show(){if(de.trigger(this._element,rL).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(sL);const t=()=>{this._element.classList.remove(If),de.trigger(this._element,iL),this._maybeScheduleHide()};this._element.classList.remove(w0),Mc(this._element),this._element.classList.add(Tf,If),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||de.trigger(this._element,tL).defaultPrevented)return;const t=()=>{this._element.classList.add(w0),this._element.classList.remove(If,Tf),de.trigger(this._element,nL)};this._element.classList.add(If),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Tf),super.dispose()}isShown(){return this._element.classList.contains(Tf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){de.on(this._element,Xx,e=>this._onInteraction(e,!0)),de.on(this._element,Jx,e=>this._onInteraction(e,!1)),de.on(this._element,Zx,e=>this._onInteraction(e,!0)),de.on(this._element,eL,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=$h.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Lh($h);Yr($h);var ag={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var E0;function lL(){return E0||(E0=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(ag)),ag.exports}var uL=lL();const ye=Oc(uL);function Bg(){return Bg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bg.apply(null,arguments)}function uC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function T0(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function cL(n){var e=dL(n,"string");return typeof e=="symbol"?e:String(e)}function dL(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function cC(n,e,t){var r=w.useRef(n!==void 0),i=w.useState(e),a=i[0],l=i[1],c=n!==void 0,f=r.current;return r.current=c,!c&&f&&a!==e&&l(e),[c?n:a,w.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function Ra(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[T0(r)],c=a[r],f=uC(a,[T0(r),r].map(cL)),p=e[r],g=cC(c,l,n[p]),_=g[0],T=g[1];return Bg({},f,(i={},i[r]=_,i[p]=T,i))},n)}function Hg(n,e){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Hg(n,e)}function fL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Hg(n,e)}var lg={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function hL(){if(I0)return Qu;I0=1;var n=xy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},T=null,R=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(R=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:T,ref:R,props:_,_owner:i.current}}return Qu.Fragment=t,Qu.jsx=l,Qu.jsxs=l,Qu}var S0;function pL(){return S0||(S0=1,lg.exports=hL()),lg.exports}var tv=pL();const I=tv.jsx,ae=tv.jsxs,pn=tv.Fragment,mL=["xxl","xl","lg","md","sm","xs"],gL="xs",Uc=w.createContext({prefixes:{},breakpoints:mL,minBreakpoint:gL}),{Consumer:hH,Provider:pH}=Uc;function we(n,e){const{prefixes:t}=w.useContext(Uc);return n||t[e]||e}function dC(){const{breakpoints:n}=w.useContext(Uc);return n}function fC(){const{minBreakpoint:n}=w.useContext(Uc);return n}function jc(){const{dir:n}=w.useContext(Uc);return n==="rtl"}function iu(n){return n&&n.ownerDocument||document}function yL(n){var e=iu(n);return e&&e.defaultView||window}function vL(n,e){return yL(n).getComputedStyle(n,e)}var _L=/([A-Z])/g;function wL(n){return n.replace(_L,"-$1").toLowerCase()}var EL=/^ms-/;function Sf(n){return wL(n).replace(EL,"-ms-")}var TL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function IL(n){return!!(n&&TL.test(n))}function ds(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Sf(e))||vL(n).getPropertyValue(Sf(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(Sf(i)):IL(i)?r+=i+"("+a+") ":t+=Sf(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var ug={exports:{}},cg,C0;function SL(){if(C0)return cg;C0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cg=n,cg}var dg,A0;function CL(){if(A0)return dg;A0=1;var n=SL();function e(){}function t(){}return t.resetWarningCache=e,dg=function(){function r(l,c,f,p,g,_){if(_!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},dg}var R0;function AL(){return R0||(R0=1,ug.exports=CL()()),ug.exports}var RL=AL();const Xn=Oc(RL);var hC=rS();const lo=Oc(hC),bL=nS({__proto__:null,default:lo},[hC]),b0={disabled:!1},pC=dn.createContext(null);var NL=function(e){return e.scrollTop},nc="unmounted",ro="exited",di="entering",is="entered",vc="exiting",Ss=function(n){fL(e,n);function e(r,i){var a;a=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?c?(f=ro,a.appearStatus=di):f=is:r.unmountOnExit||r.mountOnEnter?f=nc:f=ro,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===nc?{status:ro}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==di&&l!==is&&(a=di):(l===di||l===is)&&(a=vc)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===di){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:lo.findDOMNode(this);l&&NL(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ro&&this.setState({status:nc})},t.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,f=this.props.nodeRef?[c]:[lo.findDOMNode(this),c],p=f[0],g=f[1],_=this.getTimeouts(),T=c?_.appear:_.enter;if(!i&&!l||b0.disabled){this.safeSetState({status:is},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:di},function(){a.props.onEntering(p,g),a.onTransitionEnd(T,function(){a.safeSetState({status:is},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:lo.findDOMNode(this);if(!a||b0.disabled){this.safeSetState({status:ro},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:vc},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:ro},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:lo.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],g=f[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===nc)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=uC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return dn.createElement(pC.Provider,{value:null},typeof l=="function"?l(i,c):dn.cloneElement(dn.Children.only(l),c))},e}(dn.Component);Ss.contextType=pC;Ss.propTypes={};function pl(){}Ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pl,onEntering:pl,onEntered:pl,onExit:pl,onExiting:pl,onExited:pl};Ss.UNMOUNTED=nc;Ss.EXITED=ro;Ss.ENTERING=di;Ss.ENTERED=is;Ss.EXITING=vc;function mC(n){return n.code==="Escape"||n.keyCode===27}function kL(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function ba(n){if(!n||typeof n=="function")return null;const{major:e}=kL();return e>=19?n.props.ref:n.ref}const su=!!(typeof window<"u"&&window.document&&window.document.createElement);var zg=!1,Wg=!1;try{var fg={get passive(){return zg=!0},get once(){return Wg=zg=!0}};su&&(window.addEventListener("test",fg,fg),window.removeEventListener("test",fg,!0))}catch{}function nv(n,e,t,r){if(r&&typeof r!="boolean"&&!Wg){var i=r.once,a=r.capture,l=t;!Wg&&i&&(l=t.__once||function c(f){this.removeEventListener(e,c,a),t.call(this,f)},t.__once=l),n.addEventListener(e,l,zg?r:a)}n.addEventListener(e,t,r)}function qg(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function ss(n,e,t,r){return nv(n,e,t,r),function(){qg(n,e,t,r)}}function PL(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function DL(n){var e=ds(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function OL(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||PL(n,"transitionend",!0)},e+t),a=ss(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function gC(n,e,t,r){t==null&&(t=DL(n)||0);var i=OL(n,t,r),a=ss(n,"transitionend",e);return function(){i(),a()}}function N0(n,e){const t=ds(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Uh(n,e){const t=N0(n,"transitionDuration"),r=N0(n,"transitionDelay"),i=gC(n,a=>{a.target===n&&(i(),e(a))},t+r)}function Yu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function rv(n){n.offsetHeight}const k0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function xL(n,e){const t=k0(n),r=k0(e);return i=>{t&&t(i),r&&r(i)}}function ou(n,e){return w.useMemo(()=>xL(n,e),[n,e])}function ih(n){return n&&"setState"in n?lo.findDOMNode(n):n??null}const jh=dn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:f,...p},g)=>{const _=w.useRef(null),T=ou(_,f),R=J=>{T(ih(J))},P=J=>S=>{J&&_.current&&J(_.current,S)},O=w.useCallback(P(n),[n]),b=w.useCallback(P(e),[e]),F=w.useCallback(P(t),[t]),V=w.useCallback(P(r),[r]),H=w.useCallback(P(i),[i]),W=w.useCallback(P(a),[a]),Z=w.useCallback(P(l),[l]);return I(Ss,{ref:g,...p,onEnter:O,onEntered:F,onEntering:b,onExit:V,onExited:W,onExiting:H,addEndListener:Z,nodeRef:_,children:typeof c=="function"?(J,S)=>c(J,{...S,ref:R}):dn.cloneElement(c,{ref:R})})}),LL={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ML(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=LL[n];return r+parseInt(ds(e,i[0]),10)+parseInt(ds(e,i[1]),10)}const VL={[ro]:"collapse",[vc]:"collapsing",[di]:"collapsing",[is]:"collapse show"},yC=dn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:f=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:T=!1,getDimensionValue:R=ML,...P},O)=>{const b=typeof c=="function"?c():c,F=w.useMemo(()=>Yu(J=>{J.style[b]="0"},n),[b,n]),V=w.useMemo(()=>Yu(J=>{const S=`scroll${b[0].toUpperCase()}${b.slice(1)}`;J.style[b]=`${J[S]}px`},e),[b,e]),H=w.useMemo(()=>Yu(J=>{J.style[b]=null},t),[b,t]),W=w.useMemo(()=>Yu(J=>{J.style[b]=`${R(b,J)}px`,rv(J)},r),[r,R,b]),Z=w.useMemo(()=>Yu(J=>{J.style[b]=null},i),[b,i]);return I(jh,{ref:O,addEndListener:Uh,...P,"aria-expanded":P.role?f:null,onEnter:F,onEntering:V,onEntered:H,onExit:W,onExiting:Z,childRef:ba(l),in:f,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:T,children:(J,S)=>dn.cloneElement(l,{...S,className:ye(a,l.props.className,VL[J],b==="width"&&"collapse-horizontal")})})});function vC(n,e){return Array.isArray(n)?n.includes(e):n===e}const Fc=w.createContext({});Fc.displayName="AccordionContext";const iv=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...a},l)=>{const{activeEventKey:c}=w.useContext(Fc);return e=we(e,"accordion-collapse"),I(yC,{ref:l,in:vC(c,i),...a,className:ye(t,e),children:I(n,{children:w.Children.only(r)})})});iv.displayName="AccordionCollapse";const Fh=w.createContext({eventKey:""});Fh.displayName="AccordionItemContext";const _C=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,...p},g)=>{e=we(e,"accordion-body");const{eventKey:_}=w.useContext(Fh);return I(iv,{eventKey:_,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,children:I(n,{ref:g,...p,className:ye(t,e)})})});_C.displayName="AccordionBody";function $L(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=w.useContext(Fc);return a=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(c=>c!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const sv=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},a)=>{e=we(e,"accordion-button");const{eventKey:l}=w.useContext(Fh),c=$L(l,r),{activeEventKey:f}=w.useContext(Fc);return n==="button"&&(i.type="button"),I(n,{ref:a,onClick:c,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:ye(t,e,!vC(f,l)&&"collapsed")})});sv.displayName="AccordionButton";const wC=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:a,...l},c)=>(t=we(t,"accordion-header"),I(n,{ref:c,...l,className:ye(r,t),children:I(sv,{onClick:a,"aria-controls":e,children:i})})));wC.displayName="AccordionHeader";const EC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},a)=>{e=we(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return I(Fh.Provider,{value:l,children:I(n,{ref:a,...i,className:ye(t,e)})})});EC.displayName="AccordionItem";const TC=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:c,alwaysOpen:f,...p}=Ra(n,{activeKey:"onSelect"}),g=we(i,"accordion"),_=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return I(Fc.Provider,{value:_,children:I(t,{ref:e,...p,className:ye(a,g,c&&`${g}-flush`)})})});TC.displayName="Accordion";const uo=Object.assign(TC,{Button:sv,Collapse:iv,Item:EC,Header:wC,Body:_C});function IC(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Qr(n){const e=IC(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Bc=n=>w.forwardRef((e,t)=>I("div",{...e,ref:t,className:ye(e.className,n)})),SC=Bc("h4");SC.displayName="DivStyledAsH4";const CC=w.forwardRef(({className:n,bsPrefix:e,as:t=SC,...r},i)=>(e=we(e,"alert-heading"),I(t,{ref:i,className:ye(n,e),...r})));CC.displayName="AlertHeading";function Kg(){return w.useState(null)}function UL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Nn(n){const e=UL(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function jL(n,e,t,r=!1){const i=Nn(t);w.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}function AC(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function RC(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const FL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",BL=typeof document<"u",P0=BL||FL?w.useLayoutEffect:w.useEffect,HL=["as","disabled"];function zL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function WL(n){return!n||n.trim()==="#"}function ov({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&WL(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:_},p]}const av=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=zL(n,HL);const[a,{tagName:l}]=ov(Object.assign({tagName:t,disabled:r},i));return I(l,Object.assign({},i,a,{ref:e}))});av.displayName="Button";const qL=["onKeyDown"];function KL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function GL(n){return!n||n.trim()==="#"}const Ul=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=KL(n,qL);const[i]=ov(Object.assign({tagName:"a"},r)),a=Nn(l=>{i.onKeyDown(l),t==null||t(l)});return GL(r.href)||r.role==="button"?I("a",Object.assign({ref:e},r,i,{onKeyDown:a})):I("a",Object.assign({ref:e},r,{onKeyDown:t}))});Ul.displayName="Anchor";const bC=w.forwardRef(({className:n,bsPrefix:e,as:t=Ul,...r},i)=>(e=we(e,"alert-link"),I(t,{ref:i,className:ye(n,e),...r})));bC.displayName="AlertLink";const QL={[di]:"show",[is]:"show"},To=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=w.useCallback((f,p)=>{rv(f),r==null||r(f,p)},[r]);return I(jh,{ref:a,addEndListener:Uh,...l,onEnter:c,childRef:ba(e),children:(f,p)=>w.cloneElement(e,{...p,className:ye("fade",n,e.props.className,QL[f],t[f])})})});To.displayName="Fade";const YL={"aria-label":Xn.string,onClick:Xn.func,variant:Xn.oneOf(["white"])},Hc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>I("button",{ref:i,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Hc.displayName="CloseButton";Hc.propTypes=YL;const NC=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:l,children:c,variant:f="primary",onClose:p,dismissible:g,transition:_=To,...T}=Ra(n,{show:"onClose"}),R=we(t,"alert"),P=Qr(F=>{p&&p(!1,F)}),O=_===!0?To:_,b=ae("div",{role:"alert",...O?void 0:T,ref:e,className:ye(l,R,f&&`${R}-${f}`,g&&`${R}-dismissible`),children:[g&&I(Hc,{onClick:P,"aria-label":i,variant:a}),c]});return O?I(O,{unmountOnExit:!0,...T,ref:void 0,in:r,children:b}):r?b:null});NC.displayName="Alert";const jl=Object.assign(NC,{Link:bC,Heading:CC}),cn=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},f)=>{const p=we(e,"btn"),[g,{tagName:_}]=ov({tagName:n,disabled:a,...c});return I(_,{...g,...c,ref:f,disabled:a,className:ye(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});cn.displayName="Button";const lv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-body"),I(t,{ref:i,className:ye(n,e),...r})));lv.displayName="CardBody";const kC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-footer"),I(t,{ref:i,className:ye(n,e),...r})));kC.displayName="CardFooter";const uv=w.createContext(null);uv.displayName="CardHeaderContext";const PC=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=we(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return I(uv.Provider,{value:l,children:I(t,{ref:i,...r,className:ye(e,a)})})});PC.displayName="CardHeader";const DC=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=we(n,"card-img");return I(r,{ref:a,className:ye(t?`${l}-${t}`:l,e),...i})});DC.displayName="CardImg";const OC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-img-overlay"),I(t,{ref:i,className:ye(n,e),...r})));OC.displayName="CardImgOverlay";const xC=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=we(e,"card-link"),I(t,{ref:i,className:ye(n,e),...r})));xC.displayName="CardLink";const XL=Bc("h6"),LC=w.forwardRef(({className:n,bsPrefix:e,as:t=XL,...r},i)=>(e=we(e,"card-subtitle"),I(t,{ref:i,className:ye(n,e),...r})));LC.displayName="CardSubtitle";const MC=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=we(e,"card-text"),I(t,{ref:i,className:ye(n,e),...r})));MC.displayName="CardText";const JL=Bc("h5"),VC=w.forwardRef(({className:n,bsPrefix:e,as:t=JL,...r},i)=>(e=we(e,"card-title"),I(t,{ref:i,className:ye(n,e),...r})));VC.displayName="CardTitle";const $C=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:c="div",...f},p)=>{const g=we(n,"card");return I(c,{ref:p,...f,className:ye(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?I(lv,{children:l}):l})});$C.displayName="Card";const ns=Object.assign($C,{Img:DC,Title:VC,Subtitle:LC,Body:lv,Link:xC,Text:MC,Header:PC,Footer:kC,ImgOverlay:OC});function ZL(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function eM(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function tM(n){const e=w.useRef(n);return e.current=n,e}function UC(n){const e=tM(n);w.useEffect(()=>()=>e.current(),[])}const Gg=2**31-1;function jC(n,e,t){const r=t-Date.now();n.current=r<=Gg?setTimeout(e,r):setTimeout(()=>jC(n,e,t),Gg)}function FC(){const n=eM(),e=w.useRef();return UC(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,a=0){n()&&(t(),a<=Gg?e.current=setTimeout(i,a):jC(e,i,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const BC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"carousel-caption"),I(t,{ref:i,className:ye(n,e),...r})));BC.displayName="CarouselCaption";const HC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},i)=>{const a=ye(t,we(e,"carousel-item"));return I(n,{ref:i,...r,className:a})});HC.displayName="CarouselItem";function D0(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function nM(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function rM(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const iM=40;function sM(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const zC=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:i,slide:a=!0,fade:l=!1,controls:c=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:g,onSelect:_,onSlide:T,onSlid:R,interval:P=5e3,keyboard:O=!0,onKeyDown:b,pause:F="hover",onMouseOver:V,onMouseOut:H,wrap:W=!0,touch:Z=!0,onTouchStart:J,onTouchMove:S,onTouchEnd:A,prevIcon:N=I("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:x="Previous",nextIcon:L=I("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:$="Next",variant:D,className:Ee,children:Le,...He}=Ra({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Ne=we(i,"carousel"),ne=jc(),me=w.useRef(null),[ue,B]=w.useState("next"),[ee,pe]=w.useState(!1),[ve,Ie]=w.useState(!1),[Ae,Ge]=w.useState(g||0);w.useEffect(()=>{!ve&&g!==Ae&&(me.current?B(me.current):B((g||0)>Ae?"next":"prev"),a&&Ie(!0),Ge(g||0))},[g,ve,Ae,a]),w.useEffect(()=>{me.current&&(me.current=null)});let Fe=0,st;nM(Le,(ze,ot)=>{++Fe,ot===g&&(st=ze.props.interval)});const Et=IC(st),St=w.useCallback(ze=>{if(ve)return;let ot=Ae-1;if(ot<0){if(!W)return;ot=Fe-1}me.current="prev",_==null||_(ot,ze)},[ve,Ae,_,W,Fe]),it=Qr(ze=>{if(ve)return;let ot=Ae+1;if(ot>=Fe){if(!W)return;ot=0}me.current="next",_==null||_(ot,ze)}),kt=w.useRef();w.useImperativeHandle(t,()=>({element:kt.current,prev:St,next:it}));const Kt=Qr(()=>{!document.hidden&&sM(kt.current)&&(ne?St():it())}),rt=ue==="next"?"start":"end";ZL(()=>{a||(T==null||T(Ae,rt),R==null||R(Ae,rt))},[Ae]);const Ft=`${Ne}-item-${ue}`,mn=`${Ne}-item-${rt}`,Or=w.useCallback(ze=>{rv(ze),T==null||T(Ae,rt)},[T,Ae,rt]),Wn=w.useCallback(()=>{Ie(!1),R==null||R(Ae,rt)},[R,Ae,rt]),Bt=w.useCallback(ze=>{if(O&&!/input|textarea/i.test(ze.target.tagName))switch(ze.key){case"ArrowLeft":ze.preventDefault(),ne?it(ze):St(ze);return;case"ArrowRight":ze.preventDefault(),ne?St(ze):it(ze);return}b==null||b(ze)},[O,b,St,it,ne]),Jt=w.useCallback(ze=>{F==="hover"&&pe(!0),V==null||V(ze)},[F,V]),nr=w.useCallback(ze=>{pe(!1),H==null||H(ze)},[H]),Dn=w.useRef(0),Dt=w.useRef(0),on=FC(),Ue=w.useCallback(ze=>{Dn.current=ze.touches[0].clientX,Dt.current=0,F==="hover"&&pe(!0),J==null||J(ze)},[F,J]),mt=w.useCallback(ze=>{ze.touches&&ze.touches.length>1?Dt.current=0:Dt.current=ze.touches[0].clientX-Dn.current,S==null||S(ze)},[S]),Ot=w.useCallback(ze=>{if(Z){const ot=Dt.current;Math.abs(ot)>iM&&(ot>0?St(ze):it(ze))}F==="hover"&&on.set(()=>{pe(!1)},P||void 0),A==null||A(ze)},[Z,F,St,it,on,P,A]),gn=P!=null&&!ee&&!ve,qn=w.useRef();w.useEffect(()=>{var ze,ot;if(!gn)return;const yn=ne?St:it;return qn.current=window.setInterval(document.visibilityState?Kt:yn,(ze=(ot=Et.current)!=null?ot:P)!=null?ze:void 0),()=>{qn.current!==null&&clearInterval(qn.current)}},[gn,St,it,Et,P,Kt,ne]);const Kn=w.useMemo(()=>f&&Array.from({length:Fe},(ze,ot)=>yn=>{_==null||_(ot,yn)}),[f,Fe,_]);return ae(r,{ref:kt,...He,onKeyDown:Bt,onMouseOver:Jt,onMouseOut:nr,onTouchStart:Ue,onTouchMove:mt,onTouchEnd:Ot,className:ye(Ee,Ne,a&&"slide",l&&`${Ne}-fade`,D&&`${Ne}-${D}`),children:[f&&I("div",{className:`${Ne}-indicators`,children:D0(Le,(ze,ot)=>I("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[ot]:`Slide ${ot+1}`,className:ot===Ae?"active":void 0,onClick:Kn?Kn[ot]:void 0,"aria-current":ot===Ae},ot))}),I("div",{className:`${Ne}-inner`,children:D0(Le,(ze,ot)=>{const yn=ot===Ae;return a?I(jh,{in:yn,onEnter:yn?Or:void 0,onEntered:yn?Wn:void 0,addEndListener:Uh,children:(rr,mi)=>w.cloneElement(ze,{...mi,className:ye(ze.props.className,yn&&rr!=="entered"&&Ft,(rr==="entered"||rr==="exiting")&&"active",(rr==="entering"||rr==="exiting")&&mn)})}):w.cloneElement(ze,{className:ye(ze.props.className,yn&&"active")})})}),c&&ae(pn,{children:[(W||g!==0)&&ae(Ul,{className:`${Ne}-control-prev`,onClick:St,children:[N,x&&I("span",{className:"visually-hidden",children:x})]}),(W||g!==Fe-1)&&ae(Ul,{className:`${Ne}-control-next`,onClick:it,children:[L,$&&I("span",{className:"visually-hidden",children:$})]})]})]})});zC.displayName="Carousel";const O0=Object.assign(zC,{Caption:BC,Item:HC});function oM({as:n,bsPrefix:e,className:t,...r}){e=we(e,"col");const i=dC(),a=fC(),l=[],c=[];return i.forEach(f=>{const p=r[f];delete r[f];let g,_,T;typeof p=="object"&&p!=null?{span:g,offset:_,order:T}=p:g=p;const R=f!==a?`-${f}`:"";g&&l.push(g===!0?`${e}${R}`:`${e}${R}-${g}`),T!=null&&c.push(`order${R}-${T}`),_!=null&&c.push(`offset${R}-${_}`)}),[{...r,className:ye(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const fi=w.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:a,spans:l}]=oM(n);return I(i,{...r,ref:e,className:ye(t,!l.length&&a)})});fi.displayName="Col";const Cs=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},a)=>{const l=we(n,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return I(t,{ref:a,...i,className:ye(r,e?`${l}${c}`:l)})});Cs.displayName="Container";var aM=Function.prototype.bind.call(Function.prototype.call,[].slice);function rs(n,e){return aM(n.querySelectorAll(e))}function lM(n,e,t){const r=w.useRef(n!==void 0),[i,a]=w.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,w.useCallback((...f)=>{const[p,...g]=f;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function WC(){const[,n]=w.useReducer(e=>e+1,0);return n}const Bh=w.createContext(null);var x0=Object.prototype.hasOwnProperty;function L0(n,e,t){for(t of n.keys())if(fc(t,e))return t}function fc(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&fc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=L0(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=L0(e,i),!i)||!fc(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(x0.call(n,t)&&++r&&!x0.call(e,t)||!(t in e)||!fc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function uM(n){const e=AC();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const cM=Lc({defaultModifiers:[qy,xh,Dh,Oh,Ky,Wy,Gy,Fy]}),dM=["enabled","placement","strategy","modifiers"];function fM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const hM={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},pM={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},mM=[];function qC(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=mM}=t,c=fM(t,dM);const f=w.useRef(l),p=w.useRef(),g=w.useCallback(()=>{var b;(b=p.current)==null||b.update()},[]),_=w.useCallback(()=>{var b;(b=p.current)==null||b.forceUpdate()},[]),[T,R]=uM(w.useState({placement:i,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),P=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const F={},V={};Object.keys(b.elements).forEach(H=>{F[H]=b.styles[H],V[H]=b.attributes[H]}),R({state:b,styles:F,attributes:V,update:g,forceUpdate:_,placement:b.placement})}}),[g,_,R]),O=w.useMemo(()=>(fc(f.current,l)||(f.current=l),f.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...O,P,hM]})},[a,i,P,r,O]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=cM(n,e,Object.assign({},c,{placement:i,strategy:a,modifiers:[...O,pM,P]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,R(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function _c(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var hg,M0;function gM(){if(M0)return hg;M0=1;var n=function(){};return hg=n,hg}var yM=gM();const vM=Oc(yM),V0=()=>{};function _M(n){return n.button===0}function wM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const jf=n=>n&&("current"in n?n.current:n),$0={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function KC(n,e=V0,{disabled:t,clickTrigger:r="click"}={}){const i=w.useRef(!1),a=w.useRef(!1),l=w.useCallback(p=>{const g=jf(n);vM(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||wM(p)||!_M(p)||!!_c(g,p.target)||a.current,a.current=!1},[n]),c=Nn(p=>{const g=jf(n);g&&_c(g,p.target)?a.current=!0:a.current=!1}),f=Nn(p=>{i.current||e(p)});w.useEffect(()=>{var p,g;if(t||n==null)return;const _=iu(jf(n)),T=_.defaultView||window;let R=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,P=null;$0[r]&&(P=ss(_,$0[r],c,!0));const O=ss(_,r,l,!0),b=ss(_,r,V=>{if(V===R){R=void 0;return}f(V)});let F=[];return"ontouchstart"in _.documentElement&&(F=[].slice.call(_.body.children).map(V=>ss(V,"mousemove",V0))),()=>{P==null||P(),O(),b(),F.forEach(V=>V())}},[n,t,r,l,c,f])}function EM(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function TM(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function GC({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:c,popperConfig:f={}}){var p,g,_,T,R;const P=EM(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:TM(Object.assign({},P,{eventListeners:{enabled:e,options:(p=P.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},P.preventOverflow,{options:l?Object.assign({padding:l},(g=P.preventOverflow)==null?void 0:g.options):(_=P.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:i},(T=P.offset)==null?void 0:T.options)},arrow:Object.assign({},P.arrow,{enabled:!!c,options:Object.assign({},(R=P.arrow)==null?void 0:R.options,{element:c})}),flip:Object.assign({enabled:!!r},P.flip)}))})}const IM=["children","usePopper"];function SM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const CM=()=>{};function QC(n={}){const e=w.useContext(Bh),[t,r]=Kg(),i=w.useRef(!1),{flip:a,offset:l,rootCloseEvent:c,fixed:f=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,R=(e==null?void 0:e.show)==null?!!n.show:e.show;R&&!i.current&&(i.current=!0);const P=J=>{e==null||e.toggle(!1,J)},{placement:O,setMenu:b,menuElement:F,toggleElement:V}=e||{},H=qC(V,F,GC({placement:p||O||"bottom-start",enabled:T,enableEvents:_??R,offset:l,flip:a,fixed:f,arrowElement:t,popperConfig:g})),W=Object.assign({ref:b||CM,"aria-labelledby":V==null?void 0:V.id},H.attributes.popper,{style:H.styles.popper}),Z={show:R,placement:O,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?H:null,arrowProps:T?Object.assign({ref:r},H.attributes.arrow,{style:H.styles.arrow}):{}};return KC(F,P,{clickTrigger:c,disabled:!R}),[W,Z]}function YC(n){let{children:e,usePopper:t=!0}=n,r=SM(n,IM);const[i,a]=QC(Object.assign({},r,{usePopper:t}));return I(pn,{children:e(i,a)})}YC.displayName="DropdownMenu";const cv={prefix:String(Math.round(Math.random()*1e10)),current:0},XC=dn.createContext(cv),AM=dn.createContext(!1);let RM=!!(typeof window<"u"&&window.document&&window.document.createElement),pg=new WeakMap;function bM(n=!1){let e=w.useContext(XC),t=w.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=pg.get(a);l==null?pg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,pg.delete(a))}t.current=++e.current}return t.current}function NM(n){let e=w.useContext(XC);e===cv&&!RM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=bM(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function kM(n){let e=dn.useId(),[t]=w.useState(LM()),r=t?"react-aria":`react-aria${cv.prefix}`;return n||`${r}-${e}`}const PM=typeof dn.useId=="function"?kM:NM;function DM(){return!1}function OM(){return!0}function xM(n){return()=>{}}function LM(){return typeof dn.useSyncExternalStore=="function"?dn.useSyncExternalStore(xM,DM,OM):w.useContext(AM)}const JC=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},U0=()=>{};function ZC(){const n=PM(),{show:e=!1,toggle:t=U0,setToggle:r,menuElement:i}=w.useContext(Bh)||{},a=w.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||U0,onClick:a,"aria-expanded":!!e};return i&&JC(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function eA({children:n}){const[e,t]=ZC();return I(pn,{children:n(e,t)})}eA.displayName="DropdownToggle";const ya=w.createContext(null),Fl=(n,e=null)=>n!=null?String(n):e||null,Hh=w.createContext(null);Hh.displayName="NavContext";const MM="data-rr-ui-",VM="rrUi";function au(n){return`${MM}${n}`}function $M(n){return`${VM}${n}`}const UM=["eventKey","disabled","onClick","active","as"];function jM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function tA({key:n,href:e,active:t,disabled:r,onClick:i}){const a=w.useContext(ya),l=w.useContext(Hh),{activeKey:c}=l||{},f=Fl(n,e),p=t==null&&n!=null?Fl(c)===f:t;return[{onClick:Nn(_=>{r||(i==null||i(_),a&&!_.isPropagationStopped()&&a(f,_))}),"aria-disabled":r||void 0,"aria-selected":p,[au("dropdown-item")]:""},{isActive:p}]}const nA=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=av}=n,c=jM(n,UM);const[f]=tA({key:t,href:c.href,disabled:r,onClick:i,active:a});return I(l,Object.assign({},c,{ref:e},f))});nA.displayName="DropdownItem";const rA=w.createContext(su?window:void 0);rA.Provider;function zh(){return w.useContext(rA)}function j0(){const n=WC(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function zc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${au("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}){const f=zh(),[p,g]=lM(e,n,r),[_,T]=j0(),R=_.current,[P,O]=j0(),b=P.current,F=RC(p),V=w.useRef(null),H=w.useRef(!1),W=w.useContext(ya),Z=w.useCallback((L,$,D=$==null?void 0:$.type)=>{g(L,{originalEvent:$,source:D})},[g]),J=Nn((L,$)=>{t==null||t(L,$),Z(!1,$,"select"),$.isPropagationStopped()||W==null||W(L,$)}),S=w.useMemo(()=>({toggle:Z,placement:l,show:p,menuElement:R,toggleElement:b,setMenu:T,setToggle:O}),[Z,l,p,R,b,T,O]);R&&F&&!p&&(H.current=R.contains(R.ownerDocument.activeElement));const A=Nn(()=>{b&&b.focus&&b.focus()}),N=Nn(()=>{const L=V.current;let $=a;if($==null&&($=_.current&&JC(_.current)?"keyboard":!1),$===!1||$==="keyboard"&&!/^key.+$/.test(L))return;const D=rs(_.current,i)[0];D&&D.focus&&D.focus()});w.useEffect(()=>{p?N():H.current&&(H.current=!1,A())},[p,H,A,N]),w.useEffect(()=>{V.current=null});const x=(L,$)=>{if(!_.current)return null;const D=rs(_.current,i);let Ee=D.indexOf(L)+$;return Ee=Math.max(0,Math.min(Ee,D.length)),D[Ee]};return jL(w.useCallback(()=>f.document,[f]),"keydown",L=>{var $,D;const{key:Ee}=L,Le=L.target,He=($=_.current)==null?void 0:$.contains(Le),Ne=(D=P.current)==null?void 0:D.contains(Le);if(/input|textarea/i.test(Le.tagName)&&(Ee===" "||Ee!=="Escape"&&He||Ee==="Escape"&&Le.type==="search")||!He&&!Ne||Ee==="Tab"&&(!_.current||!p))return;V.current=L.type;const me={originalEvent:L,source:L.type};switch(Ee){case"ArrowUp":{const ue=x(Le,-1);ue&&ue.focus&&ue.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!p)g(!0,me);else{const ue=x(Le,1);ue&&ue.focus&&ue.focus()}return;case"Tab":nv(Le.ownerDocument,"keyup",ue=>{var B;(ue.key==="Tab"&&!ue.target||!((B=_.current)!=null&&B.contains(ue.target)))&&g(!1,me)},{once:!0});break;case"Escape":Ee==="Escape"&&(L.preventDefault(),L.stopPropagation()),g(!1,me);break}}),I(ya.Provider,{value:J,children:I(Bh.Provider,{value:S,children:c})})}zc.displayName="Dropdown";zc.Menu=YC;zc.Toggle=eA;zc.Item=nA;const dv=w.createContext({});dv.displayName="DropdownContext";const iA=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=we(e,"dropdown-divider"),I(t,{ref:a,className:ye(n,e),role:r,...i})));iA.displayName="DropdownDivider";const sA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=we(e,"dropdown-header"),I(t,{ref:a,className:ye(n,e),role:r,...i})));sA.displayName="DropdownHeader";const oA=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=Ul,...c},f)=>{const p=we(n,"dropdown-item"),[g,_]=tA({key:t,href:c.href,disabled:r,onClick:i,active:a});return I(l,{...c,...g,ref:f,className:ye(e,p,_.isActive&&"active",r&&"disabled")})});oA.displayName="DropdownItem";const aA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=we(e,"dropdown-item-text"),I(t,{ref:i,className:ye(n,e),...r})));aA.displayName="DropdownItemText";const FM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",BM=typeof document<"u",fv=BM||FM?w.useLayoutEffect:w.useEffect,hv=w.createContext(null);hv.displayName="InputGroupContext";const Na=w.createContext(null);Na.displayName="NavbarContext";function lA(n,e){return n}function uA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?i:r:e==="end"?_=n?g:p:e==="start"?_=n?f:c:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const cA=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:c="div",popperConfig:f,variant:p,...g},_)=>{let T=!1;const R=w.useContext(Na),P=we(n,"dropdown-menu"),{align:O,drop:b,isRTL:F}=w.useContext(dv);t=t||O;const V=w.useContext(hv),H=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const $=L[0],D=t[$];T=D==="start",H.push(`${P}-${$}-${D}`)}}else t==="end"&&(T=!0);const W=uA(T,b,F),[Z,{hasShown:J,popper:S,show:A,toggle:N}]=QC({flip:i,rootCloseEvent:r,show:a,usePopper:!R&&H.length===0,offset:[0,2],popperConfig:f,placement:W});if(Z.ref=ou(lA(_),Z.ref),fv(()=>{A&&(S==null||S.update())},[A]),!J&&!l&&!V)return null;typeof c!="string"&&(Z.show=A,Z.close=()=>N==null?void 0:N(!1),Z.align=t);let x=g.style;return S!=null&&S.placement&&(x={...g.style,...Z.style},g["x-placement"]=S.placement),I(c,{...g,...Z,style:x,...(H.length||R)&&{"data-bs-popper":"static"},className:ye(e,P,A&&"show",T&&`${P}-end`,p&&`${P}-${p}`,...H)})});cA.displayName="DropdownMenu";const dA=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=cn,...a},l)=>{const c=we(n,"dropdown-toggle"),f=w.useContext(Bh);r!==void 0&&(a.bsPrefix=r);const[p]=ZC();return p.ref=ou(p.ref,lA(l)),I(i,{className:ye(t,c,e&&`${c}-split`,(f==null?void 0:f.show)&&"show"),...p,...a})});dA.displayName="DropdownToggle";const fA=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:c,onToggle:f,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...R}=Ra(n,{show:"onToggle"}),P=w.useContext(hv),O=we(t,"dropdown"),b=jc(),F=S=>T===!1?S==="click":T==="inside"?S!=="rootClose":T==="outside"?S!=="select":!0,V=Qr((S,A)=>{var N;!((N=A.originalEvent)==null||(N=N.target)==null)&&N.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),F(A.source)&&(f==null||f(S,A)))}),W=uA(l==="end",r,b),Z=w.useMemo(()=>({align:l,drop:r,isRTL:b}),[l,r,b]),J={down:O,"down-centered":`${O}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return I(dv.Provider,{value:Z,children:I(zc,{placement:W,show:i,onSelect:c,onToggle:V,focusFirstItemOnShow:p,itemSelector:`.${O}-item:not(.disabled):not(:disabled)`,children:P?R.children:I(g,{...R,ref:e,className:ye(a,i&&"show",J[r])})})})});fA.displayName="Dropdown";const ca=Object.assign(fA,{Toggle:dA,Menu:cA,Item:oA,ItemText:aA,Divider:iA,Header:sA});Xn.string,Xn.bool,Xn.bool,Xn.bool,Xn.bool;const wc=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:a=!1,...l},c)=>(n=we(n,"img"),I("img",{ref:c,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",i&&"rounded-circle",a&&`${n}-thumbnail`)})));wc.displayName="Image";const HM={type:Xn.string,tooltip:Xn.bool,as:Xn.elementType},Wh=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},a)=>I(n,{...i,ref:a,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));Wh.displayName="Feedback";Wh.propTypes=HM;const ms=w.createContext({}),pv=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:a=!1,as:l="input",...c},f)=>{const{controlId:p}=w.useContext(ms);return e=we(e,"form-check-input"),I(l,{...c,ref:f,type:r,id:n||p,className:ye(t,e,i&&"is-valid",a&&"is-invalid")})});pv.displayName="FormCheckInput";const sh=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:a}=w.useContext(ms);return n=we(n,"form-check-label"),I("label",{...r,ref:i,htmlFor:t||a,className:ye(e,n)})});sh.displayName="FormCheckLabel";const hA=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:a=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:g,className:_,style:T,title:R="",type:P="checkbox",label:O,children:b,as:F="input",...V},H)=>{e=we(e,"form-check"),t=we(t,"form-switch");const{controlId:W}=w.useContext(ms),Z=w.useMemo(()=>({controlId:n||W}),[W,n]),J=!b&&O!=null&&O!==!1||rM(b,sh),S=I(pv,{...V,type:P==="switch"?"checkbox":P,ref:H,isValid:l,isInvalid:c,disabled:a,as:F});return I(ms.Provider,{value:Z,children:I("div",{style:T,className:ye(_,J&&e,r&&`${e}-inline`,i&&`${e}-reverse`,P==="switch"&&t),children:b||ae(pn,{children:[S,J&&I(sh,{title:R,children:O}),p&&I(Wh,{type:g,tooltip:f,children:p})]})})})});hA.displayName="FormCheck";const oh=Object.assign(hA,{Input:pv,Label:sh}),pA=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:a,isValid:l=!1,isInvalid:c=!1,plaintext:f,readOnly:p,as:g="input",..._},T)=>{const{controlId:R}=w.useContext(ms);return n=we(n,"form-control"),I(g,{..._,type:e,size:r,ref:T,readOnly:p,id:i||R,className:ye(a,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});pA.displayName="FormControl";const zM=Object.assign(pA,{Feedback:Wh}),mA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"form-floating"),I(t,{ref:i,className:ye(n,e),...r})));mA.displayName="FormFloating";const mv=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=w.useMemo(()=>({controlId:n}),[n]);return I(ms.Provider,{value:i,children:I(e,{...t,ref:r})})});mv.displayName="FormGroup";const gA=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:a,...l},c)=>{const{controlId:f}=w.useContext(ms);e=we(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=ye(i,e,r&&"visually-hidden",t&&p);return a=a||f,t?I(fi,{ref:c,as:"label",className:g,htmlFor:a,...l}):I(n,{ref:c,className:g,htmlFor:a,...l})});gA.displayName="FormLabel";const yA=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:a}=w.useContext(ms);return n=we(n,"form-range"),I("input",{...r,type:"range",ref:i,className:ye(e,n),id:t||a})});yA.displayName="FormRange";const vA=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:a=!1,id:l,...c},f)=>{const{controlId:p}=w.useContext(ms);return n=we(n,"form-select"),I("select",{...c,size:t,ref:f,className:ye(r,n,e&&`${n}-${e}`,i&&"is-valid",a&&"is-invalid"),id:l||p})});vA.displayName="FormSelect";const _A=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},a)=>(n=we(n,"form-text"),I(t,{...i,ref:a,className:ye(e,n,r&&"text-muted")})));_A.displayName="FormText";const wA=w.forwardRef((n,e)=>I(oh,{...n,ref:e,type:"switch"}));wA.displayName="Switch";const WM=Object.assign(wA,{Input:oh.Input,Label:oh.Label}),gv=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...a},l)=>(n=we(n,"form-floating"),ae(mv,{ref:l,className:ye(e,n),controlId:r,...a,children:[t,I("label",{htmlFor:r,children:i})]})));gv.displayName="FloatingLabel";const qM={_ref:Xn.any,validated:Xn.bool,as:Xn.elementType},yv=w.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>I(t,{...r,ref:i,className:ye(n,e&&"was-validated")}));yv.displayName="Form";yv.propTypes=qM;const zr=Object.assign(yv,{Group:mv,Control:zM,Floating:mA,Check:oh,Switch:WM,Label:gA,Text:_A,Range:yA,Select:vA,FloatingLabel:gv}),F0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function KM(n,e){const t=F0(n),r=F0(e);return i=>{t&&t(i),r&&r(i)}}function Wc(n,e){return w.useMemo(()=>KM(n,e),[n,e])}const EA=w.createContext(null),GM=["as","active","eventKey"];function QM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function vv({key:n,onClick:e,active:t,id:r,role:i,disabled:a}){const l=w.useContext(ya),c=w.useContext(Hh),f=w.useContext(EA);let p=t;const g={role:i};if(c){!i&&c.role==="tablist"&&(g.role="tab");const _=c.getControllerId(n??null),T=c.getControlledId(n??null);g[au("event-key")]=n,g.id=_||r,p=t==null&&n!=null?c.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(g["aria-controls"]=T)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=Nn(_=>{a||(e==null||e(_),n!=null&&l&&!_.isPropagationStopped()&&l(n,_))}),[g,{isActive:p}]}const TA=w.forwardRef((n,e)=>{let{as:t=av,active:r,eventKey:i}=n,a=QM(n,GM);const[l,c]=vv(Object.assign({key:Fl(i,a.href),active:r},a));return l[au("active")]=c.isActive,I(t,Object.assign({},a,l,{ref:e}))});TA.displayName="NavItem";const YM=["as","onSelect","activeKey","role","onKeyDown"];function XM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const B0=()=>{},H0=au("event-key"),IA=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:a,onKeyDown:l}=n,c=XM(n,YM);const f=WC(),p=w.useRef(!1),g=w.useContext(ya),_=w.useContext(EA);let T,R;_&&(a=a||"tablist",i=_.activeKey,T=_.getControlledId,R=_.getControllerId);const P=w.useRef(null),O=H=>{const W=P.current;if(!W)return null;const Z=rs(W,`[${H0}]:not([aria-disabled=true])`),J=W.querySelector("[aria-selected=true]");if(!J||J!==document.activeElement)return null;const S=Z.indexOf(J);if(S===-1)return null;let A=S+H;return A>=Z.length&&(A=0),A<0&&(A=Z.length-1),Z[A]},b=(H,W)=>{H!=null&&(r==null||r(H,W),g==null||g(H,W))},F=H=>{if(l==null||l(H),!_)return;let W;switch(H.key){case"ArrowLeft":case"ArrowUp":W=O(-1);break;case"ArrowRight":case"ArrowDown":W=O(1);break;default:return}W&&(H.preventDefault(),b(W.dataset[$M("EventKey")]||null,H),p.current=!0,f())};w.useEffect(()=>{if(P.current&&p.current){const H=P.current.querySelector(`[${H0}][aria-selected=true]`);H==null||H.focus()}p.current=!1});const V=Wc(e,P);return I(ya.Provider,{value:b,children:I(Hh.Provider,{value:{role:a,activeKey:Fl(i),getControlledId:T||B0,getControllerId:R||B0},children:I(t,Object.assign({},c,{onKeyDown:F,ref:V,role:a}))})})});IA.displayName="Nav";const SA=Object.assign(IA,{Item:TA}),CA=w.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:i,variant:a,action:l,as:c,...f},p)=>{n=we(n,"list-group-item");const[g,_]=vv({key:Fl(r,f.href),active:e,...f}),T=Qr(P=>{if(t){P.preventDefault(),P.stopPropagation();return}g.onClick(P)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const R=c||(l?f.href?"a":"button":"div");return I(R,{ref:p,...f,...g,onClick:T,className:ye(i,n,_.isActive&&"active",t&&"disabled",a&&`${n}-${a}`,l&&`${n}-action`)})});CA.displayName="ListGroupItem";const AA=w.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:i,horizontal:a,numbered:l,as:c="div",...f}=Ra(n,{activeKey:"onSelect"}),p=we(r,"list-group");let g;return a&&(g=a===!0?"horizontal":`horizontal-${a}`),I(SA,{ref:e,...f,as:c,className:ye(t,p,i&&`${p}-${i}`,g&&`${p}-${g}`,l&&`${p}-numbered`)})});AA.displayName="ListGroup";const Rr=Object.assign(AA,{Item:CA});var Cf;function z0(n){if((!Cf&&Cf!==0||n)&&su){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Cf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Cf}function JM(){return w.useState(null)}function mg(n){n===void 0&&(n=iu());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function ZM(n){const e=w.useRef(n);return e.current=n,e}function eV(n){const e=ZM(n);w.useEffect(()=>()=>e.current(),[])}function tV(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const W0=au("modal-open");class _v{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return tV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(ds(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(W0,""),ds(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(W0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gg=(n,e)=>su?n==null?(e||iu()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Qg(n,e){const t=zh(),[r,i]=w.useState(()=>gg(n,t==null?void 0:t.document));if(!r){const a=gg(n);a&&i(a)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const a=gg(n);a!==r&&i(a)},[n,r]),r}function nV({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const a=w.useRef(null),l=w.useRef(e),c=Nn(t);w.useEffect(()=>{e?l.current=!0:c(a.current)},[e,c]);const f=Wc(a,ba(n)),p=w.cloneElement(n,{ref:f});return e?p:i||!l.current&&r?null:p}const rV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function iV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function sV(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:f}=n,p=iV(n,rV);const g=w.useRef(null),_=Wc(g,ba(f)),T=W=>Z=>{W&&g.current&&W(g.current,Z)},R=w.useCallback(T(e),[e]),P=w.useCallback(T(t),[t]),O=w.useCallback(T(r),[r]),b=w.useCallback(T(i),[i]),F=w.useCallback(T(a),[a]),V=w.useCallback(T(l),[l]),H=w.useCallback(T(c),[c]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:R},t&&{onEntering:P},r&&{onEntered:O},i&&{onExit:b},a&&{onExiting:F},l&&{onExited:V},c&&{addEndListener:H},{children:typeof f=="function"?(W,Z)=>f(W,Object.assign({},Z,{ref:_})):w.cloneElement(f,{ref:_})})}const oV=["component"];function aV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const lV=w.forwardRef((n,e)=>{let{component:t}=n,r=aV(n,oV);const i=sV(r);return I(t,Object.assign({ref:e},i))});function uV({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),i=Nn(e);return P0(()=>{if(!t.current)return;let a=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,i]),P0(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function cV({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[a,l]=w.useState(!e);e&&a&&l(!1);const c=uV({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(g,_=>{throw p.in||l(!0),_})}}),f=Wc(c,ba(n));return a&&!e?null:w.cloneElement(n,{ref:f})}function Yg(n,e,t){return n?I(lV,Object.assign({},t,{component:n})):e?I(cV,Object.assign({},t,{transition:e})):I(nV,Object.assign({},t))}const dV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function fV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let yg;function hV(n){return yg||(yg=new _v({ownerDocument:n==null?void 0:n.document})),yg}function pV(n){const e=zh(),t=n||hV(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:w.useCallback(i=>{r.current.backdrop=i},[])})}const RA=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:a,children:l,backdrop:c=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:T,backdropTransition:R,runBackdropTransition:P,autoFocus:O=!0,enforceFocus:b=!0,restoreFocus:F=!0,restoreFocusOptions:V,renderDialog:H,renderBackdrop:W=rt=>I("div",Object.assign({},rt)),manager:Z,container:J,onShow:S,onHide:A=()=>{},onExit:N,onExited:x,onExiting:L,onEnter:$,onEntering:D,onEntered:Ee}=n,Le=fV(n,dV);const He=zh(),Ne=Qg(J),ne=pV(Z),me=AC(),ue=RC(t),[B,ee]=w.useState(!t),pe=w.useRef(null);w.useImperativeHandle(e,()=>ne,[ne]),su&&!ue&&t&&(pe.current=mg(He==null?void 0:He.document)),t&&B&&ee(!1);const ve=Nn(()=>{if(ne.add(),Et.current=ss(document,"keydown",Fe),st.current=ss(document,"focus",()=>setTimeout(Ae),!0),S&&S(),O){var rt,Ft;const mn=mg((rt=(Ft=ne.dialog)==null?void 0:Ft.ownerDocument)!=null?rt:He==null?void 0:He.document);ne.dialog&&mn&&!_c(ne.dialog,mn)&&(pe.current=mn,ne.dialog.focus())}}),Ie=Nn(()=>{if(ne.remove(),Et.current==null||Et.current(),st.current==null||st.current(),F){var rt;(rt=pe.current)==null||rt.focus==null||rt.focus(V),pe.current=null}});w.useEffect(()=>{!t||!Ne||ve()},[t,Ne,ve]),w.useEffect(()=>{B&&Ie()},[B,Ie]),eV(()=>{Ie()});const Ae=Nn(()=>{if(!b||!me()||!ne.isTopModal())return;const rt=mg(He==null?void 0:He.document);ne.dialog&&rt&&!_c(ne.dialog,rt)&&ne.dialog.focus()}),Ge=Nn(rt=>{rt.target===rt.currentTarget&&(p==null||p(rt),c===!0&&A())}),Fe=Nn(rt=>{f&&mC(rt)&&ne.isTopModal()&&(g==null||g(rt),rt.defaultPrevented||A())}),st=w.useRef(),Et=w.useRef(),St=(...rt)=>{ee(!0),x==null||x(...rt)};if(!Ne)return null;const it=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Le,{style:a,className:i,tabIndex:-1});let kt=H?H(it):I("div",Object.assign({},it,{children:w.cloneElement(l,{role:"document"})}));kt=Yg(_,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:N,onExiting:L,onExited:St,onEnter:$,onEntering:D,onEntered:Ee,children:kt});let Kt=null;return c&&(Kt=W({ref:ne.setBackdropRef,onClick:Ge}),Kt=Yg(R,P,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Kt})),I(pn,{children:lo.createPortal(ae(pn,{children:[Kt,kt]}),Ne)})});RA.displayName="Modal";const bA=Object.assign(RA,{Manager:_v});function Xg(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function mV(n,e){n.classList?n.classList.add(e):Xg(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function q0(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function gV(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=q0(n.className,e):n.setAttribute("class",q0(n.className&&n.className.baseVal||"",e))}const ml={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class NA extends _v{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,ds(t,{[e]:`${parseFloat(ds(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],ds(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(mV(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";rs(t,ml.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),rs(t,ml.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-e.scrollBarWidth)),rs(t,ml.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();gV(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";rs(t,ml.FIXED_CONTENT).forEach(a=>this.restore(r,a)),rs(t,ml.STICKY_CONTENT).forEach(a=>this.restore(i,a)),rs(t,ml.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let vg;function kA(n){return vg||(vg=new NA(n)),vg}const PA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"modal-body"),I(t,{ref:i,className:ye(n,e),...r})));PA.displayName="ModalBody";const wv=w.createContext({onHide(){}}),Ev=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:a,children:l,scrollable:c,...f},p)=>{n=we(n,"modal");const g=`${n}-dialog`,_=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return I("div",{...f,ref:p,className:ye(g,e,i&&`${n}-${i}`,r&&`${g}-centered`,c&&`${g}-scrollable`,a&&_),children:I("div",{className:ye(`${n}-content`,t),children:l})})});Ev.displayName="ModalDialog";const DA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"modal-footer"),I(t,{ref:i,className:ye(n,e),...r})));DA.displayName="ModalFooter";const OA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...a},l)=>{const c=w.useContext(wv),f=Qr(()=>{c==null||c.onHide(),r==null||r()});return ae("div",{ref:l,...a,children:[i,t&&I(Hc,{"aria-label":n,variant:e,onClick:f})]})}),xA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=we(n,"modal-header"),I(OA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));xA.displayName="ModalHeader";const yV=Bc("h4"),LA=w.forwardRef(({className:n,bsPrefix:e,as:t=yV,...r},i)=>(e=we(e,"modal-title"),I(t,{ref:i,className:ye(n,e),...r})));LA.displayName="ModalTitle";function vV(n){return I(To,{...n,timeout:null})}function _V(n){return I(To,{...n,timeout:null})}const MA=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:a,dialogAs:l=Ev,"data-bs-theme":c,"aria-labelledby":f,"aria-describedby":p,"aria-label":g,show:_=!1,animation:T=!0,backdrop:R=!0,keyboard:P=!0,onEscapeKeyDown:O,onShow:b,onHide:F,container:V,autoFocus:H=!0,enforceFocus:W=!0,restoreFocus:Z=!0,restoreFocusOptions:J,onEntered:S,onExit:A,onExiting:N,onEnter:x,onEntering:L,onExited:$,backdropClassName:D,manager:Ee,...Le},He)=>{const[Ne,ne]=w.useState({}),[me,ue]=w.useState(!1),B=w.useRef(!1),ee=w.useRef(!1),pe=w.useRef(null),[ve,Ie]=JM(),Ae=ou(He,Ie),Ge=Qr(F),Fe=jc();n=we(n,"modal");const st=w.useMemo(()=>({onHide:Ge}),[Ge]);function Et(){return Ee||kA({isRTL:Fe})}function St(Ue){if(!su)return;const mt=Et().getScrollbarWidth()>0,Ot=Ue.scrollHeight>iu(Ue).documentElement.clientHeight;ne({paddingRight:mt&&!Ot?z0():void 0,paddingLeft:!mt&&Ot?z0():void 0})}const it=Qr(()=>{ve&&St(ve.dialog)});UC(()=>{qg(window,"resize",it),pe.current==null||pe.current()});const kt=()=>{B.current=!0},Kt=Ue=>{B.current&&ve&&Ue.target===ve.dialog&&(ee.current=!0),B.current=!1},rt=()=>{ue(!0),pe.current=gC(ve.dialog,()=>{ue(!1)})},Ft=Ue=>{Ue.target===Ue.currentTarget&&rt()},mn=Ue=>{if(R==="static"){Ft(Ue);return}if(ee.current||Ue.target!==Ue.currentTarget){ee.current=!1;return}F==null||F()},Or=Ue=>{P?O==null||O(Ue):(Ue.preventDefault(),R==="static"&&rt())},Wn=(Ue,mt)=>{Ue&&St(Ue),x==null||x(Ue,mt)},Bt=Ue=>{pe.current==null||pe.current(),A==null||A(Ue)},Jt=(Ue,mt)=>{L==null||L(Ue,mt),nv(window,"resize",it)},nr=Ue=>{Ue&&(Ue.style.display=""),$==null||$(Ue),qg(window,"resize",it)},Dn=w.useCallback(Ue=>I("div",{...Ue,className:ye(`${n}-backdrop`,D,!T&&"show")}),[T,D,n]),Dt={...t,...Ne};Dt.display="block";const on=Ue=>I("div",{role:"dialog",...Ue,style:Dt,className:ye(e,n,me&&`${n}-static`,!T&&"show"),onClick:R?mn:void 0,onMouseUp:Kt,"data-bs-theme":c,"aria-label":g,"aria-labelledby":f,"aria-describedby":p,children:I(l,{...Le,onMouseDown:kt,className:r,contentClassName:i,children:a})});return I(wv.Provider,{value:st,children:I(bA,{show:_,ref:Ae,backdrop:R,container:V,keyboard:!0,autoFocus:H,enforceFocus:W,restoreFocus:Z,restoreFocusOptions:J,onEscapeKeyDown:Or,onShow:b,onHide:F,onEnter:Wn,onEntering:Jt,onEntered:S,onExit:Bt,onExiting:N,onExited:nr,manager:Et(),transition:T?vV:void 0,backdropTransition:T?_V:void 0,renderBackdrop:Dn,renderDialog:on})})});MA.displayName="Modal";const Fn=Object.assign(MA,{Body:PA,Header:xA,Title:LA,Footer:DA,Dialog:Ev,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),VA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"nav-item"),I(t,{ref:i,className:ye(n,e),...r})));VA.displayName="NavItem";const Tv=w.forwardRef(({bsPrefix:n,className:e,as:t=Ul,active:r,eventKey:i,disabled:a=!1,...l},c)=>{n=we(n,"nav-link");const[f,p]=vv({key:Fl(i,l.href),active:r,disabled:a,...l});return I(t,{...l,...f,ref:c,disabled:a,className:ye(e,n,a&&"disabled",p.isActive&&"active")})});Tv.displayName="NavLink";const $A=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:a=!1,justify:l=!1,navbar:c,navbarScroll:f,className:p,activeKey:g,..._}=Ra(n,{activeKey:"onSelect"}),T=we(r,"nav");let R,P,O=!1;const b=w.useContext(Na),F=w.useContext(uv);return b?(R=b.bsPrefix,O=c??!0):F&&({cardHeaderBsPrefix:P}=F),I(SA,{as:t,ref:e,activeKey:g,className:ye(p,{[T]:!O,[`${R}-nav`]:O,[`${R}-nav-scroll`]:O&&f,[`${P}-${i}`]:!!P,[`${T}-${i}`]:!!i,[`${T}-fill`]:a,[`${T}-justified`]:l}),..._})});$A.displayName="Nav";const ui=Object.assign($A,{Item:VA,Link:Tv}),UA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=we(n,"navbar-brand");const a=t||(r.href?"a":"span");return I(a,{...r,ref:i,className:ye(e,n)})});UA.displayName="NavbarBrand";const jA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=we(e,"navbar-collapse");const i=w.useContext(Na);return I(yC,{in:!!(i&&i.expanded),...t,children:I("div",{ref:r,className:e,children:n})})});jA.displayName="NavbarCollapse";const FA=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:a,...l},c)=>{n=we(n,"navbar-toggler");const{onToggle:f,expanded:p}=w.useContext(Na)||{},g=Qr(_=>{a&&a(_),f&&f()});return i==="button"&&(l.type="button"),I(i,{...l,ref:c,onClick:g,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||I("span",{className:`${n}-icon`})})});FA.displayName="NavbarToggle";const Jg=new WeakMap,K0=(n,e)=>{if(!n||!e)return;const t=Jg.get(e)||new Map;Jg.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function wV(n,e=typeof window>"u"?void 0:window){const t=K0(n,e),[r,i]=w.useState(()=>t?t.matches:!1);return fv(()=>{let a=K0(n,e);if(!a)return i(!1);let l=Jg.get(e);const c=()=>{i(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function EV(n){const e=Object.keys(n);function t(c,f){return c===f?f:c?`${c} and ${f}`:f}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function i(c){const f=r(c);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(c){let f=n[c];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function l(c,f,p){let g;typeof c=="object"?(g=c,p=f,f=!0):(f=f||!0,g={[c]:f});let _=w.useMemo(()=>Object.entries(g).reduce((T,[R,P])=>((P==="up"||P===!0)&&(T=t(T,a(R))),(P==="down"||P===!0)&&(T=t(T,i(R))),T),""),[JSON.stringify(g)]);return wV(_,p)}return l}const TV=EV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),BA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"offcanvas-body"),I(t,{ref:i,className:ye(n,e),...r})));BA.displayName="OffcanvasBody";const IV={[di]:"show",[is]:"show"},HA=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:a=!1,appear:l=!1,...c},f)=>(n=we(n,"offcanvas"),I(jh,{ref:f,addEndListener:Uh,in:r,mountOnEnter:i,unmountOnExit:a,appear:l,...c,childRef:ba(t),children:(p,g)=>w.cloneElement(t,{...g,className:ye(e,t.props.className,(p===di||p===vc)&&`${n}-toggling`,IV[p])})})));HA.displayName="OffcanvasToggling";const zA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=we(n,"offcanvas-header"),I(OA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));zA.displayName="OffcanvasHeader";const SV=Bc("h5"),WA=w.forwardRef(({className:n,bsPrefix:e,as:t=SV,...r},i)=>(e=we(e,"offcanvas-title"),I(t,{ref:i,className:ye(n,e),...r})));WA.displayName="OffcanvasTitle";function CV(n){return I(HA,{...n})}function AV(n){return I(To,{...n})}const qA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:a,show:l=!1,backdrop:c=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:T,container:R,autoFocus:P=!0,enforceFocus:O=!0,restoreFocus:b=!0,restoreFocusOptions:F,onEntered:V,onExit:H,onExiting:W,onEnter:Z,onEntering:J,onExited:S,backdropClassName:A,manager:N,renderStaticNode:x=!1,...L},$)=>{const D=w.useRef();n=we(n,"offcanvas");const[Ee,Le]=w.useState(!1),He=Qr(T),Ne=TV(a||"xs","up");w.useEffect(()=>{Le(a?l&&!Ne:l)},[l,a,Ne]);const ne=w.useMemo(()=>({onHide:He}),[He]);function me(){return N||(p?(D.current||(D.current=new NA({handleContainerOverflow:!1})),D.current):kA())}const ue=(ve,...Ie)=>{ve&&(ve.style.visibility="visible"),Z==null||Z(ve,...Ie)},B=(ve,...Ie)=>{ve&&(ve.style.visibility=""),S==null||S(...Ie)},ee=w.useCallback(ve=>I("div",{...ve,className:ye(`${n}-backdrop`,A)}),[A,n]),pe=ve=>I("div",{...ve,...L,className:ye(e,a?`${n}-${a}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return ae(pn,{children:[!Ee&&(a||x)&&pe({}),I(wv.Provider,{value:ne,children:I(bA,{show:Ee,ref:$,backdrop:c,container:R,keyboard:f,autoFocus:P,enforceFocus:O&&!p,restoreFocus:b,restoreFocusOptions:F,onEscapeKeyDown:g,onShow:_,onHide:He,onEnter:ue,onEntering:J,onEntered:V,onExit:H,onExiting:W,onExited:B,manager:me(),transition:CV,backdropTransition:AV,renderBackdrop:ee,renderDialog:pe})})]})});qA.displayName="Offcanvas";const RV=Object.assign(qA,{Body:BA,Header:zA,Title:WA}),KA=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(Na),i=Qr(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return I(RV,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});KA.displayName="NavbarOffcanvas";const GA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=we(e,"navbar-text"),I(t,{ref:i,className:ye(n,e),...r})));GA.displayName="NavbarText";const QA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:a,fixed:l,sticky:c,className:f,as:p="nav",expanded:g,onToggle:_,onSelect:T,collapseOnSelect:R=!1,...P}=Ra(n,{expanded:"onToggle"}),O=we(t,"navbar"),b=w.useCallback((...H)=>{T==null||T(...H),R&&g&&(_==null||_(!1))},[T,R,g,_]);P.role===void 0&&p!=="nav"&&(P.role="navigation");let F=`${O}-expand`;typeof r=="string"&&(F=`${F}-${r}`);const V=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:O,expanded:!!g,expand:r}),[O,g,r,_]);return I(Na.Provider,{value:V,children:I(ya.Provider,{value:b,children:I(p,{ref:e,...P,className:ye(f,O,r&&F,i&&`${O}-${i}`,a&&`bg-${a}`,c&&`sticky-${c}`,l&&`fixed-${l}`)})})})});QA.displayName="Navbar";const Af=Object.assign(QA,{Brand:UA,Collapse:jA,Offcanvas:KA,Text:GA,Toggle:FA}),YA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:i,rootCloseEvent:a,menuRole:l,disabled:c,active:f,renderMenuOnMount:p,menuVariant:g,..._},T)=>{const R=we(void 0,"nav-item");return ae(ca,{ref:T,..._,className:ye(i,R),children:[I(ca.Toggle,{id:n,eventKey:null,active:f,disabled:c,childBsPrefix:r,as:Tv,children:e}),I(ca.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:g,children:t})]})});YA.displayName="NavDropdown";const Xu=Object.assign(YA,{Item:ca.Item,ItemText:ca.ItemText,Divider:ca.Divider,Header:ca.Header}),bV=()=>{};function NV(n,e,{disabled:t,clickTrigger:r}={}){const i=e||bV;KC(n,i,{disabled:t,clickTrigger:r});const a=Nn(l=>{mC(l)&&i(l)});w.useEffect(()=>{if(t||n==null)return;const l=iu(jf(n));let c=(l.defaultView||window).event;const f=ss(l,"keyup",p=>{if(p===c){c=void 0;return}a(p)});return()=>{f()}},[n,t,a])}const XA=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:i,containerPadding:a,popperConfig:l={},transition:c,runTransition:f}=n,[p,g]=Kg(),[_,T]=Kg(),R=Wc(g,e),P=Qg(n.container),O=Qg(n.target),[b,F]=w.useState(!n.show),V=qC(O,p,GC({placement:i,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:_,popperConfig:l}));n.show&&b&&F(!1);const H=(...L)=>{F(!0),n.onExited&&n.onExited(...L)},W=n.show||!b;if(NV(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!W)return null;const{onExit:Z,onExiting:J,onEnter:S,onEntering:A,onEntered:N}=n;let x=n.children(Object.assign({},V.attributes.popper,{style:V.styles.popper,ref:R}),{popper:V,placement:i,show:!!n.show,arrowProps:Object.assign({},V.attributes.arrow,{style:V.styles.arrow,ref:T})});return x=Yg(c,f,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:x,onExit:Z,onExiting:J,onExited:H,onEnter:S,onEntering:A,onEntered:N}),P?lo.createPortal(x,P):null});XA.displayName="Overlay";const JA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"popover-header"),I(t,{ref:i,className:ye(n,e),...r})));JA.displayName="PopoverHeader";const Iv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"popover-body"),I(t,{ref:i,className:ye(n,e),...r})));Iv.displayName="PopoverBody";function ZA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function eR(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const kV=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,body:a,arrowProps:l,hasDoneInitialMeasure:c,popper:f,show:p,...g},_)=>{const T=we(n,"popover"),R=jc(),[P]=(e==null?void 0:e.split("-"))||[],O=ZA(P,R);let b=r;return p&&!c&&(b={...r,...eR(f==null?void 0:f.strategy)}),ae("div",{ref:_,role:"tooltip",style:b,"x-placement":P,className:ye(t,T,P&&`bs-popover-${O}`),...g,children:[I("div",{className:"popover-arrow",...l}),a?I(Iv,{children:i}):i]})}),PV=Object.assign(kV,{Header:JA,Body:Iv,POPPER_OFFSET:[0,8]}),tR=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,arrowProps:a,hasDoneInitialMeasure:l,popper:c,show:f,...p},g)=>{n=we(n,"tooltip");const _=jc(),[T]=(e==null?void 0:e.split("-"))||[],R=ZA(T,_);let P=r;return f&&!l&&(P={...r,...eR(c==null?void 0:c.strategy)}),ae("div",{ref:g,style:P,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${R}`),...p,children:[I("div",{className:"tooltip-arrow",...a}),I("div",{className:`${n}-inner`,children:i})]})});tR.displayName="Tooltip";const nR=Object.assign(tR,{TOOLTIP_OFFSET:[0,6]});function DV(n){const e=w.useRef(null),t=we(void 0,"popover"),r=we(void 0,"tooltip"),i=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Xg(e.current,t))return PV.POPPER_OFFSET;if(Xg(e.current,r))return nR.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[i]]}function OV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=i=>t(ih(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(ih(i)))}const rR=w.forwardRef(({children:n,transition:e=To,popperConfig:t={},rootClose:r=!1,placement:i="top",show:a=!1,...l},c)=>{const f=w.useRef({}),[p,g]=w.useState(null),[_,T]=DV(l.offset),R=ou(c,_),P=e===!0?To:e||void 0,O=Qr(b=>{g(b),t==null||t.onFirstUpdate==null||t.onFirstUpdate(b)});return fv(()=>{p&&l.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{a||g(null)},[a]),I(XA,{...l,ref:R,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:O},transition:P,rootClose:r,placement:i,show:a,children:(b,{arrowProps:F,popper:V,show:H})=>{var W;OV(b,F);const Z=V==null?void 0:V.placement,J=Object.assign(f.current,{state:V==null?void 0:V.state,scheduleUpdate:V==null?void 0:V.update,placement:Z,outOfBoundaries:(V==null||(W=V.state)==null||(W=W.modifiersData.hide)==null?void 0:W.isReferenceHidden)||!1,strategy:t.strategy}),S=!!p;return typeof n=="function"?n({...b,placement:Z,show:H,...!e&&H&&{className:"show"},popper:J,arrowProps:F,hasDoneInitialMeasure:S}):w.cloneElement(n,{...b,placement:Z,arrowProps:F,popper:J,hasDoneInitialMeasure:S,className:ye(n.props.className,!e&&H&&"show"),style:{...n.props.style,...b.style}})}})});rR.displayName="Overlay";function xV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function G0(n,e,t){const[r]=e,i=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==i)&&!_c(i,a)&&n(...e)}Xn.oneOf(["click","hover","focus"]);const LV=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:i,defaultShow:a=!1,onToggle:l,delay:c,placement:f,flip:p=f&&f.indexOf("auto")!==-1,...g})=>{const _=w.useRef(null),T=ou(_,ba(t)),R=FC(),P=w.useRef(""),[O,b]=cC(i,a,l),F=xV(c),{onFocus:V,onBlur:H,onClick:W}=typeof t!="function"?w.Children.only(t).props:{},Z=Le=>{T(ih(Le))},J=w.useCallback(()=>{if(R.clear(),P.current="show",!F.show){b(!0);return}R.set(()=>{P.current==="show"&&b(!0)},F.show)},[F.show,b,R]),S=w.useCallback(()=>{if(R.clear(),P.current="hide",!F.hide){b(!1);return}R.set(()=>{P.current==="hide"&&b(!1)},F.hide)},[F.hide,b,R]),A=w.useCallback((...Le)=>{J(),V==null||V(...Le)},[J,V]),N=w.useCallback((...Le)=>{S(),H==null||H(...Le)},[S,H]),x=w.useCallback((...Le)=>{b(!O),W==null||W(...Le)},[W,b,O]),L=w.useCallback((...Le)=>{G0(J,Le,"fromElement")},[J]),$=w.useCallback((...Le)=>{G0(S,Le,"toElement")},[S]),D=n==null?[]:[].concat(n),Ee={ref:Z};return D.indexOf("click")!==-1&&(Ee.onClick=x),D.indexOf("focus")!==-1&&(Ee.onFocus=A,Ee.onBlur=N),D.indexOf("hover")!==-1&&(Ee.onMouseOver=L,Ee.onMouseOut=$),ae(pn,{children:[typeof t=="function"?t(Ee):w.cloneElement(t,Ee),I(rR,{...g,show:O,onHide:S,flip:p,placement:f,popperConfig:r,target:_.current,children:e})]})},xi=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=we(n,"row"),l=dC(),c=fC(),f=`${a}-cols`,p=[];return l.forEach(g=>{const _=r[g];delete r[g];let T;_!=null&&typeof _=="object"?{cols:T}=_:T=_;const R=g!==c?`-${g}`:"";T!=null&&p.push(`${f}${R}-${T}`)}),I(t,{ref:i,...r,className:ye(e,a,...p)})});xi.displayName="Row";const qh=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:a,...l},c)=>{n=we(n,"spinner");const f=`${n}-${t}`;return I(i,{ref:c,...l,className:ye(a,f,r&&`${f}-${r}`,e&&`text-${e}`)})});qh.displayName="Spinner";function Te(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function f(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):i(g.value).then(c,f)}p((r=r.apply(n,[])).next())})}function MV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let je=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};je.equal=(n,e)=>new je("equal",n,e).toString();je.notEqual=(n,e)=>new je("notEqual",n,e).toString();je.lessThan=(n,e)=>new je("lessThan",n,e).toString();je.lessThanEqual=(n,e)=>new je("lessThanEqual",n,e).toString();je.greaterThan=(n,e)=>new je("greaterThan",n,e).toString();je.greaterThanEqual=(n,e)=>new je("greaterThanEqual",n,e).toString();je.isNull=n=>new je("isNull",n).toString();je.isNotNull=n=>new je("isNotNull",n).toString();je.between=(n,e,t)=>new je("between",n,[e,t]).toString();je.startsWith=(n,e)=>new je("startsWith",n,e).toString();je.endsWith=(n,e)=>new je("endsWith",n,e).toString();je.select=n=>new je("select",void 0,n).toString();je.search=(n,e)=>new je("search",n,e).toString();je.orderDesc=n=>new je("orderDesc",n).toString();je.orderAsc=n=>new je("orderAsc",n).toString();je.cursorAfter=n=>new je("cursorAfter",void 0,n).toString();je.cursorBefore=n=>new je("cursorBefore",void 0,n).toString();je.limit=n=>new je("limit",void 0,n).toString();je.offset=n=>new je("offset",void 0,n).toString();je.contains=(n,e)=>new je("contains",n,e).toString();je.or=n=>new je("or",void 0,n.map(e=>JSON.parse(e))).toString();je.and=n=>new je("and",void 0,n.map(e=>JSON.parse(e))).toString();class oe extends Error{constructor(e,t=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=i}}class Wr{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(l=>{i.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+i.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var c,f,p;if(!this.realtime.reconnect||((f=(c=this.realtime)===null||c===void 0?void 0:c.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const g=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${g/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},g)}))},onMessage:e=>{var t,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],c=i.data;l&&!c.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let f=i.data;if(f!=null&&f.channels){if(!f.channels.some(g=>this.realtime.channels.has(g)))return;this.realtime.subscriptions.forEach(g=>{f.channels.some(_=>g.channels.includes(_))&&setTimeout(()=>g.callback(f))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,c]of Object.entries(Wr.flatten(i)))t.searchParams.append(l,c);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(i);break;case"multipart/form-data":const l=new FormData;for(const[c,f]of Object.entries(i))if(f instanceof File)l.append(c,f,f.name);else if(Array.isArray(f))for(const p of f)l.append(`${c}[]`,p);else l.append(c,f);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},i={},a){return Te(this,void 0,void 0,function*(){const l=Object.values(i).find(p=>p instanceof File);if(l.size<=Wr.CHUNK_SIZE)return yield this.call(e,t,r,i);let c=0,f=null;for(;c<l.size;){let p=c+Wr.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${c}-${p-1}/${l.size}`;const g=l.slice(c,p);let _=Object.assign(Object.assign({},i),{file:new File([g],l.name)});f=yield this.call(e,t,r,_),a&&typeof a=="function"&&a({$id:f.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/Wr.CHUNK_SIZE),chunksUploaded:Math.ceil(p/Wr.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),c=p}return f})}ping(){return Te(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},i={},a="json"){var l;return Te(this,void 0,void 0,function*(){const{uri:c,options:f}=this.prepareRequest(e,t,r,i);let p=null;const g=yield fetch(c,f),_=g.headers.get("x-appwrite-warning");if(_&&_.split(";").forEach(R=>console.warn("Warning: "+R)),!((l=g.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield g.json():a==="arrayBuffer"?p=yield g.arrayBuffer():p={message:yield g.text()},400<=g.status)throw new oe(p==null?void 0:p.message,g.status,p==null?void 0:p.type,p);const T=g.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),Wr.flatten(a,l)):r[l]=a}return r}}Wr.CHUNK_SIZE=1024*1024*5;class po{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),po.flatten(a,l)):r[l]=a}return r}}po.CHUNK_SIZE=5*1024*1024;class VV{constructor(e){this.client=e}get(){return Te(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}create(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');if(typeof r>"u")throw new oe('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof i<"u"&&(l.name=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}updateEmail(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}listIdentities(e){return Te(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}deleteIdentity(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createJWT(){return Te(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}listLogs(e){return Te(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateMFA(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaAuthenticator(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');if(typeof t>"u")throw new oe('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deleteMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createMfaChallenge(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaChallenge(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "challengeId"');if(typeof t>"u")throw new oe('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}listMfaFactors(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}getMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}createMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updateMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}updateName(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}updatePassword(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}updatePhone(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "phone"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}getPrefs(){return Te(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}updatePrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createRecovery(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateRecovery(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');if(typeof r>"u")throw new oe('Missing required parameter: "password"');const i="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("put",l,c,a)})}listSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}deleteSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,t)})}createAnonymousSession(){return Te(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}createEmailPasswordSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateMagicURLSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createOAuth2Session(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(po.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}updatePhoneSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}getSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}deleteSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}updateStatus(){return Te(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}createPushTarget(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');if(typeof t>"u")throw new oe('Missing required parameter: "identifier"');const i="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}updatePushTarget(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');if(typeof t>"u")throw new oe('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof t<"u"&&(i.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deletePushTarget(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createEmailToken(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');const i="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}createMagicURLToken(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof i<"u"&&(l.phrase=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}createOAuth2Token(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(po.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}createPhoneToken(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}createVerification(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createPhoneVerification(){return Te(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updatePhoneVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}class $V{constructor(e){this.client=e}listDocuments(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createDocument(e,t,r,i,a){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');if(typeof i>"u")throw new oe('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),c={};typeof r<"u"&&(c.documentId=r),typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",f,p,c)})}getDocument(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof i<"u"&&(l.queries=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("get",c,f,l)})}updateDocument(e,t,r,i,a){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),c={};typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",f,p,c)})}deleteDocument(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("delete",l,c,a)})}}class UV{constructor(e){this.client=e}listFiles(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createFile(e,t,r,i,a=l=>{}){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');if(typeof r>"u")throw new oe('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),c={};typeof t<"u"&&(c.fileId=t),typeof r<"u"&&(c.file=r),typeof i<"u"&&(c.permissions=i);const f=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,p,c,a)})}getFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateFile(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof i<"u"&&(l.permissions=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("put",c,f,l)})}deleteFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}getFileDownload(e,t){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(po.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Wr.flatten(i)))a.searchParams.append(l,c);return a.toString()}getFilePreview(e,t,r,i,a,l,c,f,p,g,_,T,R){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const P="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),O={};typeof r<"u"&&(O.width=r),typeof i<"u"&&(O.height=i),typeof a<"u"&&(O.gravity=a),typeof l<"u"&&(O.quality=l),typeof c<"u"&&(O.borderWidth=c),typeof f<"u"&&(O.borderColor=f),typeof p<"u"&&(O.borderRadius=p),typeof g<"u"&&(O.opacity=g),typeof _<"u"&&(O.rotation=_),typeof T<"u"&&(O.background=T),typeof R<"u"&&(O.output=R);const b=new URL(this.client.config.endpoint+P);O.project=this.client.config.project;for(const[F,V]of Object.entries(po.flatten(O)))b.searchParams.append(F,V);O.project=this.client.config.project;for(const[F,V]of Object.entries(Wr.flatten(O)))b.searchParams.append(F,V);return b.toString()}getFileView(e,t){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(po.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Wr.flatten(i)))a.searchParams.append(l,c);return a.toString()}}class jV{constructor(e){this.client=e}list(e,t){return Te(this,void 0,void 0,function*(){const r="/teams",i={};typeof e<"u"&&(i.queries=e),typeof t<"u"&&(i.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}create(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "name"');const i="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}get(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateName(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),i={};typeof t<"u"&&(i.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}delete(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}listMemberships(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const i="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createMembership(e,t,r,i,a,l,c){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof i<"u"&&(p.userId=i),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof c<"u"&&(p.name=c);const g=new URL(this.client.config.endpoint+f),_={"content-type":"application/json"};return yield this.client.call("post",g,_,p)})}getMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateMembership(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');if(typeof r>"u")throw new oe('Missing required parameter: "roles"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("patch",l,c,a)})}deleteMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}updateMembershipStatus(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');if(typeof r>"u")throw new oe('Missing required parameter: "userId"');if(typeof i>"u")throw new oe('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("patch",c,f,l)})}getPrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updatePrefs(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),i={};typeof t<"u"&&(i.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}var iR,sR;class Bl{static custom(e){return e}static unique(e=7){const t=MV(Bl,iR,"m",sR).call(Bl);let r="";for(let i=0;i<e;i++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}iR=Bl,sR=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var Q0;(function(n){n.Totp="totp"})(Q0||(Q0={}));var Y0;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(Y0||(Y0={}));var Zg;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(Zg||(Zg={}));var X0;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(X0||(X0={}));var J0;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(J0||(J0={}));var Z0;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(Z0||(Z0={}));var eT;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(eT||(eT={}));var tT;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(tT||(tT={}));var nT;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(nT||(nT={}));const qc=new Wr;qc.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const lu=new UV(qc),Ec=new VV(qc),zn=new $V(qc),FV=new jV(qc);async function BV(){return{session:await Ec.getSession("current")}}const Kh=async()=>{try{return await Ec.get()}catch(n){console.error(n)}};async function HV(){await Ec.deleteSession("current"),console.log("log out")}async function co(){const n=await Kh();return n?zV(n):(console.error("User data is undefined"),null)}function zV(n){return{name:n.name,$id:n.$id,email:n.email}}async function WV(){return{teams:(await FV.list()).teams}}const oR=w.createContext(void 0),qV=({children:n})=>{const e=KV();return I(oR.Provider,{value:e,children:n})};function KV(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const f=await BV();e(f.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:f}=await WV(),p=!!f.find(g=>g.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function i(){await Ec.createOAuth2Session(Zg.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery")}async function a(c,f){try{await Ec.createEmailPasswordSession(c,f)}catch(p){console.error(p)}}async function l(){await HV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:i,logInAdmin:a}}function Io(){const n=w.useContext(oR);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jt.apply(this,arguments)}var rn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rn||(rn={}));const rT="popstate";function GV(n){n===void 0&&(n={});function e(i,a){let{pathname:l="/",search:c="",hash:f=""}=As(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Tc("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");c=p===-1?f:f.slice(0,p)}return c+"#"+(typeof a=="string"?a:_a(a))}function r(i,a){va(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return YV(e,t,r,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function va(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QV(){return Math.random().toString(36).substr(2,8)}function iT(n,e){return{usr:n.state,key:n.key,idx:e}}function Tc(n,e,t,r){return t===void 0&&(t=null),jt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?As(e):e,{state:t,key:e&&e.key||r||QV()})}function _a(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function As(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function YV(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c=rn.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(jt({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){c=rn.Pop;let b=g(),F=b==null?null:b-p;p=b,f&&f({action:c,location:O.location,delta:F})}function T(b,F){c=rn.Push;let V=Tc(O.location,b,F);t&&t(V,b),p=g()+1;let H=iT(V,p),W=O.createHref(V);try{l.pushState(H,"",W)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(W)}a&&f&&f({action:c,location:O.location,delta:1})}function R(b,F){c=rn.Replace;let V=Tc(O.location,b,F);t&&t(V,b),p=g();let H=iT(V,p),W=O.createHref(V);l.replaceState(H,"",W),a&&f&&f({action:c,location:O.location,delta:0})}function P(b){let F=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof b=="string"?b:_a(b);return V=V.replace(/ $/,"%20"),ut(F,"No window.location.(origin|href) available to create URL for href: "+V),new URL(V,F)}let O={get action(){return c},get location(){return n(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(rT,_),f=b,()=>{i.removeEventListener(rT,_),f=null}},createHref(b){return e(i,b)},createURL:P,encodeLocation(b){let F=P(b);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:R,go(b){return l.go(b)}};return O}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const XV=new Set(["lazy","caseSensitive","path","id","index","children"]);function JV(n){return n.index===!0}function ah(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,a)=>{let l=[...t,String(a)],c=typeof i.id=="string"?i.id:l.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),JV(i)){let f=jt({},i,e(i),{id:c});return r[c]=f,f}else{let f=jt({},i,e(i),{id:c,children:void 0});return r[c]=f,i.children&&(f.children=ah(i.children,e,l,r)),f}})}function oa(n,e,t){return t===void 0&&(t="/"),Ff(n,e,t,!1)}function Ff(n,e,t,r){let i=typeof e=="string"?As(e):e,a=gs(i.pathname||"/",t);if(a==null)return null;let l=aR(n);e2(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=d2(a);c=u2(l[f],p,r)}return c}function ZV(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function aR(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=fs([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),aR(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:a2(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of lR(a.path))i(a,l,f)}),e}function lR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=lR(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function e2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:l2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const t2=/^:[\w-]+$/,n2=3,r2=2,i2=1,s2=10,o2=-2,sT=n=>n==="*";function a2(n,e){let t=n.split("/"),r=t.length;return t.some(sT)&&(r+=o2),e&&(r+=r2),t.filter(i=>!sT(i)).reduce((i,a)=>i+(t2.test(a)?n2:a===""?i2:s2),r)}function l2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function u2(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),T=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:fs([a,_.pathname]),pathnameBase:p2(fs([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=fs([a,_.pathnameBase]))}return l}function lh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=c2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:T,isOptional:R}=g;if(T==="*"){let O=c[_]||"";l=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const P=c[_];return R&&!P?p[T]=void 0:p[T]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function c2(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),va(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function f2(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?As(n):n;return{pathname:t?t.startsWith("/")?t:h2(t,e):e,search:m2(r),hash:g2(i)}}function h2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function _g(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sv(n,e){let t=uR(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Cv(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=As(n):(i=jt({},n),ut(!i.pathname||!i.pathname.includes("?"),_g("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),_g("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),_g("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;i.pathname=T.join("/")}c=_>=0?e[_]:"/"}let f=f2(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const fs=n=>n.join("/").replace(/\/\/+/g,"/"),p2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),m2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class uh{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ic(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const cR=["post","put","patch","delete"],y2=new Set(cR),v2=["get",...cR],_2=new Set(v2),w2=new Set([301,302,303,307,308]),E2=new Set([307,308]),wg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},T2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ju={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I2=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),dR="remix-router-transitions";function S2(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let U=n.detectErrorBoundary;i=q=>({hasErrorBoundary:U(q)})}else i=I2;let a={},l=ah(n.routes,i,void 0,a),c,f=n.basename||"/",p=n.dataStrategy||b2,g=n.patchRoutesOnNavigation,_=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,R=new Set,P=null,O=null,b=null,F=n.hydrationData!=null,V=oa(l,n.history.location,f),H=!1,W=null;if(V==null&&!g){let U=pr(404,{pathname:n.history.location.pathname}),{matches:q,route:Y}=gT(l);V=q,W={[Y.id]:U}}V&&!n.hydrationData&&vi(V,l,n.history.location.pathname).active&&(V=null);let Z;if(V)if(V.some(U=>U.route.lazy))Z=!1;else if(!V.some(U=>U.route.loader))Z=!0;else if(_.v7_partialHydration){let U=n.hydrationData?n.hydrationData.loaderData:null,q=n.hydrationData?n.hydrationData.errors:null;if(q){let Y=V.findIndex(re=>q[re.route.id]!==void 0);Z=V.slice(0,Y+1).every(re=>!ty(re.route,U,q))}else Z=V.every(Y=>!ty(Y.route,U,q))}else Z=n.hydrationData!=null;else if(Z=!1,V=[],_.v7_partialHydration){let U=vi(null,l,n.history.location.pathname);U.active&&U.matches&&(H=!0,V=U.matches)}let J,S={historyAction:n.history.action,location:n.history.location,matches:V,initialized:Z,navigation:wg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||W,fetchers:new Map,blockers:new Map},A=rn.Pop,N=!1,x,L=!1,$=new Map,D=null,Ee=!1,Le=!1,He=[],Ne=new Set,ne=new Map,me=0,ue=-1,B=new Map,ee=new Set,pe=new Map,ve=new Map,Ie=new Set,Ae=new Map,Ge=new Map,Fe;function st(){if(T=n.history.listen(U=>{let{action:q,location:Y,delta:re}=U;if(Fe){Fe(),Fe=void 0;return}va(Ge.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=Bi({currentLocation:S.location,nextLocation:Y,historyAction:q});if(_e&&re!=null){let ke=new Promise(Qe=>{Fe=Qe});n.history.go(re*-1),Xr(_e,{state:"blocked",location:Y,proceed(){Xr(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ke.then(()=>n.history.go(re))},reset(){let Qe=new Map(S.blockers);Qe.set(_e,Ju),it({blockers:Qe})}});return}return Ft(q,Y)}),t){B2(e,$);let U=()=>H2(e,$);e.addEventListener("pagehide",U),D=()=>e.removeEventListener("pagehide",U)}return S.initialized||Ft(rn.Pop,S.location,{initialHydration:!0}),J}function Et(){T&&T(),D&&D(),R.clear(),x&&x.abort(),S.fetchers.forEach((U,q)=>Kn(q)),S.blockers.forEach((U,q)=>gi(q))}function St(U){return R.add(U),()=>R.delete(U)}function it(U,q){q===void 0&&(q={}),S=jt({},S,U);let Y=[],re=[];_.v7_fetcherPersist&&S.fetchers.forEach((_e,ke)=>{_e.state==="idle"&&(Ie.has(ke)?re.push(ke):Y.push(ke))}),Ie.forEach(_e=>{!S.fetchers.has(_e)&&!ne.has(_e)&&re.push(_e)}),[...R].forEach(_e=>_e(S,{deletedFetchers:re,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),_.v7_fetcherPersist?(Y.forEach(_e=>S.fetchers.delete(_e)),re.forEach(_e=>Kn(_e))):re.forEach(_e=>Ie.delete(_e))}function kt(U,q,Y){var re,_e;let{flushSync:ke}=Y===void 0?{}:Y,Qe=S.actionData!=null&&S.navigation.formMethod!=null&&ci(S.navigation.formMethod)&&S.navigation.state==="loading"&&((re=U.state)==null?void 0:re._isRedirect)!==!0,Pe;q.actionData?Object.keys(q.actionData).length>0?Pe=q.actionData:Pe=null:Qe?Pe=S.actionData:Pe=null;let Re=q.loaderData?pT(S.loaderData,q.loaderData,q.matches||[],q.errors):S.loaderData,Se=S.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Je,Gt)=>Se.set(Gt,Ju)));let De=N===!0||S.navigation.formMethod!=null&&ci(S.navigation.formMethod)&&((_e=U.state)==null?void 0:_e._isRedirect)!==!0;c&&(l=c,c=void 0),Ee||A===rn.Pop||(A===rn.Push?n.history.push(U,U.state):A===rn.Replace&&n.history.replace(U,U.state));let et;if(A===rn.Pop){let Je=$.get(S.location.pathname);Je&&Je.has(U.pathname)?et={currentLocation:S.location,nextLocation:U}:$.has(U.pathname)&&(et={currentLocation:U,nextLocation:S.location})}else if(L){let Je=$.get(S.location.pathname);Je?Je.add(U.pathname):(Je=new Set([U.pathname]),$.set(S.location.pathname,Je)),et={currentLocation:S.location,nextLocation:U}}it(jt({},q,{actionData:Pe,loaderData:Re,historyAction:A,location:U,initialized:!0,navigation:wg,revalidation:"idle",restoreScrollPosition:yi(U,q.matches||S.matches),preventScrollReset:De,blockers:Se}),{viewTransitionOpts:et,flushSync:ke===!0}),A=rn.Pop,N=!1,L=!1,Ee=!1,Le=!1,He=[]}async function Kt(U,q){if(typeof U=="number"){n.history.go(U);return}let Y=ey(S.location,S.matches,f,_.v7_prependBasename,U,_.v7_relativeSplatPath,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:re,submission:_e,error:ke}=oT(_.v7_normalizeFormMethod,!1,Y,q),Qe=S.location,Pe=Tc(S.location,re,q&&q.state);Pe=jt({},Pe,n.history.encodeLocation(Pe));let Re=q&&q.replace!=null?q.replace:void 0,Se=rn.Push;Re===!0?Se=rn.Replace:Re===!1||_e!=null&&ci(_e.formMethod)&&_e.formAction===S.location.pathname+S.location.search&&(Se=rn.Replace);let De=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,et=(q&&q.flushSync)===!0,Je=Bi({currentLocation:Qe,nextLocation:Pe,historyAction:Se});if(Je){Xr(Je,{state:"blocked",location:Pe,proceed(){Xr(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),Kt(U,q)},reset(){let Gt=new Map(S.blockers);Gt.set(Je,Ju),it({blockers:Gt})}});return}return await Ft(Se,Pe,{submission:_e,pendingError:ke,preventScrollReset:De,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:et})}function rt(){if(mt(),it({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Ft(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Ft(A||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:L===!0})}}async function Ft(U,q,Y){x&&x.abort(),x=null,A=U,Ee=(Y&&Y.startUninterruptedRevalidation)===!0,$o(S.location,S.matches),N=(Y&&Y.preventScrollReset)===!0,L=(Y&&Y.enableViewTransition)===!0;let re=c||l,_e=Y&&Y.overrideNavigation,ke=Y!=null&&Y.initialHydration&&S.matches&&S.matches.length>0&&!H?S.matches:oa(re,q,f),Qe=(Y&&Y.flushSync)===!0,Pe=vi(ke,re,q.pathname);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){let{error:Tt,notFoundMatches:at,route:Rt}=On(q.pathname);kt(q,{matches:at,loaderData:{},errors:{[Rt.id]:Tt}},{flushSync:Qe});return}if(S.initialized&&!Le&&x2(S.location,q)&&!(Y&&Y.submission&&ci(Y.submission.formMethod))){kt(q,{matches:ke},{flushSync:Qe});return}x=new AbortController;let Re=gl(n.history,q,x.signal,Y&&Y.submission),Se;if(Y&&Y.pendingError)Se=[aa(ke).route.id,{type:Nt.error,error:Y.pendingError}];else if(Y&&Y.submission&&ci(Y.submission.formMethod)){let Tt=await mn(Re,q,Y.submission,ke,Pe.active,{replace:Y.replace,flushSync:Qe});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[at,Rt]=Tt.pendingActionResult;if(br(Rt)&&Ic(Rt.error)&&Rt.error.status===404){x=null,kt(q,{matches:Tt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}ke=Tt.matches||ke,Se=Tt.pendingActionResult,_e=Eg(q,Y.submission),Qe=!1,Pe.active=!1,Re=gl(n.history,Re.url,Re.signal)}let{shortCircuited:De,matches:et,loaderData:Je,errors:Gt}=await Or(Re,q,ke,Pe.active,_e,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Qe,Se);De||(x=null,kt(q,jt({matches:et||ke},mT(Se),{loaderData:Je,errors:Gt})))}async function mn(U,q,Y,re,_e,ke){ke===void 0&&(ke={}),mt();let Qe=j2(q,Y);if(it({navigation:Qe},{flushSync:ke.flushSync===!0}),_e){let Se=await sr(re,q.pathname,U.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let De=aa(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[De,{type:Nt.error,error:Se.error}]}}else if(Se.matches)re=Se.matches;else{let{notFoundMatches:De,error:et,route:Je}=On(q.pathname);return{matches:De,pendingActionResult:[Je.id,{type:Nt.error,error:et}]}}}let Pe,Re=rc(re,q);if(!Re.route.action&&!Re.route.lazy)Pe={type:Nt.error,error:pr(405,{method:U.method,pathname:q.pathname,routeId:Re.route.id})};else if(Pe=(await on("action",S,U,[Re],re,null))[Re.route.id],U.signal.aborted)return{shortCircuited:!0};if(da(Pe)){let Se;return ke&&ke.replace!=null?Se=ke.replace:Se=dT(Pe.response.headers.get("Location"),new URL(U.url),f)===S.location.pathname+S.location.search,await Dt(U,Pe,!0,{submission:Y,replace:Se}),{shortCircuited:!0}}if(fo(Pe))throw pr(400,{type:"defer-action"});if(br(Pe)){let Se=aa(re,Re.route.id);return(ke&&ke.replace)!==!0&&(A=rn.Push),{matches:re,pendingActionResult:[Se.route.id,Pe]}}return{matches:re,pendingActionResult:[Re.route.id,Pe]}}async function Or(U,q,Y,re,_e,ke,Qe,Pe,Re,Se,De){let et=_e||Eg(q,ke),Je=ke||Qe||vT(et),Gt=!Ee&&(!_.v7_partialHydration||!Re);if(re){if(Gt){let Ct=Wn(De);it(jt({navigation:et},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Se})}let dt=await sr(Y,q.pathname,U.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Ct=aa(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Ct]:dt.error}}}else if(dt.matches)Y=dt.matches;else{let{error:Ct,notFoundMatches:Zt,route:Ei}=On(q.pathname);return{matches:Zt,loaderData:{},errors:{[Ei.id]:Ct}}}}let Tt=c||l,[at,Rt]=lT(n.history,S,Y,Je,q,_.v7_partialHydration&&Re===!0,_.v7_skipActionErrorRevalidation,Le,He,Ne,Ie,pe,ee,Tt,f,De);if(ir(dt=>!(Y&&Y.some(Ct=>Ct.route.id===dt))||at&&at.some(Ct=>Ct.route.id===dt)),ue=++me,at.length===0&&Rt.length===0){let dt=rr();return kt(q,jt({matches:Y,loaderData:{},errors:De&&br(De[1])?{[De[0]]:De[1].error}:null},mT(De),dt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Se}),{shortCircuited:!0}}if(Gt){let dt={};if(!re){dt.navigation=et;let Ct=Wn(De);Ct!==void 0&&(dt.actionData=Ct)}Rt.length>0&&(dt.fetchers=Bt(Rt)),it(dt,{flushSync:Se})}Rt.forEach(dt=>{ot(dt.key),dt.controller&&ne.set(dt.key,dt.controller)});let xr=()=>Rt.forEach(dt=>ot(dt.key));x&&x.signal.addEventListener("abort",xr);let{loaderResults:_i,fetcherResults:_r}=await Ue(S,Y,at,Rt,U);if(U.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",xr),Rt.forEach(dt=>ne.delete(dt.key));let ct=Rf(_i);if(ct)return await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};if(ct=Rf(_r),ct)return ee.add(ct.key),await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Ps,errors:wr}=hT(S,Y,_i,De,Rt,_r,Ae);Ae.forEach((dt,Ct)=>{dt.subscribe(Zt=>{(Zt||dt.done)&&Ae.delete(Ct)})}),_.v7_partialHydration&&Re&&S.errors&&(wr=jt({},S.errors,wr));let xn=rr(),In=mi(ue),wi=xn||In||Rt.length>0;return jt({matches:Y,loaderData:Ps,errors:wr},wi?{fetchers:new Map(S.fetchers)}:{})}function Wn(U){if(U&&!br(U[1]))return{[U[0]]:U[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Bt(U){return U.forEach(q=>{let Y=S.fetchers.get(q.key),re=Zu(void 0,Y?Y.data:void 0);S.fetchers.set(q.key,re)}),new Map(S.fetchers)}function Jt(U,q,Y,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ot(U);let _e=(re&&re.flushSync)===!0,ke=c||l,Qe=ey(S.location,S.matches,f,_.v7_prependBasename,Y,_.v7_relativeSplatPath,q,re==null?void 0:re.relative),Pe=oa(ke,Qe,f),Re=vi(Pe,ke,Qe);if(Re.active&&Re.matches&&(Pe=Re.matches),!Pe){gn(U,q,pr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Se,submission:De,error:et}=oT(_.v7_normalizeFormMethod,!0,Qe,re);if(et){gn(U,q,et,{flushSync:_e});return}let Je=rc(Pe,Se),Gt=(re&&re.preventScrollReset)===!0;if(De&&ci(De.formMethod)){nr(U,q,Se,Je,Pe,Re.active,_e,Gt,De);return}pe.set(U,{routeId:q,path:Se}),Dn(U,q,Se,Je,Pe,Re.active,_e,Gt,De)}async function nr(U,q,Y,re,_e,ke,Qe,Pe,Re){mt(),pe.delete(U);function Se(ft){if(!ft.route.action&&!ft.route.lazy){let Lr=pr(405,{method:Re.formMethod,pathname:Y,routeId:q});return gn(U,q,Lr,{flushSync:Qe}),!0}return!1}if(!ke&&Se(re))return;let De=S.fetchers.get(U);Ot(U,F2(Re,De),{flushSync:Qe});let et=new AbortController,Je=gl(n.history,Y,et.signal,Re);if(ke){let ft=await sr(_e,new URL(Je.url).pathname,Je.signal);if(ft.type==="aborted")return;if(ft.type==="error"){gn(U,q,ft.error,{flushSync:Qe});return}else if(ft.matches){if(_e=ft.matches,re=rc(_e,Y),Se(re))return}else{gn(U,q,pr(404,{pathname:Y}),{flushSync:Qe});return}}ne.set(U,et);let Gt=me,at=(await on("action",S,Je,[re],_e,U))[re.route.id];if(Je.signal.aborted){ne.get(U)===et&&ne.delete(U);return}if(_.v7_fetcherPersist&&Ie.has(U)){if(da(at)||br(at)){Ot(U,no(void 0));return}}else{if(da(at))if(ne.delete(U),ue>Gt){Ot(U,no(void 0));return}else return ee.add(U),Ot(U,Zu(Re)),Dt(Je,at,!1,{fetcherSubmission:Re,preventScrollReset:Pe});if(br(at)){gn(U,q,at.error);return}}if(fo(at))throw pr(400,{type:"defer-action"});let Rt=S.navigation.location||S.location,xr=gl(n.history,Rt,et.signal),_i=c||l,_r=S.navigation.state!=="idle"?oa(_i,S.navigation.location,f):S.matches;ut(_r,"Didn't find any matches after fetcher action");let ct=++me;B.set(U,ct);let Ps=Zu(Re,at.data);S.fetchers.set(U,Ps);let[wr,xn]=lT(n.history,S,_r,Re,Rt,!1,_.v7_skipActionErrorRevalidation,Le,He,Ne,Ie,pe,ee,_i,f,[re.route.id,at]);xn.filter(ft=>ft.key!==U).forEach(ft=>{let Lr=ft.key,jo=S.fetchers.get(Lr),Da=Zu(void 0,jo?jo.data:void 0);S.fetchers.set(Lr,Da),ot(Lr),ft.controller&&ne.set(Lr,ft.controller)}),it({fetchers:new Map(S.fetchers)});let In=()=>xn.forEach(ft=>ot(ft.key));et.signal.addEventListener("abort",In);let{loaderResults:wi,fetcherResults:dt}=await Ue(S,_r,wr,xn,xr);if(et.signal.aborted)return;et.signal.removeEventListener("abort",In),B.delete(U),ne.delete(U),xn.forEach(ft=>ne.delete(ft.key));let Ct=Rf(wi);if(Ct)return Dt(xr,Ct.result,!1,{preventScrollReset:Pe});if(Ct=Rf(dt),Ct)return ee.add(Ct.key),Dt(xr,Ct.result,!1,{preventScrollReset:Pe});let{loaderData:Zt,errors:Ei}=hT(S,_r,wi,void 0,xn,dt,Ae);if(S.fetchers.has(U)){let ft=no(at.data);S.fetchers.set(U,ft)}mi(ct),S.navigation.state==="loading"&&ct>ue?(ut(A,"Expected pending action"),x&&x.abort(),kt(S.navigation.location,{matches:_r,loaderData:Zt,errors:Ei,fetchers:new Map(S.fetchers)})):(it({errors:Ei,loaderData:pT(S.loaderData,Zt,_r,Ei),fetchers:new Map(S.fetchers)}),Le=!1)}async function Dn(U,q,Y,re,_e,ke,Qe,Pe,Re){let Se=S.fetchers.get(U);Ot(U,Zu(Re,Se?Se.data:void 0),{flushSync:Qe});let De=new AbortController,et=gl(n.history,Y,De.signal);if(ke){let at=await sr(_e,new URL(et.url).pathname,et.signal);if(at.type==="aborted")return;if(at.type==="error"){gn(U,q,at.error,{flushSync:Qe});return}else if(at.matches)_e=at.matches,re=rc(_e,Y);else{gn(U,q,pr(404,{pathname:Y}),{flushSync:Qe});return}}ne.set(U,De);let Je=me,Tt=(await on("loader",S,et,[re],_e,U))[re.route.id];if(fo(Tt)&&(Tt=await Rv(Tt,et.signal,!0)||Tt),ne.get(U)===De&&ne.delete(U),!et.signal.aborted){if(Ie.has(U)){Ot(U,no(void 0));return}if(da(Tt))if(ue>Je){Ot(U,no(void 0));return}else{ee.add(U),await Dt(et,Tt,!1,{preventScrollReset:Pe});return}if(br(Tt)){gn(U,q,Tt.error);return}ut(!fo(Tt),"Unhandled fetcher deferred data"),Ot(U,no(Tt.data))}}async function Dt(U,q,Y,re){let{submission:_e,fetcherSubmission:ke,preventScrollReset:Qe,replace:Pe}=re===void 0?{}:re;q.response.headers.has("X-Remix-Revalidate")&&(Le=!0);let Re=q.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=dT(Re,new URL(U.url),f);let Se=Tc(S.location,Re,{_isRedirect:!0});if(t){let at=!1;if(q.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(Av.test(Re)){const Rt=n.history.createURL(Re);at=Rt.origin!==e.location.origin||gs(Rt.pathname,f)==null}if(at){Pe?e.location.replace(Re):e.location.assign(Re);return}}x=null;let De=Pe===!0||q.response.headers.has("X-Remix-Replace")?rn.Replace:rn.Push,{formMethod:et,formAction:Je,formEncType:Gt}=S.navigation;!_e&&!ke&&et&&Je&&Gt&&(_e=vT(S.navigation));let Tt=_e||ke;if(E2.has(q.response.status)&&Tt&&ci(Tt.formMethod))await Ft(De,Se,{submission:jt({},Tt,{formAction:Re}),preventScrollReset:Qe||N,enableViewTransition:Y?L:void 0});else{let at=Eg(Se,_e);await Ft(De,Se,{overrideNavigation:at,fetcherSubmission:ke,preventScrollReset:Qe||N,enableViewTransition:Y?L:void 0})}}async function on(U,q,Y,re,_e,ke){let Qe,Pe={};try{Qe=await N2(p,U,q,Y,re,_e,ke,a,i)}catch(Re){return re.forEach(Se=>{Pe[Se.route.id]={type:Nt.error,error:Re}}),Pe}for(let[Re,Se]of Object.entries(Qe))if(L2(Se)){let De=Se.result;Pe[Re]={type:Nt.redirect,response:D2(De,Y,Re,_e,f,_.v7_relativeSplatPath)}}else Pe[Re]=await P2(Se);return Pe}async function Ue(U,q,Y,re,_e){let ke=U.matches,Qe=on("loader",U,_e,Y,q,null),Pe=Promise.all(re.map(async De=>{if(De.matches&&De.match&&De.controller){let Je=(await on("loader",U,gl(n.history,De.path,De.controller.signal),[De.match],De.matches,De.key))[De.match.route.id];return{[De.key]:Je}}else return Promise.resolve({[De.key]:{type:Nt.error,error:pr(404,{pathname:De.path})}})})),Re=await Qe,Se=(await Pe).reduce((De,et)=>Object.assign(De,et),{});return await Promise.all([$2(q,Re,_e.signal,ke,U.loaderData),U2(q,Se,re)]),{loaderResults:Re,fetcherResults:Se}}function mt(){Le=!0,He.push(...ir()),pe.forEach((U,q)=>{ne.has(q)&&Ne.add(q),ot(q)})}function Ot(U,q,Y){Y===void 0&&(Y={}),S.fetchers.set(U,q),it({fetchers:new Map(S.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function gn(U,q,Y,re){re===void 0&&(re={});let _e=aa(S.matches,q);Kn(U),it({errors:{[_e.route.id]:Y},fetchers:new Map(S.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function qn(U){return ve.set(U,(ve.get(U)||0)+1),Ie.has(U)&&Ie.delete(U),S.fetchers.get(U)||T2}function Kn(U){let q=S.fetchers.get(U);ne.has(U)&&!(q&&q.state==="loading"&&B.has(U))&&ot(U),pe.delete(U),B.delete(U),ee.delete(U),_.v7_fetcherPersist&&Ie.delete(U),Ne.delete(U),S.fetchers.delete(U)}function ze(U){let q=(ve.get(U)||0)-1;q<=0?(ve.delete(U),Ie.add(U),_.v7_fetcherPersist||Kn(U)):ve.set(U,q),it({fetchers:new Map(S.fetchers)})}function ot(U){let q=ne.get(U);q&&(q.abort(),ne.delete(U))}function yn(U){for(let q of U){let Y=qn(q),re=no(Y.data);S.fetchers.set(q,re)}}function rr(){let U=[],q=!1;for(let Y of ee){let re=S.fetchers.get(Y);ut(re,"Expected fetcher: "+Y),re.state==="loading"&&(ee.delete(Y),U.push(Y),q=!0)}return yn(U),q}function mi(U){let q=[];for(let[Y,re]of B)if(re<U){let _e=S.fetchers.get(Y);ut(_e,"Expected fetcher: "+Y),_e.state==="loading"&&(ot(Y),B.delete(Y),q.push(Y))}return yn(q),q.length>0}function Vo(U,q){let Y=S.blockers.get(U)||Ju;return Ge.get(U)!==q&&Ge.set(U,q),Y}function gi(U){S.blockers.delete(U),Ge.delete(U)}function Xr(U,q){let Y=S.blockers.get(U)||Ju;ut(Y.state==="unblocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="proceeding"||Y.state==="blocked"&&q.state==="unblocked"||Y.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+Y.state+" -> "+q.state);let re=new Map(S.blockers);re.set(U,q),it({blockers:re})}function Bi(U){let{currentLocation:q,nextLocation:Y,historyAction:re}=U;if(Ge.size===0)return;Ge.size>1&&va(!1,"A router only supports one blocker at a time");let _e=Array.from(Ge.entries()),[ke,Qe]=_e[_e.length-1],Pe=S.blockers.get(ke);if(!(Pe&&Pe.state==="proceeding")&&Qe({currentLocation:q,nextLocation:Y,historyAction:re}))return ke}function On(U){let q=pr(404,{pathname:U}),Y=c||l,{matches:re,route:_e}=gT(Y);return ir(),{notFoundMatches:re,route:_e,error:q}}function ir(U){let q=[];return Ae.forEach((Y,re)=>{(!U||U(re))&&(Y.cancel(),q.push(re),Ae.delete(re))}),q}function ks(U,q,Y){if(P=U,b=q,O=Y||null,!F&&S.navigation===wg){F=!0;let re=yi(S.location,S.matches);re!=null&&it({restoreScrollPosition:re})}return()=>{P=null,b=null,O=null}}function vr(U,q){return O&&O(U,q.map(re=>ZV(re,S.loaderData)))||U.key}function $o(U,q){if(P&&b){let Y=vr(U,q);P[Y]=b()}}function yi(U,q){if(P){let Y=vr(U,q),re=P[Y];if(typeof re=="number")return re}return null}function vi(U,q,Y){if(g)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:Ff(q,Y,f,!0)}}else return{active:!0,matches:Ff(q,Y,f,!0)||[]};return{active:!1,matches:null}}async function sr(U,q,Y){if(!g)return{type:"success",matches:U};let re=U;for(;;){let _e=c==null,ke=c||l,Qe=a;try{await g({signal:Y,path:q,matches:re,patch:(Se,De)=>{Y.aborted||cT(Se,De,ke,Qe,i)}})}catch(Se){return{type:"error",error:Se,partialMatches:re}}finally{_e&&!Y.aborted&&(l=[...l])}if(Y.aborted)return{type:"aborted"};let Pe=oa(ke,q,f);if(Pe)return{type:"success",matches:Pe};let Re=Ff(ke,q,f,!0);if(!Re||re.length===Re.length&&re.every((Se,De)=>Se.route.id===Re[De].route.id))return{type:"success",matches:null};re=Re}}function Uo(U){a={},c=ah(U,i,void 0,a)}function Ht(U,q){let Y=c==null;cT(U,q,c||l,a,i),Y&&(l=[...l],it({}))}return J={get basename(){return f},get future(){return _},get state(){return S},get routes(){return l},get window(){return e},initialize:st,subscribe:St,enableScrollRestoration:ks,navigate:Kt,fetch:Jt,revalidate:rt,createHref:U=>n.history.createHref(U),encodeLocation:U=>n.history.encodeLocation(U),getFetcher:qn,deleteFetcher:ze,dispose:Et,getBlocker:Vo,deleteBlocker:gi,patchRoutes:Ht,_internalFetchControllers:ne,_internalActiveDeferreds:Ae,_internalSetRoutes:Uo},J}function C2(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ey(n,e,t,r,i,a,l,c){let f,p;if(l){f=[];for(let _ of e)if(f.push(_),_.route.id===l){p=_;break}}else f=e,p=e[e.length-1];let g=Cv(i||".",Sv(f,a),gs(n.pathname,t)||n.pathname,c==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&p){let _=bv(g.search);if(p.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&_){let T=new URLSearchParams(g.search),R=T.getAll("index");T.delete("index"),R.filter(O=>O).forEach(O=>T.append("index",O));let P=T.toString();g.search=P?"?"+P:""}}return r&&t!=="/"&&(g.pathname=g.pathname==="/"?t:fs([t,g.pathname])),_a(g)}function oT(n,e,t,r){if(!r||!C2(r))return{path:t};if(r.formMethod&&!V2(r.formMethod))return{path:t,error:pr(405,{method:r.formMethod})};let i=()=>({path:t,error:pr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),c=pR(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ci(l))return i();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,P)=>{let[O,b]=P;return""+R+O+"="+b+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!ci(l))return i();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=ny(r.formData),p=r.formData;else if(r.body instanceof FormData)f=ny(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=fT(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=fT(f)}catch{return i()}let g={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ci(g.formMethod))return{path:t,submission:g};let _=As(t);return e&&_.search&&bv(_.search)&&f.append("index",""),_.search="?"+f,{path:_a(_),submission:g}}function aT(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function lT(n,e,t,r,i,a,l,c,f,p,g,_,T,R,P,O){let b=O?br(O[1])?O[1].error:O[1].data:void 0,F=n.createURL(e.location),V=n.createURL(i),H=t;a&&e.errors?H=aT(t,Object.keys(e.errors)[0],!0):O&&br(O[1])&&(H=aT(t,O[0]));let W=O?O[1].statusCode:void 0,Z=l&&W&&W>=400,J=H.filter((A,N)=>{let{route:x}=A;if(x.lazy)return!0;if(x.loader==null)return!1;if(a)return ty(x,e.loaderData,e.errors);if(A2(e.loaderData,e.matches[N],A)||f.some(D=>D===A.route.id))return!0;let L=e.matches[N],$=A;return uT(A,jt({currentUrl:F,currentParams:L.params,nextUrl:V,nextParams:$.params},r,{actionResult:b,actionStatus:W,defaultShouldRevalidate:Z?!1:c||F.pathname+F.search===V.pathname+V.search||F.search!==V.search||fR(L,$)}))}),S=[];return _.forEach((A,N)=>{if(a||!t.some(Ee=>Ee.route.id===A.routeId)||g.has(N))return;let x=oa(R,A.path,P);if(!x){S.push({key:N,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(N),$=rc(x,A.path),D=!1;T.has(N)?D=!1:p.has(N)?(p.delete(N),D=!0):L&&L.state!=="idle"&&L.data===void 0?D=c:D=uT($,jt({currentUrl:F,currentParams:e.matches[e.matches.length-1].params,nextUrl:V,nextParams:t[t.length-1].params},r,{actionResult:b,actionStatus:W,defaultShouldRevalidate:Z?!1:c})),D&&S.push({key:N,routeId:A.routeId,path:A.path,matches:x,match:$,controller:new AbortController})}),[J,S]}function ty(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function A2(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function fR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function uT(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function cT(n,e,t,r,i){var a;let l;if(n){let p=r[n];ut(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(g=>hR(p,g))),f=ah(c,i,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...f)}function hR(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>hR(t,a))}):!1}async function R2(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];ut(i,"No route found in manifest");let a={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";va(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!XV.has(l)&&(a[l]=r[l])}Object.assign(i,a),Object.assign(i,jt({},e(i),{lazy:void 0}))}async function b2(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,a,l)=>Object.assign(i,{[t[l].route.id]:a}),{})}async function N2(n,e,t,r,i,a,l,c,f,p){let g=a.map(R=>R.route.lazy?R2(R.route,f,c):void 0),_=a.map((R,P)=>{let O=g[P],b=i.some(V=>V.route.id===R.route.id);return jt({},R,{shouldLoad:b,resolve:async V=>(V&&r.method==="GET"&&(R.route.lazy||R.route.loader)&&(b=!0),b?k2(e,r,R,O,V,p):Promise.resolve({type:Nt.data,result:void 0}))})}),T=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return T}async function k2(n,e,t,r,i,a){let l,c,f=p=>{let g,_=new Promise((P,O)=>g=O);c=()=>g(),e.signal.addEventListener("abort",c);let T=P=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...P!==void 0?[P]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(O=>T(O)):T())}}catch(P){return{type:"error",result:P}}})();return Promise.race([R,_])};try{let p=t.route[n];if(r)if(p){let g,[_]=await Promise.all([f(p).catch(T=>{g=T}),r]);if(g!==void 0)throw g;l=_}else if(await r,p=t.route[n],p)l=await f(p);else if(n==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw pr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await f(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw pr(404,{pathname:_})}ut(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function P2(n){let{result:e,type:t}=n;if(mR(e)){let _;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(T){return{type:Nt.error,error:T}}return t===Nt.error?{type:Nt.error,error:new uh(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:_,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(yT(e)){var r,i;if(e.data instanceof Error){var a,l;return{type:Nt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new uh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Ic(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:Ic(e)?e.status:void 0}}if(M2(e)){var c,f;return{type:Nt.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(yT(e)){var p,g;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function D2(n,e,t,r,i,a){let l=n.headers.get("Location");if(ut(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Av.test(l)){let c=r.slice(0,r.findIndex(f=>f.route.id===t)+1);l=ey(new URL(e.url),c,i,!0,l,a),n.headers.set("Location",l)}return n}function dT(n,e,t){if(Av.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=gs(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return n}function gl(n,e,t,r){let i=n.createURL(pR(e)).toString(),a={signal:t};if(r&&ci(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=ny(r.formData):a.body=r.formData}return new Request(i,a)}function ny(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function fT(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function O2(n,e,t,r,i){let a={},l=null,c,f=!1,p={},g=t&&br(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let T=_.route.id,R=e[T];if(ut(!da(R),"Cannot handle redirect results in processLoaderData"),br(R)){let P=R.error;g!==void 0&&(P=g,g=void 0),l=l||{};{let O=aa(n,T);l[O.route.id]==null&&(l[O.route.id]=P)}a[T]=void 0,f||(f=!0,c=Ic(R.error)?R.error.status:500),R.headers&&(p[T]=R.headers)}else fo(R)?(r.set(T,R.deferredData),a[T]=R.deferredData.data,R.statusCode!=null&&R.statusCode!==200&&!f&&(c=R.statusCode),R.headers&&(p[T]=R.headers)):(a[T]=R.data,R.statusCode&&R.statusCode!==200&&!f&&(c=R.statusCode),R.headers&&(p[T]=R.headers))}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:p}}function hT(n,e,t,r,i,a,l){let{loaderData:c,errors:f}=O2(e,t,r,l);return i.forEach(p=>{let{key:g,match:_,controller:T}=p,R=a[g];if(ut(R,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(br(R)){let P=aa(n.matches,_==null?void 0:_.route.id);f&&f[P.route.id]||(f=jt({},f,{[P.route.id]:R.error})),n.fetchers.delete(g)}else if(da(R))ut(!1,"Unhandled fetcher revalidation redirect");else if(fo(R))ut(!1,"Unhandled fetcher deferred data");else{let P=no(R.data);n.fetchers.set(g,P)}}),{loaderData:c,errors:f}}function pT(n,e,t,r){let i=jt({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&a.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function mT(n){return n?br(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function aa(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function gT(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pr(n,e){let{pathname:t,routeId:r,method:i,type:a,message:l}=e===void 0?{}:e,c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&t&&r?f="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f='Route "'+r+'" does not match URL "'+t+'"'):n===404?(c="Not Found",f='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",i&&t&&r?f="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new uh(n||500,c,new Error(f),!0)}function Rf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(da(i))return{key:r,result:i}}}function pR(n){let e=typeof n=="string"?As(n):n;return _a(jt({},e,{hash:""}))}function x2(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function L2(n){return mR(n.result)&&w2.has(n.result.status)}function fo(n){return n.type===Nt.deferred}function br(n){return n.type===Nt.error}function da(n){return(n&&n.type)===Nt.redirect}function yT(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function M2(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function mR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function V2(n){return _2.has(n.toLowerCase())}function ci(n){return y2.has(n.toLowerCase())}async function $2(n,e,t,r,i){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[c,f]=a[l],p=n.find(T=>(T==null?void 0:T.route.id)===c);if(!p)continue;let g=r.find(T=>T.route.id===p.route.id),_=g!=null&&!fR(g,p)&&(i&&i[p.route.id])!==void 0;fo(f)&&_&&await Rv(f,t,!1).then(T=>{T&&(e[c]=T)})}}async function U2(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:a,controller:l}=t[r],c=e[i];n.find(p=>(p==null?void 0:p.route.id)===a)&&fo(c)&&(ut(l,"Expected an AbortController for revalidating fetcher deferred result"),await Rv(c,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function Rv(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Nt.error,error:i}}return{type:Nt.data,data:n.deferredData.data}}}function bv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function rc(n,e){let t=typeof e=="string"?As(e).search:e.search;if(n[n.length-1].route.index&&bv(t||""))return n[n.length-1];let r=uR(n);return r[r.length-1]}function vT(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:a,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Eg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function j2(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Zu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function F2(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function no(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function B2(n,e){try{let t=n.sessionStorage.getItem(dR);if(t){let r=JSON.parse(t);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function H2(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(dR,JSON.stringify(t))}catch(r){va(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ch.apply(this,arguments)}const Kc=w.createContext(null),Nv=w.createContext(null),Oo=w.createContext(null),kv=w.createContext(null),Rs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),gR=w.createContext(null);function z2(n,e){let{relative:t}=e===void 0?{}:e;Gc()||ut(!1);let{basename:r,navigator:i}=w.useContext(Oo),{hash:a,pathname:l,search:c}=Gh(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:fs([r,l])),i.createHref({pathname:f,search:c,hash:a})}function Gc(){return w.useContext(kv)!=null}function Qc(){return Gc()||ut(!1),w.useContext(kv).location}function yR(n){w.useContext(Oo).static||w.useLayoutEffect(n)}function xo(){let{isDataRoute:n}=w.useContext(Rs);return n?r$():W2()}function W2(){Gc()||ut(!1);let n=w.useContext(Kc),{basename:e,future:t,navigator:r}=w.useContext(Oo),{matches:i}=w.useContext(Rs),{pathname:a}=Qc(),l=JSON.stringify(Sv(i,t.v7_relativeSplatPath)),c=w.useRef(!1);return yR(()=>{c.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let _=Cv(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fs([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}const q2=w.createContext(null);function K2(n){let e=w.useContext(Rs).outlet;return e&&w.createElement(q2.Provider,{value:n},e)}function vR(){let{matches:n}=w.useContext(Rs),e=n[n.length-1];return e?e.params:{}}function Gh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Oo),{matches:i}=w.useContext(Rs),{pathname:a}=Qc(),l=JSON.stringify(Sv(i,r.v7_relativeSplatPath));return w.useMemo(()=>Cv(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function G2(n,e,t,r){Gc()||ut(!1);let{navigator:i,static:a}=w.useContext(Oo),{matches:l}=w.useContext(Rs),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=Qc(),_;_=g;let T=_.pathname||"/",R=T;if(p!=="/"){let b=p.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(b.length).join("/")}let P=!a&&t&&t.matches&&t.matches.length>0?t.matches:oa(n,{pathname:R});return Z2(P&&P.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:fs([p,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:fs([p,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,t,r)}function Q2(){let n=TR(),e=Ic(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,null)}const Y2=w.createElement(Q2,null);class X2 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Rs.Provider,{value:this.props.routeContext},w.createElement(gR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J2(n){let{routeContext:e,match:t,children:r}=n,i=w.useContext(Kc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Rs.Provider,{value:e},r)}function Z2(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);g>=0||ut(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:R}=t,P=_.route.loader&&T[_.route.id]===void 0&&(!R||R[_.route.id]===void 0);if(_.route.lazy||P){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let R,P=!1,O=null,b=null;t&&(R=c&&_.route.id?c[_.route.id]:void 0,O=_.route.errorElement||Y2,f&&(p<0&&T===0?(i$("route-fallback"),P=!0,b=null):p===T&&(P=!0,b=_.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,T+1)),V=()=>{let H;return R?H=O:P?H=b:_.route.Component?H=w.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=g,w.createElement(J2,{match:_,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:H})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?w.createElement(X2,{location:t.location,revalidation:t.revalidation,component:O,error:R,children:V(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):V()},null)}var _R=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_R||{}),wR=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wR||{});function e$(n){let e=w.useContext(Kc);return e||ut(!1),e}function t$(n){let e=w.useContext(Nv);return e||ut(!1),e}function n$(n){let e=w.useContext(Rs);return e||ut(!1),e}function ER(n){let e=n$(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function TR(){var n;let e=w.useContext(gR),t=t$(wR.UseRouteError),r=ER();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function r$(){let{router:n}=e$(_R.UseNavigateStable),e=ER(),t=w.useRef(!1);return yR(()=>{t.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,ch({fromRouteId:e},a)))},[n,e])}const _T={};function i$(n,e,t){_T[n]||(_T[n]=!0)}function s$(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function o$(n){return K2(n.context)}function a$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=rn.Pop,navigator:a,static:l=!1,future:c}=n;Gc()&&ut(!1);let f=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:f,navigator:a,static:l,future:ch({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof r=="string"&&(r=As(r));let{pathname:g="/",search:_="",hash:T="",state:R=null,key:P="default"}=r,O=w.useMemo(()=>{let b=gs(g,f);return b==null?null:{location:{pathname:b,search:_,hash:T,state:R,key:P},navigationType:i}},[f,g,_,T,R,P,i]);return O==null?null:w.createElement(Oo.Provider,{value:p},w.createElement(kv.Provider,{children:t,value:O}))}new Promise(()=>{});function l$(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hl.apply(this,arguments)}function IR(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function u$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function c$(n,e){return n.button===0&&(!e||e==="_self")&&!u$(n)}const d$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h$="6";try{window.__reactRouterVersion=h$}catch{}function p$(n,e){return S2({basename:void 0,future:Hl({},void 0,{v7_prependBasename:!0}),history:GV({window:void 0}),hydrationData:m$(),routes:n,mapRouteProperties:l$,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function m$(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Hl({},e,{errors:g$(e.errors)})),e}function g$(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new uh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(i.message);a.stack="",t[r]=a}}else t[r]=i;return t}const SR=w.createContext({isTransitioning:!1}),y$=w.createContext(new Map),v$="startTransition",wT=tP[v$],_$="flushSync",ET=bL[_$];function w$(n){wT?wT(n):n()}function ec(n){ET?ET(n):n()}let E$=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function T$(n){let{fallbackElement:e,router:t,future:r}=n,[i,a]=w.useState(t.state),[l,c]=w.useState(),[f,p]=w.useState({isTransitioning:!1}),[g,_]=w.useState(),[T,R]=w.useState(),[P,O]=w.useState(),b=w.useRef(new Map),{v7_startTransition:F}=r||{},V=w.useCallback(A=>{F?w$(A):A()},[F]),H=w.useCallback((A,N)=>{let{deletedFetchers:x,flushSync:L,viewTransitionOpts:$}=N;A.fetchers.forEach((Ee,Le)=>{Ee.data!==void 0&&b.current.set(Le,Ee.data)}),x.forEach(Ee=>b.current.delete(Ee));let D=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!$||D){L?ec(()=>a(A)):V(()=>a(A));return}if(L){ec(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let Ee=t.window.document.startViewTransition(()=>{ec(()=>a(A))});Ee.finished.finally(()=>{ec(()=>{_(void 0),R(void 0),c(void 0),p({isTransitioning:!1})})}),ec(()=>R(Ee));return}T?(g&&g.resolve(),T.skipTransition(),O({state:A,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(c(A),p({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[t.window,T,g,b,V]);w.useLayoutEffect(()=>t.subscribe(H),[t,H]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&_(new E$)},[f]),w.useEffect(()=>{if(g&&l&&t.window){let A=l,N=g.promise,x=t.window.document.startViewTransition(async()=>{V(()=>a(A)),await N});x.finished.finally(()=>{_(void 0),R(void 0),c(void 0),p({isTransitioning:!1})}),R(x)}},[V,l,g,t.window]),w.useEffect(()=>{g&&l&&i.location.key===l.location.key&&g.resolve()},[g,T,i.location,l]),w.useEffect(()=>{!f.isTransitioning&&P&&(c(P.state),p({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),O(void 0))},[f.isTransitioning,P]),w.useEffect(()=>{},[]);let W=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,N,x)=>t.navigate(A,{state:N,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(A,N,x)=>t.navigate(A,{replace:!0,state:N,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[t]),Z=t.basename||"/",J=w.useMemo(()=>({router:t,navigator:W,static:!1,basename:Z}),[t,W,Z]),S=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>s$(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(Kc.Provider,{value:J},w.createElement(Nv.Provider,{value:i},w.createElement(y$.Provider,{value:b.current},w.createElement(SR.Provider,{value:f},w.createElement(a$,{basename:Z,location:i.location,navigationType:i.historyAction,navigator:W,future:S},i.initialized||t.future.v7_partialHydration?w.createElement(I$,{routes:t.routes,future:t.future,state:i}):e))))),null)}const I$=w.memo(S$);function S$(n){let{routes:e,future:t,state:r}=n;return G2(e,void 0,r,t)}const C$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R$=w.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_}=e,T=IR(e,d$),{basename:R}=w.useContext(Oo),P,O=!1;if(typeof p=="string"&&A$.test(p)&&(P=p,C$))try{let H=new URL(window.location.href),W=p.startsWith("//")?new URL(H.protocol+p):new URL(p),Z=gs(W.pathname,R);W.origin===H.origin&&Z!=null?p=Z+W.search+W.hash:O=!0}catch{}let b=z2(p,{relative:i}),F=N$(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:_});function V(H){r&&r(H),H.defaultPrevented||F(H)}return w.createElement("a",Hl({},T,{href:P||b,onClick:O||a?r:V,ref:t,target:f}))}),tc=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:p,children:g}=e,_=IR(e,f$),T=Gh(f,{relative:_.relative}),R=Qc(),P=w.useContext(Nv),{navigator:O,basename:b}=w.useContext(Oo),F=P!=null&&k$(T)&&p===!0,V=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,H=R.pathname,W=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(H=H.toLowerCase(),W=W?W.toLowerCase():null,V=V.toLowerCase()),W&&b&&(W=gs(W,b)||W);const Z=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let J=H===V||!l&&H.startsWith(V)&&H.charAt(Z)==="/",S=W!=null&&(W===V||!l&&W.startsWith(V)&&W.charAt(V.length)==="/"),A={isActive:J,isPending:S,isTransitioning:F},N=J?r:void 0,x;typeof a=="function"?x=a(A):x=[a,J?"active":null,S?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(A):c;return w.createElement(R$,Hl({},_,{"aria-current":N,className:x,ref:t,style:L,to:f,viewTransition:p}),typeof g=="function"?g(A):g)});var ry;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ry||(ry={}));var TT;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(TT||(TT={}));function b$(n){let e=w.useContext(Kc);return e||ut(!1),e}function N$(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,f=xo(),p=Qc(),g=Gh(n,{relative:l});return w.useCallback(_=>{if(c$(_,t)){_.preventDefault();let T=r!==void 0?r:_a(p)===_a(g);f(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,g,r,i,t,n,a,l,c])}function k$(n,e){e===void 0&&(e={});let t=w.useContext(SR);t==null&&ut(!1);let{basename:r}=b$(ry.useViewTransitionState),i=Gh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return lh(i.pathname,l)!=null||lh(i.pathname,a)!=null}function P$(){const[n,e]=w.useState(!1),[t,r]=w.useState(!1),i=()=>r(!1),a=()=>r(!0),l=P=>I(nR,{id:"button-tooltip",...P,children:"Please check the notice below to continue.."}),{session:c}=Io(),f=xo();w.useEffect(()=>{c&&f("/Home")},[c,f]);const[p,g]=w.useState(!1);function _(P){switch(P.target.checked){case!0:g(!0);break;case!1:g(!1);break}}const{logIn:T}=Io();async function R(){e(!0),await T(),e(!1)}return ae(pn,{children:[I(Fn,{show:n,centered:!0,backdrop:"static",children:ae(Fn.Body,{className:"text-center",children:[I("div",{className:"spinner-border text-primary",role:"status"}),I("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),ae(Fn,{show:t,children:[I(Fn.Header,{children:I(Fn.Title,{children:"Terms and Conditions"})}),I(Fn.Body,{children:ae("p",{children:["1. User Responsibility ",I("br",{})," By using this platform, you acknowledge that all interactions and transactions between users are conducted at your own risk. We do not take responsibility for any disputes, agreements, or exchanges made between users. It is your responsibility to exercise caution and ensure the legitimacy of the items and users you engage with.",I("br",{}),I("br",{}),"2. Privacy and Message Monitoring ",I("br",{})," We respect your privacy and do not monitor or view private messages exchanged between users during transactions. However, all accounts are recorded in our system for security and compliance purposes.",I("br",{}),I("br",{}),"3. Item Posting and Review",I("br",{}),"All items posted on the platform are subject to review by an administrator. We reserve the right to remove or reject any listings that contain inappropriate, illegal, or prohibited content. Users are encouraged to adhere to ethical and legal guidelines when posting items.",I("br",{}),I("br",{}),"4. Violations and Account Management",I("br",{}),"Users who repeatedly violate our guidelines by posting inappropriate content or engaging in prohibited activities may face account restrictions, suspensions, or permanent deletion. We reserve the right to take appropriate actions to maintain the integrity of the platform.",I("br",{}),I("br",{}),"5. Disclaimer of Liability",I("br",{}),"We do not guarantee the quality, safety, legality, or authenticity of the items listed on the platform. The website serves only as a medium for users to connect and trade, and we do not take responsibility for any losses, damages, or issues arising from trades or interactions.",I("br",{}),I("br",{}),"6. Amendments and Changes",I("br",{}),"We reserve the right to update or modify these Terms and Conditions at any time. Users are responsible for staying informed about any changes. Continued use of the platform signifies your acceptance of the updated terms.",I("br",{}),I("br",{}),"By using this platform, you agree to abide by these Terms and Conditions and ensure that your activities align with our community standards."]})}),I(Fn.Footer,{children:I(cn,{variant:"primary",onClick:i,children:"Okay"})})]}),ae("div",{className:"logincontainer",children:[I("div",{className:"circle",children:I("img",{src:"./images/favicon.png"})}),I("p",{className:"LoginWord",children:" USER LOGIN "}),ae("div",{className:"google-button",children:[p&&I(cn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:R,disabled:n,children:"Login with Google"}),!p&&I(LV,{placement:"right",delay:{show:0,hide:400},overlay:l,children:I("div",{children:I(cn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),ae("div",{children:[I("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),I("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),I("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:_}),I("p",{className:"terms-text text-primary fw-bold",style:{cursor:"pointer",textDecoration:"underline",position:"absolute",bottom:"0%",left:"30%"},onClick:a,children:"Terms and Conditions"})]})]})]})}async function D$(n){return await lu.createFile("678bac020031c1c3ad75",Bl.unique(),n)}async function O$(n){return await lu.deleteFile("678bac020031c1c3ad75",n)}function Yc(n){return lu.getFilePreview("678bac020031c1c3ad75",n)}function iy(n){return lu.getFilePreview("67932f8600176cf1dfdc",n)}async function x$(n,e){return await lu.createFile("67932f8600176cf1dfdc",n,e)}async function L$(n){return await lu.deleteFile("67932f8600176cf1dfdc",n)}async function M$(){const{documents:n}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.equal("isApproved",!0)]);return{items:n.map(bs)}}async function V$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("name",n),je.equal("isApproved",!0)]);return{items:e.map(bs)}}async function $$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("itemCategory",n),je.equal("isApproved",!0)]);return{items:e.map(bs)}}async function Pv(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.contains("authorID",n),je.orderDesc("date")]);return{items:e.map(bs)}}async function U$(){const{documents:n}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.equal("isApproved",!1),je.orderDesc("date")]);return{items:n.map(bs)}}async function sy(n){const e=await zn.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:bs(e)}}async function j$(n){const{items:e}=await sy(n);await O$(e.imageFileId),await zn.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function F$(n){const e=await zn.createDocument("678babec0039e89240df","67932f2e00392d850485",Bl.unique(),n);return{items:bs(e)}}async function CR(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:bs(t)}}async function IT(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:bs(t)}}function bs(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:n.isApproved,requests:n.requests,itemCategory:n.itemCategory}}async function B$(n,e){const t=await zn.createDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Qh(t)}}async function wa(n){const e=await zn.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:Qh(e)}}async function H$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f37003021addec1",[je.contains("displayName",n)]);return{userdb:e.map(Qh)}}async function z$(n){try{const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f37003021addec1",[je.contains("displayName",n)]);return!!e}catch{return!1}}async function W$(n){try{return!!await zn.getDocument("678babec0039e89240df","67932f37003021addec1",n)}catch{return!1}}async function q$(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Qh(t)}}function Qh(n){return{userId:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight,userEmail:n.userEmail,firebaseId:n.firebaseId}}function bf(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,i,...a]=t.map(f=>parseInt(f)),l=[r,i-1,...a];return new Date(Date.UTC(...l))}}function ST(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function oy(){return oy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oy.apply(this,arguments)}const ic=60,sc=ic*60,Rl=sc*24,Nf=Rl*7,CT=Rl*30,AT=Rl*365,K$=()=>Date.now();function G$({date:n,formatter:e=ST,component:t="time",live:r=!0,minPeriod:i=0,maxPeriod:a=Nf,title:l,now:c=K$,...f}){const[p,g]=w.useState(c());w.useEffect(()=>{if(!r)return;const Z=(()=>{const J=bf(n).valueOf();if(!J)return console.warn("[react-timeago] Invalid Date provided"),0;const S=Math.round(Math.abs(p-J)/1e3),A=S<ic?1e3:S<sc?1e3*ic:S<Rl?1e3*sc:1e3*Nf,N=Math.min(Math.max(A,i*1e3),a*1e3);return N?setTimeout(()=>{g(c())},N):0})();return()=>{Z&&clearTimeout(Z)}},[n,r,a,i,c,p]);const _=t,T=bf(n).valueOf();if(!T)return null;const R=Math.round(Math.abs(p-T)/1e3),P=T<p?"ago":"from now",[O,b]=R<ic?[Math.round(R),"second"]:R<sc?[Math.round(R/ic),"minute"]:R<Rl?[Math.round(R/sc),"hour"]:R<Nf?[Math.round(R/Rl),"day"]:R<CT?[Math.round(R/Nf),"week"]:R<AT?[Math.round(R/CT),"month"]:[Math.round(R/AT),"year"],F=typeof l>"u"?typeof n=="string"?n:bf(n).toISOString().substr(0,16).replace("T"," "):l,V=_==="time"?{...f,dateTime:bf(n).toISOString()}:f,H=ST.bind(null,O,b,P);return w.createElement(_,oy({},V,{title:F}),e(O,b,P,T,H,c))}const Yh=({name:n,date:e,author:t,image:r})=>ae(ns,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[I("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&ae(pn,{children:[I(ns.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),I("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),ae(ns.Body,{children:[I(ns.Title,{children:n}),I(ns.Text,{children:t}),I(ns.Text,{children:I(G$,{date:e})})]})]}),Xh=({children:n})=>{const{session:e,logOut:t}=Io(),r=xo(),[i,a]=w.useState(),[l,c]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/");return}try{const g=await Kh();a(g)}catch(g){console.error("Error fetching user:",g)}finally{c(!1)}})()},[e,r]);async function f(){await t(),r("/")}return ae(pn,{children:[I(Fn,{show:l,centered:!0,backdrop:"static",children:ae(Fn.Body,{className:"text-center",children:[I(qh,{animation:"border",role:"status",children:I("span",{className:"visually-hidden",children:"Loading..."})}),I("p",{className:"mt-3",children:"Please wait, loading..."})]})}),ae("div",{className:"body",children:[I(Af,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:ae(Cs,{children:[ae(Af.Brand,{href:"#/Home",children:[I("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),I(Af.Toggle,{"aria-controls":"basic-navbar-nav"}),I(Af.Collapse,{className:"justify-content-end flex-grow-1",children:I(xi,{children:ae(ui,{className:"me-auto",children:[I(ui.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),ae(Xu,{title:(i==null?void 0:i.name)||"User",id:"basic-nav-dropdown",align:"end",children:[I(Xu.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),I(Xu.Divider,{}),e?I(Xu.Item,{className:"logout-nav",onClick:f,children:"Logout"}):I(Xu.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),I("main",{children:n})]})]})};function AR({show:n,onHide:e}){const t=w.useRef(null),r=w.useRef(null),i=w.useRef(null),a=w.useRef(null),l=c=>{c.current.scrollIntoView({behavior:"smooth",block:"start"})};return I(pn,{children:ae(Fn,{show:n,onHide:e,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[I(Fn.Header,{closeButton:!0,children:I(Fn.Title,{children:"First Time?"})}),I(Fn.Body,{children:ae(xi,{className:"mt-2",children:[I(fi,{sm:3,children:ae(ui,{variant:"pills",className:"flex-column",children:[I(ui.Item,{children:I(ui.Link,{onClick:()=>l(t),children:"Trading"})}),I(ui.Item,{children:I(ui.Link,{onClick:()=>l(r),children:"Upload"})}),I(ui.Item,{children:I(ui.Link,{onClick:()=>l(i),children:"Account Issues"})}),I(ui.Item,{children:I(ui.Link,{onClick:()=>l(a),children:"Finish"})})]})}),I(fi,{sm:9,children:ae(Cs,{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ccc",padding:"15px",borderRadius:"10px",backgroundColor:"#f8f9fa"},children:[ae("div",{ref:t,className:"mb-4",children:[I("h4",{children:"Trading"}),ae(Rr,{children:[ae(Rr.Item,{children:[I("strong",{children:"How does trading work?"}),I("p",{children:"You can list an item, find a match, and confirm a trade."})]}),ae(Rr.Item,{children:[I("strong",{children:"Is trading free?"}),I("p",{children:"Yes! Our platform only facilitates item exchanges without any money involved."})]})]})]}),ae("div",{ref:r,className:"mb-4",children:[I("h4",{children:"Upload"}),ae(Rr,{children:[ae(Rr.Item,{children:[I("strong",{children:"How do I upload an item?"}),I("p",{children:'Go to your dashboard, click "Upload Item," and fill in the details.'})]}),ae(Rr.Item,{children:[I("strong",{children:"What types of files are supported?"}),I("p",{children:"We support images in JPG, PNG, and GIF formats."})]})]})]}),ae("div",{ref:i,className:"mb-4",children:[I("h4",{children:"FAQ"}),ae(Rr,{children:[ae(Rr.Item,{children:[I("strong",{children:"How do I reset my password?"}),I("p",{children:'Go to the login page, click "Forgot Password," and follow the instructions.'})]}),ae(Rr.Item,{children:[I("strong",{children:"Why was my account suspended?"}),I("p",{children:"Check your email for details or contact support for further assistance."})]}),ae(Rr.Item,{children:[I("strong",{children:"Why is my post not showing in the HomePage?"}),I("p",{children:"Your post is probably not yet accepted by Admins."})]})]})]}),ae("div",{ref:a,className:"mb-4",children:[I("h4",{children:"You're Done!"}),ae(Rr,{children:[ae(Rr.Item,{children:[I("strong",{children:"Since you're new to Tradery"}),I("p",{children:"Before you start Trading, We recommend you customize your profile first and change how people will see your profile. By clicking Done, this will redirect you to your profile in your dashboard where you can start editing."})]}),ae(Rr.Item,{children:[I("strong",{children:"Wanna read this again?"}),I("p",{children:"You can access this menu by going to the User Dashboard and clicking the Question button on the top right corner of the navigation bar."})]})]})]})]})})]})}),I(Fn.Footer,{children:I(cn,{variant:"primary",onClick:e,children:"Done"})})]})})}const Q$=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState({}),f=xo(),[p,g]=w.useState(!1),_=()=>{g(!1),f("/Dashboard/Profile")};w.useEffect(()=>{(async function(){try{const{items:F}=await M$();e(F);const V=await Kh();if(!V)return;r(V);const H=await W$(V.$id);console.log("User Exists? ",H);const W={};await Promise.all(F.map(async Z=>{if(!W[Z.authorID]){const{userdb:J}=await wa(Z.authorID);W[Z.authorID]=J}})),c(W),H||(g(!0),await B$(V.$id,{userId:V.$id,profileImageId:"",profileSummary:null,profileImageWidth:100,profileImageHeight:100,displayName:V.name,defaultName:V.name,userEmail:V.email}),console.log("New profile created."))}catch(F){console.error("Error fetching items:",F)}})()},[]);async function T(b){const{items:F}=await $$(b);e(F)}async function R(){window.location.reload(),a(!1)}async function P(b){b.preventDefault(),a(!0);const F=b.target;try{const{items:V}=await V$(F.ItemSearch.value);e(V)}catch(V){console.error("Error finding Item:",V)}}const O={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Fashion Accessories",color:"info"},f:{name:"Sports & Outdoor",color:"dark"}};return ae(Xh,{children:[I(AR,{show:p,onHide:_}),I("div",{className:"home",children:ae("div",{className:"container",id:"pagewrap",children:[I("div",{className:"searchinput",children:ae("form",{className:"search",onSubmit:P,autoComplete:"off",children:[I("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),i&&I(Hc,{className:"clear-btn",onClick:R}),I("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),I("div",{className:"categories",children:I(uo,{defaultActiveKey:"0",children:ae(uo.Item,{eventKey:"0",children:[I(uo.Header,{children:"Filter by Categories"}),I(uo.Body,{children:I(xi,{children:ae(fi,{children:[I(cn,{variant:"outline-danger",onClick:R,children:"Clear Filter"}),Object.entries(O).map(([b,F])=>I(cn,{variant:`outline-${F.color}`,onClick:()=>T(b),children:F.name},b))]})})})]})})}),I("div",{className:"items container",children:I(xi,{children:n.length>0?n.map(b=>{var W;const V={url:b.imageFileId&&Yc(b.imageFileId),height:b.imageHeight,width:b.imageWidth},H=l[b.authorID];return I(fi,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:ae("a",{className:"itemLink",href:`#/Item/${b.$id}`,children:[I("div",{className:"itemLabel",children:I("span",{className:"Label",children:((W=O[b.itemCategory])==null?void 0:W.name)||"Uncategorized"})}),I(Yh,{image:V,name:b.name,date:b.date,author:H?H.displayName||H.defaultName:"Unknown Author"})]})},b.$id)}):I(Cs,{children:ae(jl,{variant:"warning",children:["No Items are currently posted, ",I(jl.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})]})};function yl(){const n=TR();return console.error(n),I("div",{id:"error-page",children:ae("div",{class:"error",children:[ae("a",{class:"HomeButton",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{class:"background-wrapper",children:I("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),I("p",{class:"errorText",children:"The page you’re looking for does not exist."}),I("p",{children:I("i",{children:n.statusText||n.message})})]})})}function Y$(){const{session:n}=Io(),e=xo(),[t,r]=w.useState(!0),[i,a]=w.useState(!1),l=()=>{a(!1),e("/Dashboard/Profile")},c=()=>a(!0);return w.useEffect(()=>{(async()=>{if(!n){e("/");return}r(!1)})()},[n,e]),ae(pn,{children:[I(AR,{show:i,onHide:l}),I(Fn,{show:t,centered:!0,backdrop:"static",children:ae(Fn.Body,{className:"text-center",children:[I(qh,{animation:"border",role:"status",children:I("span",{className:"visually-hidden",children:"Loading..."})}),I("p",{className:"mt-3",children:"Verifying session..."})]})}),!t&&ae(pn,{children:[ae("div",{className:"uWholeBox",children:[ae("a",{className:"HomeButton",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{className:"uLooks",children:" Dashboard "})]}),ae("div",{className:"NaviBar",children:[ae("ul",{children:[I("li",{children:I(tc,{to:"/Dashboard/Post",children:"Post"})}),I("li",{children:I(tc,{to:"/Dashboard/Items",children:"Your Items"})}),I("li",{children:I(tc,{to:"/Dashboard/Requests",children:"Requests"})}),I("li",{children:I(tc,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),I("li",{children:I(tc,{to:"/Dashboard/Profile",children:"Profile"})})]}),I(o$,{})]}),I(cn,{variant:"outline-success",onClick:c,className:"tutorial",children:"?"})]})]})}const X$=()=>{const[n,e]=w.useState(),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState(),[f,p]=w.useState(null),[g,_]=w.useState(!1),[T,R]=w.useState(""),[P,O]=w.useState(""),[b,F]=w.useState(null);w.useEffect(()=>{(async()=>{try{const A=await Kh();if(e(A),A){const{userdb:N}=await wa(A.$id);r(N),p(N!=null&&N.profileImageId?iy(N.profileImageId):null),R((N==null?void 0:N.displayName)||(A==null?void 0:A.name)||""),O((N==null?void 0:N.profileSummary)||"")}}catch(A){console.error("Error fetching user: ",A)}})()},[]);const V=()=>a(!0),H=S=>{const A=S.target.value.replace(/[^a-zA-Z0-9]/g,"");R(A)},W=S=>{const A=S.target.value.replace(/[^a-zA-Z0-9 .,!?]/g,"");O(A)},Z=S=>{if(!S.target.files||S.target.files.length===0)return;const A=S.target.files[0];if(A.size>5*1024*1024){F("File size exceeds 5MB limit.");return}else F(null);const N=document.createElement("img");N.onload=function(){c({height:N.height,file:A,width:N.width})},N.src=URL.createObjectURL(A),p(URL.createObjectURL(A))},J=async S=>{if(S.preventDefault(),_(!0),!T.trim()||!P.trim()){alert("Please fill in all fields."),_(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),_(!1);return}let{userdb:A}=await wa(n.$id),N=(A==null?void 0:A.profileImageId)||"";if(l!=null&&l.file){N&&N!=="default"&&await L$(N);const L=await x$(n.$id,l.file);L!=null&&L.$id&&(N=L.$id)}if(!await z$(T))await q$(n.$id,{profileImageId:N,profileSummary:P,profileImageWidth:(l==null?void 0:l.width)??(A==null?void 0:A.profileImageWidth)??100,profileImageHeight:(l==null?void 0:l.height)??(A==null?void 0:A.profileImageHeight)??100,displayName:T,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:A.firebaseId});else{alert("The username already exists. Try another one."),_(!1);return}console.log("✅ Profile updated."),r(L=>({...L,displayName:T,profileSummary:P,profileImageId:N}))}catch(A){console.error("Failed to update profile:",A)}finally{_(!1),a(!1)}};return I(Cs,{className:"d-flex justify-content-center align-items-center min-vh-100",children:ae(ns,{className:"profile-card shadow-lg",children:[g&&ae("div",{className:"overlay",children:[I(qh,{animation:"border"}),I("p",{className:"mt-2",children:"Updating User Profile..."})]}),I(ns.Body,{className:"text-center",children:i?ae(pn,{children:[I("h2",{children:"Edit Profile"}),ae("form",{onSubmit:J,className:"mt-3",children:[ae("div",{className:"profile-image-upload",children:[I("input",{type:"file",accept:".png, .jpg",onChange:Z}),I(wc,{src:f||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),b&&I("p",{className:"text-danger",children:b})]}),ae(zr.Group,{className:"mb-3",children:[I(zr.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:T,onChange:H}),ae("small",{className:"text-muted",children:[T.length,"/20"]})]}),ae(zr.Group,{className:"mb-3",children:[I(zr.Label,{children:"Profile Summary"}),I(zr.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:P,onChange:W}),ae("small",{className:"text-muted",children:[P.length,"/500"]})]}),I(cn,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):ae(pn,{children:[I(wc,{src:t!=null&&t.profileImageId?iy(t.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("h2",{className:"display-name",children:(t==null?void 0:t.displayName)||"Username"}),I("p",{className:"account-name",children:n==null?void 0:n.name}),I("p",{className:"text-muted",children:(t==null?void 0:t.profileSummary)??"No profile description provided"}),I(cn,{className:"btn-lg mt-3",onClick:V,children:"Edit Profile"})]})})]})})},J$=()=>{const[n,e]=w.useState("");w.useEffect(()=>{(async function(){try{const i=await co();console.log("Fetched User Data:",i),i&&typeof i.$id=="string"&&e(i.$id)}catch(i){console.error("Error fetching user data:",i)}})()},[]);const t=n?`https://lynxlenior.github.io/TraderyMessenger/#/${n}`:"";return I("div",{className:"messages-container",children:I("iframe",{width:"100%",height:"100%",src:t,title:"TraderyMessenger"})})},Z$=()=>{const{session:n}=Io(),e=xo(),[t,r]=w.useState(null),[i,a]=w.useState(!1),[l,c]=w.useState(""),[f,p]=w.useState(""),[g,_]=w.useState(null);function T(P){if(!P.target.files||P.target.files.length===0)return;const O=P.target.files[0];if(O.size>5*1024*1024){_("File size must be 5MB or less.");return}_(null);const b=new window.Image,F=URL.createObjectURL(O);b.onload=function(){r({height:b.height,file:O,width:b.width,previewUrl:F})},b.src=F}return ae(Cs,{className:"mt-4",children:[i&&I("div",{className:"overlay",children:I("div",{className:"overlay-content",children:I("p",{children:"Please wait... Creating Tradery Item"})})}),ae(ns,{className:"p-4 shadow",children:[I("h1",{className:"text-center",children:"Post Item"}),g&&I("p",{className:"text-danger",children:g}),ae("form",{onSubmit:async P=>{P.preventDefault(),a(!0);const b=new FormData(P.currentTarget).get("itemCategory");if(!l||!f||!b||!t){_("Please fill in all fields."),a(!1);return}try{const F=await co();if(!F){console.log("User data is still loading. Please wait."),a(!1);return}const V=await F$({name:l,authorID:F.$id,description:f,date:new Date().toISOString(),imageHeight:t.height,imageFileId:"",imageWidth:t.width,isApproved:!1,itemCategory:b});if(!V||!V.items||!V.items.$id)throw new Error("Failed to create item. No ID returned.");let H="";if(t.file){console.log("Uploading image...");const W=await D$(t.file);if(!W||!W.$id)throw new Error("Image upload failed.");H=W.$id}await CR(V.items.$id,{imageFileId:H,imageHeight:t.height,imageWidth:t.width,name:l,description:f,authorID:F.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:b}),console.log("Item created and updated successfully."),e(`/Item/${V.items.$id}`)}catch(F){console.error("Error creating or updating item:",F),alert("Failed to create item. Please try again.")}finally{a(!1)}},autoComplete:"off",children:[ae(zr.Group,{controlId:"formFileLg",className:"mb-3",children:[I(zr.Label,{children:"Import Image (Max: 5MB)"}),I(zr.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:T,required:!0})]}),t&&I(wc,{src:t.previewUrl,alt:"Preview",className:"mb-3",fluid:!0,rounded:!0}),I(gv,{controlId:"floatingSelect",label:"Category",children:ae(zr.Select,{id:"itemCategory",name:"itemCategory",required:!0,children:[I("option",{value:"",disabled:!0,children:"Select a Category..."}),I("option",{value:"a",children:"School Supplies"}),I("option",{value:"b",children:"Clothing"}),I("option",{value:"c",children:"Entertainment/Hobbies"}),I("option",{value:"d",children:"Gaming/Technology"}),I("option",{value:"e",children:"Fashion Accessories"}),I("option",{value:"f",children:"Sports & Outdoor"})]})}),I(zr.Control,{className:"mt-3",id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:l,onChange:P=>c(P.target.value),required:!0}),I(zr.Control,{className:"mt-3",as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:f,onChange:P=>p(P.target.value),required:!0}),I(cn,{className:"w-100 mt-3",type:"submit",disabled:i,children:"Submit"})]})]})]})},eU=()=>{const[n,e]=w.useState([]),[t,r]=w.useState({});return w.useEffect(()=>{(async function(){const a=await co();if(!a){console.log("User data is still loading. Please wait.");return}const{items:l}=await Pv(a.$id);e(l);const c={};await Promise.all(l.map(async f=>{if(!c[f.authorID]){const{userdb:p}=await wa(f.authorID);c[f.authorID]=p}})),r(c)})()},[]),I("div",{className:"home",children:I("div",{className:"container",id:"pagewrap",children:I("div",{className:"items container",children:I(xi,{children:n.length>0?n.map(i=>{const l={url:i.imageFileId&&Yc(i.imageFileId),height:i.imageHeight,width:i.imageWidth},c=t[i.authorID];return I(fi,{xs:12,md:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${i.$id}`,children:I(Yh,{image:l,name:i.name,date:i.date,author:c?c.displayName||c.defaultName:"Unknown Author"})})},i.$id)}):I(Cs,{children:ae(jl,{variant:"warning",children:["No Items are currently posted, ",I(jl.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})};var RT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tU=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,R=p&63;f||(R=64,l||(T=64)),r.push(t[g],t[_],t[T],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new nU;const T=a<<2|c>>4;if(r.push(T),p!==64){const R=c<<4&240|p>>2;if(r.push(R),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rU=function(n){const e=RR(n);return bR.encodeByteArray(e,!0)},dh=function(n){return rU(n).replace(/\./g,"")},NR=function(n){try{return bR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=()=>iU().__FIREBASE_DEFAULTS__,oU=()=>{if(typeof process>"u"||typeof RT>"u")return;const n=RT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&NR(n[1]);return e&&JSON.parse(e)},Jh=()=>{try{return sU()||oU()||aU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kR=n=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},lU=n=>{const e=kR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},PR=()=>{var n;return(n=Jh())===null||n===void 0?void 0:n.config},DR=n=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[dh(JSON.stringify(t)),dh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function fU(){var n;const e=(n=Jh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gU(){const n=Hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yU(){return!fU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vU(){try{return typeof indexedDB=="object"}catch{return!1}}function _U(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="FirebaseError";class Ns extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wU,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?EU(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ns(i,c,r)}}function EU(n,e){return n.replace(TU,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TU=/\{\$([^}]+)}/g;function IU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(bT(a)&&bT(l)){if(!Sc(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function bT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SU(n,e){const t=new CU(n,e);return t.subscribe.bind(t)}class CU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Tg),i.error===void 0&&(i.error=Tg),i.complete===void 0&&(i.complete=Tg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n){return n&&n._delegate?n._delegate:n}class Ea{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uU;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NU(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bU(n){return n===sa?void 0:n}function NU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const PU={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},DU=ht.INFO,OU={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},xU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=OU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dv{constructor(e){this.name=e,this._logLevel=DU,this._logHandler=xU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const LU=(n,e)=>e.some(t=>n instanceof t);let NT,kT;function MU(){return NT||(NT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VU(){return kT||(kT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OR=new WeakMap,ay=new WeakMap,xR=new WeakMap,Ig=new WeakMap,Ov=new WeakMap;function $U(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(mo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&OR.set(t,n)}).catch(()=>{}),Ov.set(e,n),e}function UU(n){if(ay.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});ay.set(n,e)}let ly={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ay.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jU(n){ly=n(ly)}function FU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Sg(this),e,...t);return xR.set(r,e.sort?e.sort():[e]),mo(r)}:VU().includes(n)?function(...e){return n.apply(Sg(this),e),mo(OR.get(this))}:function(...e){return mo(n.apply(Sg(this),e))}}function BU(n){return typeof n=="function"?FU(n):(n instanceof IDBTransaction&&UU(n),LU(n,MU())?new Proxy(n,ly):n)}function mo(n){if(n instanceof IDBRequest)return $U(n);if(Ig.has(n))return Ig.get(n);const e=BU(n);return e!==n&&(Ig.set(n,e),Ov.set(e,n)),e}const Sg=n=>Ov.get(n);function HU(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=mo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(mo(l.result),f.oldVersion,f.newVersion,mo(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const zU=["get","getKey","getAll","getAllKeys","count"],WU=["put","add","delete","clear"],Cg=new Map;function PT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=WU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zU.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return Cg.set(e,a),a}jU(n=>({...n,get:(e,t,r)=>PT(e,t)||n.get(e,t,r),has:(e,t)=>!!PT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function KU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uy="@firebase/app",DT="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Dv("@firebase/app"),GU="@firebase/app-compat",QU="@firebase/analytics-compat",YU="@firebase/analytics",XU="@firebase/app-check-compat",JU="@firebase/app-check",ZU="@firebase/auth",ej="@firebase/auth-compat",tj="@firebase/database",nj="@firebase/data-connect",rj="@firebase/database-compat",ij="@firebase/functions",sj="@firebase/functions-compat",oj="@firebase/installations",aj="@firebase/installations-compat",lj="@firebase/messaging",uj="@firebase/messaging-compat",cj="@firebase/performance",dj="@firebase/performance-compat",fj="@firebase/remote-config",hj="@firebase/remote-config-compat",pj="@firebase/storage",mj="@firebase/storage-compat",gj="@firebase/firestore",yj="@firebase/vertexai",vj="@firebase/firestore-compat",_j="firebase",wj="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="[DEFAULT]",Ej={[uy]:"fire-core",[GU]:"fire-core-compat",[YU]:"fire-analytics",[QU]:"fire-analytics-compat",[JU]:"fire-app-check",[XU]:"fire-app-check-compat",[ZU]:"fire-auth",[ej]:"fire-auth-compat",[tj]:"fire-rtdb",[nj]:"fire-data-connect",[rj]:"fire-rtdb-compat",[ij]:"fire-fn",[sj]:"fire-fn-compat",[oj]:"fire-iid",[aj]:"fire-iid-compat",[lj]:"fire-fcm",[uj]:"fire-fcm-compat",[cj]:"fire-perf",[dj]:"fire-perf-compat",[fj]:"fire-rc",[hj]:"fire-rc-compat",[pj]:"fire-gcs",[mj]:"fire-gcs-compat",[gj]:"fire-fst",[vj]:"fire-fst-compat",[yj]:"fire-vertex","fire-js":"fire-js",[_j]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,Tj=new Map,dy=new Map;function OT(n,e){try{n.container.addComponent(e)}catch(t){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zl(n){const e=n.name;if(dy.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,n);for(const t of fh.values())OT(t,n);for(const t of Tj.values())OT(t,n);return!0}function xv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Di(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new Xc("app","Firebase",Ij);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=wj;function LR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw go.create("bad-app-name",{appName:String(i)});if(t||(t=PR()),!t)throw go.create("no-options");const a=fh.get(i);if(a){if(Sc(t,a.options)&&Sc(r,a.config))return a;throw go.create("duplicate-app",{appName:i})}const l=new kU(i);for(const f of dy.values())l.addComponent(f);const c=new Sj(t,r,l);return fh.set(i,c),c}function MR(n=cy){const e=fh.get(n);if(!e&&n===cy&&PR())return LR();if(!e)throw go.create("no-app",{appName:n});return e}function yo(n,e,t){var r;let i=(r=Ej[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}zl(new Ea(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="firebase-heartbeat-database",Aj=1,Cc="firebase-heartbeat-store";let Ag=null;function VR(){return Ag||(Ag=HU(Cj,Aj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cc)}catch(t){console.warn(t)}}}}).catch(n=>{throw go.create("idb-open",{originalErrorMessage:n.message})})),Ag}async function Rj(n){try{const t=(await VR()).transaction(Cc),r=await t.objectStore(Cc).get($R(n));return await t.done,r}catch(e){if(e instanceof Ns)ys.warn(e.message);else{const t=go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(t.message)}}}async function xT(n,e){try{const r=(await VR()).transaction(Cc,"readwrite");await r.objectStore(Cc).put(e,$R(n)),await r.done}catch(t){if(t instanceof Ns)ys.warn(t.message);else{const r=go.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ys.warn(r.message)}}}function $R(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=1024,Nj=30;class kj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=LT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Nj){const l=Oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ys.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=LT(),{heartbeatsToSend:r,unsentEntries:i}=Pj(this._heartbeatsCache.heartbeats),a=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ys.warn(t),""}}}function LT(){return new Date().toISOString().substring(0,10)}function Pj(n,e=bj){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),MT(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),MT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Dj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vU()?_U().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Rj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return xT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return xT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function MT(n){return dh(JSON.stringify({version:2,heartbeats:n})).length}function Oj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(n){zl(new Ea("platform-logger",e=>new qU(e),"PRIVATE")),zl(new Ea("heartbeat",e=>new kj(e),"PRIVATE")),yo(uy,DT,n),yo(uy,DT,"esm2017"),yo("fire-js","")}xj("");var Lj="firebase",Mj="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(Lj,Mj,"app");var VT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vo,UR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function N(){}N.prototype=A.prototype,S.D=A.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(x,L,$){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return A.prototype[L].apply(x,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,N){N||(N=0);var x=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)x[L]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(L=0;16>L;++L)x[L]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=S.g[0],N=S.g[1],L=S.g[2];var $=S.g[3],D=A+($^N&(L^$))+x[0]+3614090360&4294967295;A=N+(D<<7&4294967295|D>>>25),D=$+(L^A&(N^L))+x[1]+3905402710&4294967295,$=A+(D<<12&4294967295|D>>>20),D=L+(N^$&(A^N))+x[2]+606105819&4294967295,L=$+(D<<17&4294967295|D>>>15),D=N+(A^L&($^A))+x[3]+3250441966&4294967295,N=L+(D<<22&4294967295|D>>>10),D=A+($^N&(L^$))+x[4]+4118548399&4294967295,A=N+(D<<7&4294967295|D>>>25),D=$+(L^A&(N^L))+x[5]+1200080426&4294967295,$=A+(D<<12&4294967295|D>>>20),D=L+(N^$&(A^N))+x[6]+2821735955&4294967295,L=$+(D<<17&4294967295|D>>>15),D=N+(A^L&($^A))+x[7]+4249261313&4294967295,N=L+(D<<22&4294967295|D>>>10),D=A+($^N&(L^$))+x[8]+1770035416&4294967295,A=N+(D<<7&4294967295|D>>>25),D=$+(L^A&(N^L))+x[9]+2336552879&4294967295,$=A+(D<<12&4294967295|D>>>20),D=L+(N^$&(A^N))+x[10]+4294925233&4294967295,L=$+(D<<17&4294967295|D>>>15),D=N+(A^L&($^A))+x[11]+2304563134&4294967295,N=L+(D<<22&4294967295|D>>>10),D=A+($^N&(L^$))+x[12]+1804603682&4294967295,A=N+(D<<7&4294967295|D>>>25),D=$+(L^A&(N^L))+x[13]+4254626195&4294967295,$=A+(D<<12&4294967295|D>>>20),D=L+(N^$&(A^N))+x[14]+2792965006&4294967295,L=$+(D<<17&4294967295|D>>>15),D=N+(A^L&($^A))+x[15]+1236535329&4294967295,N=L+(D<<22&4294967295|D>>>10),D=A+(L^$&(N^L))+x[1]+4129170786&4294967295,A=N+(D<<5&4294967295|D>>>27),D=$+(N^L&(A^N))+x[6]+3225465664&4294967295,$=A+(D<<9&4294967295|D>>>23),D=L+(A^N&($^A))+x[11]+643717713&4294967295,L=$+(D<<14&4294967295|D>>>18),D=N+($^A&(L^$))+x[0]+3921069994&4294967295,N=L+(D<<20&4294967295|D>>>12),D=A+(L^$&(N^L))+x[5]+3593408605&4294967295,A=N+(D<<5&4294967295|D>>>27),D=$+(N^L&(A^N))+x[10]+38016083&4294967295,$=A+(D<<9&4294967295|D>>>23),D=L+(A^N&($^A))+x[15]+3634488961&4294967295,L=$+(D<<14&4294967295|D>>>18),D=N+($^A&(L^$))+x[4]+3889429448&4294967295,N=L+(D<<20&4294967295|D>>>12),D=A+(L^$&(N^L))+x[9]+568446438&4294967295,A=N+(D<<5&4294967295|D>>>27),D=$+(N^L&(A^N))+x[14]+3275163606&4294967295,$=A+(D<<9&4294967295|D>>>23),D=L+(A^N&($^A))+x[3]+4107603335&4294967295,L=$+(D<<14&4294967295|D>>>18),D=N+($^A&(L^$))+x[8]+1163531501&4294967295,N=L+(D<<20&4294967295|D>>>12),D=A+(L^$&(N^L))+x[13]+2850285829&4294967295,A=N+(D<<5&4294967295|D>>>27),D=$+(N^L&(A^N))+x[2]+4243563512&4294967295,$=A+(D<<9&4294967295|D>>>23),D=L+(A^N&($^A))+x[7]+1735328473&4294967295,L=$+(D<<14&4294967295|D>>>18),D=N+($^A&(L^$))+x[12]+2368359562&4294967295,N=L+(D<<20&4294967295|D>>>12),D=A+(N^L^$)+x[5]+4294588738&4294967295,A=N+(D<<4&4294967295|D>>>28),D=$+(A^N^L)+x[8]+2272392833&4294967295,$=A+(D<<11&4294967295|D>>>21),D=L+($^A^N)+x[11]+1839030562&4294967295,L=$+(D<<16&4294967295|D>>>16),D=N+(L^$^A)+x[14]+4259657740&4294967295,N=L+(D<<23&4294967295|D>>>9),D=A+(N^L^$)+x[1]+2763975236&4294967295,A=N+(D<<4&4294967295|D>>>28),D=$+(A^N^L)+x[4]+1272893353&4294967295,$=A+(D<<11&4294967295|D>>>21),D=L+($^A^N)+x[7]+4139469664&4294967295,L=$+(D<<16&4294967295|D>>>16),D=N+(L^$^A)+x[10]+3200236656&4294967295,N=L+(D<<23&4294967295|D>>>9),D=A+(N^L^$)+x[13]+681279174&4294967295,A=N+(D<<4&4294967295|D>>>28),D=$+(A^N^L)+x[0]+3936430074&4294967295,$=A+(D<<11&4294967295|D>>>21),D=L+($^A^N)+x[3]+3572445317&4294967295,L=$+(D<<16&4294967295|D>>>16),D=N+(L^$^A)+x[6]+76029189&4294967295,N=L+(D<<23&4294967295|D>>>9),D=A+(N^L^$)+x[9]+3654602809&4294967295,A=N+(D<<4&4294967295|D>>>28),D=$+(A^N^L)+x[12]+3873151461&4294967295,$=A+(D<<11&4294967295|D>>>21),D=L+($^A^N)+x[15]+530742520&4294967295,L=$+(D<<16&4294967295|D>>>16),D=N+(L^$^A)+x[2]+3299628645&4294967295,N=L+(D<<23&4294967295|D>>>9),D=A+(L^(N|~$))+x[0]+4096336452&4294967295,A=N+(D<<6&4294967295|D>>>26),D=$+(N^(A|~L))+x[7]+1126891415&4294967295,$=A+(D<<10&4294967295|D>>>22),D=L+(A^($|~N))+x[14]+2878612391&4294967295,L=$+(D<<15&4294967295|D>>>17),D=N+($^(L|~A))+x[5]+4237533241&4294967295,N=L+(D<<21&4294967295|D>>>11),D=A+(L^(N|~$))+x[12]+1700485571&4294967295,A=N+(D<<6&4294967295|D>>>26),D=$+(N^(A|~L))+x[3]+2399980690&4294967295,$=A+(D<<10&4294967295|D>>>22),D=L+(A^($|~N))+x[10]+4293915773&4294967295,L=$+(D<<15&4294967295|D>>>17),D=N+($^(L|~A))+x[1]+2240044497&4294967295,N=L+(D<<21&4294967295|D>>>11),D=A+(L^(N|~$))+x[8]+1873313359&4294967295,A=N+(D<<6&4294967295|D>>>26),D=$+(N^(A|~L))+x[15]+4264355552&4294967295,$=A+(D<<10&4294967295|D>>>22),D=L+(A^($|~N))+x[6]+2734768916&4294967295,L=$+(D<<15&4294967295|D>>>17),D=N+($^(L|~A))+x[13]+1309151649&4294967295,N=L+(D<<21&4294967295|D>>>11),D=A+(L^(N|~$))+x[4]+4149444226&4294967295,A=N+(D<<6&4294967295|D>>>26),D=$+(N^(A|~L))+x[11]+3174756917&4294967295,$=A+(D<<10&4294967295|D>>>22),D=L+(A^($|~N))+x[2]+718787259&4294967295,L=$+(D<<15&4294967295|D>>>17),D=N+($^(L|~A))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+$&4294967295}r.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var N=A-this.blockSize,x=this.B,L=this.h,$=0;$<A;){if(L==0)for(;$<=N;)i(this,S,$),$+=this.blockSize;if(typeof S=="string"){for(;$<A;)if(x[L++]=S.charCodeAt($++),L==this.blockSize){i(this,x),L=0;break}}else for(;$<A;)if(x[L++]=S[$++],L==this.blockSize){i(this,x),L=0;break}}this.h=L,this.o+=A},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var N=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=N&255,N/=256;for(this.u(S),S=Array(16),A=N=0;4>A;++A)for(var x=0;32>x;x+=8)S[N++]=this.g[A]>>>x&255;return S};function a(S,A){var N=c;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=A(S)}function l(S,A){this.h=A;for(var N=[],x=!0,L=S.length-1;0<=L;L--){var $=S[L]|0;x&&$==A||(N[L]=$,x=!1)}this.g=N}var c={};function f(S){return-128<=S&&128>S?a(S,function(A){return new l([A|0],0>A?-1:0)}):new l([S|0],0>S?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return b(p(-S));for(var A=[],N=1,x=0;S>=N;x++)A[x]=S/N|0,N*=4294967296;return new l(A,0)}function g(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return b(g(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(A,8)),x=_,L=0;L<S.length;L+=8){var $=Math.min(8,S.length-L),D=parseInt(S.substring(L,L+$),A);8>$?($=p(Math.pow(A,$)),x=x.j($).add(p(D))):(x=x.j(N),x=x.add(p(D)))}return x}var _=f(0),T=f(1),R=f(16777216);n=l.prototype,n.m=function(){if(O(this))return-b(this).m();for(var S=0,A=1,N=0;N<this.g.length;N++){var x=this.i(N);S+=(0<=x?x:4294967296+x)*A,A*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(O(this))return"-"+b(this).toString(S);for(var A=p(Math.pow(S,6)),N=this,x="";;){var L=W(N,A).g;N=F(N,L.j(A));var $=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=L,P(N))return $+x;for(;6>$.length;)$="0"+$;x=$+x}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function O(S){return S.h==-1}n.l=function(S){return S=F(this,S),O(S)?-1:P(S)?0:1};function b(S){for(var A=S.g.length,N=[],x=0;x<A;x++)N[x]=~S.g[x];return new l(N,~S.h).add(T)}n.abs=function(){return O(this)?b(this):this},n.add=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],x=0,L=0;L<=A;L++){var $=x+(this.i(L)&65535)+(S.i(L)&65535),D=($>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);x=D>>>16,$&=65535,D&=65535,N[L]=D<<16|$}return new l(N,N[N.length-1]&-2147483648?-1:0)};function F(S,A){return S.add(b(A))}n.j=function(S){if(P(this)||P(S))return _;if(O(this))return O(S)?b(this).j(b(S)):b(b(this).j(S));if(O(S))return b(this.j(b(S)));if(0>this.l(R)&&0>S.l(R))return p(this.m()*S.m());for(var A=this.g.length+S.g.length,N=[],x=0;x<2*A;x++)N[x]=0;for(x=0;x<this.g.length;x++)for(var L=0;L<S.g.length;L++){var $=this.i(x)>>>16,D=this.i(x)&65535,Ee=S.i(L)>>>16,Le=S.i(L)&65535;N[2*x+2*L]+=D*Le,V(N,2*x+2*L),N[2*x+2*L+1]+=$*Le,V(N,2*x+2*L+1),N[2*x+2*L+1]+=D*Ee,V(N,2*x+2*L+1),N[2*x+2*L+2]+=$*Ee,V(N,2*x+2*L+2)}for(x=0;x<A;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=A;x<2*A;x++)N[x]=0;return new l(N,0)};function V(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function H(S,A){this.g=S,this.h=A}function W(S,A){if(P(A))throw Error("division by zero");if(P(S))return new H(_,_);if(O(S))return A=W(b(S),A),new H(b(A.g),b(A.h));if(O(A))return A=W(S,b(A)),new H(b(A.g),A.h);if(30<S.g.length){if(O(S)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var N=T,x=A;0>=x.l(S);)N=Z(N),x=Z(x);var L=J(N,1),$=J(x,1);for(x=J(x,2),N=J(N,2);!P(x);){var D=$.add(x);0>=D.l(S)&&(L=L.add(N),$=D),x=J(x,1),N=J(N,1)}return A=F(S,L.j(A)),new H(L,A)}for(L=_;0<=S.l(A);){for(N=Math.max(1,Math.floor(S.m()/A.m())),x=Math.ceil(Math.log(N)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),$=p(N),D=$.j(A);O(D)||0<D.l(S);)N-=x,$=p(N),D=$.j(A);P($)&&($=T),L=L.add($),S=F(S,D)}return new H(L,S)}n.A=function(S){return W(this,S).h},n.and=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],x=0;x<A;x++)N[x]=this.i(x)&S.i(x);return new l(N,this.h&S.h)},n.or=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],x=0;x<A;x++)N[x]=this.i(x)|S.i(x);return new l(N,this.h|S.h)},n.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],x=0;x<A;x++)N[x]=this.i(x)^S.i(x);return new l(N,this.h^S.h)};function Z(S){for(var A=S.g.length+1,N=[],x=0;x<A;x++)N[x]=S.i(x)<<1|S.i(x-1)>>>31;return new l(N,S.h)}function J(S,A){var N=A>>5;A%=32;for(var x=S.g.length-N,L=[],$=0;$<x;$++)L[$]=0<A?S.i($+N)>>>A|S.i($+N+1)<<32-A:S.i($+N);return new l(L,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,vo=l}).apply(typeof VT<"u"?VT:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jR,oc,FR,Bf,fy,BR,HR,zR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var K=d[k];if(!(K in E))break e;E=E[K]}d=d[d.length-1],k=E[d],y=y(k),y!=k&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var E=0,k=!1,K={next:function(){if(!k&&E<d.length){var te=E++;return{value:y(te,d[te]),done:!1}}return k=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function _(d,y,E){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,k),d.apply(y,K)}}return function(){return d.apply(y,arguments)}}function T(d,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function R(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function P(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(k,K,te){for(var ge=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ge[bt-2]=arguments[bt];return y.prototype[K].apply(k,ge)}}function O(d){const y=d.length;if(0<y){const E=Array(y);for(let k=0;k<y;k++)E[k]=d[k];return E}return[]}function b(d,y){for(let E=1;E<arguments.length;E++){const k=arguments[E];if(f(k)){const K=d.length||0,te=k.length||0;d.length=K+te;for(let ge=0;ge<te;ge++)d[K+ge]=k[ge]}else d.push(k)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(d){return/^[\s\xa0]*$/.test(d)}function H(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function W(d){return W[" "](d),d}W[" "]=function(){};var Z=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function J(d,y,E){for(const k in d)y.call(E,d[k],k,d)}function S(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function A(d){const y={};for(const E in d)y[E]=d[E];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(d,y){let E,k;for(let K=1;K<arguments.length;K++){k=arguments[K];for(E in k)d[E]=k[E];for(let te=0;te<N.length;te++)E=N[te],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function L(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function $(d){c.setTimeout(()=>{throw d},0)}function D(){var d=me;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ee{constructor(){this.h=this.g=null}add(y,E){const k=Le.get();k.set(y,E),this.h?this.h.next=k:this.g=k,this.h=k}}var Le=new F(()=>new He,d=>d.reset());class He{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,me=new Ee,ue=()=>{const d=c.Promise.resolve(void 0);Ne=()=>{d.then(B)}};var B=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){$(E)}var y=Le;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function Ie(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(Z){e:{try{W(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}P(Ie,pe);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function st(d,y,E,k,K){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!k,this.ha=K,this.key=++Fe,this.da=this.fa=!1}function Et(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function St(d){this.src=d,this.g={},this.h=0}St.prototype.add=function(d,y,E,k,K){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var ge=kt(d,y,k,K);return-1<ge?(y=d[ge],E||(y.fa=!1)):(y=new st(y,this.src,te,!!k,K),y.fa=E,d.push(y)),y};function it(d,y){var E=y.type;if(E in d.g){var k=d.g[E],K=Array.prototype.indexOf.call(k,y,void 0),te;(te=0<=K)&&Array.prototype.splice.call(k,K,1),te&&(Et(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function kt(d,y,E,k){for(var K=0;K<d.length;++K){var te=d[K];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==k)return K}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),rt={};function Ft(d,y,E,k,K){if(Array.isArray(y)){for(var te=0;te<y.length;te++)Ft(d,y[te],E,k,K);return null}return E=on(E),d&&d[Ge]?d.K(y,E,p(k)?!!k.capture:!1,K):mn(d,y,E,!1,k,K)}function mn(d,y,E,k,K,te){if(!y)throw Error("Invalid event type");var ge=p(K)?!!K.capture:!!K,bt=Dn(d);if(bt||(d[Kt]=bt=new St(d)),E=bt.add(y,E,k,ge,te),E.proxy)return E;if(k=Or(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)ve||(K=ge),K===void 0&&(K=!1),d.addEventListener(y.toString(),k,K);else if(d.attachEvent)d.attachEvent(Jt(y.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Or(){function d(E){return y.call(d.src,d.listener,E)}const y=nr;return d}function Wn(d,y,E,k,K){if(Array.isArray(y))for(var te=0;te<y.length;te++)Wn(d,y[te],E,k,K);else k=p(k)?!!k.capture:!!k,E=on(E),d&&d[Ge]?(d=d.i,y=String(y).toString(),y in d.g&&(te=d.g[y],E=kt(te,E,k,K),-1<E&&(Et(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete d.g[y],d.h--)))):d&&(d=Dn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=kt(y,E,k,K)),(E=-1<d?y[d]:null)&&Bt(E))}function Bt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ge])it(y.i,d);else{var E=d.type,k=d.proxy;y.removeEventListener?y.removeEventListener(E,k,d.capture):y.detachEvent?y.detachEvent(Jt(E),k):y.addListener&&y.removeListener&&y.removeListener(k),(E=Dn(y))?(it(E,d),E.h==0&&(E.src=null,y[Kt]=null)):Et(d)}}}function Jt(d){return d in rt?rt[d]:rt[d]="on"+d}function nr(d,y){if(d.da)d=!0;else{y=new Ie(y,this);var E=d.listener,k=d.ha||d.src;d.fa&&Bt(d),d=E.call(k,y)}return d}function Dn(d){return d=d[Kt],d instanceof St?d:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(d){return typeof d=="function"?d:(d[Dt]||(d[Dt]=function(y){return d.handleEvent(y)}),d[Dt])}function Ue(){ee.call(this),this.i=new St(this),this.M=this,this.F=null}P(Ue,ee),Ue.prototype[Ge]=!0,Ue.prototype.removeEventListener=function(d,y,E,k){Wn(this,d,y,E,k)};function mt(d,y){var E,k=d.F;if(k)for(E=[];k;k=k.F)E.push(k);if(d=d.M,k=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var K=y;y=new pe(k,d),x(y,K)}if(K=!0,E)for(var te=E.length-1;0<=te;te--){var ge=y.g=E[te];K=Ot(ge,k,!0,y)&&K}if(ge=y.g=d,K=Ot(ge,k,!0,y)&&K,K=Ot(ge,k,!1,y)&&K,E)for(te=0;te<E.length;te++)ge=y.g=E[te],K=Ot(ge,k,!1,y)&&K}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],k=0;k<E.length;k++)Et(E[k]);delete d.g[y],d.h--}}this.F=null},Ue.prototype.K=function(d,y,E,k){return this.i.add(String(d),y,!1,E,k)},Ue.prototype.L=function(d,y,E,k){return this.i.add(String(d),y,!0,E,k)};function Ot(d,y,E,k){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,te=0;te<y.length;++te){var ge=y[te];if(ge&&!ge.da&&ge.capture==E){var bt=ge.listener,an=ge.ha||ge.src;ge.fa&&it(d.i,ge),K=bt.call(an,k)!==!1&&K}}return K&&!k.defaultPrevented}function gn(d,y,E){if(typeof d=="function")E&&(d=T(d,E));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function qn(d){d.g=gn(()=>{d.g=null,d.i&&(d.i=!1,qn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Kn extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(d){ee.call(this),this.h=d,this.g={}}P(ze,ee);var ot=[];function yn(d){J(d.g,function(y,E){this.g.hasOwnProperty(E)&&Bt(y)},d),d.g={}}ze.prototype.N=function(){ze.aa.N.call(this),yn(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=c.JSON.stringify,mi=c.JSON.parse,Vo=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gi(){}gi.prototype.h=null;function Xr(d){return d.h||(d.h=d.i())}function Bi(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){pe.call(this,"d")}P(ir,pe);function ks(){pe.call(this,"c")}P(ks,pe);var vr={},$o=null;function yi(){return $o=$o||new Ue}vr.La="serverreachability";function vi(d){pe.call(this,vr.La,d)}P(vi,pe);function sr(d){const y=yi();mt(y,new vi(y))}vr.STAT_EVENT="statevent";function Uo(d,y){pe.call(this,vr.STAT_EVENT,d),this.stat=y}P(Uo,pe);function Ht(d){const y=yi();mt(y,new Uo(y,d))}vr.Ma="timingevent";function U(d,y){pe.call(this,vr.Ma,d),this.size=y}P(U,pe);function q(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function Y(){this.g=!0}Y.prototype.xa=function(){this.g=!1};function re(d,y,E,k,K,te){d.info(function(){if(d.g)if(te)for(var ge="",bt=te.split("&"),an=0;an<bt.length;an++){var vt=bt[an].split("=");if(1<vt.length){var vn=vt[0];vt=vt[1];var en=vn.split("_");ge=2<=en.length&&en[1]=="type"?ge+(vn+"="+vt+"&"):ge+(vn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+k+") [attempt "+K+"]: "+y+`
`+E+`
`+ge})}function _e(d,y,E,k,K,te,ge){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+K+"]: "+y+`
`+E+`
`+te+" "+ge})}function ke(d,y,E,k){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(d,E)+(k?" "+k:"")})}function Qe(d,y){d.info(function(){return"TIMEOUT: "+y})}Y.prototype.info=function(){};function Pe(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var k=E[d];if(!(2>k.length)){var K=k[1];if(Array.isArray(K)&&!(1>K.length)){var te=K[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<K.length;ge++)K[ge]=""}}}}return rr(E)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function et(){}P(et,gi),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},De=new et;function Je(d,y,E,k){this.j=d,this.i=y,this.l=E,this.R=k||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}var Tt={},at={};function Rt(d,y,E){d.L=1,d.v=Ls(Er(y)),d.m=E,d.P=!0,xr(d,null)}function xr(d,y){d.F=Date.now(),ct(d),d.A=Er(d.v);var E=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Vs(E.i,"t",k),d.C=0,E=d.j.J,d.h=new Gt,d.g=wd(d.j,E?y:null,!d.m),0<d.O&&(d.M=new Kn(T(d.Y,d,d.g),d.O)),y=d.U,E=d.g,k=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(ot[0]=K.toString()),K=ot);for(var te=0;te<K.length;te++){var ge=Ft(E,K[te],k||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),sr(),re(d.i,d.u,d.A,d.l,d.R,d.m)}Je.prototype.ca=function(d){d=d.target;const y=this.M;y&&ar(d)==3?y.j():this.Y(d)},Je.prototype.Y=function(d){try{if(d==this.g)e:{const en=ar(this.g);var y=this.g.Ba();const Vr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||wu(this.g)))){this.J||en!=4||y==7||(y==8||0>=Vr?sr(3):sr(2)),wr(this);var E=this.g.Z();this.X=E;t:if(_i(this)){var k=wu(this.g);d="";var K=k.length,te=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),xn(this);var ge="";break t}this.h.i=new c.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,d+=this.h.i.decode(k[y],{stream:!(te&&y==K-1)});k.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,_e(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,an=this.g;if((bt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(bt)){var vt=bt;break t}}vt=null}if(E=vt)ke(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wi(this,E);else{this.o=!1,this.s=3,Ht(12),In(this),xn(this);break e}}if(this.P){E=!0;let Ir;for(;!this.J&&this.C<ge.length;)if(Ir=_r(this,ge),Ir==at){en==4&&(this.s=4,Ht(14),E=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(Ir==Tt){this.s=4,Ht(15),ke(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else ke(this.i,this.l,Ir,null),wi(this,Ir);if(_i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ge.length!=0||this.h.h||(this.s=1,Ht(16),E=!1),this.o=this.o&&E,!E)ke(this.i,this.l,ge,"[Invalid Chunked Response]"),In(this),xn(this);else if(0<ge.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Tu(vn),vn.M=!0,Ht(11))}}else ke(this.i,this.l,ge,null),wi(this,ge);en==4&&In(this),this.o&&!this.J&&(en==4?Ha(this.j,this):(this.o=!1,ct(this)))}else $a(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),In(this),xn(this)}}}catch{}finally{}};function _i(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function _r(d,y){var E=d.C,k=y.indexOf(`
`,E);return k==-1?at:(E=Number(y.substring(E,k)),isNaN(E)?Tt:(k+=1,k+E>y.length?at:(y=y.slice(k,k+E),d.C=k+E,y)))}Je.prototype.cancel=function(){this.J=!0,In(this)};function ct(d){d.S=Date.now()+d.I,Ps(d,d.I)}function Ps(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=q(T(d.ba,d),y)}function wr(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Je.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(sr(),Ht(17)),In(this),this.s=2,xn(this)):Ps(this,this.S-d)};function xn(d){d.j.G==0||d.J||Ha(d.j,d)}function In(d){wr(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,yn(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function wi(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||ft(E.h,d))){if(!d.K&&ft(E.h,d)&&E.G==3){try{var k=E.Da.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var K=k;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ba(E),ni(E);else break e;Fa(E),Ht(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=q(T(E.Za,E),6e3));if(1>=Ei(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ki(E,11)}else if((d.K||E.g==d)&&Ba(E),!V(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let vt=K[y];if(E.T=vt[0],vt=vt[1],E.G==2)if(vt[0]=="c"){E.K=vt[1],E.ia=vt[2];const vn=vt[3];vn!=null&&(E.la=vn,E.j.info("VER="+E.la));const en=vt[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const Vr=vt[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(k=1.5*Vr,E.L=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Ir=d.g;if(Ir){const qo=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qo){var te=k.h;te.g||qo.indexOf("spdy")==-1&&qo.indexOf("quic")==-1&&qo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Lr(te,te.h),te.h=null))}if(k.D){const Wa=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(k.ya=Wa,Pt(k.I,k.D,Wa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),k=E;var ge=d;if(k.qa=_d(k,k.J?k.ia:null,k.W),ge.K){jo(k.h,ge);var bt=ge,an=k.L;an&&(bt.I=an),bt.B&&(wr(bt),ct(bt)),k.g=ge}else Wo(k);0<E.i.length&&Ci(E)}else vt[0]!="stop"&&vt[0]!="close"||Ki(E,7);else E.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ki(E,7):Cn(E):vt[0]!="noop"&&E.l&&E.l.ta(vt),E.v=0)}}sr(4)}catch{}}var dt=class{constructor(d,y){this.g=d,this.map=y}};function Ct(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ei(d){return d.h?1:d.g?d.g.size:0}function ft(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Lr(d,y){d.g?d.g.add(y):d.h=y}function jo(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ct.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Da(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return O(d.i)}function Oa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],E=d.length,k=0;k<E;k++)y.push(d[k]);return y}y=[],E=0;for(k in d)y[E++]=d[k];return y}function xa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const k in d)y[E++]=k;return y}}}function Ds(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=xa(d),k=Oa(d),K=k.length,te=0;te<K;te++)y.call(void 0,k[te],E&&E[te],d)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vp(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var k=d[E].indexOf("="),K=null;if(0<=k){var te=d[E].substring(0,k);K=d[E].substring(k+1)}else te=d[E];y(te,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Hi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Hi){this.h=d.h,Bo(this,d.j),this.o=d.o,this.g=d.g,Os(this,d.s),this.l=d.l;var y=d.i,E=new Ti;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),xs(this,E),this.m=d.m}else d&&(y=String(d).match(Fo))?(this.h=!1,Bo(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),Os(this,y[4]),this.l=gt(y[5]||"",!0),xs(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Hi.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ms(y,La,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ms(y,La,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ms(E,E.charAt(0)=="/"?dd:cd,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ms(E,yu)),d.join("")};function Er(d){return new Hi(d)}function Bo(d,y,E){d.j=E?gt(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Os(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function xs(d,y,E){y instanceof Ti?(d.i=y,Ii(d.i,d.h)):(E||(y=Ms(y,fd)),d.i=new Ti(y,d.h))}function Pt(d,y,E){d.i.set(y,E)}function Ls(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gt(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ms(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,ud),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ud(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var La=/[#\/\?@]/g,cd=/[#\?:]/g,dd=/[#\?]/g,fd=/[#\?@]/g,yu=/#/g;function Ti(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Sn(d){d.g||(d.g=new Map,d.h=0,d.i&&vp(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Ti.prototype,n.add=function(d,y){Sn(this),this.i=null,d=Mr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function Jr(d,y){Sn(d),y=Mr(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Zr(d,y){return Sn(d),y=Mr(d,y),d.g.has(y)}n.forEach=function(d,y){Sn(this),this.g.forEach(function(E,k){E.forEach(function(K){d.call(y,K,k,this)},this)},this)},n.na=function(){Sn(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let k=0;k<y.length;k++){const K=d[k];for(let te=0;te<K.length;te++)E.push(y[k])}return E},n.V=function(d){Sn(this);let y=[];if(typeof d=="string")Zr(this,d)&&(y=y.concat(this.g.get(Mr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},n.set=function(d,y){return Sn(this),this.i=null,d=Mr(this,d),Zr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Vs(d,y,E){Jr(d,y),0<E.length&&(d.i=null,d.g.set(Mr(d,y),O(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var k=y[E];const te=encodeURIComponent(String(k)),ge=this.V(k);for(k=0;k<ge.length;k++){var K=te;ge[k]!==""&&(K+="="+encodeURIComponent(String(ge[k]))),d.push(K)}}return this.i=d.join("&")};function Mr(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Ii(d,y){y&&!d.j&&(Sn(d),d.i=null,d.g.forEach(function(E,k){var K=k.toLowerCase();k!=K&&(Jr(this,k),Vs(this,K,E))},d)),d.j=y}function _p(d,y){const E=new Y;if(c.Image){const k=new Image;k.onload=R(or,E,"TestLoadImage: loaded",!0,y,k),k.onerror=R(or,E,"TestLoadImage: error",!1,y,k),k.onabort=R(or,E,"TestLoadImage: abort",!1,y,k),k.ontimeout=R(or,E,"TestLoadImage: timeout",!1,y,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else y(!1)}function hd(d,y){const E=new Y,k=new AbortController,K=setTimeout(()=>{k.abort(),or(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:k.signal}).then(te=>{clearTimeout(K),te.ok?or(E,"TestPingServer: ok",!0,y):or(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),or(E,"TestPingServer: error",!1,y)})}function or(d,y,E,k,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),k(E)}catch{}}function wp(){this.g=new Vo}function pd(d,y,E){const k=E||"";try{Ds(d,function(K,te){let ge=K;p(K)&&(ge=rr(K)),y.push(k+te+"="+encodeURIComponent(ge))})}catch(K){throw y.push(k+"type="+encodeURIComponent("_badmap")),K}}function zi(d){this.l=d.Ub||null,this.j=d.eb||!1}P(zi,gi),zi.prototype.g=function(){return new Ho(this.l,this.j)},zi.prototype.i=function(d){return function(){return d}}({});function Ho(d,y){Ue.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ho,Ue),n=Ho.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ti(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;md(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function md(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?ei(this):ti(this),this.readyState==3&&md(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,ei(this))},n.Qa=function(d){this.g&&(this.response=d,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ti(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function ti(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Wi(d){let y="";return J(d,function(E,k){y+=k,y+=":",y+=E,y+=`\r
`}),y}function $s(d,y,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=Wi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Pt(d,y,E))}function $t(d){Ue.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P($t,Ue);var Ep=/^https?$/i,vu=["POST","PUT"];n=$t.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?Xr(this.o):Xr(De),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(te){zo(this,te);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var K in k)E.set(K,k[K]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const te of k.keys())E.set(te,k.get(te));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),K=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(vu,y,void 0))||k||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of E)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Va(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){zo(this,te)}};function zo(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Ma(d),Tr(d)}function Ma(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_u(this):this.bb())},n.bb=function(){_u(this)};function _u(d){if(d.h&&typeof l<"u"&&(!d.v[1]||ar(d)!=4||d.Z()!=2)){if(d.u&&ar(d)==4)gn(d.Ea,0,d);else if(mt(d,"readystatechange"),ar(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var k;if(k=ge===0){var K=String(d.D).match(Fo)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),k=!Ep.test(K?K.toLowerCase():"")}E=k}if(E)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var te=2<ar(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",Ma(d)}}finally{Tr(d)}}}}function Tr(d,y){if(d.g){Va(d);const E=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||mt(d,"ready");try{E.onreadystatechange=k}catch{}}}function Va(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function ar(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),mi(y)}};function wu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(d){const y={};d=(d.g&&2<=ar(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(V(d[k]))continue;var E=L(d[k]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[K]||[];y[K]=te,te.push(E)}S(y,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function Eu(d){this.Aa=0,this.i=[],this.j=new Y,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Si("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Si("baseRetryDelayMs",5e3,d),this.cb=Si("retryDelaySeedMs",1e4,d),this.Wa=Si("forwardChannelMaxRetries",2,d),this.wa=Si("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ct(d&&d.concurrentRequestLimit),this.Da=new wp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Eu.prototype,n.la=8,n.G=1,n.connect=function(d,y,E,k){Ht(0),this.W=d,this.H=y||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.I=_d(this,null,this.W),Ci(this)};function Cn(d){if(Ua(d),d.G==3){var y=d.U++,E=Er(d.I);if(Pt(E,"SID",d.K),Pt(E,"RID",y),Pt(E,"TYPE","terminate"),qi(d,E),y=new Je(d,d.j,y),y.L=2,y.v=Ls(Er(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=wd(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}vd(d)}function ni(d){d.g&&(Tu(d),d.g.cancel(),d.g=null)}function Ua(d){ni(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ba(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ci(d){if(!Zt(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ne||ue(),ne||(Ne(),ne=!0),me.add(y,d),d.B=0}}function Tp(d,y){return Ei(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=q(T(d.Ga,d,y),yd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new Je(this,this.j,d);let te=this.o;if(this.S&&(te?(te=A(te),x(te,this.S)):te=this.S),this.m!==null||this.O||(K.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Us(this,K,y),E=Er(this.I),Pt(E,"RID",d),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),qi(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(Wi(te)))+"&"+y:this.m&&$s(E,this.m,te)),Lr(this.h,K),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",y),Pt(E,"SID","null"),K.T=!0,Rt(K,E,null)):Rt(K,E,y),this.G=2}}else this.G==3&&(d?ja(this,d):this.i.length==0||Zt(this.h)||ja(this))};function ja(d,y){var E;y?E=y.l:E=d.U++;const k=Er(d.I);Pt(k,"SID",d.K),Pt(k,"RID",E),Pt(k,"AID",d.T),qi(d,k),d.m&&d.o&&$s(k,d.m,d.o),E=new Je(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Us(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Lr(d.h,E),Rt(E,k,y)}function qi(d,y){d.H&&J(d.H,function(E,k){Pt(y,k,E)}),d.l&&Ds({},function(E,k){Pt(y,k,E)})}function Us(d,y,E){E=Math.min(d.i.length,E);var k=d.l?T(d.l.Na,d.l,d):null;e:{var K=d.i;let te=-1;for(;;){const ge=["count="+E];te==-1?0<E?(te=K[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let bt=!0;for(let an=0;an<E;an++){let vt=K[an].g;const vn=K[an].map;if(vt-=te,0>vt)te=Math.max(0,K[an].g-100),bt=!1;else try{pd(vn,ge,"req"+vt+"_")}catch{k&&k(vn)}}if(bt){k=ge.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,k}function Wo(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ne||ue(),ne||(Ne(),ne=!0),me.add(y,d),d.v=0}}function Fa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=q(T(d.Fa,d),yd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=q(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),ni(this),gd(this))};function Tu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function gd(d){d.g=new Je(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Er(d.qa);Pt(y,"RID","rpc"),Pt(y,"SID",d.K),Pt(y,"AID",d.T),Pt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(y,"TO",d.ja),Pt(y,"TYPE","xmlhttp"),qi(d,y),d.m&&d.o&&$s(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ls(Er(y)),E.m=null,E.P=!0,xr(E,d)}n.Za=function(){this.C!=null&&(this.C=null,ni(this),Fa(this),Ht(19))};function Ba(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ha(d,y){var E=null;if(d.g==y){Ba(d),Tu(d),d.g=null;var k=2}else if(ft(d.h,y))E=y.D,jo(d.h,y),k=1;else return;if(d.G!=0){if(y.o)if(k==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=d.B;k=yi(),mt(k,new U(k,E)),Ci(d)}else Wo(d);else if(K=y.s,K==3||K==0&&0<y.X||!(k==1&&Tp(d,y)||k==2&&Fa(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),K){case 1:Ki(d,5);break;case 4:Ki(d,10);break;case 3:Ki(d,6);break;default:Ki(d,2)}}}function yd(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function Ki(d,y){if(d.j.info("Error code "+y),y==2){var E=T(d.fb,d),k=d.Xa;const K=!k;k=new Hi(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bo(k,"https"),Ls(k),K?_p(k.toString(),E):hd(k.toString(),E)}else Ht(2);d.G=0,d.l&&d.l.sa(y),vd(d),Ua(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function vd(d){if(d.G=0,d.ka=[],d.l){const y=Da(d.h);(y.length!=0||d.i.length!=0)&&(b(d.ka,y),b(d.ka,d.i),d.h.i.length=0,O(d.i),d.i.length=0),d.l.ra()}}function _d(d,y,E){var k=E instanceof Hi?Er(E):new Hi(E);if(k.g!="")y&&(k.g=y+"."+k.g),Os(k,k.s);else{var K=c.location;k=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var te=new Hi(null);k&&Bo(te,k),y&&(te.g=y),K&&Os(te,K),E&&(te.l=E),k=te}return E=d.D,y=d.ya,E&&y&&Pt(k,E,y),Pt(k,"VER",d.la),qi(d,k),k}function wd(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new $t(new zi({eb:E})):new $t(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}n=Iu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function za(){}za.prototype.g=function(d,y){return new Gn(d,y)};function Gn(d,y){Ue.call(this),this.g=new Eu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!V(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ai(this)}P(Gn,Ue),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Cn(this.g)},Gn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=rr(d),d=E);y.i.push(new dt(y.Ya++,d)),y.G==3&&Ci(y)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Cn(this.g),delete this.g,Gn.aa.N.call(this)};function Ed(d){ir.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}P(Ed,ir);function Td(){ks.call(this),this.status=1}P(Td,ks);function Ai(d){this.g=d}P(Ai,Iu),Ai.prototype.ua=function(){mt(this.g,"a")},Ai.prototype.ta=function(d){mt(this.g,new Ed(d))},Ai.prototype.sa=function(d){mt(this.g,new Td)},Ai.prototype.ra=function(){mt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,zR=function(){return new za},HR=function(){return yi()},BR=vr,fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Bf=Re,Se.COMPLETE="complete",FR=Se,Bi.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,oc=Bi,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,jR=$t}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});const $T="@firebase/firestore",UT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Dv("@firebase/firestore");function El(){return Ta.logLevel}function be(n,...e){if(Ta.logLevel<=ht.DEBUG){const t=e.map(Lv);Ta.debug(`Firestore (${cu}): ${n}`,...t)}}function vs(n,...e){if(Ta.logLevel<=ht.ERROR){const t=e.map(Lv);Ta.error(`Firestore (${cu}): ${n}`,...t)}}function Wl(n,...e){if(Ta.logLevel<=ht.WARN){const t=e.map(Lv);Ta.warn(`Firestore (${cu}): ${n}`,...t)}}function Lv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+n;throw vs(e),new Error(e)}function At(n,e){n||Ye()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jn.UNAUTHENTICATED))}shutdown(){}}class $j{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Uj{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new WR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new jn(e)}}class jj{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fj{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new jj(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bj{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Di(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new jT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Hj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function ql(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=-62135596800,BT=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*BT);return new fn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<FT)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BT}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-FT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new fn(0,0))}static max(){return new tt(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__name__";class Pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ye(),r===void 0?r=e.length-t:r>e.length-t&&Ye(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Pi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Pi.isNumericId(e),i=Pi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pi.extractNumericId(e).compare(Pi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vo.fromString(e.substring(4,e.length-2))}}class Vt extends Pi{construct(e,t,r){return new Vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const zj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Pi{construct(e,t,r){return new kn(e,t,r)}static isValidIdentifier(e){return zj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HT}static keyField(){return new kn([HT])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new xe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new xe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(t)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Vt.fromString(e))}static fromName(e){return new Be(Vt.fromString(e).popFirst(5))}static empty(){return new Be(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=-1;function Wj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new fn(t+1,0):new fn(t,r));return new So(i,Be.empty(),e)}function qj(n){return new So(n.readTime,n.key,Ac)}class So{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new So(tt.min(),Be.empty(),Ac)}static max(){return new So(tt.max(),Be.empty(),Ac)}}function Kj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Gj)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new ie((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function Yj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-1;function ep(n){return n==null}function hh(n){return n===0&&1/n==-1/0}function Xj(n){return typeof n=="number"&&Number.isInteger(n)&&!hh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="";function Jj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zT(e)),e=Zj(n.get(t),e);return zT(e)}function Zj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case KR:t+="";break;default:t+=a}}return t}function zT(n){return n+KR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.comparator=e,this.root=t||bn.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??bn.RED,this.left=i??bn.EMPTY,this.right=a??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new bn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,t,r,i,a){return this}insert(e,t,r){return new bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(e){return new qT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class qT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new hn(kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QR("Invalid base64 string: "+a):a}}(e);return new Pn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const e4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(n){if(At(!!n),typeof n=="string"){let e=0;const t=e4.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ao(n){return typeof n=="string"?Pn.fromBase64String(n):Pn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="server_timestamp",XR="__type__",JR="__previous_value__",ZR="__local_write_time__";function Vv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[XR])===null||t===void 0?void 0:t.stringValue)===YR}function tp(n){const e=n.mapValue.fields[JR];return Vv(e)?tp(e):e}function Rc(n){const e=Co(n.mapValue.fields[ZR].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,r,i,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const ph="(default)";class bc{constructor(e,t){this.projectId=e,this.database=t||ph}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__type__",n4="__max__",Df={mapValue:{}},tb="__vector__",mh="value";function Ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vv(n)?4:i4(n)?9007199254740991:r4(n)?10:11:Ye()}function Fi(n,e){if(n===e)return!0;const t=Ro(n);if(t!==Ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rc(n).isEqual(Rc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Co(i.timestampValue),c=Co(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Ao(i.bytesValue).isEqual(Ao(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Xt(i.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Xt(i.integerValue)===Xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Xt(i.doubleValue),c=Xt(a.doubleValue);return l===c?hh(l)===hh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ql(n.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(WT(l)!==WT(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Fi(l[f],c[f])))return!1;return!0}(n,e);default:return Ye()}}function Nc(n,e){return(n.values||[]).find(t=>Fi(t,e))!==void 0}function Kl(n,e){if(n===e)return 0;const t=Ro(n),r=Ro(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Xt(a.integerValue||a.doubleValue),f=Xt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return KT(n.timestampValue,e.timestampValue);case 4:return KT(Rc(n),Rc(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Ao(a),f=Ao(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=yt(c[p],f[p]);if(g!==0)return g}return yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=yt(Xt(a.latitude),Xt(l.latitude));return c!==0?c:yt(Xt(a.longitude),Xt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return GT(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},T=l.fields||{},R=(c=_[mh])===null||c===void 0?void 0:c.arrayValue,P=(f=T[mh])===null||f===void 0?void 0:f.arrayValue,O=yt(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return O!==0?O:GT(R,P)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Df.mapValue&&l===Df.mapValue)return 0;if(a===Df.mapValue)return 1;if(l===Df.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const T=yt(f[_],g[_]);if(T!==0)return T;const R=Kl(c[f[_]],p[g[_]]);if(R!==0)return R}return yt(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Ye()}}function KT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=Co(n),r=Co(e),i=yt(t.seconds,r.seconds);return i!==0?i:yt(t.nanos,r.nanos)}function GT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Kl(t[i],r[i]);if(a)return a}return yt(t.length,r.length)}function Gl(n){return hy(n)}function hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Co(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ao(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=hy(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${hy(t.fields[l])}`;return i+"}"}(n.mapValue):Ye()}function Hf(n){switch(Ro(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tp(n);return e?16+Hf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Hf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Lo(r.fields,(a,l)=>{i+=a.length+Hf(l)}),i}(n.mapValue);default:throw Ye()}}function QT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function $v(n){return!!n&&"arrayValue"in n}function YT(n){return!!n&&"nullValue"in n}function XT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zf(n){return!!n&&"mapValue"in n}function r4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[eb])===null||t===void 0?void 0:t.stringValue)===tb}function hc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function i4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===n4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(t)}setAll(e){let t=kn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=hc(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Lo(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new yr(hc(this.value))}}function nb(n){const e=[];return Lo(n.fields,(t,r)=>{const i=new kn([t]);if(zf(r)){const a=nb(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Bn(e,0,tt.min(),tt.min(),tt.min(),yr.empty(),0)}static newFoundDocument(e,t,r,i){return new Bn(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new Bn(e,2,t,tt.min(),tt.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,tt.min(),tt.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this.position=e,this.inclusive=t}}function JT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),t.key):r=Kl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function s4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{}class sn extends rb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new a4(e,t,r):t==="array-contains"?new c4(e,r):t==="in"?new d4(e,r):t==="not-in"?new f4(e,r):t==="array-contains-any"?new h4(e,r):new sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new l4(e,r):new u4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Kl(t,this.value)):t!==null&&Ro(this.value)===Ro(t)&&this.matchesComparison(Kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends rb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new hi(e,t)}matches(e){return ib(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ib(n){return n.op==="and"}function sb(n){return o4(n)&&ib(n)}function o4(n){for(const e of n.filters)if(e instanceof hi)return!1;return!0}function my(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Gl(n.value);if(sb(n))return n.filters.map(e=>my(e)).join(",");{const e=n.filters.map(t=>my(t)).join(",");return`${n.op}(${e})`}}function ob(n,e){return n instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.field.isEqual(i.field)&&Fi(r.value,i.value)}(n,e):n instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&ob(l,i.filters[c]),!0):!1}(n,e):void Ye()}function ab(n){return n instanceof sn?function(t){return`${t.field.canonicalString()} ${t.op} ${Gl(t.value)}`}(n):n instanceof hi?function(t){return t.op.toString()+" {"+t.getFilters().map(ab).join(" ,")+"}"}(n):"Filter"}class a4 extends sn{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class l4 extends sn{constructor(e,t){super(e,"in",t),this.keys=lb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class u4 extends sn{constructor(e,t){super(e,"not-in",t),this.keys=lb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Be.fromName(r.referenceValue))}class c4 extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $v(t)&&Nc(t.arrayValue,this.value)}}class d4 extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nc(this.value.arrayValue,t)}}class f4 extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Nc(this.value.arrayValue,t)}}class h4 extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$v(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function eI(n,e=null,t=[],r=[],i=null,a=null,l=null){return new p4(n,e,t,r,i,a,l)}function Uv(n){const e=nt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>my(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ep(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gl(r)).join(",")),e.le=t}return e.le}function jv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!s4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ob(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ZT(n.startAt,e.startAt)&&ZT(n.endAt,e.endAt)}function gy(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function m4(n,e,t,r,i,a,l,c){return new Zc(n,e,t,r,i,a,l,c)}function Fv(n){return new Zc(n)}function tI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ub(n){return n.collectionGroup!==null}function pc(n){const e=nt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new hn(kn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new yh(a,r))}),t.has(kn.keyField().canonicalString())||e.he.push(new yh(kn.keyField(),r))}return e.he}function Li(n){const e=nt(n);return e.Pe||(e.Pe=g4(e,pc(n))),e.Pe}function g4(n,e){if(n.limitType==="F")return eI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new yh(i.field,a)});const t=n.endAt?new gh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new gh(n.startAt.position,n.startAt.inclusive):null;return eI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yy(n,e){const t=n.filters.concat([e]);return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vy(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function np(n,e){return jv(Li(n),Li(e))&&n.limitType===e.limitType}function cb(n){return`${Uv(Li(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ab(i)).join(", ")}]`),ep(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Gl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(Li(n))}; limitType=${n.limitType})`}function rp(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of pc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=JT(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,pc(r),i)||r.endAt&&!function(l,c,f){const p=JT(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,pc(r),i))}(n,e)}function y4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function db(n){return(e,t)=>{let r=!1;for(const i of pc(n)){const a=v4(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function v4(n,e,t){const r=n.field.isKeyField()?Be.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Kl(f,p):Ye()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return GR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new qt(Be.comparator);function _s(){return _4}const fb=new qt(Be.comparator);function ac(...n){let e=fb;for(const t of n)e=e.insert(t.key,t);return e}function hb(n){let e=fb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fa(){return mc()}function pb(){return mc()}function mc(){return new ka(n=>n.toString(),(n,e)=>n.isEqual(e))}const w4=new qt(Be.comparator),E4=new hn(Be.comparator);function pt(...n){let e=E4;for(const t of n)e=e.add(t);return e}const T4=new hn(yt);function I4(){return T4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function mb(n){return{integerValue:""+n}}function S4(n,e){return Xj(e)?mb(e):Bv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this._=void 0}}function C4(n,e,t){return n instanceof kc?function(i,a){const l={fields:{[XR]:{stringValue:YR},[ZR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Vv(a)&&(a=tp(a)),a&&(l.fields[JR]=a),{mapValue:l}}(t,e):n instanceof Ql?yb(n,e):n instanceof Pc?vb(n,e):function(i,a){const l=gb(i,a),c=nI(l)+nI(i.Ie);return py(l)&&py(i.Ie)?mb(c):Bv(i.serializer,c)}(n,e)}function A4(n,e,t){return n instanceof Ql?yb(n,e):n instanceof Pc?vb(n,e):t}function gb(n,e){return n instanceof vh?function(r){return py(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class kc extends ip{}class Ql extends ip{constructor(e){super(),this.elements=e}}function yb(n,e){const t=_b(e);for(const r of n.elements)t.some(i=>Fi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Pc extends ip{constructor(e){super(),this.elements=e}}function vb(n,e){let t=_b(e);for(const r of n.elements)t=t.filter(i=>!Fi(i,r));return{arrayValue:{values:t}}}class vh extends ip{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nI(n){return Xt(n.integerValue||n.doubleValue)}function _b(n){return $v(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t){this.field=e,this.transform=t}}function R4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ql&&i instanceof Ql||r instanceof Pc&&i instanceof Pc?ql(r.elements,i.elements,Fi):r instanceof vh&&i instanceof vh?Fi(r.Ie,i.Ie):r instanceof kc&&i instanceof kc}(n.transform,e.transform)}class b4{constructor(e,t){this.version=e,this.transformResults=t}}class Mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sp{}function Eb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ib(n.key,Mi.none()):new ed(n.key,n.data,Mi.none());{const t=n.data,r=yr.empty();let i=new hn(kn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Mo(n.key,r,new Nr(i.toArray()),Mi.none())}}function N4(n,e,t){n instanceof ed?function(i,a,l){const c=i.value.clone(),f=iI(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Mo?function(i,a,l){if(!Wf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=iI(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(Tb(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function gc(n,e,t,r){return n instanceof ed?function(a,l,c,f){if(!Wf(a.precondition,l))return c;const p=a.value.clone(),g=sI(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Mo?function(a,l,c,f){if(!Wf(a.precondition,l))return c;const p=sI(a.fieldTransforms,f,l),g=l.data;return g.setAll(Tb(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,c){return Wf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function k4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=gb(r.transform,i||null);a!=null&&(t===null&&(t=yr.empty()),t.set(r.field,a))}return t||null}function rI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(a,l)=>R4(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ed extends sp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mo extends sp{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Tb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function iI(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,A4(l,c,t[i]))}return r}function sI(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,C4(a,l,e))}return r}class Ib extends sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P4 extends sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&N4(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pb();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=Eb(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(t,r)=>rI(t,r))&&ql(this.baseMutations,e.baseMutations,(t,r)=>rI(t,r))}}class Hv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=function(){return w4}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Hv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,_t;function L4(n){switch(n){case se.OK:return Ye();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ye()}}function Sb(n){if(n===void 0)return vs("GRPC error has no .code"),se.UNKNOWN;switch(n){case nn.OK:return se.OK;case nn.CANCELLED:return se.CANCELLED;case nn.UNKNOWN:return se.UNKNOWN;case nn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case nn.INTERNAL:return se.INTERNAL;case nn.UNAVAILABLE:return se.UNAVAILABLE;case nn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case nn.NOT_FOUND:return se.NOT_FOUND;case nn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case nn.ABORTED:return se.ABORTED;case nn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case nn.DATA_LOSS:return se.DATA_LOSS;default:return Ye()}}(_t=nn||(nn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new vo([4294967295,4294967295],0);function oI(n){const e=M4().encode(n),t=new UR;return t.update(e),new Uint8Array(t.digest())}function aI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new vo([t,r],0),new vo([i,a],0)]}class zv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lc(`Invalid padding: ${t}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=vo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(vo.fromNumber(r)));return i.compare(V4)===1&&(i=new vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=oI(e),[r,i]=aI(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new zv(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=oI(e),[r,i]=aI(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new op(tt.min(),i,new qt(yt),_s(),pt())}}class td{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new td(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Cb{constructor(e,t){this.targetId=e,this.ge=t}}class Ab{constructor(e,t,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class lI{constructor(){this.pe=0,this.ye=uI(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=pt(),t=pt(),r=pt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new td(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=uI()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_s(),this.$e=Of(),this.Ke=Of(),this.Ue=new qt(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(gy(a))if(r===0){const l=new Be(a.path);this.ze(t,l,Bn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Ao(r).toUint8Array()}catch(f){if(f instanceof QR)return Wl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new zv(l,i,a)}catch(f){return Wl(f instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&gy(c.target)){const f=new Be(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,Bn.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=pt();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new op(e,t,this.Ue,this.Qe,r);return this.Qe=_s(),this.$e=Of(),this.Ke=Of(),this.Ue=new qt(yt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new lI,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new hn(yt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new hn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new lI),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Of(){return new qt(Be.comparator)}function uI(){return new qt(Be.comparator)}const U4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F4={and:"AND",or:"OR"};class B4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _y(n,e){return n.useProto3Json||ep(e)?e:{value:e}}function _h(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function H4(n,e){return _h(n,e.toTimestamp())}function Vi(n){return At(!!n),tt.fromTimestamp(function(t){const r=Co(t);return new fn(r.seconds,r.nanos)}(n))}function Wv(n,e){return wy(n,e).canonicalString()}function wy(n,e){const t=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function bb(n){const e=Vt.fromString(n);return At(Ob(e)),e}function Ey(n,e){return Wv(n.databaseId,e.path)}function Rg(n,e){const t=bb(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(kb(t))}function Nb(n,e){return Wv(n.databaseId,e)}function z4(n){const e=bb(n);return e.length===4?Vt.emptyPath():kb(e)}function Ty(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kb(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function cI(n,e,t){return{name:Ey(n,e),fields:t.value.mapValue.fields}}function W4(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string"),Pn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Pn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?se.UNKNOWN:Sb(p.code);return new xe(g,p.message||"")}(l);t=new Ab(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rg(n,r.document.name),a=Vi(r.document.updateTime),l=r.document.createTime?Vi(r.document.createTime):tt.min(),c=new yr({mapValue:{fields:r.document.fields}}),f=Bn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new qf(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rg(n,r.document),a=r.readTime?Vi(r.readTime):tt.min(),l=Bn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new qf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rg(n,r.document),a=r.removedTargetIds||[];t=new qf([],a,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new x4(i,a),c=r.targetId;t=new Cb(c,l)}}return t}function q4(n,e){let t;if(e instanceof ed)t={update:cI(n,e.key,e.value)};else if(e instanceof Ib)t={delete:Ey(n,e.key)};else if(e instanceof Mo)t={update:cI(n,e.key,e.data),updateMask:tF(e.fieldMask)};else{if(!(e instanceof P4))return Ye();t={verify:Ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof kc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ql)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof vh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ye()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:H4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ye()}(n,e.precondition)),t}function K4(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?Vi(i.updateTime):Vi(a);return l.isEqual(tt.min())&&(l=Vi(a)),new b4(l,i.transformResults||[])}(t,e))):[]}function G4(n,e){return{documents:[Nb(n,e.path)]}}function Q4(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Nb(n,i);const a=function(p){if(p.length!==0)return Db(hi.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:Il(T.field),direction:J4(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=_y(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function Y4(n){let e=z4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=Pb(_);return T instanceof hi&&sb(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(P){return new yh(Sl(P.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(_){let T;return T=typeof _=="object"?_.value:_,ep(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(_){const T=!!_.before,R=_.values||[];return new gh(R,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,R=_.values||[];return new gh(R,T)}(t.endAt)),m4(e,i,l,a,c,"F",f,p)}function X4(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Pb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sl(t.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sl(t.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sl(t.unaryFilter.field);return sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Sl(t.unaryFilter.field);return sn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(n):n.fieldFilter!==void 0?function(t){return sn.create(Sl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return hi.create(t.compositeFilter.filters.map(r=>Pb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(t.compositeFilter.op))}(n):Ye()}function J4(n){return U4[n]}function Z4(n){return j4[n]}function eF(n){return F4[n]}function Il(n){return{fieldPath:n.canonicalString()}}function Sl(n){return kn.fromServerFormat(n.fieldPath)}function Db(n){return n instanceof sn?function(t){if(t.op==="=="){if(XT(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(YT(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XT(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(YT(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:Z4(t.op),value:t.value}}}(n):n instanceof hi?function(t){const r=t.getFilters().map(i=>Db(i));return r.length===1?r[0]:{compositeFilter:{op:eF(t.op),filters:r}}}(n):Ye()}function tF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ob(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t,r,i,a=tt.min(),l=tt.min(),c=Pn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.Tt=e}}function rF(n){const e=Y4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.Tn=new sF}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(So.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(So.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class sF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new hn(Vt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xb=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(xb,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Yl(0)}static Un(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="LruGarbageCollector",oF=1048576;function hI([n,e],[t,r]){const i=yt(n,t);return i===0?yt(e,r):i}class aF{constructor(e){this.Hn=e,this.buffer=new hn(hI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(fI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fu(t)?be(fI,"Ignoring IndexedDB error during garbage collection: ",t):await du(t)}await this.er(3e5)})}}class uF{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Zh.ae);const r=new aF(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(dI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dI):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),El()<=ht.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function cF(n,e){return new uF(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&gc(r.mutation,i,Nr.empty(),fn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const i=fa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=ac();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=fa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=_s();const l=mc(),c=function(){return mc()}();return t.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Mo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),gc(g.mutation,p,g.mutation.getFieldMask(),fn.now())):l.set(p.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new fF(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=mc();let i=new qt((l,c)=>l-c),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Nr.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||pt()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=pb();g.forEach(T=>{if(!a.has(T)){const R=Eb(t.get(T),r.get(T));R!==null&&_.set(T,R),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ub(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ie.resolve(fa());let c=Ac,f=a;return l.next(p=>ie.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{f=f.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,pt())).next(g=>({batchId:c,changes:hb(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next(r=>{let i=ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=ac();return this.indexManager.getCollectionParents(e,a).next(c=>ie.forEach(c,f=>{const p=function(_,T){return new Zc(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Bn.newInvalidDocument(g)))});let c=ac();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&gc(g.mutation,p,Nr.empty(),fn.now()),rp(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Vi(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:rF(i.bundledQuery),readTime:Vi(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.overlays=new qt(Be.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fa();return ie.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=fa(),a=t.length+1,l=new Be(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new qt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=fa(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=fa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return ie.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new O4(t,r));let a=this.Rr.get(t);a===void 0&&(a=pt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.Vr=new hn(Tn.mr),this.gr=new hn(Tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Tn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Tn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Be(new Vt([])),r=new Tn(t,e),i=new Tn(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Be(new Vt([])),r=new Tn(t,e),i=new Tn(t,e+1);let a=pt();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Tn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Be.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new hn(Tn.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new D4(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Tn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Mv:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tn(t,0),i=new Tn(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hn(yt);return t.forEach(i=>{const a=new Tn(i,0),l=new Tn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const l=new Tn(new Be(a),0);let c=new hn(yt);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Cr)),!0)},l),ie.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,i=>{const a=new Tn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Tn(t,0),i=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.kr=e,this.docs=function(){return new qt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=_s();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=_s();const l=t.path,c=new Be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Kj(qj(g),r)<=0||(i.has(g.key)||rp(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ye()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _F(this)}getSize(e){return ie.resolve(this.size)}}class _F extends dF{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.persistence=e,this.Qr=new ka(t=>Uv(t),jv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new qv,this.targetCount=0,this.Ur=Yl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Yl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Zh(0),this.zr=!1,this.zr=!0,this.jr=new gF,this.referenceDelegate=e(this),this.Hr=new wF(this),this.indexManager=new iF,this.remoteDocumentCache=function(i){return new vF(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new nF(t),this.Yr=new pF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new yF(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new EF(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class EF extends Qj{constructor(e){super(),this.currentSequenceNumber=e}}class Kv{constructor(e){this.persistence=e,this.ti=new qv,this.ni=null}static ri(e){return new Kv(e)}get ii(){if(this.ni)return this.ni;throw Ye()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const i=Be.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class wh{constructor(e,t){this.persistence=e,this.oi=new ka(r=>Jj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cF(this,t)}static ri(e,t){return new wh(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hf(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=pt(),i=pt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Gv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yU()?8:Yj(Hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new TF;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(El()<=ht.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(El()<=ht.DEBUG&&be("QueryEngine","Query:",Tl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(El()<=ht.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(t))):ie.resolve())}rs(e,t){if(tI(t))return ie.resolve(null);let r=Li(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=vy(t,null,"F"),r=Li(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=pt(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,c);return this.ls(t,p,l,f.readTime)?this.rs(e,vy(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return tI(t)||i.isEqual(tt.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?ie.resolve(null):(El()<=ht.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tl(t)),this.hs(e,l,t,Wj(i,Ac)).next(c=>c))})}cs(e,t){let r=new hn(db(e));return t.forEach((i,a)=>{rp(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return El()<=ht.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.ns.getDocumentsMatchingQuery(e,t,So.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LocalStore",SF=3e8;class CF{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new qt(yt),this.Is=new ka(a=>Uv(a),jv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hF(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function AF(n,e,t,r){return new CF(n,e,t,r)}async function Mb(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=pt();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function RF(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,T=_.keys();let R=ie.resolve();return T.forEach(P=>{R=R.next(()=>g.getEntry(f,P)).next(O=>{const b=p.docVersions.get(P);At(b!==null),O.version.compareTo(b)<0&&(_.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),g.addEntry(O)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=pt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Vb(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function bF(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const T=i.get(_);if(!T)return;c.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let R=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(Pn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(g.resumeToken,r)),i=i.insert(_,R),function(O,b,F){return O.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=SF?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,R,g)&&c.push(t.Hr.updateTargetData(a,R))});let f=_s(),p=pt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(NF(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(tt.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ie.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=i,a))}function NF(n,e,t){let r=pt(),i=pt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=_s();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):be(Qv,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function kF(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PF(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new ho(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Iy(n,e,t){const r=nt(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!fu(l))throw l;be(Qv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function pI(n,e,t){const r=nt(n);let i=tt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=nt(f),T=_.Is.get(g);return T!==void 0?ie.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Li(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?a:pt())).next(c=>(DF(r,y4(e),c),{documents:c,gs:a})))}function DF(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class mI{constructor(){this.activeTargetIds=I4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OF{constructor(){this.ho=new mI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new mI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="ConnectivityMonitor";class yI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(gI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(gI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=null;function Sy(){return xf===null?xf=function(){return 268435456+Math.round(2147483648*Math.random())}():xf++,"0x"+xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="RestConnection",LF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MF{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,a){const l=Sy(),c=this.bo(e,t.toUriEncodedString());be(bg,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,c,f,r).then(p=>(be(bg,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Wl(bg,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,a,l){return this.So(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const r=LF[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class $F extends MF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=Sy();return new Promise((l,c)=>{const f=new jR;f.setWithCredentials(!0),f.listenOnce(FR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Bf.NO_ERROR:const g=f.getResponseJson();be(Un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Bf.TIMEOUT:be(Un,`RPC '${e}' ${a} timed out`),c(new xe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const _=f.getStatus();if(be(Un,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const P=function(b){const F=b.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN}(R.status);c(new xe(P,R.message))}else c(new xe(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(se.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{be(Un,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);be(Un,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=Sy(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zR(),c=HR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");be(Un,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let T=!1,R=!1;const P=new VF({Fo:b=>{R?be(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(T||(be(Un,`Opening RPC '${e}' stream ${i} transport.`),_.open(),T=!0),be(Un,`RPC '${e}' stream ${i} sending:`,b),_.send(b))},Mo:()=>_.close()}),O=(b,F,V)=>{b.listen(F,H=>{try{V(H)}catch(W){setTimeout(()=>{throw W},0)}})};return O(_,oc.EventType.OPEN,()=>{R||(be(Un,`RPC '${e}' stream ${i} transport opened.`),P.Qo())}),O(_,oc.EventType.CLOSE,()=>{R||(R=!0,be(Un,`RPC '${e}' stream ${i} transport closed`),P.Ko())}),O(_,oc.EventType.ERROR,b=>{R||(R=!0,Wl(Un,`RPC '${e}' stream ${i} transport errored:`,b),P.Ko(new xe(se.UNAVAILABLE,"The operation could not be completed")))}),O(_,oc.EventType.MESSAGE,b=>{var F;if(!R){const V=b.data[0];At(!!V);const H=V,W=(H==null?void 0:H.error)||((F=H[0])===null||F===void 0?void 0:F.error);if(W){be(Un,`RPC '${e}' stream ${i} received error:`,W);const Z=W.status;let J=function(N){const x=nn[N];if(x!==void 0)return Sb(x)}(Z),S=W.message;J===void 0&&(J=se.INTERNAL,S="Unknown error status: "+Z+" with message "+W.message),R=!0,P.Ko(new xe(J,S)),_.close()}else be(Un,`RPC '${e}' stream ${i} received:`,V),P.Uo(V)}}),O(c,BR.STAT_EVENT,b=>{b.stat===fy.PROXY?be(Un,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===fy.NOPROXY&&be(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){return new B4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="PersistentStream";class Ub{constructor(e,t,r,i,a,l,c,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $b(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(vs(t.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new xe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(vI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(vI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UF extends Ub{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=W4(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?Vi(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Ty(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=gy(f)?{documents:G4(a,f)}:{query:Q4(a,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Rb(a,l.resumeToken);const p=_y(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){c.readTime=_h(a,l.snapshotVersion.toTimestamp());const p=_y(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=X4(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Ty(this.serializer),t.removeTarget=e,this.I_(t)}}class jF extends Ub{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=K4(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Ty(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>q4(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{}class BF extends FF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,wy(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(se.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,wy(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class HF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vs(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class zF{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Pa(this)&&(be(Ia,"Restarting streams for network reachability change."),await async function(f){const p=nt(f);p.W_.add(4),await nd(p),p.j_.set("Unknown"),p.W_.delete(4),await lp(p)}(this))})}),this.j_=new HF(r,i)}}async function lp(n){if(Pa(n))for(const e of n.G_)await e(!0)}async function nd(n){for(const e of n.G_)await e(!1)}function jb(n,e){const t=nt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Zv(t)?Jv(t):hu(t).c_()&&Xv(t,e))}function Yv(n,e){const t=nt(n),r=hu(t);t.U_.delete(e),r.c_()&&Fb(t,e),t.U_.size===0&&(r.c_()?r.P_():Pa(t)&&t.j_.set("Unknown"))}function Xv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hu(n).y_(e)}function Fb(n,e){n.H_.Ne(e),hu(n).w_(e)}function Jv(n){n.H_=new $4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),hu(n).start(),n.j_.B_()}function Zv(n){return Pa(n)&&!hu(n).u_()&&n.U_.size>0}function Pa(n){return nt(n).W_.size===0}function Bb(n){n.H_=void 0}async function WF(n){n.j_.set("Online")}async function qF(n){n.U_.forEach((e,t)=>{Xv(n,e)})}async function KF(n,e){Bb(n),Zv(n)?(n.j_.q_(e),Jv(n)):n.j_.set("Unknown")}async function GF(n,e,t){if(n.j_.set("Online"),e instanceof Ab&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){be(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(n,r)}else if(e instanceof qf?n.H_.We(e):e instanceof Cb?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await Vb(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.U_.get(f);if(!g)return;a.U_.set(f,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),Fb(a,f);const _=new ho(g.target,f,p,g.sequenceNumber);Xv(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){be(Ia,"Failed to raise snapshot:",r),await Eh(n,r)}}async function Eh(n,e,t){if(!fu(e))throw e;n.W_.add(1),await nd(n),n.j_.set("Offline"),t||(t=()=>Vb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(Ia,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await lp(n)})}function Hb(n,e){return e().catch(t=>Eh(n,t,e))}async function up(n){const e=nt(n),t=bo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Mv;for(;QF(e);)try{const i=await kF(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,YF(e,i)}catch(i){await Eh(e,i)}zb(e)&&Wb(e)}function QF(n){return Pa(n)&&n.K_.length<10}function YF(n,e){n.K_.push(e);const t=bo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function zb(n){return Pa(n)&&!bo(n).u_()&&n.K_.length>0}function Wb(n){bo(n).start()}async function XF(n){bo(n).C_()}async function JF(n){const e=bo(n);for(const t of n.K_)e.b_(t.mutations)}async function ZF(n,e,t){const r=n.K_.shift(),i=Hv.from(r,e,t);await Hb(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await up(n)}async function eB(n,e){e&&bo(n).S_&&await async function(r,i){if(function(l){return L4(l)&&l!==se.ABORTED}(i.code)){const a=r.K_.shift();bo(r).h_(),await Hb(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await up(r)}}(n,e),zb(n)&&Wb(n)}async function _I(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),be(Ia,"RemoteStore received new credentials");const r=Pa(t);t.W_.add(3),await nd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await lp(t)}async function tB(n,e){const t=nt(n);e?(t.W_.delete(2),await lp(t)):e||(t.W_.add(2),await nd(t),t.j_.set("Unknown"))}function hu(n){return n.J_||(n.J_=function(t,r,i){const a=nt(t);return a.M_(),new UF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:WF.bind(null,n),No:qF.bind(null,n),Lo:KF.bind(null,n),p_:GF.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Zv(n)?Jv(n):n.j_.set("Unknown")):(await n.J_.stop(),Bb(n))})),n.J_}function bo(n){return n.Y_||(n.Y_=function(t,r,i){const a=nt(t);return a.M_(),new jF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:XF.bind(null,n),Lo:eB.bind(null,n),D_:JF.bind(null,n),v_:ZF.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await up(n)):(await n.Y_.stop(),n.K_.length>0&&(be(Ia,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new e_(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t_(n,e){if(vs("AsyncQueue",`${e}: ${n}`),fu(n))return new xe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Be.comparator(t.key,r.key):(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=ac(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Z_=new qt(Be.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ye():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xl{constructor(e,t,r,i,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Xl(e,t,bl.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class rB{constructor(){this.queries=EI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=nt(t),a=i.queries;i.queries=EI(),a.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new xe(se.ABORTED,"Firestore shutting down"))}}function EI(){return new ka(n=>cb(n),np)}async function qb(n,e){const t=nt(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new nB,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=t_(l,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&n_(t)}async function Kb(n,e){const t=nt(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iB(n,e){const t=nt(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&n_(t)}function sB(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function n_(n){n.ia.forEach(e=>{e.next()})}var Cy,TI;(TI=Cy||(Cy={}))._a="default",TI.Cache="cache";class Gb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.key=e}}class Yb{constructor(e){this.key=e}}class oB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=db(e),this.wa=new bl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new wI,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const T=i.get(g),R=rp(this.query,_)?_:null,P=!!T&&this.mutatedKeys.has(T.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let b=!1;T&&R?T.data.isEqual(R.data)?P!==O&&(r.track({type:3,doc:R}),b=!0):this.va(T,R)||(r.track({type:2,doc:R}),b=!0,(f&&this.ya(R,f)>0||p&&this.ya(R,p)<0)&&(c=!0)):!T&&R?(r.track({type:0,doc:R}),b=!0):T&&!R&&(r.track({type:1,doc:T}),b=!0,(f||p)&&(c=!0)),b&&(R?(l=l.add(R),a=O?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(R,P){const O=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return O(R)-O(P)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Xl(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new wI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Yb(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Qb(r))}),t}Oa(e){this.fa=e.gs,this.pa=pt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Xl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const r_="SyncEngine";class aB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lB{constructor(e){this.key=e,this.Ba=!1}}class uB{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ka(c=>cb(c),np),this.qa=new Map,this.Qa=new Set,this.$a=new qt(Be.comparator),this.Ka=new Map,this.Ua=new qv,this.Wa={},this.Ga=new Map,this.za=Yl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cB(n,e,t=!0){const r=nN(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Xb(r,e,t,!0),i}async function dB(n,e){const t=nN(n);await Xb(t,e,!0,!1)}async function Xb(n,e,t,r){const i=await PF(n.localStore,Li(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await fB(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&jb(n.remoteStore,i),c}async function fB(n,e,t,r,i){n.Ha=(_,T,R)=>async function(O,b,F,V){let H=b.view.ba(F);H.ls&&(H=await pI(O.localStore,b.query,!1).then(({documents:S})=>b.view.ba(S,H)));const W=V&&V.targetChanges.get(b.targetId),Z=V&&V.targetMismatches.get(b.targetId)!=null,J=b.view.applyChanges(H,O.isPrimaryClient,W,Z);return SI(O,b.targetId,J.Ma),J.snapshot}(n,_,T,R);const a=await pI(n.localStore,e,!0),l=new oB(e,a.gs),c=l.ba(a.documents),f=td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);SI(n,t,p.Ma);const g=new aB(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function hB(n,e,t){const r=nt(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!np(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Iy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Yv(r.remoteStore,i.targetId),Ay(r,i.targetId)}).catch(du)):(Ay(r,i.targetId),await Iy(r.localStore,i.targetId,!0))}async function pB(n,e){const t=nt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yv(t.remoteStore,r.targetId))}async function mB(n,e,t){const r=TB(n);try{const i=await function(l,c){const f=nt(l),p=fn.now(),g=c.reduce((R,P)=>R.add(P.key),pt());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=_s(),O=pt();return f.ds.getEntries(R,g).next(b=>{P=b,P.forEach((F,V)=>{V.isValidDocument()||(O=O.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,P)).next(b=>{_=b;const F=[];for(const V of c){const H=k4(V,_.get(V.key).overlayedDocument);H!=null&&F.push(new Mo(V.key,H,nb(H.value.mapValue),Mi.exists(!0)))}return f.mutationQueue.addMutationBatch(R,p,F,c)}).next(b=>{T=b;const F=b.applyToLocalDocumentSet(_,O);return f.documentOverlayCache.saveOverlays(R,b.batchId,F)})}).then(()=>({batchId:T.batchId,changes:hb(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new qt(yt)),p=p.insert(c,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await rd(r,i.changes),await up(r.remoteStore)}catch(i){const a=t_(i,"Failed to persist write");t.reject(a)}}async function Jb(n,e){const t=nt(n);try{const r=await bF(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?At(l.Ba):i.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await rd(t,r,e)}catch(r){await du(r)}}function II(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=nt(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(c)&&(p=!0)}),p&&n_(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gB(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new qt(Be.comparator);l=l.insert(a,Bn.newNoDocument(a,tt.min()));const c=pt().add(a),f=new op(tt.min(),new Map,new qt(yt),l,c);await Jb(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),i_(r)}else await Iy(r.localStore,e,!1).then(()=>Ay(r,e,t)).catch(du)}async function yB(n,e){const t=nt(n),r=e.batch.batchId;try{const i=await RF(t.localStore,e);eN(t,r,null),Zb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rd(t,i)}catch(i){await du(i)}}async function vB(n,e,t){const r=nt(n);try{const i=await function(l,c){const f=nt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(At(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);eN(r,e,t),Zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rd(r,i)}catch(i){await du(i)}}function Zb(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function eN(n,e,t){const r=nt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||tN(n,r)})}function tN(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Yv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),i_(n))}function SI(n,e,t){for(const r of t)r instanceof Qb?(n.Ua.addReference(r.key,e),_B(n,r)):r instanceof Yb?(be(r_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||tN(n,r.key)):Ye()}function _B(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(r_,"New document in limbo: "+t),n.Qa.add(r),i_(n))}function i_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Be(Vt.fromString(e)),r=n.za.next();n.Ka.set(r,new lB(t)),n.$a=n.$a.insert(t,r),jb(n.remoteStore,new ho(Li(Fv(t.path)),r,"TargetPurposeLimboResolution",Zh.ae))}}async function rd(n,e,t){const r=nt(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=Gv.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const g=nt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,T=>ie.forEach(T.Hi,R=>g.persistence.referenceDelegate.addReference(_,T.targetId,R)).next(()=>ie.forEach(T.Ji,R=>g.persistence.referenceDelegate.removeReference(_,T.targetId,R)))))}catch(_){if(!fu(_))throw _;be(Qv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const R=g.Ts.get(T),P=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(P);g.Ts=g.Ts.insert(T,O)}}}(r.localStore,a))}async function wB(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){be(r_,"User change. New user:",e.toKey());const r=await Mb(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(f=>{f.reject(new xe(se.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rd(t,r.Rs)}}function EB(n,e){const t=nt(n),r=t.Ka.get(e);if(r&&r.Ba)return pt().add(r.key);{let i=pt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function nN(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gB.bind(null,e),e.La.p_=iB.bind(null,e.eventManager),e.La.Ja=sB.bind(null,e.eventManager),e}function TB(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vB.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return AF(this.persistence,new IF,e.initialUser,this.serializer)}Xa(e){return new Lb(Kv.ri,this.serializer)}Za(e){return new OF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class IB extends Th{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof wh);const r=this.persistence.referenceDelegate.garbageCollector;return new lF(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new Lb(r=>wh.ri(r,t),this.serializer)}}class Ry{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>II(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wB.bind(null,this.syncEngine),await tB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rB}()}createDatastore(e){const t=ap(e.databaseInfo.databaseId),r=function(a){return new $F(a)}(e.databaseInfo);return function(a,l,c,f){return new BF(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new zF(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>II(this.syncEngine,t,0),function(){return yI.D()?new yI:new xF}())}createSyncEngine(e,t){return function(i,a,l,c,f,p,g){const _=new uB(i,a,l,c,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=nt(i);be(Ia,"RemoteStore shutting down."),a.W_.add(5),await nd(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ry.provider={build:()=>new Ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="FirestoreClient";class SB{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=jn.UNAUTHENTICATED,this.clientId=qR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{be(No,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(No,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=t_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kg(n,e){n.asyncQueue.verifyOperationInProgress(),be(No,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Mb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function CI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CB(n);be(No,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_I(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>_I(e.remoteStore,i)),n._onlineComponents=e}async function CB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(No,"Using user provided OfflineComponentProvider");try{await kg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wl("Error using user provided cache. Falling back to memory cache: "+t),await kg(n,new Th)}}else be(No,"Using default OfflineComponentProvider"),await kg(n,new IB(void 0));return n._offlineComponents}async function iN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(No,"Using user provided OnlineComponentProvider"),await CI(n,n._uninitializedComponentsProvider._online)):(be(No,"Using default OnlineComponentProvider"),await CI(n,new Ry))),n._onlineComponents}function AB(n){return iN(n).then(e=>e.syncEngine)}async function sN(n){const e=await iN(n),t=e.eventManager;return t.onListen=cB.bind(null,e.syncEngine),t.onUnlisten=hB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pB.bind(null,e.syncEngine),t}function RB(n,e,t={}){const r=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new rN({next:T=>{g.su(),l.enqueueAndForget(()=>Kb(a,_));const R=T.docs.has(c);!R&&T.fromCache?p.reject(new xe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&f&&f.source==="server"?p.reject(new xe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Gb(Fv(c.path),g,{includeMetadataChanges:!0,Ta:!0});return qb(a,_)}(await sN(n),n.asyncQueue,e,t,r)),r.promise}function bB(n,e,t={}){const r=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new rN({next:T=>{g.su(),l.enqueueAndForget(()=>Kb(a,_)),T.fromCache&&f.source==="server"?p.reject(new xe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Gb(c,g,{includeMetadataChanges:!0,Ta:!0});return qb(a,_)}(await sN(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n,e,t){if(!t)throw new xe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NB(n,e,t,r){if(e===!0&&r===!0)throw new xe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RI(n){if(!Be.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bI(n){if(Be.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ye()}function ws(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cp(n);throw new xe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firestore.googleapis.com",NI=!0;class kI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lN,this.ssl=NI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:NI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oF)throw new xe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vj;switch(r.type){case"firstParty":return new Fj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=AI.get(t);r&&(be("ComponentProvider","Removing Datastore"),AI.delete(t),r.terminate())}(this),Promise.resolve()}}function kB(n,e,t,r={}){var i;const a=(n=ws(n,dp))._getSettings(),l=`${e}:${t}`;if(a.host!==lN&&a.host!==l&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=jn.MOCK_USER;else{c=cU(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jn(p)}n._authCredentials=new $j(new WR(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pu(this.firestore,e,this._query)}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class _o extends pu{constructor(e,t,r){super(e,t,Fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Be(e))}withConverter(e){return new _o(this.firestore,e,this._path)}}function by(n,e,...t){if(n=tr(n),aN("collection","path",e),n instanceof dp){const r=Vt.fromString(e,...t);return bI(r),new _o(n,null,r)}{if(!(n instanceof er||n instanceof _o))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return bI(r),new _o(n.firestore,null,r)}}function Kf(n,e,...t){if(n=tr(n),arguments.length===1&&(e=qR.newId()),aN("doc","path",e),n instanceof dp){const r=Vt.fromString(e,...t);return RI(r),new er(n,null,new Be(r))}{if(!(n instanceof er||n instanceof _o))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return RI(r),new er(n.firestore,n instanceof _o?n.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="AsyncQueue";class DI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $b(this,"async_queue_retry"),this.Su=()=>{const r=Ng();r&&be(PI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new hs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fu(e))throw e;be(PI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw vs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=e_.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Ye()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class id extends dp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new DI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DI(e),this._firestoreClient=void 0,await e}}}function PB(n,e){const t=MR(),r=ph,i=xv(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=lU("firestore");a&&kB(i,...a)}return i}function s_(n){if(n._terminated)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DB(n),n._firestoreClient}function DB(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,p,g){return new t4(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,oN(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new SB(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Pn.fromBase64String(e))}catch(t){throw new xe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jl(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=/^__.*__$/;class xB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new ed(e,this.data,t,this.fieldTransforms)}}class uN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class hp{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ih(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(cN(this.Lu)&&OB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class LB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}ju(e,t,r,i=!1){return new hp({Lu:e,methodName:t,zu:r,path:kn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l_(n){const e=n._freezeSettings(),t=ap(n._databaseId);return new LB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MB(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);d_("Data must be an object, but it was:",l,r);const c=dN(r,l);let f,p;if(a.merge)f=new Nr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=Ny(e,_,t);if(!l.contains(T))throw new xe(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hN(g,T)||g.push(T)}f=new Nr(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new xB(new yr(c),f,p)}class pp extends sd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pp}}function VB(n,e,t){return new hp({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class u_ extends sd{_toFieldTransform(e){return new wb(e.path,new kc)}isEqual(e){return e instanceof u_}}class c_ extends sd{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=VB(this,e,!0),r=this.Hu.map(a=>mu(a,t)),i=new Ql(r);return new wb(e.path,i)}isEqual(e){return e instanceof c_&&Sc(this.Hu,e.Hu)}}function $B(n,e,t,r){const i=n.ju(1,e,t);d_("Data must be an object, but it was:",i,r);const a=[],l=yr.empty();Lo(r,(f,p)=>{const g=f_(e,f,t);p=tr(p);const _=i.Ku(g);if(p instanceof pp)a.push(g);else{const T=mu(p,_);T!=null&&(a.push(g),l.set(g,T))}});const c=new Nr(a);return new uN(l,c,i.fieldTransforms)}function UB(n,e,t,r,i,a){const l=n.ju(1,e,t),c=[Ny(e,r,t)],f=[i];if(a.length%2!=0)throw new xe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)c.push(Ny(e,a[T])),f.push(a[T+1]);const p=[],g=yr.empty();for(let T=c.length-1;T>=0;--T)if(!hN(p,c[T])){const R=c[T];let P=f[T];P=tr(P);const O=l.Ku(R);if(P instanceof pp)p.push(R);else{const b=mu(P,O);b!=null&&(p.push(R),g.set(R,b))}}const _=new Nr(p);return new uN(g,_,l.fieldTransforms)}function jB(n,e,t,r=!1){return mu(t,n.ju(r?4:3,e))}function mu(n,e){if(fN(n=tr(n)))return d_("Unsupported field value:",e,n),dN(n,e);if(n instanceof sd)return function(r,i){if(!cN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=mu(c,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=tr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fn.fromDate(r);return{timestampValue:_h(i.serializer,a)}}if(r instanceof fn){const a=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(i.serializer,a)}}if(r instanceof o_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:Rb(i.serializer,r._byteString)};if(r instanceof er){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof a_)return function(l,c){return{mapValue:{fields:{[eb]:{stringValue:tb},[mh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return Bv(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${cp(r)}`)}(n,e)}function dN(n,e){const t={};return GR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(n,(r,i)=>{const a=mu(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function fN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fn||n instanceof o_||n instanceof Jl||n instanceof er||n instanceof sd||n instanceof a_)}function d_(n,e,t){if(!fN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=cp(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Ny(n,e,t){if((e=tr(e))instanceof fp)return e._internalPath;if(typeof e=="string")return f_(n,e);throw Ih("Field path arguments must be of type string or ",n,!1,void 0,t)}const FB=new RegExp("[~\\*/\\[\\]]");function f_(n,e,t){if(e.search(FB)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fp(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ih(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new xe(se.INVALID_ARGUMENT,c+n+f)}function hN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(h_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BB extends pN{data(){return super.data()}}function h_(n,e){return typeof e=="string"?f_(n,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p_{}class zB extends p_{}function WB(n,e,...t){let r=[];e instanceof p_&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof m_).length,c=a.filter(f=>f instanceof mp).length;if(l>1||l>0&&c>0)throw new xe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class mp extends zB{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mp(e,t,r)}_apply(e){const t=this._parse(e);return mN(e._query,t),new pu(e.firestore,e.converter,yy(e._query,t))}_parse(e){const t=l_(e.firestore);return function(a,l,c,f,p,g,_){let T;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){xI(_,g);const P=[];for(const O of _)P.push(OI(f,a,O));T={arrayValue:{values:P}}}else T=OI(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||xI(_,g),T=jB(c,l,_,g==="in"||g==="not-in");return sn.create(p,g,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qB(n,e,t){const r=e,i=h_("where",n);return mp._create(i,r,t)}class m_ extends p_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new m_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:hi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)mN(l,f),l=yy(l,f)}(e._query,t),new pu(e.firestore,e.converter,yy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OI(n,e,t){if(typeof(t=tr(t))=="string"){if(t==="")throw new xe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ub(e)&&t.indexOf("/")!==-1)throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Vt.fromString(t));if(!Be.isDocumentKey(r))throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QT(n,new Be(r))}if(t instanceof er)return QT(n,t._key);throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cp(t)}.`)}function xI(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mN(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KB{convertValue(e,t="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Lo(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[mh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Xt(l.doubleValue));return new a_(a)}convertGeoPoint(e){return new o_(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){const t=Co(e);return new fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Vt.fromString(e);At(Ob(r));const i=new bc(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return i.isEqual(t)||vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gN extends pN{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(h_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gf extends gN{data(e={}){return super.data(e)}}class QB{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gf(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new Gf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new uc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Gf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new uc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:YB(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n){n=ws(n,er);const e=ws(n.firestore,id);return RB(s_(e),n._key).then(t=>JB(e,n,t))}class yN extends KB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function XB(n){n=ws(n,pu);const e=ws(n.firestore,id),t=s_(e),r=new yN(e);return HB(n._query),bB(t,n._query).then(i=>new QB(e,r,n,i))}function Pg(n,e,t){n=ws(n,er);const r=ws(n.firestore,id),i=GB(n.converter,e);return vN(r,[MB(l_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Mi.none())])}function LI(n,e,t,...r){n=ws(n,er);const i=ws(n.firestore,id),a=l_(i);let l;return l=typeof(e=tr(e))=="string"||e instanceof fp?UB(a,"updateDoc",n._key,e,t,r):$B(a,"updateDoc",n._key,e),vN(i,[l.toMutation(n._key,Mi.exists(!0))])}function vN(n,e){return function(r,i){const a=new hs;return r.asyncQueue.enqueueAndForget(async()=>mB(await AB(r),i,a)),a.promise}(s_(n),e)}function JB(n,e,t){const r=t.docs.get(e._key),i=new yN(n);return new gN(n,i,e._key,r,new uc(t.hasPendingWrites,t.fromCache),e.converter)}function ZB(){return new u_("serverTimestamp")}function MI(...n){return new c_("arrayUnion",n)}(function(e,t=!0){(function(i){cu=i})(uu),zl(new Ea("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new id(new Uj(r.getProvider("auth-internal")),new Bj(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),yo($T,UT,e),yo($T,UT,"esm2017")})();function g_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _N(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e9=_N,wN=new Xc("auth","Firebase",_N());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Dv("@firebase/auth");function t9(n,...e){Sh.logLevel<=ht.WARN&&Sh.warn(`Auth (${uu}): ${n}`,...e)}function Qf(n,...e){Sh.logLevel<=ht.ERROR&&Sh.error(`Auth (${uu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(n,...e){throw y_(n,...e)}function $i(n,...e){return y_(n,...e)}function EN(n,e,t){const r=Object.assign(Object.assign({},e9()),{[e]:t});return new Xc("auth","Firebase",r).create(e,{appName:n.name})}function pa(n){return EN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return wN.create(n,...e)}function Ze(n,e,...t){if(!n)throw y_(e,...t)}function os(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qf(e),new Error(e)}function Ts(n,e){n||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function n9(){return VI()==="http:"||VI()==="https:"}function VI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n9()||pU()||"connection"in navigator)?navigator.onLine:!0}function i9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ts(t>e,"Short delay should be less than long delay!"),this.isMobile=dU()||mU()}get(){return r9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(n,e){Ts(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=new od(3e4,6e4);function __(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gu(n,e,t,r,i={}){return IN(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Jc(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return hU()||(p.referrerPolicy="no-referrer"),TN.fetch()(SN(n,n.config.apiHost,t,c),p)})}async function IN(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},s9),e);try{const i=new l9(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Lf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Lf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Lf(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw EN(n,g,p);Es(n,g)}}catch(i){if(i instanceof Ns)throw i;Es(n,"network-request-failed",{message:String(i)})}}async function a9(n,e,t,r,i={}){const a=await gu(n,e,t,r,i);return"mfaPendingCredential"in a&&Es(n,"multi-factor-auth-required",{_serverResponse:a}),a}function SN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?v_(n.config,i):`${n.config.apiScheme}://${i}`}class l9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),o9.get())})}}function Lf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=$i(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(n,e){return gu(n,"POST","/v1/accounts:delete",e)}async function CN(n,e){return gu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c9(n,e=!1){const t=tr(n),r=await t.getIdToken(e),i=w_(r);Ze(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:yc(Dg(i.auth_time)),issuedAtTime:yc(Dg(i.iat)),expirationTime:yc(Dg(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Dg(n){return Number(n)*1e3}function w_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const i=NR(t);return i?JSON.parse(i):(Qf("Failed to decode base64 JWT payload"),null)}catch(i){return Qf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $I(n){const e=w_(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ns&&d9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function d9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Dc(n,CN(t,{idToken:r}));Ze(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?AN(a.providerUserInfo):[],c=p9(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Dy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function h9(n){const e=tr(n);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AN(n){return n.map(e=>{var{providerId:t}=e,r=g_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(n,e){const t=await IN(n,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=SN(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",TN.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function g9(n,e){return gu(n,"POST","/v2/accounts:revokeToken",__(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$I(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=$I(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await m9(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Nl;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class as{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=g_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return c9(this,e)}reload(){return h9(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new as(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await Dc(this,u9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,f,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=t.photoURL)!==null&&l!==void 0?l:void 0,O=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:H,emailVerified:W,isAnonymous:Z,providerData:J,stsTokenManager:S}=t;Ze(H&&S,e,"internal-error");const A=Nl.fromJSON(this.name,S);Ze(typeof H=="string",e,"internal-error"),to(_,e.name),to(T,e.name),Ze(typeof W=="boolean",e,"internal-error"),Ze(typeof Z=="boolean",e,"internal-error"),to(R,e.name),to(P,e.name),to(O,e.name),to(b,e.name),to(F,e.name),to(V,e.name);const N=new as({uid:H,auth:e,email:T,emailVerified:W,displayName:_,isAnonymous:Z,photoURL:P,phoneNumber:R,tenantId:O,stsTokenManager:A,createdAt:F,lastLoginAt:V});return J&&Array.isArray(J)&&(N.providerData=J.map(x=>Object.assign({},x))),b&&(N._redirectEventId=b),N}static async _fromIdTokenResponse(e,t,r=!1){const i=new Nl;i.updateFromServerResponse(t);const a=new as({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ch(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?AN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Nl;c.updateFromIdToken(r);const f=new as({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Dy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Map;function ls(n){Ts(n instanceof Function,"Expected a class definition");let e=UI.get(n);return e?(Ts(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RN.type="NONE";const jI=RN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n,e,t){return`firebase:${n}:${e}:${t}`}class kl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Yf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Yf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?as._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new kl(ls(jI),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||ls(jI);const l=Yf(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=as._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new kl(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new kl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ON(e))return"Blackberry";if(xN(e))return"Webos";if(NN(e))return"Safari";if((e.includes("chrome/")||kN(e))&&!e.includes("edge/"))return"Chrome";if(DN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bN(n=Hn()){return/firefox\//i.test(n)}function NN(n=Hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kN(n=Hn()){return/crios\//i.test(n)}function PN(n=Hn()){return/iemobile/i.test(n)}function DN(n=Hn()){return/android/i.test(n)}function ON(n=Hn()){return/blackberry/i.test(n)}function xN(n=Hn()){return/webos/i.test(n)}function E_(n=Hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function y9(n=Hn()){var e;return E_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v9(){return gU()&&document.documentMode===10}function LN(n=Hn()){return E_(n)||DN(n)||xN(n)||ON(n)||/windows phone/i.test(n)||PN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n,e=[]){let t;switch(n){case"Browser":t=FI(Hn());break;case"Worker":t=`${FI(Hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(n,e={}){return gu(n,"GET","/v2/passwordPolicy",__(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=6;class T9{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:E9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BI(this),this.idTokenSubscription=new BI(this),this.beforeStateQueue=new _9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ls(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await CN(this,{idToken:e}),r=await as._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Di(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Di(this.app))return Promise.reject(pa(this));const t=e?tr(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Di(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w9(this),t=new T9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await g9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ls(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&t9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function T_(n){return tr(n)}class BI{constructor(e){this.auth=e,this.observer=null,this.addObserver=SU(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S9(n){I_=n}function C9(n){return I_.loadJS(n)}function A9(){return I_.gapiScript}function R9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(n,e){const t=xv(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Sc(a,e??{}))return i;Es(i,"already-initialized")}return t.initialize({options:e})}function N9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ls);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k9(n,e,t){const r=T_(n);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=VN(e),{host:l,port:c}=P9(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),D9()}function VN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function P9(n){const e=VN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:HI(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:HI(l)}}}function HI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function D9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,t){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(n,e){return a9(n,"POST","/v1/accounts:signInWithIdp",__(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9="http://localhost";class Sa extends $N{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Es("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=g_(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Sa(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Pl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Pl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pl(e,t)}buildRequest(){const e={requestUri:O9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends UN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends ad{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sa._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return so.credential(t,r)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends ad{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends ad{constructor(){super("twitter.com")}static credential(e,t){return Sa._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ao.credential(t,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await as._fromIdTokenResponse(e,r,i),l=zI(r);return new Zl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=zI(r);return new Zl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function zI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Ns{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ah(e,t,r,i)}}function jN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(n,a,e,r):a})}async function x9(n,e,t=!1){const r=await Dc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(n,e,t=!1){const{auth:r}=n;if(Di(r.app))return Promise.reject(pa(r));const i="reauthenticate";try{const a=await Dc(n,jN(r,i,e,n),t);Ze(a.idToken,r,"internal-error");const l=w_(a.idToken);Ze(l,r,"internal-error");const{sub:c}=l;return Ze(n.uid===c,r,"user-mismatch"),Zl._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Es(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(n,e,t=!1){if(Di(n.app))return Promise.reject(pa(n));const r="signIn",i=await jN(n,r,e),a=await Zl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function V9(n,e,t,r){return tr(n).onIdTokenChanged(e,t,r)}function $9(n,e,t){return tr(n).beforeAuthStateChanged(e,t)}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=1e3,j9=10;class BN extends FN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);v9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},U9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BN.type="LOCAL";const F9=BN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN extends FN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HN.type="SESSION";const zN=HN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await B9(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=S_("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function z9(n){Ui().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function W9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function K9(){return WN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="firebaseLocalStorageDb",G9=1,bh="firebaseLocalStorage",KN="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yp(n,e){return n.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function Q9(){const n=indexedDB.deleteDatabase(qN);return new ld(n).toPromise()}function Oy(){const n=indexedDB.open(qN,G9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bh,{keyPath:KN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await Q9(),e(await Oy()))})})}async function WI(n,e,t){const r=yp(n,!0).put({[KN]:e,value:t});return new ld(r).toPromise()}async function Y9(n,e){const t=yp(n,!1).get(e),r=await new ld(t).toPromise();return r===void 0?null:r.value}function qI(n,e){const t=yp(n,!0).delete(e);return new ld(t).toPromise()}const X9=800,J9=3;class GN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>J9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(K9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await W9(),!this.activeServiceWorker)return;this.sender=new H9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oy();return await WI(e,Rh,"1"),await qI(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>WI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Y9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=yp(i,!1).getAll();return new ld(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GN.type="LOCAL";const Z9=GN;new od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n,e){return e?ls(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends $N{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function t3(n){return M9(n.auth,new C_(n),n.bypassAuthState)}function n3(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),L9(t,new C_(n),n.bypassAuthState)}async function r3(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),x9(t,new C_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t3;case"linkViaPopup":case"linkViaRedirect":return r3;case"reauthViaPopup":case"reauthViaRedirect":return n3;default:Es(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new od(2e3,1e4);class Al extends QN{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=S_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i3.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="pendingRedirect",Xf=new Map;class o3 extends QN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const r=await a3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a3(n,e){const t=c3(e),r=u3(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function l3(n,e){Xf.set(n._key(),e)}function u3(n){return ls(n._redirectPersistence)}function c3(n){return Yf(s3,n.config.apiKey,n.name)}async function d3(n,e,t=!1){if(Di(n.app))return Promise.reject(pa(n));const r=T_(n),i=e3(r,e),l=await new o3(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=10*60*1e3;class h3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!YN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($i(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f3&&this.cachedEventUids.clear(),this.cachedEventUids.has(KI(e))}saveEventToCache(e){this.cachedEventUids.add(KI(e)),this.lastProcessedEventTime=Date.now()}}function KI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function YN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(n,e={}){return gu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;async function v3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await m3(n);for(const t of e)try{if(_3(t))return}catch{}Es(n,"unauthorized-domain")}function _3(n){const e=Py(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!y3.test(t))return!1;if(g3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new od(3e4,6e4);function GI(){const n=Ui().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function E3(n){return new Promise((e,t)=>{var r,i,a;function l(){GI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GI(),t($i(n,"network-request-failed"))},timeout:w3.get()})}if(!((i=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ui().gapi)===null||a===void 0)&&a.load)l();else{const c=R9("iframefcb");return Ui()[c]=()=>{gapi.load?l():t($i(n,"network-request-failed"))},C9(`${A9()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function T3(n){return Jf=Jf||E3(n),Jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new od(5e3,15e3),S3="__/auth/iframe",C3="emulator/auth/iframe",A3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b3(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?v_(e,C3):`https://${n.config.authDomain}/${S3}`,r={apiKey:e.apiKey,appName:n.name,v:uu},i=R3.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Jc(r).slice(1)}`}async function N3(n){const e=await T3(n),t=Ui().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:b3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A3,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=$i(n,"network-request-failed"),c=Ui().setTimeout(()=>{a(l)},I3.get());function f(){Ui().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P3=500,D3=600,O3="_blank",x3="http://localhost";class QI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L3(n,e,t,r=P3,i=D3){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},k3),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Hn().toLowerCase();t&&(c=kN(p)?O3:t),bN(p)&&(e=e||x3,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[R,P])=>`${T}${R}=${P},`,"");if(y9(p)&&c!=="_self")return M3(e||"",c),new QI(null);const _=window.open(e||"",c,g);Ze(_,n,"popup-blocked");try{_.focus()}catch{}return new QI(_)}function M3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="__/auth/handler",$3="emulator/auth/handler",U3=encodeURIComponent("fac");async function YI(n,e,t,r,i,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uu,eventId:i};if(e instanceof UN){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",IU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof ad){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${U3}=${encodeURIComponent(f)}`:"";return`${j3(n)}?${Jc(c).slice(1)}${p}`}function j3({config:n}){return n.emulator?v_(n,$3):`https://${n.authDomain}/${V3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class F3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zN,this._completeRedirectFn=d3,this._overrideRedirectResult=l3}async _openPopup(e,t,r,i){var a;Ts((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await YI(e,t,r,Py(),i);return L3(e,l,S_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await YI(e,t,r,Py(),i);return z9(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ts(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await N3(e),r=new h3(e);return t.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Og,{type:Og},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Og];l!==void 0&&t(!!l),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=v3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LN()||NN()||E_()}}const B3=F3;var XI="@firebase/auth",JI="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W3(n){zl(new Ea("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MN(n)},p=new I9(r,i,a,f);return N9(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zl(new Ea("auth-internal",e=>{const t=T_(e.getProvider("auth").getImmediate());return(r=>new H3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(XI,JI,z3(n)),yo(XI,JI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=5*60,K3=DR("authIdTokenMaxAge")||q3;let ZI=null;const G3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>K3)return;const i=t==null?void 0:t.token;ZI!==i&&(ZI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q3(n=MR()){const e=xv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=b9(n,{popupRedirectResolver:B3,persistence:[Z9,F9,zN]}),r=DR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=G3(a.toString());$9(t,l,()=>l(t.currentUser)),V9(t,c=>l(c))}}const i=kR("auth");return i&&k9(t,`http://${i}`),t}function Y3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}S9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=$i("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",Y3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W3("Browser");const eS=n=>{let e;const t=new Set,r=(p,g)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const T=e;e=g??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(R=>R(e,T))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(r,i,c);return c},X3=n=>n?eS(n):eS,J3=n=>n;function Z3(n,e=J3){const t=dn.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return dn.useDebugValue(t),t}const tS=n=>{const e=X3(n),t=r=>Z3(e,r);return Object.assign(t,e),t},eH=n=>n?tS(n):tS,tH=eH(n=>({currentUser:null,isLoading:!0,fetchUserInfo:async e=>{if(!e)return n({currentUser:null,isLoading:!1});try{const t=Kf(Nh,"users",e),r=await ky(t);r.exists()?n({currentUser:r.data(),isLoading:!1}):n({currentUser:null,isLoading:!1})}catch(t){return console.log(t),n({currentUser:null,isLoading:!1})}}})),nH={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"};LR(nH);Q3();const Nh=PB();async function rH(n){try{const e=by(Nh,"users"),t=WB(e,qB("username","==",n)),r=await XB(t);if(r.empty)throw new Error("User not found!");return r.docs[0].data()}catch(e){throw console.error("Search Error:",e),new Error("An error occurred while searching.")}}async function iH(n,e){if(!n||!e)return;const t=by(Nh,"chats"),r=by(Nh,"userchats"),i=Kf(r,e.id),a=Kf(r,n.id);try{const[l,c]=await Promise.all([ky(i),ky(a)]);l.exists()||await Pg(i,{chats:[]}),c.exists()||await Pg(a,{chats:[]});const f=l.exists()?l.data().chats||[]:[],p=c.exists()?c.data().chats||[]:[],g=f.some(P=>P.receiverId===n.id),_=p.some(P=>P.receiverId===e.id);if(g||_)throw new Error("User already added!");const T=Kf(t);await Pg(T,{createdAt:ZB(),messages:[]});const R={chatId:T.id,lastMessage:"",receiverId:n.id,updatedAt:Date.now()};return await LI(i,{chats:MI(R)}),await LI(a,{chats:MI({...R,receiverId:e.id})}),T.id}catch(l){throw console.error("Add User Error:",l),new Error("An error occurred while adding the user.")}}function sH(n){const{currentUser:e}=tH(),[t,r]=w.useState(null),[i,a]=w.useState(null);return useEffect(()=>{if(!n)return;async function l(){try{const c=await rH(n);r(c),await iH(c,e),console.log("found and added")}catch(c){a(c.message)}}l()},[n,e]),{user:t,error:i}}async function oH(n){try{await sH(n),console.log(n)}catch{console.log("Failed to add chat")}}const aH=({name:n,userId:e,eventKey:t})=>{const[r,i]=w.useState([]);return w.useEffect(()=>{(async function(){if(!e||e.length===0)return;const l=await Promise.all(e.map(async c=>{try{const{userdb:f}=await wa(c),p=(f==null?void 0:f.displayName)||(f==null?void 0:f.defaultName)||"",g=(f==null?void 0:f.defaultName)||"";return p||g?{displayName:p,appwriteName:g}:null}catch(f){return console.error("Error fetching user data:",f),null}}));i(l.filter(c=>c!==null))})()},[e]),ae(uo.Item,{eventKey:t,children:[I(uo.Header,{children:n}),I(uo.Body,{children:r.length>0?r.map((a,l)=>ae("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[ae("p",{className:"mb-0",children:[I("strong",{children:a.displayName})," wants to trade. The default username is ",I("strong",{children:a.appwriteName})]}),I(cn,{variant:"primary",size:"sm",onClick:()=>oH(a.appwriteName),children:"Message"})]},l)):I("p",{children:"No trade requests yet."})})]})},lH=()=>{const[n,e]=w.useState([]),{session:t}=Io();return xo(),w.useEffect(()=>{(async function(){const i=await co();if(!i){console.log("User data is still loading. Please wait.");return}const{items:a}=await Pv(i.$id),l=a.filter(c=>c.requests&&c.requests.length>0);e(l)})()},[]),ae("div",{className:"container",children:[I("h1",{children:"Your Items with Requests"}),n.length>0?ae(uo,{alwaysOpen:!0,children:[" ",n.map((r,i)=>I(aH,{name:r.name,userId:r.requests,eventKey:String(i)},r.$id))]}):I("p",{children:"No items with requests found."})]})};function uH({params:n=vR()}){const[e,t]=w.useState(),[r,i]=w.useState(),a=xo(),[l,c]=w.useState(!1),[f,p]=w.useState(!1),{isAdmin:g}=Io(),T={url:(e==null?void 0:e.imageFileId)&&Yc(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var Z;if(!n.itemsId)return;const{items:V}=await sy(n.itemsId);console.log("Fetched Item Data:",V),t(V);const H=await co();if((H==null?void 0:H.$id)===(V==null?void 0:V.authorID)&&c(!0),H&&p(((Z=V.requests)==null?void 0:Z.includes(H.$id))??!1),V){const{userdb:J}=await wa(V.authorID);i(J)}})()},[n.itemsId]);async function R(){if(!e)return;const F=await co();if(!F){console.log("User data is still loading. Please wait.");return}try{const V=e.requests??[];if(V.includes(F.$id)){p(!0);return}const H=[...V,F.$id];t(W=>W&&{...W,requests:H}),p(!0),await IT(n.itemsId,{...e,isApproved:!0,requests:H}),console.log("Trade request successful")}catch(V){console.error("Error requesting trade:",V)}}async function P(){if(e!=null&&e.$id){await j$(e.$id);return}a(-1)}async function O(){if(!e)return;if(!await co()){console.log("User data is still loading. Please wait.");return}try{await CR(n.itemsId,{...e,isApproved:!0});const{items:V}=await sy(n.itemsId);console.log("✅ Approved Post Data from Appwrite:",V),t(V),a(-1)}catch(V){console.error("Error approving post:",V)}}async function b(){if(!e)return;const F=await co();if(!F){console.log("User data is still loading. Please wait.");return}try{const V=e.requests??[];if(!V.includes(F.$id)){p(!1);return}const H=V.filter(W=>W!==F.$id);t(W=>W&&{...W,requests:H}),p(!1),await IT(n.itemsId,{...e,isApproved:!0,requests:H}),console.log("Trade request removed")}catch(V){console.error("Error removing request:",V)}}return ae(Xh,{children:[ae("a",{className:"HomeItem",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{className:"container",children:e&&ae(pn,{children:[!e.isApproved&&I(jl,{variant:"warning",style:{margin:"20px"},children:"Post is waiting to be approved by the moderators."},"warning"),ae("div",{className:"itemheading",children:[I("div",{children:I("h1",{children:e.name})}),r&&I("a",{href:`#/User/${r.displayName}`,className:"profile-link",children:r.displayName||r.defaultName}),ae("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!g&&ae("div",{className:"Tradecont",children:[l&&I(cn,{className:"Tradereq",variant:"primary",onClick:P,children:"Delete Item"}),!l&&I(pn,{children:f?I(cn,{className:"Tradereq",variant:"danger",onClick:b,children:"Remove Trade Request"}):I(cn,{className:"Tradereq",variant:"primary",onClick:R,children:"Request a Trade"})})]}),g&&ae("div",{className:"Tradecont",children:[I(cn,{className:"Tradereq",variant:"primary",onClick:P,children:"Delete Item"}),I(cn,{className:"Tradereq",variant:"primary",onClick:O,children:"Approve Item"})]}),I("div",{className:"itemimg",children:I(O0,{className:"image-carousel",controls:!1,children:I(O0.Item,{children:I("img",{className:"thumbnail",src:T.url?String(T.url):"./images/favicon",alt:"Item"})})})}),I("div",{className:"description",children:I("p",{children:e.description})})]})})]})}function cH({params:n=vR()}){const[e,t]=w.useState(null),[r,i]=w.useState([]);return w.useEffect(()=>{console.log(n.profileName),async function(){try{const{userdb:l}=await H$(n.profileName);l.map(async c=>{const{items:f}=await Pv(c.userId);i(f),t(c)})}catch(l){console.error("Error fetching profile data:",l)}}()},[n.profileName]),I(Xh,{children:ae(Cs,{className:"mt-5",children:[I(xi,{className:"justify-content-center text-center",children:I(fi,{md:6,lg:4,children:ae("div",{className:"profile-container p-4 bg-light rounded shadow",children:[I(wc,{src:e!=null&&e.profileImageId?iy(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),I("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),I("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),I(xi,{className:"mt-5",children:ae(fi,{children:[I("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?I(xi,{className:"g-4",children:r.map(a=>{const c={url:a.imageFileId&&Yc(a.imageFileId),height:a.imageHeight,width:a.imageWidth};return I(fi,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${a.$id}`,children:I(Yh,{image:c,name:a.name,date:a.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"})})},a.$id)})}):I("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function dH(){const{isAdmin:n,logInAdmin:e}=Io(),[t,r]=w.useState([]),[i,a]=w.useState({}),l=async c=>{c.preventDefault();const f=c.target;await e(f.email.value,f.password.value),window.location.reload()};return w.useEffect(()=>{(async function(){const{items:f}=await U$();r(f);const p={};await Promise.all(f.map(async g=>{if(!p[g.authorID]){const{userdb:_}=await wa(g.authorID);p[g.authorID]=_}})),a(p)})()},[]),ae(pn,{children:[!n&&I("div",{className:"RegAdminContainer",children:I("div",{className:"login-register-container",children:ae("form",{onSubmit:l,autoComplete:"off",children:[ae("div",{className:"form-field-wrapper",children:[I("label",{children:"Email:"}),I("input",{required:!0,className:"AdminInput",type:"email",name:"email",placeholder:"Enter email..."})]}),ae("div",{className:"form-field-wrapper",children:[I("label",{children:"Password:"}),I(zr.Control,{className:"AdminInput",type:"password",name:"password",placeholder:"Enter password..."})]}),I("div",{className:"form-field-wrapper",children:I(cn,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&I(Xh,{children:I("div",{className:"home",children:ae("div",{className:"container",id:"pagewrap",children:[I("h1",{children:"UNAPPROVED ITEMS"}),I("div",{className:"items container",children:I(xi,{children:t.length>0?t.map(c=>{const p={url:c.imageFileId&&Yc(c.imageFileId),height:c.imageHeight,width:c.imageWidth},g=i[c.authorID];return I(fi,{xs:12,md:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${c.$id}`,children:I(Yh,{image:p,name:c.name,date:c.date,author:g?g.displayName||g.defaultName:"Unknown Author"})})},c.$id)}):I(Cs,{children:I(jl,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const fH=p$([{path:"/",element:I(P$,{}),errorElement:I(yl,{})},{path:"/Admin",element:I(dH,{}),errorElement:I(yl,{})},{path:"/Home",element:I(Q$,{}),errorElement:I(yl,{})},{path:"/Item/:itemsId",element:I(uH,{}),errorElement:I(yl,{})},{path:"/User/:profileName",element:I(cH,{}),errorElement:I(yl,{})},{path:"/Dashboard",element:I(Y$,{}),errorElement:I(yl,{}),children:[{path:"/Dashboard/Post",element:I(Z$,{})},{path:"/Dashboard/Profile",element:I(X$,{})},{path:"/Dashboard/Items",element:I(eU,{})},{path:"/Dashboard/Requests",element:I(lH,{})},{path:"/Dashboard/Messages",element:I(J$,{})}]}]);oP.createRoot(document.getElementById("root")).render(I(w.StrictMode,{children:I(qV,{children:I(T$,{router:fH})})}));
