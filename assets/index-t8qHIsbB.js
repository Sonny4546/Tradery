function AS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Ic(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sm={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function gk(){if(sE)return lt;sE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,x={};function N(F,ee,he){this.props=F,this.context=ee,this.refs=x,this.updater=he||C}N.prototype.isReactComponent={},N.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function H(){}H.prototype=N.prototype;function $(F,ee,he){this.props=F,this.context=ee,this.refs=x,this.updater=he||C}var z=$.prototype=new H;z.constructor=$,P(z,N.prototype),z.isPureReactComponent=!0;var q=Array.isArray,Z=Object.prototype.hasOwnProperty,Q={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(F,ee,he){var ve,Te={},Ae=null,qe=null;if(ee!=null)for(ve in ee.ref!==void 0&&(qe=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)Z.call(ee,ve)&&!S.hasOwnProperty(ve)&&(Te[ve]=ee[ve]);var Ue=arguments.length-2;if(Ue===1)Te.children=he;else if(1<Ue){for(var st=Array(Ue),Et=0;Et<Ue;Et++)st[Et]=arguments[Et+2];Te.children=st}if(F&&F.defaultProps)for(ve in Ue=F.defaultProps,Ue)Te[ve]===void 0&&(Te[ve]=Ue[ve]);return{$$typeof:n,type:F,key:Ae,ref:qe,props:Te,_owner:Q.current}}function k(F,ee){return{$$typeof:n,type:F.type,key:ee,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function L(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ee[he]})}var V=/\/+/g;function D(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):ee.toString(36)}function we(F,ee,he,ve,Te){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var qe=!1;if(F===null)qe=!0;else switch(Ae){case"string":case"number":qe=!0;break;case"object":switch(F.$$typeof){case n:case e:qe=!0}}if(qe)return qe=F,Te=Te(qe),F=ve===""?"."+D(qe,0):ve,q(Te)?(he="",F!=null&&(he=F.replace(V,"$&/")+"/"),we(Te,ee,he,"",function(Et){return Et})):Te!=null&&(O(Te)&&(Te=k(Te,he+(!Te.key||qe&&qe.key===Te.key?"":(""+Te.key).replace(V,"$&/")+"/")+F)),ee.push(Te)),1;if(qe=0,ve=ve===""?".":ve+":",q(F))for(var Ue=0;Ue<F.length;Ue++){Ae=F[Ue];var st=ve+D(Ae,Ue);qe+=we(Ae,ee,he,st,Te)}else if(st=T(F),typeof st=="function")for(F=st.call(F),Ue=0;!(Ae=F.next()).done;)Ae=Ae.value,st=ve+D(Ae,Ue++),qe+=we(Ae,ee,he,st,Te);else if(Ae==="object")throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return qe}function xe(F,ee,he){if(F==null)return F;var ve=[],Te=0;return we(F,ve,"","",function(Ae){return ee.call(he,Ae,Te++)}),ve}function Fe(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},ne={transition:null},pe={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Q};function ae(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:xe,forEach:function(F,ee,he){xe(F,function(){ee.apply(this,arguments)},he)},count:function(F){var ee=0;return xe(F,function(){ee++}),ee},toArray:function(F){return xe(F,function(ee){return ee})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},lt.Component=N,lt.Fragment=t,lt.Profiler=s,lt.PureComponent=$,lt.StrictMode=r,lt.Suspense=h,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,lt.act=ae,lt.cloneElement=function(F,ee,he){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ve=P({},F.props),Te=F.key,Ae=F.ref,qe=F._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,qe=Q.current),ee.key!==void 0&&(Te=""+ee.key),F.type&&F.type.defaultProps)var Ue=F.type.defaultProps;for(st in ee)Z.call(ee,st)&&!S.hasOwnProperty(st)&&(ve[st]=ee[st]===void 0&&Ue!==void 0?Ue[st]:ee[st])}var st=arguments.length-2;if(st===1)ve.children=he;else if(1<st){Ue=Array(st);for(var Et=0;Et<st;Et++)Ue[Et]=arguments[Et+2];ve.children=Ue}return{$$typeof:n,type:F.type,key:Te,ref:Ae,props:ve,_owner:qe}},lt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},lt.createElement=A,lt.createFactory=function(F){var ee=A.bind(null,F);return ee.type=F,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(F){return{$$typeof:d,render:F}},lt.isValidElement=O,lt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:Fe}},lt.memo=function(F,ee){return{$$typeof:p,type:F,compare:ee===void 0?null:ee}},lt.startTransition=function(F){var ee=ne.transition;ne.transition={};try{F()}finally{ne.transition=ee}},lt.unstable_act=ae,lt.useCallback=function(F,ee){return Ne.current.useCallback(F,ee)},lt.useContext=function(F){return Ne.current.useContext(F)},lt.useDebugValue=function(){},lt.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},lt.useEffect=function(F,ee){return Ne.current.useEffect(F,ee)},lt.useId=function(){return Ne.current.useId()},lt.useImperativeHandle=function(F,ee,he){return Ne.current.useImperativeHandle(F,ee,he)},lt.useInsertionEffect=function(F,ee){return Ne.current.useInsertionEffect(F,ee)},lt.useLayoutEffect=function(F,ee){return Ne.current.useLayoutEffect(F,ee)},lt.useMemo=function(F,ee){return Ne.current.useMemo(F,ee)},lt.useReducer=function(F,ee,he){return Ne.current.useReducer(F,ee,he)},lt.useRef=function(F){return Ne.current.useRef(F)},lt.useState=function(F){return Ne.current.useState(F)},lt.useSyncExternalStore=function(F,ee,he){return Ne.current.useSyncExternalStore(F,ee,he)},lt.useTransition=function(){return Ne.current.useTransition()},lt.version="18.3.1",lt}var oE;function cy(){return oE||(oE=1,Sm.exports=gk()),Sm.exports}var w=cy();const Nn=Ic(w),yk=AS({__proto__:null,default:Nn},[w]);var sf={},Im={exports:{}},ur={},Cm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function vk(){return aE||(aE=1,function(n){function e(ne,pe){var ae=ne.length;ne.push(pe);e:for(;0<ae;){var F=ae-1>>>1,ee=ne[F];if(0<s(ee,pe))ne[F]=pe,ne[ae]=ee,ae=F;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var pe=ne[0],ae=ne.pop();if(ae!==pe){ne[0]=ae;e:for(var F=0,ee=ne.length,he=ee>>>1;F<he;){var ve=2*(F+1)-1,Te=ne[ve],Ae=ve+1,qe=ne[Ae];if(0>s(Te,ae))Ae<ee&&0>s(qe,Te)?(ne[F]=qe,ne[Ae]=ae,F=Ae):(ne[F]=Te,ne[ve]=ae,F=ve);else if(Ae<ee&&0>s(qe,ae))ne[F]=qe,ne[Ae]=ae,F=Ae;else break e}}return pe}function s(ne,pe){var ae=ne.sortIndex-pe.sortIndex;return ae!==0?ae:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();n.unstable_now=function(){return l.now()-d}}var h=[],p=[],g=1,_=null,T=3,C=!1,P=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ne){for(var pe=t(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=ne)r(p),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(p)}}function q(ne){if(x=!1,z(ne),!P)if(t(h)!==null)P=!0,Fe(Z);else{var pe=t(p);pe!==null&&Ne(q,pe.startTime-ne)}}function Z(ne,pe){P=!1,x&&(x=!1,H(A),A=-1),C=!0;var ae=T;try{for(z(pe),_=t(h);_!==null&&(!(_.expirationTime>pe)||ne&&!L());){var F=_.callback;if(typeof F=="function"){_.callback=null,T=_.priorityLevel;var ee=F(_.expirationTime<=pe);pe=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(h)&&r(h),z(pe)}else r(h);_=t(h)}if(_!==null)var he=!0;else{var ve=t(p);ve!==null&&Ne(q,ve.startTime-pe),he=!1}return he}finally{_=null,T=ae,C=!1}}var Q=!1,S=null,A=-1,k=5,O=-1;function L(){return!(n.unstable_now()-O<k)}function V(){if(S!==null){var ne=n.unstable_now();O=ne;var pe=!0;try{pe=S(!0,ne)}finally{pe?D():(Q=!1,S=null)}}else Q=!1}var D;if(typeof $=="function")D=function(){$(V)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,xe=we.port2;we.port1.onmessage=V,D=function(){xe.postMessage(null)}}else D=function(){N(V,0)};function Fe(ne){S=ne,Q||(Q=!0,D())}function Ne(ne,pe){A=N(function(){ne(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){P||C||(P=!0,Fe(Z))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var ae=T;T=pe;try{return ne()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=T;T=ne;try{return pe()}finally{T=ae}},n.unstable_scheduleCallback=function(ne,pe,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,ne={id:g++,callback:pe,priorityLevel:ne,startTime:ae,expirationTime:ee,sortIndex:-1},ae>F?(ne.sortIndex=ae,e(p,ne),t(h)===null&&ne===t(p)&&(x?(H(A),A=-1):x=!0,Ne(q,ae-F))):(ne.sortIndex=ee,e(h,ne),P||C||(P=!0,Fe(Z))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var pe=T;return function(){var ae=T;T=pe;try{return ne.apply(this,arguments)}finally{T=ae}}}}(Am)),Am}var lE;function _k(){return lE||(lE=1,Cm.exports=vk()),Cm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function wk(){if(uE)return ur;uE=1;var n=cy(),e=_k();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(i){return h.call(_,i)?!0:h.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function C(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,u,f){if(o===null||typeof o>"u"||C(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,u,f,m,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function $(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(H,$);N[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(H,$);N[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(H,$);N[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,o,u,f){var m=N.hasOwnProperty(o)?N[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,m,f)&&(u=null),f||m===null?T(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),Q=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,F;function ee(i){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var he=!1;function ve(i,o){if(!i||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var f=J}Reflect.construct(i,[],o)}else{try{o.call()}catch(J){f=J}i.call(o.prototype)}else{try{throw Error()}catch(J){f=J}i()}}catch(J){if(J&&f&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),v=f.stack.split(`
`),I=m.length-1,M=v.length-1;1<=I&&0<=M&&m[I]!==v[M];)M--;for(;1<=I&&0<=M;I--,M--)if(m[I]!==v[M]){if(I!==1||M!==1)do if(I--,M--,0>M||m[I]!==v[M]){var j=`
`+m[I].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=I&&0<=M);break}}}finally{he=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function Te(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function Ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case Q:return"Portal";case k:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case we:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case V:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xe:return o=i.displayName||null,o!==null?o:Ae(i.type)||"Memo";case Fe:o=i._payload,i=i._init;try{return Ae(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function st(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(i){var o=st(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function It(i){i._valueTracker||(i._valueTracker=Et(i))}function it(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=st(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function kt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function qt(i,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function rt(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function jt(i,o){o=o.checked,o!=null&&z(i,"checked",o,!1)}function hn(i,o){jt(i,o);var u=Ue(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Bn(i,o.type,u):o.hasOwnProperty("defaultValue")&&Bn(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Rr(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Bn(i,o,u){(o!=="number"||kt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ft=Array.isArray;function Jt(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Jn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Pn(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Ft(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function Dt(i,o){var u=Ue(o.value),f=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function on(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function $e(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?$e(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ot,pn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ot.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Hn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Be=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(i){Be.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),zn[o]=zn[i]})});function ot(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||zn.hasOwnProperty(i)&&zn[i]?(""+o).trim():o+"px"}function mn(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=ot(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Zn=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function di(i,o){if(o){if(Zn[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function bo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function qr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vi=null,Dn=null,er=null;function Ss(i){if(i=Su(i)){if(typeof Vi!="function")throw Error(t(280));var o=i.stateNode;o&&(o=_d(o),Vi(i.stateNode,i.type,o))}}function pr(i){Dn?er?er.push(i):er=[i]:Dn=i}function No(){if(Dn){var i=Dn,o=er;if(er=Dn=null,Ss(i),o)for(i=0;i<o.length;i++)Ss(o[i])}}function hi(i,o){return i(o)}function pi(){}var tr=!1;function ko(i,o,u){if(tr)return i(o,u);tr=!0;try{return hi(i,o,u)}finally{tr=!1,(Dn!==null||er!==null)&&(pi(),No())}}function Bt(i,o){var u=i.stateNode;if(u===null)return null;var f=_d(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var U=!1;if(d)try{var W={};Object.defineProperty(W,"passive",{get:function(){U=!0}}),window.addEventListener("test",W,W),window.removeEventListener("test",W,W)}catch{U=!1}function X(i,o,u,f,m,v,I,M,j){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(le){this.onError(le)}}var re=!1,_e=null,ke=!1,Qe=null,Pe={onError:function(i){re=!0,_e=i}};function Re(i,o,u,f,m,v,I,M,j){re=!1,_e=null,X.apply(Pe,arguments)}function Ie(i,o,u,f,m,v,I,M,j){if(Re.apply(this,arguments),re){if(re){var J=_e;re=!1,_e=null}else throw Error(t(198));ke||(ke=!0,Qe=J)}}function De(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function et(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Je(i){if(De(i)!==i)throw Error(t(188))}function Kt(i){var o=i.alternate;if(!o){if(o=De(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Je(m),i;if(v===f)return Je(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=v;else{for(var I=!1,M=m.child;M;){if(M===u){I=!0,u=m,f=v;break}if(M===f){I=!0,f=m,u=v;break}M=M.sibling}if(!I){for(M=v.child;M;){if(M===u){I=!0,u=v,f=m;break}if(M===f){I=!0,f=v,u=m;break}M=M.sibling}if(!I)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Tt(i){return i=Kt(i),i!==null?at(i):null}function at(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=at(i);if(o!==null)return o;i=i.sibling}return null}var Rt=e.unstable_scheduleCallback,br=e.unstable_cancelCallback,mi=e.unstable_shouldYield,mr=e.unstable_requestPaint,ct=e.unstable_now,Is=e.unstable_getCurrentPriorityLevel,gr=e.unstable_ImmediatePriority,On=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,gi=e.unstable_LowPriority,dt=e.unstable_IdlePriority,Ct=null,Zt=null;function yi(i){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ct,i,void 0,(i.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Ia,Nr=Math.log,Po=Math.LN2;function Ia(i){return i>>>=0,i===0?32:31-(Nr(i)/Po|0)|0}var Ca=64,Aa=4194304;function Cs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Do(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var M=I&~m;M!==0?f=Cs(M):(v&=I,v!==0&&(f=Cs(v)))}else I=u&~m,I!==0?f=Cs(I):v!==0&&(f=Cs(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-ft(o),m=1<<u,f|=i[u],o&=~m;return f}function Zh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-ft(v),M=1<<I,j=m[I];j===-1?((M&u)===0||(M&f)!==0)&&(m[I]=Zh(M,o)):j<=o&&(i.expiredLanes|=M),v&=~M}}function yr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Oo(){var i=Ca;return Ca<<=1,(Ca&4194240)===0&&(Ca=64),i}function As(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Rs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-ft(o),i[o]=u}function Pt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-ft(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function bs(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-ft(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var gt=0;function Ns(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Jc,Ra,Zc,ed,td,lu=!1,vi=[],Tn=null,Kr=null,Gr=null,ks=new Map,kr=new Map,_i=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(i,o){switch(i){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":ks.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(o.pointerId)}}function nr(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Su(o),o!==null&&Ra(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function tp(i,o,u,f,m){switch(o){case"focusin":return Tn=nr(Tn,i,o,u,f,m),!0;case"dragenter":return Kr=nr(Kr,i,o,u,f,m),!0;case"mouseover":return Gr=nr(Gr,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return ks.set(v,nr(ks.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,kr.set(v,nr(kr.get(v)||null,i,o,u,f,m)),!0}return!1}function rd(i){var o=$o(i.target);if(o!==null){var u=De(o);if(u!==null){if(o=u.tag,o===13){if(o=et(u),o!==null){i.blockedOn=o,td(i.priority,function(){Zc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ui(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ba(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);fi=f,u.target.dispatchEvent(f),fi=null}else return o=Su(u),o!==null&&Ra(o),i.blockedOn=u,!1;o.shift()}return!0}function xo(i,o,u){Ui(i)&&u.delete(o)}function id(){lu=!1,Tn!==null&&Ui(Tn)&&(Tn=null),Kr!==null&&Ui(Kr)&&(Kr=null),Gr!==null&&Ui(Gr)&&(Gr=null),ks.forEach(xo),kr.forEach(xo)}function Qr(i,o){i.blockedOn===o&&(i.blockedOn=null,lu||(lu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,id)))}function Yr(i){function o(m){return Qr(m,i)}if(0<vi.length){Qr(vi[0],i);for(var u=1;u<vi.length;u++){var f=vi[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Tn!==null&&Qr(Tn,i),Kr!==null&&Qr(Kr,i),Gr!==null&&Qr(Gr,i),ks.forEach(o),kr.forEach(o),u=0;u<_i.length;u++)f=_i[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<_i.length&&(u=_i[0],u.blockedOn===null);)rd(u),u.blockedOn===null&&_i.shift()}var ji=q.ReactCurrentBatchConfig,Ps=!0;function Vt(i,o,u,f){var m=gt,v=ji.transition;ji.transition=null;try{gt=1,uu(i,o,u,f)}finally{gt=m,ji.transition=v}}function np(i,o,u,f){var m=gt,v=ji.transition;ji.transition=null;try{gt=4,uu(i,o,u,f)}finally{gt=m,ji.transition=v}}function uu(i,o,u,f){if(Ps){var m=ba(i,o,u,f);if(m===null)hp(i,o,f,Lo,u),nd(i,f);else if(tp(m,i,o,u,f))f.stopPropagation();else if(nd(i,f),o&4&&-1<ep.indexOf(i)){for(;m!==null;){var v=Su(m);if(v!==null&&Jc(v),v=ba(i,o,u,f),v===null&&hp(i,o,f,Lo,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else hp(i,o,f,null,u)}}var Lo=null;function ba(i,o,u,f){if(Lo=null,i=qr(f),i=$o(i),i!==null)if(o=De(i),o===null)i=null;else if(u=o.tag,u===13){if(i=et(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Lo=i,null}function cu(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Is()){case gr:return 1;case On:return 4;case En:case gi:return 16;case dt:return 536870912;default:return 16}default:return 16}}var vr=null,Na=null,rr=null;function du(){if(rr)return rr;var i,o=Na,u=o.length,f,m="value"in vr?vr.value:vr.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var I=u-i;for(f=1;f<=I&&o[u-f]===m[v-f];f++);return rr=m.slice(i,1<f?1-f:void 0)}function ka(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function fu(){return!1}function Sn(i){function o(u,f,m,v,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wi:fu,this.isPropagationStopped=fu,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),o}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Sn(Xr),Ei=ae({},Xr,{view:0,detail:0}),rp=Sn(Ei),Da,Fi,Ds,Mo=ae({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ds&&(Ds&&i.type==="mousemove"?(Da=i.screenX-Ds.screenX,Fi=i.screenY-Ds.screenY):Fi=Da=0,Ds=i),Da)},movementY:function(i){return"movementY"in i?i.movementY:Fi}}),Oa=Sn(Mo),hu=ae({},Mo,{dataTransfer:0}),sd=Sn(hu),xa=ae({},Ei,{relatedTarget:0}),La=Sn(xa),od=ae({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bi=Sn(od),ad=ae({},Xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ld=Sn(ad),ud=ae({},Xr,{data:0}),pu=Sn(ud),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=cd[i])?!!o[i]:!1}function Ti(){return dd}var c=ae({},Ei,{key:function(i){if(i.key){var o=Ma[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ka(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(i){return i.type==="keypress"?ka(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ka(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Sn(c),E=ae({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=Sn(E),K=ae({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),te=Sn(K),me=ae({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Sn(me),an=ae({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=Sn(an),gn=[9,13,27,32],en=d&&"CompositionEvent"in window,Pr=null;d&&"documentMode"in document&&(Pr=document.documentMode);var _r=d&&"TextEvent"in window&&!Pr,Vo=d&&(!en||Pr&&8<Pr&&11>=Pr),Va=" ",Zv=!1;function e_(i,o){switch(i){case"keyup":return gn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $a=!1;function hN(i,o){switch(i){case"compositionend":return t_(o);case"keypress":return o.which!==32?null:(Zv=!0,Va);case"textInput":return i=o.data,i===Va&&Zv?null:i;default:return null}}function pN(i,o){if($a)return i==="compositionend"||!en&&e_(i,o)?(i=du(),rr=Na=vr=null,$a=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vo&&o.locale!=="ko"?null:o.data;default:return null}}var mN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!mN[i.type]:o==="textarea"}function r_(i,o,u,f){pr(f),o=gd(o,"onChange"),0<o.length&&(u=new Pa("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var mu=null,gu=null;function gN(i){E_(i,0)}function fd(i){var o=Ha(i);if(it(o))return i}function yN(i,o){if(i==="change")return o}var i_=!1;if(d){var ip;if(d){var sp="oninput"in document;if(!sp){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),sp=typeof s_.oninput=="function"}ip=sp}else ip=!1;i_=ip&&(!document.documentMode||9<document.documentMode)}function o_(){mu&&(mu.detachEvent("onpropertychange",a_),gu=mu=null)}function a_(i){if(i.propertyName==="value"&&fd(gu)){var o=[];r_(o,gu,i,qr(i)),ko(gN,o)}}function vN(i,o,u){i==="focusin"?(o_(),mu=o,gu=u,mu.attachEvent("onpropertychange",a_)):i==="focusout"&&o_()}function _N(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fd(gu)}function wN(i,o){if(i==="click")return fd(o)}function EN(i,o){if(i==="input"||i==="change")return fd(o)}function TN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jr=typeof Object.is=="function"?Object.is:TN;function yu(i,o){if(Jr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!Jr(i[m],o[m]))return!1}return!0}function l_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function u_(i,o){var u=l_(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=l_(u)}}function c_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?c_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function d_(){for(var i=window,o=kt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=kt(i.document)}return o}function op(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function SN(i){var o=d_(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&c_(u.ownerDocument.documentElement,u)){if(f!==null&&op(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=u_(u,v);var I=u_(u,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var IN=d&&"documentMode"in document&&11>=document.documentMode,Ua=null,ap=null,vu=null,lp=!1;function f_(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;lp||Ua==null||Ua!==kt(f)||(f=Ua,"selectionStart"in f&&op(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),vu&&yu(vu,f)||(vu=f,f=gd(ap,"onSelect"),0<f.length&&(o=new Pa("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Ua)))}function hd(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ja={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},up={},h_={};d&&(h_=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function pd(i){if(up[i])return up[i];if(!ja[i])return i;var o=ja[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in h_)return up[i]=o[u];return i}var p_=pd("animationend"),m_=pd("animationiteration"),g_=pd("animationstart"),y_=pd("transitionend"),v_=new Map,__="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(i,o){v_.set(i,o),a(o,[i])}for(var cp=0;cp<__.length;cp++){var dp=__[cp],CN=dp.toLowerCase(),AN=dp[0].toUpperCase()+dp.slice(1);Os(CN,"on"+AN)}Os(p_,"onAnimationEnd"),Os(m_,"onAnimationIteration"),Os(g_,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(y_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function w_(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Ie(f,o,void 0,i),i.currentTarget=null}function E_(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var I=f.length-1;0<=I;I--){var M=f[I],j=M.instance,J=M.currentTarget;if(M=M.listener,j!==v&&m.isPropagationStopped())break e;w_(m,M,J),v=j}else for(I=0;I<f.length;I++){if(M=f[I],j=M.instance,J=M.currentTarget,M=M.listener,j!==v&&m.isPropagationStopped())break e;w_(m,M,J),v=j}}}if(ke)throw i=Qe,ke=!1,Qe=null,i}function Lt(i,o){var u=o[_p];u===void 0&&(u=o[_p]=new Set);var f=i+"__bubble";u.has(f)||(T_(o,i,2,!1),u.add(f))}function fp(i,o,u){var f=0;o&&(f|=4),T_(u,i,f,o)}var md="_reactListening"+Math.random().toString(36).slice(2);function wu(i){if(!i[md]){i[md]=!0,r.forEach(function(u){u!=="selectionchange"&&(RN.has(u)||fp(u,!1,i),fp(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[md]||(o[md]=!0,fp("selectionchange",!1,o))}}function T_(i,o,u,f){switch(cu(o)){case 1:var m=Vt;break;case 4:m=np;break;default:m=uu}u=m.bind(null,o,u,i),m=void 0,!U||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function hp(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;I=I.return}for(;M!==null;){if(I=$o(M),I===null)return;if(j=I.tag,j===5||j===6){f=v=I;continue e}M=M.parentNode}}f=f.return}ko(function(){var J=v,le=qr(u),ce=[];e:{var oe=v_.get(i);if(oe!==void 0){var Ce=Pa,Le=i;switch(i){case"keypress":if(ka(u)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Le="focus",Ce=La;break;case"focusout":Le="blur",Ce=La;break;case"beforeblur":case"afterblur":Ce=La;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=te;break;case p_:case m_:case g_:Ce=Bi;break;case y_:Ce=bt;break;case"scroll":Ce=rp;break;case"wheel":Ce=vt;break;case"copy":case"cut":case"paste":Ce=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=b}var Me=(o&4)!==0,Yt=!Me&&i==="scroll",G=Me?oe!==null?oe+"Capture":null:oe;Me=[];for(var B=J,Y;B!==null;){Y=B;var fe=Y.stateNode;if(Y.tag===5&&fe!==null&&(Y=fe,G!==null&&(fe=Bt(B,G),fe!=null&&Me.push(Eu(B,fe,Y)))),Yt)break;B=B.return}0<Me.length&&(oe=new Ce(oe,Le,null,u,le),ce.push({event:oe,listeners:Me}))}}if((o&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",oe&&u!==fi&&(Le=u.relatedTarget||u.fromElement)&&($o(Le)||Le[Hi]))break e;if((Ce||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,Ce?(Le=u.relatedTarget||u.toElement,Ce=J,Le=Le?$o(Le):null,Le!==null&&(Yt=De(Le),Le!==Yt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ce=null,Le=J),Ce!==Le)){if(Me=Oa,fe="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Me=b,fe="onPointerLeave",G="onPointerEnter",B="pointer"),Yt=Ce==null?oe:Ha(Ce),Y=Le==null?oe:Ha(Le),oe=new Me(fe,B+"leave",Ce,u,le),oe.target=Yt,oe.relatedTarget=Y,fe=null,$o(le)===J&&(Me=new Me(G,B+"enter",Le,u,le),Me.target=Y,Me.relatedTarget=Yt,fe=Me),Yt=fe,Ce&&Le)t:{for(Me=Ce,G=Le,B=0,Y=Me;Y;Y=Fa(Y))B++;for(Y=0,fe=G;fe;fe=Fa(fe))Y++;for(;0<B-Y;)Me=Fa(Me),B--;for(;0<Y-B;)G=Fa(G),Y--;for(;B--;){if(Me===G||G!==null&&Me===G.alternate)break t;Me=Fa(Me),G=Fa(G)}Me=null}else Me=null;Ce!==null&&S_(ce,oe,Ce,Me,!1),Le!==null&&Yt!==null&&S_(ce,Yt,Le,Me,!0)}}e:{if(oe=J?Ha(J):window,Ce=oe.nodeName&&oe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&oe.type==="file")var Ve=yN;else if(n_(oe))if(i_)Ve=EN;else{Ve=_N;var ze=vN}else(Ce=oe.nodeName)&&Ce.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ve=wN);if(Ve&&(Ve=Ve(i,J))){r_(ce,Ve,u,le);break e}ze&&ze(i,oe,J),i==="focusout"&&(ze=oe._wrapperState)&&ze.controlled&&oe.type==="number"&&Bn(oe,"number",oe.value)}switch(ze=J?Ha(J):window,i){case"focusin":(n_(ze)||ze.contentEditable==="true")&&(Ua=ze,ap=J,vu=null);break;case"focusout":vu=ap=Ua=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,f_(ce,u,le);break;case"selectionchange":if(IN)break;case"keydown":case"keyup":f_(ce,u,le)}var We;if(en)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else $a?e_(i,u)&&(Ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(Vo&&u.locale!=="ko"&&($a||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&$a&&(We=du()):(vr=le,Na="value"in vr?vr.value:vr.textContent,$a=!0)),ze=gd(J,Ye),0<ze.length&&(Ye=new pu(Ye,i,null,u,le),ce.push({event:Ye,listeners:ze}),We?Ye.data=We:(We=t_(u),We!==null&&(Ye.data=We)))),(We=_r?hN(i,u):pN(i,u))&&(J=gd(J,"onBeforeInput"),0<J.length&&(le=new pu("onBeforeInput","beforeinput",null,u,le),ce.push({event:le,listeners:J}),le.data=We))}E_(ce,o)})}function Eu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function gd(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Bt(i,u),v!=null&&f.unshift(Eu(i,v,m)),v=Bt(i,o),v!=null&&f.push(Eu(i,v,m))),i=i.return}return f}function Fa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function S_(i,o,u,f,m){for(var v=o._reactName,I=[];u!==null&&u!==f;){var M=u,j=M.alternate,J=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&J!==null&&(M=J,m?(j=Bt(u,v),j!=null&&I.unshift(Eu(u,j,M))):m||(j=Bt(u,v),j!=null&&I.push(Eu(u,j,M)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var bN=/\r\n?/g,NN=/\u0000|\uFFFD/g;function I_(i){return(typeof i=="string"?i:""+i).replace(bN,`
`).replace(NN,"")}function yd(i,o,u){if(o=I_(o),I_(i)!==o&&u)throw Error(t(425))}function vd(){}var pp=null,mp=null;function gp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,kN=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(i){return C_.resolve(null).then(i).catch(DN)}:yp;function DN(i){setTimeout(function(){throw i})}function vp(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Yr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Yr(o)}function xs(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function A_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),Si="__reactFiber$"+Ba,Tu="__reactProps$"+Ba,Hi="__reactContainer$"+Ba,_p="__reactEvents$"+Ba,ON="__reactListeners$"+Ba,xN="__reactHandles$"+Ba;function $o(i){var o=i[Si];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Hi]||u[Si]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=A_(i);i!==null;){if(u=i[Si])return u;i=A_(i)}return o}i=u,u=i.parentNode}return null}function Su(i){return i=i[Si]||i[Hi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ha(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function _d(i){return i[Tu]||null}var wp=[],za=-1;function Ls(i){return{current:i}}function Mt(i){0>za||(i.current=wp[za],wp[za]=null,za--)}function xt(i,o){za++,wp[za]=i.current,i.current=o}var Ms={},xn=Ls(Ms),ir=Ls(!1),Uo=Ms;function Wa(i,o){var u=i.type.contextTypes;if(!u)return Ms;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function sr(i){return i=i.childContextTypes,i!=null}function wd(){Mt(ir),Mt(xn)}function R_(i,o,u){if(xn.current!==Ms)throw Error(t(168));xt(xn,o),xt(ir,u)}function b_(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,qe(i)||"Unknown",m));return ae({},u,f)}function Ed(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ms,Uo=xn.current,xt(xn,i),xt(ir,ir.current),!0}function N_(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=b_(i,o,Uo),f.__reactInternalMemoizedMergedChildContext=i,Mt(ir),Mt(xn),xt(xn,i)):Mt(ir),xt(ir,u)}var zi=null,Td=!1,Ep=!1;function k_(i){zi===null?zi=[i]:zi.push(i)}function LN(i){Td=!0,k_(i)}function Vs(){if(!Ep&&zi!==null){Ep=!0;var i=0,o=gt;try{var u=zi;for(gt=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}zi=null,Td=!1}catch(m){throw zi!==null&&(zi=zi.slice(i+1)),Rt(gr,Vs),m}finally{gt=o,Ep=!1}}return null}var qa=[],Ka=0,Sd=null,Id=0,Dr=[],Or=0,jo=null,Wi=1,qi="";function Fo(i,o){qa[Ka++]=Id,qa[Ka++]=Sd,Sd=i,Id=o}function P_(i,o,u){Dr[Or++]=Wi,Dr[Or++]=qi,Dr[Or++]=jo,jo=i;var f=Wi;i=qi;var m=32-ft(f)-1;f&=~(1<<m),u+=1;var v=32-ft(o)+m;if(30<v){var I=m-m%5;v=(f&(1<<I)-1).toString(32),f>>=I,m-=I,Wi=1<<32-ft(o)+m|u<<m|f,qi=v+i}else Wi=1<<v|u<<m|f,qi=i}function Tp(i){i.return!==null&&(Fo(i,1),P_(i,1,0))}function Sp(i){for(;i===Sd;)Sd=qa[--Ka],qa[Ka]=null,Id=qa[--Ka],qa[Ka]=null;for(;i===jo;)jo=Dr[--Or],Dr[Or]=null,qi=Dr[--Or],Dr[Or]=null,Wi=Dr[--Or],Dr[Or]=null}var wr=null,Er=null,$t=!1,Zr=null;function D_(i,o){var u=Vr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function O_(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wr=i,Er=xs(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wr=i,Er=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=jo!==null?{id:Wi,overflow:qi}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Vr(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,wr=i,Er=null,!0):!1;default:return!1}}function Ip(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Cp(i){if($t){var o=Er;if(o){var u=o;if(!O_(i,o)){if(Ip(i))throw Error(t(418));o=xs(u.nextSibling);var f=wr;o&&O_(i,o)?D_(f,u):(i.flags=i.flags&-4097|2,$t=!1,wr=i)}}else{if(Ip(i))throw Error(t(418));i.flags=i.flags&-4097|2,$t=!1,wr=i}}}function x_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wr=i}function Cd(i){if(i!==wr)return!1;if(!$t)return x_(i),$t=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!gp(i.type,i.memoizedProps)),o&&(o=Er)){if(Ip(i))throw L_(),Error(t(418));for(;o;)D_(i,o),o=xs(o.nextSibling)}if(x_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Er=xs(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Er=null}}else Er=wr?xs(i.stateNode.nextSibling):null;return!0}function L_(){for(var i=Er;i;)i=xs(i.nextSibling)}function Ga(){Er=wr=null,$t=!1}function Ap(i){Zr===null?Zr=[i]:Zr.push(i)}var MN=q.ReactCurrentBatchConfig;function Iu(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var M=m.refs;I===null?delete M[v]:M[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Ad(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function M_(i){var o=i._init;return o(i._payload)}function V_(i){function o(G,B){if(i){var Y=G.deletions;Y===null?(G.deletions=[B],G.flags|=16):Y.push(B)}}function u(G,B){if(!i)return null;for(;B!==null;)o(G,B),B=B.sibling;return null}function f(G,B){for(G=new Map;B!==null;)B.key!==null?G.set(B.key,B):G.set(B.index,B),B=B.sibling;return G}function m(G,B){return G=Ws(G,B),G.index=0,G.sibling=null,G}function v(G,B,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<B?(G.flags|=2,B):Y):(G.flags|=2,B)):(G.flags|=1048576,B)}function I(G){return i&&G.alternate===null&&(G.flags|=2),G}function M(G,B,Y,fe){return B===null||B.tag!==6?(B=ym(Y,G.mode,fe),B.return=G,B):(B=m(B,Y),B.return=G,B)}function j(G,B,Y,fe){var Ve=Y.type;return Ve===S?le(G,B,Y.props.children,fe,Y.key):B!==null&&(B.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Fe&&M_(Ve)===B.type)?(fe=m(B,Y.props),fe.ref=Iu(G,B,Y),fe.return=G,fe):(fe=Yd(Y.type,Y.key,Y.props,null,G.mode,fe),fe.ref=Iu(G,B,Y),fe.return=G,fe)}function J(G,B,Y,fe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=vm(Y,G.mode,fe),B.return=G,B):(B=m(B,Y.children||[]),B.return=G,B)}function le(G,B,Y,fe,Ve){return B===null||B.tag!==7?(B=Qo(Y,G.mode,fe,Ve),B.return=G,B):(B=m(B,Y),B.return=G,B)}function ce(G,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number")return B=ym(""+B,G.mode,Y),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return Y=Yd(B.type,B.key,B.props,null,G.mode,Y),Y.ref=Iu(G,null,B),Y.return=G,Y;case Q:return B=vm(B,G.mode,Y),B.return=G,B;case Fe:var fe=B._init;return ce(G,fe(B._payload),Y)}if(Ft(B)||pe(B))return B=Qo(B,G.mode,Y,null),B.return=G,B;Ad(G,B)}return null}function oe(G,B,Y,fe){var Ve=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ve!==null?null:M(G,B,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Z:return Y.key===Ve?j(G,B,Y,fe):null;case Q:return Y.key===Ve?J(G,B,Y,fe):null;case Fe:return Ve=Y._init,oe(G,B,Ve(Y._payload),fe)}if(Ft(Y)||pe(Y))return Ve!==null?null:le(G,B,Y,fe,null);Ad(G,Y)}return null}function Ce(G,B,Y,fe,Ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return G=G.get(Y)||null,M(B,G,""+fe,Ve);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Z:return G=G.get(fe.key===null?Y:fe.key)||null,j(B,G,fe,Ve);case Q:return G=G.get(fe.key===null?Y:fe.key)||null,J(B,G,fe,Ve);case Fe:var ze=fe._init;return Ce(G,B,Y,ze(fe._payload),Ve)}if(Ft(fe)||pe(fe))return G=G.get(Y)||null,le(B,G,fe,Ve,null);Ad(B,fe)}return null}function Le(G,B,Y,fe){for(var Ve=null,ze=null,We=B,Ye=B=0,_n=null;We!==null&&Ye<Y.length;Ye++){We.index>Ye?(_n=We,We=null):_n=We.sibling;var St=oe(G,We,Y[Ye],fe);if(St===null){We===null&&(We=_n);break}i&&We&&St.alternate===null&&o(G,We),B=v(St,B,Ye),ze===null?Ve=St:ze.sibling=St,ze=St,We=_n}if(Ye===Y.length)return u(G,We),$t&&Fo(G,Ye),Ve;if(We===null){for(;Ye<Y.length;Ye++)We=ce(G,Y[Ye],fe),We!==null&&(B=v(We,B,Ye),ze===null?Ve=We:ze.sibling=We,ze=We);return $t&&Fo(G,Ye),Ve}for(We=f(G,We);Ye<Y.length;Ye++)_n=Ce(We,G,Ye,Y[Ye],fe),_n!==null&&(i&&_n.alternate!==null&&We.delete(_n.key===null?Ye:_n.key),B=v(_n,B,Ye),ze===null?Ve=_n:ze.sibling=_n,ze=_n);return i&&We.forEach(function(qs){return o(G,qs)}),$t&&Fo(G,Ye),Ve}function Me(G,B,Y,fe){var Ve=pe(Y);if(typeof Ve!="function")throw Error(t(150));if(Y=Ve.call(Y),Y==null)throw Error(t(151));for(var ze=Ve=null,We=B,Ye=B=0,_n=null,St=Y.next();We!==null&&!St.done;Ye++,St=Y.next()){We.index>Ye?(_n=We,We=null):_n=We.sibling;var qs=oe(G,We,St.value,fe);if(qs===null){We===null&&(We=_n);break}i&&We&&qs.alternate===null&&o(G,We),B=v(qs,B,Ye),ze===null?Ve=qs:ze.sibling=qs,ze=qs,We=_n}if(St.done)return u(G,We),$t&&Fo(G,Ye),Ve;if(We===null){for(;!St.done;Ye++,St=Y.next())St=ce(G,St.value,fe),St!==null&&(B=v(St,B,Ye),ze===null?Ve=St:ze.sibling=St,ze=St);return $t&&Fo(G,Ye),Ve}for(We=f(G,We);!St.done;Ye++,St=Y.next())St=Ce(We,G,Ye,St.value,fe),St!==null&&(i&&St.alternate!==null&&We.delete(St.key===null?Ye:St.key),B=v(St,B,Ye),ze===null?Ve=St:ze.sibling=St,ze=St);return i&&We.forEach(function(mk){return o(G,mk)}),$t&&Fo(G,Ye),Ve}function Yt(G,B,Y,fe){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Z:e:{for(var Ve=Y.key,ze=B;ze!==null;){if(ze.key===Ve){if(Ve=Y.type,Ve===S){if(ze.tag===7){u(G,ze.sibling),B=m(ze,Y.props.children),B.return=G,G=B;break e}}else if(ze.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Fe&&M_(Ve)===ze.type){u(G,ze.sibling),B=m(ze,Y.props),B.ref=Iu(G,ze,Y),B.return=G,G=B;break e}u(G,ze);break}else o(G,ze);ze=ze.sibling}Y.type===S?(B=Qo(Y.props.children,G.mode,fe,Y.key),B.return=G,G=B):(fe=Yd(Y.type,Y.key,Y.props,null,G.mode,fe),fe.ref=Iu(G,B,Y),fe.return=G,G=fe)}return I(G);case Q:e:{for(ze=Y.key;B!==null;){if(B.key===ze)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){u(G,B.sibling),B=m(B,Y.children||[]),B.return=G,G=B;break e}else{u(G,B);break}else o(G,B);B=B.sibling}B=vm(Y,G.mode,fe),B.return=G,G=B}return I(G);case Fe:return ze=Y._init,Yt(G,B,ze(Y._payload),fe)}if(Ft(Y))return Le(G,B,Y,fe);if(pe(Y))return Me(G,B,Y,fe);Ad(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,B!==null&&B.tag===6?(u(G,B.sibling),B=m(B,Y),B.return=G,G=B):(u(G,B),B=ym(Y,G.mode,fe),B.return=G,G=B),I(G)):u(G,B)}return Yt}var Qa=V_(!0),$_=V_(!1),Rd=Ls(null),bd=null,Ya=null,Rp=null;function bp(){Rp=Ya=bd=null}function Np(i){var o=Rd.current;Mt(Rd),i._currentValue=o}function kp(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Xa(i,o){bd=i,Rp=Ya=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(or=!0),i.firstContext=null)}function xr(i){var o=i._currentValue;if(Rp!==i)if(i={context:i,memoizedValue:o,next:null},Ya===null){if(bd===null)throw Error(t(308));Ya=i,bd.dependencies={lanes:0,firstContext:i}}else Ya=Ya.next=i;return o}var Bo=null;function Pp(i){Bo===null?Bo=[i]:Bo.push(i)}function U_(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Pp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Ki(i,f)}function Ki(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var $s=!1;function Dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Gi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Us(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(wt&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Ki(i,u)}return m=f.interleaved,m===null?(o.next=o,Pp(f)):(o.next=m.next,m.next=o),f.interleaved=o,Ki(i,u)}function Nd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,bs(i,u)}}function F_(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function kd(i,o,u,f){var m=i.updateQueue;$s=!1;var v=m.firstBaseUpdate,I=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,J=j.next;j.next=null,I===null?v=J:I.next=J,I=j;var le=i.alternate;le!==null&&(le=le.updateQueue,M=le.lastBaseUpdate,M!==I&&(M===null?le.firstBaseUpdate=J:M.next=J,le.lastBaseUpdate=j))}if(v!==null){var ce=m.baseState;I=0,le=J=j=null,M=v;do{var oe=M.lane,Ce=M.eventTime;if((f&oe)===oe){le!==null&&(le=le.next={eventTime:Ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Le=i,Me=M;switch(oe=o,Ce=u,Me.tag){case 1:if(Le=Me.payload,typeof Le=="function"){ce=Le.call(Ce,ce,oe);break e}ce=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Me.payload,oe=typeof Le=="function"?Le.call(Ce,ce,oe):Le,oe==null)break e;ce=ae({},ce,oe);break e;case 2:$s=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,oe=m.effects,oe===null?m.effects=[M]:oe.push(M))}else Ce={eventTime:Ce,lane:oe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},le===null?(J=le=Ce,j=ce):le=le.next=Ce,I|=oe;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(le===null&&(j=ce),m.baseState=j,m.firstBaseUpdate=J,m.lastBaseUpdate=le,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Wo|=I,i.lanes=I,i.memoizedState=ce}}function B_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Cu={},Ii=Ls(Cu),Au=Ls(Cu),Ru=Ls(Cu);function Ho(i){if(i===Cu)throw Error(t(174));return i}function Op(i,o){switch(xt(Ru,o),xt(Au,i),xt(Ii,Cu),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=mt(o,i)}Mt(Ii),xt(Ii,o)}function Ja(){Mt(Ii),Mt(Au),Mt(Ru)}function H_(i){Ho(Ru.current);var o=Ho(Ii.current),u=mt(o,i.type);o!==u&&(xt(Au,i),xt(Ii,u))}function xp(i){Au.current===i&&(Mt(Ii),Mt(Au))}var Ht=Ls(0);function Pd(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Lp=[];function Mp(){for(var i=0;i<Lp.length;i++)Lp[i]._workInProgressVersionPrimary=null;Lp.length=0}var Dd=q.ReactCurrentDispatcher,Vp=q.ReactCurrentBatchConfig,zo=0,zt=null,ln=null,yn=null,Od=!1,bu=!1,Nu=0,VN=0;function Ln(){throw Error(t(321))}function $p(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Jr(i[u],o[u]))return!1;return!0}function Up(i,o,u,f,m,v){if(zo=v,zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Dd.current=i===null||i.memoizedState===null?FN:BN,i=u(f,m),bu){v=0;do{if(bu=!1,Nu=0,25<=v)throw Error(t(301));v+=1,yn=ln=null,o.updateQueue=null,Dd.current=HN,i=u(f,m)}while(bu)}if(Dd.current=Md,o=ln!==null&&ln.next!==null,zo=0,yn=ln=zt=null,Od=!1,o)throw Error(t(300));return i}function jp(){var i=Nu!==0;return Nu=0,i}function Ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?zt.memoizedState=yn=i:yn=yn.next=i,yn}function Lr(){if(ln===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=ln.next;var o=yn===null?zt.memoizedState:yn.next;if(o!==null)yn=o,ln=i;else{if(i===null)throw Error(t(310));ln=i,i={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},yn===null?zt.memoizedState=yn=i:yn=yn.next=i}return yn}function ku(i,o){return typeof o=="function"?o(i):o}function Fp(i){var o=Lr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=ln,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var I=m.next;m.next=v.next,v.next=I}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var M=I=null,j=null,J=v;do{var le=J.lane;if((zo&le)===le)j!==null&&(j=j.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),f=J.hasEagerState?J.eagerState:i(f,J.action);else{var ce={lane:le,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};j===null?(M=j=ce,I=f):j=j.next=ce,zt.lanes|=le,Wo|=le}J=J.next}while(J!==null&&J!==v);j===null?I=f:j.next=M,Jr(f,o.memoizedState)||(or=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=j,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,zt.lanes|=v,Wo|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Bp(i){var o=Lr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do v=i(v,I.action),I=I.next;while(I!==m);Jr(v,o.memoizedState)||(or=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function z_(){}function W_(i,o){var u=zt,f=Lr(),m=o(),v=!Jr(f.memoizedState,m);if(v&&(f.memoizedState=m,or=!0),f=f.queue,Hp(G_.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||yn!==null&&yn.memoizedState.tag&1){if(u.flags|=2048,Pu(9,K_.bind(null,u,f,m,o),void 0,null),vn===null)throw Error(t(349));(zo&30)!==0||q_(u,o,m)}return m}function q_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=zt.updateQueue,o===null?(o={lastEffect:null,stores:null},zt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function K_(i,o,u,f){o.value=u,o.getSnapshot=f,Q_(o)&&Y_(i)}function G_(i,o,u){return u(function(){Q_(o)&&Y_(i)})}function Q_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Jr(i,u)}catch{return!0}}function Y_(i){var o=Ki(i,1);o!==null&&ri(o,i,1,-1)}function X_(i){var o=Ci();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:i},o.queue=i,i=i.dispatch=jN.bind(null,zt,i),[o.memoizedState,i]}function Pu(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=zt.updateQueue,o===null?(o={lastEffect:null,stores:null},zt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function J_(){return Lr().memoizedState}function xd(i,o,u,f){var m=Ci();zt.flags|=i,m.memoizedState=Pu(1|o,u,void 0,f===void 0?null:f)}function Ld(i,o,u,f){var m=Lr();f=f===void 0?null:f;var v=void 0;if(ln!==null){var I=ln.memoizedState;if(v=I.destroy,f!==null&&$p(f,I.deps)){m.memoizedState=Pu(o,u,v,f);return}}zt.flags|=i,m.memoizedState=Pu(1|o,u,v,f)}function Z_(i,o){return xd(8390656,8,i,o)}function Hp(i,o){return Ld(2048,8,i,o)}function ew(i,o){return Ld(4,2,i,o)}function tw(i,o){return Ld(4,4,i,o)}function nw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function rw(i,o,u){return u=u!=null?u.concat([i]):null,Ld(4,4,nw.bind(null,o,i),u)}function zp(){}function iw(i,o){var u=Lr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&$p(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function sw(i,o){var u=Lr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&$p(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function ow(i,o,u){return(zo&21)===0?(i.baseState&&(i.baseState=!1,or=!0),i.memoizedState=u):(Jr(u,o)||(u=Oo(),zt.lanes|=u,Wo|=u,i.baseState=!0),o)}function $N(i,o){var u=gt;gt=u!==0&&4>u?u:4,i(!0);var f=Vp.transition;Vp.transition={};try{i(!1),o()}finally{gt=u,Vp.transition=f}}function aw(){return Lr().memoizedState}function UN(i,o,u){var f=Hs(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},lw(i))uw(o,u);else if(u=U_(i,o,u,f),u!==null){var m=Kn();ri(u,i,f,m),cw(u,o,f)}}function jN(i,o,u){var f=Hs(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(lw(i))uw(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,M=v(I,u);if(m.hasEagerState=!0,m.eagerState=M,Jr(M,I)){var j=o.interleaved;j===null?(m.next=m,Pp(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=U_(i,o,m,f),u!==null&&(m=Kn(),ri(u,i,f,m),cw(u,o,f))}}function lw(i){var o=i.alternate;return i===zt||o!==null&&o===zt}function uw(i,o){bu=Od=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function cw(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,bs(i,u)}}var Md={readContext:xr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},FN={readContext:xr,useCallback:function(i,o){return Ci().memoizedState=[i,o===void 0?null:o],i},useContext:xr,useEffect:Z_,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,xd(4194308,4,nw.bind(null,o,i),u)},useLayoutEffect:function(i,o){return xd(4194308,4,i,o)},useInsertionEffect:function(i,o){return xd(4,2,i,o)},useMemo:function(i,o){var u=Ci();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Ci();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=UN.bind(null,zt,i),[f.memoizedState,i]},useRef:function(i){var o=Ci();return i={current:i},o.memoizedState=i},useState:X_,useDebugValue:zp,useDeferredValue:function(i){return Ci().memoizedState=i},useTransition:function(){var i=X_(!1),o=i[0];return i=$N.bind(null,i[1]),Ci().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=zt,m=Ci();if($t){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),vn===null)throw Error(t(349));(zo&30)!==0||q_(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Z_(G_.bind(null,f,v,i),[i]),f.flags|=2048,Pu(9,K_.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Ci(),o=vn.identifierPrefix;if($t){var u=qi,f=Wi;u=(f&~(1<<32-ft(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Nu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=VN++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},BN={readContext:xr,useCallback:iw,useContext:xr,useEffect:Hp,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:sw,useReducer:Fp,useRef:J_,useState:function(){return Fp(ku)},useDebugValue:zp,useDeferredValue:function(i){var o=Lr();return ow(o,ln.memoizedState,i)},useTransition:function(){var i=Fp(ku)[0],o=Lr().memoizedState;return[i,o]},useMutableSource:z_,useSyncExternalStore:W_,useId:aw,unstable_isNewReconciler:!1},HN={readContext:xr,useCallback:iw,useContext:xr,useEffect:Hp,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:sw,useReducer:Bp,useRef:J_,useState:function(){return Bp(ku)},useDebugValue:zp,useDeferredValue:function(i){var o=Lr();return ln===null?o.memoizedState=i:ow(o,ln.memoizedState,i)},useTransition:function(){var i=Bp(ku)[0],o=Lr().memoizedState;return[i,o]},useMutableSource:z_,useSyncExternalStore:W_,useId:aw,unstable_isNewReconciler:!1};function ei(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Wp(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ae({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Vd={isMounted:function(i){return(i=i._reactInternals)?De(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Kn(),m=Hs(i),v=Gi(f,m);v.payload=o,u!=null&&(v.callback=u),o=Us(i,v,m),o!==null&&(ri(o,i,m,f),Nd(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Kn(),m=Hs(i),v=Gi(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Us(i,v,m),o!==null&&(ri(o,i,m,f),Nd(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Kn(),f=Hs(i),m=Gi(u,f);m.tag=2,o!=null&&(m.callback=o),o=Us(i,m,f),o!==null&&(ri(o,i,f,u),Nd(o,i,f))}};function dw(i,o,u,f,m,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):o.prototype&&o.prototype.isPureReactComponent?!yu(u,f)||!yu(m,v):!0}function fw(i,o,u){var f=!1,m=Ms,v=o.contextType;return typeof v=="object"&&v!==null?v=xr(v):(m=sr(o)?Uo:xn.current,f=o.contextTypes,v=(f=f!=null)?Wa(i,m):Ms),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Vd,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function hw(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Vd.enqueueReplaceState(o,o.state,null)}function qp(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Dp(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=xr(v):(v=sr(o)?Uo:xn.current,m.context=Wa(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Wp(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Vd.enqueueReplaceState(m,m.state,null),kd(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Za(i,o){try{var u="",f=o;do u+=Te(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Kp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Gp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var zN=typeof WeakMap=="function"?WeakMap:Map;function pw(i,o,u){u=Gi(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){zd||(zd=!0,um=f),Gp(i,o)},u}function mw(i,o,u){u=Gi(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Gp(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Gp(i,o),typeof f!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function gw(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new zN;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=ik.bind(null,i,o,u),o.then(i,i))}function yw(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function vw(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Gi(-1,1),o.tag=2,Us(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var WN=q.ReactCurrentOwner,or=!1;function qn(i,o,u,f){o.child=i===null?$_(o,null,u,f):Qa(o,i.child,u,f)}function _w(i,o,u,f,m){u=u.render;var v=o.ref;return Xa(o,m),f=Up(i,o,u,f,v,m),u=jp(),i!==null&&!or?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Qi(i,o,m)):($t&&u&&Tp(o),o.flags|=1,qn(i,o,f,m),o.child)}function ww(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!gm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Ew(i,o,v,f,m)):(i=Yd(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:yu,u(I,f)&&i.ref===o.ref)return Qi(i,o,m)}return o.flags|=1,i=Ws(v,f),i.ref=o.ref,i.return=o,o.child=i}function Ew(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(yu(v,f)&&i.ref===o.ref)if(or=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(or=!0);else return o.lanes=i.lanes,Qi(i,o,m)}return Qp(i,o,u,f,m)}function Tw(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(tl,Tr),Tr|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,xt(tl,Tr),Tr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,xt(tl,Tr),Tr|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,xt(tl,Tr),Tr|=f;return qn(i,o,m,u),o.child}function Sw(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Qp(i,o,u,f,m){var v=sr(u)?Uo:xn.current;return v=Wa(o,v),Xa(o,m),u=Up(i,o,u,f,v,m),f=jp(),i!==null&&!or?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Qi(i,o,m)):($t&&f&&Tp(o),o.flags|=1,qn(i,o,u,m),o.child)}function Iw(i,o,u,f,m){if(sr(u)){var v=!0;Ed(o)}else v=!1;if(Xa(o,m),o.stateNode===null)Ud(i,o),fw(o,u,f),qp(o,u,f,m),f=!0;else if(i===null){var I=o.stateNode,M=o.memoizedProps;I.props=M;var j=I.context,J=u.contextType;typeof J=="object"&&J!==null?J=xr(J):(J=sr(u)?Uo:xn.current,J=Wa(o,J));var le=u.getDerivedStateFromProps,ce=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function";ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==f||j!==J)&&hw(o,I,f,J),$s=!1;var oe=o.memoizedState;I.state=oe,kd(o,f,I,m),j=o.memoizedState,M!==f||oe!==j||ir.current||$s?(typeof le=="function"&&(Wp(o,u,le,f),j=o.memoizedState),(M=$s||dw(o,u,M,f,oe,j,J))?(ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),I.props=f,I.state=j,I.context=J,f=M):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,j_(i,o),M=o.memoizedProps,J=o.type===o.elementType?M:ei(o.type,M),I.props=J,ce=o.pendingProps,oe=I.context,j=u.contextType,typeof j=="object"&&j!==null?j=xr(j):(j=sr(u)?Uo:xn.current,j=Wa(o,j));var Ce=u.getDerivedStateFromProps;(le=typeof Ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==ce||oe!==j)&&hw(o,I,f,j),$s=!1,oe=o.memoizedState,I.state=oe,kd(o,f,I,m);var Le=o.memoizedState;M!==ce||oe!==Le||ir.current||$s?(typeof Ce=="function"&&(Wp(o,u,Ce,f),Le=o.memoizedState),(J=$s||dw(o,u,J,f,oe,Le,j)||!1)?(le||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,Le,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,Le,j)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Le),I.props=f,I.state=Le,I.context=j,f=J):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),f=!1)}return Yp(i,o,u,f,v,m)}function Yp(i,o,u,f,m,v){Sw(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&N_(o,u,!1),Qi(i,o,v);f=o.stateNode,WN.current=o;var M=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=Qa(o,i.child,null,v),o.child=Qa(o,null,M,v)):qn(i,o,M,v),o.memoizedState=f.state,m&&N_(o,u,!0),o.child}function Cw(i){var o=i.stateNode;o.pendingContext?R_(i,o.pendingContext,o.pendingContext!==o.context):o.context&&R_(i,o.context,!1),Op(i,o.containerInfo)}function Aw(i,o,u,f,m){return Ga(),Ap(m),o.flags|=256,qn(i,o,u,f),o.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Jp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Rw(i,o,u){var f=o.pendingProps,m=Ht.current,v=!1,I=(o.flags&128)!==0,M;if((M=I)||(M=i!==null&&i.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),xt(Ht,m&1),i===null)return Cp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,i=f.fallback,v?(f=o.mode,v=o.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=Xd(I,f,0,null),i=Qo(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Jp(u),o.memoizedState=Xp,i):Zp(o,I));if(m=i.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return qN(i,o,I,f,M,m,u);if(v){v=f.fallback,I=o.mode,m=i.child,M=m.sibling;var j={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=Ws(m,j),f.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=Ws(M,v):(v=Qo(v,I,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,I=i.child.memoizedState,I=I===null?Jp(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=Xp,f}return v=i.child,i=v.sibling,f=Ws(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Zp(i,o){return o=Xd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function $d(i,o,u,f){return f!==null&&Ap(f),Qa(o,i.child,null,u),i=Zp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function qN(i,o,u,f,m,v,I){if(u)return o.flags&256?(o.flags&=-257,f=Kp(Error(t(422))),$d(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Xd({mode:"visible",children:f.children},m,0,null),v=Qo(v,m,I,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&Qa(o,i.child,null,I),o.child.memoizedState=Jp(I),o.memoizedState=Xp,v);if((o.mode&1)===0)return $d(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var M=f.dgst;return f=M,v=Error(t(419)),f=Kp(v,f,void 0),$d(i,o,I,f)}if(M=(I&i.childLanes)!==0,or||M){if(f=vn,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Ki(i,m),ri(f,i,m,-1))}return mm(),f=Kp(Error(t(421))),$d(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=sk.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Er=xs(m.nextSibling),wr=o,$t=!0,Zr=null,i!==null&&(Dr[Or++]=Wi,Dr[Or++]=qi,Dr[Or++]=jo,Wi=i.id,qi=i.overflow,jo=o),o=Zp(o,f.children),o.flags|=4096,o)}function bw(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),kp(i.return,o,u)}function em(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function Nw(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(qn(i,o,f.children,u),f=Ht.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bw(i,u,o);else if(i.tag===19)bw(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(xt(Ht,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Pd(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),em(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Pd(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}em(o,!0,u,null,v);break;case"together":em(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ud(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Qi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Wo|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Ws(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ws(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function KN(i,o,u){switch(o.tag){case 3:Cw(o),Ga();break;case 5:H_(o);break;case 1:sr(o.type)&&Ed(o);break;case 4:Op(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;xt(Rd,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(xt(Ht,Ht.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Rw(i,o,u):(xt(Ht,Ht.current&1),i=Qi(i,o,u),i!==null?i.sibling:null);xt(Ht,Ht.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Nw(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(Ht,Ht.current),f)break;return null;case 22:case 23:return o.lanes=0,Tw(i,o,u)}return Qi(i,o,u)}var kw,tm,Pw,Dw;kw=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},tm=function(){},Pw=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Ho(Ii.current);var v=null;switch(u){case"input":m=qt(i,m),f=qt(i,f),v=[];break;case"select":m=ae({},m,{value:void 0}),f=ae({},f,{value:void 0}),v=[];break;case"textarea":m=Jn(i,m),f=Jn(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=vd)}di(u,f);var I;u=null;for(J in m)if(!f.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var M=m[J];for(I in M)M.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?v||(v=[]):(v=v||[]).push(J,null));for(J in f){var j=f[J];if(M=m!=null?m[J]:void 0,f.hasOwnProperty(J)&&j!==M&&(j!=null||M!=null))if(J==="style")if(M){for(I in M)!M.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in j)j.hasOwnProperty(I)&&M[I]!==j[I]&&(u||(u={}),u[I]=j[I])}else u||(v||(v=[]),v.push(J,u)),u=j;else J==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(v=v||[]).push(J,j)):J==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(J,""+j):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(j!=null&&J==="onScroll"&&Lt("scroll",i),v||M===j||(v=[])):(v=v||[]).push(J,j))}u&&(v=v||[]).push("style",u);var J=v;(o.updateQueue=J)&&(o.flags|=4)}},Dw=function(i,o,u,f){u!==f&&(o.flags|=4)};function Du(i,o){if(!$t)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Mn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function GN(i,o,u){var f=o.pendingProps;switch(Sp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(o),null;case 1:return sr(o.type)&&wd(),Mn(o),null;case 3:return f=o.stateNode,Ja(),Mt(ir),Mt(xn),Mp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Cd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zr!==null&&(fm(Zr),Zr=null))),tm(i,o),Mn(o),null;case 5:xp(o);var m=Ho(Ru.current);if(u=o.type,i!==null&&o.stateNode!=null)Pw(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Mn(o),null}if(i=Ho(Ii.current),Cd(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Si]=o,f[Tu]=v,i=(o.mode&1)!==0,u){case"dialog":Lt("cancel",f),Lt("close",f);break;case"iframe":case"object":case"embed":Lt("load",f);break;case"video":case"audio":for(m=0;m<_u.length;m++)Lt(_u[m],f);break;case"source":Lt("error",f);break;case"img":case"image":case"link":Lt("error",f),Lt("load",f);break;case"details":Lt("toggle",f);break;case"input":rt(f,v),Lt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Lt("invalid",f);break;case"textarea":Pn(f,v),Lt("invalid",f)}di(u,v),m=null;for(var I in v)if(v.hasOwnProperty(I)){var M=v[I];I==="children"?typeof M=="string"?f.textContent!==M&&(v.suppressHydrationWarning!==!0&&yd(f.textContent,M,i),m=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&yd(f.textContent,M,i),m=["children",""+M]):s.hasOwnProperty(I)&&M!=null&&I==="onScroll"&&Lt("scroll",f)}switch(u){case"input":It(f),Rr(f,v,!0);break;case"textarea":It(f),on(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=vd)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=$e(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(u,{is:f.is}):(i=I.createElement(u),u==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,u),i[Si]=o,i[Tu]=f,kw(i,o,!1,!1),o.stateNode=i;e:{switch(I=bo(u,f),u){case"dialog":Lt("cancel",i),Lt("close",i),m=f;break;case"iframe":case"object":case"embed":Lt("load",i),m=f;break;case"video":case"audio":for(m=0;m<_u.length;m++)Lt(_u[m],i);m=f;break;case"source":Lt("error",i),m=f;break;case"img":case"image":case"link":Lt("error",i),Lt("load",i),m=f;break;case"details":Lt("toggle",i),m=f;break;case"input":rt(i,f),m=qt(i,f),Lt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ae({},f,{value:void 0}),Lt("invalid",i);break;case"textarea":Pn(i,f),m=Jn(i,f),Lt("invalid",i);break;default:m=f}di(u,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var j=M[v];v==="style"?mn(i,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&pn(i,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&Hn(i,j):typeof j=="number"&&Hn(i,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Lt("scroll",i):j!=null&&z(i,v,j,I))}switch(u){case"input":It(i),Rr(i,f,!1);break;case"textarea":It(i),on(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ue(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Jt(i,!!f.multiple,v,!1):f.defaultValue!=null&&Jt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=vd)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Mn(o),null;case 6:if(i&&o.stateNode!=null)Dw(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Ho(Ru.current),Ho(Ii.current),Cd(o)){if(f=o.stateNode,u=o.memoizedProps,f[Si]=o,(v=f.nodeValue!==u)&&(i=wr,i!==null))switch(i.tag){case 3:yd(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&yd(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Si]=o,o.stateNode=f}return Mn(o),null;case 13:if(Mt(Ht),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($t&&Er!==null&&(o.mode&1)!==0&&(o.flags&128)===0)L_(),Ga(),o.flags|=98560,v=!1;else if(v=Cd(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Si]=o}else Ga(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mn(o),v=!1}else Zr!==null&&(fm(Zr),Zr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Ht.current&1)!==0?un===0&&(un=3):mm())),o.updateQueue!==null&&(o.flags|=4),Mn(o),null);case 4:return Ja(),tm(i,o),i===null&&wu(o.stateNode.containerInfo),Mn(o),null;case 10:return Np(o.type._context),Mn(o),null;case 17:return sr(o.type)&&wd(),Mn(o),null;case 19:if(Mt(Ht),v=o.memoizedState,v===null)return Mn(o),null;if(f=(o.flags&128)!==0,I=v.rendering,I===null)if(f)Du(v,!1);else{if(un!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Pd(i),I!==null){for(o.flags|=128,Du(v,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return xt(Ht,Ht.current&1|2),o.child}i=i.sibling}v.tail!==null&&ct()>nl&&(o.flags|=128,f=!0,Du(v,!1),o.lanes=4194304)}else{if(!f)if(i=Pd(I),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Du(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!$t)return Mn(o),null}else 2*ct()-v.renderingStartTime>nl&&u!==1073741824&&(o.flags|=128,f=!0,Du(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=Ht.current,xt(Ht,f?u&1|2:u&1),o):(Mn(o),null);case 22:case 23:return pm(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Tr&1073741824)!==0&&(Mn(o),o.subtreeFlags&6&&(o.flags|=8192)):Mn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function QN(i,o){switch(Sp(o),o.tag){case 1:return sr(o.type)&&wd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ja(),Mt(ir),Mt(xn),Mp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return xp(o),null;case 13:if(Mt(Ht),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ga()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Mt(Ht),null;case 4:return Ja(),null;case 10:return Np(o.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var jd=!1,Vn=!1,YN=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function el(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Gt(i,o,f)}else u.current=null}function nm(i,o,u){try{u()}catch(f){Gt(i,o,f)}}var Ow=!1;function XN(i,o){if(pp=Ps,i=d_(),op(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,M=-1,j=-1,J=0,le=0,ce=i,oe=null;t:for(;;){for(var Ce;ce!==u||m!==0&&ce.nodeType!==3||(M=I+m),ce!==v||f!==0&&ce.nodeType!==3||(j=I+f),ce.nodeType===3&&(I+=ce.nodeValue.length),(Ce=ce.firstChild)!==null;)oe=ce,ce=Ce;for(;;){if(ce===i)break t;if(oe===u&&++J===m&&(M=I),oe===v&&++le===f&&(j=I),(Ce=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=Ce}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(mp={focusedElem:i,selectionRange:u},Ps=!1,Oe=o;Oe!==null;)if(o=Oe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Oe=i;else for(;Oe!==null;){o=Oe;try{var Le=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Me=Le.memoizedProps,Yt=Le.memoizedState,G=o.stateNode,B=G.getSnapshotBeforeUpdate(o.elementType===o.type?Me:ei(o.type,Me),Yt);G.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){Gt(o,o.return,fe)}if(i=o.sibling,i!==null){i.return=o.return,Oe=i;break}Oe=o.return}return Le=Ow,Ow=!1,Le}function Ou(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&nm(o,u,v)}m=m.next}while(m!==f)}}function Fd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function rm(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function xw(i){var o=i.alternate;o!==null&&(i.alternate=null,xw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Si],delete o[Tu],delete o[_p],delete o[ON],delete o[xN])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Lw(i){return i.tag===5||i.tag===3||i.tag===4}function Mw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function im(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=vd));else if(f!==4&&(i=i.child,i!==null))for(im(i,o,u),i=i.sibling;i!==null;)im(i,o,u),i=i.sibling}function sm(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(sm(i,o,u),i=i.sibling;i!==null;)sm(i,o,u),i=i.sibling}var In=null,ti=!1;function js(i,o,u){for(u=u.child;u!==null;)Vw(i,o,u),u=u.sibling}function Vw(i,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 5:Vn||el(u,o);case 6:var f=In,m=ti;In=null,js(i,o,u),In=f,ti=m,In!==null&&(ti?(i=In,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):In.removeChild(u.stateNode));break;case 18:In!==null&&(ti?(i=In,u=u.stateNode,i.nodeType===8?vp(i.parentNode,u):i.nodeType===1&&vp(i,u),Yr(i)):vp(In,u.stateNode));break;case 4:f=In,m=ti,In=u.stateNode.containerInfo,ti=!0,js(i,o,u),In=f,ti=m;break;case 0:case 11:case 14:case 15:if(!Vn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&nm(u,o,I),m=m.next}while(m!==f)}js(i,o,u);break;case 1:if(!Vn&&(el(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(M){Gt(u,o,M)}js(i,o,u);break;case 21:js(i,o,u);break;case 22:u.mode&1?(Vn=(f=Vn)||u.memoizedState!==null,js(i,o,u),Vn=f):js(i,o,u);break;default:js(i,o,u)}}function $w(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new YN),o.forEach(function(f){var m=ok.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function ni(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 5:In=M.stateNode,ti=!1;break e;case 3:In=M.stateNode.containerInfo,ti=!0;break e;case 4:In=M.stateNode.containerInfo,ti=!0;break e}M=M.return}if(In===null)throw Error(t(160));Vw(v,I,m),In=null,ti=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(J){Gt(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Uw(o,i),o=o.sibling}function Uw(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ni(o,i),Ai(i),f&4){try{Ou(3,i,i.return),Fd(3,i)}catch(Me){Gt(i,i.return,Me)}try{Ou(5,i,i.return)}catch(Me){Gt(i,i.return,Me)}}break;case 1:ni(o,i),Ai(i),f&512&&u!==null&&el(u,u.return);break;case 5:if(ni(o,i),Ai(i),f&512&&u!==null&&el(u,u.return),i.flags&32){var m=i.stateNode;try{Hn(m,"")}catch(Me){Gt(i,i.return,Me)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,M=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&jt(m,v),bo(M,I);var J=bo(M,v);for(I=0;I<j.length;I+=2){var le=j[I],ce=j[I+1];le==="style"?mn(m,ce):le==="dangerouslySetInnerHTML"?pn(m,ce):le==="children"?Hn(m,ce):z(m,le,ce,J)}switch(M){case"input":hn(m,v);break;case"textarea":Dt(m,v);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?Jt(m,!!v.multiple,Ce,!1):oe!==!!v.multiple&&(v.defaultValue!=null?Jt(m,!!v.multiple,v.defaultValue,!0):Jt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Tu]=v}catch(Me){Gt(i,i.return,Me)}}break;case 6:if(ni(o,i),Ai(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(Me){Gt(i,i.return,Me)}}break;case 3:if(ni(o,i),Ai(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Yr(o.containerInfo)}catch(Me){Gt(i,i.return,Me)}break;case 4:ni(o,i),Ai(i);break;case 13:ni(o,i),Ai(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(lm=ct())),f&4&&$w(i);break;case 22:if(le=u!==null&&u.memoizedState!==null,i.mode&1?(Vn=(J=Vn)||le,ni(o,i),Vn=J):ni(o,i),Ai(i),f&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!le&&(i.mode&1)!==0)for(Oe=i,le=i.child;le!==null;){for(ce=Oe=le;Oe!==null;){switch(oe=Oe,Ce=oe.child,oe.tag){case 0:case 11:case 14:case 15:Ou(4,oe,oe.return);break;case 1:el(oe,oe.return);var Le=oe.stateNode;if(typeof Le.componentWillUnmount=="function"){f=oe,u=oe.return;try{o=f,Le.props=o.memoizedProps,Le.state=o.memoizedState,Le.componentWillUnmount()}catch(Me){Gt(f,u,Me)}}break;case 5:el(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Bw(ce);continue}}Ce!==null?(Ce.return=oe,Oe=Ce):Bw(ce)}le=le.sibling}e:for(le=null,ce=i;;){if(ce.tag===5){if(le===null){le=ce;try{m=ce.stateNode,J?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=ce.stateNode,j=ce.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=ot("display",I))}catch(Me){Gt(i,i.return,Me)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=J?"":ce.memoizedProps}catch(Me){Gt(i,i.return,Me)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:ni(o,i),Ai(i),f&4&&$w(i);break;case 21:break;default:ni(o,i),Ai(i)}}function Ai(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Lw(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Hn(m,""),f.flags&=-33);var v=Mw(i);sm(i,v,m);break;case 3:case 4:var I=f.stateNode.containerInfo,M=Mw(i);im(i,M,I);break;default:throw Error(t(161))}}catch(j){Gt(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function JN(i,o,u){Oe=i,jw(i)}function jw(i,o,u){for(var f=(i.mode&1)!==0;Oe!==null;){var m=Oe,v=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||jd;if(!I){var M=m.alternate,j=M!==null&&M.memoizedState!==null||Vn;M=jd;var J=Vn;if(jd=I,(Vn=j)&&!J)for(Oe=m;Oe!==null;)I=Oe,j=I.child,I.tag===22&&I.memoizedState!==null?Hw(m):j!==null?(j.return=I,Oe=j):Hw(m);for(;v!==null;)Oe=v,jw(v),v=v.sibling;Oe=m,jd=M,Vn=J}Fw(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Oe=v):Fw(i)}}function Fw(i){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Vn||Fd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Vn)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ei(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&B_(o,v,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}B_(o,I,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var le=J.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&Yr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vn||o.flags&512&&rm(o)}catch(oe){Gt(o,o.return,oe)}}if(o===i){Oe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function Bw(i){for(;Oe!==null;){var o=Oe;if(o===i){Oe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function Hw(i){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Fd(4,o)}catch(j){Gt(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(j){Gt(o,m,j)}}var v=o.return;try{rm(o)}catch(j){Gt(o,v,j)}break;case 5:var I=o.return;try{rm(o)}catch(j){Gt(o,I,j)}}}catch(j){Gt(o,o.return,j)}if(o===i){Oe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Oe=M;break}Oe=o.return}}var ZN=Math.ceil,Bd=q.ReactCurrentDispatcher,om=q.ReactCurrentOwner,Mr=q.ReactCurrentBatchConfig,wt=0,vn=null,tn=null,Cn=0,Tr=0,tl=Ls(0),un=0,xu=null,Wo=0,Hd=0,am=0,Lu=null,ar=null,lm=0,nl=1/0,Yi=null,zd=!1,um=null,Fs=null,Wd=!1,Bs=null,qd=0,Mu=0,cm=null,Kd=-1,Gd=0;function Kn(){return(wt&6)!==0?ct():Kd!==-1?Kd:Kd=ct()}function Hs(i){return(i.mode&1)===0?1:(wt&2)!==0&&Cn!==0?Cn&-Cn:MN.transition!==null?(Gd===0&&(Gd=Oo()),Gd):(i=gt,i!==0||(i=window.event,i=i===void 0?16:cu(i.type)),i)}function ri(i,o,u,f){if(50<Mu)throw Mu=0,cm=null,Error(t(185));Rs(i,u,f),((wt&2)===0||i!==vn)&&(i===vn&&((wt&2)===0&&(Hd|=u),un===4&&zs(i,Cn)),lr(i,f),u===1&&wt===0&&(o.mode&1)===0&&(nl=ct()+500,Td&&Vs()))}function lr(i,o){var u=i.callbackNode;$i(i,o);var f=Do(i,i===vn?Cn:0);if(f===0)u!==null&&br(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&br(u),o===1)i.tag===0?LN(Ww.bind(null,i)):k_(Ww.bind(null,i)),PN(function(){(wt&6)===0&&Vs()}),u=null;else{switch(Ns(f)){case 1:u=gr;break;case 4:u=On;break;case 16:u=En;break;case 536870912:u=dt;break;default:u=En}u=Zw(u,zw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function zw(i,o){if(Kd=-1,Gd=0,(wt&6)!==0)throw Error(t(327));var u=i.callbackNode;if(rl()&&i.callbackNode!==u)return null;var f=Do(i,i===vn?Cn:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Qd(i,f);else{o=f;var m=wt;wt|=2;var v=Kw();(vn!==i||Cn!==o)&&(Yi=null,nl=ct()+500,Ko(i,o));do try{nk();break}catch(M){qw(i,M)}while(!0);bp(),Bd.current=v,wt=m,tn!==null?o=0:(vn=null,Cn=0,o=un)}if(o!==0){if(o===2&&(m=yr(i),m!==0&&(f=m,o=dm(i,m))),o===1)throw u=xu,Ko(i,0),zs(i,f),lr(i,ct()),u;if(o===6)zs(i,f);else{if(m=i.current.alternate,(f&30)===0&&!ek(m)&&(o=Qd(i,f),o===2&&(v=yr(i),v!==0&&(f=v,o=dm(i,v))),o===1))throw u=xu,Ko(i,0),zs(i,f),lr(i,ct()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Go(i,ar,Yi);break;case 3:if(zs(i,f),(f&130023424)===f&&(o=lm+500-ct(),10<o)){if(Do(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){Kn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=yp(Go.bind(null,i,ar,Yi),o);break}Go(i,ar,Yi);break;case 4:if(zs(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-ft(f);v=1<<I,I=o[I],I>m&&(m=I),f&=~v}if(f=m,f=ct()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*ZN(f/1960))-f,10<f){i.timeoutHandle=yp(Go.bind(null,i,ar,Yi),f);break}Go(i,ar,Yi);break;case 5:Go(i,ar,Yi);break;default:throw Error(t(329))}}}return lr(i,ct()),i.callbackNode===u?zw.bind(null,i):null}function dm(i,o){var u=Lu;return i.current.memoizedState.isDehydrated&&(Ko(i,o).flags|=256),i=Qd(i,o),i!==2&&(o=ar,ar=u,o!==null&&fm(o)),i}function fm(i){ar===null?ar=i:ar.push.apply(ar,i)}function ek(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Jr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zs(i,o){for(o&=~am,o&=~Hd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-ft(o),f=1<<u;i[u]=-1,o&=~f}}function Ww(i){if((wt&6)!==0)throw Error(t(327));rl();var o=Do(i,0);if((o&1)===0)return lr(i,ct()),null;var u=Qd(i,o);if(i.tag!==0&&u===2){var f=yr(i);f!==0&&(o=f,u=dm(i,f))}if(u===1)throw u=xu,Ko(i,0),zs(i,o),lr(i,ct()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Go(i,ar,Yi),lr(i,ct()),null}function hm(i,o){var u=wt;wt|=1;try{return i(o)}finally{wt=u,wt===0&&(nl=ct()+500,Td&&Vs())}}function qo(i){Bs!==null&&Bs.tag===0&&(wt&6)===0&&rl();var o=wt;wt|=1;var u=Mr.transition,f=gt;try{if(Mr.transition=null,gt=1,i)return i()}finally{gt=f,Mr.transition=u,wt=o,(wt&6)===0&&Vs()}}function pm(){Tr=tl.current,Mt(tl)}function Ko(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,kN(u)),tn!==null)for(u=tn.return;u!==null;){var f=u;switch(Sp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&wd();break;case 3:Ja(),Mt(ir),Mt(xn),Mp();break;case 5:xp(f);break;case 4:Ja();break;case 13:Mt(Ht);break;case 19:Mt(Ht);break;case 10:Np(f.type._context);break;case 22:case 23:pm()}u=u.return}if(vn=i,tn=i=Ws(i.current,null),Cn=Tr=o,un=0,xu=null,am=Hd=Wo=0,ar=Lu=null,Bo!==null){for(o=0;o<Bo.length;o++)if(u=Bo[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var I=v.next;v.next=m,f.next=I}u.pending=f}Bo=null}return i}function qw(i,o){do{var u=tn;try{if(bp(),Dd.current=Md,Od){for(var f=zt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Od=!1}if(zo=0,yn=ln=zt=null,bu=!1,Nu=0,om.current=null,u===null||u.return===null){un=1,xu=o,tn=null;break}e:{var v=i,I=u.return,M=u,j=o;if(o=Cn,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=j,le=M,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var Ce=yw(I);if(Ce!==null){Ce.flags&=-257,vw(Ce,I,M,v,o),Ce.mode&1&&gw(v,J,o),o=Ce,j=J;var Le=o.updateQueue;if(Le===null){var Me=new Set;Me.add(j),o.updateQueue=Me}else Le.add(j);break e}else{if((o&1)===0){gw(v,J,o),mm();break e}j=Error(t(426))}}else if($t&&M.mode&1){var Yt=yw(I);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),vw(Yt,I,M,v,o),Ap(Za(j,M));break e}}v=j=Za(j,M),un!==4&&(un=2),Lu===null?Lu=[v]:Lu.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var G=pw(v,j,o);F_(v,G);break e;case 1:M=j;var B=v.type,Y=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Fs===null||!Fs.has(Y)))){v.flags|=65536,o&=-o,v.lanes|=o;var fe=mw(v,M,o);F_(v,fe);break e}}v=v.return}while(v!==null)}Qw(u)}catch(Ve){o=Ve,tn===u&&u!==null&&(tn=u=u.return);continue}break}while(!0)}function Kw(){var i=Bd.current;return Bd.current=Md,i===null?Md:i}function mm(){(un===0||un===3||un===2)&&(un=4),vn===null||(Wo&268435455)===0&&(Hd&268435455)===0||zs(vn,Cn)}function Qd(i,o){var u=wt;wt|=2;var f=Kw();(vn!==i||Cn!==o)&&(Yi=null,Ko(i,o));do try{tk();break}catch(m){qw(i,m)}while(!0);if(bp(),wt=u,Bd.current=f,tn!==null)throw Error(t(261));return vn=null,Cn=0,un}function tk(){for(;tn!==null;)Gw(tn)}function nk(){for(;tn!==null&&!mi();)Gw(tn)}function Gw(i){var o=Jw(i.alternate,i,Tr);i.memoizedProps=i.pendingProps,o===null?Qw(i):tn=o,om.current=null}function Qw(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=GN(u,o,Tr),u!==null){tn=u;return}}else{if(u=QN(u,o),u!==null){u.flags&=32767,tn=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{un=6,tn=null;return}}if(o=o.sibling,o!==null){tn=o;return}tn=o=i}while(o!==null);un===0&&(un=5)}function Go(i,o,u){var f=gt,m=Mr.transition;try{Mr.transition=null,gt=1,rk(i,o,u,f)}finally{Mr.transition=m,gt=f}return null}function rk(i,o,u,f){do rl();while(Bs!==null);if((wt&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Pt(i,v),i===vn&&(tn=vn=null,Cn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Wd||(Wd=!0,Zw(En,function(){return rl(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Mr.transition,Mr.transition=null;var I=gt;gt=1;var M=wt;wt|=4,om.current=null,XN(i,u),Uw(u,i),SN(mp),Ps=!!pp,mp=pp=null,i.current=u,JN(u),mr(),wt=M,gt=I,Mr.transition=v}else i.current=u;if(Wd&&(Wd=!1,Bs=i,qd=m),v=i.pendingLanes,v===0&&(Fs=null),yi(u.stateNode),lr(i,ct()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(zd)throw zd=!1,i=um,um=null,i;return(qd&1)!==0&&i.tag!==0&&rl(),v=i.pendingLanes,(v&1)!==0?i===cm?Mu++:(Mu=0,cm=i):Mu=0,Vs(),null}function rl(){if(Bs!==null){var i=Ns(qd),o=Mr.transition,u=gt;try{if(Mr.transition=null,gt=16>i?16:i,Bs===null)var f=!1;else{if(i=Bs,Bs=null,qd=0,(wt&6)!==0)throw Error(t(331));var m=wt;for(wt|=4,Oe=i.current;Oe!==null;){var v=Oe,I=v.child;if((Oe.flags&16)!==0){var M=v.deletions;if(M!==null){for(var j=0;j<M.length;j++){var J=M[j];for(Oe=J;Oe!==null;){var le=Oe;switch(le.tag){case 0:case 11:case 15:Ou(8,le,v)}var ce=le.child;if(ce!==null)ce.return=le,Oe=ce;else for(;Oe!==null;){le=Oe;var oe=le.sibling,Ce=le.return;if(xw(le),le===J){Oe=null;break}if(oe!==null){oe.return=Ce,Oe=oe;break}Oe=Ce}}}var Le=v.alternate;if(Le!==null){var Me=Le.child;if(Me!==null){Le.child=null;do{var Yt=Me.sibling;Me.sibling=null,Me=Yt}while(Me!==null)}}Oe=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,Oe=I;else e:for(;Oe!==null;){if(v=Oe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ou(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,Oe=G;break e}Oe=v.return}}var B=i.current;for(Oe=B;Oe!==null;){I=Oe;var Y=I.child;if((I.subtreeFlags&2064)!==0&&Y!==null)Y.return=I,Oe=Y;else e:for(I=B;Oe!==null;){if(M=Oe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Fd(9,M)}}catch(Ve){Gt(M,M.return,Ve)}if(M===I){Oe=null;break e}var fe=M.sibling;if(fe!==null){fe.return=M.return,Oe=fe;break e}Oe=M.return}}if(wt=m,Vs(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ct,i)}catch{}f=!0}return f}finally{gt=u,Mr.transition=o}}return!1}function Yw(i,o,u){o=Za(u,o),o=pw(i,o,1),i=Us(i,o,1),o=Kn(),i!==null&&(Rs(i,1,o),lr(i,o))}function Gt(i,o,u){if(i.tag===3)Yw(i,i,u);else for(;o!==null;){if(o.tag===3){Yw(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))){i=Za(u,i),i=mw(o,i,1),o=Us(o,i,1),i=Kn(),o!==null&&(Rs(o,1,i),lr(o,i));break}}o=o.return}}function ik(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=Kn(),i.pingedLanes|=i.suspendedLanes&u,vn===i&&(Cn&u)===u&&(un===4||un===3&&(Cn&130023424)===Cn&&500>ct()-lm?Ko(i,0):am|=u),lr(i,o)}function Xw(i,o){o===0&&((i.mode&1)===0?o=1:(o=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var u=Kn();i=Ki(i,o),i!==null&&(Rs(i,o,u),lr(i,u))}function sk(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Xw(i,u)}function ok(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),Xw(i,u)}var Jw;Jw=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||ir.current)or=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return or=!1,KN(i,o,u);or=(i.flags&131072)!==0}else or=!1,$t&&(o.flags&1048576)!==0&&P_(o,Id,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Ud(i,o),i=o.pendingProps;var m=Wa(o,xn.current);Xa(o,u),m=Up(null,o,f,i,m,u);var v=jp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sr(f)?(v=!0,Ed(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Dp(o),m.updater=Vd,o.stateNode=m,m._reactInternals=o,qp(o,f,i,u),o=Yp(null,o,f,!0,v,u)):(o.tag=0,$t&&v&&Tp(o),qn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Ud(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=lk(f),i=ei(f,i),m){case 0:o=Qp(null,o,f,i,u);break e;case 1:o=Iw(null,o,f,i,u);break e;case 11:o=_w(null,o,f,i,u);break e;case 14:o=ww(null,o,f,ei(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Qp(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Iw(i,o,f,m,u);case 3:e:{if(Cw(o),i===null)throw Error(t(387));f=o.pendingProps,v=o.memoizedState,m=v.element,j_(i,o),kd(o,f,null,u);var I=o.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Za(Error(t(423)),o),o=Aw(i,o,f,u,m);break e}else if(f!==m){m=Za(Error(t(424)),o),o=Aw(i,o,f,u,m);break e}else for(Er=xs(o.stateNode.containerInfo.firstChild),wr=o,$t=!0,Zr=null,u=$_(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ga(),f===m){o=Qi(i,o,u);break e}qn(i,o,f,u)}o=o.child}return o;case 5:return H_(o),i===null&&Cp(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,I=m.children,gp(f,m)?I=null:v!==null&&gp(f,v)&&(o.flags|=32),Sw(i,o),qn(i,o,I,u),o.child;case 6:return i===null&&Cp(o),null;case 13:return Rw(i,o,u);case 4:return Op(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Qa(o,null,f,u):qn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),_w(i,o,f,m,u);case 7:return qn(i,o,o.pendingProps,u),o.child;case 8:return qn(i,o,o.pendingProps.children,u),o.child;case 12:return qn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,I=m.value,xt(Rd,f._currentValue),f._currentValue=I,v!==null)if(Jr(v.value,I)){if(v.children===m.children&&!ir.current){o=Qi(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){I=v.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(v.tag===1){j=Gi(-1,u&-u),j.tag=2;var J=v.updateQueue;if(J!==null){J=J.shared;var le=J.pending;le===null?j.next=j:(j.next=le.next,le.next=j),J.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),kp(v.return,u,o),M.lanes|=u;break}j=j.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(t(341));I.lanes|=u,M=I.alternate,M!==null&&(M.lanes|=u),kp(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}qn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Xa(o,u),m=xr(m),f=f(m),o.flags|=1,qn(i,o,f,u),o.child;case 14:return f=o.type,m=ei(f,o.pendingProps),m=ei(f.type,m),ww(i,o,f,m,u);case 15:return Ew(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Ud(i,o),o.tag=1,sr(f)?(i=!0,Ed(o)):i=!1,Xa(o,u),fw(o,f,m),qp(o,f,m,u),Yp(null,o,f,!0,i,u);case 19:return Nw(i,o,u);case 22:return Tw(i,o,u)}throw Error(t(156,o.tag))};function Zw(i,o){return Rt(i,o)}function ak(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(i,o,u,f){return new ak(i,o,u,f)}function gm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lk(i){if(typeof i=="function")return gm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===xe)return 14}return 2}function Ws(i,o){var u=i.alternate;return u===null?(u=Vr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Yd(i,o,u,f,m,v){var I=2;if(f=i,typeof i=="function")gm(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case S:return Qo(u.children,m,v,o);case A:I=8,m|=8;break;case k:return i=Vr(12,u,o,m|2),i.elementType=k,i.lanes=v,i;case D:return i=Vr(13,u,o,m),i.elementType=D,i.lanes=v,i;case we:return i=Vr(19,u,o,m),i.elementType=we,i.lanes=v,i;case Ne:return Xd(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:I=10;break e;case L:I=9;break e;case V:I=11;break e;case xe:I=14;break e;case Fe:I=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Vr(I,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Qo(i,o,u,f){return i=Vr(7,i,f,o),i.lanes=u,i}function Xd(i,o,u,f){return i=Vr(22,i,f,o),i.elementType=Ne,i.lanes=u,i.stateNode={isHidden:!1},i}function ym(i,o,u){return i=Vr(6,i,null,o),i.lanes=u,i}function vm(i,o,u){return o=Vr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function uk(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=As(0),this.expirationTimes=As(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function _m(i,o,u,f,m,v,I,M,j){return i=new uk(i,o,u,M,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Vr(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(v),i}function ck(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function eE(i){if(!i)return Ms;i=i._reactInternals;e:{if(De(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(sr(u))return b_(i,u,o)}return o}function tE(i,o,u,f,m,v,I,M,j){return i=_m(u,f,!0,i,m,v,I,M,j),i.context=eE(null),u=i.current,f=Kn(),m=Hs(u),v=Gi(f,m),v.callback=o??null,Us(u,v,m),i.current.lanes=m,Rs(i,m,f),lr(i,f),i}function Jd(i,o,u,f){var m=o.current,v=Kn(),I=Hs(m);return u=eE(u),o.context===null?o.context=u:o.pendingContext=u,o=Gi(v,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Us(m,o,I),i!==null&&(ri(i,m,I,v),Nd(i,m,I)),I}function Zd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function nE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function wm(i,o){nE(i,o),(i=i.alternate)&&nE(i,o)}function dk(){return null}var rE=typeof reportError=="function"?reportError:function(i){console.error(i)};function Em(i){this._internalRoot=i}ef.prototype.render=Em.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Jd(i,o,null,null)},ef.prototype.unmount=Em.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;qo(function(){Jd(null,i,null,null)}),o[Hi]=null}};function ef(i){this._internalRoot=i}ef.prototype.unstable_scheduleHydration=function(i){if(i){var o=ed();i={blockedOn:null,target:i,priority:o};for(var u=0;u<_i.length&&o!==0&&o<_i[u].priority;u++);_i.splice(u,0,i),u===0&&rd(i)}};function Tm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function tf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function iE(){}function fk(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var J=Zd(I);v.call(J)}}var I=tE(o,f,i,0,null,!1,!1,"",iE);return i._reactRootContainer=I,i[Hi]=I.current,wu(i.nodeType===8?i.parentNode:i),qo(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var M=f;f=function(){var J=Zd(j);M.call(J)}}var j=_m(i,0,!1,null,null,!1,!1,"",iE);return i._reactRootContainer=j,i[Hi]=j.current,wu(i.nodeType===8?i.parentNode:i),qo(function(){Jd(o,j,u,f)}),j}function nf(i,o,u,f,m){var v=u._reactRootContainer;if(v){var I=v;if(typeof m=="function"){var M=m;m=function(){var j=Zd(I);M.call(j)}}Jd(o,I,i,m)}else I=fk(u,o,i,m,f);return Zd(I)}Jc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Cs(o.pendingLanes);u!==0&&(bs(o,u|1),lr(o,ct()),(wt&6)===0&&(nl=ct()+500,Vs()))}break;case 13:qo(function(){var f=Ki(i,1);if(f!==null){var m=Kn();ri(f,i,1,m)}}),wm(i,1)}},Ra=function(i){if(i.tag===13){var o=Ki(i,134217728);if(o!==null){var u=Kn();ri(o,i,134217728,u)}wm(i,134217728)}},Zc=function(i){if(i.tag===13){var o=Hs(i),u=Ki(i,o);if(u!==null){var f=Kn();ri(u,i,o,f)}wm(i,o)}},ed=function(){return gt},td=function(i,o){var u=gt;try{return gt=i,o()}finally{gt=u}},Vi=function(i,o,u){switch(o){case"input":if(hn(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=_d(f);if(!m)throw Error(t(90));it(f),hn(f,m)}}}break;case"textarea":Dt(i,u);break;case"select":o=u.value,o!=null&&Jt(i,!!u.multiple,o,!1)}},hi=hm,pi=qo;var hk={usingClientEntryPoint:!1,Events:[Su,Ha,_d,pr,No,hm]},Vu={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pk={bundleType:Vu.bundleType,version:Vu.version,rendererPackageName:Vu.rendererPackageName,rendererConfig:Vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Tt(i),i===null?null:i.stateNode},findFiberByHostInstance:Vu.findFiberByHostInstance||dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Ct=rf.inject(pk),Zt=rf}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hk,ur.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tm(o))throw Error(t(200));return ck(i,o,null,u)},ur.createRoot=function(i,o){if(!Tm(i))throw Error(t(299));var u=!1,f="",m=rE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=_m(i,1,!1,null,null,u,!1,f,m),i[Hi]=o.current,wu(i.nodeType===8?i.parentNode:i),new Em(o)},ur.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Tt(o),i=i===null?null:i.stateNode,i},ur.flushSync=function(i){return qo(i)},ur.hydrate=function(i,o,u){if(!tf(o))throw Error(t(200));return nf(null,i,o,!0,u)},ur.hydrateRoot=function(i,o,u){if(!Tm(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",I=rE;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=tE(o,null,i,1,u??null,m,!1,v,I),i[Hi]=o.current,wu(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new ef(o)},ur.render=function(i,o,u){if(!tf(o))throw Error(t(200));return nf(null,i,o,!1,u)},ur.unmountComponentAtNode=function(i){if(!tf(i))throw Error(t(40));return i._reactRootContainer?(qo(function(){nf(null,null,i,!1,function(){i._reactRootContainer=null,i[Hi]=null})}),!0):!1},ur.unstable_batchedUpdates=hm,ur.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!tf(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return nf(i,o,u,!1,f)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var cE;function RS(){if(cE)return Im.exports;cE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Im.exports=wk(),Im.exports}var dE;function Ek(){if(dE)return sf;dE=1;var n=RS();return sf.createRoot=n.createRoot,sf.hydrateRoot=n.hydrateRoot,sf}var Tk=Ek(),Yn="top",Ir="bottom",Cr="right",Xn="left",vh="auto",Wl=[Yn,Ir,Cr,Xn],aa="start",Sl="end",bS="clippingParents",dy="viewport",cl="popper",NS="reference",pg=Wl.reduce(function(n,e){return n.concat([e+"-"+aa,e+"-"+Sl])},[]),fy=[].concat(Wl,[vh]).reduce(function(n,e){return n.concat([e,e+"-"+aa,e+"-"+Sl])},[]),kS="beforeRead",PS="read",DS="afterRead",OS="beforeMain",xS="main",LS="afterMain",MS="beforeWrite",VS="write",$S="afterWrite",US=[kS,PS,DS,OS,xS,LS,MS,VS,$S];function Di(n){return n?(n.nodeName||"").toLowerCase():null}function Ar(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function la(n){var e=Ar(n).Element;return n instanceof e||n instanceof Element}function jr(n){var e=Ar(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function hy(n){if(typeof ShadowRoot>"u")return!1;var e=Ar(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Sk(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},s=e.attributes[t]||{},a=e.elements[t];!jr(a)||!Di(a)||(Object.assign(a.style,r),Object.keys(s).forEach(function(l){var d=s[l];d===!1?a.removeAttribute(l):a.setAttribute(l,d===!0?"":d)}))})}function Ik(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),d=l.reduce(function(h,p){return h[p]="",h},{});!jr(s)||!Di(s)||(Object.assign(s.style,d),Object.keys(a).forEach(function(h){s.removeAttribute(h)}))})}}const py={name:"applyStyles",enabled:!0,phase:"write",fn:Sk,effect:Ik,requires:["computeStyles"]};function bi(n){return n.split("-")[0]}var sa=Math.max,jf=Math.min,Il=Math.round;function mg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function jS(){return!/^((?!chrome|android).)*safari/i.test(mg())}function Cl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,a=1;e&&jr(n)&&(s=n.offsetWidth>0&&Il(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Il(r.height)/n.offsetHeight||1);var l=la(n)?Ar(n):window,d=l.visualViewport,h=!jS()&&t,p=(r.left+(h&&d?d.offsetLeft:0))/s,g=(r.top+(h&&d?d.offsetTop:0))/a,_=r.width/s,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function my(n){var e=Cl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function FS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&hy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function us(n){return Ar(n).getComputedStyle(n)}function Ck(n){return["table","td","th"].indexOf(Di(n))>=0}function So(n){return((la(n)?n.ownerDocument:n.document)||window.document).documentElement}function _h(n){return Di(n)==="html"?n:n.assignedSlot||n.parentNode||(hy(n)?n.host:null)||So(n)}function fE(n){return!jr(n)||us(n).position==="fixed"?null:n.offsetParent}function Ak(n){var e=/firefox/i.test(mg()),t=/Trident/i.test(mg());if(t&&jr(n)){var r=us(n);if(r.position==="fixed")return null}var s=_h(n);for(hy(s)&&(s=s.host);jr(s)&&["html","body"].indexOf(Di(s))<0;){var a=us(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Cc(n){for(var e=Ar(n),t=fE(n);t&&Ck(t)&&us(t).position==="static";)t=fE(t);return t&&(Di(t)==="html"||Di(t)==="body"&&us(t).position==="static")?e:t||Ak(n)||e}function gy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ec(n,e,t){return sa(n,jf(e,t))}function Rk(n,e,t){var r=ec(n,e,t);return r>t?t:r}function BS(){return{top:0,right:0,bottom:0,left:0}}function HS(n){return Object.assign({},BS(),n)}function zS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var bk=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,HS(typeof e!="number"?e:zS(e,Wl))};function Nk(n){var e,t=n.state,r=n.name,s=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,d=bi(t.placement),h=gy(d),p=[Xn,Cr].indexOf(d)>=0,g=p?"height":"width";if(!(!a||!l)){var _=bk(s.padding,t),T=my(a),C=h==="y"?Yn:Xn,P=h==="y"?Ir:Cr,x=t.rects.reference[g]+t.rects.reference[h]-l[h]-t.rects.popper[g],N=l[h]-t.rects.reference[h],H=Cc(a),$=H?h==="y"?H.clientHeight||0:H.clientWidth||0:0,z=x/2-N/2,q=_[C],Z=$-T[g]-_[P],Q=$/2-T[g]/2+z,S=ec(q,Q,Z),A=h;t.modifiersData[r]=(e={},e[A]=S,e.centerOffset=S-Q,e)}}function kk(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||FS(e.elements.popper,s)&&(e.elements.arrow=s))}const yy={name:"arrow",enabled:!0,phase:"main",fn:Nk,effect:kk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Al(n){return n.split("-")[1]}var Pk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dk(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:Il(t*s)/s||0,y:Il(r*s)/s||0}}function hE(n){var e,t=n.popper,r=n.popperRect,s=n.placement,a=n.variation,l=n.offsets,d=n.position,h=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,C=T===void 0?0:T,P=l.y,x=P===void 0?0:P,N=typeof g=="function"?g({x:C,y:x}):{x:C,y:x};C=N.x,x=N.y;var H=l.hasOwnProperty("x"),$=l.hasOwnProperty("y"),z=Xn,q=Yn,Z=window;if(p){var Q=Cc(t),S="clientHeight",A="clientWidth";if(Q===Ar(t)&&(Q=So(t),us(Q).position!=="static"&&d==="absolute"&&(S="scrollHeight",A="scrollWidth")),Q=Q,s===Yn||(s===Xn||s===Cr)&&a===Sl){q=Ir;var k=_&&Q===Z&&Z.visualViewport?Z.visualViewport.height:Q[S];x-=k-r.height,x*=h?1:-1}if(s===Xn||(s===Yn||s===Ir)&&a===Sl){z=Cr;var O=_&&Q===Z&&Z.visualViewport?Z.visualViewport.width:Q[A];C-=O-r.width,C*=h?1:-1}}var L=Object.assign({position:d},p&&Pk),V=g===!0?Dk({x:C,y:x},Ar(t)):{x:C,y:x};if(C=V.x,x=V.y,h){var D;return Object.assign({},L,(D={},D[q]=$?"0":"",D[z]=H?"0":"",D.transform=(Z.devicePixelRatio||1)<=1?"translate("+C+"px, "+x+"px)":"translate3d("+C+"px, "+x+"px, 0)",D))}return Object.assign({},L,(e={},e[q]=$?x+"px":"",e[z]=H?C+"px":"",e.transform="",e))}function Ok(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,d=t.roundOffsets,h=d===void 0?!0:d,p={placement:bi(e.placement),variation:Al(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hE(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hE(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const wh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ok,data:{}};var of={passive:!0};function xk(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,a=s===void 0?!0:s,l=r.resize,d=l===void 0?!0:l,h=Ar(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,of)}),d&&h.addEventListener("resize",t.update,of),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,of)}),d&&h.removeEventListener("resize",t.update,of)}}const Eh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xk,data:{}};var Lk={left:"right",right:"left",bottom:"top",top:"bottom"};function Cf(n){return n.replace(/left|right|bottom|top/g,function(e){return Lk[e]})}var Mk={start:"end",end:"start"};function pE(n){return n.replace(/start|end/g,function(e){return Mk[e]})}function vy(n){var e=Ar(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function _y(n){return Cl(So(n)).left+vy(n).scrollLeft}function Vk(n,e){var t=Ar(n),r=So(n),s=t.visualViewport,a=r.clientWidth,l=r.clientHeight,d=0,h=0;if(s){a=s.width,l=s.height;var p=jS();(p||!p&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:d+_y(n),y:h}}function $k(n){var e,t=So(n),r=vy(n),s=(e=n.ownerDocument)==null?void 0:e.body,a=sa(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=sa(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-r.scrollLeft+_y(n),h=-r.scrollTop;return us(s||t).direction==="rtl"&&(d+=sa(t.clientWidth,s?s.clientWidth:0)-a),{width:a,height:l,x:d,y:h}}function wy(n){var e=us(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function WS(n){return["html","body","#document"].indexOf(Di(n))>=0?n.ownerDocument.body:jr(n)&&wy(n)?n:WS(_h(n))}function tc(n,e){var t;e===void 0&&(e=[]);var r=WS(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),a=Ar(r),l=s?[a].concat(a.visualViewport||[],wy(r)?r:[]):r,d=e.concat(l);return s?d:d.concat(tc(_h(l)))}function gg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Uk(n,e){var t=Cl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function mE(n,e,t){return e===dy?gg(Vk(n,t)):la(e)?Uk(e,t):gg($k(So(n)))}function jk(n){var e=tc(_h(n)),t=["absolute","fixed"].indexOf(us(n).position)>=0,r=t&&jr(n)?Cc(n):n;return la(r)?e.filter(function(s){return la(s)&&FS(s,r)&&Di(s)!=="body"}):[]}function Fk(n,e,t,r){var s=e==="clippingParents"?jk(n):[].concat(e),a=[].concat(s,[t]),l=a[0],d=a.reduce(function(h,p){var g=mE(n,p,r);return h.top=sa(g.top,h.top),h.right=jf(g.right,h.right),h.bottom=jf(g.bottom,h.bottom),h.left=sa(g.left,h.left),h},mE(n,l,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function qS(n){var e=n.reference,t=n.element,r=n.placement,s=r?bi(r):null,a=r?Al(r):null,l=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,h;switch(s){case Yn:h={x:l,y:e.y-t.height};break;case Ir:h={x:l,y:e.y+e.height};break;case Cr:h={x:e.x+e.width,y:d};break;case Xn:h={x:e.x-t.width,y:d};break;default:h={x:e.x,y:e.y}}var p=s?gy(s):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case aa:h[p]=h[p]-(e[g]/2-t[g]/2);break;case Sl:h[p]=h[p]+(e[g]/2-t[g]/2);break}}return h}function Rl(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,d=t.boundary,h=d===void 0?bS:d,p=t.rootBoundary,g=p===void 0?dy:p,_=t.elementContext,T=_===void 0?cl:_,C=t.altBoundary,P=C===void 0?!1:C,x=t.padding,N=x===void 0?0:x,H=HS(typeof N!="number"?N:zS(N,Wl)),$=T===cl?NS:cl,z=n.rects.popper,q=n.elements[P?$:T],Z=Fk(la(q)?q:q.contextElement||So(n.elements.popper),h,g,l),Q=Cl(n.elements.reference),S=qS({reference:Q,element:z,placement:s}),A=gg(Object.assign({},z,S)),k=T===cl?A:Q,O={top:Z.top-k.top+H.top,bottom:k.bottom-Z.bottom+H.bottom,left:Z.left-k.left+H.left,right:k.right-Z.right+H.right},L=n.modifiersData.offset;if(T===cl&&L){var V=L[s];Object.keys(O).forEach(function(D){var we=[Cr,Ir].indexOf(D)>=0?1:-1,xe=[Yn,Ir].indexOf(D)>=0?"y":"x";O[D]+=V[xe]*we})}return O}function Bk(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,a=t.rootBoundary,l=t.padding,d=t.flipVariations,h=t.allowedAutoPlacements,p=h===void 0?fy:h,g=Al(r),_=g?d?pg:pg.filter(function(P){return Al(P)===g}):Wl,T=_.filter(function(P){return p.indexOf(P)>=0});T.length===0&&(T=_);var C=T.reduce(function(P,x){return P[x]=Rl(n,{placement:x,boundary:s,rootBoundary:a,padding:l})[bi(x)],P},{});return Object.keys(C).sort(function(P,x){return C[P]-C[x]})}function Hk(n){if(bi(n)===vh)return[];var e=Cf(n);return[pE(n),e,pE(e)]}function zk(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,a=s===void 0?!0:s,l=t.altAxis,d=l===void 0?!0:l,h=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,C=t.flipVariations,P=C===void 0?!0:C,x=t.allowedAutoPlacements,N=e.options.placement,H=bi(N),$=H===N,z=h||($||!P?[Cf(N)]:Hk(N)),q=[N].concat(z).reduce(function(ve,Te){return ve.concat(bi(Te)===vh?Bk(e,{placement:Te,boundary:g,rootBoundary:_,padding:p,flipVariations:P,allowedAutoPlacements:x}):Te)},[]),Z=e.rects.reference,Q=e.rects.popper,S=new Map,A=!0,k=q[0],O=0;O<q.length;O++){var L=q[O],V=bi(L),D=Al(L)===aa,we=[Yn,Ir].indexOf(V)>=0,xe=we?"width":"height",Fe=Rl(e,{placement:L,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),Ne=we?D?Cr:Xn:D?Ir:Yn;Z[xe]>Q[xe]&&(Ne=Cf(Ne));var ne=Cf(Ne),pe=[];if(a&&pe.push(Fe[V]<=0),d&&pe.push(Fe[Ne]<=0,Fe[ne]<=0),pe.every(function(ve){return ve})){k=L,A=!1;break}S.set(L,pe)}if(A)for(var ae=P?3:1,F=function(Te){var Ae=q.find(function(qe){var Ue=S.get(qe);if(Ue)return Ue.slice(0,Te).every(function(st){return st})});if(Ae)return k=Ae,"break"},ee=ae;ee>0;ee--){var he=F(ee);if(he==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const Ey={name:"flip",enabled:!0,phase:"main",fn:zk,requiresIfExists:["offset"],data:{_skip:!1}};function gE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function yE(n){return[Yn,Cr,Ir,Xn].some(function(e){return n[e]>=0})}function Wk(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,l=Rl(e,{elementContext:"reference"}),d=Rl(e,{altBoundary:!0}),h=gE(l,r),p=gE(d,s,a),g=yE(h),_=yE(p);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const Ty={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wk};function qk(n,e,t){var r=bi(n),s=[Xn,Yn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],d=a[1];return l=l||0,d=(d||0)*s,[Xn,Cr].indexOf(r)>=0?{x:d,y:l}:{x:l,y:d}}function Kk(n){var e=n.state,t=n.options,r=n.name,s=t.offset,a=s===void 0?[0,0]:s,l=fy.reduce(function(g,_){return g[_]=qk(_,e.rects,a),g},{}),d=l[e.placement],h=d.x,p=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Sy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kk};function Gk(n){var e=n.state,t=n.name;e.modifiersData[t]=qS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Th={name:"popperOffsets",enabled:!0,phase:"read",fn:Gk,data:{}};function Qk(n){return n==="x"?"y":"x"}function Yk(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,a=s===void 0?!0:s,l=t.altAxis,d=l===void 0?!1:l,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,C=T===void 0?!0:T,P=t.tetherOffset,x=P===void 0?0:P,N=Rl(e,{boundary:h,rootBoundary:p,padding:_,altBoundary:g}),H=bi(e.placement),$=Al(e.placement),z=!$,q=gy(H),Z=Qk(q),Q=e.modifiersData.popperOffsets,S=e.rects.reference,A=e.rects.popper,k=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,O=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Q){if(a){var D,we=q==="y"?Yn:Xn,xe=q==="y"?Ir:Cr,Fe=q==="y"?"height":"width",Ne=Q[q],ne=Ne+N[we],pe=Ne-N[xe],ae=C?-A[Fe]/2:0,F=$===aa?S[Fe]:A[Fe],ee=$===aa?-A[Fe]:-S[Fe],he=e.elements.arrow,ve=C&&he?my(he):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:BS(),Ae=Te[we],qe=Te[xe],Ue=ec(0,S[Fe],ve[Fe]),st=z?S[Fe]/2-ae-Ue-Ae-O.mainAxis:F-Ue-Ae-O.mainAxis,Et=z?-S[Fe]/2+ae+Ue+qe+O.mainAxis:ee+Ue+qe+O.mainAxis,It=e.elements.arrow&&Cc(e.elements.arrow),it=It?q==="y"?It.clientTop||0:It.clientLeft||0:0,kt=(D=L==null?void 0:L[q])!=null?D:0,qt=Ne+st-kt-it,rt=Ne+Et-kt,jt=ec(C?jf(ne,qt):ne,Ne,C?sa(pe,rt):pe);Q[q]=jt,V[q]=jt-Ne}if(d){var hn,Rr=q==="x"?Yn:Xn,Bn=q==="x"?Ir:Cr,Ft=Q[Z],Jt=Z==="y"?"height":"width",Jn=Ft+N[Rr],Pn=Ft-N[Bn],Dt=[Yn,Xn].indexOf(H)!==-1,on=(hn=L==null?void 0:L[Z])!=null?hn:0,$e=Dt?Jn:Ft-S[Jt]-A[Jt]-on+O.altAxis,mt=Dt?Ft+S[Jt]+A[Jt]-on-O.altAxis:Pn,Ot=C&&Dt?Rk($e,Ft,mt):ec(C?$e:Jn,Ft,C?mt:Pn);Q[Z]=Ot,V[Z]=Ot-Ft}e.modifiersData[r]=V}}const Iy={name:"preventOverflow",enabled:!0,phase:"main",fn:Yk,requiresIfExists:["offset"]};function Xk(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Jk(n){return n===Ar(n)||!jr(n)?vy(n):Xk(n)}function Zk(n){var e=n.getBoundingClientRect(),t=Il(e.width)/n.offsetWidth||1,r=Il(e.height)/n.offsetHeight||1;return t!==1||r!==1}function eP(n,e,t){t===void 0&&(t=!1);var r=jr(e),s=jr(e)&&Zk(e),a=So(e),l=Cl(n,s,t),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((Di(e)!=="body"||wy(a))&&(d=Jk(e)),jr(e)?(h=Cl(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=_y(a))),{x:l.left+d.scrollLeft-h.x,y:l.top+d.scrollTop-h.y,width:l.width,height:l.height}}function tP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function s(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(d){if(!t.has(d)){var h=e.get(d);h&&s(h)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||s(a)}),r}function nP(n){var e=tP(n);return US.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function rP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function iP(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var vE={placement:"bottom",modifiers:[],strategy:"absolute"};function _E(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ac(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,a=s===void 0?vE:s;return function(d,h,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},vE,a),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},_=[],T=!1,C={state:g,setOptions:function(H){var $=typeof H=="function"?H(g.options):H;x(),g.options=Object.assign({},a,g.options,$),g.scrollParents={reference:la(d)?tc(d):d.contextElement?tc(d.contextElement):[],popper:tc(h)};var z=nP(iP([].concat(r,g.options.modifiers)));return g.orderedModifiers=z.filter(function(q){return q.enabled}),P(),C.update()},forceUpdate:function(){if(!T){var H=g.elements,$=H.reference,z=H.popper;if(_E($,z)){g.rects={reference:eP($,Cc(z),g.options.strategy==="fixed"),popper:my(z)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(O){return g.modifiersData[O.name]=Object.assign({},O.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(g.reset===!0){g.reset=!1,q=-1;continue}var Z=g.orderedModifiers[q],Q=Z.fn,S=Z.options,A=S===void 0?{}:S,k=Z.name;typeof Q=="function"&&(g=Q({state:g,options:A,name:k,instance:C})||g)}}}},update:rP(function(){return new Promise(function(N){C.forceUpdate(),N(g)})}),destroy:function(){x(),T=!0}};if(!_E(d,h))return C;C.setOptions(p).then(function(N){!T&&p.onFirstUpdate&&p.onFirstUpdate(N)});function P(){g.orderedModifiers.forEach(function(N){var H=N.name,$=N.options,z=$===void 0?{}:$,q=N.effect;if(typeof q=="function"){var Z=q({state:g,name:H,instance:C,options:z}),Q=function(){};_.push(Z||Q)}})}function x(){_.forEach(function(N){return N()}),_=[]}return C}}var sP=Ac(),oP=[Eh,Th,wh,py],aP=Ac({defaultModifiers:oP}),lP=[Eh,Th,wh,py,Sy,Ey,Iy,yy,Ty],Cy=Ac({defaultModifiers:lP});const KS=Object.freeze(Object.defineProperty({__proto__:null,afterMain:LS,afterRead:DS,afterWrite:$S,applyStyles:py,arrow:yy,auto:vh,basePlacements:Wl,beforeMain:OS,beforeRead:kS,beforeWrite:MS,bottom:Ir,clippingParents:bS,computeStyles:wh,createPopper:Cy,createPopperBase:sP,createPopperLite:aP,detectOverflow:Rl,end:Sl,eventListeners:Eh,flip:Ey,hide:Ty,left:Xn,main:xS,modifierPhases:US,offset:Sy,placements:fy,popper:cl,popperGenerator:Ac,popperOffsets:Th,preventOverflow:Iy,read:PS,reference:NS,right:Cr,start:aa,top:Yn,variationPlacements:pg,viewport:dy,write:VS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ks=new Map,Rm={set(n,e,t){Ks.has(n)||Ks.set(n,new Map);const r=Ks.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Ks.has(n)&&Ks.get(n).get(e)||null},remove(n,e){if(!Ks.has(n))return;const t=Ks.get(n);t.delete(e),t.size===0&&Ks.delete(n)}},uP=1e6,cP=1e3,yg="transitionend",GS=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),dP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),fP=n=>{do n+=Math.floor(Math.random()*uP);while(document.getElementById(n));return n},hP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),s=Number.parseFloat(t);return!r&&!s?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*cP)},QS=n=>{n.dispatchEvent(new Event(yg))},is=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),ho=n=>is(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(GS(n)):null,ql=n=>{if(!is(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},po=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",YS=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?YS(n.parentNode):null},Ff=()=>{},Rc=n=>{n.offsetHeight},XS=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,bm=[],pP=n=>{document.readyState==="loading"?(bm.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of bm)e()}),bm.push(n)):n()},Br=()=>document.documentElement.dir==="rtl",zr=n=>{pP(()=>{const e=XS();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},hr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,JS=(n,e,t=!0)=>{if(!t){hr(n);return}const s=hP(e)+5;let a=!1;const l=({target:d})=>{d===e&&(a=!0,e.removeEventListener(yg,l),hr(n))};e.addEventListener(yg,l),setTimeout(()=>{a||QS(e)},s)},Ay=(n,e,t,r)=>{const s=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[s-1]:n[0]:(a+=t?1:-1,r&&(a=(a+s)%s),n[Math.max(0,Math.min(a,s-1))])},mP=/[^.]*(?=\..*)\.|.*/,gP=/\..*/,yP=/::\d+$/,Nm={};let wE=1;const ZS={mouseenter:"mouseover",mouseleave:"mouseout"},vP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function eI(n,e){return e&&`${e}::${wE++}`||n.uidEvent||wE++}function tI(n){const e=eI(n);return n.uidEvent=e,Nm[e]=Nm[e]||{},Nm[e]}function _P(n,e){return function t(r){return Ry(r,{delegateTarget:n}),t.oneOff&&ue.off(n,r.type,e),e.apply(n,[r])}}function wP(n,e,t){return function r(s){const a=n.querySelectorAll(e);for(let{target:l}=s;l&&l!==this;l=l.parentNode)for(const d of a)if(d===l)return Ry(s,{delegateTarget:l}),r.oneOff&&ue.off(n,s.type,e,t),t.apply(l,[s])}}function nI(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function rI(n,e,t){const r=typeof e=="string",s=r?t:e||t;let a=iI(n);return vP.has(a)||(a=n),[r,s,a]}function EE(n,e,t,r,s){if(typeof e!="string"||!n)return;let[a,l,d]=rI(e,t,r);e in ZS&&(l=(P=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return P.call(this,x)})(l));const h=tI(n),p=h[d]||(h[d]={}),g=nI(p,l,a?t:null);if(g){g.oneOff=g.oneOff&&s;return}const _=eI(l,e.replace(mP,"")),T=a?wP(n,t,l):_P(n,l);T.delegationSelector=a?t:null,T.callable=l,T.oneOff=s,T.uidEvent=_,p[_]=T,n.addEventListener(d,T,a)}function vg(n,e,t,r,s){const a=nI(e[t],r,s);a&&(n.removeEventListener(t,a,!!s),delete e[t][a.uidEvent])}function EP(n,e,t,r){const s=e[t]||{};for(const[a,l]of Object.entries(s))a.includes(r)&&vg(n,e,t,l.callable,l.delegationSelector)}function iI(n){return n=n.replace(gP,""),ZS[n]||n}const ue={on(n,e,t,r){EE(n,e,t,r,!1)},one(n,e,t,r){EE(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[s,a,l]=rI(e,t,r),d=l!==e,h=tI(n),p=h[l]||{},g=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;vg(n,h,l,a,s?t:null);return}if(g)for(const _ of Object.keys(h))EP(n,h,_,e.slice(1));for(const[_,T]of Object.entries(p)){const C=_.replace(yP,"");(!d||e.includes(C))&&vg(n,h,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=XS(),s=iI(e),a=e!==s;let l=null,d=!0,h=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),d=!l.isPropagationStopped(),h=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const g=Ry(new Event(e,{bubbles:d,cancelable:!0}),t);return p&&g.preventDefault(),h&&n.dispatchEvent(g),g.defaultPrevented&&l&&l.preventDefault(),g}};function Ry(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function TE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function km(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ss={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${km(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${km(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let s=r.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=TE(n.dataset[r])}return e},getDataAttribute(n,e){return TE(n.getAttribute(`data-bs-${km(e)}`))}};class bc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=is(t)?ss.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...is(t)?ss.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,s]of Object.entries(t)){const a=e[r],l=is(a)?"element":dP(a);if(!new RegExp(s).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${s}".`)}}}const TP="5.3.3";class ci extends bc{constructor(e,t){super(),e=ho(e),e&&(this._element=e,this._config=this._getConfig(t),Rm.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Rm.remove(this._element,this.constructor.DATA_KEY),ue.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){JS(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Rm.get(ho(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return TP}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Pm=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>GS(t)).join(","):null},He={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!po(t)&&ql(t))},getSelectorFromElement(n){const e=Pm(n);return e&&He.findOne(e)?e:null},getElementFromSelector(n){const e=Pm(n);return e?He.findOne(e):null},getMultipleElementsFromSelector(n){const e=Pm(n);return e?He.find(e):[]}},Sh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ue.on(document,t,`[data-bs-dismiss="${r}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),po(this))return;const a=He.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},SP="alert",IP="bs.alert",sI=`.${IP}`,CP=`close${sI}`,AP=`closed${sI}`,RP="fade",bP="show";let oI=class aI extends ci{static get NAME(){return SP}close(){if(ue.trigger(this._element,CP).defaultPrevented)return;this._element.classList.remove(bP);const t=this._element.classList.contains(RP);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ue.trigger(this._element,AP),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=aI.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Sh(oI,"close");zr(oI);const NP="button",kP="bs.button",PP=`.${kP}`,DP=".data-api",OP="active",SE='[data-bs-toggle="button"]',xP=`click${PP}${DP}`;let lI=class uI extends ci{static get NAME(){return NP}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(OP))}static jQueryInterface(e){return this.each(function(){const t=uI.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};ue.on(document,xP,SE,n=>{n.preventDefault();const e=n.target.closest(SE);lI.getOrCreateInstance(e).toggle()});zr(lI);const LP="swipe",Kl=".bs.swipe",MP=`touchstart${Kl}`,VP=`touchmove${Kl}`,$P=`touchend${Kl}`,UP=`pointerdown${Kl}`,jP=`pointerup${Kl}`,FP="touch",BP="pen",HP="pointer-event",zP=40,WP={endCallback:null,leftCallback:null,rightCallback:null},qP={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Bf extends bc{constructor(e,t){super(),this._element=e,!(!e||!Bf.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return WP}static get DefaultType(){return qP}static get NAME(){return LP}dispose(){ue.off(this._element,Kl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),hr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=zP)return;const t=e/this._deltaX;this._deltaX=0,t&&hr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ue.on(this._element,UP,e=>this._start(e)),ue.on(this._element,jP,e=>this._end(e)),this._element.classList.add(HP)):(ue.on(this._element,MP,e=>this._start(e)),ue.on(this._element,VP,e=>this._move(e)),ue.on(this._element,$P,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===BP||e.pointerType===FP)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const KP="carousel",GP="bs.carousel",Io=`.${GP}`,cI=".data-api",QP="ArrowLeft",YP="ArrowRight",XP=500,$u="next",il="prev",dl="left",Af="right",JP=`slide${Io}`,Dm=`slid${Io}`,ZP=`keydown${Io}`,eD=`mouseenter${Io}`,tD=`mouseleave${Io}`,nD=`dragstart${Io}`,rD=`load${Io}${cI}`,iD=`click${Io}${cI}`,dI="carousel",af="active",sD="slide",oD="carousel-item-end",aD="carousel-item-start",lD="carousel-item-next",uD="carousel-item-prev",fI=".active",hI=".carousel-item",cD=fI+hI,dD=".carousel-item img",fD=".carousel-indicators",hD="[data-bs-slide], [data-bs-slide-to]",pD='[data-bs-ride="carousel"]',mD={[QP]:Af,[YP]:dl},gD={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},yD={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let by=class pI extends ci{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=He.findOne(fD,this._element),this._addEventListeners(),this._config.ride===dI&&this.cycle()}static get Default(){return gD}static get DefaultType(){return yD}static get NAME(){return KP}next(){this._slide($u)}nextWhenVisible(){!document.hidden&&ql(this._element)&&this.next()}prev(){this._slide(il)}pause(){this._isSliding&&QS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ue.one(this._element,Dm,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ue.one(this._element,Dm,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const s=e>r?$u:il;this._slide(s,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ue.on(this._element,ZP,e=>this._keydown(e)),this._config.pause==="hover"&&(ue.on(this._element,eD,()=>this.pause()),ue.on(this._element,tD,()=>this._maybeEnableCycle())),this._config.touch&&Bf.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of He.find(dD,this._element))ue.on(r,nD,s=>s.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(dl)),rightCallback:()=>this._slide(this._directionToOrder(Af)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),XP+this._config.interval))}};this._swipeHelper=new Bf(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=mD[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=He.findOne(fI,this._indicatorsElement);t.classList.remove(af),t.removeAttribute("aria-current");const r=He.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(af),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),s=e===$u,a=t||Ay(this._getItems(),r,s,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),d=C=>ue.trigger(this._element,C,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(d(JP).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const g=s?aD:oD,_=s?lD:uD;a.classList.add(_),Rc(a),r.classList.add(g),a.classList.add(g);const T=()=>{a.classList.remove(g,_),a.classList.add(af),r.classList.remove(af,_,g),this._isSliding=!1,d(Dm)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(sD)}_getActive(){return He.findOne(cD,this._element)}_getItems(){return He.find(hI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Br()?e===dl?il:$u:e===dl?$u:il}_orderToDirection(e){return Br()?e===il?dl:Af:e===il?Af:dl}static jQueryInterface(e){return this.each(function(){const t=pI.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ue.on(document,iD,hD,function(n){const e=He.getElementFromSelector(this);if(!e||!e.classList.contains(dI))return;n.preventDefault();const t=by.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(ss.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ue.on(window,rD,()=>{const n=He.find(pD);for(const e of n)by.getOrCreateInstance(e)});zr(by);const vD="collapse",_D="bs.collapse",Nc=`.${_D}`,wD=".data-api",ED=`show${Nc}`,TD=`shown${Nc}`,SD=`hide${Nc}`,ID=`hidden${Nc}`,CD=`click${Nc}${wD}`,Om="show",yl="collapse",lf="collapsing",AD="collapsed",RD=`:scope .${yl} .${yl}`,bD="collapse-horizontal",ND="width",kD="height",PD=".collapse.show, .collapse.collapsing",_g='[data-bs-toggle="collapse"]',DD={parent:null,toggle:!0},OD={parent:"(null|element)",toggle:"boolean"};let mI=class wg extends ci{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=He.find(_g);for(const s of r){const a=He.getSelectorFromElement(s),l=He.find(a).filter(d=>d===this._element);a!==null&&l.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return DD}static get DefaultType(){return OD}static get NAME(){return vD}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(PD).filter(d=>d!==this._element).map(d=>wg.getOrCreateInstance(d,{toggle:!1}))),e.length&&e[0]._isTransitioning||ue.trigger(this._element,ED).defaultPrevented)return;for(const d of e)d.hide();const r=this._getDimension();this._element.classList.remove(yl),this._element.classList.add(lf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(lf),this._element.classList.add(yl,Om),this._element.style[r]="",ue.trigger(this._element,TD)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ue.trigger(this._element,SD).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Rc(this._element),this._element.classList.add(lf),this._element.classList.remove(yl,Om);for(const s of this._triggerArray){const a=He.getElementFromSelector(s);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(lf),this._element.classList.add(yl),ue.trigger(this._element,ID)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Om)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ho(e.parent),e}_getDimension(){return this._element.classList.contains(bD)?ND:kD}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(_g);for(const t of e){const r=He.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=He.find(RD,this._config.parent);return He.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(AD,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=wg.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};ue.on(document,CD,_g,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of He.getMultipleElementsFromSelector(this))mI.getOrCreateInstance(e,{toggle:!1}).toggle()});zr(mI);const IE="dropdown",xD="bs.dropdown",ga=`.${xD}`,Ny=".data-api",LD="Escape",CE="Tab",MD="ArrowUp",AE="ArrowDown",VD=2,$D=`hide${ga}`,UD=`hidden${ga}`,jD=`show${ga}`,FD=`shown${ga}`,gI=`click${ga}${Ny}`,yI=`keydown${ga}${Ny}`,BD=`keyup${ga}${Ny}`,fl="show",HD="dropup",zD="dropend",WD="dropstart",qD="dropup-center",KD="dropdown-center",Zo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',GD=`${Zo}.${fl}`,Rf=".dropdown-menu",QD=".navbar",YD=".navbar-nav",XD=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",JD=Br()?"top-end":"top-start",ZD=Br()?"top-start":"top-end",e1=Br()?"bottom-end":"bottom-start",t1=Br()?"bottom-start":"bottom-end",n1=Br()?"left-start":"right-start",r1=Br()?"right-start":"left-start",i1="top",s1="bottom",o1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},a1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let Gl=class bf extends ci{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=He.next(this._element,Rf)[0]||He.prev(this._element,Rf)[0]||He.findOne(Rf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return o1}static get DefaultType(){return a1}static get NAME(){return IE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(po(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ue.trigger(this._element,jD,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(YD))for(const r of[].concat(...document.body.children))ue.on(r,"mouseover",Ff);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fl),this._element.classList.add(fl),ue.trigger(this._element,FD,e)}}hide(){if(po(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ue.trigger(this._element,$D,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ue.off(r,"mouseover",Ff);this._popper&&this._popper.destroy(),this._menu.classList.remove(fl),this._element.classList.remove(fl),this._element.setAttribute("aria-expanded","false"),ss.removeDataAttribute(this._menu,"popper"),ue.trigger(this._element,UD,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!is(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${IE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof KS>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:is(this._config.reference)?e=ho(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Cy(e,this._menu,t)}_isShown(){return this._menu.classList.contains(fl)}_getPlacement(){const e=this._parent;if(e.classList.contains(zD))return n1;if(e.classList.contains(WD))return r1;if(e.classList.contains(qD))return i1;if(e.classList.contains(KD))return s1;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(HD)?t?ZD:JD:t?t1:e1}_detectNavbar(){return this._element.closest(QD)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ss.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...hr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=He.find(XD,this._menu).filter(s=>ql(s));r.length&&Ay(r,t,e===AE,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=bf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===VD||e.type==="keyup"&&e.key!==CE)return;const t=He.find(GD);for(const r of t){const s=bf.getInstance(r);if(!s||s._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(s._menu);if(a.includes(s._element)||s._config.autoClose==="inside"&&!l||s._config.autoClose==="outside"&&l||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===CE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const d={relatedTarget:s._element};e.type==="click"&&(d.clickEvent=e),s._completeHide(d)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===LD,s=[MD,AE].includes(e.key);if(!s&&!r||t&&!r)return;e.preventDefault();const a=this.matches(Zo)?this:He.prev(this,Zo)[0]||He.next(this,Zo)[0]||He.findOne(Zo,e.delegateTarget.parentNode),l=bf.getOrCreateInstance(a);if(s){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};ue.on(document,yI,Zo,Gl.dataApiKeydownHandler);ue.on(document,yI,Rf,Gl.dataApiKeydownHandler);ue.on(document,gI,Gl.clearMenus);ue.on(document,BD,Gl.clearMenus);ue.on(document,gI,Zo,function(n){n.preventDefault(),Gl.getOrCreateInstance(this).toggle()});zr(Gl);const vI="backdrop",l1="fade",RE="show",bE=`mousedown.bs.${vI}`,u1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},c1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _I extends bc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return u1}static get DefaultType(){return c1}static get NAME(){return vI}show(e){if(!this._config.isVisible){hr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Rc(t),t.classList.add(RE),this._emulateAnimation(()=>{hr(e)})}hide(e){if(!this._config.isVisible){hr(e);return}this._getElement().classList.remove(RE),this._emulateAnimation(()=>{this.dispose(),hr(e)})}dispose(){this._isAppended&&(ue.off(this._element,bE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(l1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ho(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ue.on(e,bE,()=>{hr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){JS(e,this._getElement(),this._config.isAnimated)}}const d1="focustrap",f1="bs.focustrap",Hf=`.${f1}`,h1=`focusin${Hf}`,p1=`keydown.tab${Hf}`,m1="Tab",g1="forward",NE="backward",y1={autofocus:!0,trapElement:null},v1={autofocus:"boolean",trapElement:"element"};class wI extends bc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return y1}static get DefaultType(){return v1}static get NAME(){return d1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ue.off(document,Hf),ue.on(document,h1,e=>this._handleFocusin(e)),ue.on(document,p1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ue.off(document,Hf))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=He.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===NE?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===m1&&(this._lastTabNavDirection=e.shiftKey?NE:g1)}}const kE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",PE=".sticky-top",uf="padding-right",DE="margin-right";class Eg{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,uf,t=>t+e),this._setElementAttributes(kE,uf,t=>t+e),this._setElementAttributes(PE,DE,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,uf),this._resetElementAttributes(kE,uf),this._resetElementAttributes(PE,DE)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const s=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+s)return;this._saveInitialAttribute(l,t);const d=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(d))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&ss.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=s=>{const a=ss.getDataAttribute(s,t);if(a===null){s.style.removeProperty(t);return}ss.removeDataAttribute(s,t),s.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(is(e)){t(e);return}for(const r of He.find(e,this._element))t(r)}}const _1="modal",w1="bs.modal",Hr=`.${w1}`,E1=".data-api",T1="Escape",S1=`hide${Hr}`,I1=`hidePrevented${Hr}`,EI=`hidden${Hr}`,TI=`show${Hr}`,C1=`shown${Hr}`,A1=`resize${Hr}`,R1=`click.dismiss${Hr}`,b1=`mousedown.dismiss${Hr}`,N1=`keydown.dismiss${Hr}`,k1=`click${Hr}${E1}`,OE="modal-open",P1="fade",xE="show",xm="modal-static",D1=".modal.show",O1=".modal-dialog",x1=".modal-body",L1='[data-bs-toggle="modal"]',M1={backdrop:!0,focus:!0,keyboard:!0},V1={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let zf=class SI extends ci{constructor(e,t){super(e,t),this._dialog=He.findOne(O1,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Eg,this._addEventListeners()}static get Default(){return M1}static get DefaultType(){return V1}static get NAME(){return _1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ue.trigger(this._element,TI,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(OE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ue.trigger(this._element,S1).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xE),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ue.off(window,Hr),ue.off(this._dialog,Hr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _I({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new wI({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=He.findOne(x1,this._dialog);t&&(t.scrollTop=0),Rc(this._element),this._element.classList.add(xE);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ue.trigger(this._element,C1,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ue.on(this._element,N1,e=>{if(e.key===T1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ue.on(window,A1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ue.on(this._element,b1,e=>{ue.one(this._element,R1,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(OE),this._resetAdjustments(),this._scrollBar.reset(),ue.trigger(this._element,EI)})}_isAnimated(){return this._element.classList.contains(P1)}_triggerBackdropTransition(){if(ue.trigger(this._element,I1).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(xm)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(xm),this._queueCallback(()=>{this._element.classList.remove(xm),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const s=Br()?"paddingLeft":"paddingRight";this._element.style[s]=`${t}px`}if(!r&&e){const s=Br()?"paddingRight":"paddingLeft";this._element.style[s]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=SI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};ue.on(document,k1,L1,function(n){const e=He.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ue.one(e,TI,s=>{s.defaultPrevented||ue.one(e,EI,()=>{ql(this)&&this.focus()})});const t=He.findOne(D1);t&&zf.getInstance(t).hide(),zf.getOrCreateInstance(e).toggle(this)});Sh(zf);zr(zf);const $1="offcanvas",U1="bs.offcanvas",ys=`.${U1}`,II=".data-api",j1=`load${ys}${II}`,F1="Escape",LE="show",ME="showing",VE="hiding",B1="offcanvas-backdrop",CI=".offcanvas.show",H1=`show${ys}`,z1=`shown${ys}`,W1=`hide${ys}`,$E=`hidePrevented${ys}`,AI=`hidden${ys}`,q1=`resize${ys}`,K1=`click${ys}${II}`,G1=`keydown.dismiss${ys}`,Q1='[data-bs-toggle="offcanvas"]',Y1={backdrop:!0,keyboard:!0,scroll:!1},X1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let bl=class RI extends ci{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Y1}static get DefaultType(){return X1}static get NAME(){return $1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ue.trigger(this._element,H1,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Eg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ME);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(LE),this._element.classList.remove(ME),ue.trigger(this._element,z1,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ue.trigger(this._element,W1).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(VE),this._backdrop.hide();const t=()=>{this._element.classList.remove(LE,VE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Eg().reset(),ue.trigger(this._element,AI)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ue.trigger(this._element,$E);return}this.hide()},t=!!this._config.backdrop;return new _I({className:B1,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new wI({trapElement:this._element})}_addEventListeners(){ue.on(this._element,G1,e=>{if(e.key===F1){if(this._config.keyboard){this.hide();return}ue.trigger(this._element,$E)}})}static jQueryInterface(e){return this.each(function(){const t=RI.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ue.on(document,K1,Q1,function(n){const e=He.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),po(this))return;ue.one(e,AI,()=>{ql(this)&&this.focus()});const t=He.findOne(CI);t&&t!==e&&bl.getInstance(t).hide(),bl.getOrCreateInstance(e).toggle(this)});ue.on(window,j1,()=>{for(const n of He.find(CI))bl.getOrCreateInstance(n).show()});ue.on(window,q1,()=>{for(const n of He.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&bl.getOrCreateInstance(n).hide()});Sh(bl);zr(bl);const J1=/^aria-[\w-]*$/i,bI={"*":["class","dir","id","lang","role",J1],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Z1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),eO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,tO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?Z1.has(t)?!!eO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function nO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const s=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...s.body.querySelectorAll("*"));for(const l of a){const d=l.nodeName.toLowerCase();if(!Object.keys(e).includes(d)){l.remove();continue}const h=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[d]||[]);for(const g of h)tO(g,p)||l.removeAttribute(g.nodeName)}return s.body.innerHTML}const rO="TemplateFactory",iO={allowList:bI,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},sO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},oO={entry:"(string|element|function|null)",selector:"(string|element)"};class aO extends bc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return iO}static get DefaultType(){return sO}static get NAME(){return rO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,a]of Object.entries(this._config.content))this._setContent(e,a,s);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},oO)}_setContent(e,t,r){const s=He.findOne(r,e);if(s){if(t=this._resolvePossibleFunction(t),!t){s.remove();return}if(is(t)){this._putElementInTemplate(ho(t),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(t);return}s.textContent=t}}_maybeSanitize(e){return this._config.sanitize?nO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return hr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const lO="tooltip",uO=new Set(["sanitize","allowList","sanitizeFn"]),Lm="fade",cO="modal",cf="show",dO=".tooltip-inner",UE=`.${cO}`,jE="hide.bs.modal",Uu="hover",Mm="focus",fO="click",hO="manual",pO="hide",mO="hidden",gO="show",yO="shown",vO="inserted",_O="click",wO="focusin",EO="focusout",TO="mouseenter",SO="mouseleave",IO={AUTO:"auto",TOP:"top",RIGHT:Br()?"left":"right",BOTTOM:"bottom",LEFT:Br()?"right":"left"},CO={allowList:bI,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},AO={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Ih=class NI extends ci{constructor(e,t){if(typeof KS>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return CO}static get DefaultType(){return AO}static get NAME(){return lO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ue.off(this._element.closest(UE),jE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ue.trigger(this._element,this.constructor.eventName(gO)),r=(YS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(s),ue.trigger(this._element,this.constructor.eventName(vO))),this._popper=this._createPopper(s),s.classList.add(cf),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))ue.on(d,"mouseover",Ff);const l=()=>{ue.trigger(this._element,this.constructor.eventName(yO)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ue.trigger(this._element,this.constructor.eventName(pO)).defaultPrevented)return;if(this._getTipElement().classList.remove(cf),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))ue.off(s,"mouseover",Ff);this._activeTrigger[fO]=!1,this._activeTrigger[Mm]=!1,this._activeTrigger[Uu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ue.trigger(this._element,this.constructor.eventName(mO)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Lm,cf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=fP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Lm),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new aO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[dO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Lm)}_isShown(){return this.tip&&this.tip.classList.contains(cf)}_createPopper(e){const t=hr(this._config.placement,[this,e,this._element]),r=IO[t.toUpperCase()];return Cy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return hr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...hr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ue.on(this._element,this.constructor.eventName(_O),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==hO){const r=t===Uu?this.constructor.eventName(TO):this.constructor.eventName(wO),s=t===Uu?this.constructor.eventName(SO):this.constructor.eventName(EO);ue.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?Mm:Uu]=!0,l._enter()}),ue.on(this._element,s,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?Mm:Uu]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ue.on(this._element.closest(UE),jE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ss.getDataAttributes(this._element);for(const r of Object.keys(t))uO.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ho(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=NI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};zr(Ih);const RO="popover",bO=".popover-header",NO=".popover-body",kO={...Ih.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},PO={...Ih.DefaultType,content:"(null|string|element|function)"};let DO=class kI extends Ih{static get Default(){return kO}static get DefaultType(){return PO}static get NAME(){return RO}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[bO]:this._getTitle(),[NO]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=kI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};zr(DO);const OO="scrollspy",xO="bs.scrollspy",ky=`.${xO}`,LO=".data-api",MO=`activate${ky}`,FE=`click${ky}`,VO=`load${ky}${LO}`,$O="dropdown-item",sl="active",UO='[data-bs-spy="scroll"]',Vm="[href]",jO=".nav, .list-group",BE=".nav-link",FO=".nav-item",BO=".list-group-item",HO=`${BE}, ${FO} > ${BE}, ${BO}`,zO=".dropdown",WO=".dropdown-toggle",qO={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},KO={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ch extends ci{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return qO}static get DefaultType(){return KO}static get NAME(){return OO}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ho(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ue.off(this._config.target,FE),ue.on(this._config.target,FE,Vm,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,s=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:s,behavior:"smooth"});return}r.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},s=(this._rootElement||document.documentElement).scrollTop,a=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const d=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&d){if(r(l),!s)return;continue}!a&&!d&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=He.find(Vm,this._config.target);for(const t of e){if(!t.hash||po(t))continue;const r=He.findOne(decodeURI(t.hash),this._element);ql(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(sl),this._activateParents(e),ue.trigger(this._element,MO,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains($O)){He.findOne(WO,e.closest(zO)).classList.add(sl);return}for(const t of He.parents(e,jO))for(const r of He.prev(t,HO))r.classList.add(sl)}_clearActiveClass(e){e.classList.remove(sl);const t=He.find(`${Vm}.${sl}`,e);for(const r of t)r.classList.remove(sl)}static jQueryInterface(e){return this.each(function(){const t=Ch.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ue.on(window,VO,()=>{for(const n of He.find(UO))Ch.getOrCreateInstance(n)});zr(Ch);const GO="tab",QO="bs.tab",ya=`.${QO}`,YO=`hide${ya}`,XO=`hidden${ya}`,JO=`show${ya}`,ZO=`shown${ya}`,ex=`click${ya}`,tx=`keydown${ya}`,nx=`load${ya}`,rx="ArrowLeft",HE="ArrowRight",ix="ArrowUp",zE="ArrowDown",$m="Home",WE="End",ea="active",qE="fade",Um="show",sx="dropdown",PI=".dropdown-toggle",ox=".dropdown-menu",jm=`:not(${PI})`,ax='.list-group, .nav, [role="tablist"]',lx=".nav-item, .list-group-item",ux=`.nav-link${jm}, .list-group-item${jm}, [role="tab"]${jm}`,DI='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Fm=`${ux}, ${DI}`,cx=`.${ea}[data-bs-toggle="tab"], .${ea}[data-bs-toggle="pill"], .${ea}[data-bs-toggle="list"]`;class Nl extends ci{constructor(e){super(e),this._parent=this._element.closest(ax),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ue.on(this._element,tx,t=>this._keydown(t)))}static get NAME(){return GO}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ue.trigger(t,YO,{relatedTarget:e}):null;ue.trigger(e,JO,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ea),this._activate(He.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Um);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ue.trigger(e,ZO,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(qE))}_deactivate(e,t){if(!e)return;e.classList.remove(ea),e.blur(),this._deactivate(He.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Um);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ue.trigger(e,XO,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(qE))}_keydown(e){if(![rx,HE,ix,zE,$m,WE].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(s=>!po(s));let r;if([$m,WE].includes(e.key))r=t[e.key===$m?0:t.length-1];else{const s=[HE,zE].includes(e.key);r=Ay(t,e.target,s,!0)}r&&(r.focus({preventScroll:!0}),Nl.getOrCreateInstance(r).show())}_getChildren(){return He.find(Fm,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=He.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(sx))return;const s=(a,l)=>{const d=He.findOne(a,r);d&&d.classList.toggle(l,t)};s(PI,ea),s(ox,Um),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ea)}_getInnerElement(e){return e.matches(Fm)?e:He.findOne(Fm,e)}_getOuterElement(e){return e.closest(lx)||e}static jQueryInterface(e){return this.each(function(){const t=Nl.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ue.on(document,ex,DI,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!po(this)&&Nl.getOrCreateInstance(this).show()});ue.on(window,nx,()=>{for(const n of He.find(cx))Nl.getOrCreateInstance(n)});zr(Nl);const dx="toast",fx="bs.toast",Co=`.${fx}`,hx=`mouseover${Co}`,px=`mouseout${Co}`,mx=`focusin${Co}`,gx=`focusout${Co}`,yx=`hide${Co}`,vx=`hidden${Co}`,_x=`show${Co}`,wx=`shown${Co}`,Ex="fade",KE="hide",df="show",ff="showing",Tx={animation:"boolean",autohide:"boolean",delay:"number"},Sx={animation:!0,autohide:!0,delay:5e3};class Ah extends ci{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Sx}static get DefaultType(){return Tx}static get NAME(){return dx}show(){if(ue.trigger(this._element,_x).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Ex);const t=()=>{this._element.classList.remove(ff),ue.trigger(this._element,wx),this._maybeScheduleHide()};this._element.classList.remove(KE),Rc(this._element),this._element.classList.add(df,ff),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ue.trigger(this._element,yx).defaultPrevented)return;const t=()=>{this._element.classList.add(KE),this._element.classList.remove(ff,df),ue.trigger(this._element,vx)};this._element.classList.add(ff),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(df),super.dispose()}isShown(){return this._element.classList.contains(df)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ue.on(this._element,hx,e=>this._onInteraction(e,!0)),ue.on(this._element,px,e=>this._onInteraction(e,!1)),ue.on(this._element,mx,e=>this._onInteraction(e,!0)),ue.on(this._element,gx,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Ah.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Sh(Ah);zr(Ah);var Bm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var GE;function Ix(){return GE||(GE=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var d=arguments[l];d&&(a=s(a,r(d)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var d in a)e.call(a,d)&&a[d]&&(l=s(l,d));return l}function s(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Bm)),Bm.exports}var Cx=Ix();const ye=Ic(Cx);function Tg(){return Tg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tg.apply(null,arguments)}function OI(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function QE(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function Ax(n){var e=Rx(n,"string");return typeof e=="symbol"?e:String(e)}function Rx(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function xI(n,e,t){var r=w.useRef(n!==void 0),s=w.useState(e),a=s[0],l=s[1],d=n!==void 0,h=r.current;return r.current=d,!d&&h&&a!==e&&l(e),[d?n:a,w.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function Ql(n,e){return Object.keys(e).reduce(function(t,r){var s,a=t,l=a[QE(r)],d=a[r],h=OI(a,[QE(r),r].map(Ax)),p=e[r],g=xI(d,l,n[p]),_=g[0],T=g[1];return Tg({},h,(s={},s[r]=_,s[p]=T,s))},n)}function Sg(n,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Sg(n,e)}function bx(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Sg(n,e)}var Hm={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function Nx(){if(YE)return ju;YE=1;var n=cy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var g,_={},T=null,C=null;p!==void 0&&(T=""+p),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(C=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(_[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:d,key:T,ref:C,props:_,_owner:s.current}}return ju.Fragment=t,ju.jsx=l,ju.jsxs=l,ju}var XE;function kx(){return XE||(XE=1,Hm.exports=Nx()),Hm.exports}var Py=kx();const R=Py.jsx,ge=Py.jsxs,sn=Py.Fragment,Px=["xxl","xl","lg","md","sm","xs"],Dx="xs",kc=w.createContext({prefixes:{},breakpoints:Px,minBreakpoint:Dx}),{Consumer:T3,Provider:S3}=kc;function Se(n,e){const{prefixes:t}=w.useContext(kc);return n||t[e]||e}function LI(){const{breakpoints:n}=w.useContext(kc);return n}function MI(){const{minBreakpoint:n}=w.useContext(kc);return n}function Pc(){const{dir:n}=w.useContext(kc);return n==="rtl"}function Yl(n){return n&&n.ownerDocument||document}function Ox(n){var e=Yl(n);return e&&e.defaultView||window}function xx(n,e){return Ox(n).getComputedStyle(n,e)}var Lx=/([A-Z])/g;function Mx(n){return n.replace(Lx,"-$1").toLowerCase()}var Vx=/^ms-/;function hf(n){return Mx(n).replace(Vx,"-ms-")}var $x=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ux(n){return!!(n&&$x.test(n))}function os(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(hf(e))||xx(n).getPropertyValue(hf(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?n.style.removeProperty(hf(s)):Ux(s)?r+=s+"("+a+") ":t+=hf(s)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var zm={exports:{}},Wm,JE;function jx(){if(JE)return Wm;JE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wm=n,Wm}var qm,ZE;function Fx(){if(ZE)return qm;ZE=1;var n=jx();function e(){}function t(){}return t.resetWarningCache=e,qm=function(){function r(l,d,h,p,g,_){if(_!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},qm}var e0;function Bx(){return e0||(e0=1,zm.exports=Fx()()),zm.exports}var Hx=Bx();const Gn=Ic(Hx);var VI=RS();const to=Ic(VI),zx=AS({__proto__:null,default:to},[VI]),t0={disabled:!1},$I=Nn.createContext(null);var Wx=function(e){return e.scrollTop},Ku="unmounted",Ys="exited",si="entering",Ji="entered",lc="exiting",vs=function(n){bx(e,n);function e(r,s){var a;a=n.call(this,r,s)||this;var l=s,d=l&&!l.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?d?(h=Ys,a.appearStatus=si):h=Ji:r.unmountOnExit||r.mountOnEnter?h=Ku:h=Ys,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===Ku?{status:Ys}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==si&&l!==Ji&&(a=si):(l===si||l===Ji)&&(a=lc)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,a,l,d;return a=l=d=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,d=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:d}},t.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===si){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this);l&&Wx(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ys&&this.setState({status:Ku})},t.performEnter=function(s){var a=this,l=this.props.enter,d=this.context?this.context.isMounting:s,h=this.props.nodeRef?[d]:[to.findDOMNode(this),d],p=h[0],g=h[1],_=this.getTimeouts(),T=d?_.appear:_.enter;if(!s&&!l||t0.disabled){this.safeSetState({status:Ji},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:si},function(){a.props.onEntering(p,g),a.onTransitionEnd(T,function(){a.safeSetState({status:Ji},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),d=this.props.nodeRef?void 0:to.findDOMNode(this);if(!a||t0.disabled){this.safeSetState({status:Ys},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:lc},function(){s.props.onExiting(d),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:Ys},function(){s.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},t.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(d){l&&(l=!1,a.nextCallback=null,s(d))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!l||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=h[0],g=h[1];this.props.addEndListener(p,g)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===Ku)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var d=OI(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Nn.createElement($I.Provider,{value:null},typeof l=="function"?l(s,d):Nn.cloneElement(Nn.Children.only(l),d))},e}(Nn.Component);vs.contextType=$I;vs.propTypes={};function ol(){}vs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ol,onEntering:ol,onEntered:ol,onExit:ol,onExiting:ol,onExited:ol};vs.UNMOUNTED=Ku;vs.EXITED=Ys;vs.ENTERING=si;vs.ENTERED=Ji;vs.EXITING=lc;function UI(n){return n.code==="Escape"||n.keyCode===27}function qx(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function va(n){if(!n||typeof n=="function")return null;const{major:e}=qx();return e>=19?n.props.ref:n.ref}const Xl=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ig=!1,Cg=!1;try{var Km={get passive(){return Ig=!0},get once(){return Cg=Ig=!0}};Xl&&(window.addEventListener("test",Km,Km),window.removeEventListener("test",Km,!0))}catch{}function Dy(n,e,t,r){if(r&&typeof r!="boolean"&&!Cg){var s=r.once,a=r.capture,l=t;!Cg&&s&&(l=t.__once||function d(h){this.removeEventListener(e,d,a),t.call(this,h)},t.__once=l),n.addEventListener(e,l,Ig?r:a)}n.addEventListener(e,t,r)}function Ag(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function es(n,e,t,r){return Dy(n,e,t,r),function(){Ag(n,e,t,r)}}function Kx(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function Gx(n){var e=os(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Qx(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||Kx(n,"transitionend",!0)},e+t),a=es(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function jI(n,e,t,r){t==null&&(t=Gx(n)||0);var s=Qx(n,t,r),a=es(n,"transitionend",e);return function(){s(),a()}}function n0(n,e){const t=os(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Rh(n,e){const t=n0(n,"transitionDuration"),r=n0(n,"transitionDelay"),s=jI(n,a=>{a.target===n&&(s(),e(a))},t+r)}function Fu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function Oy(n){n.offsetHeight}const r0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function Yx(n,e){const t=r0(n),r=r0(e);return s=>{t&&t(s),r&&r(s)}}function Jl(n,e){return w.useMemo(()=>Yx(n,e),[n,e])}function Wf(n){return n&&"setState"in n?to.findDOMNode(n):n??null}const bh=Nn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:a,addEndListener:l,children:d,childRef:h,...p},g)=>{const _=w.useRef(null),T=Jl(_,h),C=Q=>{T(Wf(Q))},P=Q=>S=>{Q&&_.current&&Q(_.current,S)},x=w.useCallback(P(n),[n]),N=w.useCallback(P(e),[e]),H=w.useCallback(P(t),[t]),$=w.useCallback(P(r),[r]),z=w.useCallback(P(s),[s]),q=w.useCallback(P(a),[a]),Z=w.useCallback(P(l),[l]);return R(vs,{ref:g,...p,onEnter:x,onEntered:H,onEntering:N,onExit:$,onExited:q,onExiting:z,addEndListener:Z,nodeRef:_,children:typeof d=="function"?(Q,S)=>d(Q,{...S,ref:C}):Nn.cloneElement(d,{ref:C})})}),Xx={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Jx(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],s=Xx[n];return r+parseInt(os(e,s[0]),10)+parseInt(os(e,s[1]),10)}const Zx={[Ys]:"collapse",[lc]:"collapsing",[si]:"collapsing",[Ji]:"collapse show"},FI=Nn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,className:a,children:l,dimension:d="height",in:h=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:T=!1,getDimensionValue:C=Jx,...P},x)=>{const N=typeof d=="function"?d():d,H=w.useMemo(()=>Fu(Q=>{Q.style[N]="0"},n),[N,n]),$=w.useMemo(()=>Fu(Q=>{const S=`scroll${N[0].toUpperCase()}${N.slice(1)}`;Q.style[N]=`${Q[S]}px`},e),[N,e]),z=w.useMemo(()=>Fu(Q=>{Q.style[N]=null},t),[N,t]),q=w.useMemo(()=>Fu(Q=>{Q.style[N]=`${C(N,Q)}px`,Oy(Q)},r),[r,C,N]),Z=w.useMemo(()=>Fu(Q=>{Q.style[N]=null},s),[N,s]);return R(bh,{ref:x,addEndListener:Rh,...P,"aria-expanded":P.role?h:null,onEnter:H,onEntering:$,onEntered:z,onExit:q,onExiting:Z,childRef:va(l),in:h,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:T,children:(Q,S)=>Nn.cloneElement(l,{...S,className:ye(a,l.props.className,Zx[Q],N==="width"&&"collapse-horizontal")})})});function BI(n,e){return Array.isArray(n)?n.includes(e):n===e}const Dc=w.createContext({});Dc.displayName="AccordionContext";const xy=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:s,...a},l)=>{const{activeEventKey:d}=w.useContext(Dc);return e=Se(e,"accordion-collapse"),R(FI,{ref:l,in:BI(d,s),...a,className:ye(t,e),children:R(n,{children:w.Children.only(r)})})});xy.displayName="AccordionCollapse";const Nh=w.createContext({eventKey:""});Nh.displayName="AccordionItemContext";const HI=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:s,onEntered:a,onExit:l,onExiting:d,onExited:h,...p},g)=>{e=Se(e,"accordion-body");const{eventKey:_}=w.useContext(Nh);return R(xy,{eventKey:_,onEnter:r,onEntering:s,onEntered:a,onExit:l,onExiting:d,onExited:h,children:R(n,{ref:g,...p,className:ye(t,e)})})});HI.displayName="AccordionBody";function eL(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:s}=w.useContext(Dc);return a=>{let l=n===t?null:n;s&&(Array.isArray(t)?t.includes(n)?l=t.filter(d=>d!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const Ly=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...s},a)=>{e=Se(e,"accordion-button");const{eventKey:l}=w.useContext(Nh),d=eL(l,r),{activeEventKey:h}=w.useContext(Dc);return n==="button"&&(s.type="button"),R(n,{ref:a,onClick:d,...s,"aria-expanded":Array.isArray(h)?h.includes(l):l===h,className:ye(t,e,!BI(h,l)&&"collapsed")})});Ly.displayName="AccordionButton";const zI=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:s,onClick:a,...l},d)=>(t=Se(t,"accordion-header"),R(n,{ref:d,...l,className:ye(r,t),children:R(Ly,{onClick:a,"aria-controls":e,children:s})})));zI.displayName="AccordionHeader";const WI=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...s},a)=>{e=Se(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return R(Nh.Provider,{value:l,children:R(n,{ref:a,...s,className:ye(t,e)})})});WI.displayName="AccordionItem";const qI=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:s,className:a,onSelect:l,flush:d,alwaysOpen:h,...p}=Ql(n,{activeKey:"onSelect"}),g=Se(s,"accordion"),_=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:h}),[r,l,h]);return R(Dc.Provider,{value:_,children:R(t,{ref:e,...p,className:ye(a,g,d&&`${g}-flush`)})})});qI.displayName="Accordion";const no=Object.assign(qI,{Button:Ly,Collapse:xy,Item:WI,Header:zI,Body:HI});function KI(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function ui(n){const e=KI(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Oc=n=>w.forwardRef((e,t)=>R("div",{...e,ref:t,className:ye(e.className,n)})),GI=Oc("h4");GI.displayName="DivStyledAsH4";const QI=w.forwardRef(({className:n,bsPrefix:e,as:t=GI,...r},s)=>(e=Se(e,"alert-heading"),R(t,{ref:s,className:ye(n,e),...r})));QI.displayName="AlertHeading";function Rg(){return w.useState(null)}function tL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Rn(n){const e=tL(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function nL(n,e,t,r=!1){const s=Rn(t);w.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,s,r),()=>a.removeEventListener(e,s,r)},[n])}function YI(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function XI(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const rL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",iL=typeof document<"u",i0=iL||rL?w.useLayoutEffect:w.useEffect,sL=["as","disabled"];function oL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function aL(n){return!n||n.trim()==="#"}function My({tagName:n,disabled:e,href:t,target:r,rel:s,role:a,onClick:l,tabIndex:d=0,type:h}){n||(t!=null||r!=null||s!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&aL(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:g,onKeyDown:_},p]}const Vy=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=oL(n,sL);const[a,{tagName:l}]=My(Object.assign({tagName:t,disabled:r},s));return R(l,Object.assign({},s,a,{ref:e}))});Vy.displayName="Button";const lL=["onKeyDown"];function uL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function cL(n){return!n||n.trim()==="#"}const kl=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=uL(n,lL);const[s]=My(Object.assign({tagName:"a"},r)),a=Rn(l=>{s.onKeyDown(l),t==null||t(l)});return cL(r.href)||r.role==="button"?R("a",Object.assign({ref:e},r,s,{onKeyDown:a})):R("a",Object.assign({ref:e},r,{onKeyDown:t}))});kl.displayName="Anchor";const JI=w.forwardRef(({className:n,bsPrefix:e,as:t=kl,...r},s)=>(e=Se(e,"alert-link"),R(t,{ref:s,className:ye(n,e),...r})));JI.displayName="AlertLink";const dL={[si]:"show",[Ji]:"show"},mo=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=w.useCallback((h,p)=>{Oy(h),r==null||r(h,p)},[r]);return R(bh,{ref:a,addEndListener:Rh,...l,onEnter:d,childRef:va(e),children:(h,p)=>w.cloneElement(e,{...p,className:ye("fade",n,e.props.className,dL[h],t[h])})})});mo.displayName="Fade";const fL={"aria-label":Gn.string,onClick:Gn.func,variant:Gn.oneOf(["white"])},xc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>R("button",{ref:s,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));xc.displayName="CloseButton";xc.propTypes=fL;const ZI=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:s="Close alert",closeVariant:a,className:l,children:d,variant:h="primary",onClose:p,dismissible:g,transition:_=mo,...T}=Ql(n,{show:"onClose"}),C=Se(t,"alert"),P=ui(H=>{p&&p(!1,H)}),x=_===!0?mo:_,N=ge("div",{role:"alert",...x?void 0:T,ref:e,className:ye(l,C,h&&`${C}-${h}`,g&&`${C}-dismissible`),children:[g&&R(xc,{onClick:P,"aria-label":s,variant:a}),d]});return x?R(x,{unmountOnExit:!0,...T,ref:void 0,in:r,children:N}):r?N:null});ZI.displayName="Alert";const uc=Object.assign(ZI,{Link:JI,Heading:QI}),Qn=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:a=!1,className:l,...d},h)=>{const p=Se(e,"btn"),[g,{tagName:_}]=My({tagName:n,disabled:a,...d});return R(_,{...g,...d,ref:h,disabled:a,className:ye(l,p,s&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,d.href&&a&&"disabled")})});Qn.displayName="Button";const $y=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-body"),R(t,{ref:s,className:ye(n,e),...r})));$y.displayName="CardBody";const eC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-footer"),R(t,{ref:s,className:ye(n,e),...r})));eC.displayName="CardFooter";const Uy=w.createContext(null);Uy.displayName="CardHeaderContext";const tC=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Se(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return R(Uy.Provider,{value:l,children:R(t,{ref:s,...r,className:ye(e,a)})})});tC.displayName="CardHeader";const nC=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...s},a)=>{const l=Se(n,"card-img");return R(r,{ref:a,className:ye(t?`${l}-${t}`:l,e),...s})});nC.displayName="CardImg";const rC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-img-overlay"),R(t,{ref:s,className:ye(n,e),...r})));rC.displayName="CardImgOverlay";const iC=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},s)=>(e=Se(e,"card-link"),R(t,{ref:s,className:ye(n,e),...r})));iC.displayName="CardLink";const hL=Oc("h6"),sC=w.forwardRef(({className:n,bsPrefix:e,as:t=hL,...r},s)=>(e=Se(e,"card-subtitle"),R(t,{ref:s,className:ye(n,e),...r})));sC.displayName="CardSubtitle";const oC=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},s)=>(e=Se(e,"card-text"),R(t,{ref:s,className:ye(n,e),...r})));oC.displayName="CardText";const pL=Oc("h5"),aC=w.forwardRef(({className:n,bsPrefix:e,as:t=pL,...r},s)=>(e=Se(e,"card-title"),R(t,{ref:s,className:ye(n,e),...r})));aC.displayName="CardTitle";const lC=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:s,body:a=!1,children:l,as:d="div",...h},p)=>{const g=Se(n,"card");return R(d,{ref:p,...h,className:ye(e,g,t&&`bg-${t}`,r&&`text-${r}`,s&&`border-${s}`),children:a?R($y,{children:l}):l})});lC.displayName="Card";const Xs=Object.assign(lC,{Img:nC,Title:aC,Subtitle:sC,Body:$y,Link:iC,Text:oC,Header:tC,Footer:eC,ImgOverlay:rC});function mL(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function gL(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function yL(n){const e=w.useRef(n);return e.current=n,e}function uC(n){const e=yL(n);w.useEffect(()=>()=>e.current(),[])}const bg=2**31-1;function cC(n,e,t){const r=t-Date.now();n.current=r<=bg?setTimeout(e,r):setTimeout(()=>cC(n,e,t),bg)}function dC(){const n=gL(),e=w.useRef();return uC(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(s,a=0){n()&&(t(),a<=bg?e.current=setTimeout(s,a):cC(e,s,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const fC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"carousel-caption"),R(t,{ref:s,className:ye(n,e),...r})));fC.displayName="CarouselCaption";const hC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},s)=>{const a=ye(t,Se(e,"carousel-item"));return R(n,{ref:s,...r,className:a})});hC.displayName="CarouselItem";function s0(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function vL(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function _L(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const wL=40;function EL(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const pC=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:s,slide:a=!0,fade:l=!1,controls:d=!0,indicators:h=!0,indicatorLabels:p=[],activeIndex:g,onSelect:_,onSlide:T,onSlid:C,interval:P=5e3,keyboard:x=!0,onKeyDown:N,pause:H="hover",onMouseOver:$,onMouseOut:z,wrap:q=!0,touch:Z=!0,onTouchStart:Q,onTouchMove:S,onTouchEnd:A,prevIcon:k=R("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:O="Previous",nextIcon:L=R("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:D,className:we,children:xe,...Fe}=Ql({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Ne=Se(s,"carousel"),ne=Pc(),pe=w.useRef(null),[ae,F]=w.useState("next"),[ee,he]=w.useState(!1),[ve,Te]=w.useState(!1),[Ae,qe]=w.useState(g||0);w.useEffect(()=>{!ve&&g!==Ae&&(pe.current?F(pe.current):F((g||0)>Ae?"next":"prev"),a&&Te(!0),qe(g||0))},[g,ve,Ae,a]),w.useEffect(()=>{pe.current&&(pe.current=null)});let Ue=0,st;vL(xe,(Be,ot)=>{++Ue,ot===g&&(st=Be.props.interval)});const Et=KI(st),It=w.useCallback(Be=>{if(ve)return;let ot=Ae-1;if(ot<0){if(!q)return;ot=Ue-1}pe.current="prev",_==null||_(ot,Be)},[ve,Ae,_,q,Ue]),it=ui(Be=>{if(ve)return;let ot=Ae+1;if(ot>=Ue){if(!q)return;ot=0}pe.current="next",_==null||_(ot,Be)}),kt=w.useRef();w.useImperativeHandle(t,()=>({element:kt.current,prev:It,next:it}));const qt=ui(()=>{!document.hidden&&EL(kt.current)&&(ne?It():it())}),rt=ae==="next"?"start":"end";mL(()=>{a||(T==null||T(Ae,rt),C==null||C(Ae,rt))},[Ae]);const jt=`${Ne}-item-${ae}`,hn=`${Ne}-item-${rt}`,Rr=w.useCallback(Be=>{Oy(Be),T==null||T(Ae,rt)},[T,Ae,rt]),Bn=w.useCallback(()=>{Te(!1),C==null||C(Ae,rt)},[C,Ae,rt]),Ft=w.useCallback(Be=>{if(x&&!/input|textarea/i.test(Be.target.tagName))switch(Be.key){case"ArrowLeft":Be.preventDefault(),ne?it(Be):It(Be);return;case"ArrowRight":Be.preventDefault(),ne?It(Be):it(Be);return}N==null||N(Be)},[x,N,It,it,ne]),Jt=w.useCallback(Be=>{H==="hover"&&he(!0),$==null||$(Be)},[H,$]),Jn=w.useCallback(Be=>{he(!1),z==null||z(Be)},[z]),Pn=w.useRef(0),Dt=w.useRef(0),on=dC(),$e=w.useCallback(Be=>{Pn.current=Be.touches[0].clientX,Dt.current=0,H==="hover"&&he(!0),Q==null||Q(Be)},[H,Q]),mt=w.useCallback(Be=>{Be.touches&&Be.touches.length>1?Dt.current=0:Dt.current=Be.touches[0].clientX-Pn.current,S==null||S(Be)},[S]),Ot=w.useCallback(Be=>{if(Z){const ot=Dt.current;Math.abs(ot)>wL&&(ot>0?It(Be):it(Be))}H==="hover"&&on.set(()=>{he(!1)},P||void 0),A==null||A(Be)},[Z,H,It,it,on,P,A]),pn=P!=null&&!ee&&!ve,Hn=w.useRef();w.useEffect(()=>{var Be,ot;if(!pn)return;const mn=ne?It:it;return Hn.current=window.setInterval(document.visibilityState?qt:mn,(Be=(ot=Et.current)!=null?ot:P)!=null?Be:void 0),()=>{Hn.current!==null&&clearInterval(Hn.current)}},[pn,It,it,Et,P,qt,ne]);const zn=w.useMemo(()=>h&&Array.from({length:Ue},(Be,ot)=>mn=>{_==null||_(ot,mn)}),[h,Ue,_]);return ge(r,{ref:kt,...Fe,onKeyDown:Ft,onMouseOver:Jt,onMouseOut:Jn,onTouchStart:$e,onTouchMove:mt,onTouchEnd:Ot,className:ye(we,Ne,a&&"slide",l&&`${Ne}-fade`,D&&`${Ne}-${D}`),children:[h&&R("div",{className:`${Ne}-indicators`,children:s0(xe,(Be,ot)=>R("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[ot]:`Slide ${ot+1}`,className:ot===Ae?"active":void 0,onClick:zn?zn[ot]:void 0,"aria-current":ot===Ae},ot))}),R("div",{className:`${Ne}-inner`,children:s0(xe,(Be,ot)=>{const mn=ot===Ae;return a?R(bh,{in:mn,onEnter:mn?Rr:void 0,onEntered:mn?Bn:void 0,addEndListener:Rh,children:(Zn,di)=>w.cloneElement(Be,{...di,className:ye(Be.props.className,mn&&Zn!=="entered"&&jt,(Zn==="entered"||Zn==="exiting")&&"active",(Zn==="entering"||Zn==="exiting")&&hn)})}):w.cloneElement(Be,{className:ye(Be.props.className,mn&&"active")})})}),d&&ge(sn,{children:[(q||g!==0)&&ge(kl,{className:`${Ne}-control-prev`,onClick:It,children:[k,O&&R("span",{className:"visually-hidden",children:O})]}),(q||g!==Ue-1)&&ge(kl,{className:`${Ne}-control-next`,onClick:it,children:[L,V&&R("span",{className:"visually-hidden",children:V})]})]})]})});pC.displayName="Carousel";const o0=Object.assign(pC,{Caption:fC,Item:hC});function TL({as:n,bsPrefix:e,className:t,...r}){e=Se(e,"col");const s=LI(),a=MI(),l=[],d=[];return s.forEach(h=>{const p=r[h];delete r[h];let g,_,T;typeof p=="object"&&p!=null?{span:g,offset:_,order:T}=p:g=p;const C=h!==a?`-${h}`:"";g&&l.push(g===!0?`${e}${C}`:`${e}${C}-${g}`),T!=null&&d.push(`order${C}-${T}`),_!=null&&d.push(`offset${C}-${_}`)}),[{...r,className:ye(t,...l,...d)},{as:n,bsPrefix:e,spans:l}]}const Pl=w.forwardRef((n,e)=>{const[{className:t,...r},{as:s="div",bsPrefix:a,spans:l}]=TL(n);return R(s,{...r,ref:e,className:ye(t,!l.length&&a)})});Pl.displayName="Col";const Zl=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...s},a)=>{const l=Se(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return R(t,{ref:a,...s,className:ye(r,e?`${l}${d}`:l)})});Zl.displayName="Container";var SL=Function.prototype.bind.call(Function.prototype.call,[].slice);function Xi(n,e){return SL(n.querySelectorAll(e))}function IL(n,e,t){const r=w.useRef(n!==void 0),[s,a]=w.useState(e),l=n!==void 0,d=r.current;return r.current=l,!l&&d&&s!==e&&a(e),[l?n:s,w.useCallback((...h)=>{const[p,...g]=h;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function mC(){const[,n]=w.useReducer(e=>e+1,0);return n}const kh=w.createContext(null);var a0=Object.prototype.hasOwnProperty;function l0(n,e,t){for(t of n.keys())if(nc(t,e))return t}function nc(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&nc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=l0(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=l0(e,s),!s)||!nc(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(a0.call(n,t)&&++r&&!a0.call(e,t)||!(t in e)||!nc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function CL(n){const e=YI();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const AL=Ac({defaultModifiers:[Ty,Th,wh,Eh,Sy,Ey,Iy,yy]}),RL=["enabled","placement","strategy","modifiers"];function bL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const NL={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},kL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,s=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&s==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},PL=[];function gC(n,e,t={}){let{enabled:r=!0,placement:s="bottom",strategy:a="absolute",modifiers:l=PL}=t,d=bL(t,RL);const h=w.useRef(l),p=w.useRef(),g=w.useCallback(()=>{var N;(N=p.current)==null||N.update()},[]),_=w.useCallback(()=>{var N;(N=p.current)==null||N.forceUpdate()},[]),[T,C]=CL(w.useState({placement:s,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),P=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:N})=>{const H={},$={};Object.keys(N.elements).forEach(z=>{H[z]=N.styles[z],$[z]=N.attributes[z]}),C({state:N,styles:H,attributes:$,update:g,forceUpdate:_,placement:N.placement})}}),[g,_,C]),x=w.useMemo(()=>(nc(h.current,l)||(h.current=l),h.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:s,strategy:a,modifiers:[...x,P,NL]})},[a,s,P,r,x]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=AL(n,e,Object.assign({},d,{placement:s,strategy:a,modifiers:[...x,kL,P]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,C(N=>Object.assign({},N,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function cc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Gm,u0;function DL(){if(u0)return Gm;u0=1;var n=function(){};return Gm=n,Gm}var OL=DL();const xL=Ic(OL),c0=()=>{};function LL(n){return n.button===0}function ML(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Nf=n=>n&&("current"in n?n.current:n),d0={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function yC(n,e=c0,{disabled:t,clickTrigger:r="click"}={}){const s=w.useRef(!1),a=w.useRef(!1),l=w.useCallback(p=>{const g=Nf(n);xL(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!g||ML(p)||!LL(p)||!!cc(g,p.target)||a.current,a.current=!1},[n]),d=Rn(p=>{const g=Nf(n);g&&cc(g,p.target)?a.current=!0:a.current=!1}),h=Rn(p=>{s.current||e(p)});w.useEffect(()=>{var p,g;if(t||n==null)return;const _=Yl(Nf(n)),T=_.defaultView||window;let C=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,P=null;d0[r]&&(P=es(_,d0[r],d,!0));const x=es(_,r,l,!0),N=es(_,r,$=>{if($===C){C=void 0;return}h($)});let H=[];return"ontouchstart"in _.documentElement&&(H=[].slice.call(_.body.children).map($=>es($,"mousemove",c0))),()=>{P==null||P(),x(),N(),H.forEach($=>$())}},[n,t,r,l,d,h])}function VL(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function $L(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function vC({enabled:n,enableEvents:e,placement:t,flip:r,offset:s,fixed:a,containerPadding:l,arrowElement:d,popperConfig:h={}}){var p,g,_,T,C;const P=VL(h.modifiers);return Object.assign({},h,{placement:t,enabled:n,strategy:a?"fixed":h.strategy,modifiers:$L(Object.assign({},P,{eventListeners:{enabled:e,options:(p=P.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},P.preventOverflow,{options:l?Object.assign({padding:l},(g=P.preventOverflow)==null?void 0:g.options):(_=P.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:s},(T=P.offset)==null?void 0:T.options)},arrow:Object.assign({},P.arrow,{enabled:!!d,options:Object.assign({},(C=P.arrow)==null?void 0:C.options,{element:d})}),flip:Object.assign({enabled:!!r},P.flip)}))})}const UL=["children","usePopper"];function jL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const FL=()=>{};function _C(n={}){const e=w.useContext(kh),[t,r]=Rg(),s=w.useRef(!1),{flip:a,offset:l,rootCloseEvent:d,fixed:h=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,C=(e==null?void 0:e.show)==null?!!n.show:e.show;C&&!s.current&&(s.current=!0);const P=Q=>{e==null||e.toggle(!1,Q)},{placement:x,setMenu:N,menuElement:H,toggleElement:$}=e||{},z=gC($,H,vC({placement:p||x||"bottom-start",enabled:T,enableEvents:_??C,offset:l,flip:a,fixed:h,arrowElement:t,popperConfig:g})),q=Object.assign({ref:N||FL,"aria-labelledby":$==null?void 0:$.id},z.attributes.popper,{style:z.styles.popper}),Z={show:C,placement:x,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:T?z:null,arrowProps:T?Object.assign({ref:r},z.attributes.arrow,{style:z.styles.arrow}):{}};return yC(H,P,{clickTrigger:d,disabled:!C}),[q,Z]}function wC(n){let{children:e,usePopper:t=!0}=n,r=jL(n,UL);const[s,a]=_C(Object.assign({},r,{usePopper:t}));return R(sn,{children:e(s,a)})}wC.displayName="DropdownMenu";const jy={prefix:String(Math.round(Math.random()*1e10)),current:0},EC=Nn.createContext(jy),BL=Nn.createContext(!1);let HL=!!(typeof window<"u"&&window.document&&window.document.createElement),Qm=new WeakMap;function zL(n=!1){let e=w.useContext(EC),t=w.useRef(null);if(t.current===null&&!n){var r,s;let a=(s=Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=Qm.get(a);l==null?Qm.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,Qm.delete(a))}t.current=++e.current}return t.current}function WL(n){let e=w.useContext(EC);e===jy&&!HL&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=zL(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function qL(n){let e=Nn.useId(),[t]=w.useState(XL()),r=t?"react-aria":`react-aria${jy.prefix}`;return n||`${r}-${e}`}const KL=typeof Nn.useId=="function"?qL:WL;function GL(){return!1}function QL(){return!0}function YL(n){return()=>{}}function XL(){return typeof Nn.useSyncExternalStore=="function"?Nn.useSyncExternalStore(YL,GL,QL):w.useContext(BL)}const TC=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},f0=()=>{};function SC(){const n=KL(),{show:e=!1,toggle:t=f0,setToggle:r,menuElement:s}=w.useContext(kh)||{},a=w.useCallback(d=>{t(!e,d)},[e,t]),l={id:n,ref:r||f0,onClick:a,"aria-expanded":!!e};return s&&TC(s)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function IC({children:n}){const[e,t]=SC();return R(sn,{children:n(e,t)})}IC.displayName="DropdownToggle";const ua=w.createContext(null),dc=(n,e=null)=>n!=null?String(n):e||null,Ph=w.createContext(null);Ph.displayName="NavContext";const JL="data-rr-ui-",ZL="rrUi";function eu(n){return`${JL}${n}`}function eM(n){return`${ZL}${n}`}const tM=["eventKey","disabled","onClick","active","as"];function nM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function CC({key:n,href:e,active:t,disabled:r,onClick:s}){const a=w.useContext(ua),l=w.useContext(Ph),{activeKey:d}=l||{},h=dc(n,e),p=t==null&&n!=null?dc(d)===h:t;return[{onClick:Rn(_=>{r||(s==null||s(_),a&&!_.isPropagationStopped()&&a(h,_))}),"aria-disabled":r||void 0,"aria-selected":p,[eu("dropdown-item")]:""},{isActive:p}]}const AC=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:s,active:a,as:l=Vy}=n,d=nM(n,tM);const[h]=CC({key:t,href:d.href,disabled:r,onClick:s,active:a});return R(l,Object.assign({},d,{ref:e},h))});AC.displayName="DropdownItem";const RC=w.createContext(Xl?window:void 0);RC.Provider;function Dh(){return w.useContext(RC)}function h0(){const n=mC(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Lc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:s=`* [${eu("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:d}){const h=Dh(),[p,g]=IL(e,n,r),[_,T]=h0(),C=_.current,[P,x]=h0(),N=P.current,H=XI(p),$=w.useRef(null),z=w.useRef(!1),q=w.useContext(ua),Z=w.useCallback((L,V,D=V==null?void 0:V.type)=>{g(L,{originalEvent:V,source:D})},[g]),Q=Rn((L,V)=>{t==null||t(L,V),Z(!1,V,"select"),V.isPropagationStopped()||q==null||q(L,V)}),S=w.useMemo(()=>({toggle:Z,placement:l,show:p,menuElement:C,toggleElement:N,setMenu:T,setToggle:x}),[Z,l,p,C,N,T,x]);C&&H&&!p&&(z.current=C.contains(C.ownerDocument.activeElement));const A=Rn(()=>{N&&N.focus&&N.focus()}),k=Rn(()=>{const L=$.current;let V=a;if(V==null&&(V=_.current&&TC(_.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(L))return;const D=Xi(_.current,s)[0];D&&D.focus&&D.focus()});w.useEffect(()=>{p?k():z.current&&(z.current=!1,A())},[p,z,A,k]),w.useEffect(()=>{$.current=null});const O=(L,V)=>{if(!_.current)return null;const D=Xi(_.current,s);let we=D.indexOf(L)+V;return we=Math.max(0,Math.min(we,D.length)),D[we]};return nL(w.useCallback(()=>h.document,[h]),"keydown",L=>{var V,D;const{key:we}=L,xe=L.target,Fe=(V=_.current)==null?void 0:V.contains(xe),Ne=(D=P.current)==null?void 0:D.contains(xe);if(/input|textarea/i.test(xe.tagName)&&(we===" "||we!=="Escape"&&Fe||we==="Escape"&&xe.type==="search")||!Fe&&!Ne||we==="Tab"&&(!_.current||!p))return;$.current=L.type;const pe={originalEvent:L,source:L.type};switch(we){case"ArrowUp":{const ae=O(xe,-1);ae&&ae.focus&&ae.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!p)g(!0,pe);else{const ae=O(xe,1);ae&&ae.focus&&ae.focus()}return;case"Tab":Dy(xe.ownerDocument,"keyup",ae=>{var F;(ae.key==="Tab"&&!ae.target||!((F=_.current)!=null&&F.contains(ae.target)))&&g(!1,pe)},{once:!0});break;case"Escape":we==="Escape"&&(L.preventDefault(),L.stopPropagation()),g(!1,pe);break}}),R(ua.Provider,{value:Q,children:R(kh.Provider,{value:S,children:d})})}Lc.displayName="Dropdown";Lc.Menu=wC;Lc.Toggle=IC;Lc.Item=AC;const Fy=w.createContext({});Fy.displayName="DropdownContext";const bC=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...s},a)=>(e=Se(e,"dropdown-divider"),R(t,{ref:a,className:ye(n,e),role:r,...s})));bC.displayName="DropdownDivider";const NC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...s},a)=>(e=Se(e,"dropdown-header"),R(t,{ref:a,className:ye(n,e),role:r,...s})));NC.displayName="DropdownHeader";const kC=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:s,active:a,as:l=kl,...d},h)=>{const p=Se(n,"dropdown-item"),[g,_]=CC({key:t,href:d.href,disabled:r,onClick:s,active:a});return R(l,{...d,...g,ref:h,className:ye(e,p,_.isActive&&"active",r&&"disabled")})});kC.displayName="DropdownItem";const PC=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Se(e,"dropdown-item-text"),R(t,{ref:s,className:ye(n,e),...r})));PC.displayName="DropdownItemText";const rM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",iM=typeof document<"u",By=iM||rM?w.useLayoutEffect:w.useEffect,Hy=w.createContext(null);Hy.displayName="InputGroupContext";const _a=w.createContext(null);_a.displayName="NavbarContext";function DC(n,e){return n}function OC(n,e,t){const r=t?"top-end":"top-start",s=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",d=t?"right-start":"left-start",h=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?s:r:e==="end"?_=n?g:p:e==="start"?_=n?h:d:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const xC=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:s=!0,show:a,renderOnMount:l,as:d="div",popperConfig:h,variant:p,...g},_)=>{let T=!1;const C=w.useContext(_a),P=Se(n,"dropdown-menu"),{align:x,drop:N,isRTL:H}=w.useContext(Fy);t=t||x;const $=w.useContext(Hy),z=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const V=L[0],D=t[V];T=D==="start",z.push(`${P}-${V}-${D}`)}}else t==="end"&&(T=!0);const q=OC(T,N,H),[Z,{hasShown:Q,popper:S,show:A,toggle:k}]=_C({flip:s,rootCloseEvent:r,show:a,usePopper:!C&&z.length===0,offset:[0,2],popperConfig:h,placement:q});if(Z.ref=Jl(DC(_),Z.ref),By(()=>{A&&(S==null||S.update())},[A]),!Q&&!l&&!$)return null;typeof d!="string"&&(Z.show=A,Z.close=()=>k==null?void 0:k(!1),Z.align=t);let O=g.style;return S!=null&&S.placement&&(O={...g.style,...Z.style},g["x-placement"]=S.placement),R(d,{...g,...Z,style:O,...(z.length||C)&&{"data-bs-popper":"static"},className:ye(e,P,A&&"show",T&&`${P}-end`,p&&`${P}-${p}`,...z)})});xC.displayName="DropdownMenu";const LC=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:s=Qn,...a},l)=>{const d=Se(n,"dropdown-toggle"),h=w.useContext(kh);r!==void 0&&(a.bsPrefix=r);const[p]=SC();return p.ref=Jl(p.ref,DC(l)),R(s,{className:ye(t,d,e&&`${d}-split`,(h==null?void 0:h.show)&&"show"),...p,...a})});LC.displayName="DropdownToggle";const MC=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:s,className:a,align:l="start",onSelect:d,onToggle:h,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...C}=Ql(n,{show:"onToggle"}),P=w.useContext(Hy),x=Se(t,"dropdown"),N=Pc(),H=S=>T===!1?S==="click":T==="inside"?S!=="rootClose":T==="outside"?S!=="select":!0,$=ui((S,A)=>{var k;!((k=A.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),H(A.source)&&(h==null||h(S,A)))}),q=OC(l==="end",r,N),Z=w.useMemo(()=>({align:l,drop:r,isRTL:N}),[l,r,N]),Q={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return R(Fy.Provider,{value:Z,children:R(Lc,{placement:q,show:s,onSelect:d,onToggle:$,focusFirstItemOnShow:p,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:P?C.children:R(g,{...C,ref:e,className:ye(a,s&&"show",Q[r])})})})});MC.displayName="Dropdown";const ta=Object.assign(MC,{Toggle:LC,Menu:xC,Item:kC,ItemText:PC,Divider:bC,Header:NC});Gn.string,Gn.bool,Gn.bool,Gn.bool,Gn.bool;const Ng=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:s=!1,thumbnail:a=!1,...l},d)=>(n=Se(n,"img"),R("img",{ref:d,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",s&&"rounded-circle",a&&`${n}-thumbnail`)})));Ng.displayName="Image";const sM={type:Gn.string,tooltip:Gn.bool,as:Gn.elementType},Oh=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...s},a)=>R(n,{...s,ref:a,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));Oh.displayName="Feedback";Oh.propTypes=sM;const cs=w.createContext({}),zy=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:s=!1,isInvalid:a=!1,as:l="input",...d},h)=>{const{controlId:p}=w.useContext(cs);return e=Se(e,"form-check-input"),R(l,{...d,ref:h,type:r,id:n||p,className:ye(t,e,s&&"is-valid",a&&"is-invalid")})});zy.displayName="FormCheckInput";const qf=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},s)=>{const{controlId:a}=w.useContext(cs);return n=Se(n,"form-check-label"),R("label",{...r,ref:s,htmlFor:t||a,className:ye(e,n)})});qf.displayName="FormCheckLabel";const VC=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:s=!1,disabled:a=!1,isValid:l=!1,isInvalid:d=!1,feedbackTooltip:h=!1,feedback:p,feedbackType:g,className:_,style:T,title:C="",type:P="checkbox",label:x,children:N,as:H="input",...$},z)=>{e=Se(e,"form-check"),t=Se(t,"form-switch");const{controlId:q}=w.useContext(cs),Z=w.useMemo(()=>({controlId:n||q}),[q,n]),Q=!N&&x!=null&&x!==!1||_L(N,qf),S=R(zy,{...$,type:P==="switch"?"checkbox":P,ref:z,isValid:l,isInvalid:d,disabled:a,as:H});return R(cs.Provider,{value:Z,children:R("div",{style:T,className:ye(_,Q&&e,r&&`${e}-inline`,s&&`${e}-reverse`,P==="switch"&&t),children:N||ge(sn,{children:[S,Q&&R(qf,{title:C,children:x}),p&&R(Oh,{type:g,tooltip:h,children:p})]})})})});VC.displayName="FormCheck";const Kf=Object.assign(VC,{Input:zy,Label:qf}),$C=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:s,className:a,isValid:l=!1,isInvalid:d=!1,plaintext:h,readOnly:p,as:g="input",..._},T)=>{const{controlId:C}=w.useContext(cs);return n=Se(n,"form-control"),R(g,{..._,type:e,size:r,ref:T,readOnly:p,id:s||C,className:ye(a,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",d&&"is-invalid")})});$C.displayName="FormControl";const oM=Object.assign($C,{Feedback:Oh}),UC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"form-floating"),R(t,{ref:s,className:ye(n,e),...r})));UC.displayName="FormFloating";const Wy=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const s=w.useMemo(()=>({controlId:n}),[n]);return R(cs.Provider,{value:s,children:R(e,{...t,ref:r})})});Wy.displayName="FormGroup";const jC=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:s,htmlFor:a,...l},d)=>{const{controlId:h}=w.useContext(cs);e=Se(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=ye(s,e,r&&"visually-hidden",t&&p);return a=a||h,t?R(Pl,{ref:d,as:"label",className:g,htmlFor:a,...l}):R(n,{ref:d,className:g,htmlFor:a,...l})});jC.displayName="FormLabel";const FC=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},s)=>{const{controlId:a}=w.useContext(cs);return n=Se(n,"form-range"),R("input",{...r,type:"range",ref:s,className:ye(e,n),id:t||a})});FC.displayName="FormRange";const BC=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:s=!1,isInvalid:a=!1,id:l,...d},h)=>{const{controlId:p}=w.useContext(cs);return n=Se(n,"form-select"),R("select",{...d,size:t,ref:h,className:ye(r,n,e&&`${n}-${e}`,s&&"is-valid",a&&"is-invalid"),id:l||p})});BC.displayName="FormSelect";const HC=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...s},a)=>(n=Se(n,"form-text"),R(t,{...s,ref:a,className:ye(e,n,r&&"text-muted")})));HC.displayName="FormText";const zC=w.forwardRef((n,e)=>R(Kf,{...n,ref:e,type:"switch"}));zC.displayName="Switch";const aM=Object.assign(zC,{Input:Kf.Input,Label:Kf.Label}),qy=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:s,...a},l)=>(n=Se(n,"form-floating"),ge(Wy,{ref:l,className:ye(e,n),controlId:r,...a,children:[t,R("label",{htmlFor:r,children:s})]})));qy.displayName="FloatingLabel";const lM={_ref:Gn.any,validated:Gn.bool,as:Gn.elementType},Ky=w.forwardRef(({className:n,validated:e,as:t="form",...r},s)=>R(t,{...r,ref:s,className:ye(n,e&&"was-validated")}));Ky.displayName="Form";Ky.propTypes=lM;const dr=Object.assign(Ky,{Group:Wy,Control:oM,Floating:UC,Check:Kf,Switch:aM,Label:jC,Text:HC,Range:FC,Select:BC,FloatingLabel:qy}),p0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function uM(n,e){const t=p0(n),r=p0(e);return s=>{t&&t(s),r&&r(s)}}function Mc(n,e){return w.useMemo(()=>uM(n,e),[n,e])}const WC=w.createContext(null),cM=["as","active","eventKey"];function dM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function qC({key:n,onClick:e,active:t,id:r,role:s,disabled:a}){const l=w.useContext(ua),d=w.useContext(Ph),h=w.useContext(WC);let p=t;const g={role:s};if(d){!s&&d.role==="tablist"&&(g.role="tab");const _=d.getControllerId(n??null),T=d.getControlledId(n??null);g[eu("event-key")]=n,g.id=_||r,p=t==null&&n!=null?d.activeKey===n:t,(p||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(g["aria-controls"]=T)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=Rn(_=>{a||(e==null||e(_),n!=null&&l&&!_.isPropagationStopped()&&l(n,_))}),[g,{isActive:p}]}const KC=w.forwardRef((n,e)=>{let{as:t=Vy,active:r,eventKey:s}=n,a=dM(n,cM);const[l,d]=qC(Object.assign({key:dc(s,a.href),active:r},a));return l[eu("active")]=d.isActive,R(t,Object.assign({},a,l,{ref:e}))});KC.displayName="NavItem";const fM=["as","onSelect","activeKey","role","onKeyDown"];function hM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const m0=()=>{},g0=eu("event-key"),GC=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:s,role:a,onKeyDown:l}=n,d=hM(n,fM);const h=mC(),p=w.useRef(!1),g=w.useContext(ua),_=w.useContext(WC);let T,C;_&&(a=a||"tablist",s=_.activeKey,T=_.getControlledId,C=_.getControllerId);const P=w.useRef(null),x=z=>{const q=P.current;if(!q)return null;const Z=Xi(q,`[${g0}]:not([aria-disabled=true])`),Q=q.querySelector("[aria-selected=true]");if(!Q||Q!==document.activeElement)return null;const S=Z.indexOf(Q);if(S===-1)return null;let A=S+z;return A>=Z.length&&(A=0),A<0&&(A=Z.length-1),Z[A]},N=(z,q)=>{z!=null&&(r==null||r(z,q),g==null||g(z,q))},H=z=>{if(l==null||l(z),!_)return;let q;switch(z.key){case"ArrowLeft":case"ArrowUp":q=x(-1);break;case"ArrowRight":case"ArrowDown":q=x(1);break;default:return}q&&(z.preventDefault(),N(q.dataset[eM("EventKey")]||null,z),p.current=!0,h())};w.useEffect(()=>{if(P.current&&p.current){const z=P.current.querySelector(`[${g0}][aria-selected=true]`);z==null||z.focus()}p.current=!1});const $=Mc(e,P);return R(ua.Provider,{value:N,children:R(Ph.Provider,{value:{role:a,activeKey:dc(s),getControlledId:T||m0,getControllerId:C||m0},children:R(t,Object.assign({},d,{onKeyDown:H,ref:$,role:a}))})})});GC.displayName="Nav";const pM=Object.assign(GC,{Item:KC});var pf;function y0(n){if((!pf&&pf!==0||n)&&Xl){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),pf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return pf}function mM(){return w.useState(null)}function Ym(n){n===void 0&&(n=Yl());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function gM(n){const e=w.useRef(n);return e.current=n,e}function yM(n){const e=gM(n);w.useEffect(()=>()=>e.current(),[])}function vM(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const v0=eu("modal-open");class Gy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return vM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(os(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(v0,""),os(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(v0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Xm=(n,e)=>Xl?n==null?(e||Yl()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function kg(n,e){const t=Dh(),[r,s]=w.useState(()=>Xm(n,t==null?void 0:t.document));if(!r){const a=Xm(n);a&&s(a)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const a=Xm(n);a!==r&&s(a)},[n,r]),r}function _M({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:s}){const a=w.useRef(null),l=w.useRef(e),d=Rn(t);w.useEffect(()=>{e?l.current=!0:d(a.current)},[e,d]);const h=Mc(a,va(n)),p=w.cloneElement(n,{ref:h});return e?p:s||!l.current&&r?null:p}const wM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function EM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function TM(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:a,onExited:l,addEndListener:d,children:h}=n,p=EM(n,wM);const g=w.useRef(null),_=Mc(g,va(h)),T=q=>Z=>{q&&g.current&&q(g.current,Z)},C=w.useCallback(T(e),[e]),P=w.useCallback(T(t),[t]),x=w.useCallback(T(r),[r]),N=w.useCallback(T(s),[s]),H=w.useCallback(T(a),[a]),$=w.useCallback(T(l),[l]),z=w.useCallback(T(d),[d]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:C},t&&{onEntering:P},r&&{onEntered:x},s&&{onExit:N},a&&{onExiting:H},l&&{onExited:$},d&&{addEndListener:z},{children:typeof h=="function"?(q,Z)=>h(q,Object.assign({},Z,{ref:_})):w.cloneElement(h,{ref:_})})}const SM=["component"];function IM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const CM=w.forwardRef((n,e)=>{let{component:t}=n,r=IM(n,SM);const s=TM(r);return R(t,Object.assign({ref:e},s))});function AM({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),s=Rn(e);return i0(()=>{if(!t.current)return;let a=!1;return s({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,s]),i0(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function RM({children:n,in:e,onExited:t,onEntered:r,transition:s}){const[a,l]=w.useState(!e);e&&a&&l(!1);const d=AM({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(s(p)).then(g,_=>{throw p.in||l(!0),_})}}),h=Mc(d,va(n));return a&&!e?null:w.cloneElement(n,{ref:h})}function Pg(n,e,t){return n?R(CM,Object.assign({},t,{component:n})):e?R(RM,Object.assign({},t,{transition:e})):R(_M,Object.assign({},t))}const bM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function NM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let Jm;function kM(n){return Jm||(Jm=new Gy({ownerDocument:n==null?void 0:n.document})),Jm}function PM(n){const e=Dh(),t=n||kM(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:w.useCallback(s=>{r.current.backdrop=s},[])})}const QC=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:s,style:a,children:l,backdrop:d=!0,keyboard:h=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:T,backdropTransition:C,runBackdropTransition:P,autoFocus:x=!0,enforceFocus:N=!0,restoreFocus:H=!0,restoreFocusOptions:$,renderDialog:z,renderBackdrop:q=rt=>R("div",Object.assign({},rt)),manager:Z,container:Q,onShow:S,onHide:A=()=>{},onExit:k,onExited:O,onExiting:L,onEnter:V,onEntering:D,onEntered:we}=n,xe=NM(n,bM);const Fe=Dh(),Ne=kg(Q),ne=PM(Z),pe=YI(),ae=XI(t),[F,ee]=w.useState(!t),he=w.useRef(null);w.useImperativeHandle(e,()=>ne,[ne]),Xl&&!ae&&t&&(he.current=Ym(Fe==null?void 0:Fe.document)),t&&F&&ee(!1);const ve=Rn(()=>{if(ne.add(),Et.current=es(document,"keydown",Ue),st.current=es(document,"focus",()=>setTimeout(Ae),!0),S&&S(),x){var rt,jt;const hn=Ym((rt=(jt=ne.dialog)==null?void 0:jt.ownerDocument)!=null?rt:Fe==null?void 0:Fe.document);ne.dialog&&hn&&!cc(ne.dialog,hn)&&(he.current=hn,ne.dialog.focus())}}),Te=Rn(()=>{if(ne.remove(),Et.current==null||Et.current(),st.current==null||st.current(),H){var rt;(rt=he.current)==null||rt.focus==null||rt.focus($),he.current=null}});w.useEffect(()=>{!t||!Ne||ve()},[t,Ne,ve]),w.useEffect(()=>{F&&Te()},[F,Te]),yM(()=>{Te()});const Ae=Rn(()=>{if(!N||!pe()||!ne.isTopModal())return;const rt=Ym(Fe==null?void 0:Fe.document);ne.dialog&&rt&&!cc(ne.dialog,rt)&&ne.dialog.focus()}),qe=Rn(rt=>{rt.target===rt.currentTarget&&(p==null||p(rt),d===!0&&A())}),Ue=Rn(rt=>{h&&UI(rt)&&ne.isTopModal()&&(g==null||g(rt),rt.defaultPrevented||A())}),st=w.useRef(),Et=w.useRef(),It=(...rt)=>{ee(!0),O==null||O(...rt)};if(!Ne)return null;const it=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},xe,{style:a,className:s,tabIndex:-1});let kt=z?z(it):R("div",Object.assign({},it,{children:w.cloneElement(l,{role:"document"})}));kt=Pg(_,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:k,onExiting:L,onExited:It,onEnter:V,onEntering:D,onEntered:we,children:kt});let qt=null;return d&&(qt=q({ref:ne.setBackdropRef,onClick:qe}),qt=Pg(C,P,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:qt})),R(sn,{children:to.createPortal(ge(sn,{children:[qt,kt]}),Ne)})});QC.displayName="Modal";const YC=Object.assign(QC,{Manager:Gy});function Dg(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function DM(n,e){n.classList?n.classList.add(e):Dg(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function _0(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function OM(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=_0(n.className,e):n.setAttribute("class",_0(n.className&&n.className.baseVal||"",e))}const al={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class XC extends Gy{adjustAndStore(e,t,r){const s=t.style[e];t.dataset[e]=s,os(t,{[e]:`${parseFloat(os(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],os(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(DM(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Xi(t,al.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Xi(t,al.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),Xi(t,al.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();OM(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Xi(t,al.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Xi(t,al.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Xi(t,al.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let Zm;function JC(n){return Zm||(Zm=new XC(n)),Zm}const ZC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"modal-body"),R(t,{ref:s,className:ye(n,e),...r})));ZC.displayName="ModalBody";const Qy=w.createContext({onHide(){}}),Yy=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:s,fullscreen:a,children:l,scrollable:d,...h},p)=>{n=Se(n,"modal");const g=`${n}-dialog`,_=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return R("div",{...h,ref:p,className:ye(g,e,s&&`${n}-${s}`,r&&`${g}-centered`,d&&`${g}-scrollable`,a&&_),children:R("div",{className:ye(`${n}-content`,t),children:l})})});Yy.displayName="ModalDialog";const eA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"modal-footer"),R(t,{ref:s,className:ye(n,e),...r})));eA.displayName="ModalFooter";const tA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:s,...a},l)=>{const d=w.useContext(Qy),h=ui(()=>{d==null||d.onHide(),r==null||r()});return ge("div",{ref:l,...a,children:[s,t&&R(xc,{"aria-label":n,variant:e,onClick:h})]})}),nA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Se(n,"modal-header"),R(tA,{ref:a,...s,className:ye(e,n),closeLabel:t,closeButton:r})));nA.displayName="ModalHeader";const xM=Oc("h4"),rA=w.forwardRef(({className:n,bsPrefix:e,as:t=xM,...r},s)=>(e=Se(e,"modal-title"),R(t,{ref:s,className:ye(n,e),...r})));rA.displayName="ModalTitle";function LM(n){return R(mo,{...n,timeout:null})}function MM(n){return R(mo,{...n,timeout:null})}const iA=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:s,children:a,dialogAs:l=Yy,"data-bs-theme":d,"aria-labelledby":h,"aria-describedby":p,"aria-label":g,show:_=!1,animation:T=!0,backdrop:C=!0,keyboard:P=!0,onEscapeKeyDown:x,onShow:N,onHide:H,container:$,autoFocus:z=!0,enforceFocus:q=!0,restoreFocus:Z=!0,restoreFocusOptions:Q,onEntered:S,onExit:A,onExiting:k,onEnter:O,onEntering:L,onExited:V,backdropClassName:D,manager:we,...xe},Fe)=>{const[Ne,ne]=w.useState({}),[pe,ae]=w.useState(!1),F=w.useRef(!1),ee=w.useRef(!1),he=w.useRef(null),[ve,Te]=mM(),Ae=Jl(Fe,Te),qe=ui(H),Ue=Pc();n=Se(n,"modal");const st=w.useMemo(()=>({onHide:qe}),[qe]);function Et(){return we||JC({isRTL:Ue})}function It($e){if(!Xl)return;const mt=Et().getScrollbarWidth()>0,Ot=$e.scrollHeight>Yl($e).documentElement.clientHeight;ne({paddingRight:mt&&!Ot?y0():void 0,paddingLeft:!mt&&Ot?y0():void 0})}const it=ui(()=>{ve&&It(ve.dialog)});uC(()=>{Ag(window,"resize",it),he.current==null||he.current()});const kt=()=>{F.current=!0},qt=$e=>{F.current&&ve&&$e.target===ve.dialog&&(ee.current=!0),F.current=!1},rt=()=>{ae(!0),he.current=jI(ve.dialog,()=>{ae(!1)})},jt=$e=>{$e.target===$e.currentTarget&&rt()},hn=$e=>{if(C==="static"){jt($e);return}if(ee.current||$e.target!==$e.currentTarget){ee.current=!1;return}H==null||H()},Rr=$e=>{P?x==null||x($e):($e.preventDefault(),C==="static"&&rt())},Bn=($e,mt)=>{$e&&It($e),O==null||O($e,mt)},Ft=$e=>{he.current==null||he.current(),A==null||A($e)},Jt=($e,mt)=>{L==null||L($e,mt),Dy(window,"resize",it)},Jn=$e=>{$e&&($e.style.display=""),V==null||V($e),Ag(window,"resize",it)},Pn=w.useCallback($e=>R("div",{...$e,className:ye(`${n}-backdrop`,D,!T&&"show")}),[T,D,n]),Dt={...t,...Ne};Dt.display="block";const on=$e=>R("div",{role:"dialog",...$e,style:Dt,className:ye(e,n,pe&&`${n}-static`,!T&&"show"),onClick:C?hn:void 0,onMouseUp:qt,"data-bs-theme":d,"aria-label":g,"aria-labelledby":h,"aria-describedby":p,children:R(l,{...xe,onMouseDown:kt,className:r,contentClassName:s,children:a})});return R(Qy.Provider,{value:st,children:R(YC,{show:_,ref:Ae,backdrop:C,container:$,keyboard:!0,autoFocus:z,enforceFocus:q,restoreFocus:Z,restoreFocusOptions:Q,onEscapeKeyDown:Rr,onShow:N,onHide:H,onEnter:Bn,onEntering:Jt,onEntered:S,onExit:Ft,onExiting:k,onExited:Jn,manager:Et(),transition:T?LM:void 0,backdropTransition:T?MM:void 0,renderBackdrop:Pn,renderDialog:on})})});iA.displayName="Modal";const Dl=Object.assign(iA,{Body:ZC,Header:nA,Title:rA,Footer:eA,Dialog:Yy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),sA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"nav-item"),R(t,{ref:s,className:ye(n,e),...r})));sA.displayName="NavItem";const Xy=w.forwardRef(({bsPrefix:n,className:e,as:t=kl,active:r,eventKey:s,disabled:a=!1,...l},d)=>{n=Se(n,"nav-link");const[h,p]=qC({key:dc(s,l.href),active:r,disabled:a,...l});return R(t,{...l,...h,ref:d,disabled:a,className:ye(e,n,a&&"disabled",p.isActive&&"active")})});Xy.displayName="NavLink";const oA=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:s,fill:a=!1,justify:l=!1,navbar:d,navbarScroll:h,className:p,activeKey:g,..._}=Ql(n,{activeKey:"onSelect"}),T=Se(r,"nav");let C,P,x=!1;const N=w.useContext(_a),H=w.useContext(Uy);return N?(C=N.bsPrefix,x=d??!0):H&&({cardHeaderBsPrefix:P}=H),R(pM,{as:t,ref:e,activeKey:g,className:ye(p,{[T]:!x,[`${C}-nav`]:x,[`${C}-nav-scroll`]:x&&h,[`${P}-${s}`]:!!P,[`${T}-${s}`]:!!s,[`${T}-fill`]:a,[`${T}-justified`]:l}),..._})});oA.displayName="Nav";const w0=Object.assign(oA,{Item:sA,Link:Xy}),aA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},s)=>{n=Se(n,"navbar-brand");const a=t||(r.href?"a":"span");return R(a,{...r,ref:s,className:ye(e,n)})});aA.displayName="NavbarBrand";const lA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Se(e,"navbar-collapse");const s=w.useContext(_a);return R(FI,{in:!!(s&&s.expanded),...t,children:R("div",{ref:r,className:e,children:n})})});lA.displayName="NavbarCollapse";const uA=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:s="button",onClick:a,...l},d)=>{n=Se(n,"navbar-toggler");const{onToggle:h,expanded:p}=w.useContext(_a)||{},g=ui(_=>{a&&a(_),h&&h()});return s==="button"&&(l.type="button"),R(s,{...l,ref:d,onClick:g,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||R("span",{className:`${n}-icon`})})});uA.displayName="NavbarToggle";const Og=new WeakMap,E0=(n,e)=>{if(!n||!e)return;const t=Og.get(e)||new Map;Og.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function VM(n,e=typeof window>"u"?void 0:window){const t=E0(n,e),[r,s]=w.useState(()=>t?t.matches:!1);return By(()=>{let a=E0(n,e);if(!a)return s(!1);let l=Og.get(e);const d=()=>{s(a.matches)};return a.refCount++,a.addListener(d),d(),()=>{a.removeListener(d),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function $M(n){const e=Object.keys(n);function t(d,h){return d===h?h:d?`${d} and ${h}`:h}function r(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function s(d){const h=r(d);let p=n[h];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(d){let h=n[d];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function l(d,h,p){let g;typeof d=="object"?(g=d,p=h,h=!0):(h=h||!0,g={[d]:h});let _=w.useMemo(()=>Object.entries(g).reduce((T,[C,P])=>((P==="up"||P===!0)&&(T=t(T,a(C))),(P==="down"||P===!0)&&(T=t(T,s(C))),T),""),[JSON.stringify(g)]);return VM(_,p)}return l}const UM=$M({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),cA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"offcanvas-body"),R(t,{ref:s,className:ye(n,e),...r})));cA.displayName="OffcanvasBody";const jM={[si]:"show",[Ji]:"show"},dA=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:l=!1,...d},h)=>(n=Se(n,"offcanvas"),R(bh,{ref:h,addEndListener:Rh,in:r,mountOnEnter:s,unmountOnExit:a,appear:l,...d,childRef:va(t),children:(p,g)=>w.cloneElement(t,{...g,className:ye(e,t.props.className,(p===si||p===lc)&&`${n}-toggling`,jM[p])})})));dA.displayName="OffcanvasToggling";const fA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Se(n,"offcanvas-header"),R(tA,{ref:a,...s,className:ye(e,n),closeLabel:t,closeButton:r})));fA.displayName="OffcanvasHeader";const FM=Oc("h5"),hA=w.forwardRef(({className:n,bsPrefix:e,as:t=FM,...r},s)=>(e=Se(e,"offcanvas-title"),R(t,{ref:s,className:ye(n,e),...r})));hA.displayName="OffcanvasTitle";function BM(n){return R(dA,{...n})}function HM(n){return R(mo,{...n})}const pA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:s="start",responsive:a,show:l=!1,backdrop:d=!0,keyboard:h=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:T,container:C,autoFocus:P=!0,enforceFocus:x=!0,restoreFocus:N=!0,restoreFocusOptions:H,onEntered:$,onExit:z,onExiting:q,onEnter:Z,onEntering:Q,onExited:S,backdropClassName:A,manager:k,renderStaticNode:O=!1,...L},V)=>{const D=w.useRef();n=Se(n,"offcanvas");const[we,xe]=w.useState(!1),Fe=ui(T),Ne=UM(a||"xs","up");w.useEffect(()=>{xe(a?l&&!Ne:l)},[l,a,Ne]);const ne=w.useMemo(()=>({onHide:Fe}),[Fe]);function pe(){return k||(p?(D.current||(D.current=new XC({handleContainerOverflow:!1})),D.current):JC())}const ae=(ve,...Te)=>{ve&&(ve.style.visibility="visible"),Z==null||Z(ve,...Te)},F=(ve,...Te)=>{ve&&(ve.style.visibility=""),S==null||S(...Te)},ee=w.useCallback(ve=>R("div",{...ve,className:ye(`${n}-backdrop`,A)}),[A,n]),he=ve=>R("div",{...ve,...L,className:ye(e,a?`${n}-${a}`:n,`${n}-${s}`),"aria-labelledby":r,children:t});return ge(sn,{children:[!we&&(a||O)&&he({}),R(Qy.Provider,{value:ne,children:R(YC,{show:we,ref:V,backdrop:d,container:C,keyboard:h,autoFocus:P,enforceFocus:x&&!p,restoreFocus:N,restoreFocusOptions:H,onEscapeKeyDown:g,onShow:_,onHide:Fe,onEnter:ae,onEntering:Q,onEntered:$,onExit:z,onExiting:q,onExited:F,manager:pe(),transition:BM,backdropTransition:HM,renderBackdrop:ee,renderDialog:he})})]})});pA.displayName="Offcanvas";const zM=Object.assign(pA,{Body:cA,Header:fA,Title:hA}),mA=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(_a),s=ui(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return R(zM,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});mA.displayName="NavbarOffcanvas";const gA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Se(e,"navbar-text"),R(t,{ref:s,className:ye(n,e),...r})));gA.displayName="NavbarText";const yA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:s="light",bg:a,fixed:l,sticky:d,className:h,as:p="nav",expanded:g,onToggle:_,onSelect:T,collapseOnSelect:C=!1,...P}=Ql(n,{expanded:"onToggle"}),x=Se(t,"navbar"),N=w.useCallback((...z)=>{T==null||T(...z),C&&g&&(_==null||_(!1))},[T,C,g,_]);P.role===void 0&&p!=="nav"&&(P.role="navigation");let H=`${x}-expand`;typeof r=="string"&&(H=`${H}-${r}`);const $=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:x,expanded:!!g,expand:r}),[x,g,r,_]);return R(_a.Provider,{value:$,children:R(ua.Provider,{value:N,children:R(p,{ref:e,...P,className:ye(h,x,r&&H,s&&`${x}-${s}`,a&&`bg-${a}`,d&&`sticky-${d}`,l&&`fixed-${l}`)})})})});yA.displayName="Navbar";const mf=Object.assign(yA,{Brand:aA,Collapse:lA,Offcanvas:mA,Text:gA,Toggle:uA}),vA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:s,rootCloseEvent:a,menuRole:l,disabled:d,active:h,renderMenuOnMount:p,menuVariant:g,..._},T)=>{const C=Se(void 0,"nav-item");return ge(ta,{ref:T,..._,className:ye(s,C),children:[R(ta.Toggle,{id:n,eventKey:null,active:h,disabled:d,childBsPrefix:r,as:Xy,children:e}),R(ta.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:g,children:t})]})});vA.displayName="NavDropdown";const Bu=Object.assign(vA,{Item:ta.Item,ItemText:ta.ItemText,Divider:ta.Divider,Header:ta.Header}),WM=()=>{};function qM(n,e,{disabled:t,clickTrigger:r}={}){const s=e||WM;yC(n,s,{disabled:t,clickTrigger:r});const a=Rn(l=>{UI(l)&&s(l)});w.useEffect(()=>{if(t||n==null)return;const l=Yl(Nf(n));let d=(l.defaultView||window).event;const h=es(l,"keyup",p=>{if(p===d){d=void 0;return}a(p)});return()=>{h()}},[n,t,a])}const _A=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:s,containerPadding:a,popperConfig:l={},transition:d,runTransition:h}=n,[p,g]=Rg(),[_,T]=Rg(),C=Mc(g,e),P=kg(n.container),x=kg(n.target),[N,H]=w.useState(!n.show),$=gC(x,p,vC({placement:s,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:_,popperConfig:l}));n.show&&N&&H(!1);const z=(...L)=>{H(!0),n.onExited&&n.onExited(...L)},q=n.show||!N;if(qM(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!q)return null;const{onExit:Z,onExiting:Q,onEnter:S,onEntering:A,onEntered:k}=n;let O=n.children(Object.assign({},$.attributes.popper,{style:$.styles.popper,ref:C}),{popper:$,placement:s,show:!!n.show,arrowProps:Object.assign({},$.attributes.arrow,{style:$.styles.arrow,ref:T})});return O=Pg(d,h,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:O,onExit:Z,onExiting:Q,onExited:z,onEnter:S,onEntering:A,onEntered:k}),P?to.createPortal(O,P):null});_A.displayName="Overlay";const wA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"popover-header"),R(t,{ref:s,className:ye(n,e),...r})));wA.displayName="PopoverHeader";const Jy=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"popover-body"),R(t,{ref:s,className:ye(n,e),...r})));Jy.displayName="PopoverBody";function EA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function TA(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const KM=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:s,body:a,arrowProps:l,hasDoneInitialMeasure:d,popper:h,show:p,...g},_)=>{const T=Se(n,"popover"),C=Pc(),[P]=(e==null?void 0:e.split("-"))||[],x=EA(P,C);let N=r;return p&&!d&&(N={...r,...TA(h==null?void 0:h.strategy)}),ge("div",{ref:_,role:"tooltip",style:N,"x-placement":P,className:ye(t,T,P&&`bs-popover-${x}`),...g,children:[R("div",{className:"popover-arrow",...l}),a?R(Jy,{children:s}):s]})}),GM=Object.assign(KM,{Header:wA,Body:Jy,POPPER_OFFSET:[0,8]}),SA=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:s,arrowProps:a,hasDoneInitialMeasure:l,popper:d,show:h,...p},g)=>{n=Se(n,"tooltip");const _=Pc(),[T]=(e==null?void 0:e.split("-"))||[],C=EA(T,_);let P=r;return h&&!l&&(P={...r,...TA(d==null?void 0:d.strategy)}),ge("div",{ref:g,style:P,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${C}`),...p,children:[R("div",{className:"tooltip-arrow",...a}),R("div",{className:`${n}-inner`,children:s})]})});SA.displayName="Tooltip";const IA=Object.assign(SA,{TOOLTIP_OFFSET:[0,6]});function QM(n){const e=w.useRef(null),t=Se(void 0,"popover"),r=Se(void 0,"tooltip"),s=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Dg(e.current,t))return GM.POPPER_OFFSET;if(Dg(e.current,r))return IA.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[s]]}function YM(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=s=>t(Wf(s))),e.ref=r.__wrapped||(r.__wrapped=s=>r(Wf(s)))}const CA=w.forwardRef(({children:n,transition:e=mo,popperConfig:t={},rootClose:r=!1,placement:s="top",show:a=!1,...l},d)=>{const h=w.useRef({}),[p,g]=w.useState(null),[_,T]=QM(l.offset),C=Jl(d,_),P=e===!0?mo:e||void 0,x=ui(N=>{g(N),t==null||t.onFirstUpdate==null||t.onFirstUpdate(N)});return By(()=>{p&&l.target&&(h.current.scheduleUpdate==null||h.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{a||g(null)},[a]),R(_A,{...l,ref:C,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:x},transition:P,rootClose:r,placement:s,show:a,children:(N,{arrowProps:H,popper:$,show:z})=>{var q;YM(N,H);const Z=$==null?void 0:$.placement,Q=Object.assign(h.current,{state:$==null?void 0:$.state,scheduleUpdate:$==null?void 0:$.update,placement:Z,outOfBoundaries:($==null||(q=$.state)==null||(q=q.modifiersData.hide)==null?void 0:q.isReferenceHidden)||!1,strategy:t.strategy}),S=!!p;return typeof n=="function"?n({...N,placement:Z,show:z,...!e&&z&&{className:"show"},popper:Q,arrowProps:H,hasDoneInitialMeasure:S}):w.cloneElement(n,{...N,placement:Z,arrowProps:H,popper:Q,hasDoneInitialMeasure:S,className:ye(n.props.className,!e&&z&&"show"),style:{...n.props.style,...N.style}})}})});CA.displayName="Overlay";function XM(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function T0(n,e,t){const[r]=e,s=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==s)&&!cc(s,a)&&n(...e)}Gn.oneOf(["click","hover","focus"]);const JM=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:s,defaultShow:a=!1,onToggle:l,delay:d,placement:h,flip:p=h&&h.indexOf("auto")!==-1,...g})=>{const _=w.useRef(null),T=Jl(_,va(t)),C=dC(),P=w.useRef(""),[x,N]=xI(s,a,l),H=XM(d),{onFocus:$,onBlur:z,onClick:q}=typeof t!="function"?w.Children.only(t).props:{},Z=xe=>{T(Wf(xe))},Q=w.useCallback(()=>{if(C.clear(),P.current="show",!H.show){N(!0);return}C.set(()=>{P.current==="show"&&N(!0)},H.show)},[H.show,N,C]),S=w.useCallback(()=>{if(C.clear(),P.current="hide",!H.hide){N(!1);return}C.set(()=>{P.current==="hide"&&N(!1)},H.hide)},[H.hide,N,C]),A=w.useCallback((...xe)=>{Q(),$==null||$(...xe)},[Q,$]),k=w.useCallback((...xe)=>{S(),z==null||z(...xe)},[S,z]),O=w.useCallback((...xe)=>{N(!x),q==null||q(...xe)},[q,N,x]),L=w.useCallback((...xe)=>{T0(Q,xe,"fromElement")},[Q]),V=w.useCallback((...xe)=>{T0(S,xe,"toElement")},[S]),D=n==null?[]:[].concat(n),we={ref:Z};return D.indexOf("click")!==-1&&(we.onClick=O),D.indexOf("focus")!==-1&&(we.onFocus=A,we.onBlur=k),D.indexOf("hover")!==-1&&(we.onMouseOver=L,we.onMouseOut=V),ge(sn,{children:[typeof t=="function"?t(we):w.cloneElement(t,we),R(CA,{...g,show:x,onHide:S,flip:p,placement:h,popperConfig:r,target:_.current,children:e})]})},Ol=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Se(n,"row"),l=LI(),d=MI(),h=`${a}-cols`,p=[];return l.forEach(g=>{const _=r[g];delete r[g];let T;_!=null&&typeof _=="object"?{cols:T}=_:T=_;const C=g!==d?`-${g}`:"";T!=null&&p.push(`${h}${C}-${T}`)}),R(t,{ref:s,...r,className:ye(e,a,...p)})});Ol.displayName="Row";const xh=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:s="div",className:a,...l},d)=>{n=Se(n,"spinner");const h=`${n}-${t}`;return R(s,{ref:d,...l,className:ye(a,h,r&&`${h}-${r}`,e&&`text-${e}`)})});xh.displayName="Spinner";function Ee(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function d(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((r=r.apply(n,[])).next())})}function ZM(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let je=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};je.equal=(n,e)=>new je("equal",n,e).toString();je.notEqual=(n,e)=>new je("notEqual",n,e).toString();je.lessThan=(n,e)=>new je("lessThan",n,e).toString();je.lessThanEqual=(n,e)=>new je("lessThanEqual",n,e).toString();je.greaterThan=(n,e)=>new je("greaterThan",n,e).toString();je.greaterThanEqual=(n,e)=>new je("greaterThanEqual",n,e).toString();je.isNull=n=>new je("isNull",n).toString();je.isNotNull=n=>new je("isNotNull",n).toString();je.between=(n,e,t)=>new je("between",n,[e,t]).toString();je.startsWith=(n,e)=>new je("startsWith",n,e).toString();je.endsWith=(n,e)=>new je("endsWith",n,e).toString();je.select=n=>new je("select",void 0,n).toString();je.search=(n,e)=>new je("search",n,e).toString();je.orderDesc=n=>new je("orderDesc",n).toString();je.orderAsc=n=>new je("orderAsc",n).toString();je.cursorAfter=n=>new je("cursorAfter",void 0,n).toString();je.cursorBefore=n=>new je("cursorBefore",void 0,n).toString();je.limit=n=>new je("limit",void 0,n).toString();je.offset=n=>new je("offset",void 0,n).toString();je.contains=(n,e)=>new je("contains",n,e).toString();je.or=n=>new je("or",void 0,n.map(e=>JSON.parse(e))).toString();je.and=n=>new je("and",void 0,n.map(e=>JSON.parse(e))).toString();class se extends Error{constructor(e,t=0,r="",s=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=s}}class $r{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const s=new URLSearchParams;s.set("project",this.config.project),this.realtime.channels.forEach(l=>{s.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+s.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var d,h,p;if(!this.realtime.reconnect||((h=(d=this.realtime)===null||d===void 0?void 0:d.lastMessage)===null||h===void 0?void 0:h.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const g=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${g/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},g)}))},onMessage:e=>{var t,r;try{const s=JSON.parse(e.data);switch(this.realtime.lastMessage=s,s.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],d=s.data;l&&!d.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let h=s.data;if(h!=null&&h.channels){if(!h.channels.some(g=>this.realtime.channels.has(g)))return;this.realtime.subscriptions.forEach(g=>{h.channels.some(_=>g.channels.includes(_))&&setTimeout(()=>g.callback(h))})}break;case"error":throw s.data;default:break}}catch(s){console.error(s)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([s,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const s=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(s,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(s),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},s={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,d]of Object.entries($r.flatten(s)))t.searchParams.append(l,d);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(s);break;case"multipart/form-data":const l=new FormData;for(const[d,h]of Object.entries(s))if(h instanceof File)l.append(d,h,h.name);else if(Array.isArray(h))for(const p of h)l.append(`${d}[]`,p);else l.append(d,h);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},s={},a){return Ee(this,void 0,void 0,function*(){const l=Object.values(s).find(p=>p instanceof File);if(l.size<=$r.CHUNK_SIZE)return yield this.call(e,t,r,s);let d=0,h=null;for(;d<l.size;){let p=d+$r.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${d}-${p-1}/${l.size}`;const g=l.slice(d,p);let _=Object.assign(Object.assign({},s),{file:new File([g],l.name)});h=yield this.call(e,t,r,_),a&&typeof a=="function"&&a({$id:h.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/$r.CHUNK_SIZE),chunksUploaded:Math.ceil(p/$r.CHUNK_SIZE)}),h&&h.$id&&(r["x-appwrite-id"]=h.$id),d=p}return h})}ping(){return Ee(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},s={},a="json"){var l;return Ee(this,void 0,void 0,function*(){const{uri:d,options:h}=this.prepareRequest(e,t,r,s);let p=null;const g=yield fetch(d,h),_=g.headers.get("x-appwrite-warning");if(_&&_.split(";").forEach(C=>console.warn("Warning: "+C)),!((l=g.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield g.json():a==="arrayBuffer"?p=yield g.arrayBuffer():p={message:yield g.text()},400<=g.status)throw new se(p==null?void 0:p.message,g.status,p==null?void 0:p.type,p);const T=g.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[s,a]of Object.entries(e)){let l=t?t+"["+s+"]":s;Array.isArray(a)?r=Object.assign(Object.assign({},r),$r.flatten(a,l)):r[l]=a}return r}}$r.CHUNK_SIZE=1024*1024*5;class oo{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[s,a]of Object.entries(e)){let l=t?t+"["+s+"]":s;Array.isArray(a)?r=Object.assign(Object.assign({},r),oo.flatten(a,l)):r[l]=a}return r}}oo.CHUNK_SIZE=5*1024*1024;class eV{constructor(e){this.client=e}get(){return Ee(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}create(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');if(typeof r>"u")throw new se('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof s<"u"&&(l.name=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("post",d,h,l)})}updateEmail(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/email",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}listIdentities(e){return Ee(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}deleteIdentity(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createJWT(){return Ee(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}listLogs(e){return Ee(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateMFA(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}createMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateMfaAuthenticator(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');if(typeof t>"u")throw new se('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),s={};typeof t<"u"&&(s.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}deleteMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createMfaChallenge(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateMfaChallenge(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "challengeId"');if(typeof t>"u")throw new se('Missing required parameter: "otp"');const r="/account/mfa/challenge",s={};typeof e<"u"&&(s.challengeId=e),typeof t<"u"&&(s.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}listMfaFactors(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}getMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}createMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}updateMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,t)})}updateName(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}updatePassword(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "password"');const r="/account/password",s={};typeof e<"u"&&(s.password=e),typeof t<"u"&&(s.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}updatePhone(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "phone"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/phone",s={};typeof e<"u"&&(s.phone=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}getPrefs(){return Ee(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}updatePrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}createRecovery(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "url"');const r="/account/recovery",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}updateRecovery(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');if(typeof r>"u")throw new se('Missing required parameter: "password"');const s="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("put",l,d,a)})}listSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}deleteSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("delete",r,s,t)})}createAnonymousSession(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}createEmailPasswordSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/sessions/email",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}updateMagicURLSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/magic-url",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createOAuth2Session(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof s<"u"&&(l.scopes=s);const d=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[h,p]of Object.entries(oo.flatten(l)))d.searchParams.append(h,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=d.toString();return}else return d.toString()})}updatePhoneSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/token",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}getSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}deleteSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}updateStatus(){return Ee(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,t)})}createPushTarget(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');if(typeof t>"u")throw new se('Missing required parameter: "identifier"');const s="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}updatePushTarget(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');if(typeof t>"u")throw new se('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),s={};typeof t<"u"&&(s.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}deletePushTarget(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createEmailToken(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');const s="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}createMagicURLToken(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof s<"u"&&(l.phrase=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("post",d,h,l)})}createOAuth2Token(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof s<"u"&&(l.scopes=s);const d=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[h,p]of Object.entries(oo.flatten(l)))d.searchParams.append(h,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=d.toString();return}else return d.toString()})}createPhoneToken(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "phone"');const r="/account/tokens/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}createVerification(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/verification",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createPhoneVerification(){return Ee(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}updatePhoneVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/verification/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}}class tV{constructor(e){this.client=e}listDocuments(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');const s="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createDocument(e,t,r,s,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');if(typeof s>"u")throw new se('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),d={};typeof r<"u"&&(d.documentId=r),typeof s<"u"&&(d.data=s),typeof a<"u"&&(d.permissions=a);const h=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",h,p,d)})}getDocument(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof s<"u"&&(l.queries=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("get",d,h,l)})}updateDocument(e,t,r,s,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),d={};typeof s<"u"&&(d.data=s),typeof a<"u"&&(d.permissions=a);const h=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",h,p,d)})}deleteDocument(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("delete",l,d,a)})}}class nV{constructor(e){this.client=e}listFiles(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');const s="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createFile(e,t,r,s,a=l=>{}){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');if(typeof r>"u")throw new se('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),d={};typeof t<"u"&&(d.fileId=t),typeof r<"u"&&(d.file=r),typeof s<"u"&&(d.permissions=s);const h=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",h,p,d,a)})}getFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}updateFile(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof s<"u"&&(l.permissions=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("put",d,h,l)})}deleteFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,s)})}getFileDownload(e,t){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,d]of Object.entries(oo.flatten(s)))a.searchParams.append(l,d);s.project=this.client.config.project;for(const[l,d]of Object.entries($r.flatten(s)))a.searchParams.append(l,d);return a.toString()}getFilePreview(e,t,r,s,a,l,d,h,p,g,_,T,C){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const P="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),x={};typeof r<"u"&&(x.width=r),typeof s<"u"&&(x.height=s),typeof a<"u"&&(x.gravity=a),typeof l<"u"&&(x.quality=l),typeof d<"u"&&(x.borderWidth=d),typeof h<"u"&&(x.borderColor=h),typeof p<"u"&&(x.borderRadius=p),typeof g<"u"&&(x.opacity=g),typeof _<"u"&&(x.rotation=_),typeof T<"u"&&(x.background=T),typeof C<"u"&&(x.output=C);const N=new URL(this.client.config.endpoint+P);x.project=this.client.config.project;for(const[H,$]of Object.entries(oo.flatten(x)))N.searchParams.append(H,$);x.project=this.client.config.project;for(const[H,$]of Object.entries($r.flatten(x)))N.searchParams.append(H,$);return N.toString()}getFileView(e,t){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,d]of Object.entries(oo.flatten(s)))a.searchParams.append(l,d);s.project=this.client.config.project;for(const[l,d]of Object.entries($r.flatten(s)))a.searchParams.append(l,d);return a.toString()}}class rV{constructor(e){this.client=e}list(e,t){return Ee(this,void 0,void 0,function*(){const r="/teams",s={};typeof e<"u"&&(s.queries=e),typeof t<"u"&&(s.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}create(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "name"');const s="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}get(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateName(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),s={};typeof t<"u"&&(s.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}delete(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}listMemberships(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const s="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createMembership(e,t,r,s,a,l,d){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "roles"');const h="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof s<"u"&&(p.userId=s),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof d<"u"&&(p.name=d);const g=new URL(this.client.config.endpoint+h),_={"content-type":"application/json"};return yield this.client.call("post",g,_,p)})}getMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}updateMembership(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');if(typeof r>"u")throw new se('Missing required parameter: "roles"');const s="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("patch",l,d,a)})}deleteMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,s)})}updateMembershipStatus(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');if(typeof r>"u")throw new se('Missing required parameter: "userId"');if(typeof s>"u")throw new se('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof s<"u"&&(l.secret=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("patch",d,h,l)})}getPrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updatePrefs(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),s={};typeof t<"u"&&(s.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}}var AA,RA;class xl{static custom(e){return e}static unique(e=7){const t=ZM(xl,AA,"m",RA).call(xl);let r="";for(let s=0;s<e;s++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}AA=xl,RA=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var S0;(function(n){n.Totp="totp"})(S0||(S0={}));var I0;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(I0||(I0={}));var xg;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(xg||(xg={}));var C0;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(C0||(C0={}));var A0;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(A0||(A0={}));var R0;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(R0||(R0={}));var b0;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(b0||(b0={}));var N0;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(N0||(N0={}));var k0;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(k0||(k0={}));const Vc=new $r;Vc.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const tu=new nV(Vc),$c=new eV(Vc),Wr=new tV(Vc),iV=new rV(Vc);async function sV(){return{session:await $c.getSession("current")}}const Zy=async()=>{try{return await $c.get()}catch(n){console.error(n)}};async function oV(){await $c.deleteSession("current"),console.log("log out")}async function ro(){const n=await Zy();return n?aV(n):(console.error("User data is undefined"),null)}function aV(n){return{name:n.name,$id:n.$id}}async function lV(){return{teams:(await iV.list()).teams}}var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},uV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],d=n[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},NA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,d=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=a>>2,_=(a&3)<<4|d>>4;let T=(d&15)<<2|p>>6,C=p&63;h||(C=64,l||(T=64)),r.push(t[g],t[_],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||_==null)throw new cV;const T=a<<2|d>>4;if(r.push(T),p!==64){const C=d<<4&240|p>>2;if(r.push(C),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dV=function(n){const e=bA(n);return NA.encodeByteArray(e,!0)},Gf=function(n){return dV(n).replace(/\./g,"")},kA=function(n){try{return NA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=()=>fV().__FIREBASE_DEFAULTS__,pV=()=>{if(typeof process>"u"||typeof P0>"u")return;const n=P0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kA(n[1]);return e&&JSON.parse(e)},Lh=()=>{try{return hV()||pV()||mV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PA=n=>{var e,t;return(t=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gV=n=>{const e=PA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},DA=()=>{var n;return(n=Lh())===null||n===void 0?void 0:n.config},OA=n=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yV=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gf(JSON.stringify(t)),Gf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _V(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function wV(){var n;const e=(n=Lh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IV(){const n=Fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CV(){return!wV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AV(){try{return typeof indexedDB=="object"}catch{return!1}}function RV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="FirebaseError";class _s extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bV,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}}class Uc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?NV(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new _s(s,d,r)}}function NV(n,e){return n.replace(kV,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kV=/\{\$([^}]+)}/g;function PV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(D0(a)&&D0(l)){if(!Qf(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function D0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DV(n,e){const t=new OV(n,e);return t.subscribe.bind(t)}class OV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xV(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=eg),s.error===void 0&&(s.error=eg),s.complete===void 0&&(s.complete=eg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n){return n&&n._delegate?n._delegate:n}class ca{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VV(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MV(n){return n===Yo?void 0:n}function VV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const UV={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},jV=ht.INFO,FV={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},BV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=FV[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ev{constructor(e){this.name=e,this._logLevel=jV,this._logHandler=BV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const HV=(n,e)=>e.some(t=>n instanceof t);let O0,x0;function zV(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WV(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xA=new WeakMap,Lg=new WeakMap,LA=new WeakMap,tg=new WeakMap,tv=new WeakMap;function qV(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ao(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&xA.set(t,n)}).catch(()=>{}),tv.set(e,n),e}function KV(n){if(Lg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Lg.set(n,e)}let Mg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ao(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GV(n){Mg=n(Mg)}function QV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ng(this),e,...t);return LA.set(r,e.sort?e.sort():[e]),ao(r)}:WV().includes(n)?function(...e){return n.apply(ng(this),e),ao(xA.get(this))}:function(...e){return ao(n.apply(ng(this),e))}}function YV(n){return typeof n=="function"?QV(n):(n instanceof IDBTransaction&&KV(n),HV(n,zV())?new Proxy(n,Mg):n)}function ao(n){if(n instanceof IDBRequest)return qV(n);if(tg.has(n))return tg.get(n);const e=YV(n);return e!==n&&(tg.set(n,e),tv.set(e,n)),e}const ng=n=>tv.get(n);function XV(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),d=ao(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ao(l.result),h.oldVersion,h.newVersion,ao(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const JV=["get","getKey","getAll","getAllKeys","count"],ZV=["put","add","delete","clear"],rg=new Map;function L0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=ZV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JV.includes(t)))return;const a=async function(l,...d){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&h.done]))[0]};return rg.set(e,a),a}GV(n=>({...n,get:(e,t,r)=>L0(e,t)||n.get(e,t,r),has:(e,t)=>!!L0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(t2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function t2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",M0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new ev("@firebase/app"),n2="@firebase/app-compat",r2="@firebase/analytics-compat",i2="@firebase/analytics",s2="@firebase/app-check-compat",o2="@firebase/app-check",a2="@firebase/auth",l2="@firebase/auth-compat",u2="@firebase/database",c2="@firebase/data-connect",d2="@firebase/database-compat",f2="@firebase/functions",h2="@firebase/functions-compat",p2="@firebase/installations",m2="@firebase/installations-compat",g2="@firebase/messaging",y2="@firebase/messaging-compat",v2="@firebase/performance",_2="@firebase/performance-compat",w2="@firebase/remote-config",E2="@firebase/remote-config-compat",T2="@firebase/storage",S2="@firebase/storage-compat",I2="@firebase/firestore",C2="@firebase/vertexai",A2="@firebase/firestore-compat",R2="firebase",b2="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="[DEFAULT]",N2={[Vg]:"fire-core",[n2]:"fire-core-compat",[i2]:"fire-analytics",[r2]:"fire-analytics-compat",[o2]:"fire-app-check",[s2]:"fire-app-check-compat",[a2]:"fire-auth",[l2]:"fire-auth-compat",[u2]:"fire-rtdb",[c2]:"fire-data-connect",[d2]:"fire-rtdb-compat",[f2]:"fire-fn",[h2]:"fire-fn-compat",[p2]:"fire-iid",[m2]:"fire-iid-compat",[g2]:"fire-fcm",[y2]:"fire-fcm-compat",[v2]:"fire-perf",[_2]:"fire-perf-compat",[w2]:"fire-rc",[E2]:"fire-rc-compat",[T2]:"fire-gcs",[S2]:"fire-gcs-compat",[I2]:"fire-fst",[A2]:"fire-fst-compat",[C2]:"fire-vertex","fire-js":"fire-js",[R2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,k2=new Map,Ug=new Map;function V0(n,e){try{n.container.addComponent(e)}catch(t){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ll(n){const e=n.name;if(Ug.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;Ug.set(e,n);for(const t of Yf.values())V0(t,n);for(const t of k2.values())V0(t,n);return!0}function nv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function oi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new Uc("app","Firebase",P2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=b2;function MA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$g,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(t||(t=DA()),!t)throw lo.create("no-options");const a=Yf.get(s);if(a){if(Qf(t,a.options)&&Qf(r,a.config))return a;throw lo.create("duplicate-app",{appName:s})}const l=new $V(s);for(const h of Ug.values())l.addComponent(h);const d=new D2(t,r,l);return Yf.set(s,d),d}function VA(n=$g){const e=Yf.get(n);if(!e&&n===$g&&DA())return MA();if(!e)throw lo.create("no-app",{appName:n});return e}function uo(n,e,t){var r;let s=(r=N2[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}Ll(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebase-heartbeat-database",x2=1,fc="firebase-heartbeat-store";let ig=null;function $A(){return ig||(ig=XV(O2,x2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(n=>{throw lo.create("idb-open",{originalErrorMessage:n.message})})),ig}async function L2(n){try{const t=(await $A()).transaction(fc),r=await t.objectStore(fc).get(UA(n));return await t.done,r}catch(e){if(e instanceof _s)ds.warn(e.message);else{const t=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(t.message)}}}async function $0(n,e){try{const r=(await $A()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,UA(n)),await r.done}catch(t){if(t instanceof _s)ds.warn(t.message);else{const r=lo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ds.warn(r.message)}}}function UA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=1024,V2=30;class $2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=U0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>V2){const l=F2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=U0(),{heartbeatsToSend:r,unsentEntries:s}=U2(this._heartbeatsCache.heartbeats),a=Gf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ds.warn(t),""}}}function U0(){return new Date().toISOString().substring(0,10)}function U2(n,e=M2){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),j0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),j0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class j2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AV()?RV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await L2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function j0(n){return Gf(JSON.stringify({version:2,heartbeats:n})).length}function F2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){Ll(new ca("platform-logger",e=>new e2(e),"PRIVATE")),Ll(new ca("heartbeat",e=>new $2(e),"PRIVATE")),uo(Vg,M0,n),uo(Vg,M0,"esm2017"),uo("fire-js","")}B2("");var H2="firebase",z2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(H2,z2,"app");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,jA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function k(){}k.prototype=A.prototype,S.D=A.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(O,L,V){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return A.prototype[L].apply(O,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,A,k){k||(k=0);var O=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)O[L]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(L=0;16>L;++L)O[L]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=S.g[0],k=S.g[1],L=S.g[2];var V=S.g[3],D=A+(V^k&(L^V))+O[0]+3614090360&4294967295;A=k+(D<<7&4294967295|D>>>25),D=V+(L^A&(k^L))+O[1]+3905402710&4294967295,V=A+(D<<12&4294967295|D>>>20),D=L+(k^V&(A^k))+O[2]+606105819&4294967295,L=V+(D<<17&4294967295|D>>>15),D=k+(A^L&(V^A))+O[3]+3250441966&4294967295,k=L+(D<<22&4294967295|D>>>10),D=A+(V^k&(L^V))+O[4]+4118548399&4294967295,A=k+(D<<7&4294967295|D>>>25),D=V+(L^A&(k^L))+O[5]+1200080426&4294967295,V=A+(D<<12&4294967295|D>>>20),D=L+(k^V&(A^k))+O[6]+2821735955&4294967295,L=V+(D<<17&4294967295|D>>>15),D=k+(A^L&(V^A))+O[7]+4249261313&4294967295,k=L+(D<<22&4294967295|D>>>10),D=A+(V^k&(L^V))+O[8]+1770035416&4294967295,A=k+(D<<7&4294967295|D>>>25),D=V+(L^A&(k^L))+O[9]+2336552879&4294967295,V=A+(D<<12&4294967295|D>>>20),D=L+(k^V&(A^k))+O[10]+4294925233&4294967295,L=V+(D<<17&4294967295|D>>>15),D=k+(A^L&(V^A))+O[11]+2304563134&4294967295,k=L+(D<<22&4294967295|D>>>10),D=A+(V^k&(L^V))+O[12]+1804603682&4294967295,A=k+(D<<7&4294967295|D>>>25),D=V+(L^A&(k^L))+O[13]+4254626195&4294967295,V=A+(D<<12&4294967295|D>>>20),D=L+(k^V&(A^k))+O[14]+2792965006&4294967295,L=V+(D<<17&4294967295|D>>>15),D=k+(A^L&(V^A))+O[15]+1236535329&4294967295,k=L+(D<<22&4294967295|D>>>10),D=A+(L^V&(k^L))+O[1]+4129170786&4294967295,A=k+(D<<5&4294967295|D>>>27),D=V+(k^L&(A^k))+O[6]+3225465664&4294967295,V=A+(D<<9&4294967295|D>>>23),D=L+(A^k&(V^A))+O[11]+643717713&4294967295,L=V+(D<<14&4294967295|D>>>18),D=k+(V^A&(L^V))+O[0]+3921069994&4294967295,k=L+(D<<20&4294967295|D>>>12),D=A+(L^V&(k^L))+O[5]+3593408605&4294967295,A=k+(D<<5&4294967295|D>>>27),D=V+(k^L&(A^k))+O[10]+38016083&4294967295,V=A+(D<<9&4294967295|D>>>23),D=L+(A^k&(V^A))+O[15]+3634488961&4294967295,L=V+(D<<14&4294967295|D>>>18),D=k+(V^A&(L^V))+O[4]+3889429448&4294967295,k=L+(D<<20&4294967295|D>>>12),D=A+(L^V&(k^L))+O[9]+568446438&4294967295,A=k+(D<<5&4294967295|D>>>27),D=V+(k^L&(A^k))+O[14]+3275163606&4294967295,V=A+(D<<9&4294967295|D>>>23),D=L+(A^k&(V^A))+O[3]+4107603335&4294967295,L=V+(D<<14&4294967295|D>>>18),D=k+(V^A&(L^V))+O[8]+1163531501&4294967295,k=L+(D<<20&4294967295|D>>>12),D=A+(L^V&(k^L))+O[13]+2850285829&4294967295,A=k+(D<<5&4294967295|D>>>27),D=V+(k^L&(A^k))+O[2]+4243563512&4294967295,V=A+(D<<9&4294967295|D>>>23),D=L+(A^k&(V^A))+O[7]+1735328473&4294967295,L=V+(D<<14&4294967295|D>>>18),D=k+(V^A&(L^V))+O[12]+2368359562&4294967295,k=L+(D<<20&4294967295|D>>>12),D=A+(k^L^V)+O[5]+4294588738&4294967295,A=k+(D<<4&4294967295|D>>>28),D=V+(A^k^L)+O[8]+2272392833&4294967295,V=A+(D<<11&4294967295|D>>>21),D=L+(V^A^k)+O[11]+1839030562&4294967295,L=V+(D<<16&4294967295|D>>>16),D=k+(L^V^A)+O[14]+4259657740&4294967295,k=L+(D<<23&4294967295|D>>>9),D=A+(k^L^V)+O[1]+2763975236&4294967295,A=k+(D<<4&4294967295|D>>>28),D=V+(A^k^L)+O[4]+1272893353&4294967295,V=A+(D<<11&4294967295|D>>>21),D=L+(V^A^k)+O[7]+4139469664&4294967295,L=V+(D<<16&4294967295|D>>>16),D=k+(L^V^A)+O[10]+3200236656&4294967295,k=L+(D<<23&4294967295|D>>>9),D=A+(k^L^V)+O[13]+681279174&4294967295,A=k+(D<<4&4294967295|D>>>28),D=V+(A^k^L)+O[0]+3936430074&4294967295,V=A+(D<<11&4294967295|D>>>21),D=L+(V^A^k)+O[3]+3572445317&4294967295,L=V+(D<<16&4294967295|D>>>16),D=k+(L^V^A)+O[6]+76029189&4294967295,k=L+(D<<23&4294967295|D>>>9),D=A+(k^L^V)+O[9]+3654602809&4294967295,A=k+(D<<4&4294967295|D>>>28),D=V+(A^k^L)+O[12]+3873151461&4294967295,V=A+(D<<11&4294967295|D>>>21),D=L+(V^A^k)+O[15]+530742520&4294967295,L=V+(D<<16&4294967295|D>>>16),D=k+(L^V^A)+O[2]+3299628645&4294967295,k=L+(D<<23&4294967295|D>>>9),D=A+(L^(k|~V))+O[0]+4096336452&4294967295,A=k+(D<<6&4294967295|D>>>26),D=V+(k^(A|~L))+O[7]+1126891415&4294967295,V=A+(D<<10&4294967295|D>>>22),D=L+(A^(V|~k))+O[14]+2878612391&4294967295,L=V+(D<<15&4294967295|D>>>17),D=k+(V^(L|~A))+O[5]+4237533241&4294967295,k=L+(D<<21&4294967295|D>>>11),D=A+(L^(k|~V))+O[12]+1700485571&4294967295,A=k+(D<<6&4294967295|D>>>26),D=V+(k^(A|~L))+O[3]+2399980690&4294967295,V=A+(D<<10&4294967295|D>>>22),D=L+(A^(V|~k))+O[10]+4293915773&4294967295,L=V+(D<<15&4294967295|D>>>17),D=k+(V^(L|~A))+O[1]+2240044497&4294967295,k=L+(D<<21&4294967295|D>>>11),D=A+(L^(k|~V))+O[8]+1873313359&4294967295,A=k+(D<<6&4294967295|D>>>26),D=V+(k^(A|~L))+O[15]+4264355552&4294967295,V=A+(D<<10&4294967295|D>>>22),D=L+(A^(V|~k))+O[6]+2734768916&4294967295,L=V+(D<<15&4294967295|D>>>17),D=k+(V^(L|~A))+O[13]+1309151649&4294967295,k=L+(D<<21&4294967295|D>>>11),D=A+(L^(k|~V))+O[4]+4149444226&4294967295,A=k+(D<<6&4294967295|D>>>26),D=V+(k^(A|~L))+O[11]+3174756917&4294967295,V=A+(D<<10&4294967295|D>>>22),D=L+(A^(V|~k))+O[2]+718787259&4294967295,L=V+(D<<15&4294967295|D>>>17),D=k+(V^(L|~A))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+V&4294967295}r.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var k=A-this.blockSize,O=this.B,L=this.h,V=0;V<A;){if(L==0)for(;V<=k;)s(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<A;)if(O[L++]=S.charCodeAt(V++),L==this.blockSize){s(this,O),L=0;break}}else for(;V<A;)if(O[L++]=S[V++],L==this.blockSize){s(this,O),L=0;break}}this.h=L,this.o+=A},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var k=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=k&255,k/=256;for(this.u(S),S=Array(16),A=k=0;4>A;++A)for(var O=0;32>O;O+=8)S[k++]=this.g[A]>>>O&255;return S};function a(S,A){var k=d;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=A(S)}function l(S,A){this.h=A;for(var k=[],O=!0,L=S.length-1;0<=L;L--){var V=S[L]|0;O&&V==A||(k[L]=V,O=!1)}this.g=k}var d={};function h(S){return-128<=S&&128>S?a(S,function(A){return new l([A|0],0>A?-1:0)}):new l([S|0],0>S?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return N(p(-S));for(var A=[],k=1,O=0;S>=k;O++)A[O]=S/k|0,k*=4294967296;return new l(A,0)}function g(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return N(g(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(A,8)),O=_,L=0;L<S.length;L+=8){var V=Math.min(8,S.length-L),D=parseInt(S.substring(L,L+V),A);8>V?(V=p(Math.pow(A,V)),O=O.j(V).add(p(D))):(O=O.j(k),O=O.add(p(D)))}return O}var _=h(0),T=h(1),C=h(16777216);n=l.prototype,n.m=function(){if(x(this))return-N(this).m();for(var S=0,A=1,k=0;k<this.g.length;k++){var O=this.i(k);S+=(0<=O?O:4294967296+O)*A,A*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(x(this))return"-"+N(this).toString(S);for(var A=p(Math.pow(S,6)),k=this,O="";;){var L=q(k,A).g;k=H(k,L.j(A));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=L,P(k))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function x(S){return S.h==-1}n.l=function(S){return S=H(this,S),x(S)?-1:P(S)?0:1};function N(S){for(var A=S.g.length,k=[],O=0;O<A;O++)k[O]=~S.g[O];return new l(k,~S.h).add(T)}n.abs=function(){return x(this)?N(this):this},n.add=function(S){for(var A=Math.max(this.g.length,S.g.length),k=[],O=0,L=0;L<=A;L++){var V=O+(this.i(L)&65535)+(S.i(L)&65535),D=(V>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);O=D>>>16,V&=65535,D&=65535,k[L]=D<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function H(S,A){return S.add(N(A))}n.j=function(S){if(P(this)||P(S))return _;if(x(this))return x(S)?N(this).j(N(S)):N(N(this).j(S));if(x(S))return N(this.j(N(S)));if(0>this.l(C)&&0>S.l(C))return p(this.m()*S.m());for(var A=this.g.length+S.g.length,k=[],O=0;O<2*A;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<S.g.length;L++){var V=this.i(O)>>>16,D=this.i(O)&65535,we=S.i(L)>>>16,xe=S.i(L)&65535;k[2*O+2*L]+=D*xe,$(k,2*O+2*L),k[2*O+2*L+1]+=V*xe,$(k,2*O+2*L+1),k[2*O+2*L+1]+=D*we,$(k,2*O+2*L+1),k[2*O+2*L+2]+=V*we,$(k,2*O+2*L+2)}for(O=0;O<A;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=A;O<2*A;O++)k[O]=0;return new l(k,0)};function $(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function z(S,A){this.g=S,this.h=A}function q(S,A){if(P(A))throw Error("division by zero");if(P(S))return new z(_,_);if(x(S))return A=q(N(S),A),new z(N(A.g),N(A.h));if(x(A))return A=q(S,N(A)),new z(N(A.g),A.h);if(30<S.g.length){if(x(S)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var k=T,O=A;0>=O.l(S);)k=Z(k),O=Z(O);var L=Q(k,1),V=Q(O,1);for(O=Q(O,2),k=Q(k,2);!P(O);){var D=V.add(O);0>=D.l(S)&&(L=L.add(k),V=D),O=Q(O,1),k=Q(k,1)}return A=H(S,L.j(A)),new z(L,A)}for(L=_;0<=S.l(A);){for(k=Math.max(1,Math.floor(S.m()/A.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=p(k),D=V.j(A);x(D)||0<D.l(S);)k-=O,V=p(k),D=V.j(A);P(V)&&(V=T),L=L.add(V),S=H(S,D)}return new z(L,S)}n.A=function(S){return q(this,S).h},n.and=function(S){for(var A=Math.max(this.g.length,S.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)&S.i(O);return new l(k,this.h&S.h)},n.or=function(S){for(var A=Math.max(this.g.length,S.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)|S.i(O);return new l(k,this.h|S.h)},n.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)^S.i(O);return new l(k,this.h^S.h)};function Z(S){for(var A=S.g.length+1,k=[],O=0;O<A;O++)k[O]=S.i(O)<<1|S.i(O-1)>>>31;return new l(k,S.h)}function Q(S,A){var k=A>>5;A%=32;for(var O=S.g.length-k,L=[],V=0;V<O;V++)L[V]=0<A?S.i(V+k)>>>A|S.i(V+k+1)<<32-A:S.i(V+k);return new l(L,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,co=l}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FA,Gu,BA,kf,jg,HA,zA,WA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var E=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var K=c[b];if(!(K in E))break e;E=E[K]}c=c[c.length-1],b=E[c],y=y(b),y!=b&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var E=0,b=!1,K={next:function(){if(!b&&E<c.length){var te=E++;return{value:y(te,c[te]),done:!1}}return b=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function h(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function _(c,y,E){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,b),c.apply(y,K)}}return function(){return c.apply(y,arguments)}}function T(c,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function C(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function P(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(b,K,te){for(var me=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)me[bt-2]=arguments[bt];return y.prototype[K].apply(b,me)}}function x(c){const y=c.length;if(0<y){const E=Array(y);for(let b=0;b<y;b++)E[b]=c[b];return E}return[]}function N(c,y){for(let E=1;E<arguments.length;E++){const b=arguments[E];if(h(b)){const K=c.length||0,te=b.length||0;c.length=K+te;for(let me=0;me<te;me++)c[K+me]=b[me]}else c.push(b)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function q(c){return q[" "](c),c}q[" "]=function(){};var Z=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Q(c,y,E){for(const b in c)y.call(E,c[b],b,c)}function S(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function A(c){const y={};for(const E in c)y[E]=c[E];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let E,b;for(let K=1;K<arguments.length;K++){b=arguments[K];for(E in b)c[E]=b[E];for(let te=0;te<k.length;te++)E=k[te],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function L(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function V(c){d.setTimeout(()=>{throw c},0)}function D(){var c=pe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,E){const b=xe.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var xe=new H(()=>new Fe,c=>c.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,pe=new we,ae=()=>{const c=d.Promise.resolve(void 0);Ne=()=>{c.then(F)}};var F=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(E){V(E)}var y=xe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c}();function Te(c,y){if(he.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{q(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}P(Te,he);var Ae={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function st(c,y,E,b,K){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=K,this.key=++Ue,this.da=this.fa=!1}function Et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function It(c){this.src=c,this.g={},this.h=0}It.prototype.add=function(c,y,E,b,K){var te=c.toString();c=this.g[te],c||(c=this.g[te]=[],this.h++);var me=kt(c,y,b,K);return-1<me?(y=c[me],E||(y.fa=!1)):(y=new st(y,this.src,te,!!b,K),y.fa=E,c.push(y)),y};function it(c,y){var E=y.type;if(E in c.g){var b=c.g[E],K=Array.prototype.indexOf.call(b,y,void 0),te;(te=0<=K)&&Array.prototype.splice.call(b,K,1),te&&(Et(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function kt(c,y,E,b){for(var K=0;K<c.length;++K){var te=c[K];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==b)return K}return-1}var qt="closure_lm_"+(1e6*Math.random()|0),rt={};function jt(c,y,E,b,K){if(Array.isArray(y)){for(var te=0;te<y.length;te++)jt(c,y[te],E,b,K);return null}return E=on(E),c&&c[qe]?c.K(y,E,p(b)?!!b.capture:!1,K):hn(c,y,E,!1,b,K)}function hn(c,y,E,b,K,te){if(!y)throw Error("Invalid event type");var me=p(K)?!!K.capture:!!K,bt=Pn(c);if(bt||(c[qt]=bt=new It(c)),E=bt.add(y,E,b,me,te),E.proxy)return E;if(b=Rr(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)ve||(K=me),K===void 0&&(K=!1),c.addEventListener(y.toString(),b,K);else if(c.attachEvent)c.attachEvent(Jt(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rr(){function c(E){return y.call(c.src,c.listener,E)}const y=Jn;return c}function Bn(c,y,E,b,K){if(Array.isArray(y))for(var te=0;te<y.length;te++)Bn(c,y[te],E,b,K);else b=p(b)?!!b.capture:!!b,E=on(E),c&&c[qe]?(c=c.i,y=String(y).toString(),y in c.g&&(te=c.g[y],E=kt(te,E,b,K),-1<E&&(Et(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete c.g[y],c.h--)))):c&&(c=Pn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=kt(y,E,b,K)),(E=-1<c?y[c]:null)&&Ft(E))}function Ft(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[qe])it(y.i,c);else{var E=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(E,b,c.capture):y.detachEvent?y.detachEvent(Jt(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Pn(y))?(it(E,c),E.h==0&&(E.src=null,y[qt]=null)):Et(c)}}}function Jt(c){return c in rt?rt[c]:rt[c]="on"+c}function Jn(c,y){if(c.da)c=!0;else{y=new Te(y,this);var E=c.listener,b=c.ha||c.src;c.fa&&Ft(c),c=E.call(b,y)}return c}function Pn(c){return c=c[qt],c instanceof It?c:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(c){return typeof c=="function"?c:(c[Dt]||(c[Dt]=function(y){return c.handleEvent(y)}),c[Dt])}function $e(){ee.call(this),this.i=new It(this),this.M=this,this.F=null}P($e,ee),$e.prototype[qe]=!0,$e.prototype.removeEventListener=function(c,y,E,b){Bn(this,c,y,E,b)};function mt(c,y){var E,b=c.F;if(b)for(E=[];b;b=b.F)E.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new he(y,c);else if(y instanceof he)y.target=y.target||c;else{var K=y;y=new he(b,c),O(y,K)}if(K=!0,E)for(var te=E.length-1;0<=te;te--){var me=y.g=E[te];K=Ot(me,b,!0,y)&&K}if(me=y.g=c,K=Ot(me,b,!0,y)&&K,K=Ot(me,b,!1,y)&&K,E)for(te=0;te<E.length;te++)me=y.g=E[te],K=Ot(me,b,!1,y)&&K}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],b=0;b<E.length;b++)Et(E[b]);delete c.g[y],c.h--}}this.F=null},$e.prototype.K=function(c,y,E,b){return this.i.add(String(c),y,!1,E,b)},$e.prototype.L=function(c,y,E,b){return this.i.add(String(c),y,!0,E,b)};function Ot(c,y,E,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,te=0;te<y.length;++te){var me=y[te];if(me&&!me.da&&me.capture==E){var bt=me.listener,an=me.ha||me.src;me.fa&&it(c.i,me),K=bt.call(an,b)!==!1&&K}}return K&&!b.defaultPrevented}function pn(c,y,E){if(typeof c=="function")E&&(c=T(c,E));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Hn(c){c.g=pn(()=>{c.g=null,c.i&&(c.i=!1,Hn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class zn extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(c){ee.call(this),this.h=c,this.g={}}P(Be,ee);var ot=[];function mn(c){Q(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ft(y)},c),c.g={}}Be.prototype.N=function(){Be.aa.N.call(this),mn(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,di=d.JSON.parse,bo=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function fi(){}fi.prototype.h=null;function qr(c){return c.h||(c.h=c.i())}function Vi(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){he.call(this,"d")}P(er,he);function Ss(){he.call(this,"c")}P(Ss,he);var pr={},No=null;function hi(){return No=No||new $e}pr.La="serverreachability";function pi(c){he.call(this,pr.La,c)}P(pi,he);function tr(c){const y=hi();mt(y,new pi(y))}pr.STAT_EVENT="statevent";function ko(c,y){he.call(this,pr.STAT_EVENT,c),this.stat=y}P(ko,he);function Bt(c){const y=hi();mt(y,new ko(y,c))}pr.Ma="timingevent";function U(c,y){he.call(this,pr.Ma,c),this.size=y}P(U,he);function W(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function re(c,y,E,b,K,te){c.info(function(){if(c.g)if(te)for(var me="",bt=te.split("&"),an=0;an<bt.length;an++){var vt=bt[an].split("=");if(1<vt.length){var gn=vt[0];vt=vt[1];var en=gn.split("_");me=2<=en.length&&en[1]=="type"?me+(gn+"="+vt+"&"):me+(gn+"=redacted&")}}else me=null;else me=te;return"XMLHTTP REQ ("+b+") [attempt "+K+"]: "+y+`
`+E+`
`+me})}function _e(c,y,E,b,K,te,me){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+K+"]: "+y+`
`+E+`
`+te+" "+me})}function ke(c,y,E,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(c,E)+(b?" "+b:"")})}function Qe(c,y){c.info(function(){return"TIMEOUT: "+y})}X.prototype.info=function(){};function Pe(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var b=E[c];if(!(2>b.length)){var K=b[1];if(Array.isArray(K)&&!(1>K.length)){var te=K[0];if(te!="noop"&&te!="stop"&&te!="close")for(var me=1;me<K.length;me++)K[me]=""}}}}return Zn(E)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function et(){}P(et,fi),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},De=new et;function Je(c,y,E,b){this.j=c,this.i=y,this.l=E,this.R=b||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var Tt={},at={};function Rt(c,y,E){c.L=1,c.v=bs(yr(y)),c.m=E,c.P=!0,br(c,null)}function br(c,y){c.F=Date.now(),ct(c),c.A=yr(c.v);var E=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ks(E.i,"t",b),c.C=0,E=c.j.J,c.h=new Kt,c.g=ud(c.j,E?y:null,!c.m),0<c.O&&(c.M=new zn(T(c.Y,c,c.g),c.O)),y=c.U,E=c.g,b=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(ot[0]=K.toString()),K=ot);for(var te=0;te<K.length;te++){var me=jt(E,K[te],b||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),tr(),re(c.i,c.u,c.A,c.l,c.R,c.m)}Je.prototype.ca=function(c){c=c.target;const y=this.M;y&&rr(c)==3?y.j():this.Y(c)},Je.prototype.Y=function(c){try{if(c==this.g)e:{const en=rr(this.g);var y=this.g.Ba();const Pr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||en!=4||y==7||(y==8||0>=Pr?tr(3):tr(2)),gr(this);var E=this.g.Z();this.X=E;t:if(mi(this)){var b=du(this.g);c="";var K=b.length,te=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),On(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(te&&y==K-1)});b.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=E==200,_e(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,an=this.g;if((bt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(bt)){var vt=bt;break t}}vt=null}if(E=vt)ke(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gi(this,E);else{this.o=!1,this.s=3,Bt(12),En(this),On(this);break e}}if(this.P){E=!0;let _r;for(;!this.J&&this.C<me.length;)if(_r=mr(this,me),_r==at){en==4&&(this.s=4,Bt(14),E=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Tt){this.s=4,Bt(15),ke(this.i,this.l,me,"[Invalid Chunk]"),E=!1;break}else ke(this.i,this.l,_r,null),gi(this,_r);if(mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||me.length!=0||this.h.h||(this.s=1,Bt(16),E=!1),this.o=this.o&&E,!E)ke(this.i,this.l,me,"[Invalid Chunked Response]"),En(this),On(this);else if(0<me.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),hu(gn),gn.M=!0,Bt(11))}}else ke(this.i,this.l,me,null),gi(this,me);en==4&&En(this),this.o&&!this.J&&(en==4?La(this.j,this):(this.o=!1,ct(this)))}else ka(this.g),E==400&&0<me.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),En(this),On(this)}}}catch{}finally{}};function mi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mr(c,y){var E=c.C,b=y.indexOf(`
`,E);return b==-1?at:(E=Number(y.substring(E,b)),isNaN(E)?Tt:(b+=1,b+E>y.length?at:(y=y.slice(b,b+E),c.C=b+E,y)))}Je.prototype.cancel=function(){this.J=!0,En(this)};function ct(c){c.S=Date.now()+c.I,Is(c,c.I)}function Is(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=W(T(c.ba,c),y)}function gr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qe(this.i,this.A),this.L!=2&&(tr(),Bt(17)),En(this),this.s=2,On(this)):Is(this,this.S-c)};function On(c){c.j.G==0||c.J||La(c.j,c)}function En(c){gr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,mn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gi(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||ft(E.h,c))){if(!c.K&&ft(E.h,c)&&E.G==3){try{var b=E.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var K=b;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)xa(E),Xr(E);else break e;Oa(E),Bt(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=W(T(E.Za,E),6e3));if(1>=yi(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Bi(E,11)}else if((c.K||E.g==c)&&xa(E),!$(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let vt=K[y];if(E.T=vt[0],vt=vt[1],E.G==2)if(vt[0]=="c"){E.K=vt[1],E.ia=vt[2];const gn=vt[3];gn!=null&&(E.la=gn,E.j.info("VER="+E.la));const en=vt[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const Pr=vt[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(b=1.5*Pr,E.L=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const _r=c.g;if(_r){const Vo=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vo){var te=b.h;te.g||Vo.indexOf("spdy")==-1&&Vo.indexOf("quic")==-1&&Vo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Nr(te,te.h),te.h=null))}if(b.D){const Va=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(b.ya=Va,Pt(b.I,b.D,Va))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),b=E;var me=c;if(b.qa=ld(b,b.J?b.ia:null,b.W),me.K){Po(b.h,me);var bt=me,an=b.L;an&&(bt.I=an),bt.B&&(gr(bt),ct(bt)),b.g=me}else Mo(b);0<E.i.length&&Ei(E)}else vt[0]!="stop"&&vt[0]!="close"||Bi(E,7);else E.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Bi(E,7):Sn(E):vt[0]!="noop"&&E.l&&E.l.ta(vt),E.v=0)}}tr(4)}catch{}}var dt=class{constructor(c,y){this.g=c,this.map=y}};function Ct(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function ft(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Nr(c,y){c.g?c.g.add(y):c.h=y}function Po(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ct.prototype.cancel=function(){if(this.i=Ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ia(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return x(c.i)}function Ca(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var y=[],E=c.length,b=0;b<E;b++)y.push(c[b]);return y}y=[],E=0;for(b in c)y[E++]=c[b];return y}function Aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const b in c)y[E++]=b;return y}}}function Cs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Aa(c),b=Ca(c),K=b.length,te=0;te<K;te++)y.call(void 0,b[te],E&&E[te],c)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var b=c[E].indexOf("="),K=null;if(0<=b){var te=c[E].substring(0,b);K=c[E].substring(b+1)}else te=c[E];y(te,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function $i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $i){this.h=c.h,Oo(this,c.j),this.o=c.o,this.g=c.g,As(this,c.s),this.l=c.l;var y=c.i,E=new vi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Rs(this,E),this.m=c.m}else c&&(y=String(c).match(Do))?(this.h=!1,Oo(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),As(this,y[4]),this.l=gt(y[5]||"",!0),Rs(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}$i.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ns(y,Ra,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,Ra,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ns(E,E.charAt(0)=="/"?ed:Zc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ns(E,lu)),c.join("")};function yr(c){return new $i(c)}function Oo(c,y,E){c.j=E?gt(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Rs(c,y,E){y instanceof vi?(c.i=y,_i(c.i,c.h)):(E||(y=Ns(y,td)),c.i=new vi(y,c.h))}function Pt(c,y,E){c.i.set(y,E)}function bs(c){return Pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function gt(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Jc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ra=/[#\/\?@]/g,Zc=/[#\?:]/g,ed=/[#\?]/g,td=/[#\?@]/g,lu=/#/g;function vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=vi.prototype,n.add=function(c,y){Tn(this),this.i=null,c=kr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Kr(c,y){Tn(c),y=kr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gr(c,y){return Tn(c),y=kr(c,y),c.g.has(y)}n.forEach=function(c,y){Tn(this),this.g.forEach(function(E,b){E.forEach(function(K){c.call(y,K,b,this)},this)},this)},n.na=function(){Tn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let b=0;b<y.length;b++){const K=c[b];for(let te=0;te<K.length;te++)E.push(y[b])}return E},n.V=function(c){Tn(this);let y=[];if(typeof c=="string")Gr(this,c)&&(y=y.concat(this.g.get(kr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},n.set=function(c,y){return Tn(this),this.i=null,c=kr(this,c),Gr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ks(c,y,E){Kr(c,y),0<E.length&&(c.i=null,c.g.set(kr(c,y),x(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var b=y[E];const te=encodeURIComponent(String(b)),me=this.V(b);for(b=0;b<me.length;b++){var K=te;me[b]!==""&&(K+="="+encodeURIComponent(String(me[b]))),c.push(K)}}return this.i=c.join("&")};function kr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _i(c,y){y&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(E,b){var K=b.toLowerCase();b!=K&&(Kr(this,b),ks(this,K,E))},c)),c.j=y}function ep(c,y){const E=new X;if(d.Image){const b=new Image;b.onload=C(nr,E,"TestLoadImage: loaded",!0,y,b),b.onerror=C(nr,E,"TestLoadImage: error",!1,y,b),b.onabort=C(nr,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=C(nr,E,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function nd(c,y){const E=new X,b=new AbortController,K=setTimeout(()=>{b.abort(),nr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(te=>{clearTimeout(K),te.ok?nr(E,"TestPingServer: ok",!0,y):nr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),nr(E,"TestPingServer: error",!1,y)})}function nr(c,y,E,b,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),b(E)}catch{}}function tp(){this.g=new bo}function rd(c,y,E){const b=E||"";try{Cs(c,function(K,te){let me=K;p(K)&&(me=Zn(K)),y.push(b+te+"="+encodeURIComponent(me))})}catch(K){throw y.push(b+"type="+encodeURIComponent("_badmap")),K}}function Ui(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Ui,fi),Ui.prototype.g=function(){return new xo(this.l,this.j)},Ui.prototype.i=function(c){return function(){return c}}({});function xo(c,y){$e.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(xo,$e),n=xo.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Yr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;id(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function id(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Qr(this):Yr(this),this.readyState==3&&id(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Qr(this))},n.Qa=function(c){this.g&&(this.response=c,Qr(this))},n.ga=function(){this.g&&Qr(this)};function Qr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ji(c){let y="";return Q(c,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function Ps(c,y,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=ji(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Pt(c,y,E))}function Vt(c){$e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Vt,$e);var np=/^https?$/i,uu=["POST","PUT"];n=Vt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?qr(this.o):qr(De),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(te){Lo(this,te);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var K in b)E.set(K,b[K]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const te of b.keys())E.set(te,b.get(te));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),K=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(uu,y,void 0))||b||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,me]of E)this.g.setRequestHeader(te,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Na(this),this.u=!0,this.g.send(c),this.u=!1}catch(te){Lo(this,te)}};function Lo(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),vr(c)}function ba(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cu(this):this.bb())},n.bb=function(){cu(this)};function cu(c){if(c.h&&typeof l<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)pn(c.Ea,0,c);else if(mt(c,"readystatechange"),rr(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var b;if(b=me===0){var K=String(c.D).match(Do)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),b=!np.test(K?K.toLowerCase():"")}E=b}if(E)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var te=2<rr(c)?c.g.statusText:""}catch{te=""}c.l=te+" ["+c.Z()+"]",ba(c)}}finally{vr(c)}}}}function vr(c,y){if(c.g){Na(c);const E=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||mt(c,"ready");try{E.onreadystatechange=b}catch{}}}function Na(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),di(y)}};function du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ka(c){const y={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if($(c[b]))continue;var E=L(c[b]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[K]||[];y[K]=te,te.push(E)}S(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function fu(c){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,c),this.cb=wi("retryDelaySeedMs",1e4,c),this.Wa=wi("forwardChannelMaxRetries",2,c),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ct(c&&c.concurrentRequestLimit),this.Da=new tp,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fu.prototype,n.la=8,n.G=1,n.connect=function(c,y,E,b){Bt(0),this.W=c,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.I=ld(this,null,this.W),Ei(this)};function Sn(c){if(Pa(c),c.G==3){var y=c.U++,E=yr(c.I);if(Pt(E,"SID",c.K),Pt(E,"RID",y),Pt(E,"TYPE","terminate"),Fi(c,E),y=new Je(c,c.j,y),y.L=2,y.v=bs(yr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=ud(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}ad(c)}function Xr(c){c.g&&(hu(c),c.g.cancel(),c.g=null)}function Pa(c){Xr(c),c.u&&(d.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ei(c){if(!Zt(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ne||ae(),ne||(Ne(),ne=!0),pe.add(y,c),c.B=0}}function rp(c,y){return yi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=W(T(c.Ga,c,y),od(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new Je(this,this.j,c);let te=this.o;if(this.S&&(te?(te=A(te),O(te,this.S)):te=this.S),this.m!==null||this.O||(K.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ds(this,K,y),E=yr(this.I),Pt(E,"RID",c),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),Fi(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(ji(te)))+"&"+y:this.m&&Ps(E,this.m,te)),Nr(this.h,K),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",y),Pt(E,"SID","null"),K.T=!0,Rt(K,E,null)):Rt(K,E,y),this.G=2}}else this.G==3&&(c?Da(this,c):this.i.length==0||Zt(this.h)||Da(this))};function Da(c,y){var E;y?E=y.l:E=c.U++;const b=yr(c.I);Pt(b,"SID",c.K),Pt(b,"RID",E),Pt(b,"AID",c.T),Fi(c,b),c.m&&c.o&&Ps(b,c.m,c.o),E=new Je(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ds(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nr(c.h,E),Rt(E,b,y)}function Fi(c,y){c.H&&Q(c.H,function(E,b){Pt(y,b,E)}),c.l&&Cs({},function(E,b){Pt(y,b,E)})}function Ds(c,y,E){E=Math.min(c.i.length,E);var b=c.l?T(c.l.Na,c.l,c):null;e:{var K=c.i;let te=-1;for(;;){const me=["count="+E];te==-1?0<E?(te=K[0].g,me.push("ofs="+te)):te=0:me.push("ofs="+te);let bt=!0;for(let an=0;an<E;an++){let vt=K[an].g;const gn=K[an].map;if(vt-=te,0>vt)te=Math.max(0,K[an].g-100),bt=!1;else try{rd(gn,me,"req"+vt+"_")}catch{b&&b(gn)}}if(bt){b=me.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,b}function Mo(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ne||ae(),ne||(Ne(),ne=!0),pe.add(y,c),c.v=0}}function Oa(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=W(T(c.Fa,c),od(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,sd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=W(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Xr(this),sd(this))};function hu(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function sd(c){c.g=new Je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yr(c.qa);Pt(y,"RID","rpc"),Pt(y,"SID",c.K),Pt(y,"AID",c.T),Pt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pt(y,"TO",c.ja),Pt(y,"TYPE","xmlhttp"),Fi(c,y),c.m&&c.o&&Ps(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=bs(yr(y)),E.m=null,E.P=!0,br(E,c)}n.Za=function(){this.C!=null&&(this.C=null,Xr(this),Oa(this),Bt(19))};function xa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function La(c,y){var E=null;if(c.g==y){xa(c),hu(c),c.g=null;var b=2}else if(ft(c.h,y))E=y.D,Po(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=c.B;b=hi(),mt(b,new U(b,E)),Ei(c)}else Mo(c);else if(K=y.s,K==3||K==0&&0<y.X||!(b==1&&rp(c,y)||b==2&&Oa(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),K){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function od(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Bi(c,y){if(c.j.info("Error code "+y),y==2){var E=T(c.fb,c),b=c.Xa;const K=!b;b=new $i(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oo(b,"https"),bs(b),K?ep(b.toString(),E):nd(b.toString(),E)}else Bt(2);c.G=0,c.l&&c.l.sa(y),ad(c),Pa(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function ad(c){if(c.G=0,c.ka=[],c.l){const y=Ia(c.h);(y.length!=0||c.i.length!=0)&&(N(c.ka,y),N(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function ld(c,y,E){var b=E instanceof $i?yr(E):new $i(E);if(b.g!="")y&&(b.g=y+"."+b.g),As(b,b.s);else{var K=d.location;b=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var te=new $i(null);b&&Oo(te,b),y&&(te.g=y),K&&As(te,K),E&&(te.l=E),b=te}return E=c.D,y=c.ya,E&&y&&Pt(b,E,y),Pt(b,"VER",c.la),Fi(c,b),b}function ud(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Vt(new Ui({eb:E})):new Vt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}n=pu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ma(){}Ma.prototype.g=function(c,y){return new Wn(c,y)};function Wn(c,y){$e.call(this),this.g=new fu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ti(this)}P(Wn,$e),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Sn(this.g)},Wn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Zn(c),c=E);y.i.push(new dt(y.Ya++,c)),y.G==3&&Ei(y)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,Wn.aa.N.call(this)};function cd(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(cd,er);function dd(){Ss.call(this),this.status=1}P(dd,Ss);function Ti(c){this.g=c}P(Ti,pu),Ti.prototype.ua=function(){mt(this.g,"a")},Ti.prototype.ta=function(c){mt(this.g,new cd(c))},Ti.prototype.sa=function(c){mt(this.g,new dd)},Ti.prototype.ra=function(){mt(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,WA=function(){return new Ma},zA=function(){return hi()},HA=pr,jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,kf=Re,Ie.COMPLETE="complete",BA=Ie,Vi.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Gu=Vi,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,FA=Vt}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",H0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new ev("@firebase/firestore");function hl(){return da.logLevel}function be(n,...e){if(da.logLevel<=ht.DEBUG){const t=e.map(rv);da.debug(`Firestore (${ru}): ${n}`,...t)}}function fs(n,...e){if(da.logLevel<=ht.ERROR){const t=e.map(rv);da.error(`Firestore (${ru}): ${n}`,...t)}}function Ml(n,...e){if(da.logLevel<=ht.WARN){const t=e.map(rv);da.warn(`Firestore (${ru}): ${n}`,...t)}}function rv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n="Unexpected state"){const e=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+n;throw fs(e),new Error(e)}function At(n,e){n||Xe()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends _s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Un.UNAUTHENTICATED))}shutdown(){}}class q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class K2{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fo,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},d=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fo)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new qA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new Un(e)}}class G2{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Q2{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new G2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y2{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,oi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new z0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new z0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X2(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function Vl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=-62135596800,q0=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*q0);return new dn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<W0)throw new Ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q0}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-W0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new dn(0,0))}static max(){return new tt(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="__name__";class Ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(),r===void 0?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Ri.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ri.isNumericId(e),s=Ri.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return co.fromString(e.substring(4,e.length-2))}}class Qt extends Ri{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const J2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Ri{construct(e,t,r){return new bn(e,t,r)}static isValidIdentifier(e){return J2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new bn([K0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ke(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new Ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Qt.fromString(e))}static fromName(e){return new Ge(Qt.fromString(e).popFirst(5))}static empty(){return new Ge(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Qt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function Z2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=tt.fromTimestamp(r===1e9?new dn(t+1,0):new dn(t,r));return new go(s,Ge.empty(),e)}function e$(n){return new go(n.readTime,n.key,hc)}class go{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new go(tt.min(),Ge.empty(),hc)}static max(){return new go(tt.max(),Ge.empty(),hc)}}function t$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ge.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==n$)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let s=0,a=0,l=!1;e.forEach(d=>{++s,d.next(()=>{++a,l&&a===s&&t()},h=>r(h))}),l=!0,a===s&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(s=>s?ie.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++d,d===a&&r(l)},g=>s(g))}})}static doWhile(e,t){return new ie((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function i$(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-1;function Vh(n){return n==null}function Xf(n){return n===0&&1/n==-1/0}function s$(n){return typeof n=="number"&&Number.isInteger(n)&&!Xf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="";function o$(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=G0(e)),e=a$(n.get(t),e);return G0(e)}function a$(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case GA:t+="";break;default:t+=a}}return t}function G0(n){return n+GA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new Wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??An.RED,this.left=s??An.EMPTY,this.right=a??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new An(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return An.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,r,s,a){return this}insert(e,t,r){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ai([])}unionWith(e){let t=new fn(bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new YA("Invalid base64 string: "+a):a}}(e);return new kn(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const l$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(n){if(At(!!n),typeof n=="string"){let e=0;const t=l$.exec(n);if(At(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vo(n){return typeof n=="string"?kn.fromBase64String(n):kn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="server_timestamp",JA="__type__",ZA="__previous_value__",eR="__local_write_time__";function sv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[JA])===null||t===void 0?void 0:t.stringValue)===XA}function $h(n){const e=n.mapValue.fields[ZA];return sv(e)?$h(e):e}function pc(n){const e=yo(n.mapValue.fields[eR].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,t,r,s,a,l,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const Jf="(default)";class mc{constructor(e,t){this.projectId=e,this.database=t||Jf}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="__type__",c$="__max__",vf={mapValue:{}},nR="__vector__",Zf="value";function _o(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sv(n)?4:f$(n)?9007199254740991:d$(n)?10:11:Xe()}function xi(n,e){if(n===e)return!0;const t=_o(n);if(t!==_o(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pc(n).isEqual(pc(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=yo(s.timestampValue),d=yo(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return vo(s.bytesValue).isEqual(vo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Xt(s.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Xt(s.integerValue)===Xt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Xt(s.doubleValue),d=Xt(a.doubleValue);return l===d?Xf(l)===Xf(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Vl(n.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Q0(l)!==Q0(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!xi(l[h],d[h])))return!1;return!0}(n,e);default:return Xe()}}function gc(n,e){return(n.values||[]).find(t=>xi(t,e))!==void 0}function $l(n,e){if(n===e)return 0;const t=_o(n),r=_o(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const d=Xt(a.integerValue||a.doubleValue),h=Xt(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return X0(n.timestampValue,e.timestampValue);case 4:return X0(pc(n),pc(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(a,l){const d=vo(a),h=vo(l);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const d=a.split("/"),h=l.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=yt(d[p],h[p]);if(g!==0)return g}return yt(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const d=yt(Xt(a.latitude),Xt(l.latitude));return d!==0?d:yt(Xt(a.longitude),Xt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return J0(n.arrayValue,e.arrayValue);case 10:return function(a,l){var d,h,p,g;const _=a.fields||{},T=l.fields||{},C=(d=_[Zf])===null||d===void 0?void 0:d.arrayValue,P=(h=T[Zf])===null||h===void 0?void 0:h.arrayValue,x=yt(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:J0(C,P)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===vf.mapValue&&l===vf.mapValue)return 0;if(a===vf.mapValue)return 1;if(l===vf.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const T=yt(h[_],g[_]);if(T!==0)return T;const C=$l(d[h[_]],p[g[_]]);if(C!==0)return C}return yt(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function X0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=yo(n),r=yo(e),s=yt(t.seconds,r.seconds);return s!==0?s:yt(t.nanos,r.nanos)}function J0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=$l(t[s],r[s]);if(a)return a}return yt(t.length,r.length)}function Ul(n){return Fg(n)}function Fg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=yo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return vo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Fg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Fg(t.fields[l])}`;return s+"}"}(n.mapValue):Xe()}function Pf(n){switch(_o(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(n);return e?16+Pf(e):16;case 5:return 2*n.stringValue.length;case 6:return vo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Pf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return wa(r.fields,(a,l)=>{s+=a.length+Pf(l)}),s}(n.mapValue);default:throw Xe()}}function Bg(n){return!!n&&"integerValue"in n}function ov(n){return!!n&&"arrayValue"in n}function Z0(n){return!!n&&"nullValue"in n}function eT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Df(n){return!!n&&"mapValue"in n}function d$(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tR])===null||t===void 0?void 0:t.stringValue)===nR}function rc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f$(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===c$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(t)}setAll(e){let t=bn.emptyPath(),r={},s=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=d.popLast()}l?r[d.lastSegment()]=rc(l):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Df(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){wa(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Ur(rc(this.value))}}function rR(n){const e=[];return wa(n.fields,(t,r)=>{const s=new bn([t]);if(Df(r)){const a=rR(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,t,r,s,a,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new jn(e,0,tt.min(),tt.min(),tt.min(),Ur.empty(),0)}static newFoundDocument(e,t,r,s){return new jn(e,1,t,tt.min(),r,s,0)}static newNoDocument(e,t){return new jn(e,2,t,tt.min(),tt.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,tt.min(),tt.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.position=e,this.inclusive=t}}function tT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=Ge.comparator(Ge.fromName(l.referenceValue),t.key):r=$l(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function nT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t="asc"){this.field=e,this.dir=t}}function h$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{}class cn extends iR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new m$(e,t,r):t==="array-contains"?new v$(e,r):t==="in"?new _$(e,r):t==="not-in"?new w$(e,r):t==="array-contains-any"?new E$(e,r):new cn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new g$(e,r):new y$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($l(t,this.value)):t!==null&&_o(this.value)===_o(t)&&this.matchesComparison($l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends iR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Li(e,t)}matches(e){return sR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sR(n){return n.op==="and"}function oR(n){return p$(n)&&sR(n)}function p$(n){for(const e of n.filters)if(e instanceof Li)return!1;return!0}function Hg(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+Ul(n.value);if(oR(n))return n.filters.map(e=>Hg(e)).join(",");{const e=n.filters.map(t=>Hg(t)).join(",");return`${n.op}(${e})`}}function aR(n,e){return n instanceof cn?function(r,s){return s instanceof cn&&r.op===s.op&&r.field.isEqual(s.field)&&xi(r.value,s.value)}(n,e):n instanceof Li?function(r,s){return s instanceof Li&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,d)=>a&&aR(l,s.filters[d]),!0):!1}(n,e):void Xe()}function lR(n){return n instanceof cn?function(t){return`${t.field.canonicalString()} ${t.op} ${Ul(t.value)}`}(n):n instanceof Li?function(t){return t.op.toString()+" {"+t.getFilters().map(lR).join(" ,")+"}"}(n):"Filter"}class m$ extends cn{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class g$ extends cn{constructor(e,t){super(e,"in",t),this.keys=uR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class y$ extends cn{constructor(e,t){super(e,"not-in",t),this.keys=uR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class v$ extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ov(t)&&gc(t.arrayValue,this.value)}}class _$ extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gc(this.value.arrayValue,t)}}class w$ extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gc(this.value.arrayValue,t)}}class E$ extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ov(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,t=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.le=null}}function rT(n,e=null,t=[],r=[],s=null,a=null,l=null){return new T$(n,e,t,r,s,a,l)}function av(n){const e=nt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Hg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ul(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ul(r)).join(",")),e.le=t}return e.le}function lv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!h$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nT(n.startAt,e.startAt)&&nT(n.endAt,e.endAt)}function zg(n){return Ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t=null,r=[],s=[],a=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function S$(n,e,t,r,s,a,l,d){return new Uh(n,e,t,r,s,a,l,d)}function uv(n){return new Uh(n)}function iT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I$(n){return n.collectionGroup!==null}function ic(n){const e=nt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new fn(bn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new th(a,r))}),t.has(bn.keyField().canonicalString())||e.he.push(new th(bn.keyField(),r))}return e.he}function Ni(n){const e=nt(n);return e.Pe||(e.Pe=C$(e,ic(n))),e.Pe}function C$(n,e){if(n.limitType==="F")return rT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new th(s.field,a)});const t=n.endAt?new eh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new eh(n.startAt.position,n.startAt.inclusive):null;return rT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Wg(n,e,t){return new Uh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jh(n,e){return lv(Ni(n),Ni(e))&&n.limitType===e.limitType}function cR(n){return`${av(Ni(n))}|lt:${n.limitType}`}function pl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>lR(s)).join(", ")}]`),Vh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Ul(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Ul(s)).join(",")),`Target(${r})`}(Ni(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of ic(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,d,h){const p=tT(l,d,h);return l.inclusive?p<=0:p<0}(r.startAt,ic(r),s)||r.endAt&&!function(l,d,h){const p=tT(l,d,h);return l.inclusive?p>=0:p>0}(r.endAt,ic(r),s))}(n,e)}function A$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dR(n){return(e,t)=>{let r=!1;for(const s of ic(n)){const a=R$(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function R$(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(a,l,d){const h=l.data.field(a),p=d.data.field(a);return h!==null&&p!==null?$l(h,p):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return QA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=new Wt(Ge.comparator);function hs(){return b$}const fR=new Wt(Ge.comparator);function Qu(...n){let e=fR;for(const t of n)e=e.insert(t.key,t);return e}function hR(n){let e=fR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function na(){return sc()}function pR(){return sc()}function sc(){return new Ea(n=>n.toString(),(n,e)=>n.isEqual(e))}const N$=new Wt(Ge.comparator),k$=new fn(Ge.comparator);function pt(...n){let e=k$;for(const t of n)e=e.add(t);return e}const P$=new fn(yt);function D$(){return P$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function mR(n){return{integerValue:""+n}}function O$(n,e){return s$(e)?mR(e):cv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function x$(n,e,t){return n instanceof nh?function(s,a){const l={fields:{[JA]:{stringValue:XA},[eR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&sv(a)&&(a=$h(a)),a&&(l.fields[ZA]=a),{mapValue:l}}(t,e):n instanceof yc?yR(n,e):n instanceof vc?vR(n,e):function(s,a){const l=gR(s,a),d=sT(l)+sT(s.Ie);return Bg(l)&&Bg(s.Ie)?mR(d):cv(s.serializer,d)}(n,e)}function L$(n,e,t){return n instanceof yc?yR(n,e):n instanceof vc?vR(n,e):t}function gR(n,e){return n instanceof rh?function(r){return Bg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class nh extends Bh{}class yc extends Bh{constructor(e){super(),this.elements=e}}function yR(n,e){const t=_R(e);for(const r of n.elements)t.some(s=>xi(s,r))||t.push(r);return{arrayValue:{values:t}}}class vc extends Bh{constructor(e){super(),this.elements=e}}function vR(n,e){let t=_R(e);for(const r of n.elements)t=t.filter(s=>!xi(s,r));return{arrayValue:{values:t}}}class rh extends Bh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function sT(n){return Xt(n.integerValue||n.doubleValue)}function _R(n){return ov(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function M$(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof yc&&s instanceof yc||r instanceof vc&&s instanceof vc?Vl(r.elements,s.elements,xi):r instanceof rh&&s instanceof rh?xi(r.Ie,s.Ie):r instanceof nh&&s instanceof nh}(n.transform,e.transform)}class V${constructor(e,t){this.version=e,this.transformResults=t}}class as{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hh{}function wR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new TR(n.key,as.none()):new Fc(n.key,n.data,as.none());{const t=n.data,r=Ur.empty();let s=new fn(bn.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Ta(n.key,r,new ai(s.toArray()),as.none())}}function $$(n,e,t){n instanceof Fc?function(s,a,l){const d=s.value.clone(),h=aT(s.fieldTransforms,a,l.transformResults);d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ta?function(s,a,l){if(!Of(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=aT(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(ER(s)),h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function oc(n,e,t,r){return n instanceof Fc?function(a,l,d,h){if(!Of(a.precondition,l))return d;const p=a.value.clone(),g=lT(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ta?function(a,l,d,h){if(!Of(a.precondition,l))return d;const p=lT(a.fieldTransforms,h,l),g=l.data;return g.setAll(ER(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,d){return Of(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d}(n,e,t)}function U$(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=gR(r.transform,s||null);a!=null&&(t===null&&(t=Ur.empty()),t.set(r.field,a))}return t||null}function oT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vl(r,s,(a,l)=>M$(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fc extends Hh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ta extends Hh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ER(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function aT(n,e,t){const r=new Map;At(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,L$(l,d,t[s]))}return r}function lT(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,x$(a,l,e))}return r}class TR extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j$ extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&$$(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=oc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=oc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pR();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(s.key)?null:d;const h=wR(l,d);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(t,r)=>oT(t,r))&&Vl(this.baseMutations,e.baseMutations,(t,r)=>oT(t,r))}}class dv{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){At(e.mutations.length===r.length);let s=function(){return N$}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new dv(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,_t;function z$(n){switch(n){case de.OK:return Xe();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Xe()}}function SR(n){if(n===void 0)return fs("GRPC error has no .code"),de.UNKNOWN;switch(n){case nn.OK:return de.OK;case nn.CANCELLED:return de.CANCELLED;case nn.UNKNOWN:return de.UNKNOWN;case nn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case nn.INTERNAL:return de.INTERNAL;case nn.UNAVAILABLE:return de.UNAVAILABLE;case nn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case nn.NOT_FOUND:return de.NOT_FOUND;case nn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case nn.ABORTED:return de.ABORTED;case nn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case nn.DATA_LOSS:return de.DATA_LOSS;default:return Xe()}}(_t=nn||(nn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new co([4294967295,4294967295],0);function uT(n){const e=W$().encode(n),t=new jA;return t.update(e),new Uint8Array(t.digest())}function cT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new co([t,r],0),new co([s,a],0)]}class fv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yu(`Invalid padding: ${t}`);if(r<0)throw new Yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=co.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(co.fromNumber(r)));return s.compare(q$)===1&&(s=new co([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=uT(e),[r,s]=cT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new fv(a,s,t);return r.forEach(d=>l.insert(d)),l}insert(e){if(this.Ee===0)return;const t=uT(e),[r,s]=cT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zh(tt.min(),s,new Wt(yt),hs(),pt())}}class Bc{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bc(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class IR{constructor(e,t){this.targetId=e,this.ge=t}}class CR{constructor(e,t,r=kn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class dT{constructor(){this.pe=0,this.ye=fT(),this.we=kn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=pt(),t=pt(),r=pt();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Xe()}}),new Bc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=fT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class K${constructor(e){this.ke=e,this.qe=new Map,this.Qe=hs(),this.$e=_f(),this.Ke=_f(),this.Ue=new Wt(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const a=s.target;if(zg(a))if(r===0){const l=new Ge(a.path);this.ze(t,l,jn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const d=this.tt(e),h=d?this.nt(d,e,l):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,d;try{l=vo(r).toUint8Array()}catch(h){if(h instanceof YA)return Ml("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new fv(l,s,a)}catch(h){return Ml(h instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ee===0?null:d}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.ke.it(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,a,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const d=this.Xe(l);if(d){if(a.current&&zg(d.target)){const h=new Ge(d.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,jn.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=pt();this.Ke.forEach((a,l)=>{let d=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new zh(e,t,this.Ue,this.Qe,r);return this.Qe=hs(),this.$e=_f(),this.Ke=_f(),this.Ue=new Wt(yt),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new dT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new fn(yt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new fn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function _f(){return new Wt(Ge.comparator)}function fT(){return new Wt(Ge.comparator)}const G$={asc:"ASCENDING",desc:"DESCENDING"},Q$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y$={and:"AND",or:"OR"};class X${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qg(n,e){return n.useProto3Json||Vh(e)?e:{value:e}}function ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function J$(n,e){return ih(n,e.toTimestamp())}function ki(n){return At(!!n),tt.fromTimestamp(function(t){const r=yo(t);return new dn(r.seconds,r.nanos)}(n))}function hv(n,e){return Kg(n,e).canonicalString()}function Kg(n,e){const t=function(s){return new Qt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RR(n){const e=Qt.fromString(n);return At(DR(e)),e}function Gg(n,e){return hv(n.databaseId,e.path)}function sg(n,e){const t=RR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(NR(t))}function bR(n,e){return hv(n.databaseId,e)}function Z$(n){const e=RR(n);return e.length===4?Qt.emptyPath():NR(e)}function Qg(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NR(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function hT(n,e,t){return{name:Gg(n,e),fields:t.value.mapValue.fields}}function eU(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string"),kn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array),kn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(p){const g=p.code===void 0?de.UNKNOWN:SR(p.code);return new Ke(g,p.message||"")}(l);t=new CR(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sg(n,r.document.name),a=ki(r.document.updateTime),l=r.document.createTime?ki(r.document.createTime):tt.min(),d=new Ur({mapValue:{fields:r.document.fields}}),h=jn.newFoundDocument(s,a,l,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new xf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sg(n,r.document),a=r.readTime?ki(r.readTime):tt.min(),l=jn.newNoDocument(s,a),d=r.removedTargetIds||[];t=new xf([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sg(n,r.document),a=r.removedTargetIds||[];t=new xf([],a,s,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new H$(s,a),d=r.targetId;t=new IR(d,l)}}return t}function tU(n,e){let t;if(e instanceof Fc)t={update:hT(n,e.key,e.value)};else if(e instanceof TR)t={delete:Gg(n,e.key)};else if(e instanceof Ta)t={update:hT(n,e.key,e.data),updateMask:cU(e.fieldMask)};else{if(!(e instanceof j$))return Xe();t={verify:Gg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const d=l.transform;if(d instanceof nh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof rh)return{fieldPath:l.field.canonicalString(),increment:d.Ie};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:J$(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(n,e.precondition)),t}function nU(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(s,a){let l=s.updateTime?ki(s.updateTime):ki(a);return l.isEqual(tt.min())&&(l=ki(a)),new V$(l,s.transformResults||[])}(t,e))):[]}function rU(n,e){return{documents:[bR(n,e.path)]}}function iU(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bR(n,s);const a=function(p){if(p.length!==0)return PR(Li.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:ml(T.field),direction:aU(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=qg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function sU(n){let e=Z$(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){At(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=kR(_);return T instanceof Li&&oR(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(P){return new th(gl(P.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(_){let T;return T=typeof _=="object"?_.value:_,Vh(T)?null:T}(t.limit));let h=null;t.startAt&&(h=function(_){const T=!!_.before,C=_.values||[];return new eh(C,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,C=_.values||[];return new eh(C,T)}(t.endAt)),S$(e,s,l,a,d,"F",h,p)}function oU(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=gl(t.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gl(t.unaryFilter.field);return cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gl(t.unaryFilter.field);return cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=gl(t.unaryFilter.field);return cn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):n.fieldFilter!==void 0?function(t){return cn.create(gl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Li.create(t.compositeFilter.filters.map(r=>kR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(n):Xe()}function aU(n){return G$[n]}function lU(n){return Q$[n]}function uU(n){return Y$[n]}function ml(n){return{fieldPath:n.canonicalString()}}function gl(n){return bn.fromServerFormat(n.fieldPath)}function PR(n){return n instanceof cn?function(t){if(t.op==="=="){if(eT(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NAN"}};if(Z0(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eT(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NAN"}};if(Z0(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(t.field),op:lU(t.op),value:t.value}}}(n):n instanceof Li?function(t){const r=t.getFilters().map(s=>PR(s));return r.length===1?r[0]:{compositeFilter:{op:uU(t.op),filters:r}}}(n):Xe()}function cU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t,r,s,a=tt.min(),l=tt.min(),d=kn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.Tt=e}}function fU(n){const e=sU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.Tn=new pU}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(go.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(go.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class pU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new fn(Qt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new fn(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(OR,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new jl(0)}static Un(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="LruGarbageCollector",mU=1048576;function gT([n,e],[t,r]){const s=yt(n,t);return s===0?yt(e,r):s}class gU{constructor(e){this.Hn=e,this.buffer=new fn(gT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(mT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){su(t)?be(mT,"Ignoring IndexedDB error during garbage collection: ",t):await iu(t)}await this.er(3e5)})}}class vU{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Mh.ae);const r=new gU(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(pT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,a,l,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),hl()<=ht.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function _U(n,e){return new vU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&oc(r.mutation,s,ai.empty(),dn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const s=na();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=Qu();return a.forEach((d,h)=>{l=l.insert(d,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,r,s){let a=hs();const l=sc(),d=function(){return sc()}();return t.forEach((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Ta)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),oc(g.mutation,p,g.mutation.getFieldMask(),dn.now())):l.set(p.key,ai.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return d.set(p,new EU(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const r=sc();let s=new Wt((l,d)=>l-d),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||ai.empty();g=d.applyToLocalView(p,g),r.set(h,g);const _=(s.get(d.batchId)||pt()).add(h);s=s.insert(d.batchId,_)})}).next(()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,_=pR();g.forEach(T=>{if(!a.has(T)){const C=wR(t.get(T),r.get(T));C!==null&&_.set(T,C),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ie.resolve(na());let d=hc,h=a;return l.next(p=>ie.forEach(p,(g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{h=h.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,pt())).next(g=>({batchId:d,changes:hR(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let s=Qu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Qu();return this.indexManager.getCollectionParents(e,a).next(d=>ie.forEach(d,h=>{const p=function(_,T){return new Uh(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,jn.newInvalidDocument(g)))});let d=Qu();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&oc(g.mutation,p,ai.empty(),dn.now()),Fh(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ki(s.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:fU(s.bundledQuery),readTime:ki(s.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.overlays=new Wt(Ge.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=na();return ie.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Et(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const s=na(),a=t.length+1,l=new Ge(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Wt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=na(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=na(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=s)););return ie.resolve(d)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new B$(t,r));let a=this.Rr.get(t);a===void 0&&(a=pt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.Vr=new fn(wn.mr),this.gr=new fn(wn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new wn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new wn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ge(new Qt([])),r=new wn(t,e),s=new wn(t,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ge(new Qt([])),r=new wn(t,e),s=new wn(t,e+1);let a=pt();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new wn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ge.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||Ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new fn(wn.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new F$(a,t,r,s);this.mutationQueue.push(l);for(const d of s)this.Mr=this.Mr.add(new wn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),a=s<0?0:s;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?iv:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wn(t,0),s=new wn(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const d=this.Or(l.Cr);a.push(d)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(yt);return t.forEach(s=>{const a=new wn(s,0),l=new wn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],d=>{r=r.add(d.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ge.isDocumentKey(a)||(a=a.child(""));const l=new wn(new Ge(a),0);let d=new fn(yt);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.Cr)),!0)},l),ie.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,s=>{const a=new wn(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new wn(t,0),s=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.kr=e,this.docs=function(){return new Wt(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=hs();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():jn.newInvalidDocument(s))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=hs();const l=t.path,d=new Ge(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||t$(e$(g),r)<=0||(s.has(g.key)||Fh(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Xe()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new bU(this)}getSize(e){return ie.resolve(this.size)}}class bU extends wU{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.persistence=e,this.Qr=new Ea(t=>av(t),lv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new pv,this.targetCount=0,this.Ur=jl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new jl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Qr.forEach((l,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ie.waitFor(a).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Mh(0),this.zr=!1,this.zr=!0,this.jr=new CU,this.referenceDelegate=e(this),this.Hr=new NU(this),this.indexManager=new hU,this.remoteDocumentCache=function(s){return new RU(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new dU(t),this.Yr=new SU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new AU(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const s=new kU(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class kU extends r${constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.ti=new pv,this.ni=null}static ri(e){return new mv(e)}get ii(){if(this.ni)return this.ni;throw Xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const s=Ge.fromPath(r);return this.si(e,s).next(a=>{a||t.removeEntry(s,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class sh{constructor(e,t){this.persistence=e,this.oi=new Ea(r=>o$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=_U(this,t)}static ri(e,t){return new sh(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?ie.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(d=>{d||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pf(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ie.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=pt(),s=pt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new gv(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return CV()?8:i$(Fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new PU;return this._s(e,t,l).next(d=>{if(a.result=d,this.Xi)return this.us(e,t,l,d.size)})}).next(()=>a.result)}us(e,t,r,s){return r.documentReadCount<this.es?(hl()<=ht.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",pl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(hl()<=ht.DEBUG&&be("QueryEngine","Query:",pl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(hl()<=ht.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",pl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):ie.resolve())}rs(e,t){if(iT(t))return ie.resolve(null);let r=Ni(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Wg(t,null,"F"),r=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=pt(...a);return this.ns.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,d);return this.ls(t,p,l,h.readTime)?this.rs(e,Wg(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,s){return iT(t)||s.isEqual(tt.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,s)?ie.resolve(null):(hl()<=ht.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pl(t)),this.hs(e,l,t,Z2(s,hc)).next(d=>d))})}cs(e,t){let r=new fn(dR(e));return t.forEach((s,a)=>{Fh(e,a)&&(r=r.add(a))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,t,r){return hl()<=ht.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",pl(t)),this.ns.getDocumentsMatchingQuery(e,t,go.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LocalStore",OU=3e8;class xU{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Wt(yt),this.Is=new Ea(a=>av(a),lv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function LU(n,e,t,r){return new xU(n,e,t,r)}async function LR(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],d=[];let h=pt();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:d}))})})}function MU(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,h,p,g){const _=p.batch,T=_.keys();let C=ie.resolve();return T.forEach(P=>{C=C.next(()=>g.getEntry(h,P)).next(x=>{const N=p.docVersions.get(P);At(N!==null),x.version.compareTo(N)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(h,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=pt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function MR(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function VU(n,e){const t=nt(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const d=[];e.targetChanges.forEach((g,_)=>{const T=s.get(_);if(!T)return;d.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(kn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),s=s.insert(_,C),function(x,N,H){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=OU?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,C,g)&&d.push(t.Hr.updateTargetData(a,C))});let h=hs(),p=pt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push($U(a,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(tt.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return ie.waitFor(d).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ts=s,a))}function $U(n,e,t){let r=pt(),s=pt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=hs();return t.forEach((d,h)=>{const p=a.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(tt.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):be(yv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function UU(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jU(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(a=>a?(s=a,ie.resolve(s)):t.Hr.allocateTargetId(r).next(l=>(s=new io(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Yg(n,e,t){const r=nt(n),s=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!su(l))throw l;be(yv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function yT(n,e,t){const r=nt(n);let s=tt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=nt(h),T=_.Is.get(g);return T!==void 0?ie.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Ni(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,d.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?s:tt.min(),t?a:pt())).next(d=>(FU(r,A$(e),d),{documents:d,gs:a})))}function FU(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class vT{constructor(){this.activeTargetIds=D$()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BU{constructor(){this.ho=new vT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new vT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="ConnectivityMonitor";class wT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(_T,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(_T,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf=null;function Xg(){return wf===null?wf=function(){return 268435456+Math.round(2147483648*Math.random())}():wf++,"0x"+wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",zU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WU{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,a){const l=Xg(),d=this.bo(e,t.toUriEncodedString());be(og,`Sending RPC '${e}' ${l}:`,d,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(e,d,h,r).then(p=>(be(og,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Ml(og,`RPC '${e}' ${l} failed with error: `,p,"url: ",d,"request:",r),p})}Co(e,t,r,s,a,l){return this.So(e,t,r,s,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,t){const r=zU[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class KU extends WU{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=Xg();return new Promise((l,d)=>{const h=new FA;h.setWithCredentials(!0),h.listenOnce(BA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case kf.NO_ERROR:const g=h.getResponseJson();be($n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case kf.TIMEOUT:be($n,`RPC '${e}' ${a} timed out`),d(new Ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const _=h.getStatus();if(be($n,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const P=function(N){const H=N.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN}(C.status);d(new Ke(P,C.message))}else d(new Ke(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ke(de.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{be($n,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);be($n,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=Xg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=WA(),d=zA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=a.join("");be($n,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=l.createWebChannel(g,h);let T=!1,C=!1;const P=new qU({Fo:N=>{C?be($n,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(T||(be($n,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),be($n,`RPC '${e}' stream ${s} sending:`,N),_.send(N))},Mo:()=>_.close()}),x=(N,H,$)=>{N.listen(H,z=>{try{$(z)}catch(q){setTimeout(()=>{throw q},0)}})};return x(_,Gu.EventType.OPEN,()=>{C||(be($n,`RPC '${e}' stream ${s} transport opened.`),P.Qo())}),x(_,Gu.EventType.CLOSE,()=>{C||(C=!0,be($n,`RPC '${e}' stream ${s} transport closed`),P.Ko())}),x(_,Gu.EventType.ERROR,N=>{C||(C=!0,Ml($n,`RPC '${e}' stream ${s} transport errored:`,N),P.Ko(new Ke(de.UNAVAILABLE,"The operation could not be completed")))}),x(_,Gu.EventType.MESSAGE,N=>{var H;if(!C){const $=N.data[0];At(!!$);const z=$,q=(z==null?void 0:z.error)||((H=z[0])===null||H===void 0?void 0:H.error);if(q){be($n,`RPC '${e}' stream ${s} received error:`,q);const Z=q.status;let Q=function(k){const O=nn[k];if(O!==void 0)return SR(O)}(Z),S=q.message;Q===void 0&&(Q=de.INTERNAL,S="Unknown error status: "+Z+" with message "+q.message),C=!0,P.Ko(new Ke(Q,S)),_.close()}else be($n,`RPC '${e}' stream ${s} received:`,$),P.Uo($)}}),x(d,HA.STAT_EVENT,N=>{N.stat===jg.PROXY?be($n,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===jg.NOPROXY&&be($n,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n){return new X$(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="PersistentStream";class $R{constructor(e,t,r,s,a,l,d,h){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new VR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(fs(t.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new Ke(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(ET,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(ET,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GU extends $R{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=eU(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?ki(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Qg(this.serializer),t.addTarget=function(a,l){let d;const h=l.target;if(d=zg(h)?{documents:rU(a,h)}:{query:iU(a,h).ht},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=AR(a,l.resumeToken);const p=qg(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){d.readTime=ih(a,l.snapshotVersion.toTimestamp());const p=qg(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=oU(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Qg(this.serializer),t.removeTarget=e,this.I_(t)}}class QU extends $R{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=nU(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Qg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tU(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{}class XU extends YU{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Kg(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(de.UNKNOWN,a.toString())})}Co(e,t,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Co(e,Kg(t,r),s,l,d,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ke(de.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(fs(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class ZU{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Sa(this)&&(be(fa,"Restarting streams for network reachability change."),await async function(h){const p=nt(h);p.W_.add(4),await Hc(p),p.j_.set("Unknown"),p.W_.delete(4),await qh(p)}(this))})}),this.j_=new JU(r,s)}}async function qh(n){if(Sa(n))for(const e of n.G_)await e(!0)}async function Hc(n){for(const e of n.G_)await e(!1)}function UR(n,e){const t=nt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Ev(t)?wv(t):ou(t).c_()&&_v(t,e))}function vv(n,e){const t=nt(n),r=ou(t);t.U_.delete(e),r.c_()&&jR(t,e),t.U_.size===0&&(r.c_()?r.P_():Sa(t)&&t.j_.set("Unknown"))}function _v(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ou(n).y_(e)}function jR(n,e){n.H_.Ne(e),ou(n).w_(e)}function wv(n){n.H_=new K$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ou(n).start(),n.j_.B_()}function Ev(n){return Sa(n)&&!ou(n).u_()&&n.U_.size>0}function Sa(n){return nt(n).W_.size===0}function FR(n){n.H_=void 0}async function e4(n){n.j_.set("Online")}async function t4(n){n.U_.forEach((e,t)=>{_v(n,e)})}async function n4(n,e){FR(n),Ev(n)?(n.j_.q_(e),wv(n)):n.j_.set("Unknown")}async function r4(n,e,t){if(n.j_.set("Online"),e instanceof CR&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const d of a.targetIds)s.U_.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.U_.delete(d),s.H_.removeTarget(d))}(n,e)}catch(r){be(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(n,r)}else if(e instanceof xf?n.H_.We(e):e instanceof IR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await MR(n.localStore);t.compareTo(r)>=0&&await function(a,l){const d=a.H_.ot(l);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(h.resumeToken,l))}}),d.targetMismatches.forEach((h,p)=>{const g=a.U_.get(h);if(!g)return;a.U_.set(h,g.withResumeToken(kn.EMPTY_BYTE_STRING,g.snapshotVersion)),jR(a,h);const _=new io(g.target,h,p,g.sequenceNumber);_v(a,_)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){be(fa,"Failed to raise snapshot:",r),await oh(n,r)}}async function oh(n,e,t){if(!su(e))throw e;n.W_.add(1),await Hc(n),n.j_.set("Offline"),t||(t=()=>MR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(fa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await qh(n)})}function BR(n,e){return e().catch(t=>oh(n,t,e))}async function Kh(n){const e=nt(n),t=wo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:iv;for(;i4(e);)try{const s=await UU(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,s4(e,s)}catch(s){await oh(e,s)}HR(e)&&zR(e)}function i4(n){return Sa(n)&&n.K_.length<10}function s4(n,e){n.K_.push(e);const t=wo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function HR(n){return Sa(n)&&!wo(n).u_()&&n.K_.length>0}function zR(n){wo(n).start()}async function o4(n){wo(n).C_()}async function a4(n){const e=wo(n);for(const t of n.K_)e.b_(t.mutations)}async function l4(n,e,t){const r=n.K_.shift(),s=dv.from(r,e,t);await BR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Kh(n)}async function u4(n,e){e&&wo(n).S_&&await async function(r,s){if(function(l){return z$(l)&&l!==de.ABORTED}(s.code)){const a=r.K_.shift();wo(r).h_(),await BR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Kh(r)}}(n,e),HR(n)&&zR(n)}async function TT(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),be(fa,"RemoteStore received new credentials");const r=Sa(t);t.W_.add(3),await Hc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await qh(t)}async function c4(n,e){const t=nt(n);e?(t.W_.delete(2),await qh(t)):e||(t.W_.add(2),await Hc(t),t.j_.set("Unknown"))}function ou(n){return n.J_||(n.J_=function(t,r,s){const a=nt(t);return a.M_(),new GU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:e4.bind(null,n),No:t4.bind(null,n),Lo:n4.bind(null,n),p_:r4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Ev(n)?wv(n):n.j_.set("Unknown")):(await n.J_.stop(),FR(n))})),n.J_}function wo(n){return n.Y_||(n.Y_=function(t,r,s){const a=nt(t);return a.M_(),new QU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:o4.bind(null,n),Lo:u4.bind(null,n),D_:a4.bind(null,n),v_:l4.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Kh(n)):(await n.Y_.stop(),n.K_.length>0&&(be(fa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,d=new Tv(e,t,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(n,e){if(fs("AsyncQueue",`${e}: ${n}`),su(n))return new Ke(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Qu(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.Z_=new Wt(Ge.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Fl{constructor(e,t,r,s,a,l,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Fl(e,t,vl.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class f4{constructor(){this.queries=IT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=nt(t),a=s.queries;s.queries=IT(),a.forEach((l,d)=>{for(const h of d.ta)h.onError(r)})})(this,new Ke(de.ABORTED,"Firestore shutting down"))}}function IT(){return new Ea(n=>cR(n),jh)}async function h4(n,e){const t=nt(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new d4,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(s,!0);break;case 1:a.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const d=Sv(l,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Iv(t)}async function p4(n,e){const t=nt(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function m4(n,e){const t=nt(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const d of l.ta)d.oa(s)&&(r=!0);l.ea=s}}r&&Iv(t)}function g4(n,e,t){const r=nt(n),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(t);r.queries.delete(e)}function Iv(n){n.ia.forEach(e=>{e.next()})}var Jg,CT;(CT=Jg||(Jg={}))._a="default",CT.Cache="cache";class y4{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.key=e}}class qR{constructor(e){this.key=e}}class v4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=dR(e),this.wa=new vl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new ST,s=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const T=s.get(g),C=Fh(this.query,_)?_:null,P=!!T&&this.mutatedKeys.has(T.key),x=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;T&&C?T.data.isEqual(C.data)?P!==x&&(r.track({type:3,doc:C}),N=!0):this.va(T,C)||(r.track({type:2,doc:C}),N=!0,(h&&this.ya(C,h)>0||p&&this.ya(C,p)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),N=!0):T&&!C&&(r.track({type:1,doc:T}),N=!0,(h||p)&&(d=!0)),N&&(C?(l=l.add(C),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:d,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(C,P){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return x(C)-x(P)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),s=s!=null&&s;const d=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new Fl(this.query,e.wa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ST,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new qR(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new WR(r))}),t}Oa(e){this.fa=e.gs,this.pa=pt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Fl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cv="SyncEngine";class _4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class w4{constructor(e){this.key=e,this.Ba=!1}}class E4{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ea(d=>cR(d),jh),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(Ge.comparator),this.Ka=new Map,this.Ua=new pv,this.Wa={},this.Ga=new Map,this.za=jl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function T4(n,e,t=!0){const r=JR(n);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await KR(r,e,t,!0),s}async function S4(n,e){const t=JR(n);await KR(t,e,!0,!1)}async function KR(n,e,t,r){const s=await jU(n.localStore,Ni(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await I4(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&UR(n.remoteStore,s),d}async function I4(n,e,t,r,s){n.Ha=(_,T,C)=>async function(x,N,H,$){let z=N.view.ba(H);z.ls&&(z=await yT(x.localStore,N.query,!1).then(({documents:S})=>N.view.ba(S,z)));const q=$&&$.targetChanges.get(N.targetId),Z=$&&$.targetMismatches.get(N.targetId)!=null,Q=N.view.applyChanges(z,x.isPrimaryClient,q,Z);return RT(x,N.targetId,Q.Ma),Q.snapshot}(n,_,T,C);const a=await yT(n.localStore,e,!0),l=new v4(e,a.gs),d=l.ba(a.documents),h=Bc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(d,n.isPrimaryClient,h);RT(n,t,p.Ma);const g=new _4(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function C4(n,e,t){const r=nt(n),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!jh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&vv(r.remoteStore,s.targetId),Zg(r,s.targetId)}).catch(iu)):(Zg(r,s.targetId),await Yg(r.localStore,s.targetId,!0))}async function A4(n,e){const t=nt(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vv(t.remoteStore,r.targetId))}async function R4(n,e,t){const r=x4(n);try{const s=await function(l,d){const h=nt(l),p=dn.now(),g=d.reduce((C,P)=>C.add(P.key),pt());let _,T;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=hs(),x=pt();return h.ds.getEntries(C,g).next(N=>{P=N,P.forEach((H,$)=>{$.isValidDocument()||(x=x.add(H))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,P)).next(N=>{_=N;const H=[];for(const $ of d){const z=U$($,_.get($.key).overlayedDocument);z!=null&&H.push(new Ta($.key,z,rR(z.value.mapValue),as.exists(!0)))}return h.mutationQueue.addMutationBatch(C,p,H,d)}).next(N=>{T=N;const H=N.applyToLocalDocumentSet(_,x);return h.documentOverlayCache.saveOverlays(C,N.batchId,H)})}).then(()=>({batchId:T.batchId,changes:hR(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,d,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new Wt(yt)),p=p.insert(d,h),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,t),await zc(r,s.changes),await Kh(r.remoteStore)}catch(s){const a=Sv(s,"Failed to persist write");t.reject(a)}}async function GR(n,e){const t=nt(n);try{const r=await VU(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.Ka.get(a);l&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?At(l.Ba):s.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await zc(t,r,e)}catch(r){await iu(r)}}function AT(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((a,l)=>{const d=l.view.sa(e);d.snapshot&&s.push(d.snapshot)}),function(l,d){const h=nt(l);h.onlineState=d;let p=!1;h.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(d)&&(p=!0)}),p&&Iv(h)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b4(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),a=s&&s.key;if(a){let l=new Wt(Ge.comparator);l=l.insert(a,jn.newNoDocument(a,tt.min()));const d=pt().add(a),h=new zh(tt.min(),new Map,new Wt(yt),l,d);await GR(r,h),r.$a=r.$a.remove(a),r.Ka.delete(e),Av(r)}else await Yg(r.localStore,e,!1).then(()=>Zg(r,e,t)).catch(iu)}async function N4(n,e){const t=nt(n),r=e.batch.batchId;try{const s=await MU(t.localStore,e);YR(t,r,null),QR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await zc(t,s)}catch(s){await iu(s)}}async function k4(n,e,t){const r=nt(n);try{const s=await function(l,d){const h=nt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next(_=>(At(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);YR(r,e,t),QR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await zc(r,s)}catch(s){await iu(s)}}function QR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function YR(n,e,t){const r=nt(n);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Zg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||XR(n,r)})}function XR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(vv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Av(n))}function RT(n,e,t){for(const r of t)r instanceof WR?(n.Ua.addReference(r.key,e),P4(n,r)):r instanceof qR?(be(Cv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||XR(n,r.key)):Xe()}function P4(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(Cv,"New document in limbo: "+t),n.Qa.add(r),Av(n))}function Av(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ge(Qt.fromString(e)),r=n.za.next();n.Ka.set(r,new w4(t)),n.$a=n.$a.insert(t,r),UR(n.remoteStore,new io(Ni(uv(t.path)),r,"TargetPurposeLimboResolution",Mh.ae))}}async function zc(n,e,t){const r=nt(n),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((d,h)=>{l.push(r.Ha(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){s.push(p);const _=gv.Yi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(h,p){const g=nt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,T=>ie.forEach(T.Hi,C=>g.persistence.referenceDelegate.addReference(_,T.targetId,C)).next(()=>ie.forEach(T.Ji,C=>g.persistence.referenceDelegate.removeReference(_,T.targetId,C)))))}catch(_){if(!su(_))throw _;be(yv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const C=g.Ts.get(T),P=C.snapshotVersion,x=C.withLastLimboFreeSnapshotVersion(P);g.Ts=g.Ts.insert(T,x)}}}(r.localStore,a))}async function D4(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){be(Cv,"User change. New user:",e.toKey());const r=await LR(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(d=>{d.forEach(h=>{h.reject(new Ke(de.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(t,r.Rs)}}function O4(n,e){const t=nt(n),r=t.Ka.get(e);if(r&&r.Ba)return pt().add(r.key);{let s=pt();const a=t.qa.get(e);if(!a)return s;for(const l of a){const d=t.ka.get(l);s=s.unionWith(d.view.Sa)}return s}}function JR(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b4.bind(null,e),e.La.p_=m4.bind(null,e.eventManager),e.La.Ja=g4.bind(null,e.eventManager),e}function x4(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k4.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return LU(this.persistence,new DU,e.initialUser,this.serializer)}Xa(e){return new xR(mv.ri,this.serializer)}Za(e){return new BU}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class L4 extends ah{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof sh);const r=this.persistence.referenceDelegate.garbageCollector;return new yU(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new xR(r=>sh.ri(r,t),this.serializer)}}class ey{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D4.bind(null,this.syncEngine),await c4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f4}()}createDatastore(e){const t=Wh(e.databaseInfo.databaseId),r=function(a){return new KU(a)}(e.databaseInfo);return function(a,l,d,h){return new XU(a,l,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,d){return new ZU(r,s,a,l,d)}(this.localStore,this.datastore,e.asyncQueue,t=>AT(this.syncEngine,t,0),function(){return wT.D()?new wT:new HU}())}createSyncEngine(e,t){return function(s,a,l,d,h,p,g){const _=new E4(s,a,l,d,h,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=nt(s);be(fa,"RemoteStore shutting down."),a.W_.add(5),await Hc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class V4{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Un.UNAUTHENTICATED,this.clientId=KA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{be(Eo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(Eo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Sv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lg(n,e){n.asyncQueue.verifyOperationInProgress(),be(Eo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function bT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $4(n);be(Eo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>TT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>TT(e.remoteStore,s)),n._onlineComponents=e}async function $4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(Eo,"Using user provided OfflineComponentProvider");try{await lg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ml("Error using user provided cache. Falling back to memory cache: "+t),await lg(n,new ah)}}else be(Eo,"Using default OfflineComponentProvider"),await lg(n,new L4(void 0));return n._offlineComponents}async function ZR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(Eo,"Using user provided OnlineComponentProvider"),await bT(n,n._uninitializedComponentsProvider._online)):(be(Eo,"Using default OnlineComponentProvider"),await bT(n,new ey))),n._onlineComponents}function U4(n){return ZR(n).then(e=>e.syncEngine)}async function j4(n){const e=await ZR(n),t=e.eventManager;return t.onListen=T4.bind(null,e.syncEngine),t.onUnlisten=C4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=A4.bind(null,e.syncEngine),t}function F4(n,e,t={}){const r=new fo;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,d,h,p){const g=new M4({next:T=>{g.su(),l.enqueueAndForget(()=>p4(a,_));const C=T.docs.has(d);!C&&T.fromCache?p.reject(new Ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&h&&h.source==="server"?p.reject(new Ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new y4(uv(d.path),g,{includeMetadataChanges:!0,Ta:!0});return h4(a,_)}(await j4(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n,e,t){if(!t)throw new Ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function H4(n,e,t,r){if(e===!0&&r===!0)throw new Ke(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kT(n){if(!Ge.isDocumentKey(n))throw new Ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe()}function _c(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rv(n);throw new Ke(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firestore.googleapis.com",PT=!0;class DT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tb,this.ssl=PT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mU)throw new Ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bv{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W2;switch(r.type){case"firstParty":return new Q2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=NT.get(t);r&&(be("ComponentProvider","Removing Datastore"),NT.delete(t),r.terminate())}(this),Promise.resolve()}}function z4(n,e,t,r={}){var s;const a=(n=_c(n,bv))._getSettings(),l=`${e}:${t}`;if(a.host!==tb&&a.host!==l&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Un.MOCK_USER;else{d=vV(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Un(p)}n._authCredentials=new q2(new qA(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nv(this.firestore,e,this._query)}}class Fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class wc extends Nv{constructor(e,t,r){super(e,t,uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new Ge(e))}withConverter(e){return new wc(this.firestore,e,this._path)}}function OT(n,e,...t){if(n=Oi(n),arguments.length===1&&(e=KA.newId()),B4("doc","path",e),n instanceof bv){const r=Qt.fromString(e,...t);return kT(r),new Fr(n,null,new Ge(r))}{if(!(n instanceof Fr||n instanceof wc))throw new Ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return kT(r),new Fr(n.firestore,n instanceof wc?n.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="AsyncQueue";class LT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new VR(this,"async_queue_retry"),this.Su=()=>{const r=ag();r&&be(xT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=ag();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ag();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new fo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!su(e))throw e;be(xT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d}(r);throw fs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Tv.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class kv extends bv{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new LT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function W4(n,e){const t=VA(),r=Jf,s=nv(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=gV("firestore");a&&z4(s,...a)}return s}function nb(n){if(n._terminated)throw new Ke(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||q4(n),n._firestoreClient}function q4(n){var e,t,r;const s=n._freezeSettings(),a=function(d,h,p,g){return new u$(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,eb(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new V4(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(kn.fromBase64String(e))}catch(t){throw new Ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^__.*__$/;class G4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}function ib(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class xv{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return lh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ib(this.Lu)&&K4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Q4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wh(e)}ju(e,t,r,s=!1){return new xv({Lu:e,methodName:t,zu:r,path:bn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y4(n){const e=n._freezeSettings(),t=Wh(n._databaseId);return new Q4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function X4(n,e,t,r,s,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,s);lb("Data must be an object, but it was:",l,r);const d=ob(r,l);let h,p;if(a.merge)h=new ai(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=J4(e,_,t);if(!l.contains(T))throw new Ke(de.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ej(g,T)||g.push(T)}h=new ai(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new G4(new Ur(d),h,p)}function sb(n,e){if(ab(n=Oi(n)))return lb("Unsupported field value:",e,n),ob(n,e);if(n instanceof rb)return function(r,s){if(!ib(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const d of r){let h=sb(d,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Oi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dn.fromDate(r);return{timestampValue:ih(s.serializer,a)}}if(r instanceof dn){const a=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(s.serializer,a)}}if(r instanceof Dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:AR(s.serializer,r._byteString)};if(r instanceof Fr){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ov)return function(l,d){return{mapValue:{fields:{[tR]:{stringValue:nR},[Zf]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return cv(d.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Rv(r)}`)}(n,e)}function ob(n,e){const t={};return QA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(n,(r,s)=>{const a=sb(s,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function ab(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dn||n instanceof Dv||n instanceof Bl||n instanceof Fr||n instanceof rb||n instanceof Ov)}function lb(n,e,t){if(!ab(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Rv(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function J4(n,e,t){if((e=Oi(e))instanceof Pv)return e._internalPath;if(typeof e=="string")return ub(n,e);throw lh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Z4=new RegExp("[~\\*/\\[\\]]");function ub(n,e,t){if(e.search(Z4)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pv(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lh(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new Ke(de.INVALID_ARGUMENT,d+n+h)}function ej(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(db("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tj extends cb{data(){return super.data()}}function db(n,e){return typeof e=="string"?ub(n,e):e instanceof Pv?e._internalPath:e._delegate._internalPath}class nj{convertValue(e,t="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wa(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Zf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Xt(l.doubleValue));return new Ov(a)}convertGeoPoint(e){return new Dv(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$h(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=yo(e);return new dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);At(DR(r));const s=new mc(r.get(1),r.get(3)),a=new Ge(r.popFirst(5));return s.isEqual(t)||fs(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fb extends cb{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(db("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sj extends fb{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(n){n=_c(n,Fr);const e=_c(n.firestore,kv);return F4(nb(e),n._key).then(t=>uj(e,n,t))}class aj extends nj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function MT(n,e,t){n=_c(n,Fr);const r=_c(n.firestore,kv),s=rj(n.converter,e);return lj(r,[X4(Y4(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,as.none())])}function lj(n,e){return function(r,s){const a=new fo;return r.asyncQueue.enqueueAndForget(async()=>R4(await U4(r),s,a)),a.promise}(nb(n),e)}function uj(n,e,t){const r=t.docs.get(e._key),s=new aj(n);return new fb(n,s,e._key,r,new ij(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ru=s})(nu),Ll(new ca("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new kv(new K2(r.getProvider("auth-internal")),new Y2(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),uo(B0,H0,e),uo(B0,H0,"esm2017")})();function Lv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cj=hb,pb=new Uc("auth","Firebase",hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new ev("@firebase/auth");function dj(n,...e){uh.logLevel<=ht.WARN&&uh.warn(`Auth (${nu}): ${n}`,...e)}function Lf(n,...e){uh.logLevel<=ht.ERROR&&uh.error(`Auth (${nu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,...e){throw Vv(n,...e)}function li(n,...e){return Vv(n,...e)}function Mv(n,e,t){const r=Object.assign(Object.assign({},cj()),{[e]:t});return new Uc("auth","Firebase",r).create(e,{appName:n.name})}function oa(n){return Mv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fj(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mi(n,"argument-error"),Mv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pb.create(n,...e)}function Ze(n,e,...t){if(!n)throw Vv(e,...t)}function ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lf(e),new Error(e)}function ps(n,e){n||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hj(){return VT()==="http:"||VT()==="https:"}function VT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hj()||TV()||"connection"in navigator)?navigator.onLine:!0}function mj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ps(t>e,"Short delay should be less than long delay!"),this.isMobile=_V()||SV()}get(){return pj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(n,e){ps(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new Wc(3e4,6e4);function Uv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function au(n,e,t,r,s={}){return gb(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=jc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return EV()||(p.referrerPolicy="no-referrer"),mb.fetch()(yb(n,n.config.apiHost,t,d),p)})}async function gb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},gj),e);try{const s=new _j(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Ef(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Ef(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Ef(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mv(n,g,p);Mi(n,g)}}catch(s){if(s instanceof _s)throw s;Mi(n,"network-request-failed",{message:String(s)})}}async function vj(n,e,t,r,s={}){const a=await au(n,e,t,r,s);return"mfaPendingCredential"in a&&Mi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function yb(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?$v(n.config,s):`${n.config.apiScheme}://${s}`}class _j{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),yj.get())})}}function Ef(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=li(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(n,e){return au(n,"POST","/v1/accounts:delete",e)}async function vb(n,e){return au(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ej(n,e=!1){const t=Oi(n),r=await t.getIdToken(e),s=jv(r);Ze(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:ac(ug(s.auth_time)),issuedAtTime:ac(ug(s.iat)),expirationTime:ac(ug(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ug(n){return Number(n)*1e3}function jv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const s=kA(t);return s?JSON.parse(s):(Lf("Failed to decode base64 JWT payload"),null)}catch(s){return Lf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $T(n){const e=jv(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _s&&Tj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Tj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Ec(n,vb(t,{idToken:r}));Ze(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?_b(a.providerUserInfo):[],d=Cj(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),g=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new ny(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function Ij(n){const e=Oi(n);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cj(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _b(n){return n.map(e=>{var{providerId:t}=e,r=Lv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(n,e){const t=await gb(n,{},async()=>{const r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=yb(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mb.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Rj(n,e){return au(n,"POST","/v2/accounts:revokeToken",Uv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=$T(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await Aj(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new _l;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ze(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ny(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ej(this,e)}reload(){return Ij(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await Ec(this,wj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,l,d,h,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,H=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:q,isAnonymous:Z,providerData:Q,stsTokenManager:S}=t;Ze(z&&S,e,"internal-error");const A=_l.fromJSON(this.name,S);Ze(typeof z=="string",e,"internal-error"),Gs(_,e.name),Gs(T,e.name),Ze(typeof q=="boolean",e,"internal-error"),Ze(typeof Z=="boolean",e,"internal-error"),Gs(C,e.name),Gs(P,e.name),Gs(x,e.name),Gs(N,e.name),Gs(H,e.name),Gs($,e.name);const k=new ns({uid:z,auth:e,email:T,emailVerified:q,displayName:_,isAnonymous:Z,photoURL:P,phoneNumber:C,tenantId:x,stsTokenManager:A,createdAt:H,lastLoginAt:$});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(O=>Object.assign({},O))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new _l;s.updateFromServerResponse(t);const a=new ns({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ch(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ze(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?_b(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new _l;d.updateFromIdToken(r);const h=new ns({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;function rs(n){ps(n instanceof Function,"Expected a class definition");let e=UT.get(n);return e?(ps(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wb.type="NONE";const jT=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n,e,t){return`firebase:${n}:${e}:${t}`}class wl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Mf(this.userKey,s.apiKey,a),this.fullPersistenceKey=Mf("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new wl(rs(jT),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||rs(jT);const l=Mf(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(l);if(g){const _=ns._fromJSON(e,g);p!==a&&(d=_),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new wl(a,e,r):(a=h[0],d&&await a._set(l,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new wl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ab(e))return"Blackberry";if(Rb(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||Sb(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Eb(n=Fn()){return/firefox\//i.test(n)}function Tb(n=Fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sb(n=Fn()){return/crios\//i.test(n)}function Ib(n=Fn()){return/iemobile/i.test(n)}function Cb(n=Fn()){return/android/i.test(n)}function Ab(n=Fn()){return/blackberry/i.test(n)}function Rb(n=Fn()){return/webos/i.test(n)}function Fv(n=Fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bj(n=Fn()){var e;return Fv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nj(){return IV()&&document.documentMode===10}function bb(n=Fn()){return Fv(n)||Cb(n)||Rb(n)||Ab(n)||/windows phone/i.test(n)||Ib(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n,e=[]){let t;switch(n){case"Browser":t=FT(Fn());break;case"Worker":t=`${FT(Fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,d)=>{try{const h=e(a);l(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(n,e={}){return au(n,"GET","/v2/passwordPolicy",Uv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=6;class Oj{constructor(e){var t,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Dj,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,l,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BT(this),this.idTokenSubscription=new BT(this),this.beforeStateQueue=new kj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rs(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vb(this,{idToken:e}),r=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(oi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===d)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(oa(this));const t=e?Oi(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pj(this),t=new Oj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rs(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&dj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Gh(n){return Oi(n)}class BT{constructor(e){this.auth=e,this.observer=null,this.addObserver=DV(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lj(n){Bv=n}function Mj(n){return Bv.loadJS(n)}function Vj(){return Bv.gapiScript}function $j(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(n,e){const t=nv(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Qf(a,e??{}))return s;Mi(s,"already-initialized")}return t.initialize({options:e})}function jj(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(rs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fj(n,e,t){const r=Gh(n);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=kb(e),{host:l,port:d}=Bj(e),h=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),Hj()}function kb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Bj(n){const e=kb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:HT(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:HT(l)}}}function HT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Hj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e){return vj(n,"POST","/v1/accounts:signInWithIdp",Uv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="http://localhost";class ha extends Pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Lv(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new ha(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return El(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,El(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,El(e,t)}buildRequest(){const e={requestUri:zj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Hv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends qc{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ha._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Zi.credential(t,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends qc{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends qc{constructor(){super("twitter.com")}static credential(e,t){return ha._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return eo.credential(t,r)}catch{return null}}}eo.TWITTER_SIGN_IN_METHOD="twitter.com";eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ns._fromIdTokenResponse(e,r,s),l=zT(r);return new Hl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=zT(r);return new Hl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function zT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends _s{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new dh(e,t,r,s)}}function Db(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(n,a,e,r):a})}async function Wj(n,e,t=!1){const r=await Ec(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(n,e,t=!1){const{auth:r}=n;if(oi(r.app))return Promise.reject(oa(r));const s="reauthenticate";try{const a=await Ec(n,Db(r,s,e,n),t);Ze(a.idToken,r,"internal-error");const l=jv(a.idToken);Ze(l,r,"internal-error");const{sub:d}=l;return Ze(n.uid===d,r,"user-mismatch"),Hl._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(n,e,t=!1){if(oi(n.app))return Promise.reject(oa(n));const r="signIn",s=await Db(n,r,e),a=await Hl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function Gj(n,e,t,r){return Oi(n).onIdTokenChanged(e,t,r)}function Qj(n,e,t){return Oi(n).beforeAuthStateChanged(e,t)}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=1e3,Xj=10;class xb extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Nj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Xj):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xb.type="LOCAL";const Jj=xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lb.type="SESSION";const Mb=Lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async p=>p(t.origin,a)),h=await Zj(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,h)=>{const p=zv("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function tF(n){Pi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function nF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function iF(){return Vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebaseLocalStorageDb",sF=1,hh="firebaseLocalStorage",Ub="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(n,e){return n.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function oF(){const n=indexedDB.deleteDatabase($b);return new Kc(n).toPromise()}function ry(){const n=indexedDB.open($b,sF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hh,{keyPath:Ub})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await oF(),e(await ry()))})})}async function WT(n,e,t){const r=Yh(n,!0).put({[Ub]:e,value:t});return new Kc(r).toPromise()}async function aF(n,e){const t=Yh(n,!1).get(e),r=await new Kc(t).toPromise();return r===void 0?null:r.value}function qT(n,e){const t=Yh(n,!0).delete(e);return new Kc(t).toPromise()}const lF=800,uF=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>uF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(iF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nF(),!this.activeServiceWorker)return;this.sender=new eF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await WT(e,fh,"1"),await qT(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>WT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>aF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Yh(s,!1).getAll();return new Kc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const cF=jb;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n,e){return e?rs(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Pb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,t){return El(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dF(n){return Kj(n.auth,new Wv(n),n.bypassAuthState)}function fF(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),qj(t,new Wv(n),n.bypassAuthState)}async function hF(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),Wj(t,new Wv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dF;case"linkViaPopup":case"linkViaRedirect":return hF;case"reauthViaPopup":case"reauthViaRedirect":return fF;default:Mi(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new Wc(2e3,1e4);async function mF(n,e,t){if(oi(n.app))return Promise.reject(li(n,"operation-not-supported-in-this-environment"));const r=Gh(n);fj(n,e,Hv);const s=Fb(r,t);return new ra(r,"signInViaPopup",e,s).executeNotNull()}class ra extends Bb{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pF.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="pendingRedirect",Vf=new Map;class yF extends Bb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const r=await vF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vF(n,e){const t=EF(e),r=wF(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function _F(n,e){Vf.set(n._key(),e)}function wF(n){return rs(n._redirectPersistence)}function EF(n){return Mf(gF,n.config.apiKey,n.name)}async function TF(n,e,t=!1){if(oi(n.app))return Promise.reject(oa(n));const r=Gh(n),s=Fb(r,e),l=await new yF(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=10*60*1e3;class IF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Hb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(li(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SF&&this.cachedEventUids.clear(),this.cachedEventUids.has(KT(e))}saveEventToCache(e){this.cachedEventUids.add(KT(e)),this.lastProcessedEventTime=Date.now()}}function KT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Hb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(n,e={}){return au(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bF=/^https?/;async function NF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AF(n);for(const t of e)try{if(kF(t))return}catch{}Mi(n,"unauthorized-domain")}function kF(n){const e=ty(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!bF.test(t))return!1;if(RF.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new Wc(3e4,6e4);function GT(){const n=Pi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function DF(n){return new Promise((e,t)=>{var r,s,a;function l(){GT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GT(),t(li(n,"network-request-failed"))},timeout:PF.get()})}if(!((s=(r=Pi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Pi().gapi)===null||a===void 0)&&a.load)l();else{const d=$j("iframefcb");return Pi()[d]=()=>{gapi.load?l():t(li(n,"network-request-failed"))},Mj(`${Vj()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw $f=null,e})}let $f=null;function OF(n){return $f=$f||DF(n),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=new Wc(5e3,15e3),LF="__/auth/iframe",MF="emulator/auth/iframe",VF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$F=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UF(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$v(e,MF):`https://${n.config.authDomain}/${LF}`,r={apiKey:e.apiKey,appName:n.name,v:nu},s=$F.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${jc(r).slice(1)}`}async function jF(n){const e=await OF(n),t=Pi().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:UF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VF,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=li(n,"network-request-failed"),d=Pi().setTimeout(()=>{a(l)},xF.get());function h(){Pi().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BF=500,HF=600,zF="_blank",WF="http://localhost";class QT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qF(n,e,t,r=BF,s=HF){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},FF),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Fn().toLowerCase();t&&(d=Sb(p)?zF:t),Eb(p)&&(e=e||WF,h.scrollbars="yes");const g=Object.entries(h).reduce((T,[C,P])=>`${T}${C}=${P},`,"");if(bj(p)&&d!=="_self")return KF(e||"",d),new QT(null);const _=window.open(e||"",d,g);Ze(_,n,"popup-blocked");try{_.focus()}catch{}return new QT(_)}function KF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="__/auth/handler",QF="emulator/auth/handler",YF=encodeURIComponent("fac");async function YT(n,e,t,r,s,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:nu,eventId:s};if(e instanceof Hv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",PV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof qc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),p=h?`#${YF}=${encodeURIComponent(h)}`:"";return`${XF(n)}?${jc(d).slice(1)}${p}`}function XF({config:n}){return n.emulator?$v(n,QF):`https://${n.authDomain}/${GF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class JF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mb,this._completeRedirectFn=TF,this._overrideRedirectResult=_F}async _openPopup(e,t,r,s){var a;ps((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await YT(e,t,r,ty(),s);return qF(e,l,zv())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await YT(e,t,r,ty(),s);return tF(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ps(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jF(e),r=new IF(e);return t.register("authEvent",s=>(Ze(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cg,{type:cg},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[cg];l!==void 0&&t(!!l),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bb()||Tb()||Fv()}}const ZF=JF;var XT="@firebase/auth",JT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nB(n){Ll(new ca("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(n)},p=new xj(r,s,a,h);return jj(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new ca("auth-internal",e=>{const t=Gh(e.getProvider("auth").getImmediate());return(r=>new eB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(XT,JT,tB(n)),uo(XT,JT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=5*60,iB=OA("authIdTokenMaxAge")||rB;let ZT=null;const sB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>iB)return;const s=t==null?void 0:t.token;ZT!==s&&(ZT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oB(n=VA()){const e=nv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Uj(n,{popupRedirectResolver:ZF,persistence:[cF,Jj,Mb]}),r=OA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=sB(a.toString());Qj(t,l,()=>l(t.currentUser)),Gj(t,d=>l(d))}}const s=PA("auth");return s&&Fj(t,`http://${s}`),t}function aB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Lj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=li("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",aB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nB("Browser");const lB={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"};MA(lB);const uB=oB(),eS=W4();async function cB(){try{const n=new Zi,t=(await mF(uB,n)).user;if(!t){console.error("Firebase login failed.");return}const r=OT(eS,"users",t.uid);(await oj(r)).exists()||(await MT(r,{id:t.uid,email:t.email,username:t.displayName||"New User",createdAt:new Date,blocked:[]}),await MT(OT(eS,"userchats",t.uid),{chats:[]})),await $c.createOAuth2Session(xg.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery"),console.log("Login successful with Firebase and Appwrite.")}catch(n){console.error("Error during login:",n),alert(`Login failed: ${n.message}`)}}const zb=w.createContext(void 0),dB=({children:n})=>{const e=fB();return R(zb.Provider,{value:e,children:n})};function fB(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const h=await sV();e(h.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:h}=await lV(),p=!!h.find(g=>g.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function s(){await cB()}async function a(d,h){try{await $c.createEmailPasswordSession(d,h)}catch(p){console.error(p)}}async function l(){await oV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:s,logInAdmin:a}}function ms(){const n=w.useContext(zb);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ut.apply(this,arguments)}var rn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rn||(rn={}));const tS="popstate";function hB(n){n===void 0&&(n={});function e(s,a){let{pathname:l="/",search:d="",hash:h=""}=ws(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Tc("",{pathname:l,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let l=s.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof a=="string"?a:ma(a))}function r(s,a){pa(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return mB(e,t,r,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pB(){return Math.random().toString(36).substr(2,8)}function nS(n,e){return{usr:n.state,key:n.key,idx:e}}function Tc(n,e,t,r){return t===void 0&&(t=null),Ut({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ws(e):e,{state:t,key:e&&e.key||r||pB()})}function ma(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ws(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function mB(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d=rn.Pop,h=null,p=g();p==null&&(p=0,l.replaceState(Ut({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){d=rn.Pop;let N=g(),H=N==null?null:N-p;p=N,h&&h({action:d,location:x.location,delta:H})}function T(N,H){d=rn.Push;let $=Tc(x.location,N,H);t&&t($,N),p=g()+1;let z=nS($,p),q=x.createHref($);try{l.pushState(z,"",q)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;s.location.assign(q)}a&&h&&h({action:d,location:x.location,delta:1})}function C(N,H){d=rn.Replace;let $=Tc(x.location,N,H);t&&t($,N),p=g();let z=nS($,p),q=x.createHref($);l.replaceState(z,"",q),a&&h&&h({action:d,location:x.location,delta:0})}function P(N){let H=s.location.origin!=="null"?s.location.origin:s.location.href,$=typeof N=="string"?N:ma(N);return $=$.replace(/ $/,"%20"),ut(H,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,H)}let x={get action(){return d},get location(){return n(s,l)},listen(N){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(tS,_),h=N,()=>{s.removeEventListener(tS,_),h=null}},createHref(N){return e(s,N)},createURL:P,encodeLocation(N){let H=P(N);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:C,go(N){return l.go(N)}};return x}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const gB=new Set(["lazy","caseSensitive","path","id","index","children"]);function yB(n){return n.index===!0}function ph(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((s,a)=>{let l=[...t,String(a)],d=typeof s.id=="string"?s.id:l.join("-");if(ut(s.index!==!0||!s.children,"Cannot specify children on an index route"),ut(!r[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),yB(s)){let h=Ut({},s,e(s),{id:d});return r[d]=h,h}else{let h=Ut({},s,e(s),{id:d,children:void 0});return r[d]=h,s.children&&(h.children=ph(s.children,e,l,r)),h}})}function Xo(n,e,t){return t===void 0&&(t="/"),Uf(n,e,t,!1)}function Uf(n,e,t,r){let s=typeof e=="string"?ws(e):e,a=gs(s.pathname||"/",t);if(a==null)return null;let l=Wb(n);_B(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=kB(a);d=bB(l[h],p,r)}return d}function vB(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function Wb(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ut(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=ls([r,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Wb(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:AB(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let h of qb(a.path))s(a,l,h)}),e}function qb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=qb(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...l),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function _B(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const wB=/^:[\w-]+$/,EB=3,TB=2,SB=1,IB=10,CB=-2,rS=n=>n==="*";function AB(n,e){let t=n.split("/"),r=t.length;return t.some(rS)&&(r+=CB),e&&(r+=TB),t.filter(s=>!rS(s)).reduce((s,a)=>s+(wB.test(a)?EB:a===""?SB:IB),r)}function RB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function bB(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,s={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=mh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),T=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=mh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ls([a,_.pathname]),pathnameBase:OB(ls([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=ls([a,_.pathnameBase]))}return l}function mh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=NB(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:T,isOptional:C}=g;if(T==="*"){let x=d[_]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const P=d[_];return C&&!P?p[T]=void 0:p[T]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function NB(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),pa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pa(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function PB(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ws(n):n;return{pathname:t?t.startsWith("/")?t:DB(t,e):e,search:xB(r),hash:LB(s)}}function DB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function dg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qv(n,e){let t=Kb(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Kv(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=ws(n):(s=Ut({},n),ut(!s.pathname||!s.pathname.includes("?"),dg("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),dg("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),dg("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}d=_>=0?e[_]:"/"}let h=PB(s,d),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const ls=n=>n.join("/").replace(/\/\/+/g,"/"),OB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class gh{constructor(e,t,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Sc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Gb=["post","put","patch","delete"],MB=new Set(Gb),VB=["get",...Gb],$B=new Set(VB),UB=new Set([301,302,303,307,308]),jB=new Set([307,308]),fg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},FB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BB=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Qb="remix-router-transitions";function HB(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(n.mapRouteProperties)s=n.mapRouteProperties;else if(n.detectErrorBoundary){let U=n.detectErrorBoundary;s=W=>({hasErrorBoundary:U(W)})}else s=BB;let a={},l=ph(n.routes,s,void 0,a),d,h=n.basename||"/",p=n.dataStrategy||KB,g=n.patchRoutesOnNavigation,_=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,C=new Set,P=null,x=null,N=null,H=n.hydrationData!=null,$=Xo(l,n.history.location,h),z=!1,q=null;if($==null&&!g){let U=cr(404,{pathname:n.history.location.pathname}),{matches:W,route:X}=pS(l);$=W,q={[X.id]:U}}$&&!n.hydrationData&&pi($,l,n.history.location.pathname).active&&($=null);let Z;if($)if($.some(U=>U.route.lazy))Z=!1;else if(!$.some(U=>U.route.loader))Z=!0;else if(_.v7_partialHydration){let U=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let X=$.findIndex(re=>W[re.route.id]!==void 0);Z=$.slice(0,X+1).every(re=>!sy(re.route,U,W))}else Z=$.every(X=>!sy(X.route,U,W))}else Z=n.hydrationData!=null;else if(Z=!1,$=[],_.v7_partialHydration){let U=pi(null,l,n.history.location.pathname);U.active&&U.matches&&(z=!0,$=U.matches)}let Q,S={historyAction:n.history.action,location:n.history.location,matches:$,initialized:Z,navigation:fg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||q,fetchers:new Map,blockers:new Map},A=rn.Pop,k=!1,O,L=!1,V=new Map,D=null,we=!1,xe=!1,Fe=[],Ne=new Set,ne=new Map,pe=0,ae=-1,F=new Map,ee=new Set,he=new Map,ve=new Map,Te=new Set,Ae=new Map,qe=new Map,Ue;function st(){if(T=n.history.listen(U=>{let{action:W,location:X,delta:re}=U;if(Ue){Ue(),Ue=void 0;return}pa(qe.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=Vi({currentLocation:S.location,nextLocation:X,historyAction:W});if(_e&&re!=null){let ke=new Promise(Qe=>{Ue=Qe});n.history.go(re*-1),qr(_e,{state:"blocked",location:X,proceed(){qr(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ke.then(()=>n.history.go(re))},reset(){let Qe=new Map(S.blockers);Qe.set(_e,Hu),it({blockers:Qe})}});return}return jt(W,X)}),t){a9(e,V);let U=()=>l9(e,V);e.addEventListener("pagehide",U),D=()=>e.removeEventListener("pagehide",U)}return S.initialized||jt(rn.Pop,S.location,{initialHydration:!0}),Q}function Et(){T&&T(),D&&D(),C.clear(),O&&O.abort(),S.fetchers.forEach((U,W)=>zn(W)),S.blockers.forEach((U,W)=>fi(W))}function It(U){return C.add(U),()=>C.delete(U)}function it(U,W){W===void 0&&(W={}),S=Ut({},S,U);let X=[],re=[];_.v7_fetcherPersist&&S.fetchers.forEach((_e,ke)=>{_e.state==="idle"&&(Te.has(ke)?re.push(ke):X.push(ke))}),Te.forEach(_e=>{!S.fetchers.has(_e)&&!ne.has(_e)&&re.push(_e)}),[...C].forEach(_e=>_e(S,{deletedFetchers:re,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),_.v7_fetcherPersist?(X.forEach(_e=>S.fetchers.delete(_e)),re.forEach(_e=>zn(_e))):re.forEach(_e=>Te.delete(_e))}function kt(U,W,X){var re,_e;let{flushSync:ke}=X===void 0?{}:X,Qe=S.actionData!=null&&S.navigation.formMethod!=null&&ii(S.navigation.formMethod)&&S.navigation.state==="loading"&&((re=U.state)==null?void 0:re._isRedirect)!==!0,Pe;W.actionData?Object.keys(W.actionData).length>0?Pe=W.actionData:Pe=null:Qe?Pe=S.actionData:Pe=null;let Re=W.loaderData?fS(S.loaderData,W.loaderData,W.matches||[],W.errors):S.loaderData,Ie=S.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((Je,Kt)=>Ie.set(Kt,Hu)));let De=k===!0||S.navigation.formMethod!=null&&ii(S.navigation.formMethod)&&((_e=U.state)==null?void 0:_e._isRedirect)!==!0;d&&(l=d,d=void 0),we||A===rn.Pop||(A===rn.Push?n.history.push(U,U.state):A===rn.Replace&&n.history.replace(U,U.state));let et;if(A===rn.Pop){let Je=V.get(S.location.pathname);Je&&Je.has(U.pathname)?et={currentLocation:S.location,nextLocation:U}:V.has(U.pathname)&&(et={currentLocation:U,nextLocation:S.location})}else if(L){let Je=V.get(S.location.pathname);Je?Je.add(U.pathname):(Je=new Set([U.pathname]),V.set(S.location.pathname,Je)),et={currentLocation:S.location,nextLocation:U}}it(Ut({},W,{actionData:Pe,loaderData:Re,historyAction:A,location:U,initialized:!0,navigation:fg,revalidation:"idle",restoreScrollPosition:hi(U,W.matches||S.matches),preventScrollReset:De,blockers:Ie}),{viewTransitionOpts:et,flushSync:ke===!0}),A=rn.Pop,k=!1,L=!1,we=!1,xe=!1,Fe=[]}async function qt(U,W){if(typeof U=="number"){n.history.go(U);return}let X=iy(S.location,S.matches,h,_.v7_prependBasename,U,_.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:re,submission:_e,error:ke}=iS(_.v7_normalizeFormMethod,!1,X,W),Qe=S.location,Pe=Tc(S.location,re,W&&W.state);Pe=Ut({},Pe,n.history.encodeLocation(Pe));let Re=W&&W.replace!=null?W.replace:void 0,Ie=rn.Push;Re===!0?Ie=rn.Replace:Re===!1||_e!=null&&ii(_e.formMethod)&&_e.formAction===S.location.pathname+S.location.search&&(Ie=rn.Replace);let De=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,et=(W&&W.flushSync)===!0,Je=Vi({currentLocation:Qe,nextLocation:Pe,historyAction:Ie});if(Je){qr(Je,{state:"blocked",location:Pe,proceed(){qr(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),qt(U,W)},reset(){let Kt=new Map(S.blockers);Kt.set(Je,Hu),it({blockers:Kt})}});return}return await jt(Ie,Pe,{submission:_e,pendingError:ke,preventScrollReset:De,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:et})}function rt(){if(mt(),it({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){jt(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}jt(A||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:L===!0})}}async function jt(U,W,X){O&&O.abort(),O=null,A=U,we=(X&&X.startUninterruptedRevalidation)===!0,No(S.location,S.matches),k=(X&&X.preventScrollReset)===!0,L=(X&&X.enableViewTransition)===!0;let re=d||l,_e=X&&X.overrideNavigation,ke=X!=null&&X.initialHydration&&S.matches&&S.matches.length>0&&!z?S.matches:Xo(re,W,h),Qe=(X&&X.flushSync)===!0,Pe=pi(ke,re,W.pathname);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){let{error:Tt,notFoundMatches:at,route:Rt}=Dn(W.pathname);kt(W,{matches:at,loaderData:{},errors:{[Rt.id]:Tt}},{flushSync:Qe});return}if(S.initialized&&!xe&&ZB(S.location,W)&&!(X&&X.submission&&ii(X.submission.formMethod))){kt(W,{matches:ke},{flushSync:Qe});return}O=new AbortController;let Re=ll(n.history,W,O.signal,X&&X.submission),Ie;if(X&&X.pendingError)Ie=[Jo(ke).route.id,{type:Nt.error,error:X.pendingError}];else if(X&&X.submission&&ii(X.submission.formMethod)){let Tt=await hn(Re,W,X.submission,ke,Pe.active,{replace:X.replace,flushSync:Qe});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[at,Rt]=Tt.pendingActionResult;if(Sr(Rt)&&Sc(Rt.error)&&Rt.error.status===404){O=null,kt(W,{matches:Tt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}ke=Tt.matches||ke,Ie=Tt.pendingActionResult,_e=hg(W,X.submission),Qe=!1,Pe.active=!1,Re=ll(n.history,Re.url,Re.signal)}let{shortCircuited:De,matches:et,loaderData:Je,errors:Kt}=await Rr(Re,W,ke,Pe.active,_e,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Qe,Ie);De||(O=null,kt(W,Ut({matches:et||ke},hS(Ie),{loaderData:Je,errors:Kt})))}async function hn(U,W,X,re,_e,ke){ke===void 0&&(ke={}),mt();let Qe=s9(W,X);if(it({navigation:Qe},{flushSync:ke.flushSync===!0}),_e){let Ie=await tr(re,W.pathname,U.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let De=Jo(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,pendingActionResult:[De,{type:Nt.error,error:Ie.error}]}}else if(Ie.matches)re=Ie.matches;else{let{notFoundMatches:De,error:et,route:Je}=Dn(W.pathname);return{matches:De,pendingActionResult:[Je.id,{type:Nt.error,error:et}]}}}let Pe,Re=Xu(re,W);if(!Re.route.action&&!Re.route.lazy)Pe={type:Nt.error,error:cr(405,{method:U.method,pathname:W.pathname,routeId:Re.route.id})};else if(Pe=(await on("action",S,U,[Re],re,null))[Re.route.id],U.signal.aborted)return{shortCircuited:!0};if(ia(Pe)){let Ie;return ke&&ke.replace!=null?Ie=ke.replace:Ie=uS(Pe.response.headers.get("Location"),new URL(U.url),h)===S.location.pathname+S.location.search,await Dt(U,Pe,!0,{submission:X,replace:Ie}),{shortCircuited:!0}}if(so(Pe))throw cr(400,{type:"defer-action"});if(Sr(Pe)){let Ie=Jo(re,Re.route.id);return(ke&&ke.replace)!==!0&&(A=rn.Push),{matches:re,pendingActionResult:[Ie.route.id,Pe]}}return{matches:re,pendingActionResult:[Re.route.id,Pe]}}async function Rr(U,W,X,re,_e,ke,Qe,Pe,Re,Ie,De){let et=_e||hg(W,ke),Je=ke||Qe||gS(et),Kt=!we&&(!_.v7_partialHydration||!Re);if(re){if(Kt){let Ct=Bn(De);it(Ut({navigation:et},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Ie})}let dt=await tr(X,W.pathname,U.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Ct=Jo(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Ct]:dt.error}}}else if(dt.matches)X=dt.matches;else{let{error:Ct,notFoundMatches:Zt,route:yi}=Dn(W.pathname);return{matches:Zt,loaderData:{},errors:{[yi.id]:Ct}}}}let Tt=d||l,[at,Rt]=oS(n.history,S,X,Je,W,_.v7_partialHydration&&Re===!0,_.v7_skipActionErrorRevalidation,xe,Fe,Ne,Te,he,ee,Tt,h,De);if(er(dt=>!(X&&X.some(Ct=>Ct.route.id===dt))||at&&at.some(Ct=>Ct.route.id===dt)),ae=++pe,at.length===0&&Rt.length===0){let dt=Zn();return kt(W,Ut({matches:X,loaderData:{},errors:De&&Sr(De[1])?{[De[0]]:De[1].error}:null},hS(De),dt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Ie}),{shortCircuited:!0}}if(Kt){let dt={};if(!re){dt.navigation=et;let Ct=Bn(De);Ct!==void 0&&(dt.actionData=Ct)}Rt.length>0&&(dt.fetchers=Ft(Rt)),it(dt,{flushSync:Ie})}Rt.forEach(dt=>{ot(dt.key),dt.controller&&ne.set(dt.key,dt.controller)});let br=()=>Rt.forEach(dt=>ot(dt.key));O&&O.signal.addEventListener("abort",br);let{loaderResults:mi,fetcherResults:mr}=await $e(S,X,at,Rt,U);if(U.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",br),Rt.forEach(dt=>ne.delete(dt.key));let ct=Tf(mi);if(ct)return await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};if(ct=Tf(mr),ct)return ee.add(ct.key),await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Is,errors:gr}=dS(S,X,mi,De,Rt,mr,Ae);Ae.forEach((dt,Ct)=>{dt.subscribe(Zt=>{(Zt||dt.done)&&Ae.delete(Ct)})}),_.v7_partialHydration&&Re&&S.errors&&(gr=Ut({},S.errors,gr));let On=Zn(),En=di(ae),gi=On||En||Rt.length>0;return Ut({matches:X,loaderData:Is,errors:gr},gi?{fetchers:new Map(S.fetchers)}:{})}function Bn(U){if(U&&!Sr(U[1]))return{[U[0]]:U[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Ft(U){return U.forEach(W=>{let X=S.fetchers.get(W.key),re=zu(void 0,X?X.data:void 0);S.fetchers.set(W.key,re)}),new Map(S.fetchers)}function Jt(U,W,X,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ot(U);let _e=(re&&re.flushSync)===!0,ke=d||l,Qe=iy(S.location,S.matches,h,_.v7_prependBasename,X,_.v7_relativeSplatPath,W,re==null?void 0:re.relative),Pe=Xo(ke,Qe,h),Re=pi(Pe,ke,Qe);if(Re.active&&Re.matches&&(Pe=Re.matches),!Pe){pn(U,W,cr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Ie,submission:De,error:et}=iS(_.v7_normalizeFormMethod,!0,Qe,re);if(et){pn(U,W,et,{flushSync:_e});return}let Je=Xu(Pe,Ie),Kt=(re&&re.preventScrollReset)===!0;if(De&&ii(De.formMethod)){Jn(U,W,Ie,Je,Pe,Re.active,_e,Kt,De);return}he.set(U,{routeId:W,path:Ie}),Pn(U,W,Ie,Je,Pe,Re.active,_e,Kt,De)}async function Jn(U,W,X,re,_e,ke,Qe,Pe,Re){mt(),he.delete(U);function Ie(ft){if(!ft.route.action&&!ft.route.lazy){let Nr=cr(405,{method:Re.formMethod,pathname:X,routeId:W});return pn(U,W,Nr,{flushSync:Qe}),!0}return!1}if(!ke&&Ie(re))return;let De=S.fetchers.get(U);Ot(U,o9(Re,De),{flushSync:Qe});let et=new AbortController,Je=ll(n.history,X,et.signal,Re);if(ke){let ft=await tr(_e,new URL(Je.url).pathname,Je.signal);if(ft.type==="aborted")return;if(ft.type==="error"){pn(U,W,ft.error,{flushSync:Qe});return}else if(ft.matches){if(_e=ft.matches,re=Xu(_e,X),Ie(re))return}else{pn(U,W,cr(404,{pathname:X}),{flushSync:Qe});return}}ne.set(U,et);let Kt=pe,at=(await on("action",S,Je,[re],_e,U))[re.route.id];if(Je.signal.aborted){ne.get(U)===et&&ne.delete(U);return}if(_.v7_fetcherPersist&&Te.has(U)){if(ia(at)||Sr(at)){Ot(U,Qs(void 0));return}}else{if(ia(at))if(ne.delete(U),ae>Kt){Ot(U,Qs(void 0));return}else return ee.add(U),Ot(U,zu(Re)),Dt(Je,at,!1,{fetcherSubmission:Re,preventScrollReset:Pe});if(Sr(at)){pn(U,W,at.error);return}}if(so(at))throw cr(400,{type:"defer-action"});let Rt=S.navigation.location||S.location,br=ll(n.history,Rt,et.signal),mi=d||l,mr=S.navigation.state!=="idle"?Xo(mi,S.navigation.location,h):S.matches;ut(mr,"Didn't find any matches after fetcher action");let ct=++pe;F.set(U,ct);let Is=zu(Re,at.data);S.fetchers.set(U,Is);let[gr,On]=oS(n.history,S,mr,Re,Rt,!1,_.v7_skipActionErrorRevalidation,xe,Fe,Ne,Te,he,ee,mi,h,[re.route.id,at]);On.filter(ft=>ft.key!==U).forEach(ft=>{let Nr=ft.key,Po=S.fetchers.get(Nr),Ia=zu(void 0,Po?Po.data:void 0);S.fetchers.set(Nr,Ia),ot(Nr),ft.controller&&ne.set(Nr,ft.controller)}),it({fetchers:new Map(S.fetchers)});let En=()=>On.forEach(ft=>ot(ft.key));et.signal.addEventListener("abort",En);let{loaderResults:gi,fetcherResults:dt}=await $e(S,mr,gr,On,br);if(et.signal.aborted)return;et.signal.removeEventListener("abort",En),F.delete(U),ne.delete(U),On.forEach(ft=>ne.delete(ft.key));let Ct=Tf(gi);if(Ct)return Dt(br,Ct.result,!1,{preventScrollReset:Pe});if(Ct=Tf(dt),Ct)return ee.add(Ct.key),Dt(br,Ct.result,!1,{preventScrollReset:Pe});let{loaderData:Zt,errors:yi}=dS(S,mr,gi,void 0,On,dt,Ae);if(S.fetchers.has(U)){let ft=Qs(at.data);S.fetchers.set(U,ft)}di(ct),S.navigation.state==="loading"&&ct>ae?(ut(A,"Expected pending action"),O&&O.abort(),kt(S.navigation.location,{matches:mr,loaderData:Zt,errors:yi,fetchers:new Map(S.fetchers)})):(it({errors:yi,loaderData:fS(S.loaderData,Zt,mr,yi),fetchers:new Map(S.fetchers)}),xe=!1)}async function Pn(U,W,X,re,_e,ke,Qe,Pe,Re){let Ie=S.fetchers.get(U);Ot(U,zu(Re,Ie?Ie.data:void 0),{flushSync:Qe});let De=new AbortController,et=ll(n.history,X,De.signal);if(ke){let at=await tr(_e,new URL(et.url).pathname,et.signal);if(at.type==="aborted")return;if(at.type==="error"){pn(U,W,at.error,{flushSync:Qe});return}else if(at.matches)_e=at.matches,re=Xu(_e,X);else{pn(U,W,cr(404,{pathname:X}),{flushSync:Qe});return}}ne.set(U,De);let Je=pe,Tt=(await on("loader",S,et,[re],_e,U))[re.route.id];if(so(Tt)&&(Tt=await Qv(Tt,et.signal,!0)||Tt),ne.get(U)===De&&ne.delete(U),!et.signal.aborted){if(Te.has(U)){Ot(U,Qs(void 0));return}if(ia(Tt))if(ae>Je){Ot(U,Qs(void 0));return}else{ee.add(U),await Dt(et,Tt,!1,{preventScrollReset:Pe});return}if(Sr(Tt)){pn(U,W,Tt.error);return}ut(!so(Tt),"Unhandled fetcher deferred data"),Ot(U,Qs(Tt.data))}}async function Dt(U,W,X,re){let{submission:_e,fetcherSubmission:ke,preventScrollReset:Qe,replace:Pe}=re===void 0?{}:re;W.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let Re=W.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=uS(Re,new URL(U.url),h);let Ie=Tc(S.location,Re,{_isRedirect:!0});if(t){let at=!1;if(W.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(Gv.test(Re)){const Rt=n.history.createURL(Re);at=Rt.origin!==e.location.origin||gs(Rt.pathname,h)==null}if(at){Pe?e.location.replace(Re):e.location.assign(Re);return}}O=null;let De=Pe===!0||W.response.headers.has("X-Remix-Replace")?rn.Replace:rn.Push,{formMethod:et,formAction:Je,formEncType:Kt}=S.navigation;!_e&&!ke&&et&&Je&&Kt&&(_e=gS(S.navigation));let Tt=_e||ke;if(jB.has(W.response.status)&&Tt&&ii(Tt.formMethod))await jt(De,Ie,{submission:Ut({},Tt,{formAction:Re}),preventScrollReset:Qe||k,enableViewTransition:X?L:void 0});else{let at=hg(Ie,_e);await jt(De,Ie,{overrideNavigation:at,fetcherSubmission:ke,preventScrollReset:Qe||k,enableViewTransition:X?L:void 0})}}async function on(U,W,X,re,_e,ke){let Qe,Pe={};try{Qe=await GB(p,U,W,X,re,_e,ke,a,s)}catch(Re){return re.forEach(Ie=>{Pe[Ie.route.id]={type:Nt.error,error:Re}}),Pe}for(let[Re,Ie]of Object.entries(Qe))if(e9(Ie)){let De=Ie.result;Pe[Re]={type:Nt.redirect,response:XB(De,X,Re,_e,h,_.v7_relativeSplatPath)}}else Pe[Re]=await YB(Ie);return Pe}async function $e(U,W,X,re,_e){let ke=U.matches,Qe=on("loader",U,_e,X,W,null),Pe=Promise.all(re.map(async De=>{if(De.matches&&De.match&&De.controller){let Je=(await on("loader",U,ll(n.history,De.path,De.controller.signal),[De.match],De.matches,De.key))[De.match.route.id];return{[De.key]:Je}}else return Promise.resolve({[De.key]:{type:Nt.error,error:cr(404,{pathname:De.path})}})})),Re=await Qe,Ie=(await Pe).reduce((De,et)=>Object.assign(De,et),{});return await Promise.all([r9(W,Re,_e.signal,ke,U.loaderData),i9(W,Ie,re)]),{loaderResults:Re,fetcherResults:Ie}}function mt(){xe=!0,Fe.push(...er()),he.forEach((U,W)=>{ne.has(W)&&Ne.add(W),ot(W)})}function Ot(U,W,X){X===void 0&&(X={}),S.fetchers.set(U,W),it({fetchers:new Map(S.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function pn(U,W,X,re){re===void 0&&(re={});let _e=Jo(S.matches,W);zn(U),it({errors:{[_e.route.id]:X},fetchers:new Map(S.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function Hn(U){return ve.set(U,(ve.get(U)||0)+1),Te.has(U)&&Te.delete(U),S.fetchers.get(U)||FB}function zn(U){let W=S.fetchers.get(U);ne.has(U)&&!(W&&W.state==="loading"&&F.has(U))&&ot(U),he.delete(U),F.delete(U),ee.delete(U),_.v7_fetcherPersist&&Te.delete(U),Ne.delete(U),S.fetchers.delete(U)}function Be(U){let W=(ve.get(U)||0)-1;W<=0?(ve.delete(U),Te.add(U),_.v7_fetcherPersist||zn(U)):ve.set(U,W),it({fetchers:new Map(S.fetchers)})}function ot(U){let W=ne.get(U);W&&(W.abort(),ne.delete(U))}function mn(U){for(let W of U){let X=Hn(W),re=Qs(X.data);S.fetchers.set(W,re)}}function Zn(){let U=[],W=!1;for(let X of ee){let re=S.fetchers.get(X);ut(re,"Expected fetcher: "+X),re.state==="loading"&&(ee.delete(X),U.push(X),W=!0)}return mn(U),W}function di(U){let W=[];for(let[X,re]of F)if(re<U){let _e=S.fetchers.get(X);ut(_e,"Expected fetcher: "+X),_e.state==="loading"&&(ot(X),F.delete(X),W.push(X))}return mn(W),W.length>0}function bo(U,W){let X=S.blockers.get(U)||Hu;return qe.get(U)!==W&&qe.set(U,W),X}function fi(U){S.blockers.delete(U),qe.delete(U)}function qr(U,W){let X=S.blockers.get(U)||Hu;ut(X.state==="unblocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="proceeding"||X.state==="blocked"&&W.state==="unblocked"||X.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+W.state);let re=new Map(S.blockers);re.set(U,W),it({blockers:re})}function Vi(U){let{currentLocation:W,nextLocation:X,historyAction:re}=U;if(qe.size===0)return;qe.size>1&&pa(!1,"A router only supports one blocker at a time");let _e=Array.from(qe.entries()),[ke,Qe]=_e[_e.length-1],Pe=S.blockers.get(ke);if(!(Pe&&Pe.state==="proceeding")&&Qe({currentLocation:W,nextLocation:X,historyAction:re}))return ke}function Dn(U){let W=cr(404,{pathname:U}),X=d||l,{matches:re,route:_e}=pS(X);return er(),{notFoundMatches:re,route:_e,error:W}}function er(U){let W=[];return Ae.forEach((X,re)=>{(!U||U(re))&&(X.cancel(),W.push(re),Ae.delete(re))}),W}function Ss(U,W,X){if(P=U,N=W,x=X||null,!H&&S.navigation===fg){H=!0;let re=hi(S.location,S.matches);re!=null&&it({restoreScrollPosition:re})}return()=>{P=null,N=null,x=null}}function pr(U,W){return x&&x(U,W.map(re=>vB(re,S.loaderData)))||U.key}function No(U,W){if(P&&N){let X=pr(U,W);P[X]=N()}}function hi(U,W){if(P){let X=pr(U,W),re=P[X];if(typeof re=="number")return re}return null}function pi(U,W,X){if(g)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:Uf(W,X,h,!0)}}else return{active:!0,matches:Uf(W,X,h,!0)||[]};return{active:!1,matches:null}}async function tr(U,W,X){if(!g)return{type:"success",matches:U};let re=U;for(;;){let _e=d==null,ke=d||l,Qe=a;try{await g({signal:X,path:W,matches:re,patch:(Ie,De)=>{X.aborted||lS(Ie,De,ke,Qe,s)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:re}}finally{_e&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let Pe=Xo(ke,W,h);if(Pe)return{type:"success",matches:Pe};let Re=Uf(ke,W,h,!0);if(!Re||re.length===Re.length&&re.every((Ie,De)=>Ie.route.id===Re[De].route.id))return{type:"success",matches:null};re=Re}}function ko(U){a={},d=ph(U,s,void 0,a)}function Bt(U,W){let X=d==null;lS(U,W,d||l,a,s),X&&(l=[...l],it({}))}return Q={get basename(){return h},get future(){return _},get state(){return S},get routes(){return l},get window(){return e},initialize:st,subscribe:It,enableScrollRestoration:Ss,navigate:qt,fetch:Jt,revalidate:rt,createHref:U=>n.history.createHref(U),encodeLocation:U=>n.history.encodeLocation(U),getFetcher:Hn,deleteFetcher:Be,dispose:Et,getBlocker:bo,deleteBlocker:fi,patchRoutes:Bt,_internalFetchControllers:ne,_internalActiveDeferreds:Ae,_internalSetRoutes:ko},Q}function zB(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function iy(n,e,t,r,s,a,l,d){let h,p;if(l){h=[];for(let _ of e)if(h.push(_),_.route.id===l){p=_;break}}else h=e,p=e[e.length-1];let g=Kv(s||".",qv(h,a),gs(n.pathname,t)||n.pathname,d==="path");if(s==null&&(g.search=n.search,g.hash=n.hash),(s==null||s===""||s===".")&&p){let _=Yv(g.search);if(p.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&_){let T=new URLSearchParams(g.search),C=T.getAll("index");T.delete("index"),C.filter(x=>x).forEach(x=>T.append("index",x));let P=T.toString();g.search=P?"?"+P:""}}return r&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ls([t,g.pathname])),ma(g)}function iS(n,e,t,r){if(!r||!zB(r))return{path:t};if(r.formMethod&&!n9(r.formMethod))return{path:t,error:cr(405,{method:r.formMethod})};let s=()=>({path:t,error:cr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),d=Jb(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ii(l))return s();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((C,P)=>{let[x,N]=P;return""+C+x+"="+N+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:d,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!ii(l))return s();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:d,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}ut(typeof FormData=="function","FormData is not available in this environment");let h,p;if(r.formData)h=oy(r.formData),p=r.formData;else if(r.body instanceof FormData)h=oy(r.body),p=r.body;else if(r.body instanceof URLSearchParams)h=r.body,p=cS(h);else if(r.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(r.body),p=cS(h)}catch{return s()}let g={formMethod:l,formAction:d,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ii(g.formMethod))return{path:t,submission:g};let _=ws(t);return e&&_.search&&Yv(_.search)&&h.append("index",""),_.search="?"+h,{path:ma(_),submission:g}}function sS(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function oS(n,e,t,r,s,a,l,d,h,p,g,_,T,C,P,x){let N=x?Sr(x[1])?x[1].error:x[1].data:void 0,H=n.createURL(e.location),$=n.createURL(s),z=t;a&&e.errors?z=sS(t,Object.keys(e.errors)[0],!0):x&&Sr(x[1])&&(z=sS(t,x[0]));let q=x?x[1].statusCode:void 0,Z=l&&q&&q>=400,Q=z.filter((A,k)=>{let{route:O}=A;if(O.lazy)return!0;if(O.loader==null)return!1;if(a)return sy(O,e.loaderData,e.errors);if(WB(e.loaderData,e.matches[k],A)||h.some(D=>D===A.route.id))return!0;let L=e.matches[k],V=A;return aS(A,Ut({currentUrl:H,currentParams:L.params,nextUrl:$,nextParams:V.params},r,{actionResult:N,actionStatus:q,defaultShouldRevalidate:Z?!1:d||H.pathname+H.search===$.pathname+$.search||H.search!==$.search||Yb(L,V)}))}),S=[];return _.forEach((A,k)=>{if(a||!t.some(we=>we.route.id===A.routeId)||g.has(k))return;let O=Xo(C,A.path,P);if(!O){S.push({key:k,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(k),V=Xu(O,A.path),D=!1;T.has(k)?D=!1:p.has(k)?(p.delete(k),D=!0):L&&L.state!=="idle"&&L.data===void 0?D=d:D=aS(V,Ut({currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:$,nextParams:t[t.length-1].params},r,{actionResult:N,actionStatus:q,defaultShouldRevalidate:Z?!1:d})),D&&S.push({key:k,routeId:A.routeId,path:A.path,matches:O,match:V,controller:new AbortController})}),[Q,S]}function sy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function WB(n,e,t){let r=!e||t.route.id!==e.route.id,s=n[t.route.id]===void 0;return r||s}function Yb(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function aS(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function lS(n,e,t,r,s){var a;let l;if(n){let p=r[n];ut(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let d=e.filter(p=>!l.some(g=>Xb(p,g))),h=ph(d,s,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...h)}function Xb(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>Xb(t,a))}):!1}async function qB(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];ut(s,"No route found in manifest");let a={};for(let l in r){let h=s[l]!==void 0&&l!=="hasErrorBoundary";pa(!h,'Route "'+s.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!h&&!gB.has(l)&&(a[l]=r[l])}Object.assign(s,a),Object.assign(s,Ut({},e(s),{lazy:void 0}))}async function KB(n){let{matches:e}=n,t=e.filter(s=>s.shouldLoad);return(await Promise.all(t.map(s=>s.resolve()))).reduce((s,a,l)=>Object.assign(s,{[t[l].route.id]:a}),{})}async function GB(n,e,t,r,s,a,l,d,h,p){let g=a.map(C=>C.route.lazy?qB(C.route,h,d):void 0),_=a.map((C,P)=>{let x=g[P],N=s.some($=>$.route.id===C.route.id);return Ut({},C,{shouldLoad:N,resolve:async $=>($&&r.method==="GET"&&(C.route.lazy||C.route.loader)&&(N=!0),N?QB(e,r,C,x,$,p):Promise.resolve({type:Nt.data,result:void 0}))})}),T=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return T}async function QB(n,e,t,r,s,a){let l,d,h=p=>{let g,_=new Promise((P,x)=>g=x);d=()=>g(),e.signal.addEventListener("abort",d);let T=P=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...P!==void 0?[P]:[]),C=(async()=>{try{return{type:"data",result:await(s?s(x=>T(x)):T())}}catch(P){return{type:"error",result:P}}})();return Promise.race([C,_])};try{let p=t.route[n];if(r)if(p){let g,[_]=await Promise.all([h(p).catch(T=>{g=T}),r]);if(g!==void 0)throw g;l=_}else if(await r,p=t.route[n],p)l=await h(p);else if(n==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw cr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await h(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw cr(404,{pathname:_})}ut(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{d&&e.signal.removeEventListener("abort",d)}return l}async function YB(n){let{result:e,type:t}=n;if(Zb(e)){let _;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(T){return{type:Nt.error,error:T}}return t===Nt.error?{type:Nt.error,error:new gh(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:_,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(mS(e)){var r,s;if(e.data instanceof Error){var a,l;return{type:Nt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new gh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Sc(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:Sc(e)?e.status:void 0}}if(t9(e)){var d,h;return{type:Nt.deferred,deferredData:e,statusCode:(d=e.init)==null?void 0:d.status,headers:((h=e.init)==null?void 0:h.headers)&&new Headers(e.init.headers)}}if(mS(e)){var p,g;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function XB(n,e,t,r,s,a){let l=n.headers.get("Location");if(ut(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gv.test(l)){let d=r.slice(0,r.findIndex(h=>h.route.id===t)+1);l=iy(new URL(e.url),d,s,!0,l,a),n.headers.set("Location",l)}return n}function uS(n,e,t){if(Gv.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=gs(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function ll(n,e,t,r){let s=n.createURL(Jb(e)).toString(),a={signal:t};if(r&&ii(r.formMethod)){let{formMethod:l,formEncType:d}=r;a.method=l.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(r.json)):d==="text/plain"?a.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?a.body=oy(r.formData):a.body=r.formData}return new Request(s,a)}function oy(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function cS(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function JB(n,e,t,r,s){let a={},l=null,d,h=!1,p={},g=t&&Sr(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let T=_.route.id,C=e[T];if(ut(!ia(C),"Cannot handle redirect results in processLoaderData"),Sr(C)){let P=C.error;g!==void 0&&(P=g,g=void 0),l=l||{};{let x=Jo(n,T);l[x.route.id]==null&&(l[x.route.id]=P)}a[T]=void 0,h||(h=!0,d=Sc(C.error)?C.error.status:500),C.headers&&(p[T]=C.headers)}else so(C)?(r.set(T,C.deferredData),a[T]=C.deferredData.data,C.statusCode!=null&&C.statusCode!==200&&!h&&(d=C.statusCode),C.headers&&(p[T]=C.headers)):(a[T]=C.data,C.statusCode&&C.statusCode!==200&&!h&&(d=C.statusCode),C.headers&&(p[T]=C.headers))}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:d||200,loaderHeaders:p}}function dS(n,e,t,r,s,a,l){let{loaderData:d,errors:h}=JB(e,t,r,l);return s.forEach(p=>{let{key:g,match:_,controller:T}=p,C=a[g];if(ut(C,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Sr(C)){let P=Jo(n.matches,_==null?void 0:_.route.id);h&&h[P.route.id]||(h=Ut({},h,{[P.route.id]:C.error})),n.fetchers.delete(g)}else if(ia(C))ut(!1,"Unhandled fetcher revalidation redirect");else if(so(C))ut(!1,"Unhandled fetcher deferred data");else{let P=Qs(C.data);n.fetchers.set(g,P)}}),{loaderData:d,errors:h}}function fS(n,e,t,r){let s=Ut({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(s[l]=e[l]):n[l]!==void 0&&a.route.loader&&(s[l]=n[l]),r&&r.hasOwnProperty(l))break}return s}function hS(n){return n?Sr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Jo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function pS(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function cr(n,e){let{pathname:t,routeId:r,method:s,type:a,message:l}=e===void 0?{}:e,d="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(d="Bad Request",s&&t&&r?h="You made a "+s+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?h="defer() is not supported in actions":a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(d="Forbidden",h='Route "'+r+'" does not match URL "'+t+'"'):n===404?(d="Not Found",h='No route matches URL "'+t+'"'):n===405&&(d="Method Not Allowed",s&&t&&r?h="You made a "+s.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(h='Invalid request method "'+s.toUpperCase()+'"')),new gh(n||500,d,new Error(h),!0)}function Tf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(ia(s))return{key:r,result:s}}}function Jb(n){let e=typeof n=="string"?ws(n):n;return ma(Ut({},e,{hash:""}))}function ZB(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function e9(n){return Zb(n.result)&&UB.has(n.result.status)}function so(n){return n.type===Nt.deferred}function Sr(n){return n.type===Nt.error}function ia(n){return(n&&n.type)===Nt.redirect}function mS(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function t9(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Zb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function n9(n){return $B.has(n.toLowerCase())}function ii(n){return MB.has(n.toLowerCase())}async function r9(n,e,t,r,s){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[d,h]=a[l],p=n.find(T=>(T==null?void 0:T.route.id)===d);if(!p)continue;let g=r.find(T=>T.route.id===p.route.id),_=g!=null&&!Yb(g,p)&&(s&&s[p.route.id])!==void 0;so(h)&&_&&await Qv(h,t,!1).then(T=>{T&&(e[d]=T)})}}async function i9(n,e,t){for(let r=0;r<t.length;r++){let{key:s,routeId:a,controller:l}=t[r],d=e[s];n.find(p=>(p==null?void 0:p.route.id)===a)&&so(d)&&(ut(l,"Expected an AbortController for revalidating fetcher deferred result"),await Qv(d,l.signal,!0).then(p=>{p&&(e[s]=p)}))}}async function Qv(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(s){return{type:Nt.error,error:s}}return{type:Nt.data,data:n.deferredData.data}}}function Yv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Xu(n,e){let t=typeof e=="string"?ws(e).search:e.search;if(n[n.length-1].route.index&&Yv(t||""))return n[n.length-1];let r=Kb(n);return r[r.length-1]}function gS(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:l}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function hg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function s9(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function o9(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Qs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function a9(n,e){try{let t=n.sessionStorage.getItem(Qb);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function l9(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(Qb,JSON.stringify(t))}catch(r){pa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yh.apply(this,arguments)}const Gc=w.createContext(null),Xv=w.createContext(null),Ao=w.createContext(null),Jv=w.createContext(null),Es=w.createContext({outlet:null,matches:[],isDataRoute:!1}),eN=w.createContext(null);function u9(n,e){let{relative:t}=e===void 0?{}:e;Qc()||ut(!1);let{basename:r,navigator:s}=w.useContext(Ao),{hash:a,pathname:l,search:d}=Xh(n,{relative:t}),h=l;return r!=="/"&&(h=l==="/"?r:ls([r,l])),s.createHref({pathname:h,search:d,hash:a})}function Qc(){return w.useContext(Jv)!=null}function Yc(){return Qc()||ut(!1),w.useContext(Jv).location}function tN(n){w.useContext(Ao).static||w.useLayoutEffect(n)}function Ro(){let{isDataRoute:n}=w.useContext(Es);return n?T9():c9()}function c9(){Qc()||ut(!1);let n=w.useContext(Gc),{basename:e,future:t,navigator:r}=w.useContext(Ao),{matches:s}=w.useContext(Es),{pathname:a}=Yc(),l=JSON.stringify(qv(s,t.v7_relativeSplatPath)),d=w.useRef(!1);return tN(()=>{d.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let _=Kv(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ls([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}const d9=w.createContext(null);function f9(n){let e=w.useContext(Es).outlet;return e&&w.createElement(d9.Provider,{value:n},e)}function nN(){let{matches:n}=w.useContext(Es),e=n[n.length-1];return e?e.params:{}}function Xh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Ao),{matches:s}=w.useContext(Es),{pathname:a}=Yc(),l=JSON.stringify(qv(s,r.v7_relativeSplatPath));return w.useMemo(()=>Kv(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function h9(n,e,t,r){Qc()||ut(!1);let{navigator:s,static:a}=w.useContext(Ao),{matches:l}=w.useContext(Es),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=Yc(),_;_=g;let T=_.pathname||"/",C=T;if(p!=="/"){let N=p.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let P=!a&&t&&t.matches&&t.matches.length>0?t.matches:Xo(n,{pathname:C});return v9(P&&P.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:ls([p,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:ls([p,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,r)}function p9(){let n=oN(),e=Sc(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,null)}const m9=w.createElement(p9,null);class g9 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Es.Provider,{value:this.props.routeContext},w.createElement(eN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y9(n){let{routeContext:e,match:t,children:r}=n,s=w.useContext(Gc);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Es.Provider,{value:e},r)}function v9(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let g=l.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);g>=0||ut(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:C}=t,P=_.route.loader&&T[_.route.id]===void 0&&(!C||C[_.route.id]===void 0);if(_.route.lazy||P){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let C,P=!1,x=null,N=null;t&&(C=d&&_.route.id?d[_.route.id]:void 0,x=_.route.errorElement||m9,h&&(p<0&&T===0?(S9("route-fallback"),P=!0,N=null):p===T&&(P=!0,N=_.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,T+1)),$=()=>{let z;return C?z=x:P?z=N:_.route.Component?z=w.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=g,w.createElement(y9,{match:_,routeContext:{outlet:g,matches:H,isDataRoute:t!=null},children:z})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?w.createElement(g9,{location:t.location,revalidation:t.revalidation,component:x,error:C,children:$(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):$()},null)}var rN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(rN||{}),iN=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(iN||{});function _9(n){let e=w.useContext(Gc);return e||ut(!1),e}function w9(n){let e=w.useContext(Xv);return e||ut(!1),e}function E9(n){let e=w.useContext(Es);return e||ut(!1),e}function sN(n){let e=E9(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function oN(){var n;let e=w.useContext(eN),t=w9(iN.UseRouteError),r=sN();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function T9(){let{router:n}=_9(rN.UseNavigateStable),e=sN(),t=w.useRef(!1);return tN(()=>{t.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,yh({fromRouteId:e},a)))},[n,e])}const yS={};function S9(n,e,t){yS[n]||(yS[n]=!0)}function I9(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function C9(n){return f9(n.context)}function A9(n){let{basename:e="/",children:t=null,location:r,navigationType:s=rn.Pop,navigator:a,static:l=!1,future:d}=n;Qc()&&ut(!1);let h=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:h,navigator:a,static:l,future:yh({v7_relativeSplatPath:!1},d)}),[h,d,a,l]);typeof r=="string"&&(r=ws(r));let{pathname:g="/",search:_="",hash:T="",state:C=null,key:P="default"}=r,x=w.useMemo(()=>{let N=gs(g,h);return N==null?null:{location:{pathname:N,search:_,hash:T,state:C,key:P},navigationType:s}},[h,g,_,T,C,P,s]);return x==null?null:w.createElement(Ao.Provider,{value:p},w.createElement(Jv.Provider,{children:t,value:x}))}new Promise(()=>{});function R9(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zl.apply(this,arguments)}function aN(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function b9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function N9(n,e){return n.button===0&&(!e||e==="_self")&&!b9(n)}const k9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],D9="6";try{window.__reactRouterVersion=D9}catch{}function O9(n,e){return HB({basename:void 0,future:zl({},void 0,{v7_prependBasename:!0}),history:hB({window:void 0}),hydrationData:x9(),routes:n,mapRouteProperties:R9,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function x9(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=zl({},e,{errors:L9(e.errors)})),e}function L9(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new gh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let l=new a(s.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}const lN=w.createContext({isTransitioning:!1}),M9=w.createContext(new Map),V9="startTransition",vS=yk[V9],$9="flushSync",_S=zx[$9];function U9(n){vS?vS(n):n()}function Wu(n){_S?_S(n):n()}class j9{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function F9(n){let{fallbackElement:e,router:t,future:r}=n,[s,a]=w.useState(t.state),[l,d]=w.useState(),[h,p]=w.useState({isTransitioning:!1}),[g,_]=w.useState(),[T,C]=w.useState(),[P,x]=w.useState(),N=w.useRef(new Map),{v7_startTransition:H}=r||{},$=w.useCallback(A=>{H?U9(A):A()},[H]),z=w.useCallback((A,k)=>{let{deletedFetchers:O,flushSync:L,viewTransitionOpts:V}=k;A.fetchers.forEach((we,xe)=>{we.data!==void 0&&N.current.set(xe,we.data)}),O.forEach(we=>N.current.delete(we));let D=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!V||D){L?Wu(()=>a(A)):$(()=>a(A));return}if(L){Wu(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let we=t.window.document.startViewTransition(()=>{Wu(()=>a(A))});we.finished.finally(()=>{Wu(()=>{_(void 0),C(void 0),d(void 0),p({isTransitioning:!1})})}),Wu(()=>C(we));return}T?(g&&g.resolve(),T.skipTransition(),x({state:A,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(d(A),p({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,T,g,N,$]);w.useLayoutEffect(()=>t.subscribe(z),[t,z]),w.useEffect(()=>{h.isTransitioning&&!h.flushSync&&_(new j9)},[h]),w.useEffect(()=>{if(g&&l&&t.window){let A=l,k=g.promise,O=t.window.document.startViewTransition(async()=>{$(()=>a(A)),await k});O.finished.finally(()=>{_(void 0),C(void 0),d(void 0),p({isTransitioning:!1})}),C(O)}},[$,l,g,t.window]),w.useEffect(()=>{g&&l&&s.location.key===l.location.key&&g.resolve()},[g,T,s.location,l]),w.useEffect(()=>{!h.isTransitioning&&P&&(d(P.state),p({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),x(void 0))},[h.isTransitioning,P]),w.useEffect(()=>{},[]);let q=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,k,O)=>t.navigate(A,{state:k,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(A,k,O)=>t.navigate(A,{replace:!0,state:k,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[t]),Z=t.basename||"/",Q=w.useMemo(()=>({router:t,navigator:q,static:!1,basename:Z}),[t,q,Z]),S=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>I9(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(Gc.Provider,{value:Q},w.createElement(Xv.Provider,{value:s},w.createElement(M9.Provider,{value:N.current},w.createElement(lN.Provider,{value:h},w.createElement(A9,{basename:Z,location:s.location,navigationType:s.historyAction,navigator:q,future:S},s.initialized||t.future.v7_partialHydration?w.createElement(B9,{routes:t.routes,future:t.future,state:s}):e))))),null)}const B9=w.memo(H9);function H9(n){let{routes:e,future:t,state:r}=n;return h9(e,void 0,r,t)}const z9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q9=w.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:d,target:h,to:p,preventScrollReset:g,viewTransition:_}=e,T=aN(e,k9),{basename:C}=w.useContext(Ao),P,x=!1;if(typeof p=="string"&&W9.test(p)&&(P=p,z9))try{let z=new URL(window.location.href),q=p.startsWith("//")?new URL(z.protocol+p):new URL(p),Z=gs(q.pathname,C);q.origin===z.origin&&Z!=null?p=Z+q.search+q.hash:x=!0}catch{}let N=u9(p,{relative:s}),H=G9(p,{replace:l,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:_});function $(z){r&&r(z),z.defaultPrevented||H(z)}return w.createElement("a",zl({},T,{href:P||N,onClick:x||a?r:$,ref:t,target:h}))}),qu=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:d,to:h,viewTransition:p,children:g}=e,_=aN(e,P9),T=Xh(h,{relative:_.relative}),C=Yc(),P=w.useContext(Xv),{navigator:x,basename:N}=w.useContext(Ao),H=P!=null&&Q9(T)&&p===!0,$=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,z=C.pathname,q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;s||(z=z.toLowerCase(),q=q?q.toLowerCase():null,$=$.toLowerCase()),q&&N&&(q=gs(q,N)||q);const Z=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let Q=z===$||!l&&z.startsWith($)&&z.charAt(Z)==="/",S=q!=null&&(q===$||!l&&q.startsWith($)&&q.charAt($.length)==="/"),A={isActive:Q,isPending:S,isTransitioning:H},k=Q?r:void 0,O;typeof a=="function"?O=a(A):O=[a,Q?"active":null,S?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let L=typeof d=="function"?d(A):d;return w.createElement(q9,zl({},_,{"aria-current":k,className:O,ref:t,style:L,to:h,viewTransition:p}),typeof g=="function"?g(A):g)});var ay;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ay||(ay={}));var wS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(wS||(wS={}));function K9(n){let e=w.useContext(Gc);return e||ut(!1),e}function G9(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,h=Ro(),p=Yc(),g=Xh(n,{relative:l});return w.useCallback(_=>{if(N9(_,t)){_.preventDefault();let T=r!==void 0?r:ma(p)===ma(g);h(n,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:d})}},[p,h,g,r,s,t,n,a,l,d])}function Q9(n,e){e===void 0&&(e={});let t=w.useContext(lN);t==null&&ut(!1);let{basename:r}=K9(ay.useViewTransitionState),s=Xh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return mh(s.pathname,l)!=null||mh(s.pathname,a)!=null}function Y9(){const[n,e]=w.useState(!1),t=g=>R(IA,{id:"button-tooltip",...g,children:"Please check the notice below to continue.."}),{session:r}=ms(),s=Ro();r&&s("/Home");const[a,l]=w.useState(!1);function d(g){switch(g.target.checked){case!0:l(!0);break;case!1:l(!1);break}}const{logIn:h}=ms();async function p(){e(!0),await h(),e(!1)}return ge(sn,{children:[R(Dl,{show:n,centered:!0,backdrop:"static",children:ge(Dl.Body,{className:"text-center",children:[R("div",{className:"spinner-border text-primary",role:"status"}),R("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),ge("div",{className:"logincontainer",children:[R("div",{className:"circle",children:R("img",{src:"./images/favicon.png"})}),R("p",{className:"LoginWord",children:" USER LOGIN "}),ge("div",{className:"google-button",children:[a&&R(Qn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:p,disabled:n,children:"Login with Google"}),!a&&R(JM,{placement:"right",delay:{show:0,hide:400},overlay:t,children:R("div",{children:R(Qn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),ge("div",{children:[R("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),R("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),R("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:d})]})]})]})}async function X9(n){return await tu.createFile("678bac020031c1c3ad75",xl.unique(),n)}async function J9(n){return await tu.deleteFile("678bac020031c1c3ad75",n)}function Xc(n){return tu.getFilePreview("678bac020031c1c3ad75",n)}function ES(n){return tu.getFilePreview("67932f8600176cf1dfdc",n)}async function Z9(n,e){return await tu.createFile("67932f8600176cf1dfdc",n,e)}async function e3(n){return await tu.deleteFile("67932f8600176cf1dfdc",n)}async function t3(){const{documents:n}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.equal("isApproved",!0)]);return{items:n.map(Ts)}}async function n3(n){const{documents:e}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("name",n),je.equal("isApproved",!0)]);return{items:e.map(Ts)}}async function r3(n){const{documents:e}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("itemCategory",n),je.equal("isApproved",!0)]);return{items:e.map(Ts)}}async function uN(n){const{documents:e}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.contains("authorID",n),je.orderDesc("date")]);return{items:e.map(Ts)}}async function i3(){const{documents:n}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.equal("isApproved",!1),je.orderDesc("date")]);return{items:n.map(Ts)}}async function ly(n){const e=await Wr.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:Ts(e)}}async function s3(n){const{items:e}=await ly(n);await J9(e.imageFileId),await Wr.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function o3(n){const e=await Wr.createDocument("678babec0039e89240df","67932f2e00392d850485",xl.unique(),n);return{items:Ts(e)}}async function cN(n,e){const t=await Wr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Ts(t)}}async function TS(n,e){const t=await Wr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Ts(t)}}function Ts(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:!1,requests:n.requests,itemCategory:n.itemCategory}}async function To(n){const e=await Wr.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:dN(e)}}async function a3(n,e){const t=await Wr.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:dN(t)}}function dN(n){return{userid:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight}}function Sf(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,s,...a]=t.map(h=>parseInt(h)),l=[r,s-1,...a];return new Date(Date.UTC(...l))}}function SS(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function uy(){return uy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uy.apply(this,arguments)}const Ju=60,Zu=Ju*60,Tl=Zu*24,If=Tl*7,IS=Tl*30,CS=Tl*365,l3=()=>Date.now();function u3({date:n,formatter:e=SS,component:t="time",live:r=!0,minPeriod:s=0,maxPeriod:a=If,title:l,now:d=l3,...h}){const[p,g]=w.useState(d());w.useEffect(()=>{if(!r)return;const Z=(()=>{const Q=Sf(n).valueOf();if(!Q)return console.warn("[react-timeago] Invalid Date provided"),0;const S=Math.round(Math.abs(p-Q)/1e3),A=S<Ju?1e3:S<Zu?1e3*Ju:S<Tl?1e3*Zu:1e3*If,k=Math.min(Math.max(A,s*1e3),a*1e3);return k?setTimeout(()=>{g(d())},k):0})();return()=>{Z&&clearTimeout(Z)}},[n,r,a,s,d,p]);const _=t,T=Sf(n).valueOf();if(!T)return null;const C=Math.round(Math.abs(p-T)/1e3),P=T<p?"ago":"from now",[x,N]=C<Ju?[Math.round(C),"second"]:C<Zu?[Math.round(C/Ju),"minute"]:C<Tl?[Math.round(C/Zu),"hour"]:C<If?[Math.round(C/Tl),"day"]:C<IS?[Math.round(C/If),"week"]:C<CS?[Math.round(C/IS),"month"]:[Math.round(C/CS),"year"],H=typeof l>"u"?typeof n=="string"?n:Sf(n).toISOString().substr(0,16).replace("T"," "):l,$=_==="time"?{...h,dateTime:Sf(n).toISOString()}:h,z=SS.bind(null,x,N,P);return w.createElement(_,uy({},$,{title:H}),e(x,N,P,T,z,d))}const fN=({name:n,date:e,author:t,image:r})=>ge(Xs,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[R("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&ge(sn,{children:[R(Xs.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),R("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),ge(Xs.Body,{children:[R(Xs.Title,{children:n}),R(Xs.Text,{children:t}),R(Xs.Text,{children:R(u3,{date:e})})]})]}),Jh=({children:n})=>{const{session:e,logOut:t}=ms(),r=Ro(),[s,a]=w.useState(),[l,d]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/");return}try{const g=await Zy();a(g)}catch(g){console.error("Error fetching user:",g)}finally{d(!1)}})()},[e,r]);async function h(){await t(),r("/")}return ge(sn,{children:[R(Dl,{show:l,centered:!0,backdrop:"static",children:ge(Dl.Body,{className:"text-center",children:[R(xh,{animation:"border",role:"status",children:R("span",{className:"visually-hidden",children:"Loading..."})}),R("p",{className:"mt-3",children:"Please wait, loading..."})]})}),ge("div",{className:"body",children:[R(mf,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:ge(Zl,{children:[ge(mf.Brand,{href:"#/Home",children:[R("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),R(mf.Toggle,{"aria-controls":"basic-navbar-nav"}),R(mf.Collapse,{className:"justify-content-end flex-grow-1",children:R(Ol,{children:ge(w0,{className:"me-auto",children:[R(w0.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),ge(Bu,{title:(s==null?void 0:s.name)||"User",id:"basic-nav-dropdown",align:"end",children:[R(Bu.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),R(Bu.Divider,{}),e?R(Bu.Item,{className:"logout-nav",onClick:h,children:"Logout"}):R(Bu.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),R("main",{children:n})]})]})},c3=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(!1),[s,a]=w.useState({});w.useEffect(()=>{(async function(){const{items:g}=await t3();e(g);const _={};await Promise.all(g.map(async T=>{if(!_[T.authorID]){const{userdb:C}=await To(T.authorID);_[T.authorID]=C}})),a(_)})()},[]);async function l(p){const{items:g}=await r3(p);e(g)}async function d(p){p.preventDefault(),r(!0);const g=p.target;try{const{items:_}=await n3(g.ItemSearch.value);e(_)}catch(_){console.error("Error finding Item:",_)}}const h={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Accessories",color:"info"},f:{name:"Miscellaneous",color:"dark"}};return R(Jh,{children:R("div",{className:"home",children:ge("div",{className:"container",id:"pagewrap",children:[R("div",{className:"searchinput",children:ge("form",{className:"search",onSubmit:d,autoComplete:"off",children:[R("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),t&&R(xc,{className:"clear-btn",onClick:()=>r(!1)}),R("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),R("div",{className:"categories",children:R(no,{defaultActiveKey:"0",children:ge(no.Item,{eventKey:"0",children:[R(no.Header,{children:"Filter by Categories"}),R(no.Body,{children:R(Ol,{children:ge(Pl,{children:[R(Qn,{variant:"outline-danger",onClick:()=>r(!1),children:"Clear Filter"}),Object.entries(h).map(([p,g])=>R(Qn,{variant:`outline-${g.color}`,onClick:()=>l(p),children:g.name},p))]})})})]})})}),R("div",{className:"items container",children:R(Ol,{children:n.length>0?n.map(p=>{var C;const _={url:p.imageFileId&&Xc(p.imageFileId),height:p.imageHeight,width:p.imageWidth},T=s[p.authorID];return R(Pl,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:ge("a",{className:"itemLink",href:`#/Item/${p.$id}`,children:[R("div",{className:"itemLabel",children:R("span",{className:"Label",children:((C=h[p.itemCategory])==null?void 0:C.name)||"Uncategorized"})}),R(fN,{image:_,name:p.name,date:p.date,author:T?T.displayName||T.defaultName:"Unknown Author"})]})},p.$id)}):R(Zl,{children:ge(uc,{variant:"warning",children:["No Items are currently posted, ",R(uc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})})};function ul(){const n=oN();return console.error(n),R("div",{id:"error-page",children:ge("div",{class:"error",children:[ge("a",{class:"HomeButton",href:"#/Home",children:[R("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:R("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),R("div",{class:"background-wrapper",children:R("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),R("p",{class:"errorText",children:"The page youre looking for does not exist."}),R("p",{children:R("i",{children:n.statusText||n.message})})]})})}function d3(){const{session:n}=ms(),e=Ro(),[t,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!n){e("/");return}r(!1)})()},[n,e]),ge(sn,{children:[R(Dl,{show:t,centered:!0,backdrop:"static",children:ge(Dl.Body,{className:"text-center",children:[R(xh,{animation:"border",role:"status",children:R("span",{className:"visually-hidden",children:"Loading..."})}),R("p",{className:"mt-3",children:"Verifying session..."})]})}),!t&&ge(sn,{children:[ge("div",{className:"uWholeBox",children:[ge("a",{className:"HomeButton",href:"#/Home",children:[R("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:R("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),R("div",{className:"uLooks",children:" Dashboard "})]}),ge("div",{className:"NaviBar",children:[ge("ul",{children:[R("li",{children:R(qu,{to:"/Dashboard/Post",children:"Post"})}),R("li",{children:R(qu,{to:"/Dashboard/Items",children:"Your Items"})}),R("li",{children:R(qu,{to:"/Dashboard/Requests",children:"Requests"})}),R("li",{children:R(qu,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),R("li",{children:R(qu,{to:"/Dashboard/Profile",children:"Profile"})})]}),R(C9,{})]})]})]})}const f3=()=>{const[n,e]=w.useState(),[t,r]=w.useState(),[s,a]=w.useState(!1),[l,d]=w.useState(),[h,p]=w.useState(null),[g,_]=w.useState(!1),[T,C]=w.useState(""),[P,x]=w.useState(""),[N,H]=w.useState(null);w.useEffect(()=>{(async()=>{try{const Q=await Zy();if(e(Q),Q){const{userdb:S}=await To(Q.$id);r(S),p(S!=null&&S.profileImageId?ES(S.profileImageId):null),C((S==null?void 0:S.displayName)||(Q==null?void 0:Q.name)||""),x((S==null?void 0:S.profileSummary)||"")}}catch(Q){console.error("Error fetching user: ",Q)}})()},[]);const $=()=>a(!0),z=Z=>{if(!Z.target.files||Z.target.files.length===0)return;const Q=Z.target.files[0];if(Q.size>5*1024*1024){H("File size exceeds 5MB limit.");return}else H(null);const S=document.createElement("img");S.onload=function(){d({height:S.height,file:Q,width:S.width})},S.src=URL.createObjectURL(Q),p(URL.createObjectURL(Q))},q=async Z=>{if(Z.preventDefault(),_(!0),!T.trim()||!P.trim()){alert("Please fill in all fields."),_(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),_(!1);return}let{userdb:Q}=await To(n.$id),S=(Q==null?void 0:Q.profileImageId)||"default";if(S&&S!=="default"&&await e3(S),l!=null&&l.file){const A=await Z9(n.$id,l.file);A!=null&&A.$id&&(S=A.$id)}await a3(n.$id,{profileImageId:S,profileSummary:P,profileImageWidth:(l==null?void 0:l.width)??100,profileImageHeight:(l==null?void 0:l.height)??100,displayName:T,defaultName:""}),console.log(" Profile updated."),r(A=>({...A,displayName:T,profileSummary:P,profileImageId:S}))}catch(Q){console.error(" Failed to update profile:",Q)}finally{_(!1),a(!1)}};return R(Zl,{className:"d-flex justify-content-center align-items-center min-vh-100",children:ge(Xs,{className:"profile-card shadow-lg",children:[g&&ge("div",{className:"overlay",children:[R(xh,{animation:"border"}),R("p",{className:"mt-2",children:"Updating User Profile..."})]}),R(Xs.Body,{className:"text-center",children:s?ge(sn,{children:[R("h2",{children:"Edit Profile"}),ge("form",{onSubmit:q,className:"mt-3",children:[ge("div",{className:"profile-image-upload",children:[R("input",{type:"file",accept:".png, .jpg",onChange:z,required:!0}),R(Ng,{src:h||"/images/default-profile.png",roundedCircle:!0,className:"profile-img"}),R("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),N&&R("p",{className:"text-danger",children:N})]}),ge(dr.Group,{className:"mb-3",children:[R(dr.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:T,onChange:Z=>C(Z.target.value)}),ge("small",{className:"text-muted",children:[T.length,"/20"]})]}),ge(dr.Group,{className:"mb-3",children:[R(dr.Label,{children:"Profile Summary"}),R(dr.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:P,onChange:Z=>x(Z.target.value)}),ge("small",{className:"text-muted",children:[P.length,"/500"]})]}),R(Qn,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):ge(sn,{children:[R(Ng,{src:t!=null&&t.profileImageId?ES(t.profileImageId):"/images/default-profile.png",roundedCircle:!0,className:"profile-img"}),R("h2",{className:"display-name",children:(t==null?void 0:t.displayName)||"Your Name"}),R("p",{className:"account-name",children:n==null?void 0:n.name}),R("p",{className:"text-muted",children:(t==null?void 0:t.profileSummary)??"No profile description provided"}),R(Qn,{className:"btn-lg mt-3",onClick:$,children:"Edit Profile"})]})})]})})},h3=()=>R(sn,{children:ge("div",{class:"messages-container",children:[R("iframe",{width:"100%",height:"100%",src:"https://lynxlenior.github.io/TraderyMessenger/",title:"TraderyMessenger"}),R("div",{id:"view-messages"})]})}),p3=()=>{const{session:n}=ms(),e=Ro(),[t,r]=w.useState(),[s,a]=w.useState(!1),[l,d]=w.useState(""),[h,p]=w.useState(""),[g,_]=w.useState(null);function T(P){if(!P.target.files||P.target.files.length===0)return;const x=P.target.files[0];if(x.size>5*1024*1024){_("File size must be 5MB or less.");return}_(null);const N=new Image;N.onload=function(){r({height:N.height,file:x,width:N.width})},N.src=URL.createObjectURL(x)}return ge(sn,{children:[s&&R("div",{className:"overlay",children:R("div",{className:"overlay-content",children:R("p",{children:"Please wait... Creating Tradery Item"})})}),R("div",{className:"Main",children:ge("div",{className:"container",children:[R("h1",{children:"Post Item"}),g&&R("p",{style:{color:"red"},children:g}),ge("form",{onSubmit:async P=>{P.preventDefault(),a(!0);const N=new FormData(P.currentTarget).get("itemCategory");if(!l||!h||!N){_("Please fill in all fields."),a(!1);return}try{const H=await ro();if(!H){console.log("User data is still loading. Please wait.");return}const $=await o3({name:l,authorID:H.$id,description:h,date:new Date().toISOString(),imageHeight:(t==null?void 0:t.height)??100,imageFileId:"",imageWidth:(t==null?void 0:t.width)??100,isApproved:!1,itemCategory:N});if(console.log("Item created successfully:",$.items),t!=null&&t.file){console.log("Uploading image...");const z=await X9(t.file);await cN($.items.$id,{imageFileId:z==null?void 0:z.$id,imageHeight:t==null?void 0:t.height,imageWidth:t==null?void 0:t.width,name:l,description:h,authorID:H.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:N}),console.log("Image uploaded successfully:",z.$id)}e(`/Item/${$.items.$id}`)}catch(H){console.error("Error creating item:",H),alert("Failed to create item. Please try again.")}finally{a(!1)}},autoComplete:"off",children:[R("div",{className:"uploader",children:ge(dr.Group,{controlId:"formFileLg",className:"mb-3",children:[R(dr.Label,{children:"Import Image (Max: 5MB)"}),R(dr.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:T,required:!0})]})}),R("div",{className:"mb-3",children:R(qy,{controlId:"floatingSelect",label:"Category",children:ge(dr.Select,{className:"itemCategory",id:"itemCategory",name:"itemCategory",required:!0,children:[R("option",{value:"",disabled:!0,children:"Select a Category..."}),R("option",{value:"a",children:"School Supplies"}),R("option",{value:"b",children:"Clothing"}),R("option",{value:"c",children:"Entertainment/Hobbies"}),R("option",{value:"d",children:"Gaming/Technology"}),R("option",{value:"e",children:"Accessories"}),R("option",{value:"f",children:"Miscellaneous"})]})})}),ge("div",{className:"mb-3",children:[R(dr.Control,{id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:l,onChange:P=>d(P.target.value),required:!0}),ge("small",{children:[l.length,"/40"]})]}),ge(dr.Group,{className:"mb-3",controlId:"Description.ControlTextarea1",children:[R(dr.Label,{children:"Item Description"}),R(dr.Control,{rows:4,as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:h,onChange:P=>p(P.target.value),required:!0}),ge("small",{children:[h.length,"/500"]})]}),R(Qn,{className:"submitbtn",type:"submit",disabled:s,children:"Submit"})]})]})})]})},m3=()=>{const[n,e]=w.useState([]),[t,r]=w.useState({});return w.useEffect(()=>{(async function(){const a=await ro();if(!a){console.log("User data is still loading. Please wait.");return}const{items:l}=await uN(a.$id);e(l);const d={};await Promise.all(l.map(async h=>{if(!d[h.authorID]){const{userdb:p}=await To(h.authorID);d[h.authorID]=p}})),r(d)})()},[]),R("div",{className:"home",children:R("div",{className:"container",id:"pagewrap",children:R("div",{className:"items container",children:R(Ol,{children:n.length>0?n.map(s=>{const l={url:s.imageFileId&&Xc(s.imageFileId),height:s.imageHeight,width:s.imageWidth},d=t[s.authorID];return R(Pl,{xs:12,md:3,style:{paddingBottom:"20px"},children:R("a",{className:"itemLink",href:`#/Item/${s.$id}`,children:R(fN,{image:l,name:s.name,date:s.date,author:d?d.displayName||d.defaultName:"Unknown Author"})})},s.$id)}):R(Zl,{children:ge(uc,{variant:"warning",children:["No Items are currently posted, ",R(uc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})},g3=({name:n,userId:e})=>{const[t,r]=w.useState([]);return w.useEffect(()=>{(async function(){if(!e||e.length===0)return;const a=await Promise.all(e.map(async l=>{try{const{userdb:d}=await To(l);return{displayName:(d==null?void 0:d.displayName)||"Unknown User",appwriteName:(d==null?void 0:d.defaultName)||"No Default Name"}}catch(d){return console.error("Error fetching user data:",d),{displayName:"Unknown User",appwriteName:"No Default Name"}}}));r(a)})()},[e]),ge(no.Item,{eventKey:"0",children:[R(no.Header,{children:n}),R(no.Body,{children:t.length>0?t.map((s,a)=>ge("p",{children:[R("strong",{children:s.displayName})," requests to trade with this item. You can message them at **",s.appwriteName,"**."]},a)):R("p",{children:"No trade requests found."})})]})},y3=()=>{const[n,e]=w.useState([]),{session:t}=ms();return Ro(),w.useEffect(()=>{(async function(){const s=await ro();if(!s){console.log("User data is still loading. Please wait.");return}const{items:a}=await uN(s.$id),l=a.filter(d=>{var h;return((h=d.requests)==null?void 0:h.length)||!1});e(l),console.log(l)})()},[]),ge("div",{className:"container",children:[R("h1",{children:"Your Items with Requests"}),n.length>0?R(no,{children:n.map(r=>R(g3,{name:r.name,userId:r.requests},r.$id))}):R("p",{children:"No items with requests found."})]})};function v3({params:n=nN()}){const[e,t]=w.useState(),[r,s]=w.useState(),a=Ro(),[l,d]=w.useState(!1),[h,p]=w.useState(!1),{isAdmin:g}=ms(),T={url:(e==null?void 0:e.imageFileId)&&Xc(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var Z;const{items:$}=await ly(n.itemsId);console.log("Fetched Item Data:",$),t($);const z=await ro();if((z==null?void 0:z.$id)===($==null?void 0:$.authorID)&&d(!0),z&&p(((Z=$.requests)==null?void 0:Z.includes(z.$id))??!1),$){const{userdb:Q}=await To($.authorID);s(Q);return}})()},[n.itemsId]);async function C(){if(!e)return;const H=await ro();if(!H){console.log("User data is still loading. Please wait.");return}try{const $=e.requests??[];if($.includes(H.$id)){p(!0);return}const z=[...$,H.$id];t(q=>q&&{...q,requests:z}),p(!0),await TS(n.itemsId,{...e,requests:z}),console.log("Trade request successful")}catch($){console.error("Error requesting trade:",$)}}async function P(){if(e!=null&&e.$id){await s3(e.$id);return}a(-1)}async function x(){if(!e)return;if(!await ro()){console.log("User data is still loading. Please wait.");return}try{await cN(n.itemsId,{...e,isApproved:!0});const{items:$}=await ly(n.itemsId);console.log(" Approved Post Data from Appwrite:",$),t($)}catch($){console.error("Error approving post:",$)}}async function N(){if(!e)return;const H=await ro();if(!H){console.log("User data is still loading. Please wait.");return}try{const $=e.requests??[];if(!$.includes(H.$id)){p(!1);return}const z=$.filter(q=>q!==H.$id);t(q=>q&&{...q,requests:z}),p(!1),await TS(n.itemsId,{...e,requests:z}),console.log("Trade request removed")}catch($){console.error("Error removing request:",$)}}return ge(Jh,{children:[ge("a",{className:"HomeItem",href:"#/Home",children:[R("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:R("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),R("div",{className:"container",children:e&&ge(sn,{children:[ge("div",{className:"itemheading",children:[R("div",{children:R("h1",{children:e.name})}),r&&ge("div",{children:["By: ",r.displayName||r.defaultName]}),ge("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!g&&ge("div",{className:"Tradecont",children:[l&&R(Qn,{className:"Tradereq",variant:"primary",onClick:P,children:"Delete Item"}),!l&&R(sn,{children:h?R(Qn,{className:"Tradereq",variant:"danger",onClick:N,children:"Remove Trade Request"}):R(Qn,{className:"Tradereq",variant:"primary",onClick:C,children:"Request a Trade"})})]}),g&&ge("div",{className:"Tradecont",children:[R(Qn,{className:"Tradereq",variant:"primary",onClick:P,children:"Delete Item"}),R(Qn,{className:"Tradereq",variant:"primary",onClick:x,children:"Approve Item"})]}),R("div",{className:"itemimg",children:R(o0,{className:"image-carousel",controls:!1,children:R(o0.Item,{children:R("img",{className:"thumbnail",src:T.url?String(T.url):"./images/favicon",alt:"Item"})})})}),R("div",{className:"description",children:R("p",{children:e.description})})]})})]})}function _3({params:n=nN()}){const[e,t]=w.useState(),[r,s]=w.useState();Ro();const[a,l]=w.useState(!1),{isAdmin:d}=ms(),h=(e==null?void 0:e.profileImageId)&&Xc(e.profileImageId);return w.useEffect(()=>{(async function(){const{userdb:g}=await To(n.userId);t(g);const _=await ro();_&&s(_)})()},[n.userId]),R(Jh,{children:ge("div",{className:"container",children:[R("div",{className:"inputprofile",children:R("img",{className:"profile",src:h?String(h):"https://cloud.appwrite.io/v1/storage/buckets/678bac020031c1c3ad75/files/67b5f14b0018676748e5/view?project=678ba12f001dce105c6a&mode=admin",alt:"Item"})}),R("h1",{children:e==null?void 0:e.displayName}),R("p",{children:r==null?void 0:r.name}),R("p",{children:e==null?void 0:e.profileSummary})]})})}function w3(){const{isAdmin:n,logInAdmin:e}=ms(),[t,r]=w.useState([]),[s,a]=w.useState({}),l=async d=>{d.preventDefault();const h=d.target;await e(h.email.value,h.password.value),window.location.reload()};return w.useEffect(()=>{(async function(){const{items:h}=await i3();r(h);const p={};await Promise.all(h.map(async g=>{if(!p[g.authorID]){const{userdb:_}=await To(g.authorID);p[g.authorID]=_}})),a(p)})()},[]),ge(sn,{children:[!n&&R("div",{className:"RegAdminContainer",children:R("div",{className:"login-register-container",children:ge("form",{onSubmit:l,autoComplete:"off",children:[ge("div",{className:"form-field-wrapper",children:[R("label",{children:"Email:"}),R("input",{required:!0,type:"email",name:"email",placeholder:"Enter email..."})]}),ge("div",{className:"form-field-wrapper",children:[R("label",{children:"Password:"}),R(dr.Control,{type:"password",name:"password",placeholder:"Enter password..."})]}),R("div",{className:"form-field-wrapper",children:R(Qn,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&R(Jh,{children:R("div",{className:"home",children:ge("div",{className:"container",id:"pagewrap",children:[R("h1",{children:"UNAPPROVED ITEMS"}),R("div",{className:"items container",children:R(Ol,{children:t.length>0?t.map(d=>{const p={url:d.imageFileId&&Xc(d.imageFileId),height:d.imageHeight,width:d.imageWidth},g=s[d.authorID];return R(Pl,{xs:12,md:3,style:{paddingBottom:"20px"},children:R("a",{className:"itemLink",href:`#/Item/${d.$id}`,children:R(ItemCard,{image:p,name:d.name,date:d.date,author:g?g.displayName||g.defaultName:"Unknown Author"})})},d.$id)}):R(Zl,{children:R(uc,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const E3=O9([{path:"/",element:R(Y9,{}),errorElement:R(ul,{})},{path:"/Admin",element:R(w3,{}),errorElement:R(ul,{})},{path:"/Home",element:R(c3,{}),errorElement:R(ul,{})},{path:"/Item/:itemsId",element:R(v3,{}),errorElement:R(ul,{})},{path:"/User/:profileId",element:R(_3,{}),errorElement:R(ul,{})},{path:"/Dashboard",element:R(d3,{}),errorElement:R(ul,{}),children:[{path:"/Dashboard/Post",element:R(p3,{})},{path:"/Dashboard/Profile",element:R(f3,{})},{path:"/Dashboard/Items",element:R(m3,{})},{path:"/Dashboard/Requests",element:R(y3,{})},{path:"/Dashboard/Messages",element:R(h3,{})}]}]);Tk.createRoot(document.getElementById("root")).render(R(w.StrictMode,{children:R(dB,{children:R(F9,{router:E3})})}));
