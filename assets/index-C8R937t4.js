function kS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Cc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cm={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function wk(){if(uE)return lt;uE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,x={};function N(F,ee,he){this.props=F,this.context=ee,this.refs=x,this.updater=he||C}N.prototype.isReactComponent={},N.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function H(){}H.prototype=N.prototype;function $(F,ee,he){this.props=F,this.context=ee,this.refs=x,this.updater=he||C}var z=$.prototype=new H;z.constructor=$,P(z,N.prototype),z.isPureReactComponent=!0;var q=Array.isArray,Z=Object.prototype.hasOwnProperty,Q={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(F,ee,he){var ve,Te={},Ae=null,qe=null;if(ee!=null)for(ve in ee.ref!==void 0&&(qe=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)Z.call(ee,ve)&&!S.hasOwnProperty(ve)&&(Te[ve]=ee[ve]);var Ue=arguments.length-2;if(Ue===1)Te.children=he;else if(1<Ue){for(var st=Array(Ue),Et=0;Et<Ue;Et++)st[Et]=arguments[Et+2];Te.children=st}if(F&&F.defaultProps)for(ve in Ue=F.defaultProps,Ue)Te[ve]===void 0&&(Te[ve]=Ue[ve]);return{$$typeof:n,type:F,key:Ae,ref:qe,props:Te,_owner:Q.current}}function k(F,ee){return{$$typeof:n,type:F.type,key:ee,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function L(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ee[he]})}var V=/\/+/g;function D(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):ee.toString(36)}function we(F,ee,he,ve,Te){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var qe=!1;if(F===null)qe=!0;else switch(Ae){case"string":case"number":qe=!0;break;case"object":switch(F.$$typeof){case n:case e:qe=!0}}if(qe)return qe=F,Te=Te(qe),F=ve===""?"."+D(qe,0):ve,q(Te)?(he="",F!=null&&(he=F.replace(V,"$&/")+"/"),we(Te,ee,he,"",function(Et){return Et})):Te!=null&&(O(Te)&&(Te=k(Te,he+(!Te.key||qe&&qe.key===Te.key?"":(""+Te.key).replace(V,"$&/")+"/")+F)),ee.push(Te)),1;if(qe=0,ve=ve===""?".":ve+":",q(F))for(var Ue=0;Ue<F.length;Ue++){Ae=F[Ue];var st=ve+D(Ae,Ue);qe+=we(Ae,ee,he,st,Te)}else if(st=T(F),typeof st=="function")for(F=st.call(F),Ue=0;!(Ae=F.next()).done;)Ae=Ae.value,st=ve+D(Ae,Ue++),qe+=we(Ae,ee,he,st,Te);else if(Ae==="object")throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return qe}function xe(F,ee,he){if(F==null)return F;var ve=[],Te=0;return we(F,ve,"","",function(Ae){return ee.call(he,Ae,Te++)}),ve}function Fe(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Q};function ae(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:xe,forEach:function(F,ee,he){xe(F,function(){ee.apply(this,arguments)},he)},count:function(F){var ee=0;return xe(F,function(){ee++}),ee},toArray:function(F){return xe(F,function(ee){return ee})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},lt.Component=N,lt.Fragment=t,lt.Profiler=s,lt.PureComponent=$,lt.StrictMode=r,lt.Suspense=h,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,lt.act=ae,lt.cloneElement=function(F,ee,he){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ve=P({},F.props),Te=F.key,Ae=F.ref,qe=F._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,qe=Q.current),ee.key!==void 0&&(Te=""+ee.key),F.type&&F.type.defaultProps)var Ue=F.type.defaultProps;for(st in ee)Z.call(ee,st)&&!S.hasOwnProperty(st)&&(ve[st]=ee[st]===void 0&&Ue!==void 0?Ue[st]:ee[st])}var st=arguments.length-2;if(st===1)ve.children=he;else if(1<st){Ue=Array(st);for(var Et=0;Et<st;Et++)Ue[Et]=arguments[Et+2];ve.children=Ue}return{$$typeof:n,type:F.type,key:Te,ref:Ae,props:ve,_owner:qe}},lt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},lt.createElement=A,lt.createFactory=function(F){var ee=A.bind(null,F);return ee.type=F,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(F){return{$$typeof:d,render:F}},lt.isValidElement=O,lt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:Fe}},lt.memo=function(F,ee){return{$$typeof:p,type:F,compare:ee===void 0?null:ee}},lt.startTransition=function(F){var ee=ne.transition;ne.transition={};try{F()}finally{ne.transition=ee}},lt.unstable_act=ae,lt.useCallback=function(F,ee){return Ne.current.useCallback(F,ee)},lt.useContext=function(F){return Ne.current.useContext(F)},lt.useDebugValue=function(){},lt.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},lt.useEffect=function(F,ee){return Ne.current.useEffect(F,ee)},lt.useId=function(){return Ne.current.useId()},lt.useImperativeHandle=function(F,ee,he){return Ne.current.useImperativeHandle(F,ee,he)},lt.useInsertionEffect=function(F,ee){return Ne.current.useInsertionEffect(F,ee)},lt.useLayoutEffect=function(F,ee){return Ne.current.useLayoutEffect(F,ee)},lt.useMemo=function(F,ee){return Ne.current.useMemo(F,ee)},lt.useReducer=function(F,ee,he){return Ne.current.useReducer(F,ee,he)},lt.useRef=function(F){return Ne.current.useRef(F)},lt.useState=function(F){return Ne.current.useState(F)},lt.useSyncExternalStore=function(F,ee,he){return Ne.current.useSyncExternalStore(F,ee,he)},lt.useTransition=function(){return Ne.current.useTransition()},lt.version="18.3.1",lt}var cE;function hy(){return cE||(cE=1,Cm.exports=wk()),Cm.exports}var w=hy();const dn=Cc(w),Ek=kS({__proto__:null,default:dn},[w]);var sf={},Am={exports:{}},ur={},Rm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function Tk(){return dE||(dE=1,function(n){function e(ne,me){var ae=ne.length;ne.push(me);e:for(;0<ae;){var F=ae-1>>>1,ee=ne[F];if(0<s(ee,me))ne[F]=me,ne[ae]=ee,ae=F;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],ae=ne.pop();if(ae!==me){ne[0]=ae;e:for(var F=0,ee=ne.length,he=ee>>>1;F<he;){var ve=2*(F+1)-1,Te=ne[ve],Ae=ve+1,qe=ne[Ae];if(0>s(Te,ae))Ae<ee&&0>s(qe,Te)?(ne[F]=qe,ne[Ae]=ae,F=Ae):(ne[F]=Te,ne[ve]=ae,F=ve);else if(Ae<ee&&0>s(qe,ae))ne[F]=qe,ne[Ae]=ae,F=Ae;else break e}}return me}function s(ne,me){var ae=ne.sortIndex-me.sortIndex;return ae!==0?ae:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();n.unstable_now=function(){return l.now()-d}}var h=[],p=[],g=1,_=null,T=3,C=!1,P=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ne){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ne)r(p),me.sortIndex=me.expirationTime,e(h,me);else break;me=t(p)}}function q(ne){if(x=!1,z(ne),!P)if(t(h)!==null)P=!0,Fe(Z);else{var me=t(p);me!==null&&Ne(q,me.startTime-ne)}}function Z(ne,me){P=!1,x&&(x=!1,H(A),A=-1),C=!0;var ae=T;try{for(z(me),_=t(h);_!==null&&(!(_.expirationTime>me)||ne&&!L());){var F=_.callback;if(typeof F=="function"){_.callback=null,T=_.priorityLevel;var ee=F(_.expirationTime<=me);me=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(h)&&r(h),z(me)}else r(h);_=t(h)}if(_!==null)var he=!0;else{var ve=t(p);ve!==null&&Ne(q,ve.startTime-me),he=!1}return he}finally{_=null,T=ae,C=!1}}var Q=!1,S=null,A=-1,k=5,O=-1;function L(){return!(n.unstable_now()-O<k)}function V(){if(S!==null){var ne=n.unstable_now();O=ne;var me=!0;try{me=S(!0,ne)}finally{me?D():(Q=!1,S=null)}}else Q=!1}var D;if(typeof $=="function")D=function(){$(V)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,xe=we.port2;we.port1.onmessage=V,D=function(){xe.postMessage(null)}}else D=function(){N(V,0)};function Fe(ne){S=ne,Q||(Q=!0,D())}function Ne(ne,me){A=N(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){P||C||(P=!0,Fe(Z))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var ae=T;T=me;try{return ne()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=T;T=ne;try{return me()}finally{T=ae}},n.unstable_scheduleCallback=function(ne,me,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,ne={id:g++,callback:me,priorityLevel:ne,startTime:ae,expirationTime:ee,sortIndex:-1},ae>F?(ne.sortIndex=ae,e(p,ne),t(h)===null&&ne===t(p)&&(x?(H(A),A=-1):x=!0,Ne(q,ae-F))):(ne.sortIndex=ee,e(h,ne),P||C||(P=!0,Fe(Z))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var me=T;return function(){var ae=T;T=me;try{return ne.apply(this,arguments)}finally{T=ae}}}}(bm)),bm}var fE;function Sk(){return fE||(fE=1,Rm.exports=Tk()),Rm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function Ik(){if(hE)return ur;hE=1;var n=hy(),e=Sk();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(i){return h.call(_,i)?!0:h.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function C(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,u,f){if(o===null||typeof o>"u"||C(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,u,f,m,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function $(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(H,$);N[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(H,$);N[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(H,$);N[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,o,u,f){var m=N.hasOwnProperty(o)?N[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,m,f)&&(u=null),f||m===null?T(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),Q=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,F;function ee(i){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var he=!1;function ve(i,o){if(!i||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var f=J}Reflect.construct(i,[],o)}else{try{o.call()}catch(J){f=J}i.call(o.prototype)}else{try{throw Error()}catch(J){f=J}i()}}catch(J){if(J&&f&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),v=f.stack.split(`
`),I=m.length-1,M=v.length-1;1<=I&&0<=M&&m[I]!==v[M];)M--;for(;1<=I&&0<=M;I--,M--)if(m[I]!==v[M]){if(I!==1||M!==1)do if(I--,M--,0>M||m[I]!==v[M]){var j=`
`+m[I].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=I&&0<=M);break}}}finally{he=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function Te(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function Ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case Q:return"Portal";case k:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case we:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case V:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xe:return o=i.displayName||null,o!==null?o:Ae(i.type)||"Memo";case Fe:o=i._payload,i=i._init;try{return Ae(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function st(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(i){var o=st(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function It(i){i._valueTracker||(i._valueTracker=Et(i))}function it(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=st(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function kt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function qt(i,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function rt(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function jt(i,o){o=o.checked,o!=null&&z(i,"checked",o,!1)}function pn(i,o){jt(i,o);var u=Ue(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Hn(i,o.type,u):o.hasOwnProperty("defaultValue")&&Hn(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Rr(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Hn(i,o,u){(o!=="number"||kt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ft=Array.isArray;function Jt(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Jn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Pn(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Ft(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function Dt(i,o){var u=Ue(o.value),f=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function on(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function $e(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?$e(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ot,mn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ot.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function zn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Be=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(i){Be.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Wn[o]=Wn[i]})});function ot(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Wn.hasOwnProperty(i)&&Wn[i]?(""+o).trim():o+"px"}function gn(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=ot(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Zn=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function di(i,o){if(o){if(Zn[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function bo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function qr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vi=null,Dn=null,er=null;function Is(i){if(i=Iu(i)){if(typeof Vi!="function")throw Error(t(280));var o=i.stateNode;o&&(o=_d(o),Vi(i.stateNode,i.type,o))}}function pr(i){Dn?er?er.push(i):er=[i]:Dn=i}function No(){if(Dn){var i=Dn,o=er;if(er=Dn=null,Is(i),o)for(i=0;i<o.length;i++)Is(o[i])}}function hi(i,o){return i(o)}function pi(){}var tr=!1;function ko(i,o,u){if(tr)return i(o,u);tr=!0;try{return hi(i,o,u)}finally{tr=!1,(Dn!==null||er!==null)&&(pi(),No())}}function Bt(i,o){var u=i.stateNode;if(u===null)return null;var f=_d(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var U=!1;if(d)try{var W={};Object.defineProperty(W,"passive",{get:function(){U=!0}}),window.addEventListener("test",W,W),window.removeEventListener("test",W,W)}catch{U=!1}function X(i,o,u,f,m,v,I,M,j){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(le){this.onError(le)}}var re=!1,_e=null,ke=!1,Qe=null,Pe={onError:function(i){re=!0,_e=i}};function Re(i,o,u,f,m,v,I,M,j){re=!1,_e=null,X.apply(Pe,arguments)}function Ie(i,o,u,f,m,v,I,M,j){if(Re.apply(this,arguments),re){if(re){var J=_e;re=!1,_e=null}else throw Error(t(198));ke||(ke=!0,Qe=J)}}function De(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function et(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Je(i){if(De(i)!==i)throw Error(t(188))}function Kt(i){var o=i.alternate;if(!o){if(o=De(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Je(m),i;if(v===f)return Je(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=v;else{for(var I=!1,M=m.child;M;){if(M===u){I=!0,u=m,f=v;break}if(M===f){I=!0,f=m,u=v;break}M=M.sibling}if(!I){for(M=v.child;M;){if(M===u){I=!0,u=v,f=m;break}if(M===f){I=!0,f=v,u=m;break}M=M.sibling}if(!I)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Tt(i){return i=Kt(i),i!==null?at(i):null}function at(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=at(i);if(o!==null)return o;i=i.sibling}return null}var Rt=e.unstable_scheduleCallback,br=e.unstable_cancelCallback,mi=e.unstable_shouldYield,mr=e.unstable_requestPaint,ct=e.unstable_now,Cs=e.unstable_getCurrentPriorityLevel,gr=e.unstable_ImmediatePriority,On=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,gi=e.unstable_LowPriority,dt=e.unstable_IdlePriority,Ct=null,Zt=null;function yi(i){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ct,i,void 0,(i.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Ra,Nr=Math.log,Po=Math.LN2;function Ra(i){return i>>>=0,i===0?32:31-(Nr(i)/Po|0)|0}var ba=64,Na=4194304;function As(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Do(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var M=I&~m;M!==0?f=As(M):(v&=I,v!==0&&(f=As(v)))}else I=u&~m,I!==0?f=As(I):v!==0&&(f=As(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-ft(o),m=1<<u,f|=i[u],o&=~m;return f}function tp(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-ft(v),M=1<<I,j=m[I];j===-1?((M&u)===0||(M&f)!==0)&&(m[I]=tp(M,o)):j<=o&&(i.expiredLanes|=M),v&=~M}}function yr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Oo(){var i=ba;return ba<<=1,(ba&4194240)===0&&(ba=64),i}function Rs(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function bs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-ft(o),i[o]=u}function Pt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-ft(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function Ns(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-ft(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var gt=0;function ks(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Jc,ka,Zc,ed,td,uu=!1,vi=[],Sn=null,Kr=null,Gr=null,Ps=new Map,kr=new Map,_i=[],np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(i,o){switch(i){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Ps.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(o.pointerId)}}function nr(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Iu(o),o!==null&&ka(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function rp(i,o,u,f,m){switch(o){case"focusin":return Sn=nr(Sn,i,o,u,f,m),!0;case"dragenter":return Kr=nr(Kr,i,o,u,f,m),!0;case"mouseover":return Gr=nr(Gr,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Ps.set(v,nr(Ps.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,kr.set(v,nr(kr.get(v)||null,i,o,u,f,m)),!0}return!1}function rd(i){var o=$o(i.target);if(o!==null){var u=De(o);if(u!==null){if(o=u.tag,o===13){if(o=et(u),o!==null){i.blockedOn=o,td(i.priority,function(){Zc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ui(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Pa(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);fi=f,u.target.dispatchEvent(f),fi=null}else return o=Iu(u),o!==null&&ka(o),i.blockedOn=u,!1;o.shift()}return!0}function xo(i,o,u){Ui(i)&&u.delete(o)}function id(){uu=!1,Sn!==null&&Ui(Sn)&&(Sn=null),Kr!==null&&Ui(Kr)&&(Kr=null),Gr!==null&&Ui(Gr)&&(Gr=null),Ps.forEach(xo),kr.forEach(xo)}function Qr(i,o){i.blockedOn===o&&(i.blockedOn=null,uu||(uu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,id)))}function Yr(i){function o(m){return Qr(m,i)}if(0<vi.length){Qr(vi[0],i);for(var u=1;u<vi.length;u++){var f=vi[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Sn!==null&&Qr(Sn,i),Kr!==null&&Qr(Kr,i),Gr!==null&&Qr(Gr,i),Ps.forEach(o),kr.forEach(o),u=0;u<_i.length;u++)f=_i[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<_i.length&&(u=_i[0],u.blockedOn===null);)rd(u),u.blockedOn===null&&_i.shift()}var ji=q.ReactCurrentBatchConfig,Ds=!0;function Vt(i,o,u,f){var m=gt,v=ji.transition;ji.transition=null;try{gt=1,cu(i,o,u,f)}finally{gt=m,ji.transition=v}}function ip(i,o,u,f){var m=gt,v=ji.transition;ji.transition=null;try{gt=4,cu(i,o,u,f)}finally{gt=m,ji.transition=v}}function cu(i,o,u,f){if(Ds){var m=Pa(i,o,u,f);if(m===null)mp(i,o,f,Lo,u),nd(i,f);else if(rp(m,i,o,u,f))f.stopPropagation();else if(nd(i,f),o&4&&-1<np.indexOf(i)){for(;m!==null;){var v=Iu(m);if(v!==null&&Jc(v),v=Pa(i,o,u,f),v===null&&mp(i,o,f,Lo,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else mp(i,o,f,null,u)}}var Lo=null;function Pa(i,o,u,f){if(Lo=null,i=qr(f),i=$o(i),i!==null)if(o=De(i),o===null)i=null;else if(u=o.tag,u===13){if(i=et(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Lo=i,null}function du(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cs()){case gr:return 1;case On:return 4;case Tn:case gi:return 16;case dt:return 536870912;default:return 16}default:return 16}}var vr=null,Da=null,rr=null;function fu(){if(rr)return rr;var i,o=Da,u=o.length,f,m="value"in vr?vr.value:vr.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var I=u-i;for(f=1;f<=I&&o[u-f]===m[v-f];f++);return rr=m.slice(i,1<f?1-f:void 0)}function Oa(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function hu(){return!1}function In(i){function o(u,f,m,v,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wi:hu,this.isPropagationStopped=hu,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),o}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=In(Xr),Ei=ae({},Xr,{view:0,detail:0}),sp=In(Ei),La,Fi,Os,Mo=ae({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Os&&(Os&&i.type==="mousemove"?(La=i.screenX-Os.screenX,Fi=i.screenY-Os.screenY):Fi=La=0,Os=i),La)},movementY:function(i){return"movementY"in i?i.movementY:Fi}}),Ma=In(Mo),pu=ae({},Mo,{dataTransfer:0}),sd=In(pu),Va=ae({},Ei,{relatedTarget:0}),$a=In(Va),od=ae({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bi=In(od),ad=ae({},Xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ld=In(ad),ud=ae({},Xr,{data:0}),mu=In(ud),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=cd[i])?!!o[i]:!1}function Ti(){return dd}var c=ae({},Ei,{key:function(i){if(i.key){var o=Ua[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(i){return i.type==="keypress"?Oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=In(c),E=ae({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=In(E),K=ae({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),te=In(K),ge=ae({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=In(ge),an=ae({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=In(an),yn=[9,13,27,32],en=d&&"CompositionEvent"in window,Pr=null;d&&"documentMode"in document&&(Pr=document.documentMode);var _r=d&&"TextEvent"in window&&!Pr,Vo=d&&(!en||Pr&&8<Pr&&11>=Pr),ja=" ",r_=!1;function i_(i,o){switch(i){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fa=!1;function yN(i,o){switch(i){case"compositionend":return s_(o);case"keypress":return o.which!==32?null:(r_=!0,ja);case"textInput":return i=o.data,i===ja&&r_?null:i;default:return null}}function vN(i,o){if(Fa)return i==="compositionend"||!en&&i_(i,o)?(i=fu(),rr=Da=vr=null,Fa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vo&&o.locale!=="ko"?null:o.data;default:return null}}var _N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!_N[i.type]:o==="textarea"}function a_(i,o,u,f){pr(f),o=gd(o,"onChange"),0<o.length&&(u=new xa("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var gu=null,yu=null;function wN(i){C_(i,0)}function fd(i){var o=qa(i);if(it(o))return i}function EN(i,o){if(i==="change")return o}var l_=!1;if(d){var op;if(d){var ap="oninput"in document;if(!ap){var u_=document.createElement("div");u_.setAttribute("oninput","return;"),ap=typeof u_.oninput=="function"}op=ap}else op=!1;l_=op&&(!document.documentMode||9<document.documentMode)}function c_(){gu&&(gu.detachEvent("onpropertychange",d_),yu=gu=null)}function d_(i){if(i.propertyName==="value"&&fd(yu)){var o=[];a_(o,yu,i,qr(i)),ko(wN,o)}}function TN(i,o,u){i==="focusin"?(c_(),gu=o,yu=u,gu.attachEvent("onpropertychange",d_)):i==="focusout"&&c_()}function SN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fd(yu)}function IN(i,o){if(i==="click")return fd(o)}function CN(i,o){if(i==="input"||i==="change")return fd(o)}function AN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jr=typeof Object.is=="function"?Object.is:AN;function vu(i,o){if(Jr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!Jr(i[m],o[m]))return!1}return!0}function f_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function h_(i,o){var u=f_(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=f_(u)}}function p_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?p_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function m_(){for(var i=window,o=kt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=kt(i.document)}return o}function lp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function RN(i){var o=m_(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&p_(u.ownerDocument.documentElement,u)){if(f!==null&&lp(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=h_(u,v);var I=h_(u,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var bN=d&&"documentMode"in document&&11>=document.documentMode,Ba=null,up=null,_u=null,cp=!1;function g_(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;cp||Ba==null||Ba!==kt(f)||(f=Ba,"selectionStart"in f&&lp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),_u&&vu(_u,f)||(_u=f,f=gd(up,"onSelect"),0<f.length&&(o=new xa("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Ba)))}function hd(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ha={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},dp={},y_={};d&&(y_=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function pd(i){if(dp[i])return dp[i];if(!Ha[i])return i;var o=Ha[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in y_)return dp[i]=o[u];return i}var v_=pd("animationend"),__=pd("animationiteration"),w_=pd("animationstart"),E_=pd("transitionend"),T_=new Map,S_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(i,o){T_.set(i,o),a(o,[i])}for(var fp=0;fp<S_.length;fp++){var hp=S_[fp],NN=hp.toLowerCase(),kN=hp[0].toUpperCase()+hp.slice(1);xs(NN,"on"+kN)}xs(v_,"onAnimationEnd"),xs(__,"onAnimationIteration"),xs(w_,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(E_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PN=new Set("cancel close invalid load scroll toggle".split(" ").concat(wu));function I_(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Ie(f,o,void 0,i),i.currentTarget=null}function C_(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var I=f.length-1;0<=I;I--){var M=f[I],j=M.instance,J=M.currentTarget;if(M=M.listener,j!==v&&m.isPropagationStopped())break e;I_(m,M,J),v=j}else for(I=0;I<f.length;I++){if(M=f[I],j=M.instance,J=M.currentTarget,M=M.listener,j!==v&&m.isPropagationStopped())break e;I_(m,M,J),v=j}}}if(ke)throw i=Qe,ke=!1,Qe=null,i}function Lt(i,o){var u=o[Ep];u===void 0&&(u=o[Ep]=new Set);var f=i+"__bubble";u.has(f)||(A_(o,i,2,!1),u.add(f))}function pp(i,o,u){var f=0;o&&(f|=4),A_(u,i,f,o)}var md="_reactListening"+Math.random().toString(36).slice(2);function Eu(i){if(!i[md]){i[md]=!0,r.forEach(function(u){u!=="selectionchange"&&(PN.has(u)||pp(u,!1,i),pp(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[md]||(o[md]=!0,pp("selectionchange",!1,o))}}function A_(i,o,u,f){switch(du(o)){case 1:var m=Vt;break;case 4:m=ip;break;default:m=cu}u=m.bind(null,o,u,i),m=void 0,!U||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function mp(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;I=I.return}for(;M!==null;){if(I=$o(M),I===null)return;if(j=I.tag,j===5||j===6){f=v=I;continue e}M=M.parentNode}}f=f.return}ko(function(){var J=v,le=qr(u),ce=[];e:{var oe=T_.get(i);if(oe!==void 0){var Ce=xa,Le=i;switch(i){case"keypress":if(Oa(u)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Le="focus",Ce=$a;break;case"focusout":Le="blur",Ce=$a;break;case"beforeblur":case"afterblur":Ce=$a;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=te;break;case v_:case __:case w_:Ce=Bi;break;case E_:Ce=bt;break;case"scroll":Ce=sp;break;case"wheel":Ce=vt;break;case"copy":case"cut":case"paste":Ce=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=b}var Me=(o&4)!==0,Yt=!Me&&i==="scroll",G=Me?oe!==null?oe+"Capture":null:oe;Me=[];for(var B=J,Y;B!==null;){Y=B;var fe=Y.stateNode;if(Y.tag===5&&fe!==null&&(Y=fe,G!==null&&(fe=Bt(B,G),fe!=null&&Me.push(Tu(B,fe,Y)))),Yt)break;B=B.return}0<Me.length&&(oe=new Ce(oe,Le,null,u,le),ce.push({event:oe,listeners:Me}))}}if((o&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",oe&&u!==fi&&(Le=u.relatedTarget||u.fromElement)&&($o(Le)||Le[Hi]))break e;if((Ce||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,Ce?(Le=u.relatedTarget||u.toElement,Ce=J,Le=Le?$o(Le):null,Le!==null&&(Yt=De(Le),Le!==Yt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ce=null,Le=J),Ce!==Le)){if(Me=Ma,fe="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Me=b,fe="onPointerLeave",G="onPointerEnter",B="pointer"),Yt=Ce==null?oe:qa(Ce),Y=Le==null?oe:qa(Le),oe=new Me(fe,B+"leave",Ce,u,le),oe.target=Yt,oe.relatedTarget=Y,fe=null,$o(le)===J&&(Me=new Me(G,B+"enter",Le,u,le),Me.target=Y,Me.relatedTarget=Yt,fe=Me),Yt=fe,Ce&&Le)t:{for(Me=Ce,G=Le,B=0,Y=Me;Y;Y=za(Y))B++;for(Y=0,fe=G;fe;fe=za(fe))Y++;for(;0<B-Y;)Me=za(Me),B--;for(;0<Y-B;)G=za(G),Y--;for(;B--;){if(Me===G||G!==null&&Me===G.alternate)break t;Me=za(Me),G=za(G)}Me=null}else Me=null;Ce!==null&&R_(ce,oe,Ce,Me,!1),Le!==null&&Yt!==null&&R_(ce,Yt,Le,Me,!0)}}e:{if(oe=J?qa(J):window,Ce=oe.nodeName&&oe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&oe.type==="file")var Ve=EN;else if(o_(oe))if(l_)Ve=CN;else{Ve=SN;var ze=TN}else(Ce=oe.nodeName)&&Ce.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ve=IN);if(Ve&&(Ve=Ve(i,J))){a_(ce,Ve,u,le);break e}ze&&ze(i,oe,J),i==="focusout"&&(ze=oe._wrapperState)&&ze.controlled&&oe.type==="number"&&Hn(oe,"number",oe.value)}switch(ze=J?qa(J):window,i){case"focusin":(o_(ze)||ze.contentEditable==="true")&&(Ba=ze,up=J,_u=null);break;case"focusout":_u=up=Ba=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,g_(ce,u,le);break;case"selectionchange":if(bN)break;case"keydown":case"keyup":g_(ce,u,le)}var We;if(en)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Fa?i_(i,u)&&(Ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(Vo&&u.locale!=="ko"&&(Fa||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Fa&&(We=fu()):(vr=le,Da="value"in vr?vr.value:vr.textContent,Fa=!0)),ze=gd(J,Ye),0<ze.length&&(Ye=new mu(Ye,i,null,u,le),ce.push({event:Ye,listeners:ze}),We?Ye.data=We:(We=s_(u),We!==null&&(Ye.data=We)))),(We=_r?yN(i,u):vN(i,u))&&(J=gd(J,"onBeforeInput"),0<J.length&&(le=new mu("onBeforeInput","beforeinput",null,u,le),ce.push({event:le,listeners:J}),le.data=We))}C_(ce,o)})}function Tu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function gd(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Bt(i,u),v!=null&&f.unshift(Tu(i,v,m)),v=Bt(i,o),v!=null&&f.push(Tu(i,v,m))),i=i.return}return f}function za(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function R_(i,o,u,f,m){for(var v=o._reactName,I=[];u!==null&&u!==f;){var M=u,j=M.alternate,J=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&J!==null&&(M=J,m?(j=Bt(u,v),j!=null&&I.unshift(Tu(u,j,M))):m||(j=Bt(u,v),j!=null&&I.push(Tu(u,j,M)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var DN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function b_(i){return(typeof i=="string"?i:""+i).replace(DN,`
`).replace(ON,"")}function yd(i,o,u){if(o=b_(o),b_(i)!==o&&u)throw Error(t(425))}function vd(){}var gp=null,yp=null;function vp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,LN=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(i){return N_.resolve(null).then(i).catch(MN)}:_p;function MN(i){setTimeout(function(){throw i})}function wp(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Yr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Yr(o)}function Ls(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function k_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),Si="__reactFiber$"+Wa,Su="__reactProps$"+Wa,Hi="__reactContainer$"+Wa,Ep="__reactEvents$"+Wa,VN="__reactListeners$"+Wa,$N="__reactHandles$"+Wa;function $o(i){var o=i[Si];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Hi]||u[Si]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=k_(i);i!==null;){if(u=i[Si])return u;i=k_(i)}return o}i=u,u=i.parentNode}return null}function Iu(i){return i=i[Si]||i[Hi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function qa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function _d(i){return i[Su]||null}var Tp=[],Ka=-1;function Ms(i){return{current:i}}function Mt(i){0>Ka||(i.current=Tp[Ka],Tp[Ka]=null,Ka--)}function xt(i,o){Ka++,Tp[Ka]=i.current,i.current=o}var Vs={},xn=Ms(Vs),ir=Ms(!1),Uo=Vs;function Ga(i,o){var u=i.type.contextTypes;if(!u)return Vs;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function sr(i){return i=i.childContextTypes,i!=null}function wd(){Mt(ir),Mt(xn)}function P_(i,o,u){if(xn.current!==Vs)throw Error(t(168));xt(xn,o),xt(ir,u)}function D_(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,qe(i)||"Unknown",m));return ae({},u,f)}function Ed(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vs,Uo=xn.current,xt(xn,i),xt(ir,ir.current),!0}function O_(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=D_(i,o,Uo),f.__reactInternalMemoizedMergedChildContext=i,Mt(ir),Mt(xn),xt(xn,i)):Mt(ir),xt(ir,u)}var zi=null,Td=!1,Sp=!1;function x_(i){zi===null?zi=[i]:zi.push(i)}function UN(i){Td=!0,x_(i)}function $s(){if(!Sp&&zi!==null){Sp=!0;var i=0,o=gt;try{var u=zi;for(gt=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}zi=null,Td=!1}catch(m){throw zi!==null&&(zi=zi.slice(i+1)),Rt(gr,$s),m}finally{gt=o,Sp=!1}}return null}var Qa=[],Ya=0,Sd=null,Id=0,Dr=[],Or=0,jo=null,Wi=1,qi="";function Fo(i,o){Qa[Ya++]=Id,Qa[Ya++]=Sd,Sd=i,Id=o}function L_(i,o,u){Dr[Or++]=Wi,Dr[Or++]=qi,Dr[Or++]=jo,jo=i;var f=Wi;i=qi;var m=32-ft(f)-1;f&=~(1<<m),u+=1;var v=32-ft(o)+m;if(30<v){var I=m-m%5;v=(f&(1<<I)-1).toString(32),f>>=I,m-=I,Wi=1<<32-ft(o)+m|u<<m|f,qi=v+i}else Wi=1<<v|u<<m|f,qi=i}function Ip(i){i.return!==null&&(Fo(i,1),L_(i,1,0))}function Cp(i){for(;i===Sd;)Sd=Qa[--Ya],Qa[Ya]=null,Id=Qa[--Ya],Qa[Ya]=null;for(;i===jo;)jo=Dr[--Or],Dr[Or]=null,qi=Dr[--Or],Dr[Or]=null,Wi=Dr[--Or],Dr[Or]=null}var wr=null,Er=null,$t=!1,Zr=null;function M_(i,o){var u=Vr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function V_(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wr=i,Er=Ls(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wr=i,Er=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=jo!==null?{id:Wi,overflow:qi}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Vr(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,wr=i,Er=null,!0):!1;default:return!1}}function Ap(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rp(i){if($t){var o=Er;if(o){var u=o;if(!V_(i,o)){if(Ap(i))throw Error(t(418));o=Ls(u.nextSibling);var f=wr;o&&V_(i,o)?M_(f,u):(i.flags=i.flags&-4097|2,$t=!1,wr=i)}}else{if(Ap(i))throw Error(t(418));i.flags=i.flags&-4097|2,$t=!1,wr=i}}}function $_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wr=i}function Cd(i){if(i!==wr)return!1;if(!$t)return $_(i),$t=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!vp(i.type,i.memoizedProps)),o&&(o=Er)){if(Ap(i))throw U_(),Error(t(418));for(;o;)M_(i,o),o=Ls(o.nextSibling)}if($_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Er=Ls(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Er=null}}else Er=wr?Ls(i.stateNode.nextSibling):null;return!0}function U_(){for(var i=Er;i;)i=Ls(i.nextSibling)}function Xa(){Er=wr=null,$t=!1}function bp(i){Zr===null?Zr=[i]:Zr.push(i)}var jN=q.ReactCurrentBatchConfig;function Cu(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var M=m.refs;I===null?delete M[v]:M[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Ad(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function j_(i){var o=i._init;return o(i._payload)}function F_(i){function o(G,B){if(i){var Y=G.deletions;Y===null?(G.deletions=[B],G.flags|=16):Y.push(B)}}function u(G,B){if(!i)return null;for(;B!==null;)o(G,B),B=B.sibling;return null}function f(G,B){for(G=new Map;B!==null;)B.key!==null?G.set(B.key,B):G.set(B.index,B),B=B.sibling;return G}function m(G,B){return G=qs(G,B),G.index=0,G.sibling=null,G}function v(G,B,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<B?(G.flags|=2,B):Y):(G.flags|=2,B)):(G.flags|=1048576,B)}function I(G){return i&&G.alternate===null&&(G.flags|=2),G}function M(G,B,Y,fe){return B===null||B.tag!==6?(B=_m(Y,G.mode,fe),B.return=G,B):(B=m(B,Y),B.return=G,B)}function j(G,B,Y,fe){var Ve=Y.type;return Ve===S?le(G,B,Y.props.children,fe,Y.key):B!==null&&(B.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Fe&&j_(Ve)===B.type)?(fe=m(B,Y.props),fe.ref=Cu(G,B,Y),fe.return=G,fe):(fe=Yd(Y.type,Y.key,Y.props,null,G.mode,fe),fe.ref=Cu(G,B,Y),fe.return=G,fe)}function J(G,B,Y,fe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=wm(Y,G.mode,fe),B.return=G,B):(B=m(B,Y.children||[]),B.return=G,B)}function le(G,B,Y,fe,Ve){return B===null||B.tag!==7?(B=Qo(Y,G.mode,fe,Ve),B.return=G,B):(B=m(B,Y),B.return=G,B)}function ce(G,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number")return B=_m(""+B,G.mode,Y),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return Y=Yd(B.type,B.key,B.props,null,G.mode,Y),Y.ref=Cu(G,null,B),Y.return=G,Y;case Q:return B=wm(B,G.mode,Y),B.return=G,B;case Fe:var fe=B._init;return ce(G,fe(B._payload),Y)}if(Ft(B)||me(B))return B=Qo(B,G.mode,Y,null),B.return=G,B;Ad(G,B)}return null}function oe(G,B,Y,fe){var Ve=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ve!==null?null:M(G,B,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Z:return Y.key===Ve?j(G,B,Y,fe):null;case Q:return Y.key===Ve?J(G,B,Y,fe):null;case Fe:return Ve=Y._init,oe(G,B,Ve(Y._payload),fe)}if(Ft(Y)||me(Y))return Ve!==null?null:le(G,B,Y,fe,null);Ad(G,Y)}return null}function Ce(G,B,Y,fe,Ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return G=G.get(Y)||null,M(B,G,""+fe,Ve);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Z:return G=G.get(fe.key===null?Y:fe.key)||null,j(B,G,fe,Ve);case Q:return G=G.get(fe.key===null?Y:fe.key)||null,J(B,G,fe,Ve);case Fe:var ze=fe._init;return Ce(G,B,Y,ze(fe._payload),Ve)}if(Ft(fe)||me(fe))return G=G.get(Y)||null,le(B,G,fe,Ve,null);Ad(B,fe)}return null}function Le(G,B,Y,fe){for(var Ve=null,ze=null,We=B,Ye=B=0,wn=null;We!==null&&Ye<Y.length;Ye++){We.index>Ye?(wn=We,We=null):wn=We.sibling;var St=oe(G,We,Y[Ye],fe);if(St===null){We===null&&(We=wn);break}i&&We&&St.alternate===null&&o(G,We),B=v(St,B,Ye),ze===null?Ve=St:ze.sibling=St,ze=St,We=wn}if(Ye===Y.length)return u(G,We),$t&&Fo(G,Ye),Ve;if(We===null){for(;Ye<Y.length;Ye++)We=ce(G,Y[Ye],fe),We!==null&&(B=v(We,B,Ye),ze===null?Ve=We:ze.sibling=We,ze=We);return $t&&Fo(G,Ye),Ve}for(We=f(G,We);Ye<Y.length;Ye++)wn=Ce(We,G,Ye,Y[Ye],fe),wn!==null&&(i&&wn.alternate!==null&&We.delete(wn.key===null?Ye:wn.key),B=v(wn,B,Ye),ze===null?Ve=wn:ze.sibling=wn,ze=wn);return i&&We.forEach(function(Ks){return o(G,Ks)}),$t&&Fo(G,Ye),Ve}function Me(G,B,Y,fe){var Ve=me(Y);if(typeof Ve!="function")throw Error(t(150));if(Y=Ve.call(Y),Y==null)throw Error(t(151));for(var ze=Ve=null,We=B,Ye=B=0,wn=null,St=Y.next();We!==null&&!St.done;Ye++,St=Y.next()){We.index>Ye?(wn=We,We=null):wn=We.sibling;var Ks=oe(G,We,St.value,fe);if(Ks===null){We===null&&(We=wn);break}i&&We&&Ks.alternate===null&&o(G,We),B=v(Ks,B,Ye),ze===null?Ve=Ks:ze.sibling=Ks,ze=Ks,We=wn}if(St.done)return u(G,We),$t&&Fo(G,Ye),Ve;if(We===null){for(;!St.done;Ye++,St=Y.next())St=ce(G,St.value,fe),St!==null&&(B=v(St,B,Ye),ze===null?Ve=St:ze.sibling=St,ze=St);return $t&&Fo(G,Ye),Ve}for(We=f(G,We);!St.done;Ye++,St=Y.next())St=Ce(We,G,Ye,St.value,fe),St!==null&&(i&&St.alternate!==null&&We.delete(St.key===null?Ye:St.key),B=v(St,B,Ye),ze===null?Ve=St:ze.sibling=St,ze=St);return i&&We.forEach(function(_k){return o(G,_k)}),$t&&Fo(G,Ye),Ve}function Yt(G,B,Y,fe){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Z:e:{for(var Ve=Y.key,ze=B;ze!==null;){if(ze.key===Ve){if(Ve=Y.type,Ve===S){if(ze.tag===7){u(G,ze.sibling),B=m(ze,Y.props.children),B.return=G,G=B;break e}}else if(ze.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Fe&&j_(Ve)===ze.type){u(G,ze.sibling),B=m(ze,Y.props),B.ref=Cu(G,ze,Y),B.return=G,G=B;break e}u(G,ze);break}else o(G,ze);ze=ze.sibling}Y.type===S?(B=Qo(Y.props.children,G.mode,fe,Y.key),B.return=G,G=B):(fe=Yd(Y.type,Y.key,Y.props,null,G.mode,fe),fe.ref=Cu(G,B,Y),fe.return=G,G=fe)}return I(G);case Q:e:{for(ze=Y.key;B!==null;){if(B.key===ze)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){u(G,B.sibling),B=m(B,Y.children||[]),B.return=G,G=B;break e}else{u(G,B);break}else o(G,B);B=B.sibling}B=wm(Y,G.mode,fe),B.return=G,G=B}return I(G);case Fe:return ze=Y._init,Yt(G,B,ze(Y._payload),fe)}if(Ft(Y))return Le(G,B,Y,fe);if(me(Y))return Me(G,B,Y,fe);Ad(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,B!==null&&B.tag===6?(u(G,B.sibling),B=m(B,Y),B.return=G,G=B):(u(G,B),B=_m(Y,G.mode,fe),B.return=G,G=B),I(G)):u(G,B)}return Yt}var Ja=F_(!0),B_=F_(!1),Rd=Ms(null),bd=null,Za=null,Np=null;function kp(){Np=Za=bd=null}function Pp(i){var o=Rd.current;Mt(Rd),i._currentValue=o}function Dp(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function el(i,o){bd=i,Np=Za=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(or=!0),i.firstContext=null)}function xr(i){var o=i._currentValue;if(Np!==i)if(i={context:i,memoizedValue:o,next:null},Za===null){if(bd===null)throw Error(t(308));Za=i,bd.dependencies={lanes:0,firstContext:i}}else Za=Za.next=i;return o}var Bo=null;function Op(i){Bo===null?Bo=[i]:Bo.push(i)}function H_(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Op(o)):(u.next=m.next,m.next=u),o.interleaved=u,Ki(i,f)}function Ki(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Us=!1;function xp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Gi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function js(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(wt&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Ki(i,u)}return m=f.interleaved,m===null?(o.next=o,Op(f)):(o.next=m.next,m.next=o),f.interleaved=o,Ki(i,u)}function Nd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ns(i,u)}}function W_(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function kd(i,o,u,f){var m=i.updateQueue;Us=!1;var v=m.firstBaseUpdate,I=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,J=j.next;j.next=null,I===null?v=J:I.next=J,I=j;var le=i.alternate;le!==null&&(le=le.updateQueue,M=le.lastBaseUpdate,M!==I&&(M===null?le.firstBaseUpdate=J:M.next=J,le.lastBaseUpdate=j))}if(v!==null){var ce=m.baseState;I=0,le=J=j=null,M=v;do{var oe=M.lane,Ce=M.eventTime;if((f&oe)===oe){le!==null&&(le=le.next={eventTime:Ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Le=i,Me=M;switch(oe=o,Ce=u,Me.tag){case 1:if(Le=Me.payload,typeof Le=="function"){ce=Le.call(Ce,ce,oe);break e}ce=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Me.payload,oe=typeof Le=="function"?Le.call(Ce,ce,oe):Le,oe==null)break e;ce=ae({},ce,oe);break e;case 2:Us=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,oe=m.effects,oe===null?m.effects=[M]:oe.push(M))}else Ce={eventTime:Ce,lane:oe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},le===null?(J=le=Ce,j=ce):le=le.next=Ce,I|=oe;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(le===null&&(j=ce),m.baseState=j,m.firstBaseUpdate=J,m.lastBaseUpdate=le,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Wo|=I,i.lanes=I,i.memoizedState=ce}}function q_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Au={},Ii=Ms(Au),Ru=Ms(Au),bu=Ms(Au);function Ho(i){if(i===Au)throw Error(t(174));return i}function Lp(i,o){switch(xt(bu,o),xt(Ru,i),xt(Ii,Au),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=mt(o,i)}Mt(Ii),xt(Ii,o)}function tl(){Mt(Ii),Mt(Ru),Mt(bu)}function K_(i){Ho(bu.current);var o=Ho(Ii.current),u=mt(o,i.type);o!==u&&(xt(Ru,i),xt(Ii,u))}function Mp(i){Ru.current===i&&(Mt(Ii),Mt(Ru))}var Ht=Ms(0);function Pd(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vp=[];function $p(){for(var i=0;i<Vp.length;i++)Vp[i]._workInProgressVersionPrimary=null;Vp.length=0}var Dd=q.ReactCurrentDispatcher,Up=q.ReactCurrentBatchConfig,zo=0,zt=null,ln=null,vn=null,Od=!1,Nu=!1,ku=0,FN=0;function Ln(){throw Error(t(321))}function jp(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Jr(i[u],o[u]))return!1;return!0}function Fp(i,o,u,f,m,v){if(zo=v,zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Dd.current=i===null||i.memoizedState===null?WN:qN,i=u(f,m),Nu){v=0;do{if(Nu=!1,ku=0,25<=v)throw Error(t(301));v+=1,vn=ln=null,o.updateQueue=null,Dd.current=KN,i=u(f,m)}while(Nu)}if(Dd.current=Md,o=ln!==null&&ln.next!==null,zo=0,vn=ln=zt=null,Od=!1,o)throw Error(t(300));return i}function Bp(){var i=ku!==0;return ku=0,i}function Ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?zt.memoizedState=vn=i:vn=vn.next=i,vn}function Lr(){if(ln===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=ln.next;var o=vn===null?zt.memoizedState:vn.next;if(o!==null)vn=o,ln=i;else{if(i===null)throw Error(t(310));ln=i,i={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},vn===null?zt.memoizedState=vn=i:vn=vn.next=i}return vn}function Pu(i,o){return typeof o=="function"?o(i):o}function Hp(i){var o=Lr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=ln,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var I=m.next;m.next=v.next,v.next=I}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var M=I=null,j=null,J=v;do{var le=J.lane;if((zo&le)===le)j!==null&&(j=j.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),f=J.hasEagerState?J.eagerState:i(f,J.action);else{var ce={lane:le,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};j===null?(M=j=ce,I=f):j=j.next=ce,zt.lanes|=le,Wo|=le}J=J.next}while(J!==null&&J!==v);j===null?I=f:j.next=M,Jr(f,o.memoizedState)||(or=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=j,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,zt.lanes|=v,Wo|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function zp(i){var o=Lr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do v=i(v,I.action),I=I.next;while(I!==m);Jr(v,o.memoizedState)||(or=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function G_(){}function Q_(i,o){var u=zt,f=Lr(),m=o(),v=!Jr(f.memoizedState,m);if(v&&(f.memoizedState=m,or=!0),f=f.queue,Wp(J_.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||vn!==null&&vn.memoizedState.tag&1){if(u.flags|=2048,Du(9,X_.bind(null,u,f,m,o),void 0,null),_n===null)throw Error(t(349));(zo&30)!==0||Y_(u,o,m)}return m}function Y_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=zt.updateQueue,o===null?(o={lastEffect:null,stores:null},zt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function X_(i,o,u,f){o.value=u,o.getSnapshot=f,Z_(o)&&ew(i)}function J_(i,o,u){return u(function(){Z_(o)&&ew(i)})}function Z_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Jr(i,u)}catch{return!0}}function ew(i){var o=Ki(i,1);o!==null&&ri(o,i,1,-1)}function tw(i){var o=Ci();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:i},o.queue=i,i=i.dispatch=zN.bind(null,zt,i),[o.memoizedState,i]}function Du(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=zt.updateQueue,o===null?(o={lastEffect:null,stores:null},zt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function nw(){return Lr().memoizedState}function xd(i,o,u,f){var m=Ci();zt.flags|=i,m.memoizedState=Du(1|o,u,void 0,f===void 0?null:f)}function Ld(i,o,u,f){var m=Lr();f=f===void 0?null:f;var v=void 0;if(ln!==null){var I=ln.memoizedState;if(v=I.destroy,f!==null&&jp(f,I.deps)){m.memoizedState=Du(o,u,v,f);return}}zt.flags|=i,m.memoizedState=Du(1|o,u,v,f)}function rw(i,o){return xd(8390656,8,i,o)}function Wp(i,o){return Ld(2048,8,i,o)}function iw(i,o){return Ld(4,2,i,o)}function sw(i,o){return Ld(4,4,i,o)}function ow(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function aw(i,o,u){return u=u!=null?u.concat([i]):null,Ld(4,4,ow.bind(null,o,i),u)}function qp(){}function lw(i,o){var u=Lr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&jp(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function uw(i,o){var u=Lr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&jp(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function cw(i,o,u){return(zo&21)===0?(i.baseState&&(i.baseState=!1,or=!0),i.memoizedState=u):(Jr(u,o)||(u=Oo(),zt.lanes|=u,Wo|=u,i.baseState=!0),o)}function BN(i,o){var u=gt;gt=u!==0&&4>u?u:4,i(!0);var f=Up.transition;Up.transition={};try{i(!1),o()}finally{gt=u,Up.transition=f}}function dw(){return Lr().memoizedState}function HN(i,o,u){var f=zs(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},fw(i))hw(o,u);else if(u=H_(i,o,u,f),u!==null){var m=Gn();ri(u,i,f,m),pw(u,o,f)}}function zN(i,o,u){var f=zs(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(fw(i))hw(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,M=v(I,u);if(m.hasEagerState=!0,m.eagerState=M,Jr(M,I)){var j=o.interleaved;j===null?(m.next=m,Op(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=H_(i,o,m,f),u!==null&&(m=Gn(),ri(u,i,f,m),pw(u,o,f))}}function fw(i){var o=i.alternate;return i===zt||o!==null&&o===zt}function hw(i,o){Nu=Od=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function pw(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ns(i,u)}}var Md={readContext:xr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},WN={readContext:xr,useCallback:function(i,o){return Ci().memoizedState=[i,o===void 0?null:o],i},useContext:xr,useEffect:rw,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,xd(4194308,4,ow.bind(null,o,i),u)},useLayoutEffect:function(i,o){return xd(4194308,4,i,o)},useInsertionEffect:function(i,o){return xd(4,2,i,o)},useMemo:function(i,o){var u=Ci();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Ci();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=HN.bind(null,zt,i),[f.memoizedState,i]},useRef:function(i){var o=Ci();return i={current:i},o.memoizedState=i},useState:tw,useDebugValue:qp,useDeferredValue:function(i){return Ci().memoizedState=i},useTransition:function(){var i=tw(!1),o=i[0];return i=BN.bind(null,i[1]),Ci().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=zt,m=Ci();if($t){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),_n===null)throw Error(t(349));(zo&30)!==0||Y_(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,rw(J_.bind(null,f,v,i),[i]),f.flags|=2048,Du(9,X_.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Ci(),o=_n.identifierPrefix;if($t){var u=qi,f=Wi;u=(f&~(1<<32-ft(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=ku++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=FN++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},qN={readContext:xr,useCallback:lw,useContext:xr,useEffect:Wp,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:uw,useReducer:Hp,useRef:nw,useState:function(){return Hp(Pu)},useDebugValue:qp,useDeferredValue:function(i){var o=Lr();return cw(o,ln.memoizedState,i)},useTransition:function(){var i=Hp(Pu)[0],o=Lr().memoizedState;return[i,o]},useMutableSource:G_,useSyncExternalStore:Q_,useId:dw,unstable_isNewReconciler:!1},KN={readContext:xr,useCallback:lw,useContext:xr,useEffect:Wp,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:uw,useReducer:zp,useRef:nw,useState:function(){return zp(Pu)},useDebugValue:qp,useDeferredValue:function(i){var o=Lr();return ln===null?o.memoizedState=i:cw(o,ln.memoizedState,i)},useTransition:function(){var i=zp(Pu)[0],o=Lr().memoizedState;return[i,o]},useMutableSource:G_,useSyncExternalStore:Q_,useId:dw,unstable_isNewReconciler:!1};function ei(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Kp(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ae({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Vd={isMounted:function(i){return(i=i._reactInternals)?De(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Gn(),m=zs(i),v=Gi(f,m);v.payload=o,u!=null&&(v.callback=u),o=js(i,v,m),o!==null&&(ri(o,i,m,f),Nd(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Gn(),m=zs(i),v=Gi(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=js(i,v,m),o!==null&&(ri(o,i,m,f),Nd(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Gn(),f=zs(i),m=Gi(u,f);m.tag=2,o!=null&&(m.callback=o),o=js(i,m,f),o!==null&&(ri(o,i,f,u),Nd(o,i,f))}};function mw(i,o,u,f,m,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):o.prototype&&o.prototype.isPureReactComponent?!vu(u,f)||!vu(m,v):!0}function gw(i,o,u){var f=!1,m=Vs,v=o.contextType;return typeof v=="object"&&v!==null?v=xr(v):(m=sr(o)?Uo:xn.current,f=o.contextTypes,v=(f=f!=null)?Ga(i,m):Vs),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Vd,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function yw(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Vd.enqueueReplaceState(o,o.state,null)}function Gp(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},xp(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=xr(v):(v=sr(o)?Uo:xn.current,m.context=Ga(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Kp(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Vd.enqueueReplaceState(m,m.state,null),kd(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function nl(i,o){try{var u="",f=o;do u+=Te(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Qp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Yp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var GN=typeof WeakMap=="function"?WeakMap:Map;function vw(i,o,u){u=Gi(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){zd||(zd=!0,dm=f),Yp(i,o)},u}function _w(i,o,u){u=Gi(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Yp(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Yp(i,o),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function ww(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new GN;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=lk.bind(null,i,o,u),o.then(i,i))}function Ew(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Tw(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Gi(-1,1),o.tag=2,js(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var QN=q.ReactCurrentOwner,or=!1;function Kn(i,o,u,f){o.child=i===null?B_(o,null,u,f):Ja(o,i.child,u,f)}function Sw(i,o,u,f,m){u=u.render;var v=o.ref;return el(o,m),f=Fp(i,o,u,f,v,m),u=Bp(),i!==null&&!or?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Qi(i,o,m)):($t&&u&&Ip(o),o.flags|=1,Kn(i,o,f,m),o.child)}function Iw(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!vm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Cw(i,o,v,f,m)):(i=Yd(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:vu,u(I,f)&&i.ref===o.ref)return Qi(i,o,m)}return o.flags|=1,i=qs(v,f),i.ref=o.ref,i.return=o,o.child=i}function Cw(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(vu(v,f)&&i.ref===o.ref)if(or=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(or=!0);else return o.lanes=i.lanes,Qi(i,o,m)}return Xp(i,o,u,f,m)}function Aw(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(il,Tr),Tr|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,xt(il,Tr),Tr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,xt(il,Tr),Tr|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,xt(il,Tr),Tr|=f;return Kn(i,o,m,u),o.child}function Rw(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Xp(i,o,u,f,m){var v=sr(u)?Uo:xn.current;return v=Ga(o,v),el(o,m),u=Fp(i,o,u,f,v,m),f=Bp(),i!==null&&!or?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Qi(i,o,m)):($t&&f&&Ip(o),o.flags|=1,Kn(i,o,u,m),o.child)}function bw(i,o,u,f,m){if(sr(u)){var v=!0;Ed(o)}else v=!1;if(el(o,m),o.stateNode===null)Ud(i,o),gw(o,u,f),Gp(o,u,f,m),f=!0;else if(i===null){var I=o.stateNode,M=o.memoizedProps;I.props=M;var j=I.context,J=u.contextType;typeof J=="object"&&J!==null?J=xr(J):(J=sr(u)?Uo:xn.current,J=Ga(o,J));var le=u.getDerivedStateFromProps,ce=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function";ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==f||j!==J)&&yw(o,I,f,J),Us=!1;var oe=o.memoizedState;I.state=oe,kd(o,f,I,m),j=o.memoizedState,M!==f||oe!==j||ir.current||Us?(typeof le=="function"&&(Kp(o,u,le,f),j=o.memoizedState),(M=Us||mw(o,u,M,f,oe,j,J))?(ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),I.props=f,I.state=j,I.context=J,f=M):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,z_(i,o),M=o.memoizedProps,J=o.type===o.elementType?M:ei(o.type,M),I.props=J,ce=o.pendingProps,oe=I.context,j=u.contextType,typeof j=="object"&&j!==null?j=xr(j):(j=sr(u)?Uo:xn.current,j=Ga(o,j));var Ce=u.getDerivedStateFromProps;(le=typeof Ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==ce||oe!==j)&&yw(o,I,f,j),Us=!1,oe=o.memoizedState,I.state=oe,kd(o,f,I,m);var Le=o.memoizedState;M!==ce||oe!==Le||ir.current||Us?(typeof Ce=="function"&&(Kp(o,u,Ce,f),Le=o.memoizedState),(J=Us||mw(o,u,J,f,oe,Le,j)||!1)?(le||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,Le,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,Le,j)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Le),I.props=f,I.state=Le,I.context=j,f=J):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),f=!1)}return Jp(i,o,u,f,v,m)}function Jp(i,o,u,f,m,v){Rw(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&O_(o,u,!1),Qi(i,o,v);f=o.stateNode,QN.current=o;var M=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=Ja(o,i.child,null,v),o.child=Ja(o,null,M,v)):Kn(i,o,M,v),o.memoizedState=f.state,m&&O_(o,u,!0),o.child}function Nw(i){var o=i.stateNode;o.pendingContext?P_(i,o.pendingContext,o.pendingContext!==o.context):o.context&&P_(i,o.context,!1),Lp(i,o.containerInfo)}function kw(i,o,u,f,m){return Xa(),bp(m),o.flags|=256,Kn(i,o,u,f),o.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function em(i){return{baseLanes:i,cachePool:null,transitions:null}}function Pw(i,o,u){var f=o.pendingProps,m=Ht.current,v=!1,I=(o.flags&128)!==0,M;if((M=I)||(M=i!==null&&i.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),xt(Ht,m&1),i===null)return Rp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,i=f.fallback,v?(f=o.mode,v=o.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=Xd(I,f,0,null),i=Qo(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=em(u),o.memoizedState=Zp,i):tm(o,I));if(m=i.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return YN(i,o,I,f,M,m,u);if(v){v=f.fallback,I=o.mode,m=i.child,M=m.sibling;var j={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=qs(m,j),f.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=qs(M,v):(v=Qo(v,I,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,I=i.child.memoizedState,I=I===null?em(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=Zp,f}return v=i.child,i=v.sibling,f=qs(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function tm(i,o){return o=Xd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function $d(i,o,u,f){return f!==null&&bp(f),Ja(o,i.child,null,u),i=tm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function YN(i,o,u,f,m,v,I){if(u)return o.flags&256?(o.flags&=-257,f=Qp(Error(t(422))),$d(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Xd({mode:"visible",children:f.children},m,0,null),v=Qo(v,m,I,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&Ja(o,i.child,null,I),o.child.memoizedState=em(I),o.memoizedState=Zp,v);if((o.mode&1)===0)return $d(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var M=f.dgst;return f=M,v=Error(t(419)),f=Qp(v,f,void 0),$d(i,o,I,f)}if(M=(I&i.childLanes)!==0,or||M){if(f=_n,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Ki(i,m),ri(f,i,m,-1))}return ym(),f=Qp(Error(t(421))),$d(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=uk.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Er=Ls(m.nextSibling),wr=o,$t=!0,Zr=null,i!==null&&(Dr[Or++]=Wi,Dr[Or++]=qi,Dr[Or++]=jo,Wi=i.id,qi=i.overflow,jo=o),o=tm(o,f.children),o.flags|=4096,o)}function Dw(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Dp(i.return,o,u)}function nm(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function Ow(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(Kn(i,o,f.children,u),f=Ht.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Dw(i,u,o);else if(i.tag===19)Dw(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(xt(Ht,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Pd(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),nm(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Pd(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}nm(o,!0,u,null,v);break;case"together":nm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ud(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Qi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Wo|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=qs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=qs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function XN(i,o,u){switch(o.tag){case 3:Nw(o),Xa();break;case 5:K_(o);break;case 1:sr(o.type)&&Ed(o);break;case 4:Lp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;xt(Rd,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(xt(Ht,Ht.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Pw(i,o,u):(xt(Ht,Ht.current&1),i=Qi(i,o,u),i!==null?i.sibling:null);xt(Ht,Ht.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Ow(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(Ht,Ht.current),f)break;return null;case 22:case 23:return o.lanes=0,Aw(i,o,u)}return Qi(i,o,u)}var xw,rm,Lw,Mw;xw=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rm=function(){},Lw=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Ho(Ii.current);var v=null;switch(u){case"input":m=qt(i,m),f=qt(i,f),v=[];break;case"select":m=ae({},m,{value:void 0}),f=ae({},f,{value:void 0}),v=[];break;case"textarea":m=Jn(i,m),f=Jn(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=vd)}di(u,f);var I;u=null;for(J in m)if(!f.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var M=m[J];for(I in M)M.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?v||(v=[]):(v=v||[]).push(J,null));for(J in f){var j=f[J];if(M=m!=null?m[J]:void 0,f.hasOwnProperty(J)&&j!==M&&(j!=null||M!=null))if(J==="style")if(M){for(I in M)!M.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in j)j.hasOwnProperty(I)&&M[I]!==j[I]&&(u||(u={}),u[I]=j[I])}else u||(v||(v=[]),v.push(J,u)),u=j;else J==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(v=v||[]).push(J,j)):J==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(J,""+j):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(j!=null&&J==="onScroll"&&Lt("scroll",i),v||M===j||(v=[])):(v=v||[]).push(J,j))}u&&(v=v||[]).push("style",u);var J=v;(o.updateQueue=J)&&(o.flags|=4)}},Mw=function(i,o,u,f){u!==f&&(o.flags|=4)};function Ou(i,o){if(!$t)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Mn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function JN(i,o,u){var f=o.pendingProps;switch(Cp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(o),null;case 1:return sr(o.type)&&wd(),Mn(o),null;case 3:return f=o.stateNode,tl(),Mt(ir),Mt(xn),$p(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Cd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zr!==null&&(pm(Zr),Zr=null))),rm(i,o),Mn(o),null;case 5:Mp(o);var m=Ho(bu.current);if(u=o.type,i!==null&&o.stateNode!=null)Lw(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Mn(o),null}if(i=Ho(Ii.current),Cd(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Si]=o,f[Su]=v,i=(o.mode&1)!==0,u){case"dialog":Lt("cancel",f),Lt("close",f);break;case"iframe":case"object":case"embed":Lt("load",f);break;case"video":case"audio":for(m=0;m<wu.length;m++)Lt(wu[m],f);break;case"source":Lt("error",f);break;case"img":case"image":case"link":Lt("error",f),Lt("load",f);break;case"details":Lt("toggle",f);break;case"input":rt(f,v),Lt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Lt("invalid",f);break;case"textarea":Pn(f,v),Lt("invalid",f)}di(u,v),m=null;for(var I in v)if(v.hasOwnProperty(I)){var M=v[I];I==="children"?typeof M=="string"?f.textContent!==M&&(v.suppressHydrationWarning!==!0&&yd(f.textContent,M,i),m=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&yd(f.textContent,M,i),m=["children",""+M]):s.hasOwnProperty(I)&&M!=null&&I==="onScroll"&&Lt("scroll",f)}switch(u){case"input":It(f),Rr(f,v,!0);break;case"textarea":It(f),on(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=vd)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=$e(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(u,{is:f.is}):(i=I.createElement(u),u==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,u),i[Si]=o,i[Su]=f,xw(i,o,!1,!1),o.stateNode=i;e:{switch(I=bo(u,f),u){case"dialog":Lt("cancel",i),Lt("close",i),m=f;break;case"iframe":case"object":case"embed":Lt("load",i),m=f;break;case"video":case"audio":for(m=0;m<wu.length;m++)Lt(wu[m],i);m=f;break;case"source":Lt("error",i),m=f;break;case"img":case"image":case"link":Lt("error",i),Lt("load",i),m=f;break;case"details":Lt("toggle",i),m=f;break;case"input":rt(i,f),m=qt(i,f),Lt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ae({},f,{value:void 0}),Lt("invalid",i);break;case"textarea":Pn(i,f),m=Jn(i,f),Lt("invalid",i);break;default:m=f}di(u,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var j=M[v];v==="style"?gn(i,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&mn(i,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&zn(i,j):typeof j=="number"&&zn(i,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Lt("scroll",i):j!=null&&z(i,v,j,I))}switch(u){case"input":It(i),Rr(i,f,!1);break;case"textarea":It(i),on(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ue(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Jt(i,!!f.multiple,v,!1):f.defaultValue!=null&&Jt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=vd)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Mn(o),null;case 6:if(i&&o.stateNode!=null)Mw(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Ho(bu.current),Ho(Ii.current),Cd(o)){if(f=o.stateNode,u=o.memoizedProps,f[Si]=o,(v=f.nodeValue!==u)&&(i=wr,i!==null))switch(i.tag){case 3:yd(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&yd(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Si]=o,o.stateNode=f}return Mn(o),null;case 13:if(Mt(Ht),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($t&&Er!==null&&(o.mode&1)!==0&&(o.flags&128)===0)U_(),Xa(),o.flags|=98560,v=!1;else if(v=Cd(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Si]=o}else Xa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mn(o),v=!1}else Zr!==null&&(pm(Zr),Zr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Ht.current&1)!==0?un===0&&(un=3):ym())),o.updateQueue!==null&&(o.flags|=4),Mn(o),null);case 4:return tl(),rm(i,o),i===null&&Eu(o.stateNode.containerInfo),Mn(o),null;case 10:return Pp(o.type._context),Mn(o),null;case 17:return sr(o.type)&&wd(),Mn(o),null;case 19:if(Mt(Ht),v=o.memoizedState,v===null)return Mn(o),null;if(f=(o.flags&128)!==0,I=v.rendering,I===null)if(f)Ou(v,!1);else{if(un!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Pd(i),I!==null){for(o.flags|=128,Ou(v,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return xt(Ht,Ht.current&1|2),o.child}i=i.sibling}v.tail!==null&&ct()>sl&&(o.flags|=128,f=!0,Ou(v,!1),o.lanes=4194304)}else{if(!f)if(i=Pd(I),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ou(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!$t)return Mn(o),null}else 2*ct()-v.renderingStartTime>sl&&u!==1073741824&&(o.flags|=128,f=!0,Ou(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=Ht.current,xt(Ht,f?u&1|2:u&1),o):(Mn(o),null);case 22:case 23:return gm(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Tr&1073741824)!==0&&(Mn(o),o.subtreeFlags&6&&(o.flags|=8192)):Mn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function ZN(i,o){switch(Cp(o),o.tag){case 1:return sr(o.type)&&wd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return tl(),Mt(ir),Mt(xn),$p(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Mp(o),null;case 13:if(Mt(Ht),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Xa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Mt(Ht),null;case 4:return tl(),null;case 10:return Pp(o.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var jd=!1,Vn=!1,ek=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function rl(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Gt(i,o,f)}else u.current=null}function im(i,o,u){try{u()}catch(f){Gt(i,o,f)}}var Vw=!1;function tk(i,o){if(gp=Ds,i=m_(),lp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,M=-1,j=-1,J=0,le=0,ce=i,oe=null;t:for(;;){for(var Ce;ce!==u||m!==0&&ce.nodeType!==3||(M=I+m),ce!==v||f!==0&&ce.nodeType!==3||(j=I+f),ce.nodeType===3&&(I+=ce.nodeValue.length),(Ce=ce.firstChild)!==null;)oe=ce,ce=Ce;for(;;){if(ce===i)break t;if(oe===u&&++J===m&&(M=I),oe===v&&++le===f&&(j=I),(Ce=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=Ce}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(yp={focusedElem:i,selectionRange:u},Ds=!1,Oe=o;Oe!==null;)if(o=Oe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Oe=i;else for(;Oe!==null;){o=Oe;try{var Le=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Me=Le.memoizedProps,Yt=Le.memoizedState,G=o.stateNode,B=G.getSnapshotBeforeUpdate(o.elementType===o.type?Me:ei(o.type,Me),Yt);G.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){Gt(o,o.return,fe)}if(i=o.sibling,i!==null){i.return=o.return,Oe=i;break}Oe=o.return}return Le=Vw,Vw=!1,Le}function xu(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&im(o,u,v)}m=m.next}while(m!==f)}}function Fd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function sm(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function $w(i){var o=i.alternate;o!==null&&(i.alternate=null,$w(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Si],delete o[Su],delete o[Ep],delete o[VN],delete o[$N])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uw(i){return i.tag===5||i.tag===3||i.tag===4}function jw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function om(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=vd));else if(f!==4&&(i=i.child,i!==null))for(om(i,o,u),i=i.sibling;i!==null;)om(i,o,u),i=i.sibling}function am(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(am(i,o,u),i=i.sibling;i!==null;)am(i,o,u),i=i.sibling}var Cn=null,ti=!1;function Fs(i,o,u){for(u=u.child;u!==null;)Fw(i,o,u),u=u.sibling}function Fw(i,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 5:Vn||rl(u,o);case 6:var f=Cn,m=ti;Cn=null,Fs(i,o,u),Cn=f,ti=m,Cn!==null&&(ti?(i=Cn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Cn.removeChild(u.stateNode));break;case 18:Cn!==null&&(ti?(i=Cn,u=u.stateNode,i.nodeType===8?wp(i.parentNode,u):i.nodeType===1&&wp(i,u),Yr(i)):wp(Cn,u.stateNode));break;case 4:f=Cn,m=ti,Cn=u.stateNode.containerInfo,ti=!0,Fs(i,o,u),Cn=f,ti=m;break;case 0:case 11:case 14:case 15:if(!Vn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&im(u,o,I),m=m.next}while(m!==f)}Fs(i,o,u);break;case 1:if(!Vn&&(rl(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(M){Gt(u,o,M)}Fs(i,o,u);break;case 21:Fs(i,o,u);break;case 22:u.mode&1?(Vn=(f=Vn)||u.memoizedState!==null,Fs(i,o,u),Vn=f):Fs(i,o,u);break;default:Fs(i,o,u)}}function Bw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new ek),o.forEach(function(f){var m=ck.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function ni(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 5:Cn=M.stateNode,ti=!1;break e;case 3:Cn=M.stateNode.containerInfo,ti=!0;break e;case 4:Cn=M.stateNode.containerInfo,ti=!0;break e}M=M.return}if(Cn===null)throw Error(t(160));Fw(v,I,m),Cn=null,ti=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(J){Gt(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Hw(o,i),o=o.sibling}function Hw(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ni(o,i),Ai(i),f&4){try{xu(3,i,i.return),Fd(3,i)}catch(Me){Gt(i,i.return,Me)}try{xu(5,i,i.return)}catch(Me){Gt(i,i.return,Me)}}break;case 1:ni(o,i),Ai(i),f&512&&u!==null&&rl(u,u.return);break;case 5:if(ni(o,i),Ai(i),f&512&&u!==null&&rl(u,u.return),i.flags&32){var m=i.stateNode;try{zn(m,"")}catch(Me){Gt(i,i.return,Me)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,M=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&jt(m,v),bo(M,I);var J=bo(M,v);for(I=0;I<j.length;I+=2){var le=j[I],ce=j[I+1];le==="style"?gn(m,ce):le==="dangerouslySetInnerHTML"?mn(m,ce):le==="children"?zn(m,ce):z(m,le,ce,J)}switch(M){case"input":pn(m,v);break;case"textarea":Dt(m,v);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?Jt(m,!!v.multiple,Ce,!1):oe!==!!v.multiple&&(v.defaultValue!=null?Jt(m,!!v.multiple,v.defaultValue,!0):Jt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Su]=v}catch(Me){Gt(i,i.return,Me)}}break;case 6:if(ni(o,i),Ai(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(Me){Gt(i,i.return,Me)}}break;case 3:if(ni(o,i),Ai(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Yr(o.containerInfo)}catch(Me){Gt(i,i.return,Me)}break;case 4:ni(o,i),Ai(i);break;case 13:ni(o,i),Ai(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(cm=ct())),f&4&&Bw(i);break;case 22:if(le=u!==null&&u.memoizedState!==null,i.mode&1?(Vn=(J=Vn)||le,ni(o,i),Vn=J):ni(o,i),Ai(i),f&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!le&&(i.mode&1)!==0)for(Oe=i,le=i.child;le!==null;){for(ce=Oe=le;Oe!==null;){switch(oe=Oe,Ce=oe.child,oe.tag){case 0:case 11:case 14:case 15:xu(4,oe,oe.return);break;case 1:rl(oe,oe.return);var Le=oe.stateNode;if(typeof Le.componentWillUnmount=="function"){f=oe,u=oe.return;try{o=f,Le.props=o.memoizedProps,Le.state=o.memoizedState,Le.componentWillUnmount()}catch(Me){Gt(f,u,Me)}}break;case 5:rl(oe,oe.return);break;case 22:if(oe.memoizedState!==null){qw(ce);continue}}Ce!==null?(Ce.return=oe,Oe=Ce):qw(ce)}le=le.sibling}e:for(le=null,ce=i;;){if(ce.tag===5){if(le===null){le=ce;try{m=ce.stateNode,J?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=ce.stateNode,j=ce.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=ot("display",I))}catch(Me){Gt(i,i.return,Me)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=J?"":ce.memoizedProps}catch(Me){Gt(i,i.return,Me)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:ni(o,i),Ai(i),f&4&&Bw(i);break;case 21:break;default:ni(o,i),Ai(i)}}function Ai(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Uw(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(zn(m,""),f.flags&=-33);var v=jw(i);am(i,v,m);break;case 3:case 4:var I=f.stateNode.containerInfo,M=jw(i);om(i,M,I);break;default:throw Error(t(161))}}catch(j){Gt(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function nk(i,o,u){Oe=i,zw(i)}function zw(i,o,u){for(var f=(i.mode&1)!==0;Oe!==null;){var m=Oe,v=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||jd;if(!I){var M=m.alternate,j=M!==null&&M.memoizedState!==null||Vn;M=jd;var J=Vn;if(jd=I,(Vn=j)&&!J)for(Oe=m;Oe!==null;)I=Oe,j=I.child,I.tag===22&&I.memoizedState!==null?Kw(m):j!==null?(j.return=I,Oe=j):Kw(m);for(;v!==null;)Oe=v,zw(v),v=v.sibling;Oe=m,jd=M,Vn=J}Ww(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Oe=v):Ww(i)}}function Ww(i){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Vn||Fd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Vn)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ei(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&q_(o,v,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}q_(o,I,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var le=J.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&Yr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vn||o.flags&512&&sm(o)}catch(oe){Gt(o,o.return,oe)}}if(o===i){Oe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function qw(i){for(;Oe!==null;){var o=Oe;if(o===i){Oe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function Kw(i){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Fd(4,o)}catch(j){Gt(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(j){Gt(o,m,j)}}var v=o.return;try{sm(o)}catch(j){Gt(o,v,j)}break;case 5:var I=o.return;try{sm(o)}catch(j){Gt(o,I,j)}}}catch(j){Gt(o,o.return,j)}if(o===i){Oe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Oe=M;break}Oe=o.return}}var rk=Math.ceil,Bd=q.ReactCurrentDispatcher,lm=q.ReactCurrentOwner,Mr=q.ReactCurrentBatchConfig,wt=0,_n=null,tn=null,An=0,Tr=0,il=Ms(0),un=0,Lu=null,Wo=0,Hd=0,um=0,Mu=null,ar=null,cm=0,sl=1/0,Yi=null,zd=!1,dm=null,Bs=null,Wd=!1,Hs=null,qd=0,Vu=0,fm=null,Kd=-1,Gd=0;function Gn(){return(wt&6)!==0?ct():Kd!==-1?Kd:Kd=ct()}function zs(i){return(i.mode&1)===0?1:(wt&2)!==0&&An!==0?An&-An:jN.transition!==null?(Gd===0&&(Gd=Oo()),Gd):(i=gt,i!==0||(i=window.event,i=i===void 0?16:du(i.type)),i)}function ri(i,o,u,f){if(50<Vu)throw Vu=0,fm=null,Error(t(185));bs(i,u,f),((wt&2)===0||i!==_n)&&(i===_n&&((wt&2)===0&&(Hd|=u),un===4&&Ws(i,An)),lr(i,f),u===1&&wt===0&&(o.mode&1)===0&&(sl=ct()+500,Td&&$s()))}function lr(i,o){var u=i.callbackNode;$i(i,o);var f=Do(i,i===_n?An:0);if(f===0)u!==null&&br(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&br(u),o===1)i.tag===0?UN(Qw.bind(null,i)):x_(Qw.bind(null,i)),LN(function(){(wt&6)===0&&$s()}),u=null;else{switch(ks(f)){case 1:u=gr;break;case 4:u=On;break;case 16:u=Tn;break;case 536870912:u=dt;break;default:u=Tn}u=rE(u,Gw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Gw(i,o){if(Kd=-1,Gd=0,(wt&6)!==0)throw Error(t(327));var u=i.callbackNode;if(ol()&&i.callbackNode!==u)return null;var f=Do(i,i===_n?An:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Qd(i,f);else{o=f;var m=wt;wt|=2;var v=Xw();(_n!==i||An!==o)&&(Yi=null,sl=ct()+500,Ko(i,o));do try{ok();break}catch(M){Yw(i,M)}while(!0);kp(),Bd.current=v,wt=m,tn!==null?o=0:(_n=null,An=0,o=un)}if(o!==0){if(o===2&&(m=yr(i),m!==0&&(f=m,o=hm(i,m))),o===1)throw u=Lu,Ko(i,0),Ws(i,f),lr(i,ct()),u;if(o===6)Ws(i,f);else{if(m=i.current.alternate,(f&30)===0&&!ik(m)&&(o=Qd(i,f),o===2&&(v=yr(i),v!==0&&(f=v,o=hm(i,v))),o===1))throw u=Lu,Ko(i,0),Ws(i,f),lr(i,ct()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Go(i,ar,Yi);break;case 3:if(Ws(i,f),(f&130023424)===f&&(o=cm+500-ct(),10<o)){if(Do(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){Gn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=_p(Go.bind(null,i,ar,Yi),o);break}Go(i,ar,Yi);break;case 4:if(Ws(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-ft(f);v=1<<I,I=o[I],I>m&&(m=I),f&=~v}if(f=m,f=ct()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*rk(f/1960))-f,10<f){i.timeoutHandle=_p(Go.bind(null,i,ar,Yi),f);break}Go(i,ar,Yi);break;case 5:Go(i,ar,Yi);break;default:throw Error(t(329))}}}return lr(i,ct()),i.callbackNode===u?Gw.bind(null,i):null}function hm(i,o){var u=Mu;return i.current.memoizedState.isDehydrated&&(Ko(i,o).flags|=256),i=Qd(i,o),i!==2&&(o=ar,ar=u,o!==null&&pm(o)),i}function pm(i){ar===null?ar=i:ar.push.apply(ar,i)}function ik(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Jr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ws(i,o){for(o&=~um,o&=~Hd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-ft(o),f=1<<u;i[u]=-1,o&=~f}}function Qw(i){if((wt&6)!==0)throw Error(t(327));ol();var o=Do(i,0);if((o&1)===0)return lr(i,ct()),null;var u=Qd(i,o);if(i.tag!==0&&u===2){var f=yr(i);f!==0&&(o=f,u=hm(i,f))}if(u===1)throw u=Lu,Ko(i,0),Ws(i,o),lr(i,ct()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Go(i,ar,Yi),lr(i,ct()),null}function mm(i,o){var u=wt;wt|=1;try{return i(o)}finally{wt=u,wt===0&&(sl=ct()+500,Td&&$s())}}function qo(i){Hs!==null&&Hs.tag===0&&(wt&6)===0&&ol();var o=wt;wt|=1;var u=Mr.transition,f=gt;try{if(Mr.transition=null,gt=1,i)return i()}finally{gt=f,Mr.transition=u,wt=o,(wt&6)===0&&$s()}}function gm(){Tr=il.current,Mt(il)}function Ko(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,xN(u)),tn!==null)for(u=tn.return;u!==null;){var f=u;switch(Cp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&wd();break;case 3:tl(),Mt(ir),Mt(xn),$p();break;case 5:Mp(f);break;case 4:tl();break;case 13:Mt(Ht);break;case 19:Mt(Ht);break;case 10:Pp(f.type._context);break;case 22:case 23:gm()}u=u.return}if(_n=i,tn=i=qs(i.current,null),An=Tr=o,un=0,Lu=null,um=Hd=Wo=0,ar=Mu=null,Bo!==null){for(o=0;o<Bo.length;o++)if(u=Bo[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var I=v.next;v.next=m,f.next=I}u.pending=f}Bo=null}return i}function Yw(i,o){do{var u=tn;try{if(kp(),Dd.current=Md,Od){for(var f=zt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Od=!1}if(zo=0,vn=ln=zt=null,Nu=!1,ku=0,lm.current=null,u===null||u.return===null){un=1,Lu=o,tn=null;break}e:{var v=i,I=u.return,M=u,j=o;if(o=An,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=j,le=M,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var Ce=Ew(I);if(Ce!==null){Ce.flags&=-257,Tw(Ce,I,M,v,o),Ce.mode&1&&ww(v,J,o),o=Ce,j=J;var Le=o.updateQueue;if(Le===null){var Me=new Set;Me.add(j),o.updateQueue=Me}else Le.add(j);break e}else{if((o&1)===0){ww(v,J,o),ym();break e}j=Error(t(426))}}else if($t&&M.mode&1){var Yt=Ew(I);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Tw(Yt,I,M,v,o),bp(nl(j,M));break e}}v=j=nl(j,M),un!==4&&(un=2),Mu===null?Mu=[v]:Mu.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var G=vw(v,j,o);W_(v,G);break e;case 1:M=j;var B=v.type,Y=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Bs===null||!Bs.has(Y)))){v.flags|=65536,o&=-o,v.lanes|=o;var fe=_w(v,M,o);W_(v,fe);break e}}v=v.return}while(v!==null)}Zw(u)}catch(Ve){o=Ve,tn===u&&u!==null&&(tn=u=u.return);continue}break}while(!0)}function Xw(){var i=Bd.current;return Bd.current=Md,i===null?Md:i}function ym(){(un===0||un===3||un===2)&&(un=4),_n===null||(Wo&268435455)===0&&(Hd&268435455)===0||Ws(_n,An)}function Qd(i,o){var u=wt;wt|=2;var f=Xw();(_n!==i||An!==o)&&(Yi=null,Ko(i,o));do try{sk();break}catch(m){Yw(i,m)}while(!0);if(kp(),wt=u,Bd.current=f,tn!==null)throw Error(t(261));return _n=null,An=0,un}function sk(){for(;tn!==null;)Jw(tn)}function ok(){for(;tn!==null&&!mi();)Jw(tn)}function Jw(i){var o=nE(i.alternate,i,Tr);i.memoizedProps=i.pendingProps,o===null?Zw(i):tn=o,lm.current=null}function Zw(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=JN(u,o,Tr),u!==null){tn=u;return}}else{if(u=ZN(u,o),u!==null){u.flags&=32767,tn=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{un=6,tn=null;return}}if(o=o.sibling,o!==null){tn=o;return}tn=o=i}while(o!==null);un===0&&(un=5)}function Go(i,o,u){var f=gt,m=Mr.transition;try{Mr.transition=null,gt=1,ak(i,o,u,f)}finally{Mr.transition=m,gt=f}return null}function ak(i,o,u,f){do ol();while(Hs!==null);if((wt&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Pt(i,v),i===_n&&(tn=_n=null,An=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Wd||(Wd=!0,rE(Tn,function(){return ol(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Mr.transition,Mr.transition=null;var I=gt;gt=1;var M=wt;wt|=4,lm.current=null,tk(i,u),Hw(u,i),RN(yp),Ds=!!gp,yp=gp=null,i.current=u,nk(u),mr(),wt=M,gt=I,Mr.transition=v}else i.current=u;if(Wd&&(Wd=!1,Hs=i,qd=m),v=i.pendingLanes,v===0&&(Bs=null),yi(u.stateNode),lr(i,ct()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(zd)throw zd=!1,i=dm,dm=null,i;return(qd&1)!==0&&i.tag!==0&&ol(),v=i.pendingLanes,(v&1)!==0?i===fm?Vu++:(Vu=0,fm=i):Vu=0,$s(),null}function ol(){if(Hs!==null){var i=ks(qd),o=Mr.transition,u=gt;try{if(Mr.transition=null,gt=16>i?16:i,Hs===null)var f=!1;else{if(i=Hs,Hs=null,qd=0,(wt&6)!==0)throw Error(t(331));var m=wt;for(wt|=4,Oe=i.current;Oe!==null;){var v=Oe,I=v.child;if((Oe.flags&16)!==0){var M=v.deletions;if(M!==null){for(var j=0;j<M.length;j++){var J=M[j];for(Oe=J;Oe!==null;){var le=Oe;switch(le.tag){case 0:case 11:case 15:xu(8,le,v)}var ce=le.child;if(ce!==null)ce.return=le,Oe=ce;else for(;Oe!==null;){le=Oe;var oe=le.sibling,Ce=le.return;if($w(le),le===J){Oe=null;break}if(oe!==null){oe.return=Ce,Oe=oe;break}Oe=Ce}}}var Le=v.alternate;if(Le!==null){var Me=Le.child;if(Me!==null){Le.child=null;do{var Yt=Me.sibling;Me.sibling=null,Me=Yt}while(Me!==null)}}Oe=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,Oe=I;else e:for(;Oe!==null;){if(v=Oe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:xu(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,Oe=G;break e}Oe=v.return}}var B=i.current;for(Oe=B;Oe!==null;){I=Oe;var Y=I.child;if((I.subtreeFlags&2064)!==0&&Y!==null)Y.return=I,Oe=Y;else e:for(I=B;Oe!==null;){if(M=Oe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Fd(9,M)}}catch(Ve){Gt(M,M.return,Ve)}if(M===I){Oe=null;break e}var fe=M.sibling;if(fe!==null){fe.return=M.return,Oe=fe;break e}Oe=M.return}}if(wt=m,$s(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ct,i)}catch{}f=!0}return f}finally{gt=u,Mr.transition=o}}return!1}function eE(i,o,u){o=nl(u,o),o=vw(i,o,1),i=js(i,o,1),o=Gn(),i!==null&&(bs(i,1,o),lr(i,o))}function Gt(i,o,u){if(i.tag===3)eE(i,i,u);else for(;o!==null;){if(o.tag===3){eE(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))){i=nl(u,i),i=_w(o,i,1),o=js(o,i,1),i=Gn(),o!==null&&(bs(o,1,i),lr(o,i));break}}o=o.return}}function lk(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=Gn(),i.pingedLanes|=i.suspendedLanes&u,_n===i&&(An&u)===u&&(un===4||un===3&&(An&130023424)===An&&500>ct()-cm?Ko(i,0):um|=u),lr(i,o)}function tE(i,o){o===0&&((i.mode&1)===0?o=1:(o=Na,Na<<=1,(Na&130023424)===0&&(Na=4194304)));var u=Gn();i=Ki(i,o),i!==null&&(bs(i,o,u),lr(i,u))}function uk(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),tE(i,u)}function ck(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),tE(i,u)}var nE;nE=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||ir.current)or=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return or=!1,XN(i,o,u);or=(i.flags&131072)!==0}else or=!1,$t&&(o.flags&1048576)!==0&&L_(o,Id,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Ud(i,o),i=o.pendingProps;var m=Ga(o,xn.current);el(o,u),m=Fp(null,o,f,i,m,u);var v=Bp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sr(f)?(v=!0,Ed(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,xp(o),m.updater=Vd,o.stateNode=m,m._reactInternals=o,Gp(o,f,i,u),o=Jp(null,o,f,!0,v,u)):(o.tag=0,$t&&v&&Ip(o),Kn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Ud(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=fk(f),i=ei(f,i),m){case 0:o=Xp(null,o,f,i,u);break e;case 1:o=bw(null,o,f,i,u);break e;case 11:o=Sw(null,o,f,i,u);break e;case 14:o=Iw(null,o,f,ei(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Xp(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),bw(i,o,f,m,u);case 3:e:{if(Nw(o),i===null)throw Error(t(387));f=o.pendingProps,v=o.memoizedState,m=v.element,z_(i,o),kd(o,f,null,u);var I=o.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=nl(Error(t(423)),o),o=kw(i,o,f,u,m);break e}else if(f!==m){m=nl(Error(t(424)),o),o=kw(i,o,f,u,m);break e}else for(Er=Ls(o.stateNode.containerInfo.firstChild),wr=o,$t=!0,Zr=null,u=B_(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xa(),f===m){o=Qi(i,o,u);break e}Kn(i,o,f,u)}o=o.child}return o;case 5:return K_(o),i===null&&Rp(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,I=m.children,vp(f,m)?I=null:v!==null&&vp(f,v)&&(o.flags|=32),Rw(i,o),Kn(i,o,I,u),o.child;case 6:return i===null&&Rp(o),null;case 13:return Pw(i,o,u);case 4:return Lp(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Ja(o,null,f,u):Kn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Sw(i,o,f,m,u);case 7:return Kn(i,o,o.pendingProps,u),o.child;case 8:return Kn(i,o,o.pendingProps.children,u),o.child;case 12:return Kn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,I=m.value,xt(Rd,f._currentValue),f._currentValue=I,v!==null)if(Jr(v.value,I)){if(v.children===m.children&&!ir.current){o=Qi(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){I=v.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(v.tag===1){j=Gi(-1,u&-u),j.tag=2;var J=v.updateQueue;if(J!==null){J=J.shared;var le=J.pending;le===null?j.next=j:(j.next=le.next,le.next=j),J.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Dp(v.return,u,o),M.lanes|=u;break}j=j.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(t(341));I.lanes|=u,M=I.alternate,M!==null&&(M.lanes|=u),Dp(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}Kn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,el(o,u),m=xr(m),f=f(m),o.flags|=1,Kn(i,o,f,u),o.child;case 14:return f=o.type,m=ei(f,o.pendingProps),m=ei(f.type,m),Iw(i,o,f,m,u);case 15:return Cw(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Ud(i,o),o.tag=1,sr(f)?(i=!0,Ed(o)):i=!1,el(o,u),gw(o,f,m),Gp(o,f,m,u),Jp(null,o,f,!0,i,u);case 19:return Ow(i,o,u);case 22:return Aw(i,o,u)}throw Error(t(156,o.tag))};function rE(i,o){return Rt(i,o)}function dk(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(i,o,u,f){return new dk(i,o,u,f)}function vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fk(i){if(typeof i=="function")return vm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===xe)return 14}return 2}function qs(i,o){var u=i.alternate;return u===null?(u=Vr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Yd(i,o,u,f,m,v){var I=2;if(f=i,typeof i=="function")vm(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case S:return Qo(u.children,m,v,o);case A:I=8,m|=8;break;case k:return i=Vr(12,u,o,m|2),i.elementType=k,i.lanes=v,i;case D:return i=Vr(13,u,o,m),i.elementType=D,i.lanes=v,i;case we:return i=Vr(19,u,o,m),i.elementType=we,i.lanes=v,i;case Ne:return Xd(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:I=10;break e;case L:I=9;break e;case V:I=11;break e;case xe:I=14;break e;case Fe:I=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Vr(I,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Qo(i,o,u,f){return i=Vr(7,i,f,o),i.lanes=u,i}function Xd(i,o,u,f){return i=Vr(22,i,f,o),i.elementType=Ne,i.lanes=u,i.stateNode={isHidden:!1},i}function _m(i,o,u){return i=Vr(6,i,null,o),i.lanes=u,i}function wm(i,o,u){return o=Vr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function hk(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Em(i,o,u,f,m,v,I,M,j){return i=new hk(i,o,u,M,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Vr(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(v),i}function pk(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function iE(i){if(!i)return Vs;i=i._reactInternals;e:{if(De(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(sr(u))return D_(i,u,o)}return o}function sE(i,o,u,f,m,v,I,M,j){return i=Em(u,f,!0,i,m,v,I,M,j),i.context=iE(null),u=i.current,f=Gn(),m=zs(u),v=Gi(f,m),v.callback=o??null,js(u,v,m),i.current.lanes=m,bs(i,m,f),lr(i,f),i}function Jd(i,o,u,f){var m=o.current,v=Gn(),I=zs(m);return u=iE(u),o.context===null?o.context=u:o.pendingContext=u,o=Gi(v,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=js(m,o,I),i!==null&&(ri(i,m,I,v),Nd(i,m,I)),I}function Zd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function oE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Tm(i,o){oE(i,o),(i=i.alternate)&&oE(i,o)}function mk(){return null}var aE=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sm(i){this._internalRoot=i}ef.prototype.render=Sm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Jd(i,o,null,null)},ef.prototype.unmount=Sm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;qo(function(){Jd(null,i,null,null)}),o[Hi]=null}};function ef(i){this._internalRoot=i}ef.prototype.unstable_scheduleHydration=function(i){if(i){var o=ed();i={blockedOn:null,target:i,priority:o};for(var u=0;u<_i.length&&o!==0&&o<_i[u].priority;u++);_i.splice(u,0,i),u===0&&rd(i)}};function Im(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function tf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function lE(){}function gk(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var J=Zd(I);v.call(J)}}var I=sE(o,f,i,0,null,!1,!1,"",lE);return i._reactRootContainer=I,i[Hi]=I.current,Eu(i.nodeType===8?i.parentNode:i),qo(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var M=f;f=function(){var J=Zd(j);M.call(J)}}var j=Em(i,0,!1,null,null,!1,!1,"",lE);return i._reactRootContainer=j,i[Hi]=j.current,Eu(i.nodeType===8?i.parentNode:i),qo(function(){Jd(o,j,u,f)}),j}function nf(i,o,u,f,m){var v=u._reactRootContainer;if(v){var I=v;if(typeof m=="function"){var M=m;m=function(){var j=Zd(I);M.call(j)}}Jd(o,I,i,m)}else I=gk(u,o,i,m,f);return Zd(I)}Jc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=As(o.pendingLanes);u!==0&&(Ns(o,u|1),lr(o,ct()),(wt&6)===0&&(sl=ct()+500,$s()))}break;case 13:qo(function(){var f=Ki(i,1);if(f!==null){var m=Gn();ri(f,i,1,m)}}),Tm(i,1)}},ka=function(i){if(i.tag===13){var o=Ki(i,134217728);if(o!==null){var u=Gn();ri(o,i,134217728,u)}Tm(i,134217728)}},Zc=function(i){if(i.tag===13){var o=zs(i),u=Ki(i,o);if(u!==null){var f=Gn();ri(u,i,o,f)}Tm(i,o)}},ed=function(){return gt},td=function(i,o){var u=gt;try{return gt=i,o()}finally{gt=u}},Vi=function(i,o,u){switch(o){case"input":if(pn(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=_d(f);if(!m)throw Error(t(90));it(f),pn(f,m)}}}break;case"textarea":Dt(i,u);break;case"select":o=u.value,o!=null&&Jt(i,!!u.multiple,o,!1)}},hi=mm,pi=qo;var yk={usingClientEntryPoint:!1,Events:[Iu,qa,_d,pr,No,mm]},$u={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vk={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Tt(i),i===null?null:i.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Ct=rf.inject(vk),Zt=rf}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yk,ur.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(o))throw Error(t(200));return pk(i,o,null,u)},ur.createRoot=function(i,o){if(!Im(i))throw Error(t(299));var u=!1,f="",m=aE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Em(i,1,!1,null,null,u,!1,f,m),i[Hi]=o.current,Eu(i.nodeType===8?i.parentNode:i),new Sm(o)},ur.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Tt(o),i=i===null?null:i.stateNode,i},ur.flushSync=function(i){return qo(i)},ur.hydrate=function(i,o,u){if(!tf(o))throw Error(t(200));return nf(null,i,o,!0,u)},ur.hydrateRoot=function(i,o,u){if(!Im(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",I=aE;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=sE(o,null,i,1,u??null,m,!1,v,I),i[Hi]=o.current,Eu(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new ef(o)},ur.render=function(i,o,u){if(!tf(o))throw Error(t(200));return nf(null,i,o,!1,u)},ur.unmountComponentAtNode=function(i){if(!tf(i))throw Error(t(40));return i._reactRootContainer?(qo(function(){nf(null,null,i,!1,function(){i._reactRootContainer=null,i[Hi]=null})}),!0):!1},ur.unstable_batchedUpdates=mm,ur.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!tf(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return nf(i,o,u,!1,f)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var pE;function PS(){if(pE)return Am.exports;pE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Am.exports=Ik(),Am.exports}var mE;function Ck(){if(mE)return sf;mE=1;var n=PS();return sf.createRoot=n.createRoot,sf.hydrateRoot=n.hydrateRoot,sf}var Ak=Ck(),Yn="top",Ir="bottom",Cr="right",Xn="left",_h="auto",Kl=[Yn,Ir,Cr,Xn],la="start",Al="end",DS="clippingParents",py="viewport",hl="popper",OS="reference",gg=Kl.reduce(function(n,e){return n.concat([e+"-"+la,e+"-"+Al])},[]),my=[].concat(Kl,[_h]).reduce(function(n,e){return n.concat([e,e+"-"+la,e+"-"+Al])},[]),xS="beforeRead",LS="read",MS="afterRead",VS="beforeMain",$S="main",US="afterMain",jS="beforeWrite",FS="write",BS="afterWrite",HS=[xS,LS,MS,VS,$S,US,jS,FS,BS];function Di(n){return n?(n.nodeName||"").toLowerCase():null}function Ar(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ua(n){var e=Ar(n).Element;return n instanceof e||n instanceof Element}function jr(n){var e=Ar(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function gy(n){if(typeof ShadowRoot>"u")return!1;var e=Ar(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Rk(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},s=e.attributes[t]||{},a=e.elements[t];!jr(a)||!Di(a)||(Object.assign(a.style,r),Object.keys(s).forEach(function(l){var d=s[l];d===!1?a.removeAttribute(l):a.setAttribute(l,d===!0?"":d)}))})}function bk(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),d=l.reduce(function(h,p){return h[p]="",h},{});!jr(s)||!Di(s)||(Object.assign(s.style,d),Object.keys(a).forEach(function(h){s.removeAttribute(h)}))})}}const yy={name:"applyStyles",enabled:!0,phase:"write",fn:Rk,effect:bk,requires:["computeStyles"]};function bi(n){return n.split("-")[0]}var oa=Math.max,jf=Math.min,Rl=Math.round;function yg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zS(){return!/^((?!chrome|android).)*safari/i.test(yg())}function bl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,a=1;e&&jr(n)&&(s=n.offsetWidth>0&&Rl(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Rl(r.height)/n.offsetHeight||1);var l=ua(n)?Ar(n):window,d=l.visualViewport,h=!zS()&&t,p=(r.left+(h&&d?d.offsetLeft:0))/s,g=(r.top+(h&&d?d.offsetTop:0))/a,_=r.width/s,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function vy(n){var e=bl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function WS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&gy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ds(n){return Ar(n).getComputedStyle(n)}function Nk(n){return["table","td","th"].indexOf(Di(n))>=0}function Io(n){return((ua(n)?n.ownerDocument:n.document)||window.document).documentElement}function wh(n){return Di(n)==="html"?n:n.assignedSlot||n.parentNode||(gy(n)?n.host:null)||Io(n)}function gE(n){return!jr(n)||ds(n).position==="fixed"?null:n.offsetParent}function kk(n){var e=/firefox/i.test(yg()),t=/Trident/i.test(yg());if(t&&jr(n)){var r=ds(n);if(r.position==="fixed")return null}var s=wh(n);for(gy(s)&&(s=s.host);jr(s)&&["html","body"].indexOf(Di(s))<0;){var a=ds(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Ac(n){for(var e=Ar(n),t=gE(n);t&&Nk(t)&&ds(t).position==="static";)t=gE(t);return t&&(Di(t)==="html"||Di(t)==="body"&&ds(t).position==="static")?e:t||kk(n)||e}function _y(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function tc(n,e,t){return oa(n,jf(e,t))}function Pk(n,e,t){var r=tc(n,e,t);return r>t?t:r}function qS(){return{top:0,right:0,bottom:0,left:0}}function KS(n){return Object.assign({},qS(),n)}function GS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Dk=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,KS(typeof e!="number"?e:GS(e,Kl))};function Ok(n){var e,t=n.state,r=n.name,s=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,d=bi(t.placement),h=_y(d),p=[Xn,Cr].indexOf(d)>=0,g=p?"height":"width";if(!(!a||!l)){var _=Dk(s.padding,t),T=vy(a),C=h==="y"?Yn:Xn,P=h==="y"?Ir:Cr,x=t.rects.reference[g]+t.rects.reference[h]-l[h]-t.rects.popper[g],N=l[h]-t.rects.reference[h],H=Ac(a),$=H?h==="y"?H.clientHeight||0:H.clientWidth||0:0,z=x/2-N/2,q=_[C],Z=$-T[g]-_[P],Q=$/2-T[g]/2+z,S=tc(q,Q,Z),A=h;t.modifiersData[r]=(e={},e[A]=S,e.centerOffset=S-Q,e)}}function xk(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||WS(e.elements.popper,s)&&(e.elements.arrow=s))}const wy={name:"arrow",enabled:!0,phase:"main",fn:Ok,effect:xk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nl(n){return n.split("-")[1]}var Lk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mk(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:Rl(t*s)/s||0,y:Rl(r*s)/s||0}}function yE(n){var e,t=n.popper,r=n.popperRect,s=n.placement,a=n.variation,l=n.offsets,d=n.position,h=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,C=T===void 0?0:T,P=l.y,x=P===void 0?0:P,N=typeof g=="function"?g({x:C,y:x}):{x:C,y:x};C=N.x,x=N.y;var H=l.hasOwnProperty("x"),$=l.hasOwnProperty("y"),z=Xn,q=Yn,Z=window;if(p){var Q=Ac(t),S="clientHeight",A="clientWidth";if(Q===Ar(t)&&(Q=Io(t),ds(Q).position!=="static"&&d==="absolute"&&(S="scrollHeight",A="scrollWidth")),Q=Q,s===Yn||(s===Xn||s===Cr)&&a===Al){q=Ir;var k=_&&Q===Z&&Z.visualViewport?Z.visualViewport.height:Q[S];x-=k-r.height,x*=h?1:-1}if(s===Xn||(s===Yn||s===Ir)&&a===Al){z=Cr;var O=_&&Q===Z&&Z.visualViewport?Z.visualViewport.width:Q[A];C-=O-r.width,C*=h?1:-1}}var L=Object.assign({position:d},p&&Lk),V=g===!0?Mk({x:C,y:x},Ar(t)):{x:C,y:x};if(C=V.x,x=V.y,h){var D;return Object.assign({},L,(D={},D[q]=$?"0":"",D[z]=H?"0":"",D.transform=(Z.devicePixelRatio||1)<=1?"translate("+C+"px, "+x+"px)":"translate3d("+C+"px, "+x+"px, 0)",D))}return Object.assign({},L,(e={},e[q]=$?x+"px":"",e[z]=H?C+"px":"",e.transform="",e))}function Vk(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,d=t.roundOffsets,h=d===void 0?!0:d,p={placement:bi(e.placement),variation:Nl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yE(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yE(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Eh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vk,data:{}};var of={passive:!0};function $k(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,a=s===void 0?!0:s,l=r.resize,d=l===void 0?!0:l,h=Ar(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,of)}),d&&h.addEventListener("resize",t.update,of),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,of)}),d&&h.removeEventListener("resize",t.update,of)}}const Th={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$k,data:{}};var Uk={left:"right",right:"left",bottom:"top",top:"bottom"};function Cf(n){return n.replace(/left|right|bottom|top/g,function(e){return Uk[e]})}var jk={start:"end",end:"start"};function vE(n){return n.replace(/start|end/g,function(e){return jk[e]})}function Ey(n){var e=Ar(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Ty(n){return bl(Io(n)).left+Ey(n).scrollLeft}function Fk(n,e){var t=Ar(n),r=Io(n),s=t.visualViewport,a=r.clientWidth,l=r.clientHeight,d=0,h=0;if(s){a=s.width,l=s.height;var p=zS();(p||!p&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:d+Ty(n),y:h}}function Bk(n){var e,t=Io(n),r=Ey(n),s=(e=n.ownerDocument)==null?void 0:e.body,a=oa(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=oa(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-r.scrollLeft+Ty(n),h=-r.scrollTop;return ds(s||t).direction==="rtl"&&(d+=oa(t.clientWidth,s?s.clientWidth:0)-a),{width:a,height:l,x:d,y:h}}function Sy(n){var e=ds(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function QS(n){return["html","body","#document"].indexOf(Di(n))>=0?n.ownerDocument.body:jr(n)&&Sy(n)?n:QS(wh(n))}function nc(n,e){var t;e===void 0&&(e=[]);var r=QS(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),a=Ar(r),l=s?[a].concat(a.visualViewport||[],Sy(r)?r:[]):r,d=e.concat(l);return s?d:d.concat(nc(wh(l)))}function vg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Hk(n,e){var t=bl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function _E(n,e,t){return e===py?vg(Fk(n,t)):ua(e)?Hk(e,t):vg(Bk(Io(n)))}function zk(n){var e=nc(wh(n)),t=["absolute","fixed"].indexOf(ds(n).position)>=0,r=t&&jr(n)?Ac(n):n;return ua(r)?e.filter(function(s){return ua(s)&&WS(s,r)&&Di(s)!=="body"}):[]}function Wk(n,e,t,r){var s=e==="clippingParents"?zk(n):[].concat(e),a=[].concat(s,[t]),l=a[0],d=a.reduce(function(h,p){var g=_E(n,p,r);return h.top=oa(g.top,h.top),h.right=jf(g.right,h.right),h.bottom=jf(g.bottom,h.bottom),h.left=oa(g.left,h.left),h},_E(n,l,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function YS(n){var e=n.reference,t=n.element,r=n.placement,s=r?bi(r):null,a=r?Nl(r):null,l=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,h;switch(s){case Yn:h={x:l,y:e.y-t.height};break;case Ir:h={x:l,y:e.y+e.height};break;case Cr:h={x:e.x+e.width,y:d};break;case Xn:h={x:e.x-t.width,y:d};break;default:h={x:e.x,y:e.y}}var p=s?_y(s):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case la:h[p]=h[p]-(e[g]/2-t[g]/2);break;case Al:h[p]=h[p]+(e[g]/2-t[g]/2);break}}return h}function kl(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,d=t.boundary,h=d===void 0?DS:d,p=t.rootBoundary,g=p===void 0?py:p,_=t.elementContext,T=_===void 0?hl:_,C=t.altBoundary,P=C===void 0?!1:C,x=t.padding,N=x===void 0?0:x,H=KS(typeof N!="number"?N:GS(N,Kl)),$=T===hl?OS:hl,z=n.rects.popper,q=n.elements[P?$:T],Z=Wk(ua(q)?q:q.contextElement||Io(n.elements.popper),h,g,l),Q=bl(n.elements.reference),S=YS({reference:Q,element:z,placement:s}),A=vg(Object.assign({},z,S)),k=T===hl?A:Q,O={top:Z.top-k.top+H.top,bottom:k.bottom-Z.bottom+H.bottom,left:Z.left-k.left+H.left,right:k.right-Z.right+H.right},L=n.modifiersData.offset;if(T===hl&&L){var V=L[s];Object.keys(O).forEach(function(D){var we=[Cr,Ir].indexOf(D)>=0?1:-1,xe=[Yn,Ir].indexOf(D)>=0?"y":"x";O[D]+=V[xe]*we})}return O}function qk(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,a=t.rootBoundary,l=t.padding,d=t.flipVariations,h=t.allowedAutoPlacements,p=h===void 0?my:h,g=Nl(r),_=g?d?gg:gg.filter(function(P){return Nl(P)===g}):Kl,T=_.filter(function(P){return p.indexOf(P)>=0});T.length===0&&(T=_);var C=T.reduce(function(P,x){return P[x]=kl(n,{placement:x,boundary:s,rootBoundary:a,padding:l})[bi(x)],P},{});return Object.keys(C).sort(function(P,x){return C[P]-C[x]})}function Kk(n){if(bi(n)===_h)return[];var e=Cf(n);return[vE(n),e,vE(e)]}function Gk(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,a=s===void 0?!0:s,l=t.altAxis,d=l===void 0?!0:l,h=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,C=t.flipVariations,P=C===void 0?!0:C,x=t.allowedAutoPlacements,N=e.options.placement,H=bi(N),$=H===N,z=h||($||!P?[Cf(N)]:Kk(N)),q=[N].concat(z).reduce(function(ve,Te){return ve.concat(bi(Te)===_h?qk(e,{placement:Te,boundary:g,rootBoundary:_,padding:p,flipVariations:P,allowedAutoPlacements:x}):Te)},[]),Z=e.rects.reference,Q=e.rects.popper,S=new Map,A=!0,k=q[0],O=0;O<q.length;O++){var L=q[O],V=bi(L),D=Nl(L)===la,we=[Yn,Ir].indexOf(V)>=0,xe=we?"width":"height",Fe=kl(e,{placement:L,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),Ne=we?D?Cr:Xn:D?Ir:Yn;Z[xe]>Q[xe]&&(Ne=Cf(Ne));var ne=Cf(Ne),me=[];if(a&&me.push(Fe[V]<=0),d&&me.push(Fe[Ne]<=0,Fe[ne]<=0),me.every(function(ve){return ve})){k=L,A=!1;break}S.set(L,me)}if(A)for(var ae=P?3:1,F=function(Te){var Ae=q.find(function(qe){var Ue=S.get(qe);if(Ue)return Ue.slice(0,Te).every(function(st){return st})});if(Ae)return k=Ae,"break"},ee=ae;ee>0;ee--){var he=F(ee);if(he==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const Iy={name:"flip",enabled:!0,phase:"main",fn:Gk,requiresIfExists:["offset"],data:{_skip:!1}};function wE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function EE(n){return[Yn,Cr,Ir,Xn].some(function(e){return n[e]>=0})}function Qk(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,l=kl(e,{elementContext:"reference"}),d=kl(e,{altBoundary:!0}),h=wE(l,r),p=wE(d,s,a),g=EE(h),_=EE(p);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const Cy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qk};function Yk(n,e,t){var r=bi(n),s=[Xn,Yn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],d=a[1];return l=l||0,d=(d||0)*s,[Xn,Cr].indexOf(r)>=0?{x:d,y:l}:{x:l,y:d}}function Xk(n){var e=n.state,t=n.options,r=n.name,s=t.offset,a=s===void 0?[0,0]:s,l=my.reduce(function(g,_){return g[_]=Yk(_,e.rects,a),g},{}),d=l[e.placement],h=d.x,p=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Ay={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xk};function Jk(n){var e=n.state,t=n.name;e.modifiersData[t]=YS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Sh={name:"popperOffsets",enabled:!0,phase:"read",fn:Jk,data:{}};function Zk(n){return n==="x"?"y":"x"}function eP(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,a=s===void 0?!0:s,l=t.altAxis,d=l===void 0?!1:l,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,C=T===void 0?!0:T,P=t.tetherOffset,x=P===void 0?0:P,N=kl(e,{boundary:h,rootBoundary:p,padding:_,altBoundary:g}),H=bi(e.placement),$=Nl(e.placement),z=!$,q=_y(H),Z=Zk(q),Q=e.modifiersData.popperOffsets,S=e.rects.reference,A=e.rects.popper,k=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,O=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Q){if(a){var D,we=q==="y"?Yn:Xn,xe=q==="y"?Ir:Cr,Fe=q==="y"?"height":"width",Ne=Q[q],ne=Ne+N[we],me=Ne-N[xe],ae=C?-A[Fe]/2:0,F=$===la?S[Fe]:A[Fe],ee=$===la?-A[Fe]:-S[Fe],he=e.elements.arrow,ve=C&&he?vy(he):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qS(),Ae=Te[we],qe=Te[xe],Ue=tc(0,S[Fe],ve[Fe]),st=z?S[Fe]/2-ae-Ue-Ae-O.mainAxis:F-Ue-Ae-O.mainAxis,Et=z?-S[Fe]/2+ae+Ue+qe+O.mainAxis:ee+Ue+qe+O.mainAxis,It=e.elements.arrow&&Ac(e.elements.arrow),it=It?q==="y"?It.clientTop||0:It.clientLeft||0:0,kt=(D=L==null?void 0:L[q])!=null?D:0,qt=Ne+st-kt-it,rt=Ne+Et-kt,jt=tc(C?jf(ne,qt):ne,Ne,C?oa(me,rt):me);Q[q]=jt,V[q]=jt-Ne}if(d){var pn,Rr=q==="x"?Yn:Xn,Hn=q==="x"?Ir:Cr,Ft=Q[Z],Jt=Z==="y"?"height":"width",Jn=Ft+N[Rr],Pn=Ft-N[Hn],Dt=[Yn,Xn].indexOf(H)!==-1,on=(pn=L==null?void 0:L[Z])!=null?pn:0,$e=Dt?Jn:Ft-S[Jt]-A[Jt]-on+O.altAxis,mt=Dt?Ft+S[Jt]+A[Jt]-on-O.altAxis:Pn,Ot=C&&Dt?Pk($e,Ft,mt):tc(C?$e:Jn,Ft,C?mt:Pn);Q[Z]=Ot,V[Z]=Ot-Ft}e.modifiersData[r]=V}}const Ry={name:"preventOverflow",enabled:!0,phase:"main",fn:eP,requiresIfExists:["offset"]};function tP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function nP(n){return n===Ar(n)||!jr(n)?Ey(n):tP(n)}function rP(n){var e=n.getBoundingClientRect(),t=Rl(e.width)/n.offsetWidth||1,r=Rl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function iP(n,e,t){t===void 0&&(t=!1);var r=jr(e),s=jr(e)&&rP(e),a=Io(e),l=bl(n,s,t),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((Di(e)!=="body"||Sy(a))&&(d=nP(e)),jr(e)?(h=bl(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=Ty(a))),{x:l.left+d.scrollLeft-h.x,y:l.top+d.scrollTop-h.y,width:l.width,height:l.height}}function sP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function s(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(d){if(!t.has(d)){var h=e.get(d);h&&s(h)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||s(a)}),r}function oP(n){var e=sP(n);return HS.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function aP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function lP(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var TE={placement:"bottom",modifiers:[],strategy:"absolute"};function SE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,a=s===void 0?TE:s;return function(d,h,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},TE,a),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},_=[],T=!1,C={state:g,setOptions:function(H){var $=typeof H=="function"?H(g.options):H;x(),g.options=Object.assign({},a,g.options,$),g.scrollParents={reference:ua(d)?nc(d):d.contextElement?nc(d.contextElement):[],popper:nc(h)};var z=oP(lP([].concat(r,g.options.modifiers)));return g.orderedModifiers=z.filter(function(q){return q.enabled}),P(),C.update()},forceUpdate:function(){if(!T){var H=g.elements,$=H.reference,z=H.popper;if(SE($,z)){g.rects={reference:iP($,Ac(z),g.options.strategy==="fixed"),popper:vy(z)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(O){return g.modifiersData[O.name]=Object.assign({},O.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(g.reset===!0){g.reset=!1,q=-1;continue}var Z=g.orderedModifiers[q],Q=Z.fn,S=Z.options,A=S===void 0?{}:S,k=Z.name;typeof Q=="function"&&(g=Q({state:g,options:A,name:k,instance:C})||g)}}}},update:aP(function(){return new Promise(function(N){C.forceUpdate(),N(g)})}),destroy:function(){x(),T=!0}};if(!SE(d,h))return C;C.setOptions(p).then(function(N){!T&&p.onFirstUpdate&&p.onFirstUpdate(N)});function P(){g.orderedModifiers.forEach(function(N){var H=N.name,$=N.options,z=$===void 0?{}:$,q=N.effect;if(typeof q=="function"){var Z=q({state:g,name:H,instance:C,options:z}),Q=function(){};_.push(Z||Q)}})}function x(){_.forEach(function(N){return N()}),_=[]}return C}}var uP=Rc(),cP=[Th,Sh,Eh,yy],dP=Rc({defaultModifiers:cP}),fP=[Th,Sh,Eh,yy,Ay,Iy,Ry,wy,Cy],by=Rc({defaultModifiers:fP});const XS=Object.freeze(Object.defineProperty({__proto__:null,afterMain:US,afterRead:MS,afterWrite:BS,applyStyles:yy,arrow:wy,auto:_h,basePlacements:Kl,beforeMain:VS,beforeRead:xS,beforeWrite:jS,bottom:Ir,clippingParents:DS,computeStyles:Eh,createPopper:by,createPopperBase:uP,createPopperLite:dP,detectOverflow:kl,end:Al,eventListeners:Th,flip:Iy,hide:Cy,left:Xn,main:$S,modifierPhases:HS,offset:Ay,placements:my,popper:hl,popperGenerator:Rc,popperOffsets:Sh,preventOverflow:Ry,read:LS,reference:OS,right:Cr,start:la,top:Yn,variationPlacements:gg,viewport:py,write:FS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Gs=new Map,Nm={set(n,e,t){Gs.has(n)||Gs.set(n,new Map);const r=Gs.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Gs.has(n)&&Gs.get(n).get(e)||null},remove(n,e){if(!Gs.has(n))return;const t=Gs.get(n);t.delete(e),t.size===0&&Gs.delete(n)}},hP=1e6,pP=1e3,_g="transitionend",JS=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),mP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),gP=n=>{do n+=Math.floor(Math.random()*hP);while(document.getElementById(n));return n},yP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),s=Number.parseFloat(t);return!r&&!s?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*pP)},ZS=n=>{n.dispatchEvent(new Event(_g))},is=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),ho=n=>is(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(JS(n)):null,Gl=n=>{if(!is(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},po=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",eI=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?eI(n.parentNode):null},Ff=()=>{},bc=n=>{n.offsetHeight},tI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,km=[],vP=n=>{document.readyState==="loading"?(km.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of km)e()}),km.push(n)):n()},Br=()=>document.documentElement.dir==="rtl",zr=n=>{vP(()=>{const e=tI();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},hr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,nI=(n,e,t=!0)=>{if(!t){hr(n);return}const s=yP(e)+5;let a=!1;const l=({target:d})=>{d===e&&(a=!0,e.removeEventListener(_g,l),hr(n))};e.addEventListener(_g,l),setTimeout(()=>{a||ZS(e)},s)},Ny=(n,e,t,r)=>{const s=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[s-1]:n[0]:(a+=t?1:-1,r&&(a=(a+s)%s),n[Math.max(0,Math.min(a,s-1))])},_P=/[^.]*(?=\..*)\.|.*/,wP=/\..*/,EP=/::\d+$/,Pm={};let IE=1;const rI={mouseenter:"mouseover",mouseleave:"mouseout"},TP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function iI(n,e){return e&&`${e}::${IE++}`||n.uidEvent||IE++}function sI(n){const e=iI(n);return n.uidEvent=e,Pm[e]=Pm[e]||{},Pm[e]}function SP(n,e){return function t(r){return ky(r,{delegateTarget:n}),t.oneOff&&ue.off(n,r.type,e),e.apply(n,[r])}}function IP(n,e,t){return function r(s){const a=n.querySelectorAll(e);for(let{target:l}=s;l&&l!==this;l=l.parentNode)for(const d of a)if(d===l)return ky(s,{delegateTarget:l}),r.oneOff&&ue.off(n,s.type,e,t),t.apply(l,[s])}}function oI(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function aI(n,e,t){const r=typeof e=="string",s=r?t:e||t;let a=lI(n);return TP.has(a)||(a=n),[r,s,a]}function CE(n,e,t,r,s){if(typeof e!="string"||!n)return;let[a,l,d]=aI(e,t,r);e in rI&&(l=(P=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return P.call(this,x)})(l));const h=sI(n),p=h[d]||(h[d]={}),g=oI(p,l,a?t:null);if(g){g.oneOff=g.oneOff&&s;return}const _=iI(l,e.replace(_P,"")),T=a?IP(n,t,l):SP(n,l);T.delegationSelector=a?t:null,T.callable=l,T.oneOff=s,T.uidEvent=_,p[_]=T,n.addEventListener(d,T,a)}function wg(n,e,t,r,s){const a=oI(e[t],r,s);a&&(n.removeEventListener(t,a,!!s),delete e[t][a.uidEvent])}function CP(n,e,t,r){const s=e[t]||{};for(const[a,l]of Object.entries(s))a.includes(r)&&wg(n,e,t,l.callable,l.delegationSelector)}function lI(n){return n=n.replace(wP,""),rI[n]||n}const ue={on(n,e,t,r){CE(n,e,t,r,!1)},one(n,e,t,r){CE(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[s,a,l]=aI(e,t,r),d=l!==e,h=sI(n),p=h[l]||{},g=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;wg(n,h,l,a,s?t:null);return}if(g)for(const _ of Object.keys(h))CP(n,h,_,e.slice(1));for(const[_,T]of Object.entries(p)){const C=_.replace(EP,"");(!d||e.includes(C))&&wg(n,h,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=tI(),s=lI(e),a=e!==s;let l=null,d=!0,h=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),d=!l.isPropagationStopped(),h=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const g=ky(new Event(e,{bubbles:d,cancelable:!0}),t);return p&&g.preventDefault(),h&&n.dispatchEvent(g),g.defaultPrevented&&l&&l.preventDefault(),g}};function ky(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function AE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Dm(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ss={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Dm(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Dm(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let s=r.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=AE(n.dataset[r])}return e},getDataAttribute(n,e){return AE(n.getAttribute(`data-bs-${Dm(e)}`))}};class Nc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=is(t)?ss.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...is(t)?ss.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,s]of Object.entries(t)){const a=e[r],l=is(a)?"element":mP(a);if(!new RegExp(s).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${s}".`)}}}const AP="5.3.3";class ci extends Nc{constructor(e,t){super(),e=ho(e),e&&(this._element=e,this._config=this._getConfig(t),Nm.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Nm.remove(this._element,this.constructor.DATA_KEY),ue.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){nI(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Nm.get(ho(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return AP}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Om=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>JS(t)).join(","):null},He={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!po(t)&&Gl(t))},getSelectorFromElement(n){const e=Om(n);return e&&He.findOne(e)?e:null},getElementFromSelector(n){const e=Om(n);return e?He.findOne(e):null},getMultipleElementsFromSelector(n){const e=Om(n);return e?He.find(e):[]}},Ih=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ue.on(document,t,`[data-bs-dismiss="${r}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),po(this))return;const a=He.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},RP="alert",bP="bs.alert",uI=`.${bP}`,NP=`close${uI}`,kP=`closed${uI}`,PP="fade",DP="show";let cI=class dI extends ci{static get NAME(){return RP}close(){if(ue.trigger(this._element,NP).defaultPrevented)return;this._element.classList.remove(DP);const t=this._element.classList.contains(PP);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ue.trigger(this._element,kP),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=dI.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Ih(cI,"close");zr(cI);const OP="button",xP="bs.button",LP=`.${xP}`,MP=".data-api",VP="active",RE='[data-bs-toggle="button"]',$P=`click${LP}${MP}`;let fI=class hI extends ci{static get NAME(){return OP}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(VP))}static jQueryInterface(e){return this.each(function(){const t=hI.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};ue.on(document,$P,RE,n=>{n.preventDefault();const e=n.target.closest(RE);fI.getOrCreateInstance(e).toggle()});zr(fI);const UP="swipe",Ql=".bs.swipe",jP=`touchstart${Ql}`,FP=`touchmove${Ql}`,BP=`touchend${Ql}`,HP=`pointerdown${Ql}`,zP=`pointerup${Ql}`,WP="touch",qP="pen",KP="pointer-event",GP=40,QP={endCallback:null,leftCallback:null,rightCallback:null},YP={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Bf extends Nc{constructor(e,t){super(),this._element=e,!(!e||!Bf.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return QP}static get DefaultType(){return YP}static get NAME(){return UP}dispose(){ue.off(this._element,Ql)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),hr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=GP)return;const t=e/this._deltaX;this._deltaX=0,t&&hr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ue.on(this._element,HP,e=>this._start(e)),ue.on(this._element,zP,e=>this._end(e)),this._element.classList.add(KP)):(ue.on(this._element,jP,e=>this._start(e)),ue.on(this._element,FP,e=>this._move(e)),ue.on(this._element,BP,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===qP||e.pointerType===WP)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const XP="carousel",JP="bs.carousel",Co=`.${JP}`,pI=".data-api",ZP="ArrowLeft",eD="ArrowRight",tD=500,Uu="next",al="prev",pl="left",Af="right",nD=`slide${Co}`,xm=`slid${Co}`,rD=`keydown${Co}`,iD=`mouseenter${Co}`,sD=`mouseleave${Co}`,oD=`dragstart${Co}`,aD=`load${Co}${pI}`,lD=`click${Co}${pI}`,mI="carousel",af="active",uD="slide",cD="carousel-item-end",dD="carousel-item-start",fD="carousel-item-next",hD="carousel-item-prev",gI=".active",yI=".carousel-item",pD=gI+yI,mD=".carousel-item img",gD=".carousel-indicators",yD="[data-bs-slide], [data-bs-slide-to]",vD='[data-bs-ride="carousel"]',_D={[ZP]:Af,[eD]:pl},wD={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ED={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Py=class vI extends ci{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=He.findOne(gD,this._element),this._addEventListeners(),this._config.ride===mI&&this.cycle()}static get Default(){return wD}static get DefaultType(){return ED}static get NAME(){return XP}next(){this._slide(Uu)}nextWhenVisible(){!document.hidden&&Gl(this._element)&&this.next()}prev(){this._slide(al)}pause(){this._isSliding&&ZS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ue.one(this._element,xm,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ue.one(this._element,xm,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const s=e>r?Uu:al;this._slide(s,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ue.on(this._element,rD,e=>this._keydown(e)),this._config.pause==="hover"&&(ue.on(this._element,iD,()=>this.pause()),ue.on(this._element,sD,()=>this._maybeEnableCycle())),this._config.touch&&Bf.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of He.find(mD,this._element))ue.on(r,oD,s=>s.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(pl)),rightCallback:()=>this._slide(this._directionToOrder(Af)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),tD+this._config.interval))}};this._swipeHelper=new Bf(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=_D[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=He.findOne(gI,this._indicatorsElement);t.classList.remove(af),t.removeAttribute("aria-current");const r=He.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(af),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),s=e===Uu,a=t||Ny(this._getItems(),r,s,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),d=C=>ue.trigger(this._element,C,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(d(nD).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const g=s?dD:cD,_=s?fD:hD;a.classList.add(_),bc(a),r.classList.add(g),a.classList.add(g);const T=()=>{a.classList.remove(g,_),a.classList.add(af),r.classList.remove(af,_,g),this._isSliding=!1,d(xm)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(uD)}_getActive(){return He.findOne(pD,this._element)}_getItems(){return He.find(yI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Br()?e===pl?al:Uu:e===pl?Uu:al}_orderToDirection(e){return Br()?e===al?pl:Af:e===al?Af:pl}static jQueryInterface(e){return this.each(function(){const t=vI.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ue.on(document,lD,yD,function(n){const e=He.getElementFromSelector(this);if(!e||!e.classList.contains(mI))return;n.preventDefault();const t=Py.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(ss.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ue.on(window,aD,()=>{const n=He.find(vD);for(const e of n)Py.getOrCreateInstance(e)});zr(Py);const TD="collapse",SD="bs.collapse",kc=`.${SD}`,ID=".data-api",CD=`show${kc}`,AD=`shown${kc}`,RD=`hide${kc}`,bD=`hidden${kc}`,ND=`click${kc}${ID}`,Lm="show",wl="collapse",lf="collapsing",kD="collapsed",PD=`:scope .${wl} .${wl}`,DD="collapse-horizontal",OD="width",xD="height",LD=".collapse.show, .collapse.collapsing",Eg='[data-bs-toggle="collapse"]',MD={parent:null,toggle:!0},VD={parent:"(null|element)",toggle:"boolean"};let _I=class Tg extends ci{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=He.find(Eg);for(const s of r){const a=He.getSelectorFromElement(s),l=He.find(a).filter(d=>d===this._element);a!==null&&l.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return MD}static get DefaultType(){return VD}static get NAME(){return TD}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(LD).filter(d=>d!==this._element).map(d=>Tg.getOrCreateInstance(d,{toggle:!1}))),e.length&&e[0]._isTransitioning||ue.trigger(this._element,CD).defaultPrevented)return;for(const d of e)d.hide();const r=this._getDimension();this._element.classList.remove(wl),this._element.classList.add(lf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(lf),this._element.classList.add(wl,Lm),this._element.style[r]="",ue.trigger(this._element,AD)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ue.trigger(this._element,RD).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,bc(this._element),this._element.classList.add(lf),this._element.classList.remove(wl,Lm);for(const s of this._triggerArray){const a=He.getElementFromSelector(s);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(lf),this._element.classList.add(wl),ue.trigger(this._element,bD)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Lm)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ho(e.parent),e}_getDimension(){return this._element.classList.contains(DD)?OD:xD}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Eg);for(const t of e){const r=He.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=He.find(PD,this._config.parent);return He.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(kD,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Tg.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};ue.on(document,ND,Eg,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of He.getMultipleElementsFromSelector(this))_I.getOrCreateInstance(e,{toggle:!1}).toggle()});zr(_I);const bE="dropdown",$D="bs.dropdown",ya=`.${$D}`,Dy=".data-api",UD="Escape",NE="Tab",jD="ArrowUp",kE="ArrowDown",FD=2,BD=`hide${ya}`,HD=`hidden${ya}`,zD=`show${ya}`,WD=`shown${ya}`,wI=`click${ya}${Dy}`,EI=`keydown${ya}${Dy}`,qD=`keyup${ya}${Dy}`,ml="show",KD="dropup",GD="dropend",QD="dropstart",YD="dropup-center",XD="dropdown-center",Zo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',JD=`${Zo}.${ml}`,Rf=".dropdown-menu",ZD=".navbar",e1=".navbar-nav",t1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",n1=Br()?"top-end":"top-start",r1=Br()?"top-start":"top-end",i1=Br()?"bottom-end":"bottom-start",s1=Br()?"bottom-start":"bottom-end",o1=Br()?"left-start":"right-start",a1=Br()?"right-start":"left-start",l1="top",u1="bottom",c1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},d1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let Yl=class bf extends ci{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=He.next(this._element,Rf)[0]||He.prev(this._element,Rf)[0]||He.findOne(Rf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return c1}static get DefaultType(){return d1}static get NAME(){return bE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(po(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ue.trigger(this._element,zD,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(e1))for(const r of[].concat(...document.body.children))ue.on(r,"mouseover",Ff);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ml),this._element.classList.add(ml),ue.trigger(this._element,WD,e)}}hide(){if(po(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ue.trigger(this._element,BD,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ue.off(r,"mouseover",Ff);this._popper&&this._popper.destroy(),this._menu.classList.remove(ml),this._element.classList.remove(ml),this._element.setAttribute("aria-expanded","false"),ss.removeDataAttribute(this._menu,"popper"),ue.trigger(this._element,HD,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!is(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${bE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof XS>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:is(this._config.reference)?e=ho(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=by(e,this._menu,t)}_isShown(){return this._menu.classList.contains(ml)}_getPlacement(){const e=this._parent;if(e.classList.contains(GD))return o1;if(e.classList.contains(QD))return a1;if(e.classList.contains(YD))return l1;if(e.classList.contains(XD))return u1;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(KD)?t?r1:n1:t?s1:i1}_detectNavbar(){return this._element.closest(ZD)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ss.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...hr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=He.find(t1,this._menu).filter(s=>Gl(s));r.length&&Ny(r,t,e===kE,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=bf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===FD||e.type==="keyup"&&e.key!==NE)return;const t=He.find(JD);for(const r of t){const s=bf.getInstance(r);if(!s||s._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(s._menu);if(a.includes(s._element)||s._config.autoClose==="inside"&&!l||s._config.autoClose==="outside"&&l||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===NE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const d={relatedTarget:s._element};e.type==="click"&&(d.clickEvent=e),s._completeHide(d)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===UD,s=[jD,kE].includes(e.key);if(!s&&!r||t&&!r)return;e.preventDefault();const a=this.matches(Zo)?this:He.prev(this,Zo)[0]||He.next(this,Zo)[0]||He.findOne(Zo,e.delegateTarget.parentNode),l=bf.getOrCreateInstance(a);if(s){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};ue.on(document,EI,Zo,Yl.dataApiKeydownHandler);ue.on(document,EI,Rf,Yl.dataApiKeydownHandler);ue.on(document,wI,Yl.clearMenus);ue.on(document,qD,Yl.clearMenus);ue.on(document,wI,Zo,function(n){n.preventDefault(),Yl.getOrCreateInstance(this).toggle()});zr(Yl);const TI="backdrop",f1="fade",PE="show",DE=`mousedown.bs.${TI}`,h1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},p1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class SI extends Nc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return h1}static get DefaultType(){return p1}static get NAME(){return TI}show(e){if(!this._config.isVisible){hr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&bc(t),t.classList.add(PE),this._emulateAnimation(()=>{hr(e)})}hide(e){if(!this._config.isVisible){hr(e);return}this._getElement().classList.remove(PE),this._emulateAnimation(()=>{this.dispose(),hr(e)})}dispose(){this._isAppended&&(ue.off(this._element,DE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(f1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ho(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ue.on(e,DE,()=>{hr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){nI(e,this._getElement(),this._config.isAnimated)}}const m1="focustrap",g1="bs.focustrap",Hf=`.${g1}`,y1=`focusin${Hf}`,v1=`keydown.tab${Hf}`,_1="Tab",w1="forward",OE="backward",E1={autofocus:!0,trapElement:null},T1={autofocus:"boolean",trapElement:"element"};class II extends Nc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return E1}static get DefaultType(){return T1}static get NAME(){return m1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ue.off(document,Hf),ue.on(document,y1,e=>this._handleFocusin(e)),ue.on(document,v1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ue.off(document,Hf))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=He.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===OE?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===_1&&(this._lastTabNavDirection=e.shiftKey?OE:w1)}}const xE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",LE=".sticky-top",uf="padding-right",ME="margin-right";class Sg{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,uf,t=>t+e),this._setElementAttributes(xE,uf,t=>t+e),this._setElementAttributes(LE,ME,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,uf),this._resetElementAttributes(xE,uf),this._resetElementAttributes(LE,ME)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const s=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+s)return;this._saveInitialAttribute(l,t);const d=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(d))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&ss.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=s=>{const a=ss.getDataAttribute(s,t);if(a===null){s.style.removeProperty(t);return}ss.removeDataAttribute(s,t),s.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(is(e)){t(e);return}for(const r of He.find(e,this._element))t(r)}}const S1="modal",I1="bs.modal",Hr=`.${I1}`,C1=".data-api",A1="Escape",R1=`hide${Hr}`,b1=`hidePrevented${Hr}`,CI=`hidden${Hr}`,AI=`show${Hr}`,N1=`shown${Hr}`,k1=`resize${Hr}`,P1=`click.dismiss${Hr}`,D1=`mousedown.dismiss${Hr}`,O1=`keydown.dismiss${Hr}`,x1=`click${Hr}${C1}`,VE="modal-open",L1="fade",$E="show",Mm="modal-static",M1=".modal.show",V1=".modal-dialog",$1=".modal-body",U1='[data-bs-toggle="modal"]',j1={backdrop:!0,focus:!0,keyboard:!0},F1={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let zf=class RI extends ci{constructor(e,t){super(e,t),this._dialog=He.findOne(V1,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Sg,this._addEventListeners()}static get Default(){return j1}static get DefaultType(){return F1}static get NAME(){return S1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ue.trigger(this._element,AI,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(VE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ue.trigger(this._element,R1).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($E),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ue.off(window,Hr),ue.off(this._dialog,Hr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new SI({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new II({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=He.findOne($1,this._dialog);t&&(t.scrollTop=0),bc(this._element),this._element.classList.add($E);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ue.trigger(this._element,N1,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ue.on(this._element,O1,e=>{if(e.key===A1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ue.on(window,k1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ue.on(this._element,D1,e=>{ue.one(this._element,P1,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(VE),this._resetAdjustments(),this._scrollBar.reset(),ue.trigger(this._element,CI)})}_isAnimated(){return this._element.classList.contains(L1)}_triggerBackdropTransition(){if(ue.trigger(this._element,b1).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Mm)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Mm),this._queueCallback(()=>{this._element.classList.remove(Mm),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const s=Br()?"paddingLeft":"paddingRight";this._element.style[s]=`${t}px`}if(!r&&e){const s=Br()?"paddingRight":"paddingLeft";this._element.style[s]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=RI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};ue.on(document,x1,U1,function(n){const e=He.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ue.one(e,AI,s=>{s.defaultPrevented||ue.one(e,CI,()=>{Gl(this)&&this.focus()})});const t=He.findOne(M1);t&&zf.getInstance(t).hide(),zf.getOrCreateInstance(e).toggle(this)});Ih(zf);zr(zf);const B1="offcanvas",H1="bs.offcanvas",vs=`.${H1}`,bI=".data-api",z1=`load${vs}${bI}`,W1="Escape",UE="show",jE="showing",FE="hiding",q1="offcanvas-backdrop",NI=".offcanvas.show",K1=`show${vs}`,G1=`shown${vs}`,Q1=`hide${vs}`,BE=`hidePrevented${vs}`,kI=`hidden${vs}`,Y1=`resize${vs}`,X1=`click${vs}${bI}`,J1=`keydown.dismiss${vs}`,Z1='[data-bs-toggle="offcanvas"]',eO={backdrop:!0,keyboard:!0,scroll:!1},tO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Pl=class PI extends ci{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return eO}static get DefaultType(){return tO}static get NAME(){return B1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ue.trigger(this._element,K1,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Sg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jE);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(UE),this._element.classList.remove(jE),ue.trigger(this._element,G1,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ue.trigger(this._element,Q1).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(FE),this._backdrop.hide();const t=()=>{this._element.classList.remove(UE,FE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Sg().reset(),ue.trigger(this._element,kI)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ue.trigger(this._element,BE);return}this.hide()},t=!!this._config.backdrop;return new SI({className:q1,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new II({trapElement:this._element})}_addEventListeners(){ue.on(this._element,J1,e=>{if(e.key===W1){if(this._config.keyboard){this.hide();return}ue.trigger(this._element,BE)}})}static jQueryInterface(e){return this.each(function(){const t=PI.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ue.on(document,X1,Z1,function(n){const e=He.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),po(this))return;ue.one(e,kI,()=>{Gl(this)&&this.focus()});const t=He.findOne(NI);t&&t!==e&&Pl.getInstance(t).hide(),Pl.getOrCreateInstance(e).toggle(this)});ue.on(window,z1,()=>{for(const n of He.find(NI))Pl.getOrCreateInstance(n).show()});ue.on(window,Y1,()=>{for(const n of He.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Pl.getOrCreateInstance(n).hide()});Ih(Pl);zr(Pl);const nO=/^aria-[\w-]*$/i,DI={"*":["class","dir","id","lang","role",nO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},rO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),iO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,sO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?rO.has(t)?!!iO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function oO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const s=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...s.body.querySelectorAll("*"));for(const l of a){const d=l.nodeName.toLowerCase();if(!Object.keys(e).includes(d)){l.remove();continue}const h=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[d]||[]);for(const g of h)sO(g,p)||l.removeAttribute(g.nodeName)}return s.body.innerHTML}const aO="TemplateFactory",lO={allowList:DI,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},uO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},cO={entry:"(string|element|function|null)",selector:"(string|element)"};class dO extends Nc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return lO}static get DefaultType(){return uO}static get NAME(){return aO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,a]of Object.entries(this._config.content))this._setContent(e,a,s);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},cO)}_setContent(e,t,r){const s=He.findOne(r,e);if(s){if(t=this._resolvePossibleFunction(t),!t){s.remove();return}if(is(t)){this._putElementInTemplate(ho(t),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(t);return}s.textContent=t}}_maybeSanitize(e){return this._config.sanitize?oO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return hr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const fO="tooltip",hO=new Set(["sanitize","allowList","sanitizeFn"]),Vm="fade",pO="modal",cf="show",mO=".tooltip-inner",HE=`.${pO}`,zE="hide.bs.modal",ju="hover",$m="focus",gO="click",yO="manual",vO="hide",_O="hidden",wO="show",EO="shown",TO="inserted",SO="click",IO="focusin",CO="focusout",AO="mouseenter",RO="mouseleave",bO={AUTO:"auto",TOP:"top",RIGHT:Br()?"left":"right",BOTTOM:"bottom",LEFT:Br()?"right":"left"},NO={allowList:DI,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},kO={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Ch=class OI extends ci{constructor(e,t){if(typeof XS>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return NO}static get DefaultType(){return kO}static get NAME(){return fO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ue.off(this._element.closest(HE),zE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ue.trigger(this._element,this.constructor.eventName(wO)),r=(eI(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(s),ue.trigger(this._element,this.constructor.eventName(TO))),this._popper=this._createPopper(s),s.classList.add(cf),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))ue.on(d,"mouseover",Ff);const l=()=>{ue.trigger(this._element,this.constructor.eventName(EO)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ue.trigger(this._element,this.constructor.eventName(vO)).defaultPrevented)return;if(this._getTipElement().classList.remove(cf),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))ue.off(s,"mouseover",Ff);this._activeTrigger[gO]=!1,this._activeTrigger[$m]=!1,this._activeTrigger[ju]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ue.trigger(this._element,this.constructor.eventName(_O)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Vm,cf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=gP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Vm),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new dO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[mO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Vm)}_isShown(){return this.tip&&this.tip.classList.contains(cf)}_createPopper(e){const t=hr(this._config.placement,[this,e,this._element]),r=bO[t.toUpperCase()];return by(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return hr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...hr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ue.on(this._element,this.constructor.eventName(SO),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==yO){const r=t===ju?this.constructor.eventName(AO):this.constructor.eventName(IO),s=t===ju?this.constructor.eventName(RO):this.constructor.eventName(CO);ue.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?$m:ju]=!0,l._enter()}),ue.on(this._element,s,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?$m:ju]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ue.on(this._element.closest(HE),zE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ss.getDataAttributes(this._element);for(const r of Object.keys(t))hO.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ho(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=OI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};zr(Ch);const PO="popover",DO=".popover-header",OO=".popover-body",xO={...Ch.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},LO={...Ch.DefaultType,content:"(null|string|element|function)"};let MO=class xI extends Ch{static get Default(){return xO}static get DefaultType(){return LO}static get NAME(){return PO}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[DO]:this._getTitle(),[OO]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=xI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};zr(MO);const VO="scrollspy",$O="bs.scrollspy",Oy=`.${$O}`,UO=".data-api",jO=`activate${Oy}`,WE=`click${Oy}`,FO=`load${Oy}${UO}`,BO="dropdown-item",ll="active",HO='[data-bs-spy="scroll"]',Um="[href]",zO=".nav, .list-group",qE=".nav-link",WO=".nav-item",qO=".list-group-item",KO=`${qE}, ${WO} > ${qE}, ${qO}`,GO=".dropdown",QO=".dropdown-toggle",YO={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},XO={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ah extends ci{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return YO}static get DefaultType(){return XO}static get NAME(){return VO}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ho(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ue.off(this._config.target,WE),ue.on(this._config.target,WE,Um,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,s=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:s,behavior:"smooth"});return}r.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},s=(this._rootElement||document.documentElement).scrollTop,a=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const d=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&d){if(r(l),!s)return;continue}!a&&!d&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=He.find(Um,this._config.target);for(const t of e){if(!t.hash||po(t))continue;const r=He.findOne(decodeURI(t.hash),this._element);Gl(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ll),this._activateParents(e),ue.trigger(this._element,jO,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(BO)){He.findOne(QO,e.closest(GO)).classList.add(ll);return}for(const t of He.parents(e,zO))for(const r of He.prev(t,KO))r.classList.add(ll)}_clearActiveClass(e){e.classList.remove(ll);const t=He.find(`${Um}.${ll}`,e);for(const r of t)r.classList.remove(ll)}static jQueryInterface(e){return this.each(function(){const t=Ah.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ue.on(window,FO,()=>{for(const n of He.find(HO))Ah.getOrCreateInstance(n)});zr(Ah);const JO="tab",ZO="bs.tab",va=`.${ZO}`,ex=`hide${va}`,tx=`hidden${va}`,nx=`show${va}`,rx=`shown${va}`,ix=`click${va}`,sx=`keydown${va}`,ox=`load${va}`,ax="ArrowLeft",KE="ArrowRight",lx="ArrowUp",GE="ArrowDown",jm="Home",QE="End",ea="active",YE="fade",Fm="show",ux="dropdown",LI=".dropdown-toggle",cx=".dropdown-menu",Bm=`:not(${LI})`,dx='.list-group, .nav, [role="tablist"]',fx=".nav-item, .list-group-item",hx=`.nav-link${Bm}, .list-group-item${Bm}, [role="tab"]${Bm}`,MI='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Hm=`${hx}, ${MI}`,px=`.${ea}[data-bs-toggle="tab"], .${ea}[data-bs-toggle="pill"], .${ea}[data-bs-toggle="list"]`;class Dl extends ci{constructor(e){super(e),this._parent=this._element.closest(dx),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ue.on(this._element,sx,t=>this._keydown(t)))}static get NAME(){return JO}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ue.trigger(t,ex,{relatedTarget:e}):null;ue.trigger(e,nx,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ea),this._activate(He.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Fm);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ue.trigger(e,rx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(YE))}_deactivate(e,t){if(!e)return;e.classList.remove(ea),e.blur(),this._deactivate(He.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Fm);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ue.trigger(e,tx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(YE))}_keydown(e){if(![ax,KE,lx,GE,jm,QE].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(s=>!po(s));let r;if([jm,QE].includes(e.key))r=t[e.key===jm?0:t.length-1];else{const s=[KE,GE].includes(e.key);r=Ny(t,e.target,s,!0)}r&&(r.focus({preventScroll:!0}),Dl.getOrCreateInstance(r).show())}_getChildren(){return He.find(Hm,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=He.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(ux))return;const s=(a,l)=>{const d=He.findOne(a,r);d&&d.classList.toggle(l,t)};s(LI,ea),s(cx,Fm),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ea)}_getInnerElement(e){return e.matches(Hm)?e:He.findOne(Hm,e)}_getOuterElement(e){return e.closest(fx)||e}static jQueryInterface(e){return this.each(function(){const t=Dl.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ue.on(document,ix,MI,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!po(this)&&Dl.getOrCreateInstance(this).show()});ue.on(window,ox,()=>{for(const n of He.find(px))Dl.getOrCreateInstance(n)});zr(Dl);const mx="toast",gx="bs.toast",Ao=`.${gx}`,yx=`mouseover${Ao}`,vx=`mouseout${Ao}`,_x=`focusin${Ao}`,wx=`focusout${Ao}`,Ex=`hide${Ao}`,Tx=`hidden${Ao}`,Sx=`show${Ao}`,Ix=`shown${Ao}`,Cx="fade",XE="hide",df="show",ff="showing",Ax={animation:"boolean",autohide:"boolean",delay:"number"},Rx={animation:!0,autohide:!0,delay:5e3};class Rh extends ci{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Rx}static get DefaultType(){return Ax}static get NAME(){return mx}show(){if(ue.trigger(this._element,Sx).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Cx);const t=()=>{this._element.classList.remove(ff),ue.trigger(this._element,Ix),this._maybeScheduleHide()};this._element.classList.remove(XE),bc(this._element),this._element.classList.add(df,ff),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ue.trigger(this._element,Ex).defaultPrevented)return;const t=()=>{this._element.classList.add(XE),this._element.classList.remove(ff,df),ue.trigger(this._element,Tx)};this._element.classList.add(ff),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(df),super.dispose()}isShown(){return this._element.classList.contains(df)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ue.on(this._element,yx,e=>this._onInteraction(e,!0)),ue.on(this._element,vx,e=>this._onInteraction(e,!1)),ue.on(this._element,_x,e=>this._onInteraction(e,!0)),ue.on(this._element,wx,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Rh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Ih(Rh);zr(Rh);var zm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var JE;function bx(){return JE||(JE=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var d=arguments[l];d&&(a=s(a,r(d)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var d in a)e.call(a,d)&&a[d]&&(l=s(l,d));return l}function s(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(zm)),zm.exports}var Nx=bx();const ye=Cc(Nx);function Ig(){return Ig=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ig.apply(null,arguments)}function VI(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function ZE(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function kx(n){var e=Px(n,"string");return typeof e=="symbol"?e:String(e)}function Px(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function $I(n,e,t){var r=w.useRef(n!==void 0),s=w.useState(e),a=s[0],l=s[1],d=n!==void 0,h=r.current;return r.current=d,!d&&h&&a!==e&&l(e),[d?n:a,w.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function Xl(n,e){return Object.keys(e).reduce(function(t,r){var s,a=t,l=a[ZE(r)],d=a[r],h=VI(a,[ZE(r),r].map(kx)),p=e[r],g=$I(d,l,n[p]),_=g[0],T=g[1];return Ig({},h,(s={},s[r]=_,s[p]=T,s))},n)}function Cg(n,e){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Cg(n,e)}function Dx(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Cg(n,e)}var Wm={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function Ox(){if(e0)return Fu;e0=1;var n=hy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var g,_={},T=null,C=null;p!==void 0&&(T=""+p),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(C=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(_[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:d,key:T,ref:C,props:_,_owner:s.current}}return Fu.Fragment=t,Fu.jsx=l,Fu.jsxs=l,Fu}var t0;function xx(){return t0||(t0=1,Wm.exports=Ox()),Wm.exports}var xy=xx();const R=xy.jsx,pe=xy.jsxs,sn=xy.Fragment,Lx=["xxl","xl","lg","md","sm","xs"],Mx="xs",Pc=w.createContext({prefixes:{},breakpoints:Lx,minBreakpoint:Mx}),{Consumer:k3,Provider:P3}=Pc;function Se(n,e){const{prefixes:t}=w.useContext(Pc);return n||t[e]||e}function UI(){const{breakpoints:n}=w.useContext(Pc);return n}function jI(){const{minBreakpoint:n}=w.useContext(Pc);return n}function Dc(){const{dir:n}=w.useContext(Pc);return n==="rtl"}function Jl(n){return n&&n.ownerDocument||document}function Vx(n){var e=Jl(n);return e&&e.defaultView||window}function $x(n,e){return Vx(n).getComputedStyle(n,e)}var Ux=/([A-Z])/g;function jx(n){return n.replace(Ux,"-$1").toLowerCase()}var Fx=/^ms-/;function hf(n){return jx(n).replace(Fx,"-ms-")}var Bx=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Hx(n){return!!(n&&Bx.test(n))}function os(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(hf(e))||$x(n).getPropertyValue(hf(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?n.style.removeProperty(hf(s)):Hx(s)?r+=s+"("+a+") ":t+=hf(s)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var qm={exports:{}},Km,n0;function zx(){if(n0)return Km;n0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Km=n,Km}var Gm,r0;function Wx(){if(r0)return Gm;r0=1;var n=zx();function e(){}function t(){}return t.resetWarningCache=e,Gm=function(){function r(l,d,h,p,g,_){if(_!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Gm}var i0;function qx(){return i0||(i0=1,qm.exports=Wx()()),qm.exports}var Kx=qx();const Qn=Cc(Kx);var FI=PS();const no=Cc(FI),Gx=kS({__proto__:null,default:no},[FI]),s0={disabled:!1},BI=dn.createContext(null);var Qx=function(e){return e.scrollTop},Gu="unmounted",Xs="exited",si="entering",Ji="entered",uc="exiting",_s=function(n){Dx(e,n);function e(r,s){var a;a=n.call(this,r,s)||this;var l=s,d=l&&!l.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?d?(h=Xs,a.appearStatus=si):h=Ji:r.unmountOnExit||r.mountOnEnter?h=Gu:h=Xs,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===Gu?{status:Xs}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==si&&l!==Ji&&(a=si):(l===si||l===Ji)&&(a=uc)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,a,l,d;return a=l=d=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,d=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:d}},t.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===si){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:no.findDOMNode(this);l&&Qx(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xs&&this.setState({status:Gu})},t.performEnter=function(s){var a=this,l=this.props.enter,d=this.context?this.context.isMounting:s,h=this.props.nodeRef?[d]:[no.findDOMNode(this),d],p=h[0],g=h[1],_=this.getTimeouts(),T=d?_.appear:_.enter;if(!s&&!l||s0.disabled){this.safeSetState({status:Ji},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:si},function(){a.props.onEntering(p,g),a.onTransitionEnd(T,function(){a.safeSetState({status:Ji},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),d=this.props.nodeRef?void 0:no.findDOMNode(this);if(!a||s0.disabled){this.safeSetState({status:Xs},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:uc},function(){s.props.onExiting(d),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:Xs},function(){s.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},t.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(d){l&&(l=!1,a.nextCallback=null,s(d))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:no.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!l||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=h[0],g=h[1];this.props.addEndListener(p,g)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===Gu)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var d=VI(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return dn.createElement(BI.Provider,{value:null},typeof l=="function"?l(s,d):dn.cloneElement(dn.Children.only(l),d))},e}(dn.Component);_s.contextType=BI;_s.propTypes={};function ul(){}_s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ul,onEntering:ul,onEntered:ul,onExit:ul,onExiting:ul,onExited:ul};_s.UNMOUNTED=Gu;_s.EXITED=Xs;_s.ENTERING=si;_s.ENTERED=Ji;_s.EXITING=uc;function HI(n){return n.code==="Escape"||n.keyCode===27}function Yx(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function _a(n){if(!n||typeof n=="function")return null;const{major:e}=Yx();return e>=19?n.props.ref:n.ref}const Zl=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ag=!1,Rg=!1;try{var Qm={get passive(){return Ag=!0},get once(){return Rg=Ag=!0}};Zl&&(window.addEventListener("test",Qm,Qm),window.removeEventListener("test",Qm,!0))}catch{}function Ly(n,e,t,r){if(r&&typeof r!="boolean"&&!Rg){var s=r.once,a=r.capture,l=t;!Rg&&s&&(l=t.__once||function d(h){this.removeEventListener(e,d,a),t.call(this,h)},t.__once=l),n.addEventListener(e,l,Ag?r:a)}n.addEventListener(e,t,r)}function bg(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function es(n,e,t,r){return Ly(n,e,t,r),function(){bg(n,e,t,r)}}function Xx(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function Jx(n){var e=os(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Zx(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||Xx(n,"transitionend",!0)},e+t),a=es(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function zI(n,e,t,r){t==null&&(t=Jx(n)||0);var s=Zx(n,t,r),a=es(n,"transitionend",e);return function(){s(),a()}}function o0(n,e){const t=os(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function bh(n,e){const t=o0(n,"transitionDuration"),r=o0(n,"transitionDelay"),s=zI(n,a=>{a.target===n&&(s(),e(a))},t+r)}function Bu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function My(n){n.offsetHeight}const a0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function eL(n,e){const t=a0(n),r=a0(e);return s=>{t&&t(s),r&&r(s)}}function eu(n,e){return w.useMemo(()=>eL(n,e),[n,e])}function Wf(n){return n&&"setState"in n?no.findDOMNode(n):n??null}const Nh=dn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:a,addEndListener:l,children:d,childRef:h,...p},g)=>{const _=w.useRef(null),T=eu(_,h),C=Q=>{T(Wf(Q))},P=Q=>S=>{Q&&_.current&&Q(_.current,S)},x=w.useCallback(P(n),[n]),N=w.useCallback(P(e),[e]),H=w.useCallback(P(t),[t]),$=w.useCallback(P(r),[r]),z=w.useCallback(P(s),[s]),q=w.useCallback(P(a),[a]),Z=w.useCallback(P(l),[l]);return R(_s,{ref:g,...p,onEnter:x,onEntered:H,onEntering:N,onExit:$,onExited:q,onExiting:z,addEndListener:Z,nodeRef:_,children:typeof d=="function"?(Q,S)=>d(Q,{...S,ref:C}):dn.cloneElement(d,{ref:C})})}),tL={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function nL(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],s=tL[n];return r+parseInt(os(e,s[0]),10)+parseInt(os(e,s[1]),10)}const rL={[Xs]:"collapse",[uc]:"collapsing",[si]:"collapsing",[Ji]:"collapse show"},WI=dn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,className:a,children:l,dimension:d="height",in:h=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:T=!1,getDimensionValue:C=nL,...P},x)=>{const N=typeof d=="function"?d():d,H=w.useMemo(()=>Bu(Q=>{Q.style[N]="0"},n),[N,n]),$=w.useMemo(()=>Bu(Q=>{const S=`scroll${N[0].toUpperCase()}${N.slice(1)}`;Q.style[N]=`${Q[S]}px`},e),[N,e]),z=w.useMemo(()=>Bu(Q=>{Q.style[N]=null},t),[N,t]),q=w.useMemo(()=>Bu(Q=>{Q.style[N]=`${C(N,Q)}px`,My(Q)},r),[r,C,N]),Z=w.useMemo(()=>Bu(Q=>{Q.style[N]=null},s),[N,s]);return R(Nh,{ref:x,addEndListener:bh,...P,"aria-expanded":P.role?h:null,onEnter:H,onEntering:$,onEntered:z,onExit:q,onExiting:Z,childRef:_a(l),in:h,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:T,children:(Q,S)=>dn.cloneElement(l,{...S,className:ye(a,l.props.className,rL[Q],N==="width"&&"collapse-horizontal")})})});function qI(n,e){return Array.isArray(n)?n.includes(e):n===e}const Oc=w.createContext({});Oc.displayName="AccordionContext";const Vy=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:s,...a},l)=>{const{activeEventKey:d}=w.useContext(Oc);return e=Se(e,"accordion-collapse"),R(WI,{ref:l,in:qI(d,s),...a,className:ye(t,e),children:R(n,{children:w.Children.only(r)})})});Vy.displayName="AccordionCollapse";const kh=w.createContext({eventKey:""});kh.displayName="AccordionItemContext";const KI=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:s,onEntered:a,onExit:l,onExiting:d,onExited:h,...p},g)=>{e=Se(e,"accordion-body");const{eventKey:_}=w.useContext(kh);return R(Vy,{eventKey:_,onEnter:r,onEntering:s,onEntered:a,onExit:l,onExiting:d,onExited:h,children:R(n,{ref:g,...p,className:ye(t,e)})})});KI.displayName="AccordionBody";function iL(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:s}=w.useContext(Oc);return a=>{let l=n===t?null:n;s&&(Array.isArray(t)?t.includes(n)?l=t.filter(d=>d!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const $y=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...s},a)=>{e=Se(e,"accordion-button");const{eventKey:l}=w.useContext(kh),d=iL(l,r),{activeEventKey:h}=w.useContext(Oc);return n==="button"&&(s.type="button"),R(n,{ref:a,onClick:d,...s,"aria-expanded":Array.isArray(h)?h.includes(l):l===h,className:ye(t,e,!qI(h,l)&&"collapsed")})});$y.displayName="AccordionButton";const GI=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:s,onClick:a,...l},d)=>(t=Se(t,"accordion-header"),R(n,{ref:d,...l,className:ye(r,t),children:R($y,{onClick:a,"aria-controls":e,children:s})})));GI.displayName="AccordionHeader";const QI=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...s},a)=>{e=Se(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return R(kh.Provider,{value:l,children:R(n,{ref:a,...s,className:ye(t,e)})})});QI.displayName="AccordionItem";const YI=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:s,className:a,onSelect:l,flush:d,alwaysOpen:h,...p}=Xl(n,{activeKey:"onSelect"}),g=Se(s,"accordion"),_=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:h}),[r,l,h]);return R(Oc.Provider,{value:_,children:R(t,{ref:e,...p,className:ye(a,g,d&&`${g}-flush`)})})});YI.displayName="Accordion";const ro=Object.assign(YI,{Button:$y,Collapse:Vy,Item:QI,Header:GI,Body:KI});function XI(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function ui(n){const e=XI(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const xc=n=>w.forwardRef((e,t)=>R("div",{...e,ref:t,className:ye(e.className,n)})),JI=xc("h4");JI.displayName="DivStyledAsH4";const ZI=w.forwardRef(({className:n,bsPrefix:e,as:t=JI,...r},s)=>(e=Se(e,"alert-heading"),R(t,{ref:s,className:ye(n,e),...r})));ZI.displayName="AlertHeading";function Ng(){return w.useState(null)}function sL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function bn(n){const e=sL(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function oL(n,e,t,r=!1){const s=bn(t);w.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,s,r),()=>a.removeEventListener(e,s,r)},[n])}function eC(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function tC(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const aL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",lL=typeof document<"u",l0=lL||aL?w.useLayoutEffect:w.useEffect,uL=["as","disabled"];function cL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function dL(n){return!n||n.trim()==="#"}function Uy({tagName:n,disabled:e,href:t,target:r,rel:s,role:a,onClick:l,tabIndex:d=0,type:h}){n||(t!=null||r!=null||s!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&dL(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:g,onKeyDown:_},p]}const jy=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=cL(n,uL);const[a,{tagName:l}]=Uy(Object.assign({tagName:t,disabled:r},s));return R(l,Object.assign({},s,a,{ref:e}))});jy.displayName="Button";const fL=["onKeyDown"];function hL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function pL(n){return!n||n.trim()==="#"}const Ol=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=hL(n,fL);const[s]=Uy(Object.assign({tagName:"a"},r)),a=bn(l=>{s.onKeyDown(l),t==null||t(l)});return pL(r.href)||r.role==="button"?R("a",Object.assign({ref:e},r,s,{onKeyDown:a})):R("a",Object.assign({ref:e},r,{onKeyDown:t}))});Ol.displayName="Anchor";const nC=w.forwardRef(({className:n,bsPrefix:e,as:t=Ol,...r},s)=>(e=Se(e,"alert-link"),R(t,{ref:s,className:ye(n,e),...r})));nC.displayName="AlertLink";const mL={[si]:"show",[Ji]:"show"},mo=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=w.useCallback((h,p)=>{My(h),r==null||r(h,p)},[r]);return R(Nh,{ref:a,addEndListener:bh,...l,onEnter:d,childRef:_a(e),children:(h,p)=>w.cloneElement(e,{...p,className:ye("fade",n,e.props.className,mL[h],t[h])})})});mo.displayName="Fade";const gL={"aria-label":Qn.string,onClick:Qn.func,variant:Qn.oneOf(["white"])},Lc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>R("button",{ref:s,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Lc.displayName="CloseButton";Lc.propTypes=gL;const rC=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:s="Close alert",closeVariant:a,className:l,children:d,variant:h="primary",onClose:p,dismissible:g,transition:_=mo,...T}=Xl(n,{show:"onClose"}),C=Se(t,"alert"),P=ui(H=>{p&&p(!1,H)}),x=_===!0?mo:_,N=pe("div",{role:"alert",...x?void 0:T,ref:e,className:ye(l,C,h&&`${C}-${h}`,g&&`${C}-dismissible`),children:[g&&R(Lc,{onClick:P,"aria-label":s,variant:a}),d]});return x?R(x,{unmountOnExit:!0,...T,ref:void 0,in:r,children:N}):r?N:null});rC.displayName="Alert";const cc=Object.assign(rC,{Link:nC,Heading:ZI}),Fn=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:a=!1,className:l,...d},h)=>{const p=Se(e,"btn"),[g,{tagName:_}]=Uy({tagName:n,disabled:a,...d});return R(_,{...g,...d,ref:h,disabled:a,className:ye(l,p,s&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,d.href&&a&&"disabled")})});Fn.displayName="Button";const Fy=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-body"),R(t,{ref:s,className:ye(n,e),...r})));Fy.displayName="CardBody";const iC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-footer"),R(t,{ref:s,className:ye(n,e),...r})));iC.displayName="CardFooter";const By=w.createContext(null);By.displayName="CardHeaderContext";const sC=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Se(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return R(By.Provider,{value:l,children:R(t,{ref:s,...r,className:ye(e,a)})})});sC.displayName="CardHeader";const oC=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...s},a)=>{const l=Se(n,"card-img");return R(r,{ref:a,className:ye(t?`${l}-${t}`:l,e),...s})});oC.displayName="CardImg";const aC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-img-overlay"),R(t,{ref:s,className:ye(n,e),...r})));aC.displayName="CardImgOverlay";const lC=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},s)=>(e=Se(e,"card-link"),R(t,{ref:s,className:ye(n,e),...r})));lC.displayName="CardLink";const yL=xc("h6"),uC=w.forwardRef(({className:n,bsPrefix:e,as:t=yL,...r},s)=>(e=Se(e,"card-subtitle"),R(t,{ref:s,className:ye(n,e),...r})));uC.displayName="CardSubtitle";const cC=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},s)=>(e=Se(e,"card-text"),R(t,{ref:s,className:ye(n,e),...r})));cC.displayName="CardText";const vL=xc("h5"),dC=w.forwardRef(({className:n,bsPrefix:e,as:t=vL,...r},s)=>(e=Se(e,"card-title"),R(t,{ref:s,className:ye(n,e),...r})));dC.displayName="CardTitle";const fC=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:s,body:a=!1,children:l,as:d="div",...h},p)=>{const g=Se(n,"card");return R(d,{ref:p,...h,className:ye(e,g,t&&`bg-${t}`,r&&`text-${r}`,s&&`border-${s}`),children:a?R(Fy,{children:l}):l})});fC.displayName="Card";const Js=Object.assign(fC,{Img:oC,Title:dC,Subtitle:uC,Body:Fy,Link:lC,Text:cC,Header:sC,Footer:iC,ImgOverlay:aC});function _L(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function wL(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function EL(n){const e=w.useRef(n);return e.current=n,e}function hC(n){const e=EL(n);w.useEffect(()=>()=>e.current(),[])}const kg=2**31-1;function pC(n,e,t){const r=t-Date.now();n.current=r<=kg?setTimeout(e,r):setTimeout(()=>pC(n,e,t),kg)}function mC(){const n=wL(),e=w.useRef();return hC(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(s,a=0){n()&&(t(),a<=kg?e.current=setTimeout(s,a):pC(e,s,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const gC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"carousel-caption"),R(t,{ref:s,className:ye(n,e),...r})));gC.displayName="CarouselCaption";const yC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},s)=>{const a=ye(t,Se(e,"carousel-item"));return R(n,{ref:s,...r,className:a})});yC.displayName="CarouselItem";function u0(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function TL(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function SL(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const IL=40;function CL(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const vC=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:s,slide:a=!0,fade:l=!1,controls:d=!0,indicators:h=!0,indicatorLabels:p=[],activeIndex:g,onSelect:_,onSlide:T,onSlid:C,interval:P=5e3,keyboard:x=!0,onKeyDown:N,pause:H="hover",onMouseOver:$,onMouseOut:z,wrap:q=!0,touch:Z=!0,onTouchStart:Q,onTouchMove:S,onTouchEnd:A,prevIcon:k=R("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:O="Previous",nextIcon:L=R("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:D,className:we,children:xe,...Fe}=Xl({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Ne=Se(s,"carousel"),ne=Dc(),me=w.useRef(null),[ae,F]=w.useState("next"),[ee,he]=w.useState(!1),[ve,Te]=w.useState(!1),[Ae,qe]=w.useState(g||0);w.useEffect(()=>{!ve&&g!==Ae&&(me.current?F(me.current):F((g||0)>Ae?"next":"prev"),a&&Te(!0),qe(g||0))},[g,ve,Ae,a]),w.useEffect(()=>{me.current&&(me.current=null)});let Ue=0,st;TL(xe,(Be,ot)=>{++Ue,ot===g&&(st=Be.props.interval)});const Et=XI(st),It=w.useCallback(Be=>{if(ve)return;let ot=Ae-1;if(ot<0){if(!q)return;ot=Ue-1}me.current="prev",_==null||_(ot,Be)},[ve,Ae,_,q,Ue]),it=ui(Be=>{if(ve)return;let ot=Ae+1;if(ot>=Ue){if(!q)return;ot=0}me.current="next",_==null||_(ot,Be)}),kt=w.useRef();w.useImperativeHandle(t,()=>({element:kt.current,prev:It,next:it}));const qt=ui(()=>{!document.hidden&&CL(kt.current)&&(ne?It():it())}),rt=ae==="next"?"start":"end";_L(()=>{a||(T==null||T(Ae,rt),C==null||C(Ae,rt))},[Ae]);const jt=`${Ne}-item-${ae}`,pn=`${Ne}-item-${rt}`,Rr=w.useCallback(Be=>{My(Be),T==null||T(Ae,rt)},[T,Ae,rt]),Hn=w.useCallback(()=>{Te(!1),C==null||C(Ae,rt)},[C,Ae,rt]),Ft=w.useCallback(Be=>{if(x&&!/input|textarea/i.test(Be.target.tagName))switch(Be.key){case"ArrowLeft":Be.preventDefault(),ne?it(Be):It(Be);return;case"ArrowRight":Be.preventDefault(),ne?It(Be):it(Be);return}N==null||N(Be)},[x,N,It,it,ne]),Jt=w.useCallback(Be=>{H==="hover"&&he(!0),$==null||$(Be)},[H,$]),Jn=w.useCallback(Be=>{he(!1),z==null||z(Be)},[z]),Pn=w.useRef(0),Dt=w.useRef(0),on=mC(),$e=w.useCallback(Be=>{Pn.current=Be.touches[0].clientX,Dt.current=0,H==="hover"&&he(!0),Q==null||Q(Be)},[H,Q]),mt=w.useCallback(Be=>{Be.touches&&Be.touches.length>1?Dt.current=0:Dt.current=Be.touches[0].clientX-Pn.current,S==null||S(Be)},[S]),Ot=w.useCallback(Be=>{if(Z){const ot=Dt.current;Math.abs(ot)>IL&&(ot>0?It(Be):it(Be))}H==="hover"&&on.set(()=>{he(!1)},P||void 0),A==null||A(Be)},[Z,H,It,it,on,P,A]),mn=P!=null&&!ee&&!ve,zn=w.useRef();w.useEffect(()=>{var Be,ot;if(!mn)return;const gn=ne?It:it;return zn.current=window.setInterval(document.visibilityState?qt:gn,(Be=(ot=Et.current)!=null?ot:P)!=null?Be:void 0),()=>{zn.current!==null&&clearInterval(zn.current)}},[mn,It,it,Et,P,qt,ne]);const Wn=w.useMemo(()=>h&&Array.from({length:Ue},(Be,ot)=>gn=>{_==null||_(ot,gn)}),[h,Ue,_]);return pe(r,{ref:kt,...Fe,onKeyDown:Ft,onMouseOver:Jt,onMouseOut:Jn,onTouchStart:$e,onTouchMove:mt,onTouchEnd:Ot,className:ye(we,Ne,a&&"slide",l&&`${Ne}-fade`,D&&`${Ne}-${D}`),children:[h&&R("div",{className:`${Ne}-indicators`,children:u0(xe,(Be,ot)=>R("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[ot]:`Slide ${ot+1}`,className:ot===Ae?"active":void 0,onClick:Wn?Wn[ot]:void 0,"aria-current":ot===Ae},ot))}),R("div",{className:`${Ne}-inner`,children:u0(xe,(Be,ot)=>{const gn=ot===Ae;return a?R(Nh,{in:gn,onEnter:gn?Rr:void 0,onEntered:gn?Hn:void 0,addEndListener:bh,children:(Zn,di)=>w.cloneElement(Be,{...di,className:ye(Be.props.className,gn&&Zn!=="entered"&&jt,(Zn==="entered"||Zn==="exiting")&&"active",(Zn==="entering"||Zn==="exiting")&&pn)})}):w.cloneElement(Be,{className:ye(Be.props.className,gn&&"active")})})}),d&&pe(sn,{children:[(q||g!==0)&&pe(Ol,{className:`${Ne}-control-prev`,onClick:It,children:[k,O&&R("span",{className:"visually-hidden",children:O})]}),(q||g!==Ue-1)&&pe(Ol,{className:`${Ne}-control-next`,onClick:it,children:[L,V&&R("span",{className:"visually-hidden",children:V})]})]})]})});vC.displayName="Carousel";const c0=Object.assign(vC,{Caption:gC,Item:yC});function AL({as:n,bsPrefix:e,className:t,...r}){e=Se(e,"col");const s=UI(),a=jI(),l=[],d=[];return s.forEach(h=>{const p=r[h];delete r[h];let g,_,T;typeof p=="object"&&p!=null?{span:g,offset:_,order:T}=p:g=p;const C=h!==a?`-${h}`:"";g&&l.push(g===!0?`${e}${C}`:`${e}${C}-${g}`),T!=null&&d.push(`order${C}-${T}`),_!=null&&d.push(`offset${C}-${_}`)}),[{...r,className:ye(t,...l,...d)},{as:n,bsPrefix:e,spans:l}]}const as=w.forwardRef((n,e)=>{const[{className:t,...r},{as:s="div",bsPrefix:a,spans:l}]=AL(n);return R(s,{...r,ref:e,className:ye(t,!l.length&&a)})});as.displayName="Col";const wa=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...s},a)=>{const l=Se(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return R(t,{ref:a,...s,className:ye(r,e?`${l}${d}`:l)})});wa.displayName="Container";var RL=Function.prototype.bind.call(Function.prototype.call,[].slice);function Xi(n,e){return RL(n.querySelectorAll(e))}function bL(n,e,t){const r=w.useRef(n!==void 0),[s,a]=w.useState(e),l=n!==void 0,d=r.current;return r.current=l,!l&&d&&s!==e&&a(e),[l?n:s,w.useCallback((...h)=>{const[p,...g]=h;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function _C(){const[,n]=w.useReducer(e=>e+1,0);return n}const Ph=w.createContext(null);var d0=Object.prototype.hasOwnProperty;function f0(n,e,t){for(t of n.keys())if(rc(t,e))return t}function rc(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&rc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=f0(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=f0(e,s),!s)||!rc(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(d0.call(n,t)&&++r&&!d0.call(e,t)||!(t in e)||!rc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function NL(n){const e=eC();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const kL=Rc({defaultModifiers:[Cy,Sh,Eh,Th,Ay,Iy,Ry,wy]}),PL=["enabled","placement","strategy","modifiers"];function DL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const OL={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},xL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,s=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&s==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},LL=[];function wC(n,e,t={}){let{enabled:r=!0,placement:s="bottom",strategy:a="absolute",modifiers:l=LL}=t,d=DL(t,PL);const h=w.useRef(l),p=w.useRef(),g=w.useCallback(()=>{var N;(N=p.current)==null||N.update()},[]),_=w.useCallback(()=>{var N;(N=p.current)==null||N.forceUpdate()},[]),[T,C]=NL(w.useState({placement:s,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),P=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:N})=>{const H={},$={};Object.keys(N.elements).forEach(z=>{H[z]=N.styles[z],$[z]=N.attributes[z]}),C({state:N,styles:H,attributes:$,update:g,forceUpdate:_,placement:N.placement})}}),[g,_,C]),x=w.useMemo(()=>(rc(h.current,l)||(h.current=l),h.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:s,strategy:a,modifiers:[...x,P,OL]})},[a,s,P,r,x]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=kL(n,e,Object.assign({},d,{placement:s,strategy:a,modifiers:[...x,xL,P]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,C(N=>Object.assign({},N,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function dc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Ym,h0;function ML(){if(h0)return Ym;h0=1;var n=function(){};return Ym=n,Ym}var VL=ML();const $L=Cc(VL),p0=()=>{};function UL(n){return n.button===0}function jL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Nf=n=>n&&("current"in n?n.current:n),m0={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function EC(n,e=p0,{disabled:t,clickTrigger:r="click"}={}){const s=w.useRef(!1),a=w.useRef(!1),l=w.useCallback(p=>{const g=Nf(n);$L(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!g||jL(p)||!UL(p)||!!dc(g,p.target)||a.current,a.current=!1},[n]),d=bn(p=>{const g=Nf(n);g&&dc(g,p.target)?a.current=!0:a.current=!1}),h=bn(p=>{s.current||e(p)});w.useEffect(()=>{var p,g;if(t||n==null)return;const _=Jl(Nf(n)),T=_.defaultView||window;let C=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,P=null;m0[r]&&(P=es(_,m0[r],d,!0));const x=es(_,r,l,!0),N=es(_,r,$=>{if($===C){C=void 0;return}h($)});let H=[];return"ontouchstart"in _.documentElement&&(H=[].slice.call(_.body.children).map($=>es($,"mousemove",p0))),()=>{P==null||P(),x(),N(),H.forEach($=>$())}},[n,t,r,l,d,h])}function FL(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function BL(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function TC({enabled:n,enableEvents:e,placement:t,flip:r,offset:s,fixed:a,containerPadding:l,arrowElement:d,popperConfig:h={}}){var p,g,_,T,C;const P=FL(h.modifiers);return Object.assign({},h,{placement:t,enabled:n,strategy:a?"fixed":h.strategy,modifiers:BL(Object.assign({},P,{eventListeners:{enabled:e,options:(p=P.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},P.preventOverflow,{options:l?Object.assign({padding:l},(g=P.preventOverflow)==null?void 0:g.options):(_=P.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:s},(T=P.offset)==null?void 0:T.options)},arrow:Object.assign({},P.arrow,{enabled:!!d,options:Object.assign({},(C=P.arrow)==null?void 0:C.options,{element:d})}),flip:Object.assign({enabled:!!r},P.flip)}))})}const HL=["children","usePopper"];function zL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const WL=()=>{};function SC(n={}){const e=w.useContext(Ph),[t,r]=Ng(),s=w.useRef(!1),{flip:a,offset:l,rootCloseEvent:d,fixed:h=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,C=(e==null?void 0:e.show)==null?!!n.show:e.show;C&&!s.current&&(s.current=!0);const P=Q=>{e==null||e.toggle(!1,Q)},{placement:x,setMenu:N,menuElement:H,toggleElement:$}=e||{},z=wC($,H,TC({placement:p||x||"bottom-start",enabled:T,enableEvents:_??C,offset:l,flip:a,fixed:h,arrowElement:t,popperConfig:g})),q=Object.assign({ref:N||WL,"aria-labelledby":$==null?void 0:$.id},z.attributes.popper,{style:z.styles.popper}),Z={show:C,placement:x,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:T?z:null,arrowProps:T?Object.assign({ref:r},z.attributes.arrow,{style:z.styles.arrow}):{}};return EC(H,P,{clickTrigger:d,disabled:!C}),[q,Z]}function IC(n){let{children:e,usePopper:t=!0}=n,r=zL(n,HL);const[s,a]=SC(Object.assign({},r,{usePopper:t}));return R(sn,{children:e(s,a)})}IC.displayName="DropdownMenu";const Hy={prefix:String(Math.round(Math.random()*1e10)),current:0},CC=dn.createContext(Hy),qL=dn.createContext(!1);let KL=!!(typeof window<"u"&&window.document&&window.document.createElement),Xm=new WeakMap;function GL(n=!1){let e=w.useContext(CC),t=w.useRef(null);if(t.current===null&&!n){var r,s;let a=(s=dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=Xm.get(a);l==null?Xm.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,Xm.delete(a))}t.current=++e.current}return t.current}function QL(n){let e=w.useContext(CC);e===Hy&&!KL&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=GL(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function YL(n){let e=dn.useId(),[t]=w.useState(tM()),r=t?"react-aria":`react-aria${Hy.prefix}`;return n||`${r}-${e}`}const XL=typeof dn.useId=="function"?YL:QL;function JL(){return!1}function ZL(){return!0}function eM(n){return()=>{}}function tM(){return typeof dn.useSyncExternalStore=="function"?dn.useSyncExternalStore(eM,JL,ZL):w.useContext(qL)}const AC=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},g0=()=>{};function RC(){const n=XL(),{show:e=!1,toggle:t=g0,setToggle:r,menuElement:s}=w.useContext(Ph)||{},a=w.useCallback(d=>{t(!e,d)},[e,t]),l={id:n,ref:r||g0,onClick:a,"aria-expanded":!!e};return s&&AC(s)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function bC({children:n}){const[e,t]=RC();return R(sn,{children:n(e,t)})}bC.displayName="DropdownToggle";const ca=w.createContext(null),fc=(n,e=null)=>n!=null?String(n):e||null,Dh=w.createContext(null);Dh.displayName="NavContext";const nM="data-rr-ui-",rM="rrUi";function tu(n){return`${nM}${n}`}function iM(n){return`${rM}${n}`}const sM=["eventKey","disabled","onClick","active","as"];function oM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function NC({key:n,href:e,active:t,disabled:r,onClick:s}){const a=w.useContext(ca),l=w.useContext(Dh),{activeKey:d}=l||{},h=fc(n,e),p=t==null&&n!=null?fc(d)===h:t;return[{onClick:bn(_=>{r||(s==null||s(_),a&&!_.isPropagationStopped()&&a(h,_))}),"aria-disabled":r||void 0,"aria-selected":p,[tu("dropdown-item")]:""},{isActive:p}]}const kC=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:s,active:a,as:l=jy}=n,d=oM(n,sM);const[h]=NC({key:t,href:d.href,disabled:r,onClick:s,active:a});return R(l,Object.assign({},d,{ref:e},h))});kC.displayName="DropdownItem";const PC=w.createContext(Zl?window:void 0);PC.Provider;function Oh(){return w.useContext(PC)}function y0(){const n=_C(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Mc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:s=`* [${tu("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:d}){const h=Oh(),[p,g]=bL(e,n,r),[_,T]=y0(),C=_.current,[P,x]=y0(),N=P.current,H=tC(p),$=w.useRef(null),z=w.useRef(!1),q=w.useContext(ca),Z=w.useCallback((L,V,D=V==null?void 0:V.type)=>{g(L,{originalEvent:V,source:D})},[g]),Q=bn((L,V)=>{t==null||t(L,V),Z(!1,V,"select"),V.isPropagationStopped()||q==null||q(L,V)}),S=w.useMemo(()=>({toggle:Z,placement:l,show:p,menuElement:C,toggleElement:N,setMenu:T,setToggle:x}),[Z,l,p,C,N,T,x]);C&&H&&!p&&(z.current=C.contains(C.ownerDocument.activeElement));const A=bn(()=>{N&&N.focus&&N.focus()}),k=bn(()=>{const L=$.current;let V=a;if(V==null&&(V=_.current&&AC(_.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(L))return;const D=Xi(_.current,s)[0];D&&D.focus&&D.focus()});w.useEffect(()=>{p?k():z.current&&(z.current=!1,A())},[p,z,A,k]),w.useEffect(()=>{$.current=null});const O=(L,V)=>{if(!_.current)return null;const D=Xi(_.current,s);let we=D.indexOf(L)+V;return we=Math.max(0,Math.min(we,D.length)),D[we]};return oL(w.useCallback(()=>h.document,[h]),"keydown",L=>{var V,D;const{key:we}=L,xe=L.target,Fe=(V=_.current)==null?void 0:V.contains(xe),Ne=(D=P.current)==null?void 0:D.contains(xe);if(/input|textarea/i.test(xe.tagName)&&(we===" "||we!=="Escape"&&Fe||we==="Escape"&&xe.type==="search")||!Fe&&!Ne||we==="Tab"&&(!_.current||!p))return;$.current=L.type;const me={originalEvent:L,source:L.type};switch(we){case"ArrowUp":{const ae=O(xe,-1);ae&&ae.focus&&ae.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!p)g(!0,me);else{const ae=O(xe,1);ae&&ae.focus&&ae.focus()}return;case"Tab":Ly(xe.ownerDocument,"keyup",ae=>{var F;(ae.key==="Tab"&&!ae.target||!((F=_.current)!=null&&F.contains(ae.target)))&&g(!1,me)},{once:!0});break;case"Escape":we==="Escape"&&(L.preventDefault(),L.stopPropagation()),g(!1,me);break}}),R(ca.Provider,{value:Q,children:R(Ph.Provider,{value:S,children:d})})}Mc.displayName="Dropdown";Mc.Menu=IC;Mc.Toggle=bC;Mc.Item=kC;const zy=w.createContext({});zy.displayName="DropdownContext";const DC=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...s},a)=>(e=Se(e,"dropdown-divider"),R(t,{ref:a,className:ye(n,e),role:r,...s})));DC.displayName="DropdownDivider";const OC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...s},a)=>(e=Se(e,"dropdown-header"),R(t,{ref:a,className:ye(n,e),role:r,...s})));OC.displayName="DropdownHeader";const xC=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:s,active:a,as:l=Ol,...d},h)=>{const p=Se(n,"dropdown-item"),[g,_]=NC({key:t,href:d.href,disabled:r,onClick:s,active:a});return R(l,{...d,...g,ref:h,className:ye(e,p,_.isActive&&"active",r&&"disabled")})});xC.displayName="DropdownItem";const LC=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Se(e,"dropdown-item-text"),R(t,{ref:s,className:ye(n,e),...r})));LC.displayName="DropdownItemText";const aM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",lM=typeof document<"u",Wy=lM||aM?w.useLayoutEffect:w.useEffect,qy=w.createContext(null);qy.displayName="InputGroupContext";const Ea=w.createContext(null);Ea.displayName="NavbarContext";function MC(n,e){return n}function VC(n,e,t){const r=t?"top-end":"top-start",s=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",d=t?"right-start":"left-start",h=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?s:r:e==="end"?_=n?g:p:e==="start"?_=n?h:d:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const $C=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:s=!0,show:a,renderOnMount:l,as:d="div",popperConfig:h,variant:p,...g},_)=>{let T=!1;const C=w.useContext(Ea),P=Se(n,"dropdown-menu"),{align:x,drop:N,isRTL:H}=w.useContext(zy);t=t||x;const $=w.useContext(qy),z=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const V=L[0],D=t[V];T=D==="start",z.push(`${P}-${V}-${D}`)}}else t==="end"&&(T=!0);const q=VC(T,N,H),[Z,{hasShown:Q,popper:S,show:A,toggle:k}]=SC({flip:s,rootCloseEvent:r,show:a,usePopper:!C&&z.length===0,offset:[0,2],popperConfig:h,placement:q});if(Z.ref=eu(MC(_),Z.ref),Wy(()=>{A&&(S==null||S.update())},[A]),!Q&&!l&&!$)return null;typeof d!="string"&&(Z.show=A,Z.close=()=>k==null?void 0:k(!1),Z.align=t);let O=g.style;return S!=null&&S.placement&&(O={...g.style,...Z.style},g["x-placement"]=S.placement),R(d,{...g,...Z,style:O,...(z.length||C)&&{"data-bs-popper":"static"},className:ye(e,P,A&&"show",T&&`${P}-end`,p&&`${P}-${p}`,...z)})});$C.displayName="DropdownMenu";const UC=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:s=Fn,...a},l)=>{const d=Se(n,"dropdown-toggle"),h=w.useContext(Ph);r!==void 0&&(a.bsPrefix=r);const[p]=RC();return p.ref=eu(p.ref,MC(l)),R(s,{className:ye(t,d,e&&`${d}-split`,(h==null?void 0:h.show)&&"show"),...p,...a})});UC.displayName="DropdownToggle";const jC=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:s,className:a,align:l="start",onSelect:d,onToggle:h,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...C}=Xl(n,{show:"onToggle"}),P=w.useContext(qy),x=Se(t,"dropdown"),N=Dc(),H=S=>T===!1?S==="click":T==="inside"?S!=="rootClose":T==="outside"?S!=="select":!0,$=ui((S,A)=>{var k;!((k=A.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),H(A.source)&&(h==null||h(S,A)))}),q=VC(l==="end",r,N),Z=w.useMemo(()=>({align:l,drop:r,isRTL:N}),[l,r,N]),Q={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return R(zy.Provider,{value:Z,children:R(Mc,{placement:q,show:s,onSelect:d,onToggle:$,focusFirstItemOnShow:p,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:P?C.children:R(g,{...C,ref:e,className:ye(a,s&&"show",Q[r])})})})});jC.displayName="Dropdown";const ta=Object.assign(jC,{Toggle:UC,Menu:$C,Item:xC,ItemText:LC,Divider:DC,Header:OC});Qn.string,Qn.bool,Qn.bool,Qn.bool,Qn.bool;const qf=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:s=!1,thumbnail:a=!1,...l},d)=>(n=Se(n,"img"),R("img",{ref:d,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",s&&"rounded-circle",a&&`${n}-thumbnail`)})));qf.displayName="Image";const uM={type:Qn.string,tooltip:Qn.bool,as:Qn.elementType},xh=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...s},a)=>R(n,{...s,ref:a,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));xh.displayName="Feedback";xh.propTypes=uM;const fs=w.createContext({}),Ky=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:s=!1,isInvalid:a=!1,as:l="input",...d},h)=>{const{controlId:p}=w.useContext(fs);return e=Se(e,"form-check-input"),R(l,{...d,ref:h,type:r,id:n||p,className:ye(t,e,s&&"is-valid",a&&"is-invalid")})});Ky.displayName="FormCheckInput";const Kf=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},s)=>{const{controlId:a}=w.useContext(fs);return n=Se(n,"form-check-label"),R("label",{...r,ref:s,htmlFor:t||a,className:ye(e,n)})});Kf.displayName="FormCheckLabel";const FC=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:s=!1,disabled:a=!1,isValid:l=!1,isInvalid:d=!1,feedbackTooltip:h=!1,feedback:p,feedbackType:g,className:_,style:T,title:C="",type:P="checkbox",label:x,children:N,as:H="input",...$},z)=>{e=Se(e,"form-check"),t=Se(t,"form-switch");const{controlId:q}=w.useContext(fs),Z=w.useMemo(()=>({controlId:n||q}),[q,n]),Q=!N&&x!=null&&x!==!1||SL(N,Kf),S=R(Ky,{...$,type:P==="switch"?"checkbox":P,ref:z,isValid:l,isInvalid:d,disabled:a,as:H});return R(fs.Provider,{value:Z,children:R("div",{style:T,className:ye(_,Q&&e,r&&`${e}-inline`,s&&`${e}-reverse`,P==="switch"&&t),children:N||pe(sn,{children:[S,Q&&R(Kf,{title:C,children:x}),p&&R(xh,{type:g,tooltip:h,children:p})]})})})});FC.displayName="FormCheck";const Gf=Object.assign(FC,{Input:Ky,Label:Kf}),BC=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:s,className:a,isValid:l=!1,isInvalid:d=!1,plaintext:h,readOnly:p,as:g="input",..._},T)=>{const{controlId:C}=w.useContext(fs);return n=Se(n,"form-control"),R(g,{..._,type:e,size:r,ref:T,readOnly:p,id:s||C,className:ye(a,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",d&&"is-invalid")})});BC.displayName="FormControl";const cM=Object.assign(BC,{Feedback:xh}),HC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"form-floating"),R(t,{ref:s,className:ye(n,e),...r})));HC.displayName="FormFloating";const Gy=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const s=w.useMemo(()=>({controlId:n}),[n]);return R(fs.Provider,{value:s,children:R(e,{...t,ref:r})})});Gy.displayName="FormGroup";const zC=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:s,htmlFor:a,...l},d)=>{const{controlId:h}=w.useContext(fs);e=Se(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=ye(s,e,r&&"visually-hidden",t&&p);return a=a||h,t?R(as,{ref:d,as:"label",className:g,htmlFor:a,...l}):R(n,{ref:d,className:g,htmlFor:a,...l})});zC.displayName="FormLabel";const WC=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},s)=>{const{controlId:a}=w.useContext(fs);return n=Se(n,"form-range"),R("input",{...r,type:"range",ref:s,className:ye(e,n),id:t||a})});WC.displayName="FormRange";const qC=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:s=!1,isInvalid:a=!1,id:l,...d},h)=>{const{controlId:p}=w.useContext(fs);return n=Se(n,"form-select"),R("select",{...d,size:t,ref:h,className:ye(r,n,e&&`${n}-${e}`,s&&"is-valid",a&&"is-invalid"),id:l||p})});qC.displayName="FormSelect";const KC=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...s},a)=>(n=Se(n,"form-text"),R(t,{...s,ref:a,className:ye(e,n,r&&"text-muted")})));KC.displayName="FormText";const GC=w.forwardRef((n,e)=>R(Gf,{...n,ref:e,type:"switch"}));GC.displayName="Switch";const dM=Object.assign(GC,{Input:Gf.Input,Label:Gf.Label}),Qy=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:s,...a},l)=>(n=Se(n,"form-floating"),pe(Gy,{ref:l,className:ye(e,n),controlId:r,...a,children:[t,R("label",{htmlFor:r,children:s})]})));Qy.displayName="FloatingLabel";const fM={_ref:Qn.any,validated:Qn.bool,as:Qn.elementType},Yy=w.forwardRef(({className:n,validated:e,as:t="form",...r},s)=>R(t,{...r,ref:s,className:ye(n,e&&"was-validated")}));Yy.displayName="Form";Yy.propTypes=fM;const dr=Object.assign(Yy,{Group:Gy,Control:cM,Floating:HC,Check:Gf,Switch:dM,Label:zC,Text:KC,Range:WC,Select:qC,FloatingLabel:Qy}),v0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function hM(n,e){const t=v0(n),r=v0(e);return s=>{t&&t(s),r&&r(s)}}function Vc(n,e){return w.useMemo(()=>hM(n,e),[n,e])}const QC=w.createContext(null),pM=["as","active","eventKey"];function mM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function YC({key:n,onClick:e,active:t,id:r,role:s,disabled:a}){const l=w.useContext(ca),d=w.useContext(Dh),h=w.useContext(QC);let p=t;const g={role:s};if(d){!s&&d.role==="tablist"&&(g.role="tab");const _=d.getControllerId(n??null),T=d.getControlledId(n??null);g[tu("event-key")]=n,g.id=_||r,p=t==null&&n!=null?d.activeKey===n:t,(p||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(g["aria-controls"]=T)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=bn(_=>{a||(e==null||e(_),n!=null&&l&&!_.isPropagationStopped()&&l(n,_))}),[g,{isActive:p}]}const XC=w.forwardRef((n,e)=>{let{as:t=jy,active:r,eventKey:s}=n,a=mM(n,pM);const[l,d]=YC(Object.assign({key:fc(s,a.href),active:r},a));return l[tu("active")]=d.isActive,R(t,Object.assign({},a,l,{ref:e}))});XC.displayName="NavItem";const gM=["as","onSelect","activeKey","role","onKeyDown"];function yM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const _0=()=>{},w0=tu("event-key"),JC=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:s,role:a,onKeyDown:l}=n,d=yM(n,gM);const h=_C(),p=w.useRef(!1),g=w.useContext(ca),_=w.useContext(QC);let T,C;_&&(a=a||"tablist",s=_.activeKey,T=_.getControlledId,C=_.getControllerId);const P=w.useRef(null),x=z=>{const q=P.current;if(!q)return null;const Z=Xi(q,`[${w0}]:not([aria-disabled=true])`),Q=q.querySelector("[aria-selected=true]");if(!Q||Q!==document.activeElement)return null;const S=Z.indexOf(Q);if(S===-1)return null;let A=S+z;return A>=Z.length&&(A=0),A<0&&(A=Z.length-1),Z[A]},N=(z,q)=>{z!=null&&(r==null||r(z,q),g==null||g(z,q))},H=z=>{if(l==null||l(z),!_)return;let q;switch(z.key){case"ArrowLeft":case"ArrowUp":q=x(-1);break;case"ArrowRight":case"ArrowDown":q=x(1);break;default:return}q&&(z.preventDefault(),N(q.dataset[iM("EventKey")]||null,z),p.current=!0,h())};w.useEffect(()=>{if(P.current&&p.current){const z=P.current.querySelector(`[${w0}][aria-selected=true]`);z==null||z.focus()}p.current=!1});const $=Vc(e,P);return R(ca.Provider,{value:N,children:R(Dh.Provider,{value:{role:a,activeKey:fc(s),getControlledId:T||_0,getControllerId:C||_0},children:R(t,Object.assign({},d,{onKeyDown:H,ref:$,role:a}))})})});JC.displayName="Nav";const vM=Object.assign(JC,{Item:XC});var pf;function E0(n){if((!pf&&pf!==0||n)&&Zl){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),pf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return pf}function _M(){return w.useState(null)}function Jm(n){n===void 0&&(n=Jl());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function wM(n){const e=w.useRef(n);return e.current=n,e}function EM(n){const e=wM(n);w.useEffect(()=>()=>e.current(),[])}function TM(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const T0=tu("modal-open");class Xy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return TM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(os(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(T0,""),os(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(T0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Zm=(n,e)=>Zl?n==null?(e||Jl()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Pg(n,e){const t=Oh(),[r,s]=w.useState(()=>Zm(n,t==null?void 0:t.document));if(!r){const a=Zm(n);a&&s(a)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const a=Zm(n);a!==r&&s(a)},[n,r]),r}function SM({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:s}){const a=w.useRef(null),l=w.useRef(e),d=bn(t);w.useEffect(()=>{e?l.current=!0:d(a.current)},[e,d]);const h=Vc(a,_a(n)),p=w.cloneElement(n,{ref:h});return e?p:s||!l.current&&r?null:p}const IM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function CM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function AM(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:a,onExited:l,addEndListener:d,children:h}=n,p=CM(n,IM);const g=w.useRef(null),_=Vc(g,_a(h)),T=q=>Z=>{q&&g.current&&q(g.current,Z)},C=w.useCallback(T(e),[e]),P=w.useCallback(T(t),[t]),x=w.useCallback(T(r),[r]),N=w.useCallback(T(s),[s]),H=w.useCallback(T(a),[a]),$=w.useCallback(T(l),[l]),z=w.useCallback(T(d),[d]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:C},t&&{onEntering:P},r&&{onEntered:x},s&&{onExit:N},a&&{onExiting:H},l&&{onExited:$},d&&{addEndListener:z},{children:typeof h=="function"?(q,Z)=>h(q,Object.assign({},Z,{ref:_})):w.cloneElement(h,{ref:_})})}const RM=["component"];function bM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const NM=w.forwardRef((n,e)=>{let{component:t}=n,r=bM(n,RM);const s=AM(r);return R(t,Object.assign({ref:e},s))});function kM({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),s=bn(e);return l0(()=>{if(!t.current)return;let a=!1;return s({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,s]),l0(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function PM({children:n,in:e,onExited:t,onEntered:r,transition:s}){const[a,l]=w.useState(!e);e&&a&&l(!1);const d=kM({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(s(p)).then(g,_=>{throw p.in||l(!0),_})}}),h=Vc(d,_a(n));return a&&!e?null:w.cloneElement(n,{ref:h})}function Dg(n,e,t){return n?R(NM,Object.assign({},t,{component:n})):e?R(PM,Object.assign({},t,{transition:e})):R(SM,Object.assign({},t))}const DM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function OM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let eg;function xM(n){return eg||(eg=new Xy({ownerDocument:n==null?void 0:n.document})),eg}function LM(n){const e=Oh(),t=n||xM(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:w.useCallback(s=>{r.current.backdrop=s},[])})}const ZC=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:s,style:a,children:l,backdrop:d=!0,keyboard:h=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:T,backdropTransition:C,runBackdropTransition:P,autoFocus:x=!0,enforceFocus:N=!0,restoreFocus:H=!0,restoreFocusOptions:$,renderDialog:z,renderBackdrop:q=rt=>R("div",Object.assign({},rt)),manager:Z,container:Q,onShow:S,onHide:A=()=>{},onExit:k,onExited:O,onExiting:L,onEnter:V,onEntering:D,onEntered:we}=n,xe=OM(n,DM);const Fe=Oh(),Ne=Pg(Q),ne=LM(Z),me=eC(),ae=tC(t),[F,ee]=w.useState(!t),he=w.useRef(null);w.useImperativeHandle(e,()=>ne,[ne]),Zl&&!ae&&t&&(he.current=Jm(Fe==null?void 0:Fe.document)),t&&F&&ee(!1);const ve=bn(()=>{if(ne.add(),Et.current=es(document,"keydown",Ue),st.current=es(document,"focus",()=>setTimeout(Ae),!0),S&&S(),x){var rt,jt;const pn=Jm((rt=(jt=ne.dialog)==null?void 0:jt.ownerDocument)!=null?rt:Fe==null?void 0:Fe.document);ne.dialog&&pn&&!dc(ne.dialog,pn)&&(he.current=pn,ne.dialog.focus())}}),Te=bn(()=>{if(ne.remove(),Et.current==null||Et.current(),st.current==null||st.current(),H){var rt;(rt=he.current)==null||rt.focus==null||rt.focus($),he.current=null}});w.useEffect(()=>{!t||!Ne||ve()},[t,Ne,ve]),w.useEffect(()=>{F&&Te()},[F,Te]),EM(()=>{Te()});const Ae=bn(()=>{if(!N||!me()||!ne.isTopModal())return;const rt=Jm(Fe==null?void 0:Fe.document);ne.dialog&&rt&&!dc(ne.dialog,rt)&&ne.dialog.focus()}),qe=bn(rt=>{rt.target===rt.currentTarget&&(p==null||p(rt),d===!0&&A())}),Ue=bn(rt=>{h&&HI(rt)&&ne.isTopModal()&&(g==null||g(rt),rt.defaultPrevented||A())}),st=w.useRef(),Et=w.useRef(),It=(...rt)=>{ee(!0),O==null||O(...rt)};if(!Ne)return null;const it=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},xe,{style:a,className:s,tabIndex:-1});let kt=z?z(it):R("div",Object.assign({},it,{children:w.cloneElement(l,{role:"document"})}));kt=Dg(_,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:k,onExiting:L,onExited:It,onEnter:V,onEntering:D,onEntered:we,children:kt});let qt=null;return d&&(qt=q({ref:ne.setBackdropRef,onClick:qe}),qt=Dg(C,P,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:qt})),R(sn,{children:no.createPortal(pe(sn,{children:[qt,kt]}),Ne)})});ZC.displayName="Modal";const eA=Object.assign(ZC,{Manager:Xy});function Og(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function MM(n,e){n.classList?n.classList.add(e):Og(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function S0(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function VM(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=S0(n.className,e):n.setAttribute("class",S0(n.className&&n.className.baseVal||"",e))}const cl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class tA extends Xy{adjustAndStore(e,t,r){const s=t.style[e];t.dataset[e]=s,os(t,{[e]:`${parseFloat(os(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],os(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(MM(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Xi(t,cl.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Xi(t,cl.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),Xi(t,cl.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();VM(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Xi(t,cl.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Xi(t,cl.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Xi(t,cl.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let tg;function nA(n){return tg||(tg=new tA(n)),tg}const rA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"modal-body"),R(t,{ref:s,className:ye(n,e),...r})));rA.displayName="ModalBody";const Jy=w.createContext({onHide(){}}),Zy=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:s,fullscreen:a,children:l,scrollable:d,...h},p)=>{n=Se(n,"modal");const g=`${n}-dialog`,_=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return R("div",{...h,ref:p,className:ye(g,e,s&&`${n}-${s}`,r&&`${g}-centered`,d&&`${g}-scrollable`,a&&_),children:R("div",{className:ye(`${n}-content`,t),children:l})})});Zy.displayName="ModalDialog";const iA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"modal-footer"),R(t,{ref:s,className:ye(n,e),...r})));iA.displayName="ModalFooter";const sA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:s,...a},l)=>{const d=w.useContext(Jy),h=ui(()=>{d==null||d.onHide(),r==null||r()});return pe("div",{ref:l,...a,children:[s,t&&R(Lc,{"aria-label":n,variant:e,onClick:h})]})}),oA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Se(n,"modal-header"),R(sA,{ref:a,...s,className:ye(e,n),closeLabel:t,closeButton:r})));oA.displayName="ModalHeader";const $M=xc("h4"),aA=w.forwardRef(({className:n,bsPrefix:e,as:t=$M,...r},s)=>(e=Se(e,"modal-title"),R(t,{ref:s,className:ye(n,e),...r})));aA.displayName="ModalTitle";function UM(n){return R(mo,{...n,timeout:null})}function jM(n){return R(mo,{...n,timeout:null})}const lA=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:s,children:a,dialogAs:l=Zy,"data-bs-theme":d,"aria-labelledby":h,"aria-describedby":p,"aria-label":g,show:_=!1,animation:T=!0,backdrop:C=!0,keyboard:P=!0,onEscapeKeyDown:x,onShow:N,onHide:H,container:$,autoFocus:z=!0,enforceFocus:q=!0,restoreFocus:Z=!0,restoreFocusOptions:Q,onEntered:S,onExit:A,onExiting:k,onEnter:O,onEntering:L,onExited:V,backdropClassName:D,manager:we,...xe},Fe)=>{const[Ne,ne]=w.useState({}),[me,ae]=w.useState(!1),F=w.useRef(!1),ee=w.useRef(!1),he=w.useRef(null),[ve,Te]=_M(),Ae=eu(Fe,Te),qe=ui(H),Ue=Dc();n=Se(n,"modal");const st=w.useMemo(()=>({onHide:qe}),[qe]);function Et(){return we||nA({isRTL:Ue})}function It($e){if(!Zl)return;const mt=Et().getScrollbarWidth()>0,Ot=$e.scrollHeight>Jl($e).documentElement.clientHeight;ne({paddingRight:mt&&!Ot?E0():void 0,paddingLeft:!mt&&Ot?E0():void 0})}const it=ui(()=>{ve&&It(ve.dialog)});hC(()=>{bg(window,"resize",it),he.current==null||he.current()});const kt=()=>{F.current=!0},qt=$e=>{F.current&&ve&&$e.target===ve.dialog&&(ee.current=!0),F.current=!1},rt=()=>{ae(!0),he.current=zI(ve.dialog,()=>{ae(!1)})},jt=$e=>{$e.target===$e.currentTarget&&rt()},pn=$e=>{if(C==="static"){jt($e);return}if(ee.current||$e.target!==$e.currentTarget){ee.current=!1;return}H==null||H()},Rr=$e=>{P?x==null||x($e):($e.preventDefault(),C==="static"&&rt())},Hn=($e,mt)=>{$e&&It($e),O==null||O($e,mt)},Ft=$e=>{he.current==null||he.current(),A==null||A($e)},Jt=($e,mt)=>{L==null||L($e,mt),Ly(window,"resize",it)},Jn=$e=>{$e&&($e.style.display=""),V==null||V($e),bg(window,"resize",it)},Pn=w.useCallback($e=>R("div",{...$e,className:ye(`${n}-backdrop`,D,!T&&"show")}),[T,D,n]),Dt={...t,...Ne};Dt.display="block";const on=$e=>R("div",{role:"dialog",...$e,style:Dt,className:ye(e,n,me&&`${n}-static`,!T&&"show"),onClick:C?pn:void 0,onMouseUp:qt,"data-bs-theme":d,"aria-label":g,"aria-labelledby":h,"aria-describedby":p,children:R(l,{...xe,onMouseDown:kt,className:r,contentClassName:s,children:a})});return R(Jy.Provider,{value:st,children:R(eA,{show:_,ref:Ae,backdrop:C,container:$,keyboard:!0,autoFocus:z,enforceFocus:q,restoreFocus:Z,restoreFocusOptions:Q,onEscapeKeyDown:Rr,onShow:N,onHide:H,onEnter:Hn,onEntering:Jt,onEntered:S,onExit:Ft,onExiting:k,onExited:Jn,manager:Et(),transition:T?UM:void 0,backdropTransition:T?jM:void 0,renderBackdrop:Pn,renderDialog:on})})});lA.displayName="Modal";const xl=Object.assign(lA,{Body:rA,Header:oA,Title:aA,Footer:iA,Dialog:Zy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),uA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"nav-item"),R(t,{ref:s,className:ye(n,e),...r})));uA.displayName="NavItem";const ev=w.forwardRef(({bsPrefix:n,className:e,as:t=Ol,active:r,eventKey:s,disabled:a=!1,...l},d)=>{n=Se(n,"nav-link");const[h,p]=YC({key:fc(s,l.href),active:r,disabled:a,...l});return R(t,{...l,...h,ref:d,disabled:a,className:ye(e,n,a&&"disabled",p.isActive&&"active")})});ev.displayName="NavLink";const cA=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:s,fill:a=!1,justify:l=!1,navbar:d,navbarScroll:h,className:p,activeKey:g,..._}=Xl(n,{activeKey:"onSelect"}),T=Se(r,"nav");let C,P,x=!1;const N=w.useContext(Ea),H=w.useContext(By);return N?(C=N.bsPrefix,x=d??!0):H&&({cardHeaderBsPrefix:P}=H),R(vM,{as:t,ref:e,activeKey:g,className:ye(p,{[T]:!x,[`${C}-nav`]:x,[`${C}-nav-scroll`]:x&&h,[`${P}-${s}`]:!!P,[`${T}-${s}`]:!!s,[`${T}-fill`]:a,[`${T}-justified`]:l}),..._})});cA.displayName="Nav";const I0=Object.assign(cA,{Item:uA,Link:ev}),dA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},s)=>{n=Se(n,"navbar-brand");const a=t||(r.href?"a":"span");return R(a,{...r,ref:s,className:ye(e,n)})});dA.displayName="NavbarBrand";const fA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Se(e,"navbar-collapse");const s=w.useContext(Ea);return R(WI,{in:!!(s&&s.expanded),...t,children:R("div",{ref:r,className:e,children:n})})});fA.displayName="NavbarCollapse";const hA=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:s="button",onClick:a,...l},d)=>{n=Se(n,"navbar-toggler");const{onToggle:h,expanded:p}=w.useContext(Ea)||{},g=ui(_=>{a&&a(_),h&&h()});return s==="button"&&(l.type="button"),R(s,{...l,ref:d,onClick:g,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||R("span",{className:`${n}-icon`})})});hA.displayName="NavbarToggle";const xg=new WeakMap,C0=(n,e)=>{if(!n||!e)return;const t=xg.get(e)||new Map;xg.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function FM(n,e=typeof window>"u"?void 0:window){const t=C0(n,e),[r,s]=w.useState(()=>t?t.matches:!1);return Wy(()=>{let a=C0(n,e);if(!a)return s(!1);let l=xg.get(e);const d=()=>{s(a.matches)};return a.refCount++,a.addListener(d),d(),()=>{a.removeListener(d),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function BM(n){const e=Object.keys(n);function t(d,h){return d===h?h:d?`${d} and ${h}`:h}function r(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function s(d){const h=r(d);let p=n[h];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(d){let h=n[d];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function l(d,h,p){let g;typeof d=="object"?(g=d,p=h,h=!0):(h=h||!0,g={[d]:h});let _=w.useMemo(()=>Object.entries(g).reduce((T,[C,P])=>((P==="up"||P===!0)&&(T=t(T,a(C))),(P==="down"||P===!0)&&(T=t(T,s(C))),T),""),[JSON.stringify(g)]);return FM(_,p)}return l}const HM=BM({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),pA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"offcanvas-body"),R(t,{ref:s,className:ye(n,e),...r})));pA.displayName="OffcanvasBody";const zM={[si]:"show",[Ji]:"show"},mA=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:l=!1,...d},h)=>(n=Se(n,"offcanvas"),R(Nh,{ref:h,addEndListener:bh,in:r,mountOnEnter:s,unmountOnExit:a,appear:l,...d,childRef:_a(t),children:(p,g)=>w.cloneElement(t,{...g,className:ye(e,t.props.className,(p===si||p===uc)&&`${n}-toggling`,zM[p])})})));mA.displayName="OffcanvasToggling";const gA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Se(n,"offcanvas-header"),R(sA,{ref:a,...s,className:ye(e,n),closeLabel:t,closeButton:r})));gA.displayName="OffcanvasHeader";const WM=xc("h5"),yA=w.forwardRef(({className:n,bsPrefix:e,as:t=WM,...r},s)=>(e=Se(e,"offcanvas-title"),R(t,{ref:s,className:ye(n,e),...r})));yA.displayName="OffcanvasTitle";function qM(n){return R(mA,{...n})}function KM(n){return R(mo,{...n})}const vA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:s="start",responsive:a,show:l=!1,backdrop:d=!0,keyboard:h=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:T,container:C,autoFocus:P=!0,enforceFocus:x=!0,restoreFocus:N=!0,restoreFocusOptions:H,onEntered:$,onExit:z,onExiting:q,onEnter:Z,onEntering:Q,onExited:S,backdropClassName:A,manager:k,renderStaticNode:O=!1,...L},V)=>{const D=w.useRef();n=Se(n,"offcanvas");const[we,xe]=w.useState(!1),Fe=ui(T),Ne=HM(a||"xs","up");w.useEffect(()=>{xe(a?l&&!Ne:l)},[l,a,Ne]);const ne=w.useMemo(()=>({onHide:Fe}),[Fe]);function me(){return k||(p?(D.current||(D.current=new tA({handleContainerOverflow:!1})),D.current):nA())}const ae=(ve,...Te)=>{ve&&(ve.style.visibility="visible"),Z==null||Z(ve,...Te)},F=(ve,...Te)=>{ve&&(ve.style.visibility=""),S==null||S(...Te)},ee=w.useCallback(ve=>R("div",{...ve,className:ye(`${n}-backdrop`,A)}),[A,n]),he=ve=>R("div",{...ve,...L,className:ye(e,a?`${n}-${a}`:n,`${n}-${s}`),"aria-labelledby":r,children:t});return pe(sn,{children:[!we&&(a||O)&&he({}),R(Jy.Provider,{value:ne,children:R(eA,{show:we,ref:V,backdrop:d,container:C,keyboard:h,autoFocus:P,enforceFocus:x&&!p,restoreFocus:N,restoreFocusOptions:H,onEscapeKeyDown:g,onShow:_,onHide:Fe,onEnter:ae,onEntering:Q,onEntered:$,onExit:z,onExiting:q,onExited:F,manager:me(),transition:qM,backdropTransition:KM,renderBackdrop:ee,renderDialog:he})})]})});vA.displayName="Offcanvas";const GM=Object.assign(vA,{Body:pA,Header:gA,Title:yA}),_A=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(Ea),s=ui(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return R(GM,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});_A.displayName="NavbarOffcanvas";const wA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Se(e,"navbar-text"),R(t,{ref:s,className:ye(n,e),...r})));wA.displayName="NavbarText";const EA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:s="light",bg:a,fixed:l,sticky:d,className:h,as:p="nav",expanded:g,onToggle:_,onSelect:T,collapseOnSelect:C=!1,...P}=Xl(n,{expanded:"onToggle"}),x=Se(t,"navbar"),N=w.useCallback((...z)=>{T==null||T(...z),C&&g&&(_==null||_(!1))},[T,C,g,_]);P.role===void 0&&p!=="nav"&&(P.role="navigation");let H=`${x}-expand`;typeof r=="string"&&(H=`${H}-${r}`);const $=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:x,expanded:!!g,expand:r}),[x,g,r,_]);return R(Ea.Provider,{value:$,children:R(ca.Provider,{value:N,children:R(p,{ref:e,...P,className:ye(h,x,r&&H,s&&`${x}-${s}`,a&&`bg-${a}`,d&&`sticky-${d}`,l&&`fixed-${l}`)})})})});EA.displayName="Navbar";const mf=Object.assign(EA,{Brand:dA,Collapse:fA,Offcanvas:_A,Text:wA,Toggle:hA}),TA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:s,rootCloseEvent:a,menuRole:l,disabled:d,active:h,renderMenuOnMount:p,menuVariant:g,..._},T)=>{const C=Se(void 0,"nav-item");return pe(ta,{ref:T,..._,className:ye(s,C),children:[R(ta.Toggle,{id:n,eventKey:null,active:h,disabled:d,childBsPrefix:r,as:ev,children:e}),R(ta.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:g,children:t})]})});TA.displayName="NavDropdown";const Hu=Object.assign(TA,{Item:ta.Item,ItemText:ta.ItemText,Divider:ta.Divider,Header:ta.Header}),QM=()=>{};function YM(n,e,{disabled:t,clickTrigger:r}={}){const s=e||QM;EC(n,s,{disabled:t,clickTrigger:r});const a=bn(l=>{HI(l)&&s(l)});w.useEffect(()=>{if(t||n==null)return;const l=Jl(Nf(n));let d=(l.defaultView||window).event;const h=es(l,"keyup",p=>{if(p===d){d=void 0;return}a(p)});return()=>{h()}},[n,t,a])}const SA=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:s,containerPadding:a,popperConfig:l={},transition:d,runTransition:h}=n,[p,g]=Ng(),[_,T]=Ng(),C=Vc(g,e),P=Pg(n.container),x=Pg(n.target),[N,H]=w.useState(!n.show),$=wC(x,p,TC({placement:s,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:_,popperConfig:l}));n.show&&N&&H(!1);const z=(...L)=>{H(!0),n.onExited&&n.onExited(...L)},q=n.show||!N;if(YM(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!q)return null;const{onExit:Z,onExiting:Q,onEnter:S,onEntering:A,onEntered:k}=n;let O=n.children(Object.assign({},$.attributes.popper,{style:$.styles.popper,ref:C}),{popper:$,placement:s,show:!!n.show,arrowProps:Object.assign({},$.attributes.arrow,{style:$.styles.arrow,ref:T})});return O=Dg(d,h,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:O,onExit:Z,onExiting:Q,onExited:z,onEnter:S,onEntering:A,onEntered:k}),P?no.createPortal(O,P):null});SA.displayName="Overlay";const IA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"popover-header"),R(t,{ref:s,className:ye(n,e),...r})));IA.displayName="PopoverHeader";const tv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"popover-body"),R(t,{ref:s,className:ye(n,e),...r})));tv.displayName="PopoverBody";function CA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function AA(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const XM=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:s,body:a,arrowProps:l,hasDoneInitialMeasure:d,popper:h,show:p,...g},_)=>{const T=Se(n,"popover"),C=Dc(),[P]=(e==null?void 0:e.split("-"))||[],x=CA(P,C);let N=r;return p&&!d&&(N={...r,...AA(h==null?void 0:h.strategy)}),pe("div",{ref:_,role:"tooltip",style:N,"x-placement":P,className:ye(t,T,P&&`bs-popover-${x}`),...g,children:[R("div",{className:"popover-arrow",...l}),a?R(tv,{children:s}):s]})}),JM=Object.assign(XM,{Header:IA,Body:tv,POPPER_OFFSET:[0,8]}),RA=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:s,arrowProps:a,hasDoneInitialMeasure:l,popper:d,show:h,...p},g)=>{n=Se(n,"tooltip");const _=Dc(),[T]=(e==null?void 0:e.split("-"))||[],C=CA(T,_);let P=r;return h&&!l&&(P={...r,...AA(d==null?void 0:d.strategy)}),pe("div",{ref:g,style:P,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${C}`),...p,children:[R("div",{className:"tooltip-arrow",...a}),R("div",{className:`${n}-inner`,children:s})]})});RA.displayName="Tooltip";const bA=Object.assign(RA,{TOOLTIP_OFFSET:[0,6]});function ZM(n){const e=w.useRef(null),t=Se(void 0,"popover"),r=Se(void 0,"tooltip"),s=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Og(e.current,t))return JM.POPPER_OFFSET;if(Og(e.current,r))return bA.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[s]]}function eV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=s=>t(Wf(s))),e.ref=r.__wrapped||(r.__wrapped=s=>r(Wf(s)))}const NA=w.forwardRef(({children:n,transition:e=mo,popperConfig:t={},rootClose:r=!1,placement:s="top",show:a=!1,...l},d)=>{const h=w.useRef({}),[p,g]=w.useState(null),[_,T]=ZM(l.offset),C=eu(d,_),P=e===!0?mo:e||void 0,x=ui(N=>{g(N),t==null||t.onFirstUpdate==null||t.onFirstUpdate(N)});return Wy(()=>{p&&l.target&&(h.current.scheduleUpdate==null||h.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{a||g(null)},[a]),R(SA,{...l,ref:C,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:x},transition:P,rootClose:r,placement:s,show:a,children:(N,{arrowProps:H,popper:$,show:z})=>{var q;eV(N,H);const Z=$==null?void 0:$.placement,Q=Object.assign(h.current,{state:$==null?void 0:$.state,scheduleUpdate:$==null?void 0:$.update,placement:Z,outOfBoundaries:($==null||(q=$.state)==null||(q=q.modifiersData.hide)==null?void 0:q.isReferenceHidden)||!1,strategy:t.strategy}),S=!!p;return typeof n=="function"?n({...N,placement:Z,show:z,...!e&&z&&{className:"show"},popper:Q,arrowProps:H,hasDoneInitialMeasure:S}):w.cloneElement(n,{...N,placement:Z,arrowProps:H,popper:Q,hasDoneInitialMeasure:S,className:ye(n.props.className,!e&&z&&"show"),style:{...n.props.style,...N.style}})}})});NA.displayName="Overlay";function tV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function A0(n,e,t){const[r]=e,s=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==s)&&!dc(s,a)&&n(...e)}Qn.oneOf(["click","hover","focus"]);const nV=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:s,defaultShow:a=!1,onToggle:l,delay:d,placement:h,flip:p=h&&h.indexOf("auto")!==-1,...g})=>{const _=w.useRef(null),T=eu(_,_a(t)),C=mC(),P=w.useRef(""),[x,N]=$I(s,a,l),H=tV(d),{onFocus:$,onBlur:z,onClick:q}=typeof t!="function"?w.Children.only(t).props:{},Z=xe=>{T(Wf(xe))},Q=w.useCallback(()=>{if(C.clear(),P.current="show",!H.show){N(!0);return}C.set(()=>{P.current==="show"&&N(!0)},H.show)},[H.show,N,C]),S=w.useCallback(()=>{if(C.clear(),P.current="hide",!H.hide){N(!1);return}C.set(()=>{P.current==="hide"&&N(!1)},H.hide)},[H.hide,N,C]),A=w.useCallback((...xe)=>{Q(),$==null||$(...xe)},[Q,$]),k=w.useCallback((...xe)=>{S(),z==null||z(...xe)},[S,z]),O=w.useCallback((...xe)=>{N(!x),q==null||q(...xe)},[q,N,x]),L=w.useCallback((...xe)=>{A0(Q,xe,"fromElement")},[Q]),V=w.useCallback((...xe)=>{A0(S,xe,"toElement")},[S]),D=n==null?[]:[].concat(n),we={ref:Z};return D.indexOf("click")!==-1&&(we.onClick=O),D.indexOf("focus")!==-1&&(we.onFocus=A,we.onBlur=k),D.indexOf("hover")!==-1&&(we.onMouseOver=L,we.onMouseOut=V),pe(sn,{children:[typeof t=="function"?t(we):w.cloneElement(t,we),R(NA,{...g,show:x,onHide:S,flip:p,placement:h,popperConfig:r,target:_.current,children:e})]})},ls=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Se(n,"row"),l=UI(),d=jI(),h=`${a}-cols`,p=[];return l.forEach(g=>{const _=r[g];delete r[g];let T;_!=null&&typeof _=="object"?{cols:T}=_:T=_;const C=g!==d?`-${g}`:"";T!=null&&p.push(`${h}${C}-${T}`)}),R(t,{ref:s,...r,className:ye(e,a,...p)})});ls.displayName="Row";const Lh=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:s="div",className:a,...l},d)=>{n=Se(n,"spinner");const h=`${n}-${t}`;return R(s,{ref:d,...l,className:ye(a,h,r&&`${h}-${r}`,e&&`text-${e}`)})});Lh.displayName="Spinner";function Ee(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function d(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((r=r.apply(n,[])).next())})}function rV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let je=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};je.equal=(n,e)=>new je("equal",n,e).toString();je.notEqual=(n,e)=>new je("notEqual",n,e).toString();je.lessThan=(n,e)=>new je("lessThan",n,e).toString();je.lessThanEqual=(n,e)=>new je("lessThanEqual",n,e).toString();je.greaterThan=(n,e)=>new je("greaterThan",n,e).toString();je.greaterThanEqual=(n,e)=>new je("greaterThanEqual",n,e).toString();je.isNull=n=>new je("isNull",n).toString();je.isNotNull=n=>new je("isNotNull",n).toString();je.between=(n,e,t)=>new je("between",n,[e,t]).toString();je.startsWith=(n,e)=>new je("startsWith",n,e).toString();je.endsWith=(n,e)=>new je("endsWith",n,e).toString();je.select=n=>new je("select",void 0,n).toString();je.search=(n,e)=>new je("search",n,e).toString();je.orderDesc=n=>new je("orderDesc",n).toString();je.orderAsc=n=>new je("orderAsc",n).toString();je.cursorAfter=n=>new je("cursorAfter",void 0,n).toString();je.cursorBefore=n=>new je("cursorBefore",void 0,n).toString();je.limit=n=>new je("limit",void 0,n).toString();je.offset=n=>new je("offset",void 0,n).toString();je.contains=(n,e)=>new je("contains",n,e).toString();je.or=n=>new je("or",void 0,n.map(e=>JSON.parse(e))).toString();je.and=n=>new je("and",void 0,n.map(e=>JSON.parse(e))).toString();class se extends Error{constructor(e,t=0,r="",s=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=s}}class $r{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const s=new URLSearchParams;s.set("project",this.config.project),this.realtime.channels.forEach(l=>{s.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+s.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var d,h,p;if(!this.realtime.reconnect||((h=(d=this.realtime)===null||d===void 0?void 0:d.lastMessage)===null||h===void 0?void 0:h.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const g=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${g/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},g)}))},onMessage:e=>{var t,r;try{const s=JSON.parse(e.data);switch(this.realtime.lastMessage=s,s.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],d=s.data;l&&!d.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let h=s.data;if(h!=null&&h.channels){if(!h.channels.some(g=>this.realtime.channels.has(g)))return;this.realtime.subscriptions.forEach(g=>{h.channels.some(_=>g.channels.includes(_))&&setTimeout(()=>g.callback(h))})}break;case"error":throw s.data;default:break}}catch(s){console.error(s)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([s,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const s=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(s,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(s),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},s={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,d]of Object.entries($r.flatten(s)))t.searchParams.append(l,d);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(s);break;case"multipart/form-data":const l=new FormData;for(const[d,h]of Object.entries(s))if(h instanceof File)l.append(d,h,h.name);else if(Array.isArray(h))for(const p of h)l.append(`${d}[]`,p);else l.append(d,h);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},s={},a){return Ee(this,void 0,void 0,function*(){const l=Object.values(s).find(p=>p instanceof File);if(l.size<=$r.CHUNK_SIZE)return yield this.call(e,t,r,s);let d=0,h=null;for(;d<l.size;){let p=d+$r.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${d}-${p-1}/${l.size}`;const g=l.slice(d,p);let _=Object.assign(Object.assign({},s),{file:new File([g],l.name)});h=yield this.call(e,t,r,_),a&&typeof a=="function"&&a({$id:h.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/$r.CHUNK_SIZE),chunksUploaded:Math.ceil(p/$r.CHUNK_SIZE)}),h&&h.$id&&(r["x-appwrite-id"]=h.$id),d=p}return h})}ping(){return Ee(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},s={},a="json"){var l;return Ee(this,void 0,void 0,function*(){const{uri:d,options:h}=this.prepareRequest(e,t,r,s);let p=null;const g=yield fetch(d,h),_=g.headers.get("x-appwrite-warning");if(_&&_.split(";").forEach(C=>console.warn("Warning: "+C)),!((l=g.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield g.json():a==="arrayBuffer"?p=yield g.arrayBuffer():p={message:yield g.text()},400<=g.status)throw new se(p==null?void 0:p.message,g.status,p==null?void 0:p.type,p);const T=g.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[s,a]of Object.entries(e)){let l=t?t+"["+s+"]":s;Array.isArray(a)?r=Object.assign(Object.assign({},r),$r.flatten(a,l)):r[l]=a}return r}}$r.CHUNK_SIZE=1024*1024*5;class oo{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[s,a]of Object.entries(e)){let l=t?t+"["+s+"]":s;Array.isArray(a)?r=Object.assign(Object.assign({},r),oo.flatten(a,l)):r[l]=a}return r}}oo.CHUNK_SIZE=5*1024*1024;class iV{constructor(e){this.client=e}get(){return Ee(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}create(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');if(typeof r>"u")throw new se('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof s<"u"&&(l.name=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("post",d,h,l)})}updateEmail(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/email",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}listIdentities(e){return Ee(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}deleteIdentity(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createJWT(){return Ee(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}listLogs(e){return Ee(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateMFA(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}createMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateMfaAuthenticator(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');if(typeof t>"u")throw new se('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),s={};typeof t<"u"&&(s.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}deleteMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createMfaChallenge(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateMfaChallenge(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "challengeId"');if(typeof t>"u")throw new se('Missing required parameter: "otp"');const r="/account/mfa/challenge",s={};typeof e<"u"&&(s.challengeId=e),typeof t<"u"&&(s.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}listMfaFactors(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}getMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}createMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}updateMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,t)})}updateName(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}updatePassword(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "password"');const r="/account/password",s={};typeof e<"u"&&(s.password=e),typeof t<"u"&&(s.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}updatePhone(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "phone"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/phone",s={};typeof e<"u"&&(s.phone=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}getPrefs(){return Ee(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}updatePrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}createRecovery(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "url"');const r="/account/recovery",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}updateRecovery(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');if(typeof r>"u")throw new se('Missing required parameter: "password"');const s="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("put",l,d,a)})}listSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}deleteSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("delete",r,s,t)})}createAnonymousSession(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}createEmailPasswordSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/sessions/email",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}updateMagicURLSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/magic-url",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createOAuth2Session(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof s<"u"&&(l.scopes=s);const d=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[h,p]of Object.entries(oo.flatten(l)))d.searchParams.append(h,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=d.toString();return}else return d.toString()})}updatePhoneSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/token",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}getSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}deleteSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}updateStatus(){return Ee(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,t)})}createPushTarget(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');if(typeof t>"u")throw new se('Missing required parameter: "identifier"');const s="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}updatePushTarget(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');if(typeof t>"u")throw new se('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),s={};typeof t<"u"&&(s.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}deletePushTarget(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createEmailToken(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');const s="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}createMagicURLToken(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof s<"u"&&(l.phrase=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("post",d,h,l)})}createOAuth2Token(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof s<"u"&&(l.scopes=s);const d=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[h,p]of Object.entries(oo.flatten(l)))d.searchParams.append(h,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=d.toString();return}else return d.toString()})}createPhoneToken(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "phone"');const r="/account/tokens/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}createVerification(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/verification",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createPhoneVerification(){return Ee(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}updatePhoneVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/verification/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}}class sV{constructor(e){this.client=e}listDocuments(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');const s="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createDocument(e,t,r,s,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');if(typeof s>"u")throw new se('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),d={};typeof r<"u"&&(d.documentId=r),typeof s<"u"&&(d.data=s),typeof a<"u"&&(d.permissions=a);const h=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",h,p,d)})}getDocument(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof s<"u"&&(l.queries=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("get",d,h,l)})}updateDocument(e,t,r,s,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),d={};typeof s<"u"&&(d.data=s),typeof a<"u"&&(d.permissions=a);const h=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",h,p,d)})}deleteDocument(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("delete",l,d,a)})}}class oV{constructor(e){this.client=e}listFiles(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');const s="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createFile(e,t,r,s,a=l=>{}){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');if(typeof r>"u")throw new se('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),d={};typeof t<"u"&&(d.fileId=t),typeof r<"u"&&(d.file=r),typeof s<"u"&&(d.permissions=s);const h=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",h,p,d,a)})}getFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}updateFile(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof s<"u"&&(l.permissions=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("put",d,h,l)})}deleteFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,s)})}getFileDownload(e,t){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,d]of Object.entries(oo.flatten(s)))a.searchParams.append(l,d);s.project=this.client.config.project;for(const[l,d]of Object.entries($r.flatten(s)))a.searchParams.append(l,d);return a.toString()}getFilePreview(e,t,r,s,a,l,d,h,p,g,_,T,C){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const P="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),x={};typeof r<"u"&&(x.width=r),typeof s<"u"&&(x.height=s),typeof a<"u"&&(x.gravity=a),typeof l<"u"&&(x.quality=l),typeof d<"u"&&(x.borderWidth=d),typeof h<"u"&&(x.borderColor=h),typeof p<"u"&&(x.borderRadius=p),typeof g<"u"&&(x.opacity=g),typeof _<"u"&&(x.rotation=_),typeof T<"u"&&(x.background=T),typeof C<"u"&&(x.output=C);const N=new URL(this.client.config.endpoint+P);x.project=this.client.config.project;for(const[H,$]of Object.entries(oo.flatten(x)))N.searchParams.append(H,$);x.project=this.client.config.project;for(const[H,$]of Object.entries($r.flatten(x)))N.searchParams.append(H,$);return N.toString()}getFileView(e,t){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,d]of Object.entries(oo.flatten(s)))a.searchParams.append(l,d);s.project=this.client.config.project;for(const[l,d]of Object.entries($r.flatten(s)))a.searchParams.append(l,d);return a.toString()}}class aV{constructor(e){this.client=e}list(e,t){return Ee(this,void 0,void 0,function*(){const r="/teams",s={};typeof e<"u"&&(s.queries=e),typeof t<"u"&&(s.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}create(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "name"');const s="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}get(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateName(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),s={};typeof t<"u"&&(s.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}delete(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}listMemberships(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const s="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createMembership(e,t,r,s,a,l,d){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "roles"');const h="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof s<"u"&&(p.userId=s),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof d<"u"&&(p.name=d);const g=new URL(this.client.config.endpoint+h),_={"content-type":"application/json"};return yield this.client.call("post",g,_,p)})}getMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}updateMembership(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');if(typeof r>"u")throw new se('Missing required parameter: "roles"');const s="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("patch",l,d,a)})}deleteMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,s)})}updateMembershipStatus(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');if(typeof r>"u")throw new se('Missing required parameter: "userId"');if(typeof s>"u")throw new se('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof s<"u"&&(l.secret=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("patch",d,h,l)})}getPrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updatePrefs(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),s={};typeof t<"u"&&(s.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}}var kA,PA;class Ll{static custom(e){return e}static unique(e=7){const t=rV(Ll,kA,"m",PA).call(Ll);let r="";for(let s=0;s<e;s++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}kA=Ll,PA=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var R0;(function(n){n.Totp="totp"})(R0||(R0={}));var b0;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(b0||(b0={}));var Lg;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(Lg||(Lg={}));var N0;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(N0||(N0={}));var k0;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(k0||(k0={}));var P0;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(P0||(P0={}));var D0;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(D0||(D0={}));var O0;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(O0||(O0={}));var x0;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(x0||(x0={}));const $c=new $r;$c.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const nu=new oV($c),Uc=new iV($c),Wr=new sV($c),lV=new aV($c);async function uV(){return{session:await Uc.getSession("current")}}const nv=async()=>{try{return await Uc.get()}catch(n){console.error(n)}};async function cV(){await Uc.deleteSession("current"),console.log("log out")}async function na(){const n=await nv();return n?dV(n):(console.error("User data is undefined"),null)}function dV(n){return{name:n.name,$id:n.$id}}async function fV(){return{teams:(await lV.list()).teams}}var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},hV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],d=n[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},OA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,d=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=a>>2,_=(a&3)<<4|d>>4;let T=(d&15)<<2|p>>6,C=p&63;h||(C=64,l||(T=64)),r.push(t[g],t[_],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||_==null)throw new pV;const T=a<<2|d>>4;if(r.push(T),p!==64){const C=d<<4&240|p>>2;if(r.push(C),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mV=function(n){const e=DA(n);return OA.encodeByteArray(e,!0)},Qf=function(n){return mV(n).replace(/\./g,"")},xA=function(n){try{return OA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=()=>gV().__FIREBASE_DEFAULTS__,vV=()=>{if(typeof process>"u"||typeof L0>"u")return;const n=L0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_V=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xA(n[1]);return e&&JSON.parse(e)},Mh=()=>{try{return yV()||vV()||_V()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},LA=n=>{var e,t;return(t=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wV=n=>{const e=LA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},MA=()=>{var n;return(n=Mh())===null||n===void 0?void 0:n.config},VA=n=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EV=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qf(JSON.stringify(t)),Qf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function IV(){var n;const e=(n=Mh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bV(){const n=Bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NV(){return!IV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kV(){try{return typeof indexedDB=="object"}catch{return!1}}function PV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="FirebaseError";class ws extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DV,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?OV(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new ws(s,d,r)}}function OV(n,e){return n.replace(xV,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xV=/\{\$([^}]+)}/g;function LV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(M0(a)&&M0(l)){if(!Yf(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function M0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MV(n,e){const t=new VV(n,e);return t.subscribe.bind(t)}class VV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");$V(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ng),s.error===void 0&&(s.error=ng),s.complete===void 0&&(s.complete=ng);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $V(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n){return n&&n._delegate?n._delegate:n}class da{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new EV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FV(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jV(n){return n===Yo?void 0:n}function FV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const HV={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},zV=ht.INFO,WV={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},qV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=WV[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rv{constructor(e){this.name=e,this._logLevel=zV,this._logHandler=qV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const KV=(n,e)=>e.some(t=>n instanceof t);let V0,$0;function GV(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QV(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $A=new WeakMap,Mg=new WeakMap,UA=new WeakMap,rg=new WeakMap,iv=new WeakMap;function YV(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ao(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&$A.set(t,n)}).catch(()=>{}),iv.set(e,n),e}function XV(n){if(Mg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Mg.set(n,e)}let Vg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ao(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JV(n){Vg=n(Vg)}function ZV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ig(this),e,...t);return UA.set(r,e.sort?e.sort():[e]),ao(r)}:QV().includes(n)?function(...e){return n.apply(ig(this),e),ao($A.get(this))}:function(...e){return ao(n.apply(ig(this),e))}}function e2(n){return typeof n=="function"?ZV(n):(n instanceof IDBTransaction&&XV(n),KV(n,GV())?new Proxy(n,Vg):n)}function ao(n){if(n instanceof IDBRequest)return YV(n);if(rg.has(n))return rg.get(n);const e=e2(n);return e!==n&&(rg.set(n,e),iv.set(e,n)),e}const ig=n=>iv.get(n);function t2(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),d=ao(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ao(l.result),h.oldVersion,h.newVersion,ao(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const n2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],sg=new Map;function U0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=r2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||n2.includes(t)))return;const a=async function(l,...d){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&h.done]))[0]};return sg.set(e,a),a}JV(n=>({...n,get:(e,t,r)=>U0(e,t)||n.get(e,t,r),has:(e,t)=>!!U0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(s2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function s2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $g="@firebase/app",j0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new rv("@firebase/app"),o2="@firebase/app-compat",a2="@firebase/analytics-compat",l2="@firebase/analytics",u2="@firebase/app-check-compat",c2="@firebase/app-check",d2="@firebase/auth",f2="@firebase/auth-compat",h2="@firebase/database",p2="@firebase/data-connect",m2="@firebase/database-compat",g2="@firebase/functions",y2="@firebase/functions-compat",v2="@firebase/installations",_2="@firebase/installations-compat",w2="@firebase/messaging",E2="@firebase/messaging-compat",T2="@firebase/performance",S2="@firebase/performance-compat",I2="@firebase/remote-config",C2="@firebase/remote-config-compat",A2="@firebase/storage",R2="@firebase/storage-compat",b2="@firebase/firestore",N2="@firebase/vertexai",k2="@firebase/firestore-compat",P2="firebase",D2="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",O2={[$g]:"fire-core",[o2]:"fire-core-compat",[l2]:"fire-analytics",[a2]:"fire-analytics-compat",[c2]:"fire-app-check",[u2]:"fire-app-check-compat",[d2]:"fire-auth",[f2]:"fire-auth-compat",[h2]:"fire-rtdb",[p2]:"fire-data-connect",[m2]:"fire-rtdb-compat",[g2]:"fire-fn",[y2]:"fire-fn-compat",[v2]:"fire-iid",[_2]:"fire-iid-compat",[w2]:"fire-fcm",[E2]:"fire-fcm-compat",[T2]:"fire-perf",[S2]:"fire-perf-compat",[I2]:"fire-rc",[C2]:"fire-rc-compat",[A2]:"fire-gcs",[R2]:"fire-gcs-compat",[b2]:"fire-fst",[k2]:"fire-fst-compat",[N2]:"fire-vertex","fire-js":"fire-js",[P2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new Map,x2=new Map,jg=new Map;function F0(n,e){try{n.container.addComponent(e)}catch(t){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ml(n){const e=n.name;if(jg.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,n);for(const t of Xf.values())F0(t,n);for(const t of x2.values())F0(t,n);return!0}function sv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function oi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new jc("app","Firebase",L2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=D2;function jA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ug,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(t||(t=MA()),!t)throw lo.create("no-options");const a=Xf.get(s);if(a){if(Yf(t,a.options)&&Yf(r,a.config))return a;throw lo.create("duplicate-app",{appName:s})}const l=new BV(s);for(const h of jg.values())l.addComponent(h);const d=new M2(t,r,l);return Xf.set(s,d),d}function FA(n=Ug){const e=Xf.get(n);if(!e&&n===Ug&&MA())return jA();if(!e)throw lo.create("no-app",{appName:n});return e}function uo(n,e,t){var r;let s=(r=O2[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}Ml(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="firebase-heartbeat-database",$2=1,hc="firebase-heartbeat-store";let og=null;function BA(){return og||(og=t2(V2,$2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw lo.create("idb-open",{originalErrorMessage:n.message})})),og}async function U2(n){try{const t=(await BA()).transaction(hc),r=await t.objectStore(hc).get(HA(n));return await t.done,r}catch(e){if(e instanceof ws)hs.warn(e.message);else{const t=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(t.message)}}}async function B0(n,e){try{const r=(await BA()).transaction(hc,"readwrite");await r.objectStore(hc).put(e,HA(n)),await r.done}catch(t){if(t instanceof ws)hs.warn(t.message);else{const r=lo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hs.warn(r.message)}}}function HA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=1024,F2=30;class B2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new z2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>F2){const l=W2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:r,unsentEntries:s}=H2(this._heartbeatsCache.heartbeats),a=Qf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return hs.warn(t),""}}}function H0(){return new Date().toISOString().substring(0,10)}function H2(n,e=j2){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),z0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),z0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class z2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kV()?PV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await U2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return B0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return B0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function z0(n){return Qf(JSON.stringify({version:2,heartbeats:n})).length}function W2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n){Ml(new da("platform-logger",e=>new i2(e),"PRIVATE")),Ml(new da("heartbeat",e=>new B2(e),"PRIVATE")),uo($g,j0,n),uo($g,j0,"esm2017"),uo("fire-js","")}q2("");var K2="firebase",G2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(K2,G2,"app");var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,zA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function k(){}k.prototype=A.prototype,S.D=A.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(O,L,V){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return A.prototype[L].apply(O,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,A,k){k||(k=0);var O=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)O[L]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(L=0;16>L;++L)O[L]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=S.g[0],k=S.g[1],L=S.g[2];var V=S.g[3],D=A+(V^k&(L^V))+O[0]+3614090360&4294967295;A=k+(D<<7&4294967295|D>>>25),D=V+(L^A&(k^L))+O[1]+3905402710&4294967295,V=A+(D<<12&4294967295|D>>>20),D=L+(k^V&(A^k))+O[2]+606105819&4294967295,L=V+(D<<17&4294967295|D>>>15),D=k+(A^L&(V^A))+O[3]+3250441966&4294967295,k=L+(D<<22&4294967295|D>>>10),D=A+(V^k&(L^V))+O[4]+4118548399&4294967295,A=k+(D<<7&4294967295|D>>>25),D=V+(L^A&(k^L))+O[5]+1200080426&4294967295,V=A+(D<<12&4294967295|D>>>20),D=L+(k^V&(A^k))+O[6]+2821735955&4294967295,L=V+(D<<17&4294967295|D>>>15),D=k+(A^L&(V^A))+O[7]+4249261313&4294967295,k=L+(D<<22&4294967295|D>>>10),D=A+(V^k&(L^V))+O[8]+1770035416&4294967295,A=k+(D<<7&4294967295|D>>>25),D=V+(L^A&(k^L))+O[9]+2336552879&4294967295,V=A+(D<<12&4294967295|D>>>20),D=L+(k^V&(A^k))+O[10]+4294925233&4294967295,L=V+(D<<17&4294967295|D>>>15),D=k+(A^L&(V^A))+O[11]+2304563134&4294967295,k=L+(D<<22&4294967295|D>>>10),D=A+(V^k&(L^V))+O[12]+1804603682&4294967295,A=k+(D<<7&4294967295|D>>>25),D=V+(L^A&(k^L))+O[13]+4254626195&4294967295,V=A+(D<<12&4294967295|D>>>20),D=L+(k^V&(A^k))+O[14]+2792965006&4294967295,L=V+(D<<17&4294967295|D>>>15),D=k+(A^L&(V^A))+O[15]+1236535329&4294967295,k=L+(D<<22&4294967295|D>>>10),D=A+(L^V&(k^L))+O[1]+4129170786&4294967295,A=k+(D<<5&4294967295|D>>>27),D=V+(k^L&(A^k))+O[6]+3225465664&4294967295,V=A+(D<<9&4294967295|D>>>23),D=L+(A^k&(V^A))+O[11]+643717713&4294967295,L=V+(D<<14&4294967295|D>>>18),D=k+(V^A&(L^V))+O[0]+3921069994&4294967295,k=L+(D<<20&4294967295|D>>>12),D=A+(L^V&(k^L))+O[5]+3593408605&4294967295,A=k+(D<<5&4294967295|D>>>27),D=V+(k^L&(A^k))+O[10]+38016083&4294967295,V=A+(D<<9&4294967295|D>>>23),D=L+(A^k&(V^A))+O[15]+3634488961&4294967295,L=V+(D<<14&4294967295|D>>>18),D=k+(V^A&(L^V))+O[4]+3889429448&4294967295,k=L+(D<<20&4294967295|D>>>12),D=A+(L^V&(k^L))+O[9]+568446438&4294967295,A=k+(D<<5&4294967295|D>>>27),D=V+(k^L&(A^k))+O[14]+3275163606&4294967295,V=A+(D<<9&4294967295|D>>>23),D=L+(A^k&(V^A))+O[3]+4107603335&4294967295,L=V+(D<<14&4294967295|D>>>18),D=k+(V^A&(L^V))+O[8]+1163531501&4294967295,k=L+(D<<20&4294967295|D>>>12),D=A+(L^V&(k^L))+O[13]+2850285829&4294967295,A=k+(D<<5&4294967295|D>>>27),D=V+(k^L&(A^k))+O[2]+4243563512&4294967295,V=A+(D<<9&4294967295|D>>>23),D=L+(A^k&(V^A))+O[7]+1735328473&4294967295,L=V+(D<<14&4294967295|D>>>18),D=k+(V^A&(L^V))+O[12]+2368359562&4294967295,k=L+(D<<20&4294967295|D>>>12),D=A+(k^L^V)+O[5]+4294588738&4294967295,A=k+(D<<4&4294967295|D>>>28),D=V+(A^k^L)+O[8]+2272392833&4294967295,V=A+(D<<11&4294967295|D>>>21),D=L+(V^A^k)+O[11]+1839030562&4294967295,L=V+(D<<16&4294967295|D>>>16),D=k+(L^V^A)+O[14]+4259657740&4294967295,k=L+(D<<23&4294967295|D>>>9),D=A+(k^L^V)+O[1]+2763975236&4294967295,A=k+(D<<4&4294967295|D>>>28),D=V+(A^k^L)+O[4]+1272893353&4294967295,V=A+(D<<11&4294967295|D>>>21),D=L+(V^A^k)+O[7]+4139469664&4294967295,L=V+(D<<16&4294967295|D>>>16),D=k+(L^V^A)+O[10]+3200236656&4294967295,k=L+(D<<23&4294967295|D>>>9),D=A+(k^L^V)+O[13]+681279174&4294967295,A=k+(D<<4&4294967295|D>>>28),D=V+(A^k^L)+O[0]+3936430074&4294967295,V=A+(D<<11&4294967295|D>>>21),D=L+(V^A^k)+O[3]+3572445317&4294967295,L=V+(D<<16&4294967295|D>>>16),D=k+(L^V^A)+O[6]+76029189&4294967295,k=L+(D<<23&4294967295|D>>>9),D=A+(k^L^V)+O[9]+3654602809&4294967295,A=k+(D<<4&4294967295|D>>>28),D=V+(A^k^L)+O[12]+3873151461&4294967295,V=A+(D<<11&4294967295|D>>>21),D=L+(V^A^k)+O[15]+530742520&4294967295,L=V+(D<<16&4294967295|D>>>16),D=k+(L^V^A)+O[2]+3299628645&4294967295,k=L+(D<<23&4294967295|D>>>9),D=A+(L^(k|~V))+O[0]+4096336452&4294967295,A=k+(D<<6&4294967295|D>>>26),D=V+(k^(A|~L))+O[7]+1126891415&4294967295,V=A+(D<<10&4294967295|D>>>22),D=L+(A^(V|~k))+O[14]+2878612391&4294967295,L=V+(D<<15&4294967295|D>>>17),D=k+(V^(L|~A))+O[5]+4237533241&4294967295,k=L+(D<<21&4294967295|D>>>11),D=A+(L^(k|~V))+O[12]+1700485571&4294967295,A=k+(D<<6&4294967295|D>>>26),D=V+(k^(A|~L))+O[3]+2399980690&4294967295,V=A+(D<<10&4294967295|D>>>22),D=L+(A^(V|~k))+O[10]+4293915773&4294967295,L=V+(D<<15&4294967295|D>>>17),D=k+(V^(L|~A))+O[1]+2240044497&4294967295,k=L+(D<<21&4294967295|D>>>11),D=A+(L^(k|~V))+O[8]+1873313359&4294967295,A=k+(D<<6&4294967295|D>>>26),D=V+(k^(A|~L))+O[15]+4264355552&4294967295,V=A+(D<<10&4294967295|D>>>22),D=L+(A^(V|~k))+O[6]+2734768916&4294967295,L=V+(D<<15&4294967295|D>>>17),D=k+(V^(L|~A))+O[13]+1309151649&4294967295,k=L+(D<<21&4294967295|D>>>11),D=A+(L^(k|~V))+O[4]+4149444226&4294967295,A=k+(D<<6&4294967295|D>>>26),D=V+(k^(A|~L))+O[11]+3174756917&4294967295,V=A+(D<<10&4294967295|D>>>22),D=L+(A^(V|~k))+O[2]+718787259&4294967295,L=V+(D<<15&4294967295|D>>>17),D=k+(V^(L|~A))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+V&4294967295}r.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var k=A-this.blockSize,O=this.B,L=this.h,V=0;V<A;){if(L==0)for(;V<=k;)s(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<A;)if(O[L++]=S.charCodeAt(V++),L==this.blockSize){s(this,O),L=0;break}}else for(;V<A;)if(O[L++]=S[V++],L==this.blockSize){s(this,O),L=0;break}}this.h=L,this.o+=A},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var k=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=k&255,k/=256;for(this.u(S),S=Array(16),A=k=0;4>A;++A)for(var O=0;32>O;O+=8)S[k++]=this.g[A]>>>O&255;return S};function a(S,A){var k=d;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=A(S)}function l(S,A){this.h=A;for(var k=[],O=!0,L=S.length-1;0<=L;L--){var V=S[L]|0;O&&V==A||(k[L]=V,O=!1)}this.g=k}var d={};function h(S){return-128<=S&&128>S?a(S,function(A){return new l([A|0],0>A?-1:0)}):new l([S|0],0>S?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return N(p(-S));for(var A=[],k=1,O=0;S>=k;O++)A[O]=S/k|0,k*=4294967296;return new l(A,0)}function g(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return N(g(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(A,8)),O=_,L=0;L<S.length;L+=8){var V=Math.min(8,S.length-L),D=parseInt(S.substring(L,L+V),A);8>V?(V=p(Math.pow(A,V)),O=O.j(V).add(p(D))):(O=O.j(k),O=O.add(p(D)))}return O}var _=h(0),T=h(1),C=h(16777216);n=l.prototype,n.m=function(){if(x(this))return-N(this).m();for(var S=0,A=1,k=0;k<this.g.length;k++){var O=this.i(k);S+=(0<=O?O:4294967296+O)*A,A*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(x(this))return"-"+N(this).toString(S);for(var A=p(Math.pow(S,6)),k=this,O="";;){var L=q(k,A).g;k=H(k,L.j(A));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=L,P(k))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function x(S){return S.h==-1}n.l=function(S){return S=H(this,S),x(S)?-1:P(S)?0:1};function N(S){for(var A=S.g.length,k=[],O=0;O<A;O++)k[O]=~S.g[O];return new l(k,~S.h).add(T)}n.abs=function(){return x(this)?N(this):this},n.add=function(S){for(var A=Math.max(this.g.length,S.g.length),k=[],O=0,L=0;L<=A;L++){var V=O+(this.i(L)&65535)+(S.i(L)&65535),D=(V>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);O=D>>>16,V&=65535,D&=65535,k[L]=D<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function H(S,A){return S.add(N(A))}n.j=function(S){if(P(this)||P(S))return _;if(x(this))return x(S)?N(this).j(N(S)):N(N(this).j(S));if(x(S))return N(this.j(N(S)));if(0>this.l(C)&&0>S.l(C))return p(this.m()*S.m());for(var A=this.g.length+S.g.length,k=[],O=0;O<2*A;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<S.g.length;L++){var V=this.i(O)>>>16,D=this.i(O)&65535,we=S.i(L)>>>16,xe=S.i(L)&65535;k[2*O+2*L]+=D*xe,$(k,2*O+2*L),k[2*O+2*L+1]+=V*xe,$(k,2*O+2*L+1),k[2*O+2*L+1]+=D*we,$(k,2*O+2*L+1),k[2*O+2*L+2]+=V*we,$(k,2*O+2*L+2)}for(O=0;O<A;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=A;O<2*A;O++)k[O]=0;return new l(k,0)};function $(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function z(S,A){this.g=S,this.h=A}function q(S,A){if(P(A))throw Error("division by zero");if(P(S))return new z(_,_);if(x(S))return A=q(N(S),A),new z(N(A.g),N(A.h));if(x(A))return A=q(S,N(A)),new z(N(A.g),A.h);if(30<S.g.length){if(x(S)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var k=T,O=A;0>=O.l(S);)k=Z(k),O=Z(O);var L=Q(k,1),V=Q(O,1);for(O=Q(O,2),k=Q(k,2);!P(O);){var D=V.add(O);0>=D.l(S)&&(L=L.add(k),V=D),O=Q(O,1),k=Q(k,1)}return A=H(S,L.j(A)),new z(L,A)}for(L=_;0<=S.l(A);){for(k=Math.max(1,Math.floor(S.m()/A.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=p(k),D=V.j(A);x(D)||0<D.l(S);)k-=O,V=p(k),D=V.j(A);P(V)&&(V=T),L=L.add(V),S=H(S,D)}return new z(L,S)}n.A=function(S){return q(this,S).h},n.and=function(S){for(var A=Math.max(this.g.length,S.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)&S.i(O);return new l(k,this.h&S.h)},n.or=function(S){for(var A=Math.max(this.g.length,S.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)|S.i(O);return new l(k,this.h|S.h)},n.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)^S.i(O);return new l(k,this.h^S.h)};function Z(S){for(var A=S.g.length+1,k=[],O=0;O<A;O++)k[O]=S.i(O)<<1|S.i(O-1)>>>31;return new l(k,S.h)}function Q(S,A){var k=A>>5;A%=32;for(var O=S.g.length-k,L=[],V=0;V<O;V++)L[V]=0<A?S.i(V+k)>>>A|S.i(V+k+1)<<32-A:S.i(V+k);return new l(L,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,co=l}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WA,Qu,qA,kf,Fg,KA,GA,QA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var E=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var K=c[b];if(!(K in E))break e;E=E[K]}c=c[c.length-1],b=E[c],y=y(b),y!=b&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var E=0,b=!1,K={next:function(){if(!b&&E<c.length){var te=E++;return{value:y(te,c[te]),done:!1}}return b=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function h(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function _(c,y,E){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,b),c.apply(y,K)}}return function(){return c.apply(y,arguments)}}function T(c,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function C(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function P(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(b,K,te){for(var ge=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ge[bt-2]=arguments[bt];return y.prototype[K].apply(b,ge)}}function x(c){const y=c.length;if(0<y){const E=Array(y);for(let b=0;b<y;b++)E[b]=c[b];return E}return[]}function N(c,y){for(let E=1;E<arguments.length;E++){const b=arguments[E];if(h(b)){const K=c.length||0,te=b.length||0;c.length=K+te;for(let ge=0;ge<te;ge++)c[K+ge]=b[ge]}else c.push(b)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function q(c){return q[" "](c),c}q[" "]=function(){};var Z=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Q(c,y,E){for(const b in c)y.call(E,c[b],b,c)}function S(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function A(c){const y={};for(const E in c)y[E]=c[E];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let E,b;for(let K=1;K<arguments.length;K++){b=arguments[K];for(E in b)c[E]=b[E];for(let te=0;te<k.length;te++)E=k[te],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function L(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function V(c){d.setTimeout(()=>{throw c},0)}function D(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,E){const b=xe.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var xe=new H(()=>new Fe,c=>c.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,me=new we,ae=()=>{const c=d.Promise.resolve(void 0);Ne=()=>{c.then(F)}};var F=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(E){V(E)}var y=xe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c}();function Te(c,y){if(he.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{q(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}P(Te,he);var Ae={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function st(c,y,E,b,K){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=K,this.key=++Ue,this.da=this.fa=!1}function Et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function It(c){this.src=c,this.g={},this.h=0}It.prototype.add=function(c,y,E,b,K){var te=c.toString();c=this.g[te],c||(c=this.g[te]=[],this.h++);var ge=kt(c,y,b,K);return-1<ge?(y=c[ge],E||(y.fa=!1)):(y=new st(y,this.src,te,!!b,K),y.fa=E,c.push(y)),y};function it(c,y){var E=y.type;if(E in c.g){var b=c.g[E],K=Array.prototype.indexOf.call(b,y,void 0),te;(te=0<=K)&&Array.prototype.splice.call(b,K,1),te&&(Et(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function kt(c,y,E,b){for(var K=0;K<c.length;++K){var te=c[K];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==b)return K}return-1}var qt="closure_lm_"+(1e6*Math.random()|0),rt={};function jt(c,y,E,b,K){if(Array.isArray(y)){for(var te=0;te<y.length;te++)jt(c,y[te],E,b,K);return null}return E=on(E),c&&c[qe]?c.K(y,E,p(b)?!!b.capture:!1,K):pn(c,y,E,!1,b,K)}function pn(c,y,E,b,K,te){if(!y)throw Error("Invalid event type");var ge=p(K)?!!K.capture:!!K,bt=Pn(c);if(bt||(c[qt]=bt=new It(c)),E=bt.add(y,E,b,ge,te),E.proxy)return E;if(b=Rr(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)ve||(K=ge),K===void 0&&(K=!1),c.addEventListener(y.toString(),b,K);else if(c.attachEvent)c.attachEvent(Jt(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rr(){function c(E){return y.call(c.src,c.listener,E)}const y=Jn;return c}function Hn(c,y,E,b,K){if(Array.isArray(y))for(var te=0;te<y.length;te++)Hn(c,y[te],E,b,K);else b=p(b)?!!b.capture:!!b,E=on(E),c&&c[qe]?(c=c.i,y=String(y).toString(),y in c.g&&(te=c.g[y],E=kt(te,E,b,K),-1<E&&(Et(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete c.g[y],c.h--)))):c&&(c=Pn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=kt(y,E,b,K)),(E=-1<c?y[c]:null)&&Ft(E))}function Ft(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[qe])it(y.i,c);else{var E=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(E,b,c.capture):y.detachEvent?y.detachEvent(Jt(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Pn(y))?(it(E,c),E.h==0&&(E.src=null,y[qt]=null)):Et(c)}}}function Jt(c){return c in rt?rt[c]:rt[c]="on"+c}function Jn(c,y){if(c.da)c=!0;else{y=new Te(y,this);var E=c.listener,b=c.ha||c.src;c.fa&&Ft(c),c=E.call(b,y)}return c}function Pn(c){return c=c[qt],c instanceof It?c:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(c){return typeof c=="function"?c:(c[Dt]||(c[Dt]=function(y){return c.handleEvent(y)}),c[Dt])}function $e(){ee.call(this),this.i=new It(this),this.M=this,this.F=null}P($e,ee),$e.prototype[qe]=!0,$e.prototype.removeEventListener=function(c,y,E,b){Hn(this,c,y,E,b)};function mt(c,y){var E,b=c.F;if(b)for(E=[];b;b=b.F)E.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new he(y,c);else if(y instanceof he)y.target=y.target||c;else{var K=y;y=new he(b,c),O(y,K)}if(K=!0,E)for(var te=E.length-1;0<=te;te--){var ge=y.g=E[te];K=Ot(ge,b,!0,y)&&K}if(ge=y.g=c,K=Ot(ge,b,!0,y)&&K,K=Ot(ge,b,!1,y)&&K,E)for(te=0;te<E.length;te++)ge=y.g=E[te],K=Ot(ge,b,!1,y)&&K}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],b=0;b<E.length;b++)Et(E[b]);delete c.g[y],c.h--}}this.F=null},$e.prototype.K=function(c,y,E,b){return this.i.add(String(c),y,!1,E,b)},$e.prototype.L=function(c,y,E,b){return this.i.add(String(c),y,!0,E,b)};function Ot(c,y,E,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,te=0;te<y.length;++te){var ge=y[te];if(ge&&!ge.da&&ge.capture==E){var bt=ge.listener,an=ge.ha||ge.src;ge.fa&&it(c.i,ge),K=bt.call(an,b)!==!1&&K}}return K&&!b.defaultPrevented}function mn(c,y,E){if(typeof c=="function")E&&(c=T(c,E));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function zn(c){c.g=mn(()=>{c.g=null,c.i&&(c.i=!1,zn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Wn extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(c){ee.call(this),this.h=c,this.g={}}P(Be,ee);var ot=[];function gn(c){Q(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ft(y)},c),c.g={}}Be.prototype.N=function(){Be.aa.N.call(this),gn(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,di=d.JSON.parse,bo=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function fi(){}fi.prototype.h=null;function qr(c){return c.h||(c.h=c.i())}function Vi(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){he.call(this,"d")}P(er,he);function Is(){he.call(this,"c")}P(Is,he);var pr={},No=null;function hi(){return No=No||new $e}pr.La="serverreachability";function pi(c){he.call(this,pr.La,c)}P(pi,he);function tr(c){const y=hi();mt(y,new pi(y))}pr.STAT_EVENT="statevent";function ko(c,y){he.call(this,pr.STAT_EVENT,c),this.stat=y}P(ko,he);function Bt(c){const y=hi();mt(y,new ko(y,c))}pr.Ma="timingevent";function U(c,y){he.call(this,pr.Ma,c),this.size=y}P(U,he);function W(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function re(c,y,E,b,K,te){c.info(function(){if(c.g)if(te)for(var ge="",bt=te.split("&"),an=0;an<bt.length;an++){var vt=bt[an].split("=");if(1<vt.length){var yn=vt[0];vt=vt[1];var en=yn.split("_");ge=2<=en.length&&en[1]=="type"?ge+(yn+"="+vt+"&"):ge+(yn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+b+") [attempt "+K+"]: "+y+`
`+E+`
`+ge})}function _e(c,y,E,b,K,te,ge){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+K+"]: "+y+`
`+E+`
`+te+" "+ge})}function ke(c,y,E,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(c,E)+(b?" "+b:"")})}function Qe(c,y){c.info(function(){return"TIMEOUT: "+y})}X.prototype.info=function(){};function Pe(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var b=E[c];if(!(2>b.length)){var K=b[1];if(Array.isArray(K)&&!(1>K.length)){var te=K[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<K.length;ge++)K[ge]=""}}}}return Zn(E)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function et(){}P(et,fi),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},De=new et;function Je(c,y,E,b){this.j=c,this.i=y,this.l=E,this.R=b||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var Tt={},at={};function Rt(c,y,E){c.L=1,c.v=Ns(yr(y)),c.m=E,c.P=!0,br(c,null)}function br(c,y){c.F=Date.now(),ct(c),c.A=yr(c.v);var E=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ps(E.i,"t",b),c.C=0,E=c.j.J,c.h=new Kt,c.g=ud(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Wn(T(c.Y,c,c.g),c.O)),y=c.U,E=c.g,b=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(ot[0]=K.toString()),K=ot);for(var te=0;te<K.length;te++){var ge=jt(E,K[te],b||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),tr(),re(c.i,c.u,c.A,c.l,c.R,c.m)}Je.prototype.ca=function(c){c=c.target;const y=this.M;y&&rr(c)==3?y.j():this.Y(c)},Je.prototype.Y=function(c){try{if(c==this.g)e:{const en=rr(this.g);var y=this.g.Ba();const Pr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||en!=4||y==7||(y==8||0>=Pr?tr(3):tr(2)),gr(this);var E=this.g.Z();this.X=E;t:if(mi(this)){var b=fu(this.g);c="";var K=b.length,te=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),On(this);var ge="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(te&&y==K-1)});b.length=0,this.h.g+=c,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,_e(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,an=this.g;if((bt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(bt)){var vt=bt;break t}}vt=null}if(E=vt)ke(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gi(this,E);else{this.o=!1,this.s=3,Bt(12),Tn(this),On(this);break e}}if(this.P){E=!0;let _r;for(;!this.J&&this.C<ge.length;)if(_r=mr(this,ge),_r==at){en==4&&(this.s=4,Bt(14),E=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Tt){this.s=4,Bt(15),ke(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else ke(this.i,this.l,_r,null),gi(this,_r);if(mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ge.length!=0||this.h.h||(this.s=1,Bt(16),E=!1),this.o=this.o&&E,!E)ke(this.i,this.l,ge,"[Invalid Chunked Response]"),Tn(this),On(this);else if(0<ge.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),pu(yn),yn.M=!0,Bt(11))}}else ke(this.i,this.l,ge,null),gi(this,ge);en==4&&Tn(this),this.o&&!this.J&&(en==4?$a(this.j,this):(this.o=!1,ct(this)))}else Oa(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Tn(this),On(this)}}}catch{}finally{}};function mi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mr(c,y){var E=c.C,b=y.indexOf(`
`,E);return b==-1?at:(E=Number(y.substring(E,b)),isNaN(E)?Tt:(b+=1,b+E>y.length?at:(y=y.slice(b,b+E),c.C=b+E,y)))}Je.prototype.cancel=function(){this.J=!0,Tn(this)};function ct(c){c.S=Date.now()+c.I,Cs(c,c.I)}function Cs(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=W(T(c.ba,c),y)}function gr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qe(this.i,this.A),this.L!=2&&(tr(),Bt(17)),Tn(this),this.s=2,On(this)):Cs(this,this.S-c)};function On(c){c.j.G==0||c.J||$a(c.j,c)}function Tn(c){gr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gi(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||ft(E.h,c))){if(!c.K&&ft(E.h,c)&&E.G==3){try{var b=E.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var K=b;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Va(E),Xr(E);else break e;Ma(E),Bt(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=W(T(E.Za,E),6e3));if(1>=yi(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Bi(E,11)}else if((c.K||E.g==c)&&Va(E),!$(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let vt=K[y];if(E.T=vt[0],vt=vt[1],E.G==2)if(vt[0]=="c"){E.K=vt[1],E.ia=vt[2];const yn=vt[3];yn!=null&&(E.la=yn,E.j.info("VER="+E.la));const en=vt[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const Pr=vt[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(b=1.5*Pr,E.L=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const _r=c.g;if(_r){const Vo=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vo){var te=b.h;te.g||Vo.indexOf("spdy")==-1&&Vo.indexOf("quic")==-1&&Vo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Nr(te,te.h),te.h=null))}if(b.D){const ja=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(b.ya=ja,Pt(b.I,b.D,ja))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),b=E;var ge=c;if(b.qa=ld(b,b.J?b.ia:null,b.W),ge.K){Po(b.h,ge);var bt=ge,an=b.L;an&&(bt.I=an),bt.B&&(gr(bt),ct(bt)),b.g=ge}else Mo(b);0<E.i.length&&Ei(E)}else vt[0]!="stop"&&vt[0]!="close"||Bi(E,7);else E.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Bi(E,7):In(E):vt[0]!="noop"&&E.l&&E.l.ta(vt),E.v=0)}}tr(4)}catch{}}var dt=class{constructor(c,y){this.g=c,this.map=y}};function Ct(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function ft(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Nr(c,y){c.g?c.g.add(y):c.h=y}function Po(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ct.prototype.cancel=function(){if(this.i=Ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ra(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return x(c.i)}function ba(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var y=[],E=c.length,b=0;b<E;b++)y.push(c[b]);return y}y=[],E=0;for(b in c)y[E++]=c[b];return y}function Na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const b in c)y[E++]=b;return y}}}function As(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Na(c),b=ba(c),K=b.length,te=0;te<K;te++)y.call(void 0,b[te],E&&E[te],c)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tp(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var b=c[E].indexOf("="),K=null;if(0<=b){var te=c[E].substring(0,b);K=c[E].substring(b+1)}else te=c[E];y(te,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function $i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $i){this.h=c.h,Oo(this,c.j),this.o=c.o,this.g=c.g,Rs(this,c.s),this.l=c.l;var y=c.i,E=new vi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),bs(this,E),this.m=c.m}else c&&(y=String(c).match(Do))?(this.h=!1,Oo(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),Rs(this,y[4]),this.l=gt(y[5]||"",!0),bs(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}$i.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ks(y,ka,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ks(y,ka,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ks(E,E.charAt(0)=="/"?ed:Zc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ks(E,uu)),c.join("")};function yr(c){return new $i(c)}function Oo(c,y,E){c.j=E?gt(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function bs(c,y,E){y instanceof vi?(c.i=y,_i(c.i,c.h)):(E||(y=ks(y,td)),c.i=new vi(y,c.h))}function Pt(c,y,E){c.i.set(y,E)}function Ns(c){return Pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function gt(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Jc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ka=/[#\/\?@]/g,Zc=/[#\?:]/g,ed=/[#\?]/g,td=/[#\?@]/g,uu=/#/g;function vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&tp(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=vi.prototype,n.add=function(c,y){Sn(this),this.i=null,c=kr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Kr(c,y){Sn(c),y=kr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gr(c,y){return Sn(c),y=kr(c,y),c.g.has(y)}n.forEach=function(c,y){Sn(this),this.g.forEach(function(E,b){E.forEach(function(K){c.call(y,K,b,this)},this)},this)},n.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let b=0;b<y.length;b++){const K=c[b];for(let te=0;te<K.length;te++)E.push(y[b])}return E},n.V=function(c){Sn(this);let y=[];if(typeof c=="string")Gr(this,c)&&(y=y.concat(this.g.get(kr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},n.set=function(c,y){return Sn(this),this.i=null,c=kr(this,c),Gr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ps(c,y,E){Kr(c,y),0<E.length&&(c.i=null,c.g.set(kr(c,y),x(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var b=y[E];const te=encodeURIComponent(String(b)),ge=this.V(b);for(b=0;b<ge.length;b++){var K=te;ge[b]!==""&&(K+="="+encodeURIComponent(String(ge[b]))),c.push(K)}}return this.i=c.join("&")};function kr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _i(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(E,b){var K=b.toLowerCase();b!=K&&(Kr(this,b),Ps(this,K,E))},c)),c.j=y}function np(c,y){const E=new X;if(d.Image){const b=new Image;b.onload=C(nr,E,"TestLoadImage: loaded",!0,y,b),b.onerror=C(nr,E,"TestLoadImage: error",!1,y,b),b.onabort=C(nr,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=C(nr,E,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function nd(c,y){const E=new X,b=new AbortController,K=setTimeout(()=>{b.abort(),nr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(te=>{clearTimeout(K),te.ok?nr(E,"TestPingServer: ok",!0,y):nr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),nr(E,"TestPingServer: error",!1,y)})}function nr(c,y,E,b,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),b(E)}catch{}}function rp(){this.g=new bo}function rd(c,y,E){const b=E||"";try{As(c,function(K,te){let ge=K;p(K)&&(ge=Zn(K)),y.push(b+te+"="+encodeURIComponent(ge))})}catch(K){throw y.push(b+"type="+encodeURIComponent("_badmap")),K}}function Ui(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Ui,fi),Ui.prototype.g=function(){return new xo(this.l,this.j)},Ui.prototype.i=function(c){return function(){return c}}({});function xo(c,y){$e.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(xo,$e),n=xo.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Yr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;id(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function id(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Qr(this):Yr(this),this.readyState==3&&id(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Qr(this))},n.Qa=function(c){this.g&&(this.response=c,Qr(this))},n.ga=function(){this.g&&Qr(this)};function Qr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ji(c){let y="";return Q(c,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function Ds(c,y,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=ji(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Pt(c,y,E))}function Vt(c){$e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Vt,$e);var ip=/^https?$/i,cu=["POST","PUT"];n=Vt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?qr(this.o):qr(De),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(te){Lo(this,te);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var K in b)E.set(K,b[K]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const te of b.keys())E.set(te,b.get(te));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),K=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(cu,y,void 0))||b||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of E)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(c),this.u=!1}catch(te){Lo(this,te)}};function Lo(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Pa(c),vr(c)}function Pa(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},n.bb=function(){du(this)};function du(c){if(c.h&&typeof l<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)mn(c.Ea,0,c);else if(mt(c,"readystatechange"),rr(c)==4){c.h=!1;try{const ge=c.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var b;if(b=ge===0){var K=String(c.D).match(Do)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),b=!ip.test(K?K.toLowerCase():"")}E=b}if(E)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var te=2<rr(c)?c.g.statusText:""}catch{te=""}c.l=te+" ["+c.Z()+"]",Pa(c)}}finally{vr(c)}}}}function vr(c,y){if(c.g){Da(c);const E=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||mt(c,"ready");try{E.onreadystatechange=b}catch{}}}function Da(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),di(y)}};function fu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oa(c){const y={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if($(c[b]))continue;var E=L(c[b]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[K]||[];y[K]=te,te.push(E)}S(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function hu(c){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,c),this.cb=wi("retryDelaySeedMs",1e4,c),this.Wa=wi("forwardChannelMaxRetries",2,c),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ct(c&&c.concurrentRequestLimit),this.Da=new rp,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=hu.prototype,n.la=8,n.G=1,n.connect=function(c,y,E,b){Bt(0),this.W=c,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.I=ld(this,null,this.W),Ei(this)};function In(c){if(xa(c),c.G==3){var y=c.U++,E=yr(c.I);if(Pt(E,"SID",c.K),Pt(E,"RID",y),Pt(E,"TYPE","terminate"),Fi(c,E),y=new Je(c,c.j,y),y.L=2,y.v=Ns(yr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=ud(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}ad(c)}function Xr(c){c.g&&(pu(c),c.g.cancel(),c.g=null)}function xa(c){Xr(c),c.u&&(d.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ei(c){if(!Zt(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ne||ae(),ne||(Ne(),ne=!0),me.add(y,c),c.B=0}}function sp(c,y){return yi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=W(T(c.Ga,c,y),od(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new Je(this,this.j,c);let te=this.o;if(this.S&&(te?(te=A(te),O(te,this.S)):te=this.S),this.m!==null||this.O||(K.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Os(this,K,y),E=yr(this.I),Pt(E,"RID",c),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),Fi(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(ji(te)))+"&"+y:this.m&&Ds(E,this.m,te)),Nr(this.h,K),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",y),Pt(E,"SID","null"),K.T=!0,Rt(K,E,null)):Rt(K,E,y),this.G=2}}else this.G==3&&(c?La(this,c):this.i.length==0||Zt(this.h)||La(this))};function La(c,y){var E;y?E=y.l:E=c.U++;const b=yr(c.I);Pt(b,"SID",c.K),Pt(b,"RID",E),Pt(b,"AID",c.T),Fi(c,b),c.m&&c.o&&Ds(b,c.m,c.o),E=new Je(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Os(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nr(c.h,E),Rt(E,b,y)}function Fi(c,y){c.H&&Q(c.H,function(E,b){Pt(y,b,E)}),c.l&&As({},function(E,b){Pt(y,b,E)})}function Os(c,y,E){E=Math.min(c.i.length,E);var b=c.l?T(c.l.Na,c.l,c):null;e:{var K=c.i;let te=-1;for(;;){const ge=["count="+E];te==-1?0<E?(te=K[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let bt=!0;for(let an=0;an<E;an++){let vt=K[an].g;const yn=K[an].map;if(vt-=te,0>vt)te=Math.max(0,K[an].g-100),bt=!1;else try{rd(yn,ge,"req"+vt+"_")}catch{b&&b(yn)}}if(bt){b=ge.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,b}function Mo(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ne||ae(),ne||(Ne(),ne=!0),me.add(y,c),c.v=0}}function Ma(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=W(T(c.Fa,c),od(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,sd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=W(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Xr(this),sd(this))};function pu(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function sd(c){c.g=new Je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yr(c.qa);Pt(y,"RID","rpc"),Pt(y,"SID",c.K),Pt(y,"AID",c.T),Pt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pt(y,"TO",c.ja),Pt(y,"TYPE","xmlhttp"),Fi(c,y),c.m&&c.o&&Ds(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Ns(yr(y)),E.m=null,E.P=!0,br(E,c)}n.Za=function(){this.C!=null&&(this.C=null,Xr(this),Ma(this),Bt(19))};function Va(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function $a(c,y){var E=null;if(c.g==y){Va(c),pu(c),c.g=null;var b=2}else if(ft(c.h,y))E=y.D,Po(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=c.B;b=hi(),mt(b,new U(b,E)),Ei(c)}else Mo(c);else if(K=y.s,K==3||K==0&&0<y.X||!(b==1&&sp(c,y)||b==2&&Ma(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),K){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function od(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Bi(c,y){if(c.j.info("Error code "+y),y==2){var E=T(c.fb,c),b=c.Xa;const K=!b;b=new $i(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oo(b,"https"),Ns(b),K?np(b.toString(),E):nd(b.toString(),E)}else Bt(2);c.G=0,c.l&&c.l.sa(y),ad(c),xa(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function ad(c){if(c.G=0,c.ka=[],c.l){const y=Ra(c.h);(y.length!=0||c.i.length!=0)&&(N(c.ka,y),N(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function ld(c,y,E){var b=E instanceof $i?yr(E):new $i(E);if(b.g!="")y&&(b.g=y+"."+b.g),Rs(b,b.s);else{var K=d.location;b=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var te=new $i(null);b&&Oo(te,b),y&&(te.g=y),K&&Rs(te,K),E&&(te.l=E),b=te}return E=c.D,y=c.ya,E&&y&&Pt(b,E,y),Pt(b,"VER",c.la),Fi(c,b),b}function ud(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Vt(new Ui({eb:E})):new Vt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}n=mu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ua(){}Ua.prototype.g=function(c,y){return new qn(c,y)};function qn(c,y){$e.call(this),this.g=new hu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ti(this)}P(qn,$e),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){In(this.g)},qn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Zn(c),c=E);y.i.push(new dt(y.Ya++,c)),y.G==3&&Ei(y)},qn.prototype.N=function(){this.g.l=null,delete this.j,In(this.g),delete this.g,qn.aa.N.call(this)};function cd(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(cd,er);function dd(){Is.call(this),this.status=1}P(dd,Is);function Ti(c){this.g=c}P(Ti,mu),Ti.prototype.ua=function(){mt(this.g,"a")},Ti.prototype.ta=function(c){mt(this.g,new cd(c))},Ti.prototype.sa=function(c){mt(this.g,new dd)},Ti.prototype.ra=function(){mt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,QA=function(){return new Ua},GA=function(){return hi()},KA=pr,Fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,kf=Re,Ie.COMPLETE="complete",qA=Ie,Vi.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Qu=Vi,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,WA=Vt}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const q0="@firebase/firestore",K0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new rv("@firebase/firestore");function gl(){return fa.logLevel}function be(n,...e){if(fa.logLevel<=ht.DEBUG){const t=e.map(ov);fa.debug(`Firestore (${iu}): ${n}`,...t)}}function ps(n,...e){if(fa.logLevel<=ht.ERROR){const t=e.map(ov);fa.error(`Firestore (${iu}): ${n}`,...t)}}function Vl(n,...e){if(fa.logLevel<=ht.WARN){const t=e.map(ov);fa.warn(`Firestore (${iu}): ${n}`,...t)}}function ov(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n="Unexpected state"){const e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+n;throw ps(e),new Error(e)}function At(n,e){n||Xe()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends ws{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Un.UNAUTHENTICATED))}shutdown(){}}class Y2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class X2{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fo,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},d=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fo)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new YA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new Un(e)}}class J2{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Z2{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new J2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e${constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,oi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new G0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=t$(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function $l(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-62135596800,Y0=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Y0);return new fn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q0)throw new Ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new fn(0,0))}static max(){return new tt(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class Ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(),r===void 0?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Ri.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ri.isNumericId(e),s=Ri.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return co.fromString(e.substring(4,e.length-2))}}class Qt extends Ri{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const n$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Ri{construct(e,t,r){return new Nn(e,t,r)}static isValidIdentifier(e){return n$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new Nn([X0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ke(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new Ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(t)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Qt.fromString(e))}static fromName(e){return new Ge(Qt.fromString(e).popFirst(5))}static empty(){return new Ge(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Qt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=-1;function r$(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=tt.fromTimestamp(r===1e9?new fn(t+1,0):new fn(t,r));return new go(s,Ge.empty(),e)}function i$(n){return new go(n.readTime,n.key,pc)}class go{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new go(tt.min(),Ge.empty(),pc)}static max(){return new go(tt.max(),Ge.empty(),pc)}}function s$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ge.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==o$)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let s=0,a=0,l=!1;e.forEach(d=>{++s,d.next(()=>{++a,l&&a===s&&t()},h=>r(h))}),l=!0,a===s&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(s=>s?ie.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++d,d===a&&r(l)},g=>s(g))}})}static doWhile(e,t){return new ie((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function l$(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ou(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Vh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-1;function $h(n){return n==null}function Jf(n){return n===0&&1/n==-1/0}function u$(n){return typeof n=="number"&&Number.isInteger(n)&&!Jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="";function c$(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J0(e)),e=d$(n.get(t),e);return J0(e)}function d$(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case JA:t+="";break;default:t+=a}}return t}function J0(n){return n+JA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ta(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new Wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Rn.RED,this.left=s??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Rn(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Rn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new ai([])}unionWith(e){let t=new hn(Nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eR("Invalid base64 string: "+a):a}}(e);return new kn(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const f$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(n){if(At(!!n),typeof n=="string"){let e=0;const t=f$.exec(n);if(At(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vo(n){return typeof n=="string"?kn.fromBase64String(n):kn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="server_timestamp",nR="__type__",rR="__previous_value__",iR="__local_write_time__";function lv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nR])===null||t===void 0?void 0:t.stringValue)===tR}function Uh(n){const e=n.mapValue.fields[rR];return lv(e)?Uh(e):e}function mc(n){const e=yo(n.mapValue.fields[iR].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,t,r,s,a,l,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const Zf="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||Zf}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="__type__",p$="__max__",vf={mapValue:{}},oR="__vector__",eh="value";function _o(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lv(n)?4:g$(n)?9007199254740991:m$(n)?10:11:Xe()}function xi(n,e){if(n===e)return!0;const t=_o(n);if(t!==_o(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mc(n).isEqual(mc(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=yo(s.timestampValue),d=yo(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return vo(s.bytesValue).isEqual(vo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Xt(s.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Xt(s.integerValue)===Xt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Xt(s.doubleValue),d=Xt(a.doubleValue);return l===d?Jf(l)===Jf(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return $l(n.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Z0(l)!==Z0(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!xi(l[h],d[h])))return!1;return!0}(n,e);default:return Xe()}}function yc(n,e){return(n.values||[]).find(t=>xi(t,e))!==void 0}function Ul(n,e){if(n===e)return 0;const t=_o(n),r=_o(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const d=Xt(a.integerValue||a.doubleValue),h=Xt(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return tT(n.timestampValue,e.timestampValue);case 4:return tT(mc(n),mc(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(a,l){const d=vo(a),h=vo(l);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const d=a.split("/"),h=l.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=yt(d[p],h[p]);if(g!==0)return g}return yt(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const d=yt(Xt(a.latitude),Xt(l.latitude));return d!==0?d:yt(Xt(a.longitude),Xt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nT(n.arrayValue,e.arrayValue);case 10:return function(a,l){var d,h,p,g;const _=a.fields||{},T=l.fields||{},C=(d=_[eh])===null||d===void 0?void 0:d.arrayValue,P=(h=T[eh])===null||h===void 0?void 0:h.arrayValue,x=yt(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:nT(C,P)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===vf.mapValue&&l===vf.mapValue)return 0;if(a===vf.mapValue)return 1;if(l===vf.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const T=yt(h[_],g[_]);if(T!==0)return T;const C=Ul(d[h[_]],p[g[_]]);if(C!==0)return C}return yt(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function tT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=yo(n),r=yo(e),s=yt(t.seconds,r.seconds);return s!==0?s:yt(t.nanos,r.nanos)}function nT(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Ul(t[s],r[s]);if(a)return a}return yt(t.length,r.length)}function jl(n){return Bg(n)}function Bg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=yo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return vo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Bg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Bg(t.fields[l])}`;return s+"}"}(n.mapValue):Xe()}function Pf(n){switch(_o(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(n);return e?16+Pf(e):16;case 5:return 2*n.stringValue.length;case 6:return vo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Pf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ta(r.fields,(a,l)=>{s+=a.length+Pf(l)}),s}(n.mapValue);default:throw Xe()}}function Hg(n){return!!n&&"integerValue"in n}function uv(n){return!!n&&"arrayValue"in n}function rT(n){return!!n&&"nullValue"in n}function iT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Df(n){return!!n&&"mapValue"in n}function m$(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sR])===null||t===void 0?void 0:t.stringValue)===oR}function ic(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ta(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ic(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ic(n.arrayValue.values[t]);return e}return Object.assign({},n)}function g$(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===p$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(t)}setAll(e){let t=Nn.emptyPath(),r={},s=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=d.popLast()}l?r[d.lastSegment()]=ic(l):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Df(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ta(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Ur(ic(this.value))}}function aR(n){const e=[];return Ta(n.fields,(t,r)=>{const s=new Nn([t]);if(Df(r)){const a=aR(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,t,r,s,a,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new jn(e,0,tt.min(),tt.min(),tt.min(),Ur.empty(),0)}static newFoundDocument(e,t,r,s){return new jn(e,1,t,tt.min(),r,s,0)}static newNoDocument(e,t){return new jn(e,2,t,tt.min(),tt.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,tt.min(),tt.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.position=e,this.inclusive=t}}function sT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=Ge.comparator(Ge.fromName(l.referenceValue),t.key):r=Ul(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function oT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function y$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{}class cn extends lR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _$(e,t,r):t==="array-contains"?new T$(e,r):t==="in"?new S$(e,r):t==="not-in"?new I$(e,r):t==="array-contains-any"?new C$(e,r):new cn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new w$(e,r):new E$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ul(t,this.value)):t!==null&&_o(this.value)===_o(t)&&this.matchesComparison(Ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends lR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Li(e,t)}matches(e){return uR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uR(n){return n.op==="and"}function cR(n){return v$(n)&&uR(n)}function v$(n){for(const e of n.filters)if(e instanceof Li)return!1;return!0}function zg(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+jl(n.value);if(cR(n))return n.filters.map(e=>zg(e)).join(",");{const e=n.filters.map(t=>zg(t)).join(",");return`${n.op}(${e})`}}function dR(n,e){return n instanceof cn?function(r,s){return s instanceof cn&&r.op===s.op&&r.field.isEqual(s.field)&&xi(r.value,s.value)}(n,e):n instanceof Li?function(r,s){return s instanceof Li&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,d)=>a&&dR(l,s.filters[d]),!0):!1}(n,e):void Xe()}function fR(n){return n instanceof cn?function(t){return`${t.field.canonicalString()} ${t.op} ${jl(t.value)}`}(n):n instanceof Li?function(t){return t.op.toString()+" {"+t.getFilters().map(fR).join(" ,")+"}"}(n):"Filter"}class _$ extends cn{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class w$ extends cn{constructor(e,t){super(e,"in",t),this.keys=hR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class E$ extends cn{constructor(e,t){super(e,"not-in",t),this.keys=hR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class T$ extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uv(t)&&yc(t.arrayValue,this.value)}}class S$ extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}}class I$ extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yc(this.value.arrayValue,t)}}class C$ extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,t=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.le=null}}function aT(n,e=null,t=[],r=[],s=null,a=null,l=null){return new A$(n,e,t,r,s,a,l)}function cv(n){const e=nt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),$h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jl(r)).join(",")),e.le=t}return e.le}function dv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!y$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oT(n.startAt,e.startAt)&&oT(n.endAt,e.endAt)}function Wg(n){return Ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t=null,r=[],s=[],a=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function R$(n,e,t,r,s,a,l,d){return new jh(n,e,t,r,s,a,l,d)}function fv(n){return new jh(n)}function lT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function b$(n){return n.collectionGroup!==null}function sc(n){const e=nt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new hn(Nn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new nh(a,r))}),t.has(Nn.keyField().canonicalString())||e.he.push(new nh(Nn.keyField(),r))}return e.he}function Ni(n){const e=nt(n);return e.Pe||(e.Pe=N$(e,sc(n))),e.Pe}function N$(n,e){if(n.limitType==="F")return aT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new nh(s.field,a)});const t=n.endAt?new th(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new th(n.startAt.position,n.startAt.inclusive):null;return aT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qg(n,e,t){return new jh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fh(n,e){return dv(Ni(n),Ni(e))&&n.limitType===e.limitType}function pR(n){return`${cv(Ni(n))}|lt:${n.limitType}`}function yl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>fR(s)).join(", ")}]`),$h(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>jl(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>jl(s)).join(",")),`Target(${r})`}(Ni(n))}; limitType=${n.limitType})`}function Bh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of sc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,d,h){const p=sT(l,d,h);return l.inclusive?p<=0:p<0}(r.startAt,sc(r),s)||r.endAt&&!function(l,d,h){const p=sT(l,d,h);return l.inclusive?p>=0:p>0}(r.endAt,sc(r),s))}(n,e)}function k$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mR(n){return(e,t)=>{let r=!1;for(const s of sc(n)){const a=P$(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function P$(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(a,l,d){const h=l.data.field(a),p=d.data.field(a);return h!==null&&p!==null?Ul(h,p):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return ZA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=new Wt(Ge.comparator);function ms(){return D$}const gR=new Wt(Ge.comparator);function Yu(...n){let e=gR;for(const t of n)e=e.insert(t.key,t);return e}function yR(n){let e=gR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ra(){return oc()}function vR(){return oc()}function oc(){return new Sa(n=>n.toString(),(n,e)=>n.isEqual(e))}const O$=new Wt(Ge.comparator),x$=new hn(Ge.comparator);function pt(...n){let e=x$;for(const t of n)e=e.add(t);return e}const L$=new hn(yt);function M$(){return L$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function _R(n){return{integerValue:""+n}}function V$(n,e){return u$(e)?_R(e):hv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function $$(n,e,t){return n instanceof rh?function(s,a){const l={fields:{[nR]:{stringValue:tR},[iR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&lv(a)&&(a=Uh(a)),a&&(l.fields[rR]=a),{mapValue:l}}(t,e):n instanceof vc?ER(n,e):n instanceof _c?TR(n,e):function(s,a){const l=wR(s,a),d=uT(l)+uT(s.Ie);return Hg(l)&&Hg(s.Ie)?_R(d):hv(s.serializer,d)}(n,e)}function U$(n,e,t){return n instanceof vc?ER(n,e):n instanceof _c?TR(n,e):t}function wR(n,e){return n instanceof ih?function(r){return Hg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class rh extends Hh{}class vc extends Hh{constructor(e){super(),this.elements=e}}function ER(n,e){const t=SR(e);for(const r of n.elements)t.some(s=>xi(s,r))||t.push(r);return{arrayValue:{values:t}}}class _c extends Hh{constructor(e){super(),this.elements=e}}function TR(n,e){let t=SR(e);for(const r of n.elements)t=t.filter(s=>!xi(s,r));return{arrayValue:{values:t}}}class ih extends Hh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function uT(n){return Xt(n.integerValue||n.doubleValue)}function SR(n){return uv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function j$(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof vc&&s instanceof vc||r instanceof _c&&s instanceof _c?$l(r.elements,s.elements,xi):r instanceof ih&&s instanceof ih?xi(r.Ie,s.Ie):r instanceof rh&&s instanceof rh}(n.transform,e.transform)}class F${constructor(e,t){this.version=e,this.transformResults=t}}class us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class zh{}function IR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new AR(n.key,us.none()):new Bc(n.key,n.data,us.none());{const t=n.data,r=Ur.empty();let s=new hn(Nn.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Ia(n.key,r,new ai(s.toArray()),us.none())}}function B$(n,e,t){n instanceof Bc?function(s,a,l){const d=s.value.clone(),h=dT(s.fieldTransforms,a,l.transformResults);d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ia?function(s,a,l){if(!Of(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=dT(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(CR(s)),h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ac(n,e,t,r){return n instanceof Bc?function(a,l,d,h){if(!Of(a.precondition,l))return d;const p=a.value.clone(),g=fT(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ia?function(a,l,d,h){if(!Of(a.precondition,l))return d;const p=fT(a.fieldTransforms,h,l),g=l.data;return g.setAll(CR(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,d){return Of(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d}(n,e,t)}function H$(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=wR(r.transform,s||null);a!=null&&(t===null&&(t=Ur.empty()),t.set(r.field,a))}return t||null}function cT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$l(r,s,(a,l)=>j$(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bc extends zh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ia extends zh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function CR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dT(n,e,t){const r=new Map;At(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,U$(l,d,t[s]))}return r}function fT(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,$$(a,l,e))}return r}class AR extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z$ extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&B$(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ac(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ac(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vR();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(s.key)?null:d;const h=IR(l,d);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(t,r)=>cT(t,r))&&$l(this.baseMutations,e.baseMutations,(t,r)=>cT(t,r))}}class pv{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){At(e.mutations.length===r.length);let s=function(){return O$}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new pv(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,_t;function G$(n){switch(n){case de.OK:return Xe();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Xe()}}function RR(n){if(n===void 0)return ps("GRPC error has no .code"),de.UNKNOWN;switch(n){case nn.OK:return de.OK;case nn.CANCELLED:return de.CANCELLED;case nn.UNKNOWN:return de.UNKNOWN;case nn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case nn.INTERNAL:return de.INTERNAL;case nn.UNAVAILABLE:return de.UNAVAILABLE;case nn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case nn.NOT_FOUND:return de.NOT_FOUND;case nn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case nn.ABORTED:return de.ABORTED;case nn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case nn.DATA_LOSS:return de.DATA_LOSS;default:return Xe()}}(_t=nn||(nn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new co([4294967295,4294967295],0);function hT(n){const e=Q$().encode(n),t=new zA;return t.update(e),new Uint8Array(t.digest())}function pT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new co([t,r],0),new co([s,a],0)]}class mv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xu(`Invalid padding: ${t}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=co.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(co.fromNumber(r)));return s.compare(Y$)===1&&(s=new co([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=hT(e),[r,s]=pT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new mv(a,s,t);return r.forEach(d=>l.insert(d)),l}insert(e){if(this.Ee===0)return;const t=hT(e),[r,s]=pT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Wh(tt.min(),s,new Wt(yt),ms(),pt())}}class Hc{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hc(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class bR{constructor(e,t){this.targetId=e,this.ge=t}}class NR{constructor(e,t,r=kn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class mT{constructor(){this.pe=0,this.ye=gT(),this.we=kn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=pt(),t=pt(),r=pt();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Xe()}}),new Hc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=gT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class X${constructor(e){this.ke=e,this.qe=new Map,this.Qe=ms(),this.$e=_f(),this.Ke=_f(),this.Ue=new Wt(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const a=s.target;if(Wg(a))if(r===0){const l=new Ge(a.path);this.ze(t,l,jn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const d=this.tt(e),h=d?this.nt(d,e,l):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,d;try{l=vo(r).toUint8Array()}catch(h){if(h instanceof eR)return Vl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new mv(l,s,a)}catch(h){return Vl(h instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ee===0?null:d}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.ke.it(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,a,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const d=this.Xe(l);if(d){if(a.current&&Wg(d.target)){const h=new Ge(d.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,jn.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=pt();this.Ke.forEach((a,l)=>{let d=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new Wh(e,t,this.Ue,this.Qe,r);return this.Qe=ms(),this.$e=_f(),this.Ke=_f(),this.Ue=new Wt(yt),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new hn(yt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new hn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function _f(){return new Wt(Ge.comparator)}function gT(){return new Wt(Ge.comparator)}const J$={asc:"ASCENDING",desc:"DESCENDING"},Z$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eU={and:"AND",or:"OR"};class tU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kg(n,e){return n.useProto3Json||$h(e)?e:{value:e}}function sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nU(n,e){return sh(n,e.toTimestamp())}function ki(n){return At(!!n),tt.fromTimestamp(function(t){const r=yo(t);return new fn(r.seconds,r.nanos)}(n))}function gv(n,e){return Gg(n,e).canonicalString()}function Gg(n,e){const t=function(s){return new Qt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PR(n){const e=Qt.fromString(n);return At(MR(e)),e}function Qg(n,e){return gv(n.databaseId,e.path)}function ag(n,e){const t=PR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(OR(t))}function DR(n,e){return gv(n.databaseId,e)}function rU(n){const e=PR(n);return e.length===4?Qt.emptyPath():OR(e)}function Yg(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OR(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function yT(n,e,t){return{name:Qg(n,e),fields:t.value.mapValue.fields}}function iU(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string"),kn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array),kn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(p){const g=p.code===void 0?de.UNKNOWN:RR(p.code);return new Ke(g,p.message||"")}(l);t=new NR(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ag(n,r.document.name),a=ki(r.document.updateTime),l=r.document.createTime?ki(r.document.createTime):tt.min(),d=new Ur({mapValue:{fields:r.document.fields}}),h=jn.newFoundDocument(s,a,l,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new xf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ag(n,r.document),a=r.readTime?ki(r.readTime):tt.min(),l=jn.newNoDocument(s,a),d=r.removedTargetIds||[];t=new xf([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ag(n,r.document),a=r.removedTargetIds||[];t=new xf([],a,s,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new K$(s,a),d=r.targetId;t=new bR(d,l)}}return t}function sU(n,e){let t;if(e instanceof Bc)t={update:yT(n,e.key,e.value)};else if(e instanceof AR)t={delete:Qg(n,e.key)};else if(e instanceof Ia)t={update:yT(n,e.key,e.data),updateMask:pU(e.fieldMask)};else{if(!(e instanceof z$))return Xe();t={verify:Qg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const d=l.transform;if(d instanceof rh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _c)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ih)return{fieldPath:l.field.canonicalString(),increment:d.Ie};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:nU(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(n,e.precondition)),t}function oU(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(s,a){let l=s.updateTime?ki(s.updateTime):ki(a);return l.isEqual(tt.min())&&(l=ki(a)),new F$(l,s.transformResults||[])}(t,e))):[]}function aU(n,e){return{documents:[DR(n,e.path)]}}function lU(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=DR(n,s);const a=function(p){if(p.length!==0)return LR(Li.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:vl(T.field),direction:dU(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=Kg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function uU(n){let e=rU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){At(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=xR(_);return T instanceof Li&&cR(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(P){return new nh(_l(P.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(_){let T;return T=typeof _=="object"?_.value:_,$h(T)?null:T}(t.limit));let h=null;t.startAt&&(h=function(_){const T=!!_.before,C=_.values||[];return new th(C,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,C=_.values||[];return new th(C,T)}(t.endAt)),R$(e,s,l,a,d,"F",h,p)}function cU(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_l(t.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_l(t.unaryFilter.field);return cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_l(t.unaryFilter.field);return cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_l(t.unaryFilter.field);return cn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):n.fieldFilter!==void 0?function(t){return cn.create(_l(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Li.create(t.compositeFilter.filters.map(r=>xR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(n):Xe()}function dU(n){return J$[n]}function fU(n){return Z$[n]}function hU(n){return eU[n]}function vl(n){return{fieldPath:n.canonicalString()}}function _l(n){return Nn.fromServerFormat(n.fieldPath)}function LR(n){return n instanceof cn?function(t){if(t.op==="=="){if(iT(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NAN"}};if(rT(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iT(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NAN"}};if(rT(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(t.field),op:fU(t.op),value:t.value}}}(n):n instanceof Li?function(t){const r=t.getFilters().map(s=>LR(s));return r.length===1?r[0]:{compositeFilter:{op:hU(t.op),filters:r}}}(n):Xe()}function pU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t,r,s,a=tt.min(),l=tt.min(),d=kn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.Tt=e}}function gU(n){const e=uU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.Tn=new vU}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(go.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(go.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class vU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new hn(Qt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new hn(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VR=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(VR,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Fl(0)}static Un(){return new Fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="LruGarbageCollector",_U=1048576;function wT([n,e],[t,r]){const s=yt(n,t);return s===0?yt(e,r):s}class wU{constructor(e){this.Hn=e,this.buffer=new hn(wT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(_T,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ou(t)?be(_T,"Ignoring IndexedDB error during garbage collection: ",t):await su(t)}await this.er(3e5)})}}class TU{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Vh.ae);const r=new wU(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(vT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,a,l,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),gl()<=ht.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function SU(n,e){return new TU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.changes=new Sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&ac(r.mutation,s,ai.empty(),fn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const s=ra();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=Yu();return a.forEach((d,h)=>{l=l.insert(d,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ra();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,r,s){let a=ms();const l=oc(),d=function(){return oc()}();return t.forEach((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Ia)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),ac(g.mutation,p,g.mutation.getFieldMask(),fn.now())):l.set(p.key,ai.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return d.set(p,new CU(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const r=oc();let s=new Wt((l,d)=>l-d),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||ai.empty();g=d.applyToLocalView(p,g),r.set(h,g);const _=(s.get(d.batchId)||pt()).add(h);s=s.insert(d.batchId,_)})}).next(()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,_=vR();g.forEach(T=>{if(!a.has(T)){const C=IR(t.get(T),r.get(T));C!==null&&_.set(T,C),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ie.resolve(ra());let d=pc,h=a;return l.next(p=>ie.forEach(p,(g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{h=h.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,pt())).next(g=>({batchId:d,changes:yR(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let s=Yu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Yu();return this.indexManager.getCollectionParents(e,a).next(d=>ie.forEach(d,h=>{const p=function(_,T){return new jh(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,jn.newInvalidDocument(g)))});let d=Yu();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&ac(g.mutation,p,ai.empty(),fn.now()),Bh(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ki(s.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:gU(s.bundledQuery),readTime:ki(s.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.overlays=new Wt(Ge.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ra();return ie.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Et(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const s=ra(),a=t.length+1,l=new Ge(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Wt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=ra(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=ra(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=s)););return ie.resolve(d)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new q$(t,r));let a=this.Rr.get(t);a===void 0&&(a=pt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.Vr=new hn(En.mr),this.gr=new hn(En.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new En(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new En(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ge(new Qt([])),r=new En(t,e),s=new En(t,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ge(new Qt([])),r=new En(t,e),s=new En(t,e+1);let a=pt();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new En(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ge.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||Ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new hn(En.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new W$(a,t,r,s);this.mutationQueue.push(l);for(const d of s)this.Mr=this.Mr.add(new En(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),a=s<0?0:s;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?av:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),s=new En(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const d=this.Or(l.Cr);a.push(d)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hn(yt);return t.forEach(s=>{const a=new En(s,0),l=new En(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],d=>{r=r.add(d.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ge.isDocumentKey(a)||(a=a.child(""));const l=new En(new Ge(a),0);let d=new hn(yt);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.Cr)),!0)},l),ie.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,s=>{const a=new En(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new En(t,0),s=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.kr=e,this.docs=function(){return new Wt(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=ms();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():jn.newInvalidDocument(s))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ms();const l=t.path,d=new Ge(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||s$(i$(g),r)<=0||(s.has(g.key)||Bh(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Xe()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DU(this)}getSize(e){return ie.resolve(this.size)}}class DU extends IU{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.persistence=e,this.Qr=new Sa(t=>cv(t),dv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yv,this.targetCount=0,this.Ur=Fl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Fl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Qr.forEach((l,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ie.waitFor(a).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Vh(0),this.zr=!1,this.zr=!0,this.jr=new NU,this.referenceDelegate=e(this),this.Hr=new OU(this),this.indexManager=new yU,this.remoteDocumentCache=function(s){return new PU(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new mU(t),this.Yr=new RU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new kU(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const s=new xU(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class xU extends a${constructor(e){super(),this.currentSequenceNumber=e}}class vv{constructor(e){this.persistence=e,this.ti=new yv,this.ni=null}static ri(e){return new vv(e)}get ii(){if(this.ni)return this.ni;throw Xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const s=Ge.fromPath(r);return this.si(e,s).next(a=>{a||t.removeEntry(s,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.oi=new Sa(r=>c$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=SU(this,t)}static ri(e,t){return new oh(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?ie.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(d=>{d||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pf(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ie.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=pt(),s=pt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new _v(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return NV()?8:l$(Bn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new LU;return this._s(e,t,l).next(d=>{if(a.result=d,this.Xi)return this.us(e,t,l,d.size)})}).next(()=>a.result)}us(e,t,r,s){return r.documentReadCount<this.es?(gl()<=ht.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",yl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(gl()<=ht.DEBUG&&be("QueryEngine","Query:",yl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(gl()<=ht.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",yl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):ie.resolve())}rs(e,t){if(lT(t))return ie.resolve(null);let r=Ni(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=qg(t,null,"F"),r=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=pt(...a);return this.ns.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,d);return this.ls(t,p,l,h.readTime)?this.rs(e,qg(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,s){return lT(t)||s.isEqual(tt.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,s)?ie.resolve(null):(gl()<=ht.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yl(t)),this.hs(e,l,t,r$(s,pc)).next(d=>d))})}cs(e,t){let r=new hn(mR(e));return t.forEach((s,a)=>{Bh(e,a)&&(r=r.add(a))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,t,r){return gl()<=ht.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",yl(t)),this.ns.getDocumentsMatchingQuery(e,t,go.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="LocalStore",VU=3e8;class $U{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Wt(yt),this.Is=new Sa(a=>cv(a),dv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function UU(n,e,t,r){return new $U(n,e,t,r)}async function UR(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],d=[];let h=pt();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:d}))})})}function jU(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,h,p,g){const _=p.batch,T=_.keys();let C=ie.resolve();return T.forEach(P=>{C=C.next(()=>g.getEntry(h,P)).next(x=>{const N=p.docVersions.get(P);At(N!==null),x.version.compareTo(N)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(h,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=pt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function jR(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function FU(n,e){const t=nt(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const d=[];e.targetChanges.forEach((g,_)=>{const T=s.get(_);if(!T)return;d.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(kn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),s=s.insert(_,C),function(x,N,H){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=VU?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,C,g)&&d.push(t.Hr.updateTargetData(a,C))});let h=ms(),p=pt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(BU(a,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(tt.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return ie.waitFor(d).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ts=s,a))}function BU(n,e,t){let r=pt(),s=pt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ms();return t.forEach((d,h)=>{const p=a.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(tt.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):be(wv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function HU(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=av),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zU(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(a=>a?(s=a,ie.resolve(s)):t.Hr.allocateTargetId(r).next(l=>(s=new io(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Xg(n,e,t){const r=nt(n),s=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!ou(l))throw l;be(wv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function ET(n,e,t){const r=nt(n);let s=tt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=nt(h),T=_.Is.get(g);return T!==void 0?ie.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Ni(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,d.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?s:tt.min(),t?a:pt())).next(d=>(WU(r,k$(e),d),{documents:d,gs:a})))}function WU(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class TT{constructor(){this.activeTargetIds=M$()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qU{constructor(){this.ho=new TT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new TT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="ConnectivityMonitor";class IT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(ST,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf=null;function Jg(){return wf===null?wf=function(){return 268435456+Math.round(2147483648*Math.random())}():wf++,"0x"+wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",GU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QU{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Zf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,a){const l=Jg(),d=this.bo(e,t.toUriEncodedString());be(lg,`Sending RPC '${e}' ${l}:`,d,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(e,d,h,r).then(p=>(be(lg,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Vl(lg,`RPC '${e}' ${l} failed with error: `,p,"url: ",d,"request:",r),p})}Co(e,t,r,s,a,l){return this.So(e,t,r,s,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+iu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,t){const r=GU[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class XU extends QU{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=Jg();return new Promise((l,d)=>{const h=new WA;h.setWithCredentials(!0),h.listenOnce(qA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case kf.NO_ERROR:const g=h.getResponseJson();be($n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case kf.TIMEOUT:be($n,`RPC '${e}' ${a} timed out`),d(new Ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const _=h.getStatus();if(be($n,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const P=function(N){const H=N.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN}(C.status);d(new Ke(P,C.message))}else d(new Ke(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ke(de.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{be($n,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);be($n,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=Jg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=QA(),d=GA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=a.join("");be($n,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=l.createWebChannel(g,h);let T=!1,C=!1;const P=new YU({Fo:N=>{C?be($n,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(T||(be($n,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),be($n,`RPC '${e}' stream ${s} sending:`,N),_.send(N))},Mo:()=>_.close()}),x=(N,H,$)=>{N.listen(H,z=>{try{$(z)}catch(q){setTimeout(()=>{throw q},0)}})};return x(_,Qu.EventType.OPEN,()=>{C||(be($n,`RPC '${e}' stream ${s} transport opened.`),P.Qo())}),x(_,Qu.EventType.CLOSE,()=>{C||(C=!0,be($n,`RPC '${e}' stream ${s} transport closed`),P.Ko())}),x(_,Qu.EventType.ERROR,N=>{C||(C=!0,Vl($n,`RPC '${e}' stream ${s} transport errored:`,N),P.Ko(new Ke(de.UNAVAILABLE,"The operation could not be completed")))}),x(_,Qu.EventType.MESSAGE,N=>{var H;if(!C){const $=N.data[0];At(!!$);const z=$,q=(z==null?void 0:z.error)||((H=z[0])===null||H===void 0?void 0:H.error);if(q){be($n,`RPC '${e}' stream ${s} received error:`,q);const Z=q.status;let Q=function(k){const O=nn[k];if(O!==void 0)return RR(O)}(Z),S=q.message;Q===void 0&&(Q=de.INTERNAL,S="Unknown error status: "+Z+" with message "+q.message),C=!0,P.Ko(new Ke(Q,S)),_.close()}else be($n,`RPC '${e}' stream ${s} received:`,$),P.Uo($)}}),x(d,KA.STAT_EVENT,N=>{N.stat===Fg.PROXY?be($n,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Fg.NOPROXY&&be($n,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){return new tU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="PersistentStream";class BR{constructor(e,t,r,s,a,l,d,h){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new FR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ps(t.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new Ke(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(CT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(CT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JU extends BR{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=iU(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?ki(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Yg(this.serializer),t.addTarget=function(a,l){let d;const h=l.target;if(d=Wg(h)?{documents:aU(a,h)}:{query:lU(a,h).ht},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=kR(a,l.resumeToken);const p=Kg(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){d.readTime=sh(a,l.snapshotVersion.toTimestamp());const p=Kg(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=cU(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Yg(this.serializer),t.removeTarget=e,this.I_(t)}}class ZU extends BR{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=oU(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Yg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>sU(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{}class tj extends ej{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Gg(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(de.UNKNOWN,a.toString())})}Co(e,t,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Co(e,Gg(t,r),s,l,d,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ke(de.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ps(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class rj{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ca(this)&&(be(ha,"Restarting streams for network reachability change."),await async function(h){const p=nt(h);p.W_.add(4),await zc(p),p.j_.set("Unknown"),p.W_.delete(4),await Kh(p)}(this))})}),this.j_=new nj(r,s)}}async function Kh(n){if(Ca(n))for(const e of n.G_)await e(!0)}async function zc(n){for(const e of n.G_)await e(!1)}function HR(n,e){const t=nt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Iv(t)?Sv(t):au(t).c_()&&Tv(t,e))}function Ev(n,e){const t=nt(n),r=au(t);t.U_.delete(e),r.c_()&&zR(t,e),t.U_.size===0&&(r.c_()?r.P_():Ca(t)&&t.j_.set("Unknown"))}function Tv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(n).y_(e)}function zR(n,e){n.H_.Ne(e),au(n).w_(e)}function Sv(n){n.H_=new X$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),au(n).start(),n.j_.B_()}function Iv(n){return Ca(n)&&!au(n).u_()&&n.U_.size>0}function Ca(n){return nt(n).W_.size===0}function WR(n){n.H_=void 0}async function ij(n){n.j_.set("Online")}async function sj(n){n.U_.forEach((e,t)=>{Tv(n,e)})}async function oj(n,e){WR(n),Iv(n)?(n.j_.q_(e),Sv(n)):n.j_.set("Unknown")}async function aj(n,e,t){if(n.j_.set("Online"),e instanceof NR&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const d of a.targetIds)s.U_.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.U_.delete(d),s.H_.removeTarget(d))}(n,e)}catch(r){be(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(n,r)}else if(e instanceof xf?n.H_.We(e):e instanceof bR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await jR(n.localStore);t.compareTo(r)>=0&&await function(a,l){const d=a.H_.ot(l);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(h.resumeToken,l))}}),d.targetMismatches.forEach((h,p)=>{const g=a.U_.get(h);if(!g)return;a.U_.set(h,g.withResumeToken(kn.EMPTY_BYTE_STRING,g.snapshotVersion)),zR(a,h);const _=new io(g.target,h,p,g.sequenceNumber);Tv(a,_)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){be(ha,"Failed to raise snapshot:",r),await ah(n,r)}}async function ah(n,e,t){if(!ou(e))throw e;n.W_.add(1),await zc(n),n.j_.set("Offline"),t||(t=()=>jR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(ha,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Kh(n)})}function qR(n,e){return e().catch(t=>ah(n,t,e))}async function Gh(n){const e=nt(n),t=wo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:av;for(;lj(e);)try{const s=await HU(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,uj(e,s)}catch(s){await ah(e,s)}KR(e)&&GR(e)}function lj(n){return Ca(n)&&n.K_.length<10}function uj(n,e){n.K_.push(e);const t=wo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function KR(n){return Ca(n)&&!wo(n).u_()&&n.K_.length>0}function GR(n){wo(n).start()}async function cj(n){wo(n).C_()}async function dj(n){const e=wo(n);for(const t of n.K_)e.b_(t.mutations)}async function fj(n,e,t){const r=n.K_.shift(),s=pv.from(r,e,t);await qR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Gh(n)}async function hj(n,e){e&&wo(n).S_&&await async function(r,s){if(function(l){return G$(l)&&l!==de.ABORTED}(s.code)){const a=r.K_.shift();wo(r).h_(),await qR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Gh(r)}}(n,e),KR(n)&&GR(n)}async function AT(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),be(ha,"RemoteStore received new credentials");const r=Ca(t);t.W_.add(3),await zc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Kh(t)}async function pj(n,e){const t=nt(n);e?(t.W_.delete(2),await Kh(t)):e||(t.W_.add(2),await zc(t),t.j_.set("Unknown"))}function au(n){return n.J_||(n.J_=function(t,r,s){const a=nt(t);return a.M_(),new JU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:ij.bind(null,n),No:sj.bind(null,n),Lo:oj.bind(null,n),p_:aj.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Iv(n)?Sv(n):n.j_.set("Unknown")):(await n.J_.stop(),WR(n))})),n.J_}function wo(n){return n.Y_||(n.Y_=function(t,r,s){const a=nt(t);return a.M_(),new ZU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:cj.bind(null,n),Lo:hj.bind(null,n),D_:dj.bind(null,n),v_:fj.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Gh(n)):(await n.Y_.stop(),n.K_.length>0&&(be(ha,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,d=new Cv(e,t,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Av(n,e){if(ps("AsyncQueue",`${e}: ${n}`),ou(n))return new Ke(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Yu(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.Z_=new Wt(Ge.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bl{constructor(e,t,r,s,a,l,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Bl(e,t,El.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gj{constructor(){this.queries=bT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=nt(t),a=s.queries;s.queries=bT(),a.forEach((l,d)=>{for(const h of d.ta)h.onError(r)})})(this,new Ke(de.ABORTED,"Firestore shutting down"))}}function bT(){return new Sa(n=>pR(n),Fh)}async function yj(n,e){const t=nt(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new mj,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(s,!0);break;case 1:a.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const d=Av(l,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Rv(t)}async function vj(n,e){const t=nt(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _j(n,e){const t=nt(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const d of l.ta)d.oa(s)&&(r=!0);l.ea=s}}r&&Rv(t)}function wj(n,e,t){const r=nt(n),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(t);r.queries.delete(e)}function Rv(n){n.ia.forEach(e=>{e.next()})}var Zg,NT;(NT=Zg||(Zg={}))._a="default",NT.Cache="cache";class Ej{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.key=e}}class YR{constructor(e){this.key=e}}class Tj{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=mR(e),this.wa=new El(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new RT,s=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const T=s.get(g),C=Bh(this.query,_)?_:null,P=!!T&&this.mutatedKeys.has(T.key),x=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;T&&C?T.data.isEqual(C.data)?P!==x&&(r.track({type:3,doc:C}),N=!0):this.va(T,C)||(r.track({type:2,doc:C}),N=!0,(h&&this.ya(C,h)>0||p&&this.ya(C,p)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),N=!0):T&&!C&&(r.track({type:1,doc:T}),N=!0,(h||p)&&(d=!0)),N&&(C?(l=l.add(C),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:d,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(C,P){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return x(C)-x(P)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),s=s!=null&&s;const d=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new Bl(this.query,e.wa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new RT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new YR(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new QR(r))}),t}Oa(e){this.fa=e.gs,this.pa=pt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Bl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bv="SyncEngine";class Sj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ij{constructor(e){this.key=e,this.Ba=!1}}class Cj{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Sa(d=>pR(d),Fh),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(Ge.comparator),this.Ka=new Map,this.Ua=new yv,this.Wa={},this.Ga=new Map,this.za=Fl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Aj(n,e,t=!0){const r=nb(n);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await XR(r,e,t,!0),s}async function Rj(n,e){const t=nb(n);await XR(t,e,!0,!1)}async function XR(n,e,t,r){const s=await zU(n.localStore,Ni(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await bj(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&HR(n.remoteStore,s),d}async function bj(n,e,t,r,s){n.Ha=(_,T,C)=>async function(x,N,H,$){let z=N.view.ba(H);z.ls&&(z=await ET(x.localStore,N.query,!1).then(({documents:S})=>N.view.ba(S,z)));const q=$&&$.targetChanges.get(N.targetId),Z=$&&$.targetMismatches.get(N.targetId)!=null,Q=N.view.applyChanges(z,x.isPrimaryClient,q,Z);return PT(x,N.targetId,Q.Ma),Q.snapshot}(n,_,T,C);const a=await ET(n.localStore,e,!0),l=new Tj(e,a.gs),d=l.ba(a.documents),h=Hc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(d,n.isPrimaryClient,h);PT(n,t,p.Ma);const g=new Sj(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function Nj(n,e,t){const r=nt(n),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!Fh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Ev(r.remoteStore,s.targetId),ey(r,s.targetId)}).catch(su)):(ey(r,s.targetId),await Xg(r.localStore,s.targetId,!0))}async function kj(n,e){const t=nt(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(t.remoteStore,r.targetId))}async function Pj(n,e,t){const r=$j(n);try{const s=await function(l,d){const h=nt(l),p=fn.now(),g=d.reduce((C,P)=>C.add(P.key),pt());let _,T;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=ms(),x=pt();return h.ds.getEntries(C,g).next(N=>{P=N,P.forEach((H,$)=>{$.isValidDocument()||(x=x.add(H))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,P)).next(N=>{_=N;const H=[];for(const $ of d){const z=H$($,_.get($.key).overlayedDocument);z!=null&&H.push(new Ia($.key,z,aR(z.value.mapValue),us.exists(!0)))}return h.mutationQueue.addMutationBatch(C,p,H,d)}).next(N=>{T=N;const H=N.applyToLocalDocumentSet(_,x);return h.documentOverlayCache.saveOverlays(C,N.batchId,H)})}).then(()=>({batchId:T.batchId,changes:yR(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,d,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new Wt(yt)),p=p.insert(d,h),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,t),await Wc(r,s.changes),await Gh(r.remoteStore)}catch(s){const a=Av(s,"Failed to persist write");t.reject(a)}}async function JR(n,e){const t=nt(n);try{const r=await FU(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.Ka.get(a);l&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?At(l.Ba):s.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await Wc(t,r,e)}catch(r){await su(r)}}function kT(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((a,l)=>{const d=l.view.sa(e);d.snapshot&&s.push(d.snapshot)}),function(l,d){const h=nt(l);h.onlineState=d;let p=!1;h.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(d)&&(p=!0)}),p&&Rv(h)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dj(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),a=s&&s.key;if(a){let l=new Wt(Ge.comparator);l=l.insert(a,jn.newNoDocument(a,tt.min()));const d=pt().add(a),h=new Wh(tt.min(),new Map,new Wt(yt),l,d);await JR(r,h),r.$a=r.$a.remove(a),r.Ka.delete(e),Nv(r)}else await Xg(r.localStore,e,!1).then(()=>ey(r,e,t)).catch(su)}async function Oj(n,e){const t=nt(n),r=e.batch.batchId;try{const s=await jU(t.localStore,e);eb(t,r,null),ZR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Wc(t,s)}catch(s){await su(s)}}async function xj(n,e,t){const r=nt(n);try{const s=await function(l,d){const h=nt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next(_=>(At(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);eb(r,e,t),ZR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Wc(r,s)}catch(s){await su(s)}}function ZR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function eb(n,e,t){const r=nt(n);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||tb(n,r)})}function tb(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ev(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Nv(n))}function PT(n,e,t){for(const r of t)r instanceof QR?(n.Ua.addReference(r.key,e),Lj(n,r)):r instanceof YR?(be(bv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||tb(n,r.key)):Xe()}function Lj(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(bv,"New document in limbo: "+t),n.Qa.add(r),Nv(n))}function Nv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ge(Qt.fromString(e)),r=n.za.next();n.Ka.set(r,new Ij(t)),n.$a=n.$a.insert(t,r),HR(n.remoteStore,new io(Ni(fv(t.path)),r,"TargetPurposeLimboResolution",Vh.ae))}}async function Wc(n,e,t){const r=nt(n),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((d,h)=>{l.push(r.Ha(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){s.push(p);const _=_v.Yi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(h,p){const g=nt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,T=>ie.forEach(T.Hi,C=>g.persistence.referenceDelegate.addReference(_,T.targetId,C)).next(()=>ie.forEach(T.Ji,C=>g.persistence.referenceDelegate.removeReference(_,T.targetId,C)))))}catch(_){if(!ou(_))throw _;be(wv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const C=g.Ts.get(T),P=C.snapshotVersion,x=C.withLastLimboFreeSnapshotVersion(P);g.Ts=g.Ts.insert(T,x)}}}(r.localStore,a))}async function Mj(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){be(bv,"User change. New user:",e.toKey());const r=await UR(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(d=>{d.forEach(h=>{h.reject(new Ke(de.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wc(t,r.Rs)}}function Vj(n,e){const t=nt(n),r=t.Ka.get(e);if(r&&r.Ba)return pt().add(r.key);{let s=pt();const a=t.qa.get(e);if(!a)return s;for(const l of a){const d=t.ka.get(l);s=s.unionWith(d.view.Sa)}return s}}function nb(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dj.bind(null,e),e.La.p_=_j.bind(null,e.eventManager),e.La.Ja=wj.bind(null,e.eventManager),e}function $j(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xj.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return UU(this.persistence,new MU,e.initialUser,this.serializer)}Xa(e){return new $R(vv.ri,this.serializer)}Za(e){return new qU}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class Uj extends lh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof oh);const r=this.persistence.referenceDelegate.garbageCollector;return new EU(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new $R(r=>oh.ri(r,t),this.serializer)}}class ty{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,this.syncEngine),await pj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gj}()}createDatastore(e){const t=qh(e.databaseInfo.databaseId),r=function(a){return new XU(a)}(e.databaseInfo);return function(a,l,d,h){return new tj(a,l,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,d){return new rj(r,s,a,l,d)}(this.localStore,this.datastore,e.asyncQueue,t=>kT(this.syncEngine,t,0),function(){return IT.D()?new IT:new KU}())}createSyncEngine(e,t){return function(s,a,l,d,h,p,g){const _=new Cj(s,a,l,d,h,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=nt(s);be(ha,"RemoteStore shutting down."),a.W_.add(5),await zc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class Fj{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Un.UNAUTHENTICATED,this.clientId=XA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{be(Eo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(Eo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Av(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cg(n,e){n.asyncQueue.verifyOperationInProgress(),be(Eo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await UR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function DT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Bj(n);be(Eo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>AT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>AT(e.remoteStore,s)),n._onlineComponents=e}async function Bj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(Eo,"Using user provided OfflineComponentProvider");try{await cg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Vl("Error using user provided cache. Falling back to memory cache: "+t),await cg(n,new lh)}}else be(Eo,"Using default OfflineComponentProvider"),await cg(n,new Uj(void 0));return n._offlineComponents}async function rb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(Eo,"Using user provided OnlineComponentProvider"),await DT(n,n._uninitializedComponentsProvider._online)):(be(Eo,"Using default OnlineComponentProvider"),await DT(n,new ty))),n._onlineComponents}function Hj(n){return rb(n).then(e=>e.syncEngine)}async function zj(n){const e=await rb(n),t=e.eventManager;return t.onListen=Aj.bind(null,e.syncEngine),t.onUnlisten=Nj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Rj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kj.bind(null,e.syncEngine),t}function Wj(n,e,t={}){const r=new fo;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,d,h,p){const g=new jj({next:T=>{g.su(),l.enqueueAndForget(()=>vj(a,_));const C=T.docs.has(d);!C&&T.fromCache?p.reject(new Ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&h&&h.source==="server"?p.reject(new Ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Ej(fv(d.path),g,{includeMetadataChanges:!0,Ta:!0});return yj(a,_)}(await zj(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(n,e,t){if(!t)throw new Ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Kj(n,e,t,r){if(e===!0&&r===!0)throw new Ke(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xT(n){if(!Ge.isDocumentKey(n))throw new Ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe()}function wc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kv(n);throw new Ke(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firestore.googleapis.com",LT=!0;class MT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sb,this.ssl=LT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_U)throw new Ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pv{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q2;switch(r.type){case"firstParty":return new Z2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=OT.get(t);r&&(be("ComponentProvider","Removing Datastore"),OT.delete(t),r.terminate())}(this),Promise.resolve()}}function Gj(n,e,t,r={}){var s;const a=(n=wc(n,Pv))._getSettings(),l=`${e}:${t}`;if(a.host!==sb&&a.host!==l&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Un.MOCK_USER;else{d=TV(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Un(p)}n._authCredentials=new Y2(new YA(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dv(this.firestore,e,this._query)}}class Fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class Ec extends Dv{constructor(e,t,r){super(e,t,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new Ge(e))}withConverter(e){return new Ec(this.firestore,e,this._path)}}function ny(n,e,...t){if(n=Oi(n),arguments.length===1&&(e=XA.newId()),qj("doc","path",e),n instanceof Pv){const r=Qt.fromString(e,...t);return xT(r),new Fr(n,null,new Ge(r))}{if(!(n instanceof Fr||n instanceof Ec))throw new Ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return xT(r),new Fr(n.firestore,n instanceof Ec?n.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new FR(this,"async_queue_retry"),this.Su=()=>{const r=ug();r&&be(VT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=ug();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ug();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new fo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ou(e))throw e;be(VT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d}(r);throw ps("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Cv.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ov extends Pv{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new $T,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function Qj(n,e){const t=FA(),r=Zf,s=sv(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=wV("firestore");a&&Gj(s,...a)}return s}function ob(n){if(n._terminated)throw new Ke(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Yj(n),n._firestoreClient}function Yj(n){var e,t,r;const s=n._freezeSettings(),a=function(d,h,p,g){return new h$(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ib(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Fj(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(kn.fromBase64String(e))}catch(t){throw new Ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=/^__.*__$/;class Jj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bc(e,this.data,t,this.fieldTransforms)}}function lb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class Vv{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return uh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(lb(this.Lu)&&Xj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Zj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qh(e)}ju(e,t,r,s=!1){return new Vv({Lu:e,methodName:t,zu:r,path:Nn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e4(n){const e=n._freezeSettings(),t=qh(n._databaseId);return new Zj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function t4(n,e,t,r,s,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,s);fb("Data must be an object, but it was:",l,r);const d=cb(r,l);let h,p;if(a.merge)h=new ai(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=n4(e,_,t);if(!l.contains(T))throw new Ke(de.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);i4(g,T)||g.push(T)}h=new ai(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new Jj(new Ur(d),h,p)}function ub(n,e){if(db(n=Oi(n)))return fb("Unsupported field value:",e,n),cb(n,e);if(n instanceof ab)return function(r,s){if(!lb(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const d of r){let h=ub(d,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Oi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fn.fromDate(r);return{timestampValue:sh(s.serializer,a)}}if(r instanceof fn){const a=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(s.serializer,a)}}if(r instanceof Lv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hl)return{bytesValue:kR(s.serializer,r._byteString)};if(r instanceof Fr){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mv)return function(l,d){return{mapValue:{fields:{[sR]:{stringValue:oR},[eh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return hv(d.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${kv(r)}`)}(n,e)}function cb(n,e){const t={};return ZA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(n,(r,s)=>{const a=ub(s,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function db(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fn||n instanceof Lv||n instanceof Hl||n instanceof Fr||n instanceof ab||n instanceof Mv)}function fb(n,e,t){if(!db(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=kv(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function n4(n,e,t){if((e=Oi(e))instanceof xv)return e._internalPath;if(typeof e=="string")return hb(n,e);throw uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const r4=new RegExp("[~\\*/\\[\\]]");function hb(n,e,t){if(e.search(r4)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xv(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uh(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new Ke(de.INVALID_ARGUMENT,d+n+h)}function i4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class s4 extends pb{data(){return super.data()}}function mb(n,e){return typeof e=="string"?hb(n,e):e instanceof xv?e._internalPath:e._delegate._internalPath}class o4{convertValue(e,t="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ta(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[eh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Xt(l.doubleValue));return new Mv(a)}convertGeoPoint(e){return new Lv(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const t=yo(e);return new fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);At(MR(r));const s=new gc(r.get(1),r.get(3)),a=new Ge(r.popFirst(5));return s.isEqual(t)||ps(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gb extends pb{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new u4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class u4 extends gb{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n){n=wc(n,Fr);const e=wc(n.firestore,Ov);return Wj(ob(e),n._key).then(t=>f4(e,n,t))}class c4 extends o4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function UT(n,e,t){n=wc(n,Fr);const r=wc(n.firestore,Ov),s=a4(n.converter,e);return d4(r,[t4(e4(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,us.none())])}function d4(n,e){return function(r,s){const a=new fo;return r.asyncQueue.enqueueAndForget(async()=>Pj(await Hj(r),s,a)),a.promise}(ob(n),e)}function f4(n,e,t){const r=t.docs.get(e._key),s=new c4(n);return new gb(n,s,e._key,r,new l4(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){iu=s})(ru),Ml(new da("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new Ov(new X2(r.getProvider("auth-internal")),new e$(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),uo(q0,K0,e),uo(q0,K0,"esm2017")})();function $v(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h4=vb,_b=new jc("auth","Firebase",vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new rv("@firebase/auth");function p4(n,...e){ch.logLevel<=ht.WARN&&ch.warn(`Auth (${ru}): ${n}`,...e)}function Lf(n,...e){ch.logLevel<=ht.ERROR&&ch.error(`Auth (${ru}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,...e){throw jv(n,...e)}function li(n,...e){return jv(n,...e)}function Uv(n,e,t){const r=Object.assign(Object.assign({},h4()),{[e]:t});return new jc("auth","Firebase",r).create(e,{appName:n.name})}function aa(n){return Uv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m4(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mi(n,"argument-error"),Uv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _b.create(n,...e)}function Ze(n,e,...t){if(!n)throw jv(e,...t)}function ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lf(e),new Error(e)}function gs(n,e){n||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function g4(){return jT()==="http:"||jT()==="https:"}function jT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g4()||AV()||"connection"in navigator)?navigator.onLine:!0}function v4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=SV()||RV()}get(){return y4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,e){gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new qc(3e4,6e4);function Bv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function lu(n,e,t,r,s={}){return Eb(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=Fc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return CV()||(p.referrerPolicy="no-referrer"),wb.fetch()(Tb(n,n.config.apiHost,t,d),p)})}async function Eb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},_4),e);try{const s=new T4(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Ef(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Ef(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Ef(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Uv(n,g,p);Mi(n,g)}}catch(s){if(s instanceof ws)throw s;Mi(n,"network-request-failed",{message:String(s)})}}async function E4(n,e,t,r,s={}){const a=await lu(n,e,t,r,s);return"mfaPendingCredential"in a&&Mi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Tb(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Fv(n.config,s):`${n.config.apiScheme}://${s}`}class T4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),w4.get())})}}function Ef(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=li(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(n,e){return lu(n,"POST","/v1/accounts:delete",e)}async function Sb(n,e){return lu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I4(n,e=!1){const t=Oi(n),r=await t.getIdToken(e),s=Hv(r);Ze(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:lc(dg(s.auth_time)),issuedAtTime:lc(dg(s.iat)),expirationTime:lc(dg(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function dg(n){return Number(n)*1e3}function Hv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const s=xA(t);return s?JSON.parse(s):(Lf("Failed to decode base64 JWT payload"),null)}catch(s){return Lf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function FT(n){const e=Hv(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ws&&C4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function C4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Tc(n,Sb(t,{idToken:r}));Ze(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Ib(a.providerUserInfo):[],d=b4(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),g=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new iy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function R4(n){const e=Oi(n);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b4(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ib(n){return n.map(e=>{var{providerId:t}=e,r=$v(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(n,e){const t=await Eb(n,{},async()=>{const r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=Tb(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",wb.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function k4(n,e){return lu(n,"POST","/v2/accounts:revokeToken",Bv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=FT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await N4(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Tl;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ze(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=$v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new iy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Tc(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return I4(this,e)}reload(){return R4(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await Tc(this,S4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,l,d,h,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,H=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:q,isAnonymous:Z,providerData:Q,stsTokenManager:S}=t;Ze(z&&S,e,"internal-error");const A=Tl.fromJSON(this.name,S);Ze(typeof z=="string",e,"internal-error"),Qs(_,e.name),Qs(T,e.name),Ze(typeof q=="boolean",e,"internal-error"),Ze(typeof Z=="boolean",e,"internal-error"),Qs(C,e.name),Qs(P,e.name),Qs(x,e.name),Qs(N,e.name),Qs(H,e.name),Qs($,e.name);const k=new ns({uid:z,auth:e,email:T,emailVerified:q,displayName:_,isAnonymous:Z,photoURL:P,phoneNumber:C,tenantId:x,stsTokenManager:A,createdAt:H,lastLoginAt:$});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(O=>Object.assign({},O))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new Tl;s.updateFromServerResponse(t);const a=new ns({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ze(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Ib(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Tl;d.updateFromIdToken(r);const h=new ns({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;function rs(n){gs(n instanceof Function,"Expected a class definition");let e=BT.get(n);return e?(gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Cb.type="NONE";const HT=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n,e,t){return`firebase:${n}:${e}:${t}`}class Sl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Mf(this.userKey,s.apiKey,a),this.fullPersistenceKey=Mf("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Sl(rs(HT),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||rs(HT);const l=Mf(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(l);if(g){const _=ns._fromJSON(e,g);p!==a&&(d=_),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Sl(a,e,r):(a=h[0],d&&await a._set(l,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Sl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(Db(e))return"Webos";if(Rb(e))return"Safari";if((e.includes("chrome/")||bb(e))&&!e.includes("edge/"))return"Chrome";if(kb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ab(n=Bn()){return/firefox\//i.test(n)}function Rb(n=Bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bb(n=Bn()){return/crios\//i.test(n)}function Nb(n=Bn()){return/iemobile/i.test(n)}function kb(n=Bn()){return/android/i.test(n)}function Pb(n=Bn()){return/blackberry/i.test(n)}function Db(n=Bn()){return/webos/i.test(n)}function zv(n=Bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function P4(n=Bn()){var e;return zv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D4(){return bV()&&document.documentMode===10}function Ob(n=Bn()){return zv(n)||kb(n)||Db(n)||Pb(n)||/windows phone/i.test(n)||Nb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(n,e=[]){let t;switch(n){case"Browser":t=zT(Bn());break;case"Worker":t=`${zT(Bn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ru}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,d)=>{try{const h=e(a);l(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(n,e={}){return lu(n,"GET","/v2/passwordPolicy",Bv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=6;class M4{constructor(e){var t,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:L4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,l,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WT(this),this.idTokenSubscription=new WT(this),this.beforeStateQueue=new O4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rs(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sb(this,{idToken:e}),r=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(oi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===d)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(aa(this));const t=e?Oi(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x4(this),t=new M4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await k4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rs(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&p4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Qh(n){return Oi(n)}class WT{constructor(e){this.auth=e,this.observer=null,this.addObserver=MV(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $4(n){Wv=n}function U4(n){return Wv.loadJS(n)}function j4(){return Wv.gapiScript}function F4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n,e){const t=sv(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Yf(a,e??{}))return s;Mi(s,"already-initialized")}return t.initialize({options:e})}function H4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(rs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function z4(n,e,t){const r=Qh(n);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=Lb(e),{host:l,port:d}=W4(e),h=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),q4()}function Lb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W4(n){const e=Lb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:qT(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:qT(l)}}}function qT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function q4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n,e){return E4(n,"POST","/v1/accounts:signInWithIdp",Bv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="http://localhost";class pa extends Mb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=$v(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new pa(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Il(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Il(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Il(e,t)}buildRequest(){const e={requestUri:K4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends qv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Kc{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return pa._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Zi.credential(t,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Kc{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Kc{constructor(){super("twitter.com")}static credential(e,t){return pa._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return to.credential(t,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ns._fromIdTokenResponse(e,r,s),l=KT(r);return new zl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=KT(r);return new zl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function KT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends ws{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new fh(e,t,r,s)}}function Vb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(n,a,e,r):a})}async function G4(n,e,t=!1){const r=await Tc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(n,e,t=!1){const{auth:r}=n;if(oi(r.app))return Promise.reject(aa(r));const s="reauthenticate";try{const a=await Tc(n,Vb(r,s,e,n),t);Ze(a.idToken,r,"internal-error");const l=Hv(a.idToken);Ze(l,r,"internal-error");const{sub:d}=l;return Ze(n.uid===d,r,"user-mismatch"),zl._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(n,e,t=!1){if(oi(n.app))return Promise.reject(aa(n));const r="signIn",s=await Vb(n,r,e),a=await zl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function X4(n,e,t,r){return Oi(n).onIdTokenChanged(e,t,r)}function J4(n,e,t){return Oi(n).beforeAuthStateChanged(e,t)}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=1e3,eF=10;class Ub extends $b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);D4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,eF):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ub.type="LOCAL";const tF=Ub;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends $b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jb.type="SESSION";const Fb=jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async p=>p(t.origin,a)),h=await nF(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,h)=>{const p=Kv("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function iF(n){Pi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function sF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aF(){return Bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebaseLocalStorageDb",lF=1,ph="firebaseLocalStorage",zb="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(n,e){return n.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function uF(){const n=indexedDB.deleteDatabase(Hb);return new Gc(n).toPromise()}function sy(){const n=indexedDB.open(Hb,lF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ph,{keyPath:zb})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await uF(),e(await sy()))})})}async function GT(n,e,t){const r=Xh(n,!0).put({[zb]:e,value:t});return new Gc(r).toPromise()}async function cF(n,e){const t=Xh(n,!1).get(e),r=await new Gc(t).toPromise();return r===void 0?null:r.value}function QT(n,e){const t=Xh(n,!0).delete(e);return new Gc(t).toPromise()}const dF=800,fF=3;class Wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>fF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(aF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sF(),!this.activeServiceWorker)return;this.sender=new rF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await GT(e,hh,"1"),await QT(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>GT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>cF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>QT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Xh(s,!1).getAll();return new Gc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wb.type="LOCAL";const hF=Wb;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n,e){return e?rs(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends Mb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pF(n){return Y4(n.auth,new Gv(n),n.bypassAuthState)}function mF(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),Q4(t,new Gv(n),n.bypassAuthState)}async function gF(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),G4(t,new Gv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pF;case"linkViaPopup":case"linkViaRedirect":return gF;case"reauthViaPopup":case"reauthViaRedirect":return mF;default:Mi(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new qc(2e3,1e4);async function vF(n,e,t){if(oi(n.app))return Promise.reject(li(n,"operation-not-supported-in-this-environment"));const r=Qh(n);m4(n,e,qv);const s=qb(r,t);return new ia(r,"signInViaPopup",e,s).executeNotNull()}class ia extends Kb{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yF.get())};e()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="pendingRedirect",Vf=new Map;class wF extends Kb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const r=await EF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EF(n,e){const t=IF(e),r=SF(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function TF(n,e){Vf.set(n._key(),e)}function SF(n){return rs(n._redirectPersistence)}function IF(n){return Mf(_F,n.config.apiKey,n.name)}async function CF(n,e,t=!1){if(oi(n.app))return Promise.reject(aa(n));const r=Qh(n),s=qb(r,e),l=await new wF(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=10*60*1e3;class RF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Gb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(li(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AF&&this.cachedEventUids.clear(),this.cachedEventUids.has(YT(e))}saveEventToCache(e){this.cachedEventUids.add(YT(e)),this.lastProcessedEventTime=Date.now()}}function YT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Gb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(n,e={}){return lu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PF=/^https?/;async function DF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await NF(n);for(const t of e)try{if(OF(t))return}catch{}Mi(n,"unauthorized-domain")}function OF(n){const e=ry(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!PF.test(t))return!1;if(kF.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=new qc(3e4,6e4);function XT(){const n=Pi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LF(n){return new Promise((e,t)=>{var r,s,a;function l(){XT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XT(),t(li(n,"network-request-failed"))},timeout:xF.get()})}if(!((s=(r=Pi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Pi().gapi)===null||a===void 0)&&a.load)l();else{const d=F4("iframefcb");return Pi()[d]=()=>{gapi.load?l():t(li(n,"network-request-failed"))},U4(`${j4()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw $f=null,e})}let $f=null;function MF(n){return $f=$f||LF(n),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new qc(5e3,15e3),$F="__/auth/iframe",UF="emulator/auth/iframe",jF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BF(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fv(e,UF):`https://${n.config.authDomain}/${$F}`,r={apiKey:e.apiKey,appName:n.name,v:ru},s=FF.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Fc(r).slice(1)}`}async function HF(n){const e=await MF(n),t=Pi().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:BF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jF,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=li(n,"network-request-failed"),d=Pi().setTimeout(()=>{a(l)},VF.get());function h(){Pi().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WF=500,qF=600,KF="_blank",GF="http://localhost";class JT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QF(n,e,t,r=WF,s=qF){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},zF),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Bn().toLowerCase();t&&(d=bb(p)?KF:t),Ab(p)&&(e=e||GF,h.scrollbars="yes");const g=Object.entries(h).reduce((T,[C,P])=>`${T}${C}=${P},`,"");if(P4(p)&&d!=="_self")return YF(e||"",d),new JT(null);const _=window.open(e||"",d,g);Ze(_,n,"popup-blocked");try{_.focus()}catch{}return new JT(_)}function YF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="__/auth/handler",JF="emulator/auth/handler",ZF=encodeURIComponent("fac");async function ZT(n,e,t,r,s,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ru,eventId:s};if(e instanceof qv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",LV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Kc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),p=h?`#${ZF}=${encodeURIComponent(h)}`:"";return`${eB(n)}?${Fc(d).slice(1)}${p}`}function eB({config:n}){return n.emulator?Fv(n,JF):`https://${n.authDomain}/${XF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class tB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=CF,this._overrideRedirectResult=TF}async _openPopup(e,t,r,s){var a;gs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await ZT(e,t,r,ry(),s);return QF(e,l,Kv())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await ZT(e,t,r,ry(),s);return iF(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(gs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await HF(e),r=new RF(e);return t.register("authEvent",s=>(Ze(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fg,{type:fg},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[fg];l!==void 0&&t(!!l),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ob()||Rb()||zv()}}const nB=tB;var eS="@firebase/auth",tS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sB(n){Ml(new da("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(n)},p=new V4(r,s,a,h);return H4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ml(new da("auth-internal",e=>{const t=Qh(e.getProvider("auth").getImmediate());return(r=>new rB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(eS,tS,iB(n)),uo(eS,tS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=5*60,aB=VA("authIdTokenMaxAge")||oB;let nS=null;const lB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>aB)return;const s=t==null?void 0:t.token;nS!==s&&(nS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function uB(n=FA()){const e=sv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=B4(n,{popupRedirectResolver:nB,persistence:[hF,tF,Fb]}),r=VA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=lB(a.toString());J4(t,l,()=>l(t.currentUser)),X4(t,d=>l(d))}}const s=LA("auth");return s&&z4(t,`http://${s}`),t}function cB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=li("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",cB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sB("Browser");const rS=n=>{let e;const t=new Set,r=(p,g)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const T=e;e=g??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(C=>C(e,T))}},s=()=>e,d={setState:r,getState:s,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=n(r,s,d);return d},dB=n=>n?rS(n):rS,fB=n=>n;function hB(n,e=fB){const t=dn.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return dn.useDebugValue(t),t}const iS=n=>{const e=dB(n),t=r=>hB(e,r);return Object.assign(t,e),t},pB=n=>n?iS(n):iS,mB=pB(n=>({currentUser:null,isLoading:!0,fetchUserInfo:async e=>{if(!e)return n({currentUser:null,isLoading:!1});try{const t=ny(oy,"users",e),r=await yb(t);r.exists()?n({currentUser:r.data(),isLoading:!1}):n({currentUser:null,isLoading:!1})}catch(t){return console.log(t),n({currentUser:null,isLoading:!1})}}})),gB={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"};jA(gB);const Qb=uB(),oy=Qj();async function yB(){try{const n=new Zi,t=(await vF(Qb,n)).user;if(!t){console.error("Firebase login failed.");return}const r=ny(oy,"users",t.uid);(await yb(r)).exists()||(await UT(r,{id:t.uid,email:t.email,username:t.displayName||"New User",createdAt:new Date,blocked:[]}),await UT(ny(oy,"userchats",t.uid),{chats:[]})),await Uc.createOAuth2Session(Lg.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery"),console.log("Login successful with Firebase and Appwrite.")}catch(n){console.error("Error during login:",n),alert(`Login failed: ${n.message}`)}}function vB(n){const{currentUser:e}=mB(),[t,r]=w.useState(null),[s,a]=w.useState(null);return useEffect(()=>{},[n,e]),{user:t,error:s}}const Yb=w.createContext(void 0),_B=({children:n})=>{const e=wB();return R(Yb.Provider,{value:e,children:n})};function wB(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const h=await uV();e(h.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:h}=await fV(),p=!!h.find(g=>g.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function s(){await yB()}async function a(d,h){try{await Uc.createEmailPasswordSession(d,h)}catch(p){console.error(p)}}async function l(){await cV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:s,logInAdmin:a}}function To(){const n=w.useContext(Yb);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ut.apply(this,arguments)}var rn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rn||(rn={}));const sS="popstate";function EB(n){n===void 0&&(n={});function e(s,a){let{pathname:l="/",search:d="",hash:h=""}=Es(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Sc("",{pathname:l,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let l=s.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof a=="string"?a:ga(a))}function r(s,a){ma(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return SB(e,t,r,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ma(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TB(){return Math.random().toString(36).substr(2,8)}function oS(n,e){return{usr:n.state,key:n.key,idx:e}}function Sc(n,e,t,r){return t===void 0&&(t=null),Ut({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Es(e):e,{state:t,key:e&&e.key||r||TB()})}function ga(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Es(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function SB(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d=rn.Pop,h=null,p=g();p==null&&(p=0,l.replaceState(Ut({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){d=rn.Pop;let N=g(),H=N==null?null:N-p;p=N,h&&h({action:d,location:x.location,delta:H})}function T(N,H){d=rn.Push;let $=Sc(x.location,N,H);t&&t($,N),p=g()+1;let z=oS($,p),q=x.createHref($);try{l.pushState(z,"",q)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;s.location.assign(q)}a&&h&&h({action:d,location:x.location,delta:1})}function C(N,H){d=rn.Replace;let $=Sc(x.location,N,H);t&&t($,N),p=g();let z=oS($,p),q=x.createHref($);l.replaceState(z,"",q),a&&h&&h({action:d,location:x.location,delta:0})}function P(N){let H=s.location.origin!=="null"?s.location.origin:s.location.href,$=typeof N=="string"?N:ga(N);return $=$.replace(/ $/,"%20"),ut(H,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,H)}let x={get action(){return d},get location(){return n(s,l)},listen(N){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(sS,_),h=N,()=>{s.removeEventListener(sS,_),h=null}},createHref(N){return e(s,N)},createURL:P,encodeLocation(N){let H=P(N);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:C,go(N){return l.go(N)}};return x}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const IB=new Set(["lazy","caseSensitive","path","id","index","children"]);function CB(n){return n.index===!0}function mh(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((s,a)=>{let l=[...t,String(a)],d=typeof s.id=="string"?s.id:l.join("-");if(ut(s.index!==!0||!s.children,"Cannot specify children on an index route"),ut(!r[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),CB(s)){let h=Ut({},s,e(s),{id:d});return r[d]=h,h}else{let h=Ut({},s,e(s),{id:d,children:void 0});return r[d]=h,s.children&&(h.children=mh(s.children,e,l,r)),h}})}function Xo(n,e,t){return t===void 0&&(t="/"),Uf(n,e,t,!1)}function Uf(n,e,t,r){let s=typeof e=="string"?Es(e):e,a=ys(s.pathname||"/",t);if(a==null)return null;let l=Xb(n);RB(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=$B(a);d=MB(l[h],p,r)}return d}function AB(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function Xb(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ut(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=cs([r,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Xb(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:xB(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let h of Jb(a.path))s(a,l,h)}),e}function Jb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Jb(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...l),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function RB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const bB=/^:[\w-]+$/,NB=3,kB=2,PB=1,DB=10,OB=-2,aS=n=>n==="*";function xB(n,e){let t=n.split("/"),r=t.length;return t.some(aS)&&(r+=OB),e&&(r+=kB),t.filter(s=>!aS(s)).reduce((s,a)=>s+(bB.test(a)?NB:a===""?PB:DB),r)}function LB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function MB(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,s={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=gh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),T=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=gh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:cs([a,_.pathname]),pathnameBase:FB(cs([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=cs([a,_.pathnameBase]))}return l}function gh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=VB(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:T,isOptional:C}=g;if(T==="*"){let x=d[_]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const P=d[_];return C&&!P?p[T]=void 0:p[T]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function VB(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ma(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function $B(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ma(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ys(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function UB(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Es(n):n;return{pathname:t?t.startsWith("/")?t:jB(t,e):e,search:BB(r),hash:HB(s)}}function jB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function hg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qv(n,e){let t=Zb(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Yv(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Es(n):(s=Ut({},n),ut(!s.pathname||!s.pathname.includes("?"),hg("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),hg("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),hg("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}d=_>=0?e[_]:"/"}let h=UB(s,d),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const cs=n=>n.join("/").replace(/\/\/+/g,"/"),FB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class yh{constructor(e,t,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ic(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const eN=["post","put","patch","delete"],zB=new Set(eN),WB=["get",...eN],qB=new Set(WB),KB=new Set([301,302,303,307,308]),GB=new Set([307,308]),pg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YB=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),tN="remix-router-transitions";function XB(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(n.mapRouteProperties)s=n.mapRouteProperties;else if(n.detectErrorBoundary){let U=n.detectErrorBoundary;s=W=>({hasErrorBoundary:U(W)})}else s=YB;let a={},l=mh(n.routes,s,void 0,a),d,h=n.basename||"/",p=n.dataStrategy||t9,g=n.patchRoutesOnNavigation,_=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,C=new Set,P=null,x=null,N=null,H=n.hydrationData!=null,$=Xo(l,n.history.location,h),z=!1,q=null;if($==null&&!g){let U=cr(404,{pathname:n.history.location.pathname}),{matches:W,route:X}=vS(l);$=W,q={[X.id]:U}}$&&!n.hydrationData&&pi($,l,n.history.location.pathname).active&&($=null);let Z;if($)if($.some(U=>U.route.lazy))Z=!1;else if(!$.some(U=>U.route.loader))Z=!0;else if(_.v7_partialHydration){let U=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let X=$.findIndex(re=>W[re.route.id]!==void 0);Z=$.slice(0,X+1).every(re=>!ly(re.route,U,W))}else Z=$.every(X=>!ly(X.route,U,W))}else Z=n.hydrationData!=null;else if(Z=!1,$=[],_.v7_partialHydration){let U=pi(null,l,n.history.location.pathname);U.active&&U.matches&&(z=!0,$=U.matches)}let Q,S={historyAction:n.history.action,location:n.history.location,matches:$,initialized:Z,navigation:pg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||q,fetchers:new Map,blockers:new Map},A=rn.Pop,k=!1,O,L=!1,V=new Map,D=null,we=!1,xe=!1,Fe=[],Ne=new Set,ne=new Map,me=0,ae=-1,F=new Map,ee=new Set,he=new Map,ve=new Map,Te=new Set,Ae=new Map,qe=new Map,Ue;function st(){if(T=n.history.listen(U=>{let{action:W,location:X,delta:re}=U;if(Ue){Ue(),Ue=void 0;return}ma(qe.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=Vi({currentLocation:S.location,nextLocation:X,historyAction:W});if(_e&&re!=null){let ke=new Promise(Qe=>{Ue=Qe});n.history.go(re*-1),qr(_e,{state:"blocked",location:X,proceed(){qr(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ke.then(()=>n.history.go(re))},reset(){let Qe=new Map(S.blockers);Qe.set(_e,zu),it({blockers:Qe})}});return}return jt(W,X)}),t){m9(e,V);let U=()=>g9(e,V);e.addEventListener("pagehide",U),D=()=>e.removeEventListener("pagehide",U)}return S.initialized||jt(rn.Pop,S.location,{initialHydration:!0}),Q}function Et(){T&&T(),D&&D(),C.clear(),O&&O.abort(),S.fetchers.forEach((U,W)=>Wn(W)),S.blockers.forEach((U,W)=>fi(W))}function It(U){return C.add(U),()=>C.delete(U)}function it(U,W){W===void 0&&(W={}),S=Ut({},S,U);let X=[],re=[];_.v7_fetcherPersist&&S.fetchers.forEach((_e,ke)=>{_e.state==="idle"&&(Te.has(ke)?re.push(ke):X.push(ke))}),Te.forEach(_e=>{!S.fetchers.has(_e)&&!ne.has(_e)&&re.push(_e)}),[...C].forEach(_e=>_e(S,{deletedFetchers:re,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),_.v7_fetcherPersist?(X.forEach(_e=>S.fetchers.delete(_e)),re.forEach(_e=>Wn(_e))):re.forEach(_e=>Te.delete(_e))}function kt(U,W,X){var re,_e;let{flushSync:ke}=X===void 0?{}:X,Qe=S.actionData!=null&&S.navigation.formMethod!=null&&ii(S.navigation.formMethod)&&S.navigation.state==="loading"&&((re=U.state)==null?void 0:re._isRedirect)!==!0,Pe;W.actionData?Object.keys(W.actionData).length>0?Pe=W.actionData:Pe=null:Qe?Pe=S.actionData:Pe=null;let Re=W.loaderData?gS(S.loaderData,W.loaderData,W.matches||[],W.errors):S.loaderData,Ie=S.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((Je,Kt)=>Ie.set(Kt,zu)));let De=k===!0||S.navigation.formMethod!=null&&ii(S.navigation.formMethod)&&((_e=U.state)==null?void 0:_e._isRedirect)!==!0;d&&(l=d,d=void 0),we||A===rn.Pop||(A===rn.Push?n.history.push(U,U.state):A===rn.Replace&&n.history.replace(U,U.state));let et;if(A===rn.Pop){let Je=V.get(S.location.pathname);Je&&Je.has(U.pathname)?et={currentLocation:S.location,nextLocation:U}:V.has(U.pathname)&&(et={currentLocation:U,nextLocation:S.location})}else if(L){let Je=V.get(S.location.pathname);Je?Je.add(U.pathname):(Je=new Set([U.pathname]),V.set(S.location.pathname,Je)),et={currentLocation:S.location,nextLocation:U}}it(Ut({},W,{actionData:Pe,loaderData:Re,historyAction:A,location:U,initialized:!0,navigation:pg,revalidation:"idle",restoreScrollPosition:hi(U,W.matches||S.matches),preventScrollReset:De,blockers:Ie}),{viewTransitionOpts:et,flushSync:ke===!0}),A=rn.Pop,k=!1,L=!1,we=!1,xe=!1,Fe=[]}async function qt(U,W){if(typeof U=="number"){n.history.go(U);return}let X=ay(S.location,S.matches,h,_.v7_prependBasename,U,_.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:re,submission:_e,error:ke}=lS(_.v7_normalizeFormMethod,!1,X,W),Qe=S.location,Pe=Sc(S.location,re,W&&W.state);Pe=Ut({},Pe,n.history.encodeLocation(Pe));let Re=W&&W.replace!=null?W.replace:void 0,Ie=rn.Push;Re===!0?Ie=rn.Replace:Re===!1||_e!=null&&ii(_e.formMethod)&&_e.formAction===S.location.pathname+S.location.search&&(Ie=rn.Replace);let De=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,et=(W&&W.flushSync)===!0,Je=Vi({currentLocation:Qe,nextLocation:Pe,historyAction:Ie});if(Je){qr(Je,{state:"blocked",location:Pe,proceed(){qr(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),qt(U,W)},reset(){let Kt=new Map(S.blockers);Kt.set(Je,zu),it({blockers:Kt})}});return}return await jt(Ie,Pe,{submission:_e,pendingError:ke,preventScrollReset:De,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:et})}function rt(){if(mt(),it({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){jt(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}jt(A||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:L===!0})}}async function jt(U,W,X){O&&O.abort(),O=null,A=U,we=(X&&X.startUninterruptedRevalidation)===!0,No(S.location,S.matches),k=(X&&X.preventScrollReset)===!0,L=(X&&X.enableViewTransition)===!0;let re=d||l,_e=X&&X.overrideNavigation,ke=X!=null&&X.initialHydration&&S.matches&&S.matches.length>0&&!z?S.matches:Xo(re,W,h),Qe=(X&&X.flushSync)===!0,Pe=pi(ke,re,W.pathname);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){let{error:Tt,notFoundMatches:at,route:Rt}=Dn(W.pathname);kt(W,{matches:at,loaderData:{},errors:{[Rt.id]:Tt}},{flushSync:Qe});return}if(S.initialized&&!xe&&a9(S.location,W)&&!(X&&X.submission&&ii(X.submission.formMethod))){kt(W,{matches:ke},{flushSync:Qe});return}O=new AbortController;let Re=dl(n.history,W,O.signal,X&&X.submission),Ie;if(X&&X.pendingError)Ie=[Jo(ke).route.id,{type:Nt.error,error:X.pendingError}];else if(X&&X.submission&&ii(X.submission.formMethod)){let Tt=await pn(Re,W,X.submission,ke,Pe.active,{replace:X.replace,flushSync:Qe});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[at,Rt]=Tt.pendingActionResult;if(Sr(Rt)&&Ic(Rt.error)&&Rt.error.status===404){O=null,kt(W,{matches:Tt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}ke=Tt.matches||ke,Ie=Tt.pendingActionResult,_e=mg(W,X.submission),Qe=!1,Pe.active=!1,Re=dl(n.history,Re.url,Re.signal)}let{shortCircuited:De,matches:et,loaderData:Je,errors:Kt}=await Rr(Re,W,ke,Pe.active,_e,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Qe,Ie);De||(O=null,kt(W,Ut({matches:et||ke},yS(Ie),{loaderData:Je,errors:Kt})))}async function pn(U,W,X,re,_e,ke){ke===void 0&&(ke={}),mt();let Qe=h9(W,X);if(it({navigation:Qe},{flushSync:ke.flushSync===!0}),_e){let Ie=await tr(re,W.pathname,U.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let De=Jo(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,pendingActionResult:[De,{type:Nt.error,error:Ie.error}]}}else if(Ie.matches)re=Ie.matches;else{let{notFoundMatches:De,error:et,route:Je}=Dn(W.pathname);return{matches:De,pendingActionResult:[Je.id,{type:Nt.error,error:et}]}}}let Pe,Re=Ju(re,W);if(!Re.route.action&&!Re.route.lazy)Pe={type:Nt.error,error:cr(405,{method:U.method,pathname:W.pathname,routeId:Re.route.id})};else if(Pe=(await on("action",S,U,[Re],re,null))[Re.route.id],U.signal.aborted)return{shortCircuited:!0};if(sa(Pe)){let Ie;return ke&&ke.replace!=null?Ie=ke.replace:Ie=hS(Pe.response.headers.get("Location"),new URL(U.url),h)===S.location.pathname+S.location.search,await Dt(U,Pe,!0,{submission:X,replace:Ie}),{shortCircuited:!0}}if(so(Pe))throw cr(400,{type:"defer-action"});if(Sr(Pe)){let Ie=Jo(re,Re.route.id);return(ke&&ke.replace)!==!0&&(A=rn.Push),{matches:re,pendingActionResult:[Ie.route.id,Pe]}}return{matches:re,pendingActionResult:[Re.route.id,Pe]}}async function Rr(U,W,X,re,_e,ke,Qe,Pe,Re,Ie,De){let et=_e||mg(W,ke),Je=ke||Qe||wS(et),Kt=!we&&(!_.v7_partialHydration||!Re);if(re){if(Kt){let Ct=Hn(De);it(Ut({navigation:et},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Ie})}let dt=await tr(X,W.pathname,U.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Ct=Jo(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Ct]:dt.error}}}else if(dt.matches)X=dt.matches;else{let{error:Ct,notFoundMatches:Zt,route:yi}=Dn(W.pathname);return{matches:Zt,loaderData:{},errors:{[yi.id]:Ct}}}}let Tt=d||l,[at,Rt]=cS(n.history,S,X,Je,W,_.v7_partialHydration&&Re===!0,_.v7_skipActionErrorRevalidation,xe,Fe,Ne,Te,he,ee,Tt,h,De);if(er(dt=>!(X&&X.some(Ct=>Ct.route.id===dt))||at&&at.some(Ct=>Ct.route.id===dt)),ae=++me,at.length===0&&Rt.length===0){let dt=Zn();return kt(W,Ut({matches:X,loaderData:{},errors:De&&Sr(De[1])?{[De[0]]:De[1].error}:null},yS(De),dt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Ie}),{shortCircuited:!0}}if(Kt){let dt={};if(!re){dt.navigation=et;let Ct=Hn(De);Ct!==void 0&&(dt.actionData=Ct)}Rt.length>0&&(dt.fetchers=Ft(Rt)),it(dt,{flushSync:Ie})}Rt.forEach(dt=>{ot(dt.key),dt.controller&&ne.set(dt.key,dt.controller)});let br=()=>Rt.forEach(dt=>ot(dt.key));O&&O.signal.addEventListener("abort",br);let{loaderResults:mi,fetcherResults:mr}=await $e(S,X,at,Rt,U);if(U.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",br),Rt.forEach(dt=>ne.delete(dt.key));let ct=Tf(mi);if(ct)return await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};if(ct=Tf(mr),ct)return ee.add(ct.key),await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Cs,errors:gr}=mS(S,X,mi,De,Rt,mr,Ae);Ae.forEach((dt,Ct)=>{dt.subscribe(Zt=>{(Zt||dt.done)&&Ae.delete(Ct)})}),_.v7_partialHydration&&Re&&S.errors&&(gr=Ut({},S.errors,gr));let On=Zn(),Tn=di(ae),gi=On||Tn||Rt.length>0;return Ut({matches:X,loaderData:Cs,errors:gr},gi?{fetchers:new Map(S.fetchers)}:{})}function Hn(U){if(U&&!Sr(U[1]))return{[U[0]]:U[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Ft(U){return U.forEach(W=>{let X=S.fetchers.get(W.key),re=Wu(void 0,X?X.data:void 0);S.fetchers.set(W.key,re)}),new Map(S.fetchers)}function Jt(U,W,X,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ot(U);let _e=(re&&re.flushSync)===!0,ke=d||l,Qe=ay(S.location,S.matches,h,_.v7_prependBasename,X,_.v7_relativeSplatPath,W,re==null?void 0:re.relative),Pe=Xo(ke,Qe,h),Re=pi(Pe,ke,Qe);if(Re.active&&Re.matches&&(Pe=Re.matches),!Pe){mn(U,W,cr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Ie,submission:De,error:et}=lS(_.v7_normalizeFormMethod,!0,Qe,re);if(et){mn(U,W,et,{flushSync:_e});return}let Je=Ju(Pe,Ie),Kt=(re&&re.preventScrollReset)===!0;if(De&&ii(De.formMethod)){Jn(U,W,Ie,Je,Pe,Re.active,_e,Kt,De);return}he.set(U,{routeId:W,path:Ie}),Pn(U,W,Ie,Je,Pe,Re.active,_e,Kt,De)}async function Jn(U,W,X,re,_e,ke,Qe,Pe,Re){mt(),he.delete(U);function Ie(ft){if(!ft.route.action&&!ft.route.lazy){let Nr=cr(405,{method:Re.formMethod,pathname:X,routeId:W});return mn(U,W,Nr,{flushSync:Qe}),!0}return!1}if(!ke&&Ie(re))return;let De=S.fetchers.get(U);Ot(U,p9(Re,De),{flushSync:Qe});let et=new AbortController,Je=dl(n.history,X,et.signal,Re);if(ke){let ft=await tr(_e,new URL(Je.url).pathname,Je.signal);if(ft.type==="aborted")return;if(ft.type==="error"){mn(U,W,ft.error,{flushSync:Qe});return}else if(ft.matches){if(_e=ft.matches,re=Ju(_e,X),Ie(re))return}else{mn(U,W,cr(404,{pathname:X}),{flushSync:Qe});return}}ne.set(U,et);let Kt=me,at=(await on("action",S,Je,[re],_e,U))[re.route.id];if(Je.signal.aborted){ne.get(U)===et&&ne.delete(U);return}if(_.v7_fetcherPersist&&Te.has(U)){if(sa(at)||Sr(at)){Ot(U,Ys(void 0));return}}else{if(sa(at))if(ne.delete(U),ae>Kt){Ot(U,Ys(void 0));return}else return ee.add(U),Ot(U,Wu(Re)),Dt(Je,at,!1,{fetcherSubmission:Re,preventScrollReset:Pe});if(Sr(at)){mn(U,W,at.error);return}}if(so(at))throw cr(400,{type:"defer-action"});let Rt=S.navigation.location||S.location,br=dl(n.history,Rt,et.signal),mi=d||l,mr=S.navigation.state!=="idle"?Xo(mi,S.navigation.location,h):S.matches;ut(mr,"Didn't find any matches after fetcher action");let ct=++me;F.set(U,ct);let Cs=Wu(Re,at.data);S.fetchers.set(U,Cs);let[gr,On]=cS(n.history,S,mr,Re,Rt,!1,_.v7_skipActionErrorRevalidation,xe,Fe,Ne,Te,he,ee,mi,h,[re.route.id,at]);On.filter(ft=>ft.key!==U).forEach(ft=>{let Nr=ft.key,Po=S.fetchers.get(Nr),Ra=Wu(void 0,Po?Po.data:void 0);S.fetchers.set(Nr,Ra),ot(Nr),ft.controller&&ne.set(Nr,ft.controller)}),it({fetchers:new Map(S.fetchers)});let Tn=()=>On.forEach(ft=>ot(ft.key));et.signal.addEventListener("abort",Tn);let{loaderResults:gi,fetcherResults:dt}=await $e(S,mr,gr,On,br);if(et.signal.aborted)return;et.signal.removeEventListener("abort",Tn),F.delete(U),ne.delete(U),On.forEach(ft=>ne.delete(ft.key));let Ct=Tf(gi);if(Ct)return Dt(br,Ct.result,!1,{preventScrollReset:Pe});if(Ct=Tf(dt),Ct)return ee.add(Ct.key),Dt(br,Ct.result,!1,{preventScrollReset:Pe});let{loaderData:Zt,errors:yi}=mS(S,mr,gi,void 0,On,dt,Ae);if(S.fetchers.has(U)){let ft=Ys(at.data);S.fetchers.set(U,ft)}di(ct),S.navigation.state==="loading"&&ct>ae?(ut(A,"Expected pending action"),O&&O.abort(),kt(S.navigation.location,{matches:mr,loaderData:Zt,errors:yi,fetchers:new Map(S.fetchers)})):(it({errors:yi,loaderData:gS(S.loaderData,Zt,mr,yi),fetchers:new Map(S.fetchers)}),xe=!1)}async function Pn(U,W,X,re,_e,ke,Qe,Pe,Re){let Ie=S.fetchers.get(U);Ot(U,Wu(Re,Ie?Ie.data:void 0),{flushSync:Qe});let De=new AbortController,et=dl(n.history,X,De.signal);if(ke){let at=await tr(_e,new URL(et.url).pathname,et.signal);if(at.type==="aborted")return;if(at.type==="error"){mn(U,W,at.error,{flushSync:Qe});return}else if(at.matches)_e=at.matches,re=Ju(_e,X);else{mn(U,W,cr(404,{pathname:X}),{flushSync:Qe});return}}ne.set(U,De);let Je=me,Tt=(await on("loader",S,et,[re],_e,U))[re.route.id];if(so(Tt)&&(Tt=await Jv(Tt,et.signal,!0)||Tt),ne.get(U)===De&&ne.delete(U),!et.signal.aborted){if(Te.has(U)){Ot(U,Ys(void 0));return}if(sa(Tt))if(ae>Je){Ot(U,Ys(void 0));return}else{ee.add(U),await Dt(et,Tt,!1,{preventScrollReset:Pe});return}if(Sr(Tt)){mn(U,W,Tt.error);return}ut(!so(Tt),"Unhandled fetcher deferred data"),Ot(U,Ys(Tt.data))}}async function Dt(U,W,X,re){let{submission:_e,fetcherSubmission:ke,preventScrollReset:Qe,replace:Pe}=re===void 0?{}:re;W.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let Re=W.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=hS(Re,new URL(U.url),h);let Ie=Sc(S.location,Re,{_isRedirect:!0});if(t){let at=!1;if(W.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(Xv.test(Re)){const Rt=n.history.createURL(Re);at=Rt.origin!==e.location.origin||ys(Rt.pathname,h)==null}if(at){Pe?e.location.replace(Re):e.location.assign(Re);return}}O=null;let De=Pe===!0||W.response.headers.has("X-Remix-Replace")?rn.Replace:rn.Push,{formMethod:et,formAction:Je,formEncType:Kt}=S.navigation;!_e&&!ke&&et&&Je&&Kt&&(_e=wS(S.navigation));let Tt=_e||ke;if(GB.has(W.response.status)&&Tt&&ii(Tt.formMethod))await jt(De,Ie,{submission:Ut({},Tt,{formAction:Re}),preventScrollReset:Qe||k,enableViewTransition:X?L:void 0});else{let at=mg(Ie,_e);await jt(De,Ie,{overrideNavigation:at,fetcherSubmission:ke,preventScrollReset:Qe||k,enableViewTransition:X?L:void 0})}}async function on(U,W,X,re,_e,ke){let Qe,Pe={};try{Qe=await n9(p,U,W,X,re,_e,ke,a,s)}catch(Re){return re.forEach(Ie=>{Pe[Ie.route.id]={type:Nt.error,error:Re}}),Pe}for(let[Re,Ie]of Object.entries(Qe))if(l9(Ie)){let De=Ie.result;Pe[Re]={type:Nt.redirect,response:s9(De,X,Re,_e,h,_.v7_relativeSplatPath)}}else Pe[Re]=await i9(Ie);return Pe}async function $e(U,W,X,re,_e){let ke=U.matches,Qe=on("loader",U,_e,X,W,null),Pe=Promise.all(re.map(async De=>{if(De.matches&&De.match&&De.controller){let Je=(await on("loader",U,dl(n.history,De.path,De.controller.signal),[De.match],De.matches,De.key))[De.match.route.id];return{[De.key]:Je}}else return Promise.resolve({[De.key]:{type:Nt.error,error:cr(404,{pathname:De.path})}})})),Re=await Qe,Ie=(await Pe).reduce((De,et)=>Object.assign(De,et),{});return await Promise.all([d9(W,Re,_e.signal,ke,U.loaderData),f9(W,Ie,re)]),{loaderResults:Re,fetcherResults:Ie}}function mt(){xe=!0,Fe.push(...er()),he.forEach((U,W)=>{ne.has(W)&&Ne.add(W),ot(W)})}function Ot(U,W,X){X===void 0&&(X={}),S.fetchers.set(U,W),it({fetchers:new Map(S.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function mn(U,W,X,re){re===void 0&&(re={});let _e=Jo(S.matches,W);Wn(U),it({errors:{[_e.route.id]:X},fetchers:new Map(S.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function zn(U){return ve.set(U,(ve.get(U)||0)+1),Te.has(U)&&Te.delete(U),S.fetchers.get(U)||QB}function Wn(U){let W=S.fetchers.get(U);ne.has(U)&&!(W&&W.state==="loading"&&F.has(U))&&ot(U),he.delete(U),F.delete(U),ee.delete(U),_.v7_fetcherPersist&&Te.delete(U),Ne.delete(U),S.fetchers.delete(U)}function Be(U){let W=(ve.get(U)||0)-1;W<=0?(ve.delete(U),Te.add(U),_.v7_fetcherPersist||Wn(U)):ve.set(U,W),it({fetchers:new Map(S.fetchers)})}function ot(U){let W=ne.get(U);W&&(W.abort(),ne.delete(U))}function gn(U){for(let W of U){let X=zn(W),re=Ys(X.data);S.fetchers.set(W,re)}}function Zn(){let U=[],W=!1;for(let X of ee){let re=S.fetchers.get(X);ut(re,"Expected fetcher: "+X),re.state==="loading"&&(ee.delete(X),U.push(X),W=!0)}return gn(U),W}function di(U){let W=[];for(let[X,re]of F)if(re<U){let _e=S.fetchers.get(X);ut(_e,"Expected fetcher: "+X),_e.state==="loading"&&(ot(X),F.delete(X),W.push(X))}return gn(W),W.length>0}function bo(U,W){let X=S.blockers.get(U)||zu;return qe.get(U)!==W&&qe.set(U,W),X}function fi(U){S.blockers.delete(U),qe.delete(U)}function qr(U,W){let X=S.blockers.get(U)||zu;ut(X.state==="unblocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="proceeding"||X.state==="blocked"&&W.state==="unblocked"||X.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+W.state);let re=new Map(S.blockers);re.set(U,W),it({blockers:re})}function Vi(U){let{currentLocation:W,nextLocation:X,historyAction:re}=U;if(qe.size===0)return;qe.size>1&&ma(!1,"A router only supports one blocker at a time");let _e=Array.from(qe.entries()),[ke,Qe]=_e[_e.length-1],Pe=S.blockers.get(ke);if(!(Pe&&Pe.state==="proceeding")&&Qe({currentLocation:W,nextLocation:X,historyAction:re}))return ke}function Dn(U){let W=cr(404,{pathname:U}),X=d||l,{matches:re,route:_e}=vS(X);return er(),{notFoundMatches:re,route:_e,error:W}}function er(U){let W=[];return Ae.forEach((X,re)=>{(!U||U(re))&&(X.cancel(),W.push(re),Ae.delete(re))}),W}function Is(U,W,X){if(P=U,N=W,x=X||null,!H&&S.navigation===pg){H=!0;let re=hi(S.location,S.matches);re!=null&&it({restoreScrollPosition:re})}return()=>{P=null,N=null,x=null}}function pr(U,W){return x&&x(U,W.map(re=>AB(re,S.loaderData)))||U.key}function No(U,W){if(P&&N){let X=pr(U,W);P[X]=N()}}function hi(U,W){if(P){let X=pr(U,W),re=P[X];if(typeof re=="number")return re}return null}function pi(U,W,X){if(g)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:Uf(W,X,h,!0)}}else return{active:!0,matches:Uf(W,X,h,!0)||[]};return{active:!1,matches:null}}async function tr(U,W,X){if(!g)return{type:"success",matches:U};let re=U;for(;;){let _e=d==null,ke=d||l,Qe=a;try{await g({signal:X,path:W,matches:re,patch:(Ie,De)=>{X.aborted||fS(Ie,De,ke,Qe,s)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:re}}finally{_e&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let Pe=Xo(ke,W,h);if(Pe)return{type:"success",matches:Pe};let Re=Uf(ke,W,h,!0);if(!Re||re.length===Re.length&&re.every((Ie,De)=>Ie.route.id===Re[De].route.id))return{type:"success",matches:null};re=Re}}function ko(U){a={},d=mh(U,s,void 0,a)}function Bt(U,W){let X=d==null;fS(U,W,d||l,a,s),X&&(l=[...l],it({}))}return Q={get basename(){return h},get future(){return _},get state(){return S},get routes(){return l},get window(){return e},initialize:st,subscribe:It,enableScrollRestoration:Is,navigate:qt,fetch:Jt,revalidate:rt,createHref:U=>n.history.createHref(U),encodeLocation:U=>n.history.encodeLocation(U),getFetcher:zn,deleteFetcher:Be,dispose:Et,getBlocker:bo,deleteBlocker:fi,patchRoutes:Bt,_internalFetchControllers:ne,_internalActiveDeferreds:Ae,_internalSetRoutes:ko},Q}function JB(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ay(n,e,t,r,s,a,l,d){let h,p;if(l){h=[];for(let _ of e)if(h.push(_),_.route.id===l){p=_;break}}else h=e,p=e[e.length-1];let g=Yv(s||".",Qv(h,a),ys(n.pathname,t)||n.pathname,d==="path");if(s==null&&(g.search=n.search,g.hash=n.hash),(s==null||s===""||s===".")&&p){let _=Zv(g.search);if(p.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&_){let T=new URLSearchParams(g.search),C=T.getAll("index");T.delete("index"),C.filter(x=>x).forEach(x=>T.append("index",x));let P=T.toString();g.search=P?"?"+P:""}}return r&&t!=="/"&&(g.pathname=g.pathname==="/"?t:cs([t,g.pathname])),ga(g)}function lS(n,e,t,r){if(!r||!JB(r))return{path:t};if(r.formMethod&&!c9(r.formMethod))return{path:t,error:cr(405,{method:r.formMethod})};let s=()=>({path:t,error:cr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),d=iN(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ii(l))return s();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((C,P)=>{let[x,N]=P;return""+C+x+"="+N+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:d,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!ii(l))return s();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:d,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}ut(typeof FormData=="function","FormData is not available in this environment");let h,p;if(r.formData)h=uy(r.formData),p=r.formData;else if(r.body instanceof FormData)h=uy(r.body),p=r.body;else if(r.body instanceof URLSearchParams)h=r.body,p=pS(h);else if(r.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(r.body),p=pS(h)}catch{return s()}let g={formMethod:l,formAction:d,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ii(g.formMethod))return{path:t,submission:g};let _=Es(t);return e&&_.search&&Zv(_.search)&&h.append("index",""),_.search="?"+h,{path:ga(_),submission:g}}function uS(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function cS(n,e,t,r,s,a,l,d,h,p,g,_,T,C,P,x){let N=x?Sr(x[1])?x[1].error:x[1].data:void 0,H=n.createURL(e.location),$=n.createURL(s),z=t;a&&e.errors?z=uS(t,Object.keys(e.errors)[0],!0):x&&Sr(x[1])&&(z=uS(t,x[0]));let q=x?x[1].statusCode:void 0,Z=l&&q&&q>=400,Q=z.filter((A,k)=>{let{route:O}=A;if(O.lazy)return!0;if(O.loader==null)return!1;if(a)return ly(O,e.loaderData,e.errors);if(ZB(e.loaderData,e.matches[k],A)||h.some(D=>D===A.route.id))return!0;let L=e.matches[k],V=A;return dS(A,Ut({currentUrl:H,currentParams:L.params,nextUrl:$,nextParams:V.params},r,{actionResult:N,actionStatus:q,defaultShouldRevalidate:Z?!1:d||H.pathname+H.search===$.pathname+$.search||H.search!==$.search||nN(L,V)}))}),S=[];return _.forEach((A,k)=>{if(a||!t.some(we=>we.route.id===A.routeId)||g.has(k))return;let O=Xo(C,A.path,P);if(!O){S.push({key:k,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(k),V=Ju(O,A.path),D=!1;T.has(k)?D=!1:p.has(k)?(p.delete(k),D=!0):L&&L.state!=="idle"&&L.data===void 0?D=d:D=dS(V,Ut({currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:$,nextParams:t[t.length-1].params},r,{actionResult:N,actionStatus:q,defaultShouldRevalidate:Z?!1:d})),D&&S.push({key:k,routeId:A.routeId,path:A.path,matches:O,match:V,controller:new AbortController})}),[Q,S]}function ly(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function ZB(n,e,t){let r=!e||t.route.id!==e.route.id,s=n[t.route.id]===void 0;return r||s}function nN(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function dS(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function fS(n,e,t,r,s){var a;let l;if(n){let p=r[n];ut(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let d=e.filter(p=>!l.some(g=>rN(p,g))),h=mh(d,s,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...h)}function rN(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>rN(t,a))}):!1}async function e9(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];ut(s,"No route found in manifest");let a={};for(let l in r){let h=s[l]!==void 0&&l!=="hasErrorBoundary";ma(!h,'Route "'+s.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!h&&!IB.has(l)&&(a[l]=r[l])}Object.assign(s,a),Object.assign(s,Ut({},e(s),{lazy:void 0}))}async function t9(n){let{matches:e}=n,t=e.filter(s=>s.shouldLoad);return(await Promise.all(t.map(s=>s.resolve()))).reduce((s,a,l)=>Object.assign(s,{[t[l].route.id]:a}),{})}async function n9(n,e,t,r,s,a,l,d,h,p){let g=a.map(C=>C.route.lazy?e9(C.route,h,d):void 0),_=a.map((C,P)=>{let x=g[P],N=s.some($=>$.route.id===C.route.id);return Ut({},C,{shouldLoad:N,resolve:async $=>($&&r.method==="GET"&&(C.route.lazy||C.route.loader)&&(N=!0),N?r9(e,r,C,x,$,p):Promise.resolve({type:Nt.data,result:void 0}))})}),T=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return T}async function r9(n,e,t,r,s,a){let l,d,h=p=>{let g,_=new Promise((P,x)=>g=x);d=()=>g(),e.signal.addEventListener("abort",d);let T=P=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...P!==void 0?[P]:[]),C=(async()=>{try{return{type:"data",result:await(s?s(x=>T(x)):T())}}catch(P){return{type:"error",result:P}}})();return Promise.race([C,_])};try{let p=t.route[n];if(r)if(p){let g,[_]=await Promise.all([h(p).catch(T=>{g=T}),r]);if(g!==void 0)throw g;l=_}else if(await r,p=t.route[n],p)l=await h(p);else if(n==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw cr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await h(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw cr(404,{pathname:_})}ut(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{d&&e.signal.removeEventListener("abort",d)}return l}async function i9(n){let{result:e,type:t}=n;if(sN(e)){let _;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(T){return{type:Nt.error,error:T}}return t===Nt.error?{type:Nt.error,error:new yh(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:_,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(_S(e)){var r,s;if(e.data instanceof Error){var a,l;return{type:Nt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new yh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Ic(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:Ic(e)?e.status:void 0}}if(u9(e)){var d,h;return{type:Nt.deferred,deferredData:e,statusCode:(d=e.init)==null?void 0:d.status,headers:((h=e.init)==null?void 0:h.headers)&&new Headers(e.init.headers)}}if(_S(e)){var p,g;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function s9(n,e,t,r,s,a){let l=n.headers.get("Location");if(ut(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xv.test(l)){let d=r.slice(0,r.findIndex(h=>h.route.id===t)+1);l=ay(new URL(e.url),d,s,!0,l,a),n.headers.set("Location",l)}return n}function hS(n,e,t){if(Xv.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=ys(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function dl(n,e,t,r){let s=n.createURL(iN(e)).toString(),a={signal:t};if(r&&ii(r.formMethod)){let{formMethod:l,formEncType:d}=r;a.method=l.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(r.json)):d==="text/plain"?a.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?a.body=uy(r.formData):a.body=r.formData}return new Request(s,a)}function uy(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function pS(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function o9(n,e,t,r,s){let a={},l=null,d,h=!1,p={},g=t&&Sr(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let T=_.route.id,C=e[T];if(ut(!sa(C),"Cannot handle redirect results in processLoaderData"),Sr(C)){let P=C.error;g!==void 0&&(P=g,g=void 0),l=l||{};{let x=Jo(n,T);l[x.route.id]==null&&(l[x.route.id]=P)}a[T]=void 0,h||(h=!0,d=Ic(C.error)?C.error.status:500),C.headers&&(p[T]=C.headers)}else so(C)?(r.set(T,C.deferredData),a[T]=C.deferredData.data,C.statusCode!=null&&C.statusCode!==200&&!h&&(d=C.statusCode),C.headers&&(p[T]=C.headers)):(a[T]=C.data,C.statusCode&&C.statusCode!==200&&!h&&(d=C.statusCode),C.headers&&(p[T]=C.headers))}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:d||200,loaderHeaders:p}}function mS(n,e,t,r,s,a,l){let{loaderData:d,errors:h}=o9(e,t,r,l);return s.forEach(p=>{let{key:g,match:_,controller:T}=p,C=a[g];if(ut(C,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Sr(C)){let P=Jo(n.matches,_==null?void 0:_.route.id);h&&h[P.route.id]||(h=Ut({},h,{[P.route.id]:C.error})),n.fetchers.delete(g)}else if(sa(C))ut(!1,"Unhandled fetcher revalidation redirect");else if(so(C))ut(!1,"Unhandled fetcher deferred data");else{let P=Ys(C.data);n.fetchers.set(g,P)}}),{loaderData:d,errors:h}}function gS(n,e,t,r){let s=Ut({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(s[l]=e[l]):n[l]!==void 0&&a.route.loader&&(s[l]=n[l]),r&&r.hasOwnProperty(l))break}return s}function yS(n){return n?Sr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Jo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function vS(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function cr(n,e){let{pathname:t,routeId:r,method:s,type:a,message:l}=e===void 0?{}:e,d="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(d="Bad Request",s&&t&&r?h="You made a "+s+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?h="defer() is not supported in actions":a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(d="Forbidden",h='Route "'+r+'" does not match URL "'+t+'"'):n===404?(d="Not Found",h='No route matches URL "'+t+'"'):n===405&&(d="Method Not Allowed",s&&t&&r?h="You made a "+s.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(h='Invalid request method "'+s.toUpperCase()+'"')),new yh(n||500,d,new Error(h),!0)}function Tf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(sa(s))return{key:r,result:s}}}function iN(n){let e=typeof n=="string"?Es(n):n;return ga(Ut({},e,{hash:""}))}function a9(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function l9(n){return sN(n.result)&&KB.has(n.result.status)}function so(n){return n.type===Nt.deferred}function Sr(n){return n.type===Nt.error}function sa(n){return(n&&n.type)===Nt.redirect}function _S(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function u9(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function sN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function c9(n){return qB.has(n.toLowerCase())}function ii(n){return zB.has(n.toLowerCase())}async function d9(n,e,t,r,s){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[d,h]=a[l],p=n.find(T=>(T==null?void 0:T.route.id)===d);if(!p)continue;let g=r.find(T=>T.route.id===p.route.id),_=g!=null&&!nN(g,p)&&(s&&s[p.route.id])!==void 0;so(h)&&_&&await Jv(h,t,!1).then(T=>{T&&(e[d]=T)})}}async function f9(n,e,t){for(let r=0;r<t.length;r++){let{key:s,routeId:a,controller:l}=t[r],d=e[s];n.find(p=>(p==null?void 0:p.route.id)===a)&&so(d)&&(ut(l,"Expected an AbortController for revalidating fetcher deferred result"),await Jv(d,l.signal,!0).then(p=>{p&&(e[s]=p)}))}}async function Jv(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(s){return{type:Nt.error,error:s}}return{type:Nt.data,data:n.deferredData.data}}}function Zv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ju(n,e){let t=typeof e=="string"?Es(e).search:e.search;if(n[n.length-1].route.index&&Zv(t||""))return n[n.length-1];let r=Zb(n);return r[r.length-1]}function wS(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:l}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function mg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function h9(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function p9(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ys(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function m9(n,e){try{let t=n.sessionStorage.getItem(tN);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function g9(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(tN,JSON.stringify(t))}catch(r){ma(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vh.apply(this,arguments)}const Qc=w.createContext(null),e_=w.createContext(null),Ro=w.createContext(null),t_=w.createContext(null),Ts=w.createContext({outlet:null,matches:[],isDataRoute:!1}),oN=w.createContext(null);function y9(n,e){let{relative:t}=e===void 0?{}:e;Yc()||ut(!1);let{basename:r,navigator:s}=w.useContext(Ro),{hash:a,pathname:l,search:d}=Jh(n,{relative:t}),h=l;return r!=="/"&&(h=l==="/"?r:cs([r,l])),s.createHref({pathname:h,search:d,hash:a})}function Yc(){return w.useContext(t_)!=null}function Xc(){return Yc()||ut(!1),w.useContext(t_).location}function aN(n){w.useContext(Ro).static||w.useLayoutEffect(n)}function Aa(){let{isDataRoute:n}=w.useContext(Ts);return n?k9():v9()}function v9(){Yc()||ut(!1);let n=w.useContext(Qc),{basename:e,future:t,navigator:r}=w.useContext(Ro),{matches:s}=w.useContext(Ts),{pathname:a}=Xc(),l=JSON.stringify(Qv(s,t.v7_relativeSplatPath)),d=w.useRef(!1);return aN(()=>{d.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let _=Yv(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:cs([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}const _9=w.createContext(null);function w9(n){let e=w.useContext(Ts).outlet;return e&&w.createElement(_9.Provider,{value:n},e)}function lN(){let{matches:n}=w.useContext(Ts),e=n[n.length-1];return e?e.params:{}}function Jh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Ro),{matches:s}=w.useContext(Ts),{pathname:a}=Xc(),l=JSON.stringify(Qv(s,r.v7_relativeSplatPath));return w.useMemo(()=>Yv(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function E9(n,e,t,r){Yc()||ut(!1);let{navigator:s,static:a}=w.useContext(Ro),{matches:l}=w.useContext(Ts),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=Xc(),_;_=g;let T=_.pathname||"/",C=T;if(p!=="/"){let N=p.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let P=!a&&t&&t.matches&&t.matches.length>0?t.matches:Xo(n,{pathname:C});return A9(P&&P.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:cs([p,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:cs([p,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,r)}function T9(){let n=fN(),e=Ic(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,null)}const S9=w.createElement(T9,null);class I9 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Ts.Provider,{value:this.props.routeContext},w.createElement(oN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C9(n){let{routeContext:e,match:t,children:r}=n,s=w.useContext(Qc);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Ts.Provider,{value:e},r)}function A9(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let g=l.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);g>=0||ut(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:C}=t,P=_.route.loader&&T[_.route.id]===void 0&&(!C||C[_.route.id]===void 0);if(_.route.lazy||P){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let C,P=!1,x=null,N=null;t&&(C=d&&_.route.id?d[_.route.id]:void 0,x=_.route.errorElement||S9,h&&(p<0&&T===0?(P9("route-fallback"),P=!0,N=null):p===T&&(P=!0,N=_.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,T+1)),$=()=>{let z;return C?z=x:P?z=N:_.route.Component?z=w.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=g,w.createElement(C9,{match:_,routeContext:{outlet:g,matches:H,isDataRoute:t!=null},children:z})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?w.createElement(I9,{location:t.location,revalidation:t.revalidation,component:x,error:C,children:$(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):$()},null)}var uN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(uN||{}),cN=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(cN||{});function R9(n){let e=w.useContext(Qc);return e||ut(!1),e}function b9(n){let e=w.useContext(e_);return e||ut(!1),e}function N9(n){let e=w.useContext(Ts);return e||ut(!1),e}function dN(n){let e=N9(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function fN(){var n;let e=w.useContext(oN),t=b9(cN.UseRouteError),r=dN();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function k9(){let{router:n}=R9(uN.UseNavigateStable),e=dN(),t=w.useRef(!1);return aN(()=>{t.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,vh({fromRouteId:e},a)))},[n,e])}const ES={};function P9(n,e,t){ES[n]||(ES[n]=!0)}function D9(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function O9(n){return w9(n.context)}function x9(n){let{basename:e="/",children:t=null,location:r,navigationType:s=rn.Pop,navigator:a,static:l=!1,future:d}=n;Yc()&&ut(!1);let h=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:h,navigator:a,static:l,future:vh({v7_relativeSplatPath:!1},d)}),[h,d,a,l]);typeof r=="string"&&(r=Es(r));let{pathname:g="/",search:_="",hash:T="",state:C=null,key:P="default"}=r,x=w.useMemo(()=>{let N=ys(g,h);return N==null?null:{location:{pathname:N,search:_,hash:T,state:C,key:P},navigationType:s}},[h,g,_,T,C,P,s]);return x==null?null:w.createElement(Ro.Provider,{value:p},w.createElement(t_.Provider,{children:t,value:x}))}new Promise(()=>{});function L9(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wl.apply(this,arguments)}function hN(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function M9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V9(n,e){return n.button===0&&(!e||e==="_self")&&!M9(n)}const $9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],j9="6";try{window.__reactRouterVersion=j9}catch{}function F9(n,e){return XB({basename:void 0,future:Wl({},void 0,{v7_prependBasename:!0}),history:EB({window:void 0}),hydrationData:B9(),routes:n,mapRouteProperties:L9,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function B9(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Wl({},e,{errors:H9(e.errors)})),e}function H9(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new yh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let l=new a(s.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}const pN=w.createContext({isTransitioning:!1}),z9=w.createContext(new Map),W9="startTransition",TS=Ek[W9],q9="flushSync",SS=Gx[q9];function K9(n){TS?TS(n):n()}function qu(n){SS?SS(n):n()}class G9{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function Q9(n){let{fallbackElement:e,router:t,future:r}=n,[s,a]=w.useState(t.state),[l,d]=w.useState(),[h,p]=w.useState({isTransitioning:!1}),[g,_]=w.useState(),[T,C]=w.useState(),[P,x]=w.useState(),N=w.useRef(new Map),{v7_startTransition:H}=r||{},$=w.useCallback(A=>{H?K9(A):A()},[H]),z=w.useCallback((A,k)=>{let{deletedFetchers:O,flushSync:L,viewTransitionOpts:V}=k;A.fetchers.forEach((we,xe)=>{we.data!==void 0&&N.current.set(xe,we.data)}),O.forEach(we=>N.current.delete(we));let D=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!V||D){L?qu(()=>a(A)):$(()=>a(A));return}if(L){qu(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let we=t.window.document.startViewTransition(()=>{qu(()=>a(A))});we.finished.finally(()=>{qu(()=>{_(void 0),C(void 0),d(void 0),p({isTransitioning:!1})})}),qu(()=>C(we));return}T?(g&&g.resolve(),T.skipTransition(),x({state:A,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(d(A),p({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,T,g,N,$]);w.useLayoutEffect(()=>t.subscribe(z),[t,z]),w.useEffect(()=>{h.isTransitioning&&!h.flushSync&&_(new G9)},[h]),w.useEffect(()=>{if(g&&l&&t.window){let A=l,k=g.promise,O=t.window.document.startViewTransition(async()=>{$(()=>a(A)),await k});O.finished.finally(()=>{_(void 0),C(void 0),d(void 0),p({isTransitioning:!1})}),C(O)}},[$,l,g,t.window]),w.useEffect(()=>{g&&l&&s.location.key===l.location.key&&g.resolve()},[g,T,s.location,l]),w.useEffect(()=>{!h.isTransitioning&&P&&(d(P.state),p({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),x(void 0))},[h.isTransitioning,P]),w.useEffect(()=>{},[]);let q=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,k,O)=>t.navigate(A,{state:k,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(A,k,O)=>t.navigate(A,{replace:!0,state:k,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[t]),Z=t.basename||"/",Q=w.useMemo(()=>({router:t,navigator:q,static:!1,basename:Z}),[t,q,Z]),S=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>D9(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(Qc.Provider,{value:Q},w.createElement(e_.Provider,{value:s},w.createElement(z9.Provider,{value:N.current},w.createElement(pN.Provider,{value:h},w.createElement(x9,{basename:Z,location:s.location,navigationType:s.historyAction,navigator:q,future:S},s.initialized||t.future.v7_partialHydration?w.createElement(Y9,{routes:t.routes,future:t.future,state:s}):e))))),null)}const Y9=w.memo(X9);function X9(n){let{routes:e,future:t,state:r}=n;return E9(e,void 0,r,t)}const J9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e3=w.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:d,target:h,to:p,preventScrollReset:g,viewTransition:_}=e,T=hN(e,$9),{basename:C}=w.useContext(Ro),P,x=!1;if(typeof p=="string"&&Z9.test(p)&&(P=p,J9))try{let z=new URL(window.location.href),q=p.startsWith("//")?new URL(z.protocol+p):new URL(p),Z=ys(q.pathname,C);q.origin===z.origin&&Z!=null?p=Z+q.search+q.hash:x=!0}catch{}let N=y9(p,{relative:s}),H=n3(p,{replace:l,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:_});function $(z){r&&r(z),z.defaultPrevented||H(z)}return w.createElement("a",Wl({},T,{href:P||N,onClick:x||a?r:$,ref:t,target:h}))}),Ku=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:d,to:h,viewTransition:p,children:g}=e,_=hN(e,U9),T=Jh(h,{relative:_.relative}),C=Xc(),P=w.useContext(e_),{navigator:x,basename:N}=w.useContext(Ro),H=P!=null&&r3(T)&&p===!0,$=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,z=C.pathname,q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;s||(z=z.toLowerCase(),q=q?q.toLowerCase():null,$=$.toLowerCase()),q&&N&&(q=ys(q,N)||q);const Z=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let Q=z===$||!l&&z.startsWith($)&&z.charAt(Z)==="/",S=q!=null&&(q===$||!l&&q.startsWith($)&&q.charAt($.length)==="/"),A={isActive:Q,isPending:S,isTransitioning:H},k=Q?r:void 0,O;typeof a=="function"?O=a(A):O=[a,Q?"active":null,S?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let L=typeof d=="function"?d(A):d;return w.createElement(e3,Wl({},_,{"aria-current":k,className:O,ref:t,style:L,to:h,viewTransition:p}),typeof g=="function"?g(A):g)});var cy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(cy||(cy={}));var IS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(IS||(IS={}));function t3(n){let e=w.useContext(Qc);return e||ut(!1),e}function n3(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,h=Aa(),p=Xc(),g=Jh(n,{relative:l});return w.useCallback(_=>{if(V9(_,t)){_.preventDefault();let T=r!==void 0?r:ga(p)===ga(g);h(n,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:d})}},[p,h,g,r,s,t,n,a,l,d])}function r3(n,e){e===void 0&&(e={});let t=w.useContext(pN);t==null&&ut(!1);let{basename:r}=t3(cy.useViewTransitionState),s=Jh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ys(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ys(t.nextLocation.pathname,r)||t.nextLocation.pathname;return gh(s.pathname,l)!=null||gh(s.pathname,a)!=null}function i3(){const[n,e]=w.useState(!1),t=g=>R(bA,{id:"button-tooltip",...g,children:"Please check the notice below to continue.."}),{session:r}=To(),s=Aa();r&&s("/Home");const[a,l]=w.useState(!1);function d(g){switch(g.target.checked){case!0:l(!0);break;case!1:l(!1);break}}const{logIn:h}=To();async function p(){e(!0),await h(),e(!1)}return pe(sn,{children:[R(xl,{show:n,centered:!0,backdrop:"static",children:pe(xl.Body,{className:"text-center",children:[R("div",{className:"spinner-border text-primary",role:"status"}),R("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),pe("div",{className:"logincontainer",children:[R("div",{className:"circle",children:R("img",{src:"./images/favicon.png"})}),R("p",{className:"LoginWord",children:" USER LOGIN "}),pe("div",{className:"google-button",children:[a&&R(Fn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:p,disabled:n,children:"Login with Google"}),!a&&R(nV,{placement:"right",delay:{show:0,hide:400},overlay:t,children:R("div",{children:R(Fn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),pe("div",{children:[R("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),R("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),R("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:d})]})]})]})}async function s3(n){return await nu.createFile("678bac020031c1c3ad75",Ll.unique(),n)}async function o3(n){return await nu.deleteFile("678bac020031c1c3ad75",n)}function ql(n){return nu.getFilePreview("678bac020031c1c3ad75",n)}function CS(n){return nu.getFilePreview("67932f8600176cf1dfdc",n)}async function a3(n,e){return await nu.createFile("67932f8600176cf1dfdc",n,e)}async function l3(n){return await nu.deleteFile("67932f8600176cf1dfdc",n)}async function u3(){const{documents:n}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.equal("isApproved",!0)]);return{items:n.map(Ss)}}async function c3(n){const{documents:e}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("name",n),je.equal("isApproved",!0)]);return{items:e.map(Ss)}}async function d3(n){const{documents:e}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("itemCategory",n),je.equal("isApproved",!0)]);return{items:e.map(Ss)}}async function n_(n){const{documents:e}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.contains("authorID",n),je.orderDesc("date")]);return{items:e.map(Ss)}}async function f3(){const{documents:n}=await Wr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.equal("isApproved",!1),je.orderDesc("date")]);return{items:n.map(Ss)}}async function dy(n){const e=await Wr.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:Ss(e)}}async function h3(n){const{items:e}=await dy(n);await o3(e.imageFileId),await Wr.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function p3(n){const e=await Wr.createDocument("678babec0039e89240df","67932f2e00392d850485",Ll.unique(),n);return{items:Ss(e)}}async function mN(n,e){const t=await Wr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Ss(t)}}async function AS(n,e){const t=await Wr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Ss(t)}}function Ss(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:!1,requests:n.requests,itemCategory:n.itemCategory}}async function So(n){const e=await Wr.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:gN(e)}}async function m3(n,e){const t=await Wr.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:gN(t)}}function gN(n){return{userid:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight}}function Sf(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,s,...a]=t.map(h=>parseInt(h)),l=[r,s-1,...a];return new Date(Date.UTC(...l))}}function RS(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function fy(){return fy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fy.apply(this,arguments)}const Zu=60,ec=Zu*60,Cl=ec*24,If=Cl*7,bS=Cl*30,NS=Cl*365,g3=()=>Date.now();function y3({date:n,formatter:e=RS,component:t="time",live:r=!0,minPeriod:s=0,maxPeriod:a=If,title:l,now:d=g3,...h}){const[p,g]=w.useState(d());w.useEffect(()=>{if(!r)return;const Z=(()=>{const Q=Sf(n).valueOf();if(!Q)return console.warn("[react-timeago] Invalid Date provided"),0;const S=Math.round(Math.abs(p-Q)/1e3),A=S<Zu?1e3:S<ec?1e3*Zu:S<Cl?1e3*ec:1e3*If,k=Math.min(Math.max(A,s*1e3),a*1e3);return k?setTimeout(()=>{g(d())},k):0})();return()=>{Z&&clearTimeout(Z)}},[n,r,a,s,d,p]);const _=t,T=Sf(n).valueOf();if(!T)return null;const C=Math.round(Math.abs(p-T)/1e3),P=T<p?"ago":"from now",[x,N]=C<Zu?[Math.round(C),"second"]:C<ec?[Math.round(C/Zu),"minute"]:C<Cl?[Math.round(C/ec),"hour"]:C<If?[Math.round(C/Cl),"day"]:C<bS?[Math.round(C/If),"week"]:C<NS?[Math.round(C/bS),"month"]:[Math.round(C/NS),"year"],H=typeof l>"u"?typeof n=="string"?n:Sf(n).toISOString().substr(0,16).replace("T"," "):l,$=_==="time"?{...h,dateTime:Sf(n).toISOString()}:h,z=RS.bind(null,x,N,P);return w.createElement(_,fy({},$,{title:H}),e(x,N,P,T,z,d))}const Zh=({name:n,date:e,author:t,image:r})=>pe(Js,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[R("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&pe(sn,{children:[R(Js.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),R("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),pe(Js.Body,{children:[R(Js.Title,{children:n}),R(Js.Text,{children:t}),R(Js.Text,{children:R(y3,{date:e})})]})]}),ep=({children:n})=>{const{session:e,logOut:t}=To(),r=Aa(),[s,a]=w.useState(),[l,d]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/");return}try{const g=await nv();a(g)}catch(g){console.error("Error fetching user:",g)}finally{d(!1)}})()},[e,r]);async function h(){await Qb.signOut(),await t(),r("/")}return pe(sn,{children:[R(xl,{show:l,centered:!0,backdrop:"static",children:pe(xl.Body,{className:"text-center",children:[R(Lh,{animation:"border",role:"status",children:R("span",{className:"visually-hidden",children:"Loading..."})}),R("p",{className:"mt-3",children:"Please wait, loading..."})]})}),pe("div",{className:"body",children:[R(mf,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:pe(wa,{children:[pe(mf.Brand,{href:"#/Home",children:[R("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),R(mf.Toggle,{"aria-controls":"basic-navbar-nav"}),R(mf.Collapse,{className:"justify-content-end flex-grow-1",children:R(ls,{children:pe(I0,{className:"me-auto",children:[R(I0.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),pe(Hu,{title:(s==null?void 0:s.name)||"User",id:"basic-nav-dropdown",align:"end",children:[R(Hu.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),R(Hu.Divider,{}),e?R(Hu.Item,{className:"logout-nav",onClick:h,children:"Logout"}):R(Hu.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),R("main",{children:n})]})]})},v3=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(!1),[s,a]=w.useState({});w.useEffect(()=>{(async function(){const{items:g}=await u3();e(g);const _={};await Promise.all(g.map(async T=>{if(!_[T.authorID]){const{userdb:C}=await So(T.authorID);_[T.authorID]=C}})),a(_)})()},[]);async function l(p){const{items:g}=await d3(p);e(g)}async function d(p){p.preventDefault(),r(!0);const g=p.target;try{const{items:_}=await c3(g.ItemSearch.value);e(_)}catch(_){console.error("Error finding Item:",_)}}const h={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Accessories",color:"info"},f:{name:"Miscellaneous",color:"dark"}};return R(ep,{children:R("div",{className:"home",children:pe("div",{className:"container",id:"pagewrap",children:[R("div",{className:"searchinput",children:pe("form",{className:"search",onSubmit:d,autoComplete:"off",children:[R("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),t&&R(Lc,{className:"clear-btn",onClick:()=>r(!1)}),R("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),R("div",{className:"categories",children:R(ro,{defaultActiveKey:"0",children:pe(ro.Item,{eventKey:"0",children:[R(ro.Header,{children:"Filter by Categories"}),R(ro.Body,{children:R(ls,{children:pe(as,{children:[R(Fn,{variant:"outline-danger",onClick:()=>r(!1),children:"Clear Filter"}),Object.entries(h).map(([p,g])=>R(Fn,{variant:`outline-${g.color}`,onClick:()=>l(p),children:g.name},p))]})})})]})})}),R("div",{className:"items container",children:R(ls,{children:n.length>0?n.map(p=>{var C;const _={url:p.imageFileId&&ql(p.imageFileId),height:p.imageHeight,width:p.imageWidth},T=s[p.authorID];return R(as,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:pe("a",{className:"itemLink",href:`#/Item/${p.$id}`,children:[R("div",{className:"itemLabel",children:R("span",{className:"Label",children:((C=h[p.itemCategory])==null?void 0:C.name)||"Uncategorized"})}),R(Zh,{image:_,name:p.name,date:p.date,author:T?T.displayName||T.defaultName:"Unknown Author"})]})},p.$id)}):R(wa,{children:pe(cc,{variant:"warning",children:["No Items are currently posted, ",R(cc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})})};function fl(){const n=fN();return console.error(n),R("div",{id:"error-page",children:pe("div",{class:"error",children:[pe("a",{class:"HomeButton",href:"#/Home",children:[R("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:R("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),R("div",{class:"background-wrapper",children:R("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),R("p",{class:"errorText",children:"The page youre looking for does not exist."}),R("p",{children:R("i",{children:n.statusText||n.message})})]})})}function _3(){const{session:n}=To(),e=Aa(),[t,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!n){e("/");return}r(!1)})()},[n,e]),pe(sn,{children:[R(xl,{show:t,centered:!0,backdrop:"static",children:pe(xl.Body,{className:"text-center",children:[R(Lh,{animation:"border",role:"status",children:R("span",{className:"visually-hidden",children:"Loading..."})}),R("p",{className:"mt-3",children:"Verifying session..."})]})}),!t&&pe(sn,{children:[pe("div",{className:"uWholeBox",children:[pe("a",{className:"HomeButton",href:"#/Home",children:[R("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:R("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),R("div",{className:"uLooks",children:" Dashboard "})]}),pe("div",{className:"NaviBar",children:[pe("ul",{children:[R("li",{children:R(Ku,{to:"/Dashboard/Post",children:"Post"})}),R("li",{children:R(Ku,{to:"/Dashboard/Items",children:"Your Items"})}),R("li",{children:R(Ku,{to:"/Dashboard/Requests",children:"Requests"})}),R("li",{children:R(Ku,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),R("li",{children:R(Ku,{to:"/Dashboard/Profile",children:"Profile"})})]}),R(O9,{})]})]})]})}const w3=()=>{const[n,e]=w.useState(),[t,r]=w.useState(),[s,a]=w.useState(!1),[l,d]=w.useState(),[h,p]=w.useState(null),[g,_]=w.useState(!1),[T,C]=w.useState(""),[P,x]=w.useState(""),[N,H]=w.useState(null);w.useEffect(()=>{(async()=>{try{const Q=await nv();if(e(Q),Q){const{userdb:S}=await So(Q.$id);r(S),p(S!=null&&S.profileImageId?CS(S.profileImageId):null),C((S==null?void 0:S.displayName)||(Q==null?void 0:Q.name)||""),x((S==null?void 0:S.profileSummary)||"")}}catch(Q){console.error("Error fetching user: ",Q)}})()},[]);const $=()=>a(!0),z=Z=>{if(!Z.target.files||Z.target.files.length===0)return;const Q=Z.target.files[0];if(Q.size>5*1024*1024){H("File size exceeds 5MB limit.");return}else H(null);const S=document.createElement("img");S.onload=function(){d({height:S.height,file:Q,width:S.width})},S.src=URL.createObjectURL(Q),p(URL.createObjectURL(Q))},q=async Z=>{if(Z.preventDefault(),_(!0),!T.trim()||!P.trim()){alert("Please fill in all fields."),_(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),_(!1);return}let{userdb:Q}=await So(n.$id),S=(Q==null?void 0:Q.profileImageId)||"default";if(S&&S!=="default"&&await l3(S),l!=null&&l.file){const A=await a3(n.$id,l.file);A!=null&&A.$id&&(S=A.$id)}await m3(n.$id,{profileImageId:S,profileSummary:P,profileImageWidth:(l==null?void 0:l.width)??100,profileImageHeight:(l==null?void 0:l.height)??100,displayName:T,defaultName:""}),console.log(" Profile updated."),r(A=>({...A,displayName:T,profileSummary:P,profileImageId:S}))}catch(Q){console.error(" Failed to update profile:",Q)}finally{_(!1),a(!1)}};return R(wa,{className:"d-flex justify-content-center align-items-center min-vh-100",children:pe(Js,{className:"profile-card shadow-lg",children:[g&&pe("div",{className:"overlay",children:[R(Lh,{animation:"border"}),R("p",{className:"mt-2",children:"Updating User Profile..."})]}),R(Js.Body,{className:"text-center",children:s?pe(sn,{children:[R("h2",{children:"Edit Profile"}),pe("form",{onSubmit:q,className:"mt-3",children:[pe("div",{className:"profile-image-upload",children:[R("input",{type:"file",accept:".png, .jpg",onChange:z,required:!0}),R(qf,{src:h||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),R("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),N&&R("p",{className:"text-danger",children:N})]}),pe(dr.Group,{className:"mb-3",children:[R(dr.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:T,onChange:Z=>C(Z.target.value)}),pe("small",{className:"text-muted",children:[T.length,"/20"]})]}),pe(dr.Group,{className:"mb-3",children:[R(dr.Label,{children:"Profile Summary"}),R(dr.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:P,onChange:Z=>x(Z.target.value)}),pe("small",{className:"text-muted",children:[P.length,"/500"]})]}),R(Fn,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):pe(sn,{children:[R(qf,{src:t!=null&&t.profileImageId?CS(t.profileImageId):"/images/default-profile.png",roundedCircle:!0,className:"profile-img"}),R("h2",{className:"display-name",children:(t==null?void 0:t.displayName)||"Your Name"}),R("p",{className:"account-name",children:n==null?void 0:n.name}),R("p",{className:"text-muted",children:(t==null?void 0:t.profileSummary)??"No profile description provided"}),R(Fn,{className:"btn-lg mt-3",onClick:$,children:"Edit Profile"})]})})]})})},E3=()=>R(sn,{children:pe("div",{class:"messages-container",children:[R("iframe",{width:"100%",height:"100%",src:"https://lynxlenior.github.io/TraderyMessenger/",title:"TraderyMessenger"}),R("div",{id:"view-messages"})]})}),T3=()=>{const{session:n}=To(),e=Aa(),[t,r]=w.useState(),[s,a]=w.useState(!1),[l,d]=w.useState(""),[h,p]=w.useState(""),[g,_]=w.useState(null);function T(P){if(!P.target.files||P.target.files.length===0)return;const x=P.target.files[0];if(x.size>5*1024*1024){_("File size must be 5MB or less.");return}_(null);const N=new Image;N.onload=function(){r({height:N.height,file:x,width:N.width})},N.src=URL.createObjectURL(x)}return pe(sn,{children:[s&&R("div",{className:"overlay",children:R("div",{className:"overlay-content",children:R("p",{children:"Please wait... Creating Tradery Item"})})}),R("div",{className:"Main",children:pe("div",{className:"container",children:[R("h1",{children:"Post Item"}),g&&R("p",{style:{color:"red"},children:g}),pe("form",{onSubmit:async P=>{P.preventDefault(),a(!0);const N=new FormData(P.currentTarget).get("itemCategory");if(!l||!h||!N){_("Please fill in all fields."),a(!1);return}try{const H=await na();if(!H){console.log("User data is still loading. Please wait.");return}const $=await p3({name:l,authorID:H.$id,description:h,date:new Date().toISOString(),imageHeight:(t==null?void 0:t.height)??100,imageFileId:"",imageWidth:(t==null?void 0:t.width)??100,isApproved:!1,itemCategory:N});if(console.log("Item created successfully:",$.items),t!=null&&t.file){console.log("Uploading image...");const z=await s3(t.file);await mN($.items.$id,{imageFileId:z==null?void 0:z.$id,imageHeight:t==null?void 0:t.height,imageWidth:t==null?void 0:t.width,name:l,description:h,authorID:H.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:N}),console.log("Image uploaded successfully:",z.$id)}e(`/Item/${$.items.$id}`)}catch(H){console.error("Error creating item:",H),alert("Failed to create item. Please try again.")}finally{a(!1)}},autoComplete:"off",children:[R("div",{className:"uploader",children:pe(dr.Group,{controlId:"formFileLg",className:"mb-3",children:[R(dr.Label,{children:"Import Image (Max: 5MB)"}),R(dr.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:T,required:!0})]})}),R("div",{className:"mb-3",children:R(Qy,{controlId:"floatingSelect",label:"Category",children:pe(dr.Select,{className:"itemCategory",id:"itemCategory",name:"itemCategory",required:!0,children:[R("option",{value:"",disabled:!0,children:"Select a Category..."}),R("option",{value:"a",children:"School Supplies"}),R("option",{value:"b",children:"Clothing"}),R("option",{value:"c",children:"Entertainment/Hobbies"}),R("option",{value:"d",children:"Gaming/Technology"}),R("option",{value:"e",children:"Accessories"}),R("option",{value:"f",children:"Miscellaneous"})]})})}),pe("div",{className:"mb-3",children:[R(dr.Control,{id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:l,onChange:P=>d(P.target.value),required:!0}),pe("small",{children:[l.length,"/40"]})]}),pe(dr.Group,{className:"mb-3",controlId:"Description.ControlTextarea1",children:[R(dr.Label,{children:"Item Description"}),R(dr.Control,{rows:4,as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:h,onChange:P=>p(P.target.value),required:!0}),pe("small",{children:[h.length,"/500"]})]}),R(Fn,{className:"submitbtn",type:"submit",disabled:s,children:"Submit"})]})]})})]})},S3=()=>{const[n,e]=w.useState([]),[t,r]=w.useState({});return w.useEffect(()=>{(async function(){const a=await na();if(!a){console.log("User data is still loading. Please wait.");return}const{items:l}=await n_(a.$id);e(l);const d={};await Promise.all(l.map(async h=>{if(!d[h.authorID]){const{userdb:p}=await So(h.authorID);d[h.authorID]=p}})),r(d)})()},[]),R("div",{className:"home",children:R("div",{className:"container",id:"pagewrap",children:R("div",{className:"items container",children:R(ls,{children:n.length>0?n.map(s=>{const l={url:s.imageFileId&&ql(s.imageFileId),height:s.imageHeight,width:s.imageWidth},d=t[s.authorID];return R(as,{xs:12,md:3,style:{paddingBottom:"20px"},children:R("a",{className:"itemLink",href:`#/Item/${s.$id}`,children:R(Zh,{image:l,name:s.name,date:s.date,author:d?d.displayName||d.defaultName:"Unknown Author"})})},s.$id)}):R(wa,{children:pe(cc,{variant:"warning",children:["No Items are currently posted, ",R(cc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})},I3=({name:n,userId:e,eventKey:t})=>{const[r,s]=w.useState([]),[a,l]=w.useState(null),d=vB();return w.useEffect(()=>{(async function(){if(!e||e.length===0)return;const p=await Promise.all(e.map(async g=>{try{const{userdb:_}=await So(g),T=(_==null?void 0:_.displayName)||(_==null?void 0:_.defaultName)||"",C=(_==null?void 0:_.defaultName)||"";return T||C?{displayName:T,appwriteName:C}:null}catch(_){return console.error("Error fetching user data:",_),null}}));s(p.filter(g=>g!==null))})()},[e]),w.useEffect(()=>{a&&(d(a),l(null))},[a,d]),pe(ro.Item,{eventKey:t,children:[R(ro.Header,{children:n}),R(ro.Body,{children:r.length>0?r.map((h,p)=>pe("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[pe("p",{className:"mb-0",children:[R("strong",{children:h.displayName})," wants to trade."]}),R(Fn,{variant:"primary",size:"sm",onClick:()=>l(h.appwriteName),children:"Message"})]},p)):R("p",{children:"No trade requests found."})})]})},C3=()=>{const[n,e]=w.useState([]),{session:t}=To();return Aa(),w.useEffect(()=>{(async function(){const s=await na();if(!s){console.log("User data is still loading. Please wait.");return}const{items:a}=await n_(s.$id),l=a.filter(d=>d.requests&&d.requests.length>0);e(l)})()},[]),pe("div",{className:"container",children:[R("h1",{children:"Your Items with Requests"}),n.length>0?pe(ro,{alwaysOpen:!0,children:[" ",n.map((r,s)=>R(I3,{name:r.name,userId:r.requests,eventKey:String(s)},r.$id))]}):R("p",{children:"No items with requests found."})]})};function A3({params:n=lN()}){const[e,t]=w.useState(),[r,s]=w.useState(),a=Aa(),[l,d]=w.useState(!1),[h,p]=w.useState(!1),{isAdmin:g}=To(),T={url:(e==null?void 0:e.imageFileId)&&ql(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var Z;if(!n.itemsId)return;const{items:$}=await dy(n.itemsId);console.log("Fetched Item Data:",$),t($);const z=await na();if((z==null?void 0:z.$id)===($==null?void 0:$.authorID)&&d(!0),z&&p(((Z=$.requests)==null?void 0:Z.includes(z.$id))??!1),$){const{userdb:Q}=await So($.authorID);s(Q);return}})()},[n.itemsId]);async function C(){if(!e)return;const H=await na();if(!H){console.log("User data is still loading. Please wait.");return}try{const $=e.requests??[];if($.includes(H.$id)){p(!0);return}const z=[...$,H.$id];t(q=>q&&{...q,requests:z}),p(!0),await AS(n.itemsId,{...e,isApproved:!0,requests:z}),console.log("Trade request successful")}catch($){console.error("Error requesting trade:",$)}}async function P(){if(e!=null&&e.$id){await h3(e.$id);return}a(-1)}async function x(){if(!e)return;if(!await na()){console.log("User data is still loading. Please wait.");return}try{await mN(n.itemsId,{...e,isApproved:!0});const{items:$}=await dy(n.itemsId);console.log(" Approved Post Data from Appwrite:",$),t($),a(-1)}catch($){console.error("Error approving post:",$)}}async function N(){if(!e)return;const H=await na();if(!H){console.log("User data is still loading. Please wait.");return}try{const $=e.requests??[];if(!$.includes(H.$id)){p(!1);return}const z=$.filter(q=>q!==H.$id);t(q=>q&&{...q,requests:z}),p(!1),await AS(n.itemsId,{...e,isApproved:!0,requests:z}),console.log("Trade request removed")}catch($){console.error("Error removing request:",$)}}return pe(ep,{children:[pe("a",{className:"HomeItem",href:"#/Home",children:[R("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:R("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),R("div",{className:"container",children:e&&pe(sn,{children:[pe("div",{className:"itemheading",children:[R("div",{children:R("h1",{children:e.name})}),r&&R("a",{href:`#/User/${e.authorID}`,className:"profile-link",children:r.displayName||r.defaultName}),pe("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!g&&pe("div",{className:"Tradecont",children:[l&&R(Fn,{className:"Tradereq",variant:"primary",onClick:P,children:"Delete Item"}),!l&&R(sn,{children:h?R(Fn,{className:"Tradereq",variant:"danger",onClick:N,children:"Remove Trade Request"}):R(Fn,{className:"Tradereq",variant:"primary",onClick:C,children:"Request a Trade"})})]}),g&&pe("div",{className:"Tradecont",children:[R(Fn,{className:"Tradereq",variant:"primary",onClick:P,children:"Delete Item"}),R(Fn,{className:"Tradereq",variant:"primary",onClick:x,children:"Approve Item"})]}),R("div",{className:"itemimg",children:R(c0,{className:"image-carousel",controls:!1,children:R(c0.Item,{children:R("img",{className:"thumbnail",src:T.url?String(T.url):"./images/favicon",alt:"Item"})})})}),R("div",{className:"description",children:R("p",{children:e.description})})]})})]})}function R3({params:n=lN()}){const[e,t]=w.useState(null),[r,s]=w.useState([]);return w.useEffect(()=>{(async function(){try{if(!n.userId)return;const{userdb:l}=await So(n.userId);t(l);const{items:d}=await n_(n.userId);s(d),console.log(l),console.log(d)}catch(l){console.error("Error fetching profile data:",l)}})()},[n.userId]),R(ep,{children:pe(wa,{className:"mt-5",children:[R(ls,{className:"justify-content-center text-center",children:R(as,{md:6,lg:4,children:pe("div",{className:"profile-container p-4 bg-light rounded shadow",children:[R(qf,{className:"profile-img mb-3",src:e!=null&&e.profileImageId?ql(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,fluid:!0}),R("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),R("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),R("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),R(ls,{className:"mt-5",children:pe(as,{children:[R("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?R(ls,{className:"g-4",children:r.map(a=>{const d={url:a.imageFileId&&ql(a.imageFileId),height:a.imageHeight,width:a.imageWidth};return R(as,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:R("a",{className:"itemLink",href:`#/Item/${a.$id}`,children:R(Zh,{image:d,name:a.name,date:a.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"})})},a.$id)})}):R("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function b3(){const{isAdmin:n,logInAdmin:e}=To(),[t,r]=w.useState([]),[s,a]=w.useState({}),l=async d=>{d.preventDefault();const h=d.target;await e(h.email.value,h.password.value),window.location.reload()};return w.useEffect(()=>{(async function(){const{items:h}=await f3();r(h);const p={};await Promise.all(h.map(async g=>{if(!p[g.authorID]){const{userdb:_}=await So(g.authorID);p[g.authorID]=_}})),a(p)})()},[]),pe(sn,{children:[!n&&R("div",{className:"RegAdminContainer",children:R("div",{className:"login-register-container",children:pe("form",{onSubmit:l,autoComplete:"off",children:[pe("div",{className:"form-field-wrapper",children:[R("label",{children:"Email:"}),R("input",{required:!0,type:"email",name:"email",placeholder:"Enter email..."})]}),pe("div",{className:"form-field-wrapper",children:[R("label",{children:"Password:"}),R(dr.Control,{type:"password",name:"password",placeholder:"Enter password..."})]}),R("div",{className:"form-field-wrapper",children:R(Fn,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&R(ep,{children:R("div",{className:"home",children:pe("div",{className:"container",id:"pagewrap",children:[R("h1",{children:"UNAPPROVED ITEMS"}),R("div",{className:"items container",children:R(ls,{children:t.length>0?t.map(d=>{const p={url:d.imageFileId&&ql(d.imageFileId),height:d.imageHeight,width:d.imageWidth},g=s[d.authorID];return R(as,{xs:12,md:3,style:{paddingBottom:"20px"},children:R("a",{className:"itemLink",href:`#/Item/${d.$id}`,children:R(Zh,{image:p,name:d.name,date:d.date,author:g?g.displayName||g.defaultName:"Unknown Author"})})},d.$id)}):R(wa,{children:R(cc,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const N3=F9([{path:"/",element:R(i3,{}),errorElement:R(fl,{})},{path:"/Admin",element:R(b3,{}),errorElement:R(fl,{})},{path:"/Home",element:R(v3,{}),errorElement:R(fl,{})},{path:"/Item/:itemsId",element:R(A3,{}),errorElement:R(fl,{})},{path:"/User/:profileId",element:R(R3,{}),errorElement:R(fl,{})},{path:"/Dashboard",element:R(_3,{}),errorElement:R(fl,{}),children:[{path:"/Dashboard/Post",element:R(T3,{})},{path:"/Dashboard/Profile",element:R(w3,{})},{path:"/Dashboard/Items",element:R(S3,{})},{path:"/Dashboard/Requests",element:R(C3,{})},{path:"/Dashboard/Messages",element:R(E3,{})}]}]);Ak.createRoot(document.getElementById("root")).render(R(w.StrictMode,{children:R(_B,{children:R(Q9,{router:N3})})}));
