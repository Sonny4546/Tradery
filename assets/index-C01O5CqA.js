function NS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function wc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tm={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function gk(){if(uE)return lt;uE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function b(B,ee,he){this.props=B,this.context=ee,this.refs=O,this.updater=he||C}b.prototype.isReactComponent={},b.prototype.setState=function(B,ee){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ee,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function F(){}F.prototype=b.prototype;function $(B,ee,he){this.props=B,this.context=ee,this.refs=O,this.updater=he||C}var W=$.prototype=new F;W.constructor=$,k(W,b.prototype),W.isPureReactComponent=!0;var q=Array.isArray,Z=Object.prototype.hasOwnProperty,J={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function R(B,ee,he){var ye,Te={},Ae=null,qe=null;if(ee!=null)for(ye in ee.ref!==void 0&&(qe=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)Z.call(ee,ye)&&!S.hasOwnProperty(ye)&&(Te[ye]=ee[ye]);var Ue=arguments.length-2;if(Ue===1)Te.children=he;else if(1<Ue){for(var st=Array(Ue),Et=0;Et<Ue;Et++)st[Et]=arguments[Et+2];Te.children=st}if(B&&B.defaultProps)for(ye in Ue=B.defaultProps,Ue)Te[ye]===void 0&&(Te[ye]=Ue[ye]);return{$$typeof:n,type:B,key:Ae,ref:qe,props:Te,_owner:J.current}}function P(B,ee){return{$$typeof:n,type:B.type,key:ee,ref:B.ref,props:B.props,_owner:B._owner}}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var ee={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(he){return ee[he]})}var V=/\/+/g;function D(B,ee){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):ee.toString(36)}function we(B,ee,he,ye,Te){var Ae=typeof B;(Ae==="undefined"||Ae==="boolean")&&(B=null);var qe=!1;if(B===null)qe=!0;else switch(Ae){case"string":case"number":qe=!0;break;case"object":switch(B.$$typeof){case n:case e:qe=!0}}if(qe)return qe=B,Te=Te(qe),B=ye===""?"."+D(qe,0):ye,q(Te)?(he="",B!=null&&(he=B.replace(V,"$&/")+"/"),we(Te,ee,he,"",function(Et){return Et})):Te!=null&&(x(Te)&&(Te=P(Te,he+(!Te.key||qe&&qe.key===Te.key?"":(""+Te.key).replace(V,"$&/")+"/")+B)),ee.push(Te)),1;if(qe=0,ye=ye===""?".":ye+":",q(B))for(var Ue=0;Ue<B.length;Ue++){Ae=B[Ue];var st=ye+D(Ae,Ue);qe+=we(Ae,ee,he,st,Te)}else if(st=T(B),typeof st=="function")for(B=st.call(B),Ue=0;!(Ae=B.next()).done;)Ae=Ae.value,st=ye+D(Ae,Ue++),qe+=we(Ae,ee,he,st,Te);else if(Ae==="object")throw ee=String(B),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return qe}function xe(B,ee,he){if(B==null)return B;var ye=[],Te=0;return we(B,ye,"","",function(Ae){return ee.call(he,Ae,Te++)}),ye}function Fe(B){if(B._status===-1){var ee=B._result;ee=ee(),ee.then(function(he){(B._status===0||B._status===-1)&&(B._status=1,B._result=he)},function(he){(B._status===0||B._status===-1)&&(B._status=2,B._result=he)}),B._status===-1&&(B._status=0,B._result=ee)}if(B._status===1)return B._result.default;throw B._result}var Ne={current:null},ne={transition:null},pe={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:J};function ae(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:xe,forEach:function(B,ee,he){xe(B,function(){ee.apply(this,arguments)},he)},count:function(B){var ee=0;return xe(B,function(){ee++}),ee},toArray:function(B){return xe(B,function(ee){return ee})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},lt.Component=b,lt.Fragment=t,lt.Profiler=s,lt.PureComponent=$,lt.StrictMode=r,lt.Suspense=h,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,lt.act=ae,lt.cloneElement=function(B,ee,he){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ye=k({},B.props),Te=B.key,Ae=B.ref,qe=B._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,qe=J.current),ee.key!==void 0&&(Te=""+ee.key),B.type&&B.type.defaultProps)var Ue=B.type.defaultProps;for(st in ee)Z.call(ee,st)&&!S.hasOwnProperty(st)&&(ye[st]=ee[st]===void 0&&Ue!==void 0?Ue[st]:ee[st])}var st=arguments.length-2;if(st===1)ye.children=he;else if(1<st){Ue=Array(st);for(var Et=0;Et<st;Et++)Ue[Et]=arguments[Et+2];ye.children=Ue}return{$$typeof:n,type:B.type,key:Te,ref:Ae,props:ye,_owner:qe}},lt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},lt.createElement=R,lt.createFactory=function(B){var ee=R.bind(null,B);return ee.type=B,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(B){return{$$typeof:d,render:B}},lt.isValidElement=x,lt.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:Fe}},lt.memo=function(B,ee){return{$$typeof:p,type:B,compare:ee===void 0?null:ee}},lt.startTransition=function(B){var ee=ne.transition;ne.transition={};try{B()}finally{ne.transition=ee}},lt.unstable_act=ae,lt.useCallback=function(B,ee){return Ne.current.useCallback(B,ee)},lt.useContext=function(B){return Ne.current.useContext(B)},lt.useDebugValue=function(){},lt.useDeferredValue=function(B){return Ne.current.useDeferredValue(B)},lt.useEffect=function(B,ee){return Ne.current.useEffect(B,ee)},lt.useId=function(){return Ne.current.useId()},lt.useImperativeHandle=function(B,ee,he){return Ne.current.useImperativeHandle(B,ee,he)},lt.useInsertionEffect=function(B,ee){return Ne.current.useInsertionEffect(B,ee)},lt.useLayoutEffect=function(B,ee){return Ne.current.useLayoutEffect(B,ee)},lt.useMemo=function(B,ee){return Ne.current.useMemo(B,ee)},lt.useReducer=function(B,ee,he){return Ne.current.useReducer(B,ee,he)},lt.useRef=function(B){return Ne.current.useRef(B)},lt.useState=function(B){return Ne.current.useState(B)},lt.useSyncExternalStore=function(B,ee,he){return Ne.current.useSyncExternalStore(B,ee,he)},lt.useTransition=function(){return Ne.current.useTransition()},lt.version="18.3.1",lt}var cE;function dy(){return cE||(cE=1,Tm.exports=gk()),Tm.exports}var w=dy();const kn=wc(w),yk=NS({__proto__:null,default:kn},[w]);var nf={},Sm={exports:{}},ur={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function vk(){return dE||(dE=1,function(n){function e(ne,pe){var ae=ne.length;ne.push(pe);e:for(;0<ae;){var B=ae-1>>>1,ee=ne[B];if(0<s(ee,pe))ne[B]=pe,ne[ae]=ee,ae=B;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var pe=ne[0],ae=ne.pop();if(ae!==pe){ne[0]=ae;e:for(var B=0,ee=ne.length,he=ee>>>1;B<he;){var ye=2*(B+1)-1,Te=ne[ye],Ae=ye+1,qe=ne[Ae];if(0>s(Te,ae))Ae<ee&&0>s(qe,Te)?(ne[B]=qe,ne[Ae]=ae,B=Ae):(ne[B]=Te,ne[ye]=ae,B=ye);else if(Ae<ee&&0>s(qe,ae))ne[B]=qe,ne[Ae]=ae,B=Ae;else break e}}return pe}function s(ne,pe){var ae=ne.sortIndex-pe.sortIndex;return ae!==0?ae:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();n.unstable_now=function(){return l.now()-d}}var h=[],p=[],g=1,_=null,T=3,C=!1,k=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(ne){for(var pe=t(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=ne)r(p),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(p)}}function q(ne){if(O=!1,W(ne),!k)if(t(h)!==null)k=!0,Fe(Z);else{var pe=t(p);pe!==null&&Ne(q,pe.startTime-ne)}}function Z(ne,pe){k=!1,O&&(O=!1,F(R),R=-1),C=!0;var ae=T;try{for(W(pe),_=t(h);_!==null&&(!(_.expirationTime>pe)||ne&&!L());){var B=_.callback;if(typeof B=="function"){_.callback=null,T=_.priorityLevel;var ee=B(_.expirationTime<=pe);pe=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(h)&&r(h),W(pe)}else r(h);_=t(h)}if(_!==null)var he=!0;else{var ye=t(p);ye!==null&&Ne(q,ye.startTime-pe),he=!1}return he}finally{_=null,T=ae,C=!1}}var J=!1,S=null,R=-1,P=5,x=-1;function L(){return!(n.unstable_now()-x<P)}function V(){if(S!==null){var ne=n.unstable_now();x=ne;var pe=!0;try{pe=S(!0,ne)}finally{pe?D():(J=!1,S=null)}}else J=!1}var D;if(typeof $=="function")D=function(){$(V)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,xe=we.port2;we.port1.onmessage=V,D=function(){xe.postMessage(null)}}else D=function(){b(V,0)};function Fe(ne){S=ne,J||(J=!0,D())}function Ne(ne,pe){R=b(function(){ne(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){k||C||(k=!0,Fe(Z))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var ae=T;T=pe;try{return ne()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=T;T=ne;try{return pe()}finally{T=ae}},n.unstable_scheduleCallback=function(ne,pe,ae){var B=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,ne={id:g++,callback:pe,priorityLevel:ne,startTime:ae,expirationTime:ee,sortIndex:-1},ae>B?(ne.sortIndex=ae,e(p,ne),t(h)===null&&ne===t(p)&&(O?(F(R),R=-1):O=!0,Ne(q,ae-B))):(ne.sortIndex=ee,e(h,ne),k||C||(k=!0,Fe(Z))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var pe=T;return function(){var ae=T;T=pe;try{return ne.apply(this,arguments)}finally{T=ae}}}}(Cm)),Cm}var fE;function _k(){return fE||(fE=1,Im.exports=vk()),Im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function wk(){if(hE)return ur;hE=1;var n=dy(),e=_k();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(i){return h.call(_,i)?!0:h.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function C(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,f){if(o===null||typeof o>"u"||C(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function O(i,o,u,f,m,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new O(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function $(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,$);b[o]=new O(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,$);b[o]=new O(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,$);b[o]=new O(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function W(i,o,u,f){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,m,f)&&(u=null),f||m===null?T(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),J=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,B;function ee(i){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var he=!1;function ye(i,o){if(!i||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var f=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){f=X}i.call(o.prototype)}else{try{throw Error()}catch(X){f=X}i()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var m=X.stack.split(`
`),v=f.stack.split(`
`),I=m.length-1,M=v.length-1;1<=I&&0<=M&&m[I]!==v[M];)M--;for(;1<=I&&0<=M;I--,M--)if(m[I]!==v[M]){if(I!==1||M!==1)do if(I--,M--,0>M||m[I]!==v[M]){var j=`
`+m[I].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=I&&0<=M);break}}}finally{he=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function Te(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function Ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case J:return"Portal";case P:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case we:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case V:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xe:return o=i.displayName||null,o!==null?o:Ae(i.type)||"Memo";case Fe:o=i._payload,i=i._init;try{return Ae(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function st(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(i){var o=st(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function It(i){i._valueTracker||(i._valueTracker=Et(i))}function it(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=st(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function kt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Kt(i,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function rt(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ft(i,o){o=o.checked,o!=null&&W(i,"checked",o,!1)}function pn(i,o){Ft(i,o);var u=Ue(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Hn(i,o.type,u):o.hasOwnProperty("defaultValue")&&Hn(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function br(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Hn(i,o,u){(o!=="number"||kt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Bt=Array.isArray;function Zt(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Jn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Dn(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Bt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function Dt(i,o){var u=Ue(o.value),f=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function an(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function $e(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?$e(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ot,mn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ot.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function zn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Be=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(i){Be.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Wn[o]=Wn[i]})});function ot(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Wn.hasOwnProperty(i)&&Wn[i]?(""+o).trim():o+"px"}function gn(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=ot(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Zn=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function di(i,o){if(o){if(Zn[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ao(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function qr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $i=null,On=null,er=null;function Is(i){if(i=wu(i)){if(typeof $i!="function")throw Error(t(280));var o=i.stateNode;o&&(o=yd(o),$i(i.stateNode,i.type,o))}}function pr(i){On?er?er.push(i):er=[i]:On=i}function Ro(){if(On){var i=On,o=er;if(er=On=null,Is(i),o)for(i=0;i<o.length;i++)Is(o[i])}}function hi(i,o){return i(o)}function pi(){}var tr=!1;function bo(i,o,u){if(tr)return i(o,u);tr=!0;try{return hi(i,o,u)}finally{tr=!1,(On!==null||er!==null)&&(pi(),Ro())}}function Ht(i,o){var u=i.stateNode;if(u===null)return null;var f=yd(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var U=!1;if(d)try{var z={};Object.defineProperty(z,"passive",{get:function(){U=!0}}),window.addEventListener("test",z,z),window.removeEventListener("test",z,z)}catch{U=!1}function Y(i,o,u,f,m,v,I,M,j){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(le){this.onError(le)}}var re=!1,ve=null,ke=!1,Qe=null,Pe={onError:function(i){re=!0,ve=i}};function Re(i,o,u,f,m,v,I,M,j){re=!1,ve=null,Y.apply(Pe,arguments)}function Ie(i,o,u,f,m,v,I,M,j){if(Re.apply(this,arguments),re){if(re){var X=ve;re=!1,ve=null}else throw Error(t(198));ke||(ke=!0,Qe=X)}}function De(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function et(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Je(i){if(De(i)!==i)throw Error(t(188))}function Gt(i){var o=i.alternate;if(!o){if(o=De(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Je(m),i;if(v===f)return Je(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=v;else{for(var I=!1,M=m.child;M;){if(M===u){I=!0,u=m,f=v;break}if(M===f){I=!0,f=m,u=v;break}M=M.sibling}if(!I){for(M=v.child;M;){if(M===u){I=!0,u=v,f=m;break}if(M===f){I=!0,f=v,u=m;break}M=M.sibling}if(!I)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Tt(i){return i=Gt(i),i!==null?at(i):null}function at(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=at(i);if(o!==null)return o;i=i.sibling}return null}var Rt=e.unstable_scheduleCallback,Nr=e.unstable_cancelCallback,mi=e.unstable_shouldYield,mr=e.unstable_requestPaint,ct=e.unstable_now,Cs=e.unstable_getCurrentPriorityLevel,gr=e.unstable_ImmediatePriority,xn=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,gi=e.unstable_LowPriority,dt=e.unstable_IdlePriority,Ct=null,en=null;function yi(i){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ct,i,void 0,(i.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Ta,kr=Math.log,No=Math.LN2;function Ta(i){return i>>>=0,i===0?32:31-(kr(i)/No|0)|0}var Sa=64,Ia=4194304;function As(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ko(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var M=I&~m;M!==0?f=As(M):(v&=I,v!==0&&(f=As(v)))}else I=u&~m,I!==0?f=As(I):v!==0&&(f=As(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-ft(o),m=1<<u,f|=i[u],o&=~m;return f}function Jh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-ft(v),M=1<<I,j=m[I];j===-1?((M&u)===0||(M&f)!==0)&&(m[I]=Jh(M,o)):j<=o&&(i.expiredLanes|=M),v&=~M}}function yr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Po(){var i=Sa;return Sa<<=1,(Sa&4194240)===0&&(Sa=64),i}function Rs(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function bs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-ft(o),i[o]=u}function Pt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-ft(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function Ns(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-ft(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var gt=0;function ks(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Yc,Ca,Xc,Jc,Zc,su=!1,vi=[],Sn=null,Kr=null,Gr=null,Ps=new Map,Pr=new Map,_i=[],Zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(i,o){switch(i){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Ps.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(o.pointerId)}}function nr(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=wu(o),o!==null&&Ca(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function ep(i,o,u,f,m){switch(o){case"focusin":return Sn=nr(Sn,i,o,u,f,m),!0;case"dragenter":return Kr=nr(Kr,i,o,u,f,m),!0;case"mouseover":return Gr=nr(Gr,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Ps.set(v,nr(Ps.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Pr.set(v,nr(Pr.get(v)||null,i,o,u,f,m)),!0}return!1}function td(i){var o=Mo(i.target);if(o!==null){var u=De(o);if(u!==null){if(o=u.tag,o===13){if(o=et(u),o!==null){i.blockedOn=o,Zc(i.priority,function(){Xc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ji(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Aa(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);fi=f,u.target.dispatchEvent(f),fi=null}else return o=wu(u),o!==null&&Ca(o),i.blockedOn=u,!1;o.shift()}return!0}function Do(i,o,u){ji(i)&&u.delete(o)}function nd(){su=!1,Sn!==null&&ji(Sn)&&(Sn=null),Kr!==null&&ji(Kr)&&(Kr=null),Gr!==null&&ji(Gr)&&(Gr=null),Ps.forEach(Do),Pr.forEach(Do)}function Qr(i,o){i.blockedOn===o&&(i.blockedOn=null,su||(su=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nd)))}function Yr(i){function o(m){return Qr(m,i)}if(0<vi.length){Qr(vi[0],i);for(var u=1;u<vi.length;u++){var f=vi[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Sn!==null&&Qr(Sn,i),Kr!==null&&Qr(Kr,i),Gr!==null&&Qr(Gr,i),Ps.forEach(o),Pr.forEach(o),u=0;u<_i.length;u++)f=_i[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<_i.length&&(u=_i[0],u.blockedOn===null);)td(u),u.blockedOn===null&&_i.shift()}var Fi=q.ReactCurrentBatchConfig,Ds=!0;function $t(i,o,u,f){var m=gt,v=Fi.transition;Fi.transition=null;try{gt=1,ou(i,o,u,f)}finally{gt=m,Fi.transition=v}}function tp(i,o,u,f){var m=gt,v=Fi.transition;Fi.transition=null;try{gt=4,ou(i,o,u,f)}finally{gt=m,Fi.transition=v}}function ou(i,o,u,f){if(Ds){var m=Aa(i,o,u,f);if(m===null)fp(i,o,f,Oo,u),ed(i,f);else if(ep(m,i,o,u,f))f.stopPropagation();else if(ed(i,f),o&4&&-1<Zh.indexOf(i)){for(;m!==null;){var v=wu(m);if(v!==null&&Yc(v),v=Aa(i,o,u,f),v===null&&fp(i,o,f,Oo,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else fp(i,o,f,null,u)}}var Oo=null;function Aa(i,o,u,f){if(Oo=null,i=qr(f),i=Mo(i),i!==null)if(o=De(i),o===null)i=null;else if(u=o.tag,u===13){if(i=et(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Oo=i,null}function au(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cs()){case gr:return 1;case xn:return 4;case Tn:case gi:return 16;case dt:return 536870912;default:return 16}default:return 16}}var vr=null,Ra=null,rr=null;function lu(){if(rr)return rr;var i,o=Ra,u=o.length,f,m="value"in vr?vr.value:vr.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var I=u-i;for(f=1;f<=I&&o[u-f]===m[v-f];f++);return rr=m.slice(i,1<f?1-f:void 0)}function ba(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function uu(){return!1}function In(i){function o(u,f,m,v,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wi:uu,this.isPropagationStopped=uu,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),o}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=In(Xr),Ei=ae({},Xr,{view:0,detail:0}),np=In(Ei),ka,Bi,Os,xo=ae({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Os&&(Os&&i.type==="mousemove"?(ka=i.screenX-Os.screenX,Bi=i.screenY-Os.screenY):Bi=ka=0,Os=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:Bi}}),Pa=In(xo),cu=ae({},xo,{dataTransfer:0}),rd=In(cu),Da=ae({},Ei,{relatedTarget:0}),Oa=In(Da),id=ae({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hi=In(id),sd=ae({},Xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),od=In(sd),ad=ae({},Xr,{data:0}),du=In(ad),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ld={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ld[i])?!!o[i]:!1}function Ti(){return ud}var c=ae({},Ei,{key:function(i){if(i.key){var o=xa[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ba(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(i){return i.type==="keypress"?ba(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ba(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=In(c),E=ae({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=In(E),K=ae({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),te=In(K),me=ae({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=In(me),ln=ae({},xo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=In(ln),yn=[9,13,27,32],tn=d&&"CompositionEvent"in window,Dr=null;d&&"documentMode"in document&&(Dr=document.documentMode);var _r=d&&"TextEvent"in window&&!Dr,Lo=d&&(!tn||Dr&&8<Dr&&11>=Dr),La=" ",r_=!1;function i_(i,o){switch(i){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ma=!1;function hN(i,o){switch(i){case"compositionend":return s_(o);case"keypress":return o.which!==32?null:(r_=!0,La);case"textInput":return i=o.data,i===La&&r_?null:i;default:return null}}function pN(i,o){if(Ma)return i==="compositionend"||!tn&&i_(i,o)?(i=lu(),rr=Ra=vr=null,Ma=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Lo&&o.locale!=="ko"?null:o.data;default:return null}}var mN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!mN[i.type]:o==="textarea"}function a_(i,o,u,f){pr(f),o=pd(o,"onChange"),0<o.length&&(u=new Na("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var fu=null,hu=null;function gN(i){C_(i,0)}function cd(i){var o=Fa(i);if(it(o))return i}function yN(i,o){if(i==="change")return o}var l_=!1;if(d){var rp;if(d){var ip="oninput"in document;if(!ip){var u_=document.createElement("div");u_.setAttribute("oninput","return;"),ip=typeof u_.oninput=="function"}rp=ip}else rp=!1;l_=rp&&(!document.documentMode||9<document.documentMode)}function c_(){fu&&(fu.detachEvent("onpropertychange",d_),hu=fu=null)}function d_(i){if(i.propertyName==="value"&&cd(hu)){var o=[];a_(o,hu,i,qr(i)),bo(gN,o)}}function vN(i,o,u){i==="focusin"?(c_(),fu=o,hu=u,fu.attachEvent("onpropertychange",d_)):i==="focusout"&&c_()}function _N(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cd(hu)}function wN(i,o){if(i==="click")return cd(o)}function EN(i,o){if(i==="input"||i==="change")return cd(o)}function TN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jr=typeof Object.is=="function"?Object.is:TN;function pu(i,o){if(Jr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!Jr(i[m],o[m]))return!1}return!0}function f_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function h_(i,o){var u=f_(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=f_(u)}}function p_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?p_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function m_(){for(var i=window,o=kt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=kt(i.document)}return o}function sp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function SN(i){var o=m_(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&p_(u.ownerDocument.documentElement,u)){if(f!==null&&sp(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=h_(u,v);var I=h_(u,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var IN=d&&"documentMode"in document&&11>=document.documentMode,Va=null,op=null,mu=null,ap=!1;function g_(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ap||Va==null||Va!==kt(f)||(f=Va,"selectionStart"in f&&sp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),mu&&pu(mu,f)||(mu=f,f=pd(op,"onSelect"),0<f.length&&(o=new Na("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Va)))}function dd(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var $a={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},lp={},y_={};d&&(y_=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function fd(i){if(lp[i])return lp[i];if(!$a[i])return i;var o=$a[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in y_)return lp[i]=o[u];return i}var v_=fd("animationend"),__=fd("animationiteration"),w_=fd("animationstart"),E_=fd("transitionend"),T_=new Map,S_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(i,o){T_.set(i,o),a(o,[i])}for(var up=0;up<S_.length;up++){var cp=S_[up],CN=cp.toLowerCase(),AN=cp[0].toUpperCase()+cp.slice(1);xs(CN,"on"+AN)}xs(v_,"onAnimationEnd"),xs(__,"onAnimationIteration"),xs(w_,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(E_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function I_(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Ie(f,o,void 0,i),i.currentTarget=null}function C_(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var I=f.length-1;0<=I;I--){var M=f[I],j=M.instance,X=M.currentTarget;if(M=M.listener,j!==v&&m.isPropagationStopped())break e;I_(m,M,X),v=j}else for(I=0;I<f.length;I++){if(M=f[I],j=M.instance,X=M.currentTarget,M=M.listener,j!==v&&m.isPropagationStopped())break e;I_(m,M,X),v=j}}}if(ke)throw i=Qe,ke=!1,Qe=null,i}function Lt(i,o){var u=o[vp];u===void 0&&(u=o[vp]=new Set);var f=i+"__bubble";u.has(f)||(A_(o,i,2,!1),u.add(f))}function dp(i,o,u){var f=0;o&&(f|=4),A_(u,i,f,o)}var hd="_reactListening"+Math.random().toString(36).slice(2);function yu(i){if(!i[hd]){i[hd]=!0,r.forEach(function(u){u!=="selectionchange"&&(RN.has(u)||dp(u,!1,i),dp(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[hd]||(o[hd]=!0,dp("selectionchange",!1,o))}}function A_(i,o,u,f){switch(au(o)){case 1:var m=$t;break;case 4:m=tp;break;default:m=ou}u=m.bind(null,o,u,i),m=void 0,!U||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function fp(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;I=I.return}for(;M!==null;){if(I=Mo(M),I===null)return;if(j=I.tag,j===5||j===6){f=v=I;continue e}M=M.parentNode}}f=f.return}bo(function(){var X=v,le=qr(u),ce=[];e:{var oe=T_.get(i);if(oe!==void 0){var Ce=Na,Le=i;switch(i){case"keypress":if(ba(u)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Le="focus",Ce=Oa;break;case"focusout":Le="blur",Ce=Oa;break;case"beforeblur":case"afterblur":Ce=Oa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=te;break;case v_:case __:case w_:Ce=Hi;break;case E_:Ce=bt;break;case"scroll":Ce=np;break;case"wheel":Ce=vt;break;case"copy":case"cut":case"paste":Ce=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=N}var Me=(o&4)!==0,Xt=!Me&&i==="scroll",G=Me?oe!==null?oe+"Capture":null:oe;Me=[];for(var H=X,Q;H!==null;){Q=H;var fe=Q.stateNode;if(Q.tag===5&&fe!==null&&(Q=fe,G!==null&&(fe=Ht(H,G),fe!=null&&Me.push(vu(H,fe,Q)))),Xt)break;H=H.return}0<Me.length&&(oe=new Ce(oe,Le,null,u,le),ce.push({event:oe,listeners:Me}))}}if((o&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",oe&&u!==fi&&(Le=u.relatedTarget||u.fromElement)&&(Mo(Le)||Le[zi]))break e;if((Ce||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,Ce?(Le=u.relatedTarget||u.toElement,Ce=X,Le=Le?Mo(Le):null,Le!==null&&(Xt=De(Le),Le!==Xt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ce=null,Le=X),Ce!==Le)){if(Me=Pa,fe="onMouseLeave",G="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Me=N,fe="onPointerLeave",G="onPointerEnter",H="pointer"),Xt=Ce==null?oe:Fa(Ce),Q=Le==null?oe:Fa(Le),oe=new Me(fe,H+"leave",Ce,u,le),oe.target=Xt,oe.relatedTarget=Q,fe=null,Mo(le)===X&&(Me=new Me(G,H+"enter",Le,u,le),Me.target=Q,Me.relatedTarget=Xt,fe=Me),Xt=fe,Ce&&Le)t:{for(Me=Ce,G=Le,H=0,Q=Me;Q;Q=Ua(Q))H++;for(Q=0,fe=G;fe;fe=Ua(fe))Q++;for(;0<H-Q;)Me=Ua(Me),H--;for(;0<Q-H;)G=Ua(G),Q--;for(;H--;){if(Me===G||G!==null&&Me===G.alternate)break t;Me=Ua(Me),G=Ua(G)}Me=null}else Me=null;Ce!==null&&R_(ce,oe,Ce,Me,!1),Le!==null&&Xt!==null&&R_(ce,Xt,Le,Me,!0)}}e:{if(oe=X?Fa(X):window,Ce=oe.nodeName&&oe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&oe.type==="file")var Ve=yN;else if(o_(oe))if(l_)Ve=EN;else{Ve=_N;var ze=vN}else(Ce=oe.nodeName)&&Ce.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ve=wN);if(Ve&&(Ve=Ve(i,X))){a_(ce,Ve,u,le);break e}ze&&ze(i,oe,X),i==="focusout"&&(ze=oe._wrapperState)&&ze.controlled&&oe.type==="number"&&Hn(oe,"number",oe.value)}switch(ze=X?Fa(X):window,i){case"focusin":(o_(ze)||ze.contentEditable==="true")&&(Va=ze,op=X,mu=null);break;case"focusout":mu=op=Va=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,g_(ce,u,le);break;case"selectionchange":if(IN)break;case"keydown":case"keyup":g_(ce,u,le)}var We;if(tn)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ma?i_(i,u)&&(Ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(Lo&&u.locale!=="ko"&&(Ma||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ma&&(We=lu()):(vr=le,Ra="value"in vr?vr.value:vr.textContent,Ma=!0)),ze=pd(X,Ye),0<ze.length&&(Ye=new du(Ye,i,null,u,le),ce.push({event:Ye,listeners:ze}),We?Ye.data=We:(We=s_(u),We!==null&&(Ye.data=We)))),(We=_r?hN(i,u):pN(i,u))&&(X=pd(X,"onBeforeInput"),0<X.length&&(le=new du("onBeforeInput","beforeinput",null,u,le),ce.push({event:le,listeners:X}),le.data=We))}C_(ce,o)})}function vu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function pd(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ht(i,u),v!=null&&f.unshift(vu(i,v,m)),v=Ht(i,o),v!=null&&f.push(vu(i,v,m))),i=i.return}return f}function Ua(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function R_(i,o,u,f,m){for(var v=o._reactName,I=[];u!==null&&u!==f;){var M=u,j=M.alternate,X=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&X!==null&&(M=X,m?(j=Ht(u,v),j!=null&&I.unshift(vu(u,j,M))):m||(j=Ht(u,v),j!=null&&I.push(vu(u,j,M)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var bN=/\r\n?/g,NN=/\u0000|\uFFFD/g;function b_(i){return(typeof i=="string"?i:""+i).replace(bN,`
`).replace(NN,"")}function md(i,o,u){if(o=b_(o),b_(i)!==o&&u)throw Error(t(425))}function gd(){}var hp=null,pp=null;function mp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,kN=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(i){return N_.resolve(null).then(i).catch(DN)}:gp;function DN(i){setTimeout(function(){throw i})}function yp(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Yr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Yr(o)}function Ls(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function k_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var ja=Math.random().toString(36).slice(2),Si="__reactFiber$"+ja,_u="__reactProps$"+ja,zi="__reactContainer$"+ja,vp="__reactEvents$"+ja,ON="__reactListeners$"+ja,xN="__reactHandles$"+ja;function Mo(i){var o=i[Si];if(o)return o;for(var u=i.parentNode;u;){if(o=u[zi]||u[Si]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=k_(i);i!==null;){if(u=i[Si])return u;i=k_(i)}return o}i=u,u=i.parentNode}return null}function wu(i){return i=i[Si]||i[zi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function yd(i){return i[_u]||null}var _p=[],Ba=-1;function Ms(i){return{current:i}}function Mt(i){0>Ba||(i.current=_p[Ba],_p[Ba]=null,Ba--)}function xt(i,o){Ba++,_p[Ba]=i.current,i.current=o}var Vs={},Ln=Ms(Vs),ir=Ms(!1),Vo=Vs;function Ha(i,o){var u=i.type.contextTypes;if(!u)return Vs;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function sr(i){return i=i.childContextTypes,i!=null}function vd(){Mt(ir),Mt(Ln)}function P_(i,o,u){if(Ln.current!==Vs)throw Error(t(168));xt(Ln,o),xt(ir,u)}function D_(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,qe(i)||"Unknown",m));return ae({},u,f)}function _d(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vs,Vo=Ln.current,xt(Ln,i),xt(ir,ir.current),!0}function O_(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=D_(i,o,Vo),f.__reactInternalMemoizedMergedChildContext=i,Mt(ir),Mt(Ln),xt(Ln,i)):Mt(ir),xt(ir,u)}var Wi=null,wd=!1,wp=!1;function x_(i){Wi===null?Wi=[i]:Wi.push(i)}function LN(i){wd=!0,x_(i)}function $s(){if(!wp&&Wi!==null){wp=!0;var i=0,o=gt;try{var u=Wi;for(gt=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Wi=null,wd=!1}catch(m){throw Wi!==null&&(Wi=Wi.slice(i+1)),Rt(gr,$s),m}finally{gt=o,wp=!1}}return null}var za=[],Wa=0,Ed=null,Td=0,Or=[],xr=0,$o=null,qi=1,Ki="";function Uo(i,o){za[Wa++]=Td,za[Wa++]=Ed,Ed=i,Td=o}function L_(i,o,u){Or[xr++]=qi,Or[xr++]=Ki,Or[xr++]=$o,$o=i;var f=qi;i=Ki;var m=32-ft(f)-1;f&=~(1<<m),u+=1;var v=32-ft(o)+m;if(30<v){var I=m-m%5;v=(f&(1<<I)-1).toString(32),f>>=I,m-=I,qi=1<<32-ft(o)+m|u<<m|f,Ki=v+i}else qi=1<<v|u<<m|f,Ki=i}function Ep(i){i.return!==null&&(Uo(i,1),L_(i,1,0))}function Tp(i){for(;i===Ed;)Ed=za[--Wa],za[Wa]=null,Td=za[--Wa],za[Wa]=null;for(;i===$o;)$o=Or[--xr],Or[xr]=null,Ki=Or[--xr],Or[xr]=null,qi=Or[--xr],Or[xr]=null}var wr=null,Er=null,Ut=!1,Zr=null;function M_(i,o){var u=$r(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function V_(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wr=i,Er=Ls(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wr=i,Er=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=$o!==null?{id:qi,overflow:Ki}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=$r(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,wr=i,Er=null,!0):!1;default:return!1}}function Sp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ip(i){if(Ut){var o=Er;if(o){var u=o;if(!V_(i,o)){if(Sp(i))throw Error(t(418));o=Ls(u.nextSibling);var f=wr;o&&V_(i,o)?M_(f,u):(i.flags=i.flags&-4097|2,Ut=!1,wr=i)}}else{if(Sp(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ut=!1,wr=i}}}function $_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wr=i}function Sd(i){if(i!==wr)return!1;if(!Ut)return $_(i),Ut=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!mp(i.type,i.memoizedProps)),o&&(o=Er)){if(Sp(i))throw U_(),Error(t(418));for(;o;)M_(i,o),o=Ls(o.nextSibling)}if($_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Er=Ls(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Er=null}}else Er=wr?Ls(i.stateNode.nextSibling):null;return!0}function U_(){for(var i=Er;i;)i=Ls(i.nextSibling)}function qa(){Er=wr=null,Ut=!1}function Cp(i){Zr===null?Zr=[i]:Zr.push(i)}var MN=q.ReactCurrentBatchConfig;function Eu(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var M=m.refs;I===null?delete M[v]:M[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Id(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function j_(i){var o=i._init;return o(i._payload)}function F_(i){function o(G,H){if(i){var Q=G.deletions;Q===null?(G.deletions=[H],G.flags|=16):Q.push(H)}}function u(G,H){if(!i)return null;for(;H!==null;)o(G,H),H=H.sibling;return null}function f(G,H){for(G=new Map;H!==null;)H.key!==null?G.set(H.key,H):G.set(H.index,H),H=H.sibling;return G}function m(G,H){return G=qs(G,H),G.index=0,G.sibling=null,G}function v(G,H,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags|=2,H):Q):(G.flags|=2,H)):(G.flags|=1048576,H)}function I(G){return i&&G.alternate===null&&(G.flags|=2),G}function M(G,H,Q,fe){return H===null||H.tag!==6?(H=gm(Q,G.mode,fe),H.return=G,H):(H=m(H,Q),H.return=G,H)}function j(G,H,Q,fe){var Ve=Q.type;return Ve===S?le(G,H,Q.props.children,fe,Q.key):H!==null&&(H.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Fe&&j_(Ve)===H.type)?(fe=m(H,Q.props),fe.ref=Eu(G,H,Q),fe.return=G,fe):(fe=Gd(Q.type,Q.key,Q.props,null,G.mode,fe),fe.ref=Eu(G,H,Q),fe.return=G,fe)}function X(G,H,Q,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=ym(Q,G.mode,fe),H.return=G,H):(H=m(H,Q.children||[]),H.return=G,H)}function le(G,H,Q,fe,Ve){return H===null||H.tag!==7?(H=Ko(Q,G.mode,fe,Ve),H.return=G,H):(H=m(H,Q),H.return=G,H)}function ce(G,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=gm(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Z:return Q=Gd(H.type,H.key,H.props,null,G.mode,Q),Q.ref=Eu(G,null,H),Q.return=G,Q;case J:return H=ym(H,G.mode,Q),H.return=G,H;case Fe:var fe=H._init;return ce(G,fe(H._payload),Q)}if(Bt(H)||pe(H))return H=Ko(H,G.mode,Q,null),H.return=G,H;Id(G,H)}return null}function oe(G,H,Q,fe){var Ve=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ve!==null?null:M(G,H,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Z:return Q.key===Ve?j(G,H,Q,fe):null;case J:return Q.key===Ve?X(G,H,Q,fe):null;case Fe:return Ve=Q._init,oe(G,H,Ve(Q._payload),fe)}if(Bt(Q)||pe(Q))return Ve!==null?null:le(G,H,Q,fe,null);Id(G,Q)}return null}function Ce(G,H,Q,fe,Ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return G=G.get(Q)||null,M(H,G,""+fe,Ve);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Z:return G=G.get(fe.key===null?Q:fe.key)||null,j(H,G,fe,Ve);case J:return G=G.get(fe.key===null?Q:fe.key)||null,X(H,G,fe,Ve);case Fe:var ze=fe._init;return Ce(G,H,Q,ze(fe._payload),Ve)}if(Bt(fe)||pe(fe))return G=G.get(Q)||null,le(H,G,fe,Ve,null);Id(H,fe)}return null}function Le(G,H,Q,fe){for(var Ve=null,ze=null,We=H,Ye=H=0,wn=null;We!==null&&Ye<Q.length;Ye++){We.index>Ye?(wn=We,We=null):wn=We.sibling;var St=oe(G,We,Q[Ye],fe);if(St===null){We===null&&(We=wn);break}i&&We&&St.alternate===null&&o(G,We),H=v(St,H,Ye),ze===null?Ve=St:ze.sibling=St,ze=St,We=wn}if(Ye===Q.length)return u(G,We),Ut&&Uo(G,Ye),Ve;if(We===null){for(;Ye<Q.length;Ye++)We=ce(G,Q[Ye],fe),We!==null&&(H=v(We,H,Ye),ze===null?Ve=We:ze.sibling=We,ze=We);return Ut&&Uo(G,Ye),Ve}for(We=f(G,We);Ye<Q.length;Ye++)wn=Ce(We,G,Ye,Q[Ye],fe),wn!==null&&(i&&wn.alternate!==null&&We.delete(wn.key===null?Ye:wn.key),H=v(wn,H,Ye),ze===null?Ve=wn:ze.sibling=wn,ze=wn);return i&&We.forEach(function(Ks){return o(G,Ks)}),Ut&&Uo(G,Ye),Ve}function Me(G,H,Q,fe){var Ve=pe(Q);if(typeof Ve!="function")throw Error(t(150));if(Q=Ve.call(Q),Q==null)throw Error(t(151));for(var ze=Ve=null,We=H,Ye=H=0,wn=null,St=Q.next();We!==null&&!St.done;Ye++,St=Q.next()){We.index>Ye?(wn=We,We=null):wn=We.sibling;var Ks=oe(G,We,St.value,fe);if(Ks===null){We===null&&(We=wn);break}i&&We&&Ks.alternate===null&&o(G,We),H=v(Ks,H,Ye),ze===null?Ve=Ks:ze.sibling=Ks,ze=Ks,We=wn}if(St.done)return u(G,We),Ut&&Uo(G,Ye),Ve;if(We===null){for(;!St.done;Ye++,St=Q.next())St=ce(G,St.value,fe),St!==null&&(H=v(St,H,Ye),ze===null?Ve=St:ze.sibling=St,ze=St);return Ut&&Uo(G,Ye),Ve}for(We=f(G,We);!St.done;Ye++,St=Q.next())St=Ce(We,G,Ye,St.value,fe),St!==null&&(i&&St.alternate!==null&&We.delete(St.key===null?Ye:St.key),H=v(St,H,Ye),ze===null?Ve=St:ze.sibling=St,ze=St);return i&&We.forEach(function(mk){return o(G,mk)}),Ut&&Uo(G,Ye),Ve}function Xt(G,H,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Z:e:{for(var Ve=Q.key,ze=H;ze!==null;){if(ze.key===Ve){if(Ve=Q.type,Ve===S){if(ze.tag===7){u(G,ze.sibling),H=m(ze,Q.props.children),H.return=G,G=H;break e}}else if(ze.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Fe&&j_(Ve)===ze.type){u(G,ze.sibling),H=m(ze,Q.props),H.ref=Eu(G,ze,Q),H.return=G,G=H;break e}u(G,ze);break}else o(G,ze);ze=ze.sibling}Q.type===S?(H=Ko(Q.props.children,G.mode,fe,Q.key),H.return=G,G=H):(fe=Gd(Q.type,Q.key,Q.props,null,G.mode,fe),fe.ref=Eu(G,H,Q),fe.return=G,G=fe)}return I(G);case J:e:{for(ze=Q.key;H!==null;){if(H.key===ze)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){u(G,H.sibling),H=m(H,Q.children||[]),H.return=G,G=H;break e}else{u(G,H);break}else o(G,H);H=H.sibling}H=ym(Q,G.mode,fe),H.return=G,G=H}return I(G);case Fe:return ze=Q._init,Xt(G,H,ze(Q._payload),fe)}if(Bt(Q))return Le(G,H,Q,fe);if(pe(Q))return Me(G,H,Q,fe);Id(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(u(G,H.sibling),H=m(H,Q),H.return=G,G=H):(u(G,H),H=gm(Q,G.mode,fe),H.return=G,G=H),I(G)):u(G,H)}return Xt}var Ka=F_(!0),B_=F_(!1),Cd=Ms(null),Ad=null,Ga=null,Ap=null;function Rp(){Ap=Ga=Ad=null}function bp(i){var o=Cd.current;Mt(Cd),i._currentValue=o}function Np(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Qa(i,o){Ad=i,Ap=Ga=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(or=!0),i.firstContext=null)}function Lr(i){var o=i._currentValue;if(Ap!==i)if(i={context:i,memoizedValue:o,next:null},Ga===null){if(Ad===null)throw Error(t(308));Ga=i,Ad.dependencies={lanes:0,firstContext:i}}else Ga=Ga.next=i;return o}var jo=null;function kp(i){jo===null?jo=[i]:jo.push(i)}function H_(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,kp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Gi(i,f)}function Gi(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Us=!1;function Pp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function js(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(wt&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Gi(i,u)}return m=f.interleaved,m===null?(o.next=o,kp(f)):(o.next=m.next,m.next=o),f.interleaved=o,Gi(i,u)}function Rd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ns(i,u)}}function W_(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function bd(i,o,u,f){var m=i.updateQueue;Us=!1;var v=m.firstBaseUpdate,I=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,X=j.next;j.next=null,I===null?v=X:I.next=X,I=j;var le=i.alternate;le!==null&&(le=le.updateQueue,M=le.lastBaseUpdate,M!==I&&(M===null?le.firstBaseUpdate=X:M.next=X,le.lastBaseUpdate=j))}if(v!==null){var ce=m.baseState;I=0,le=X=j=null,M=v;do{var oe=M.lane,Ce=M.eventTime;if((f&oe)===oe){le!==null&&(le=le.next={eventTime:Ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Le=i,Me=M;switch(oe=o,Ce=u,Me.tag){case 1:if(Le=Me.payload,typeof Le=="function"){ce=Le.call(Ce,ce,oe);break e}ce=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Me.payload,oe=typeof Le=="function"?Le.call(Ce,ce,oe):Le,oe==null)break e;ce=ae({},ce,oe);break e;case 2:Us=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,oe=m.effects,oe===null?m.effects=[M]:oe.push(M))}else Ce={eventTime:Ce,lane:oe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},le===null?(X=le=Ce,j=ce):le=le.next=Ce,I|=oe;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(le===null&&(j=ce),m.baseState=j,m.firstBaseUpdate=X,m.lastBaseUpdate=le,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ho|=I,i.lanes=I,i.memoizedState=ce}}function q_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Tu={},Ii=Ms(Tu),Su=Ms(Tu),Iu=Ms(Tu);function Fo(i){if(i===Tu)throw Error(t(174));return i}function Dp(i,o){switch(xt(Iu,o),xt(Su,i),xt(Ii,Tu),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=mt(o,i)}Mt(Ii),xt(Ii,o)}function Ya(){Mt(Ii),Mt(Su),Mt(Iu)}function K_(i){Fo(Iu.current);var o=Fo(Ii.current),u=mt(o,i.type);o!==u&&(xt(Su,i),xt(Ii,u))}function Op(i){Su.current===i&&(Mt(Ii),Mt(Su))}var zt=Ms(0);function Nd(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xp=[];function Lp(){for(var i=0;i<xp.length;i++)xp[i]._workInProgressVersionPrimary=null;xp.length=0}var kd=q.ReactCurrentDispatcher,Mp=q.ReactCurrentBatchConfig,Bo=0,Wt=null,un=null,vn=null,Pd=!1,Cu=!1,Au=0,VN=0;function Mn(){throw Error(t(321))}function Vp(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Jr(i[u],o[u]))return!1;return!0}function $p(i,o,u,f,m,v){if(Bo=v,Wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,kd.current=i===null||i.memoizedState===null?FN:BN,i=u(f,m),Cu){v=0;do{if(Cu=!1,Au=0,25<=v)throw Error(t(301));v+=1,vn=un=null,o.updateQueue=null,kd.current=HN,i=u(f,m)}while(Cu)}if(kd.current=xd,o=un!==null&&un.next!==null,Bo=0,vn=un=Wt=null,Pd=!1,o)throw Error(t(300));return i}function Up(){var i=Au!==0;return Au=0,i}function Ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Wt.memoizedState=vn=i:vn=vn.next=i,vn}function Mr(){if(un===null){var i=Wt.alternate;i=i!==null?i.memoizedState:null}else i=un.next;var o=vn===null?Wt.memoizedState:vn.next;if(o!==null)vn=o,un=i;else{if(i===null)throw Error(t(310));un=i,i={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},vn===null?Wt.memoizedState=vn=i:vn=vn.next=i}return vn}function Ru(i,o){return typeof o=="function"?o(i):o}function jp(i){var o=Mr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=un,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var I=m.next;m.next=v.next,v.next=I}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var M=I=null,j=null,X=v;do{var le=X.lane;if((Bo&le)===le)j!==null&&(j=j.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:i(f,X.action);else{var ce={lane:le,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};j===null?(M=j=ce,I=f):j=j.next=ce,Wt.lanes|=le,Ho|=le}X=X.next}while(X!==null&&X!==v);j===null?I=f:j.next=M,Jr(f,o.memoizedState)||(or=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=j,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,Wt.lanes|=v,Ho|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Fp(i){var o=Mr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do v=i(v,I.action),I=I.next;while(I!==m);Jr(v,o.memoizedState)||(or=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function G_(){}function Q_(i,o){var u=Wt,f=Mr(),m=o(),v=!Jr(f.memoizedState,m);if(v&&(f.memoizedState=m,or=!0),f=f.queue,Bp(J_.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||vn!==null&&vn.memoizedState.tag&1){if(u.flags|=2048,bu(9,X_.bind(null,u,f,m,o),void 0,null),_n===null)throw Error(t(349));(Bo&30)!==0||Y_(u,o,m)}return m}function Y_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function X_(i,o,u,f){o.value=u,o.getSnapshot=f,Z_(o)&&ew(i)}function J_(i,o,u){return u(function(){Z_(o)&&ew(i)})}function Z_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Jr(i,u)}catch{return!0}}function ew(i){var o=Gi(i,1);o!==null&&ri(o,i,1,-1)}function tw(i){var o=Ci();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:i},o.queue=i,i=i.dispatch=jN.bind(null,Wt,i),[o.memoizedState,i]}function bu(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function nw(){return Mr().memoizedState}function Dd(i,o,u,f){var m=Ci();Wt.flags|=i,m.memoizedState=bu(1|o,u,void 0,f===void 0?null:f)}function Od(i,o,u,f){var m=Mr();f=f===void 0?null:f;var v=void 0;if(un!==null){var I=un.memoizedState;if(v=I.destroy,f!==null&&Vp(f,I.deps)){m.memoizedState=bu(o,u,v,f);return}}Wt.flags|=i,m.memoizedState=bu(1|o,u,v,f)}function rw(i,o){return Dd(8390656,8,i,o)}function Bp(i,o){return Od(2048,8,i,o)}function iw(i,o){return Od(4,2,i,o)}function sw(i,o){return Od(4,4,i,o)}function ow(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function aw(i,o,u){return u=u!=null?u.concat([i]):null,Od(4,4,ow.bind(null,o,i),u)}function Hp(){}function lw(i,o){var u=Mr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Vp(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function uw(i,o){var u=Mr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Vp(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function cw(i,o,u){return(Bo&21)===0?(i.baseState&&(i.baseState=!1,or=!0),i.memoizedState=u):(Jr(u,o)||(u=Po(),Wt.lanes|=u,Ho|=u,i.baseState=!0),o)}function $N(i,o){var u=gt;gt=u!==0&&4>u?u:4,i(!0);var f=Mp.transition;Mp.transition={};try{i(!1),o()}finally{gt=u,Mp.transition=f}}function dw(){return Mr().memoizedState}function UN(i,o,u){var f=zs(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},fw(i))hw(o,u);else if(u=H_(i,o,u,f),u!==null){var m=Gn();ri(u,i,f,m),pw(u,o,f)}}function jN(i,o,u){var f=zs(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(fw(i))hw(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,M=v(I,u);if(m.hasEagerState=!0,m.eagerState=M,Jr(M,I)){var j=o.interleaved;j===null?(m.next=m,kp(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=H_(i,o,m,f),u!==null&&(m=Gn(),ri(u,i,f,m),pw(u,o,f))}}function fw(i){var o=i.alternate;return i===Wt||o!==null&&o===Wt}function hw(i,o){Cu=Pd=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function pw(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ns(i,u)}}var xd={readContext:Lr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},FN={readContext:Lr,useCallback:function(i,o){return Ci().memoizedState=[i,o===void 0?null:o],i},useContext:Lr,useEffect:rw,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Dd(4194308,4,ow.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Dd(4194308,4,i,o)},useInsertionEffect:function(i,o){return Dd(4,2,i,o)},useMemo:function(i,o){var u=Ci();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Ci();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=UN.bind(null,Wt,i),[f.memoizedState,i]},useRef:function(i){var o=Ci();return i={current:i},o.memoizedState=i},useState:tw,useDebugValue:Hp,useDeferredValue:function(i){return Ci().memoizedState=i},useTransition:function(){var i=tw(!1),o=i[0];return i=$N.bind(null,i[1]),Ci().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=Wt,m=Ci();if(Ut){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),_n===null)throw Error(t(349));(Bo&30)!==0||Y_(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,rw(J_.bind(null,f,v,i),[i]),f.flags|=2048,bu(9,X_.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Ci(),o=_n.identifierPrefix;if(Ut){var u=Ki,f=qi;u=(f&~(1<<32-ft(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Au++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=VN++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},BN={readContext:Lr,useCallback:lw,useContext:Lr,useEffect:Bp,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:uw,useReducer:jp,useRef:nw,useState:function(){return jp(Ru)},useDebugValue:Hp,useDeferredValue:function(i){var o=Mr();return cw(o,un.memoizedState,i)},useTransition:function(){var i=jp(Ru)[0],o=Mr().memoizedState;return[i,o]},useMutableSource:G_,useSyncExternalStore:Q_,useId:dw,unstable_isNewReconciler:!1},HN={readContext:Lr,useCallback:lw,useContext:Lr,useEffect:Bp,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:uw,useReducer:Fp,useRef:nw,useState:function(){return Fp(Ru)},useDebugValue:Hp,useDeferredValue:function(i){var o=Mr();return un===null?o.memoizedState=i:cw(o,un.memoizedState,i)},useTransition:function(){var i=Fp(Ru)[0],o=Mr().memoizedState;return[i,o]},useMutableSource:G_,useSyncExternalStore:Q_,useId:dw,unstable_isNewReconciler:!1};function ei(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function zp(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ae({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ld={isMounted:function(i){return(i=i._reactInternals)?De(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Gn(),m=zs(i),v=Qi(f,m);v.payload=o,u!=null&&(v.callback=u),o=js(i,v,m),o!==null&&(ri(o,i,m,f),Rd(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Gn(),m=zs(i),v=Qi(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=js(i,v,m),o!==null&&(ri(o,i,m,f),Rd(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Gn(),f=zs(i),m=Qi(u,f);m.tag=2,o!=null&&(m.callback=o),o=js(i,m,f),o!==null&&(ri(o,i,f,u),Rd(o,i,f))}};function mw(i,o,u,f,m,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):o.prototype&&o.prototype.isPureReactComponent?!pu(u,f)||!pu(m,v):!0}function gw(i,o,u){var f=!1,m=Vs,v=o.contextType;return typeof v=="object"&&v!==null?v=Lr(v):(m=sr(o)?Vo:Ln.current,f=o.contextTypes,v=(f=f!=null)?Ha(i,m):Vs),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ld,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function yw(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Ld.enqueueReplaceState(o,o.state,null)}function Wp(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Pp(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Lr(v):(v=sr(o)?Vo:Ln.current,m.context=Ha(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(zp(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Ld.enqueueReplaceState(m,m.state,null),bd(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Xa(i,o){try{var u="",f=o;do u+=Te(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function qp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Kp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var zN=typeof WeakMap=="function"?WeakMap:Map;function vw(i,o,u){u=Qi(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Bd||(Bd=!0,lm=f),Kp(i,o)},u}function _w(i,o,u){u=Qi(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Kp(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Kp(i,o),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function ww(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new zN;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=ik.bind(null,i,o,u),o.then(i,i))}function Ew(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Tw(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Qi(-1,1),o.tag=2,js(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var WN=q.ReactCurrentOwner,or=!1;function Kn(i,o,u,f){o.child=i===null?B_(o,null,u,f):Ka(o,i.child,u,f)}function Sw(i,o,u,f,m){u=u.render;var v=o.ref;return Qa(o,m),f=$p(i,o,u,f,v,m),u=Up(),i!==null&&!or?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Yi(i,o,m)):(Ut&&u&&Ep(o),o.flags|=1,Kn(i,o,f,m),o.child)}function Iw(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!mm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Cw(i,o,v,f,m)):(i=Gd(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:pu,u(I,f)&&i.ref===o.ref)return Yi(i,o,m)}return o.flags|=1,i=qs(v,f),i.ref=o.ref,i.return=o,o.child=i}function Cw(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(pu(v,f)&&i.ref===o.ref)if(or=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(or=!0);else return o.lanes=i.lanes,Yi(i,o,m)}return Gp(i,o,u,f,m)}function Aw(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Za,Tr),Tr|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,xt(Za,Tr),Tr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,xt(Za,Tr),Tr|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,xt(Za,Tr),Tr|=f;return Kn(i,o,m,u),o.child}function Rw(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Gp(i,o,u,f,m){var v=sr(u)?Vo:Ln.current;return v=Ha(o,v),Qa(o,m),u=$p(i,o,u,f,v,m),f=Up(),i!==null&&!or?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Yi(i,o,m)):(Ut&&f&&Ep(o),o.flags|=1,Kn(i,o,u,m),o.child)}function bw(i,o,u,f,m){if(sr(u)){var v=!0;_d(o)}else v=!1;if(Qa(o,m),o.stateNode===null)Vd(i,o),gw(o,u,f),Wp(o,u,f,m),f=!0;else if(i===null){var I=o.stateNode,M=o.memoizedProps;I.props=M;var j=I.context,X=u.contextType;typeof X=="object"&&X!==null?X=Lr(X):(X=sr(u)?Vo:Ln.current,X=Ha(o,X));var le=u.getDerivedStateFromProps,ce=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function";ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==f||j!==X)&&yw(o,I,f,X),Us=!1;var oe=o.memoizedState;I.state=oe,bd(o,f,I,m),j=o.memoizedState,M!==f||oe!==j||ir.current||Us?(typeof le=="function"&&(zp(o,u,le,f),j=o.memoizedState),(M=Us||mw(o,u,M,f,oe,j,X))?(ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),I.props=f,I.state=j,I.context=X,f=M):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,z_(i,o),M=o.memoizedProps,X=o.type===o.elementType?M:ei(o.type,M),I.props=X,ce=o.pendingProps,oe=I.context,j=u.contextType,typeof j=="object"&&j!==null?j=Lr(j):(j=sr(u)?Vo:Ln.current,j=Ha(o,j));var Ce=u.getDerivedStateFromProps;(le=typeof Ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==ce||oe!==j)&&yw(o,I,f,j),Us=!1,oe=o.memoizedState,I.state=oe,bd(o,f,I,m);var Le=o.memoizedState;M!==ce||oe!==Le||ir.current||Us?(typeof Ce=="function"&&(zp(o,u,Ce,f),Le=o.memoizedState),(X=Us||mw(o,u,X,f,oe,Le,j)||!1)?(le||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,Le,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,Le,j)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Le),I.props=f,I.state=Le,I.context=j,f=X):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),f=!1)}return Qp(i,o,u,f,v,m)}function Qp(i,o,u,f,m,v){Rw(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&O_(o,u,!1),Yi(i,o,v);f=o.stateNode,WN.current=o;var M=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=Ka(o,i.child,null,v),o.child=Ka(o,null,M,v)):Kn(i,o,M,v),o.memoizedState=f.state,m&&O_(o,u,!0),o.child}function Nw(i){var o=i.stateNode;o.pendingContext?P_(i,o.pendingContext,o.pendingContext!==o.context):o.context&&P_(i,o.context,!1),Dp(i,o.containerInfo)}function kw(i,o,u,f,m){return qa(),Cp(m),o.flags|=256,Kn(i,o,u,f),o.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Xp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Pw(i,o,u){var f=o.pendingProps,m=zt.current,v=!1,I=(o.flags&128)!==0,M;if((M=I)||(M=i!==null&&i.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),xt(zt,m&1),i===null)return Ip(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,i=f.fallback,v?(f=o.mode,v=o.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=Qd(I,f,0,null),i=Ko(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Xp(u),o.memoizedState=Yp,i):Jp(o,I));if(m=i.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return qN(i,o,I,f,M,m,u);if(v){v=f.fallback,I=o.mode,m=i.child,M=m.sibling;var j={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=qs(m,j),f.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=qs(M,v):(v=Ko(v,I,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,I=i.child.memoizedState,I=I===null?Xp(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=Yp,f}return v=i.child,i=v.sibling,f=qs(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Jp(i,o){return o=Qd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Md(i,o,u,f){return f!==null&&Cp(f),Ka(o,i.child,null,u),i=Jp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function qN(i,o,u,f,m,v,I){if(u)return o.flags&256?(o.flags&=-257,f=qp(Error(t(422))),Md(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Qd({mode:"visible",children:f.children},m,0,null),v=Ko(v,m,I,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&Ka(o,i.child,null,I),o.child.memoizedState=Xp(I),o.memoizedState=Yp,v);if((o.mode&1)===0)return Md(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var M=f.dgst;return f=M,v=Error(t(419)),f=qp(v,f,void 0),Md(i,o,I,f)}if(M=(I&i.childLanes)!==0,or||M){if(f=_n,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Gi(i,m),ri(f,i,m,-1))}return pm(),f=qp(Error(t(421))),Md(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=sk.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Er=Ls(m.nextSibling),wr=o,Ut=!0,Zr=null,i!==null&&(Or[xr++]=qi,Or[xr++]=Ki,Or[xr++]=$o,qi=i.id,Ki=i.overflow,$o=o),o=Jp(o,f.children),o.flags|=4096,o)}function Dw(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Np(i.return,o,u)}function Zp(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function Ow(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(Kn(i,o,f.children,u),f=zt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Dw(i,u,o);else if(i.tag===19)Dw(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(xt(zt,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Nd(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Zp(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Nd(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Zp(o,!0,u,null,v);break;case"together":Zp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Yi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ho|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=qs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=qs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function KN(i,o,u){switch(o.tag){case 3:Nw(o),qa();break;case 5:K_(o);break;case 1:sr(o.type)&&_d(o);break;case 4:Dp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;xt(Cd,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(xt(zt,zt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Pw(i,o,u):(xt(zt,zt.current&1),i=Yi(i,o,u),i!==null?i.sibling:null);xt(zt,zt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Ow(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(zt,zt.current),f)break;return null;case 22:case 23:return o.lanes=0,Aw(i,o,u)}return Yi(i,o,u)}var xw,em,Lw,Mw;xw=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},em=function(){},Lw=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Fo(Ii.current);var v=null;switch(u){case"input":m=Kt(i,m),f=Kt(i,f),v=[];break;case"select":m=ae({},m,{value:void 0}),f=ae({},f,{value:void 0}),v=[];break;case"textarea":m=Jn(i,m),f=Jn(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=gd)}di(u,f);var I;u=null;for(X in m)if(!f.hasOwnProperty(X)&&m.hasOwnProperty(X)&&m[X]!=null)if(X==="style"){var M=m[X];for(I in M)M.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?v||(v=[]):(v=v||[]).push(X,null));for(X in f){var j=f[X];if(M=m!=null?m[X]:void 0,f.hasOwnProperty(X)&&j!==M&&(j!=null||M!=null))if(X==="style")if(M){for(I in M)!M.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in j)j.hasOwnProperty(I)&&M[I]!==j[I]&&(u||(u={}),u[I]=j[I])}else u||(v||(v=[]),v.push(X,u)),u=j;else X==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(v=v||[]).push(X,j)):X==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(X,""+j):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(j!=null&&X==="onScroll"&&Lt("scroll",i),v||M===j||(v=[])):(v=v||[]).push(X,j))}u&&(v=v||[]).push("style",u);var X=v;(o.updateQueue=X)&&(o.flags|=4)}},Mw=function(i,o,u,f){u!==f&&(o.flags|=4)};function Nu(i,o){if(!Ut)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Vn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function GN(i,o,u){var f=o.pendingProps;switch(Tp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(o),null;case 1:return sr(o.type)&&vd(),Vn(o),null;case 3:return f=o.stateNode,Ya(),Mt(ir),Mt(Ln),Lp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Sd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zr!==null&&(dm(Zr),Zr=null))),em(i,o),Vn(o),null;case 5:Op(o);var m=Fo(Iu.current);if(u=o.type,i!==null&&o.stateNode!=null)Lw(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Vn(o),null}if(i=Fo(Ii.current),Sd(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Si]=o,f[_u]=v,i=(o.mode&1)!==0,u){case"dialog":Lt("cancel",f),Lt("close",f);break;case"iframe":case"object":case"embed":Lt("load",f);break;case"video":case"audio":for(m=0;m<gu.length;m++)Lt(gu[m],f);break;case"source":Lt("error",f);break;case"img":case"image":case"link":Lt("error",f),Lt("load",f);break;case"details":Lt("toggle",f);break;case"input":rt(f,v),Lt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Lt("invalid",f);break;case"textarea":Dn(f,v),Lt("invalid",f)}di(u,v),m=null;for(var I in v)if(v.hasOwnProperty(I)){var M=v[I];I==="children"?typeof M=="string"?f.textContent!==M&&(v.suppressHydrationWarning!==!0&&md(f.textContent,M,i),m=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&md(f.textContent,M,i),m=["children",""+M]):s.hasOwnProperty(I)&&M!=null&&I==="onScroll"&&Lt("scroll",f)}switch(u){case"input":It(f),br(f,v,!0);break;case"textarea":It(f),an(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=gd)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=$e(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(u,{is:f.is}):(i=I.createElement(u),u==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,u),i[Si]=o,i[_u]=f,xw(i,o,!1,!1),o.stateNode=i;e:{switch(I=Ao(u,f),u){case"dialog":Lt("cancel",i),Lt("close",i),m=f;break;case"iframe":case"object":case"embed":Lt("load",i),m=f;break;case"video":case"audio":for(m=0;m<gu.length;m++)Lt(gu[m],i);m=f;break;case"source":Lt("error",i),m=f;break;case"img":case"image":case"link":Lt("error",i),Lt("load",i),m=f;break;case"details":Lt("toggle",i),m=f;break;case"input":rt(i,f),m=Kt(i,f),Lt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ae({},f,{value:void 0}),Lt("invalid",i);break;case"textarea":Dn(i,f),m=Jn(i,f),Lt("invalid",i);break;default:m=f}di(u,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var j=M[v];v==="style"?gn(i,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&mn(i,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&zn(i,j):typeof j=="number"&&zn(i,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Lt("scroll",i):j!=null&&W(i,v,j,I))}switch(u){case"input":It(i),br(i,f,!1);break;case"textarea":It(i),an(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ue(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Zt(i,!!f.multiple,v,!1):f.defaultValue!=null&&Zt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=gd)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vn(o),null;case 6:if(i&&o.stateNode!=null)Mw(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Fo(Iu.current),Fo(Ii.current),Sd(o)){if(f=o.stateNode,u=o.memoizedProps,f[Si]=o,(v=f.nodeValue!==u)&&(i=wr,i!==null))switch(i.tag){case 3:md(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&md(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Si]=o,o.stateNode=f}return Vn(o),null;case 13:if(Mt(zt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ut&&Er!==null&&(o.mode&1)!==0&&(o.flags&128)===0)U_(),qa(),o.flags|=98560,v=!1;else if(v=Sd(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Si]=o}else qa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vn(o),v=!1}else Zr!==null&&(dm(Zr),Zr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(zt.current&1)!==0?cn===0&&(cn=3):pm())),o.updateQueue!==null&&(o.flags|=4),Vn(o),null);case 4:return Ya(),em(i,o),i===null&&yu(o.stateNode.containerInfo),Vn(o),null;case 10:return bp(o.type._context),Vn(o),null;case 17:return sr(o.type)&&vd(),Vn(o),null;case 19:if(Mt(zt),v=o.memoizedState,v===null)return Vn(o),null;if(f=(o.flags&128)!==0,I=v.rendering,I===null)if(f)Nu(v,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Nd(i),I!==null){for(o.flags|=128,Nu(v,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return xt(zt,zt.current&1|2),o.child}i=i.sibling}v.tail!==null&&ct()>el&&(o.flags|=128,f=!0,Nu(v,!1),o.lanes=4194304)}else{if(!f)if(i=Nd(I),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Nu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!Ut)return Vn(o),null}else 2*ct()-v.renderingStartTime>el&&u!==1073741824&&(o.flags|=128,f=!0,Nu(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=zt.current,xt(zt,f?u&1|2:u&1),o):(Vn(o),null);case 22:case 23:return hm(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Tr&1073741824)!==0&&(Vn(o),o.subtreeFlags&6&&(o.flags|=8192)):Vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function QN(i,o){switch(Tp(o),o.tag){case 1:return sr(o.type)&&vd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ya(),Mt(ir),Mt(Ln),Lp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Op(o),null;case 13:if(Mt(zt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));qa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Mt(zt),null;case 4:return Ya(),null;case 10:return bp(o.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var $d=!1,$n=!1,YN=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Ja(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Qt(i,o,f)}else u.current=null}function tm(i,o,u){try{u()}catch(f){Qt(i,o,f)}}var Vw=!1;function XN(i,o){if(hp=Ds,i=m_(),sp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,M=-1,j=-1,X=0,le=0,ce=i,oe=null;t:for(;;){for(var Ce;ce!==u||m!==0&&ce.nodeType!==3||(M=I+m),ce!==v||f!==0&&ce.nodeType!==3||(j=I+f),ce.nodeType===3&&(I+=ce.nodeValue.length),(Ce=ce.firstChild)!==null;)oe=ce,ce=Ce;for(;;){if(ce===i)break t;if(oe===u&&++X===m&&(M=I),oe===v&&++le===f&&(j=I),(Ce=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=Ce}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(pp={focusedElem:i,selectionRange:u},Ds=!1,Oe=o;Oe!==null;)if(o=Oe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Oe=i;else for(;Oe!==null;){o=Oe;try{var Le=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Me=Le.memoizedProps,Xt=Le.memoizedState,G=o.stateNode,H=G.getSnapshotBeforeUpdate(o.elementType===o.type?Me:ei(o.type,Me),Xt);G.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){Qt(o,o.return,fe)}if(i=o.sibling,i!==null){i.return=o.return,Oe=i;break}Oe=o.return}return Le=Vw,Vw=!1,Le}function ku(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&tm(o,u,v)}m=m.next}while(m!==f)}}function Ud(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function nm(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function $w(i){var o=i.alternate;o!==null&&(i.alternate=null,$w(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Si],delete o[_u],delete o[vp],delete o[ON],delete o[xN])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uw(i){return i.tag===5||i.tag===3||i.tag===4}function jw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rm(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=gd));else if(f!==4&&(i=i.child,i!==null))for(rm(i,o,u),i=i.sibling;i!==null;)rm(i,o,u),i=i.sibling}function im(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(im(i,o,u),i=i.sibling;i!==null;)im(i,o,u),i=i.sibling}var Cn=null,ti=!1;function Fs(i,o,u){for(u=u.child;u!==null;)Fw(i,o,u),u=u.sibling}function Fw(i,o,u){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 5:$n||Ja(u,o);case 6:var f=Cn,m=ti;Cn=null,Fs(i,o,u),Cn=f,ti=m,Cn!==null&&(ti?(i=Cn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Cn.removeChild(u.stateNode));break;case 18:Cn!==null&&(ti?(i=Cn,u=u.stateNode,i.nodeType===8?yp(i.parentNode,u):i.nodeType===1&&yp(i,u),Yr(i)):yp(Cn,u.stateNode));break;case 4:f=Cn,m=ti,Cn=u.stateNode.containerInfo,ti=!0,Fs(i,o,u),Cn=f,ti=m;break;case 0:case 11:case 14:case 15:if(!$n&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&tm(u,o,I),m=m.next}while(m!==f)}Fs(i,o,u);break;case 1:if(!$n&&(Ja(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(M){Qt(u,o,M)}Fs(i,o,u);break;case 21:Fs(i,o,u);break;case 22:u.mode&1?($n=(f=$n)||u.memoizedState!==null,Fs(i,o,u),$n=f):Fs(i,o,u);break;default:Fs(i,o,u)}}function Bw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new YN),o.forEach(function(f){var m=ok.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function ni(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 5:Cn=M.stateNode,ti=!1;break e;case 3:Cn=M.stateNode.containerInfo,ti=!0;break e;case 4:Cn=M.stateNode.containerInfo,ti=!0;break e}M=M.return}if(Cn===null)throw Error(t(160));Fw(v,I,m),Cn=null,ti=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(X){Qt(m,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Hw(o,i),o=o.sibling}function Hw(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ni(o,i),Ai(i),f&4){try{ku(3,i,i.return),Ud(3,i)}catch(Me){Qt(i,i.return,Me)}try{ku(5,i,i.return)}catch(Me){Qt(i,i.return,Me)}}break;case 1:ni(o,i),Ai(i),f&512&&u!==null&&Ja(u,u.return);break;case 5:if(ni(o,i),Ai(i),f&512&&u!==null&&Ja(u,u.return),i.flags&32){var m=i.stateNode;try{zn(m,"")}catch(Me){Qt(i,i.return,Me)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,M=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&Ft(m,v),Ao(M,I);var X=Ao(M,v);for(I=0;I<j.length;I+=2){var le=j[I],ce=j[I+1];le==="style"?gn(m,ce):le==="dangerouslySetInnerHTML"?mn(m,ce):le==="children"?zn(m,ce):W(m,le,ce,X)}switch(M){case"input":pn(m,v);break;case"textarea":Dt(m,v);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?Zt(m,!!v.multiple,Ce,!1):oe!==!!v.multiple&&(v.defaultValue!=null?Zt(m,!!v.multiple,v.defaultValue,!0):Zt(m,!!v.multiple,v.multiple?[]:"",!1))}m[_u]=v}catch(Me){Qt(i,i.return,Me)}}break;case 6:if(ni(o,i),Ai(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(Me){Qt(i,i.return,Me)}}break;case 3:if(ni(o,i),Ai(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Yr(o.containerInfo)}catch(Me){Qt(i,i.return,Me)}break;case 4:ni(o,i),Ai(i);break;case 13:ni(o,i),Ai(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(am=ct())),f&4&&Bw(i);break;case 22:if(le=u!==null&&u.memoizedState!==null,i.mode&1?($n=(X=$n)||le,ni(o,i),$n=X):ni(o,i),Ai(i),f&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!le&&(i.mode&1)!==0)for(Oe=i,le=i.child;le!==null;){for(ce=Oe=le;Oe!==null;){switch(oe=Oe,Ce=oe.child,oe.tag){case 0:case 11:case 14:case 15:ku(4,oe,oe.return);break;case 1:Ja(oe,oe.return);var Le=oe.stateNode;if(typeof Le.componentWillUnmount=="function"){f=oe,u=oe.return;try{o=f,Le.props=o.memoizedProps,Le.state=o.memoizedState,Le.componentWillUnmount()}catch(Me){Qt(f,u,Me)}}break;case 5:Ja(oe,oe.return);break;case 22:if(oe.memoizedState!==null){qw(ce);continue}}Ce!==null?(Ce.return=oe,Oe=Ce):qw(ce)}le=le.sibling}e:for(le=null,ce=i;;){if(ce.tag===5){if(le===null){le=ce;try{m=ce.stateNode,X?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=ce.stateNode,j=ce.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=ot("display",I))}catch(Me){Qt(i,i.return,Me)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=X?"":ce.memoizedProps}catch(Me){Qt(i,i.return,Me)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:ni(o,i),Ai(i),f&4&&Bw(i);break;case 21:break;default:ni(o,i),Ai(i)}}function Ai(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Uw(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(zn(m,""),f.flags&=-33);var v=jw(i);im(i,v,m);break;case 3:case 4:var I=f.stateNode.containerInfo,M=jw(i);rm(i,M,I);break;default:throw Error(t(161))}}catch(j){Qt(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function JN(i,o,u){Oe=i,zw(i)}function zw(i,o,u){for(var f=(i.mode&1)!==0;Oe!==null;){var m=Oe,v=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||$d;if(!I){var M=m.alternate,j=M!==null&&M.memoizedState!==null||$n;M=$d;var X=$n;if($d=I,($n=j)&&!X)for(Oe=m;Oe!==null;)I=Oe,j=I.child,I.tag===22&&I.memoizedState!==null?Kw(m):j!==null?(j.return=I,Oe=j):Kw(m);for(;v!==null;)Oe=v,zw(v),v=v.sibling;Oe=m,$d=M,$n=X}Ww(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Oe=v):Ww(i)}}function Ww(i){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:$n||Ud(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!$n)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ei(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&q_(o,v,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}q_(o,I,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var le=X.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&Yr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$n||o.flags&512&&nm(o)}catch(oe){Qt(o,o.return,oe)}}if(o===i){Oe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function qw(i){for(;Oe!==null;){var o=Oe;if(o===i){Oe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function Kw(i){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ud(4,o)}catch(j){Qt(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(j){Qt(o,m,j)}}var v=o.return;try{nm(o)}catch(j){Qt(o,v,j)}break;case 5:var I=o.return;try{nm(o)}catch(j){Qt(o,I,j)}}}catch(j){Qt(o,o.return,j)}if(o===i){Oe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Oe=M;break}Oe=o.return}}var ZN=Math.ceil,jd=q.ReactCurrentDispatcher,sm=q.ReactCurrentOwner,Vr=q.ReactCurrentBatchConfig,wt=0,_n=null,nn=null,An=0,Tr=0,Za=Ms(0),cn=0,Pu=null,Ho=0,Fd=0,om=0,Du=null,ar=null,am=0,el=1/0,Xi=null,Bd=!1,lm=null,Bs=null,Hd=!1,Hs=null,zd=0,Ou=0,um=null,Wd=-1,qd=0;function Gn(){return(wt&6)!==0?ct():Wd!==-1?Wd:Wd=ct()}function zs(i){return(i.mode&1)===0?1:(wt&2)!==0&&An!==0?An&-An:MN.transition!==null?(qd===0&&(qd=Po()),qd):(i=gt,i!==0||(i=window.event,i=i===void 0?16:au(i.type)),i)}function ri(i,o,u,f){if(50<Ou)throw Ou=0,um=null,Error(t(185));bs(i,u,f),((wt&2)===0||i!==_n)&&(i===_n&&((wt&2)===0&&(Fd|=u),cn===4&&Ws(i,An)),lr(i,f),u===1&&wt===0&&(o.mode&1)===0&&(el=ct()+500,wd&&$s()))}function lr(i,o){var u=i.callbackNode;Ui(i,o);var f=ko(i,i===_n?An:0);if(f===0)u!==null&&Nr(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Nr(u),o===1)i.tag===0?LN(Qw.bind(null,i)):x_(Qw.bind(null,i)),PN(function(){(wt&6)===0&&$s()}),u=null;else{switch(ks(f)){case 1:u=gr;break;case 4:u=xn;break;case 16:u=Tn;break;case 536870912:u=dt;break;default:u=Tn}u=rE(u,Gw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Gw(i,o){if(Wd=-1,qd=0,(wt&6)!==0)throw Error(t(327));var u=i.callbackNode;if(tl()&&i.callbackNode!==u)return null;var f=ko(i,i===_n?An:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Kd(i,f);else{o=f;var m=wt;wt|=2;var v=Xw();(_n!==i||An!==o)&&(Xi=null,el=ct()+500,Wo(i,o));do try{nk();break}catch(M){Yw(i,M)}while(!0);Rp(),jd.current=v,wt=m,nn!==null?o=0:(_n=null,An=0,o=cn)}if(o!==0){if(o===2&&(m=yr(i),m!==0&&(f=m,o=cm(i,m))),o===1)throw u=Pu,Wo(i,0),Ws(i,f),lr(i,ct()),u;if(o===6)Ws(i,f);else{if(m=i.current.alternate,(f&30)===0&&!ek(m)&&(o=Kd(i,f),o===2&&(v=yr(i),v!==0&&(f=v,o=cm(i,v))),o===1))throw u=Pu,Wo(i,0),Ws(i,f),lr(i,ct()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:qo(i,ar,Xi);break;case 3:if(Ws(i,f),(f&130023424)===f&&(o=am+500-ct(),10<o)){if(ko(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){Gn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=gp(qo.bind(null,i,ar,Xi),o);break}qo(i,ar,Xi);break;case 4:if(Ws(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-ft(f);v=1<<I,I=o[I],I>m&&(m=I),f&=~v}if(f=m,f=ct()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*ZN(f/1960))-f,10<f){i.timeoutHandle=gp(qo.bind(null,i,ar,Xi),f);break}qo(i,ar,Xi);break;case 5:qo(i,ar,Xi);break;default:throw Error(t(329))}}}return lr(i,ct()),i.callbackNode===u?Gw.bind(null,i):null}function cm(i,o){var u=Du;return i.current.memoizedState.isDehydrated&&(Wo(i,o).flags|=256),i=Kd(i,o),i!==2&&(o=ar,ar=u,o!==null&&dm(o)),i}function dm(i){ar===null?ar=i:ar.push.apply(ar,i)}function ek(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Jr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ws(i,o){for(o&=~om,o&=~Fd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-ft(o),f=1<<u;i[u]=-1,o&=~f}}function Qw(i){if((wt&6)!==0)throw Error(t(327));tl();var o=ko(i,0);if((o&1)===0)return lr(i,ct()),null;var u=Kd(i,o);if(i.tag!==0&&u===2){var f=yr(i);f!==0&&(o=f,u=cm(i,f))}if(u===1)throw u=Pu,Wo(i,0),Ws(i,o),lr(i,ct()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,qo(i,ar,Xi),lr(i,ct()),null}function fm(i,o){var u=wt;wt|=1;try{return i(o)}finally{wt=u,wt===0&&(el=ct()+500,wd&&$s())}}function zo(i){Hs!==null&&Hs.tag===0&&(wt&6)===0&&tl();var o=wt;wt|=1;var u=Vr.transition,f=gt;try{if(Vr.transition=null,gt=1,i)return i()}finally{gt=f,Vr.transition=u,wt=o,(wt&6)===0&&$s()}}function hm(){Tr=Za.current,Mt(Za)}function Wo(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,kN(u)),nn!==null)for(u=nn.return;u!==null;){var f=u;switch(Tp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&vd();break;case 3:Ya(),Mt(ir),Mt(Ln),Lp();break;case 5:Op(f);break;case 4:Ya();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:bp(f.type._context);break;case 22:case 23:hm()}u=u.return}if(_n=i,nn=i=qs(i.current,null),An=Tr=o,cn=0,Pu=null,om=Fd=Ho=0,ar=Du=null,jo!==null){for(o=0;o<jo.length;o++)if(u=jo[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var I=v.next;v.next=m,f.next=I}u.pending=f}jo=null}return i}function Yw(i,o){do{var u=nn;try{if(Rp(),kd.current=xd,Pd){for(var f=Wt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Pd=!1}if(Bo=0,vn=un=Wt=null,Cu=!1,Au=0,sm.current=null,u===null||u.return===null){cn=1,Pu=o,nn=null;break}e:{var v=i,I=u.return,M=u,j=o;if(o=An,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=j,le=M,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var Ce=Ew(I);if(Ce!==null){Ce.flags&=-257,Tw(Ce,I,M,v,o),Ce.mode&1&&ww(v,X,o),o=Ce,j=X;var Le=o.updateQueue;if(Le===null){var Me=new Set;Me.add(j),o.updateQueue=Me}else Le.add(j);break e}else{if((o&1)===0){ww(v,X,o),pm();break e}j=Error(t(426))}}else if(Ut&&M.mode&1){var Xt=Ew(I);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),Tw(Xt,I,M,v,o),Cp(Xa(j,M));break e}}v=j=Xa(j,M),cn!==4&&(cn=2),Du===null?Du=[v]:Du.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var G=vw(v,j,o);W_(v,G);break e;case 1:M=j;var H=v.type,Q=v.stateNode;if((v.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Bs===null||!Bs.has(Q)))){v.flags|=65536,o&=-o,v.lanes|=o;var fe=_w(v,M,o);W_(v,fe);break e}}v=v.return}while(v!==null)}Zw(u)}catch(Ve){o=Ve,nn===u&&u!==null&&(nn=u=u.return);continue}break}while(!0)}function Xw(){var i=jd.current;return jd.current=xd,i===null?xd:i}function pm(){(cn===0||cn===3||cn===2)&&(cn=4),_n===null||(Ho&268435455)===0&&(Fd&268435455)===0||Ws(_n,An)}function Kd(i,o){var u=wt;wt|=2;var f=Xw();(_n!==i||An!==o)&&(Xi=null,Wo(i,o));do try{tk();break}catch(m){Yw(i,m)}while(!0);if(Rp(),wt=u,jd.current=f,nn!==null)throw Error(t(261));return _n=null,An=0,cn}function tk(){for(;nn!==null;)Jw(nn)}function nk(){for(;nn!==null&&!mi();)Jw(nn)}function Jw(i){var o=nE(i.alternate,i,Tr);i.memoizedProps=i.pendingProps,o===null?Zw(i):nn=o,sm.current=null}function Zw(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=GN(u,o,Tr),u!==null){nn=u;return}}else{if(u=QN(u,o),u!==null){u.flags&=32767,nn=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{cn=6,nn=null;return}}if(o=o.sibling,o!==null){nn=o;return}nn=o=i}while(o!==null);cn===0&&(cn=5)}function qo(i,o,u){var f=gt,m=Vr.transition;try{Vr.transition=null,gt=1,rk(i,o,u,f)}finally{Vr.transition=m,gt=f}return null}function rk(i,o,u,f){do tl();while(Hs!==null);if((wt&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Pt(i,v),i===_n&&(nn=_n=null,An=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Hd||(Hd=!0,rE(Tn,function(){return tl(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Vr.transition,Vr.transition=null;var I=gt;gt=1;var M=wt;wt|=4,sm.current=null,XN(i,u),Hw(u,i),SN(pp),Ds=!!hp,pp=hp=null,i.current=u,JN(u),mr(),wt=M,gt=I,Vr.transition=v}else i.current=u;if(Hd&&(Hd=!1,Hs=i,zd=m),v=i.pendingLanes,v===0&&(Bs=null),yi(u.stateNode),lr(i,ct()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Bd)throw Bd=!1,i=lm,lm=null,i;return(zd&1)!==0&&i.tag!==0&&tl(),v=i.pendingLanes,(v&1)!==0?i===um?Ou++:(Ou=0,um=i):Ou=0,$s(),null}function tl(){if(Hs!==null){var i=ks(zd),o=Vr.transition,u=gt;try{if(Vr.transition=null,gt=16>i?16:i,Hs===null)var f=!1;else{if(i=Hs,Hs=null,zd=0,(wt&6)!==0)throw Error(t(331));var m=wt;for(wt|=4,Oe=i.current;Oe!==null;){var v=Oe,I=v.child;if((Oe.flags&16)!==0){var M=v.deletions;if(M!==null){for(var j=0;j<M.length;j++){var X=M[j];for(Oe=X;Oe!==null;){var le=Oe;switch(le.tag){case 0:case 11:case 15:ku(8,le,v)}var ce=le.child;if(ce!==null)ce.return=le,Oe=ce;else for(;Oe!==null;){le=Oe;var oe=le.sibling,Ce=le.return;if($w(le),le===X){Oe=null;break}if(oe!==null){oe.return=Ce,Oe=oe;break}Oe=Ce}}}var Le=v.alternate;if(Le!==null){var Me=Le.child;if(Me!==null){Le.child=null;do{var Xt=Me.sibling;Me.sibling=null,Me=Xt}while(Me!==null)}}Oe=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,Oe=I;else e:for(;Oe!==null;){if(v=Oe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ku(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,Oe=G;break e}Oe=v.return}}var H=i.current;for(Oe=H;Oe!==null;){I=Oe;var Q=I.child;if((I.subtreeFlags&2064)!==0&&Q!==null)Q.return=I,Oe=Q;else e:for(I=H;Oe!==null;){if(M=Oe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Ud(9,M)}}catch(Ve){Qt(M,M.return,Ve)}if(M===I){Oe=null;break e}var fe=M.sibling;if(fe!==null){fe.return=M.return,Oe=fe;break e}Oe=M.return}}if(wt=m,$s(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ct,i)}catch{}f=!0}return f}finally{gt=u,Vr.transition=o}}return!1}function eE(i,o,u){o=Xa(u,o),o=vw(i,o,1),i=js(i,o,1),o=Gn(),i!==null&&(bs(i,1,o),lr(i,o))}function Qt(i,o,u){if(i.tag===3)eE(i,i,u);else for(;o!==null;){if(o.tag===3){eE(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))){i=Xa(u,i),i=_w(o,i,1),o=js(o,i,1),i=Gn(),o!==null&&(bs(o,1,i),lr(o,i));break}}o=o.return}}function ik(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=Gn(),i.pingedLanes|=i.suspendedLanes&u,_n===i&&(An&u)===u&&(cn===4||cn===3&&(An&130023424)===An&&500>ct()-am?Wo(i,0):om|=u),lr(i,o)}function tE(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ia,Ia<<=1,(Ia&130023424)===0&&(Ia=4194304)));var u=Gn();i=Gi(i,o),i!==null&&(bs(i,o,u),lr(i,u))}function sk(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),tE(i,u)}function ok(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),tE(i,u)}var nE;nE=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||ir.current)or=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return or=!1,KN(i,o,u);or=(i.flags&131072)!==0}else or=!1,Ut&&(o.flags&1048576)!==0&&L_(o,Td,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Vd(i,o),i=o.pendingProps;var m=Ha(o,Ln.current);Qa(o,u),m=$p(null,o,f,i,m,u);var v=Up();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sr(f)?(v=!0,_d(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Pp(o),m.updater=Ld,o.stateNode=m,m._reactInternals=o,Wp(o,f,i,u),o=Qp(null,o,f,!0,v,u)):(o.tag=0,Ut&&v&&Ep(o),Kn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Vd(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=lk(f),i=ei(f,i),m){case 0:o=Gp(null,o,f,i,u);break e;case 1:o=bw(null,o,f,i,u);break e;case 11:o=Sw(null,o,f,i,u);break e;case 14:o=Iw(null,o,f,ei(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Gp(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),bw(i,o,f,m,u);case 3:e:{if(Nw(o),i===null)throw Error(t(387));f=o.pendingProps,v=o.memoizedState,m=v.element,z_(i,o),bd(o,f,null,u);var I=o.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Xa(Error(t(423)),o),o=kw(i,o,f,u,m);break e}else if(f!==m){m=Xa(Error(t(424)),o),o=kw(i,o,f,u,m);break e}else for(Er=Ls(o.stateNode.containerInfo.firstChild),wr=o,Ut=!0,Zr=null,u=B_(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(qa(),f===m){o=Yi(i,o,u);break e}Kn(i,o,f,u)}o=o.child}return o;case 5:return K_(o),i===null&&Ip(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,I=m.children,mp(f,m)?I=null:v!==null&&mp(f,v)&&(o.flags|=32),Rw(i,o),Kn(i,o,I,u),o.child;case 6:return i===null&&Ip(o),null;case 13:return Pw(i,o,u);case 4:return Dp(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Ka(o,null,f,u):Kn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Sw(i,o,f,m,u);case 7:return Kn(i,o,o.pendingProps,u),o.child;case 8:return Kn(i,o,o.pendingProps.children,u),o.child;case 12:return Kn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,I=m.value,xt(Cd,f._currentValue),f._currentValue=I,v!==null)if(Jr(v.value,I)){if(v.children===m.children&&!ir.current){o=Yi(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){I=v.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(v.tag===1){j=Qi(-1,u&-u),j.tag=2;var X=v.updateQueue;if(X!==null){X=X.shared;var le=X.pending;le===null?j.next=j:(j.next=le.next,le.next=j),X.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Np(v.return,u,o),M.lanes|=u;break}j=j.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(t(341));I.lanes|=u,M=I.alternate,M!==null&&(M.lanes|=u),Np(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}Kn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Qa(o,u),m=Lr(m),f=f(m),o.flags|=1,Kn(i,o,f,u),o.child;case 14:return f=o.type,m=ei(f,o.pendingProps),m=ei(f.type,m),Iw(i,o,f,m,u);case 15:return Cw(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ei(f,m),Vd(i,o),o.tag=1,sr(f)?(i=!0,_d(o)):i=!1,Qa(o,u),gw(o,f,m),Wp(o,f,m,u),Qp(null,o,f,!0,i,u);case 19:return Ow(i,o,u);case 22:return Aw(i,o,u)}throw Error(t(156,o.tag))};function rE(i,o){return Rt(i,o)}function ak(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(i,o,u,f){return new ak(i,o,u,f)}function mm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lk(i){if(typeof i=="function")return mm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===xe)return 14}return 2}function qs(i,o){var u=i.alternate;return u===null?(u=$r(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Gd(i,o,u,f,m,v){var I=2;if(f=i,typeof i=="function")mm(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case S:return Ko(u.children,m,v,o);case R:I=8,m|=8;break;case P:return i=$r(12,u,o,m|2),i.elementType=P,i.lanes=v,i;case D:return i=$r(13,u,o,m),i.elementType=D,i.lanes=v,i;case we:return i=$r(19,u,o,m),i.elementType=we,i.lanes=v,i;case Ne:return Qd(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:I=10;break e;case L:I=9;break e;case V:I=11;break e;case xe:I=14;break e;case Fe:I=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=$r(I,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Ko(i,o,u,f){return i=$r(7,i,f,o),i.lanes=u,i}function Qd(i,o,u,f){return i=$r(22,i,f,o),i.elementType=Ne,i.lanes=u,i.stateNode={isHidden:!1},i}function gm(i,o,u){return i=$r(6,i,null,o),i.lanes=u,i}function ym(i,o,u){return o=$r(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function uk(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function vm(i,o,u,f,m,v,I,M,j){return i=new uk(i,o,u,M,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=$r(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(v),i}function ck(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function iE(i){if(!i)return Vs;i=i._reactInternals;e:{if(De(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(sr(u))return D_(i,u,o)}return o}function sE(i,o,u,f,m,v,I,M,j){return i=vm(u,f,!0,i,m,v,I,M,j),i.context=iE(null),u=i.current,f=Gn(),m=zs(u),v=Qi(f,m),v.callback=o??null,js(u,v,m),i.current.lanes=m,bs(i,m,f),lr(i,f),i}function Yd(i,o,u,f){var m=o.current,v=Gn(),I=zs(m);return u=iE(u),o.context===null?o.context=u:o.pendingContext=u,o=Qi(v,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=js(m,o,I),i!==null&&(ri(i,m,I,v),Rd(i,m,I)),I}function Xd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function oE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function _m(i,o){oE(i,o),(i=i.alternate)&&oE(i,o)}function dk(){return null}var aE=typeof reportError=="function"?reportError:function(i){console.error(i)};function wm(i){this._internalRoot=i}Jd.prototype.render=wm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Yd(i,o,null,null)},Jd.prototype.unmount=wm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;zo(function(){Yd(null,i,null,null)}),o[zi]=null}};function Jd(i){this._internalRoot=i}Jd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Jc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<_i.length&&o!==0&&o<_i[u].priority;u++);_i.splice(u,0,i),u===0&&td(i)}};function Em(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function lE(){}function fk(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var X=Xd(I);v.call(X)}}var I=sE(o,f,i,0,null,!1,!1,"",lE);return i._reactRootContainer=I,i[zi]=I.current,yu(i.nodeType===8?i.parentNode:i),zo(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var M=f;f=function(){var X=Xd(j);M.call(X)}}var j=vm(i,0,!1,null,null,!1,!1,"",lE);return i._reactRootContainer=j,i[zi]=j.current,yu(i.nodeType===8?i.parentNode:i),zo(function(){Yd(o,j,u,f)}),j}function ef(i,o,u,f,m){var v=u._reactRootContainer;if(v){var I=v;if(typeof m=="function"){var M=m;m=function(){var j=Xd(I);M.call(j)}}Yd(o,I,i,m)}else I=fk(u,o,i,m,f);return Xd(I)}Yc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=As(o.pendingLanes);u!==0&&(Ns(o,u|1),lr(o,ct()),(wt&6)===0&&(el=ct()+500,$s()))}break;case 13:zo(function(){var f=Gi(i,1);if(f!==null){var m=Gn();ri(f,i,1,m)}}),_m(i,1)}},Ca=function(i){if(i.tag===13){var o=Gi(i,134217728);if(o!==null){var u=Gn();ri(o,i,134217728,u)}_m(i,134217728)}},Xc=function(i){if(i.tag===13){var o=zs(i),u=Gi(i,o);if(u!==null){var f=Gn();ri(u,i,o,f)}_m(i,o)}},Jc=function(){return gt},Zc=function(i,o){var u=gt;try{return gt=i,o()}finally{gt=u}},$i=function(i,o,u){switch(o){case"input":if(pn(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=yd(f);if(!m)throw Error(t(90));it(f),pn(f,m)}}}break;case"textarea":Dt(i,u);break;case"select":o=u.value,o!=null&&Zt(i,!!u.multiple,o,!1)}},hi=fm,pi=zo;var hk={usingClientEntryPoint:!1,Events:[wu,Fa,yd,pr,Ro,fm]},xu={findFiberByHostInstance:Mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pk={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Tt(i),i===null?null:i.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{Ct=tf.inject(pk),en=tf}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hk,ur.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(o))throw Error(t(200));return ck(i,o,null,u)},ur.createRoot=function(i,o){if(!Em(i))throw Error(t(299));var u=!1,f="",m=aE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=vm(i,1,!1,null,null,u,!1,f,m),i[zi]=o.current,yu(i.nodeType===8?i.parentNode:i),new wm(o)},ur.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Tt(o),i=i===null?null:i.stateNode,i},ur.flushSync=function(i){return zo(i)},ur.hydrate=function(i,o,u){if(!Zd(o))throw Error(t(200));return ef(null,i,o,!0,u)},ur.hydrateRoot=function(i,o,u){if(!Em(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",I=aE;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=sE(o,null,i,1,u??null,m,!1,v,I),i[zi]=o.current,yu(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Jd(o)},ur.render=function(i,o,u){if(!Zd(o))throw Error(t(200));return ef(null,i,o,!1,u)},ur.unmountComponentAtNode=function(i){if(!Zd(i))throw Error(t(40));return i._reactRootContainer?(zo(function(){ef(null,null,i,!1,function(){i._reactRootContainer=null,i[zi]=null})}),!0):!1},ur.unstable_batchedUpdates=fm,ur.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Zd(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ef(i,o,u,!1,f)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var pE;function kS(){if(pE)return Sm.exports;pE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sm.exports=wk(),Sm.exports}var mE;function Ek(){if(mE)return nf;mE=1;var n=kS();return nf.createRoot=n.createRoot,nf.hydrateRoot=n.hydrateRoot,nf}var Tk=Ek(),Yn="top",Cr="bottom",Ar="right",Xn="left",vh="auto",zl=[Yn,Cr,Ar,Xn],sa="start",Tl="end",PS="clippingParents",fy="viewport",ul="popper",DS="reference",mg=zl.reduce(function(n,e){return n.concat([e+"-"+sa,e+"-"+Tl])},[]),hy=[].concat(zl,[vh]).reduce(function(n,e){return n.concat([e,e+"-"+sa,e+"-"+Tl])},[]),OS="beforeRead",xS="read",LS="afterRead",MS="beforeMain",VS="main",$S="afterMain",US="beforeWrite",jS="write",FS="afterWrite",BS=[OS,xS,LS,MS,VS,$S,US,jS,FS];function Di(n){return n?(n.nodeName||"").toLowerCase():null}function Rr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function oa(n){var e=Rr(n).Element;return n instanceof e||n instanceof Element}function Fr(n){var e=Rr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function py(n){if(typeof ShadowRoot>"u")return!1;var e=Rr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Sk(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},s=e.attributes[t]||{},a=e.elements[t];!Fr(a)||!Di(a)||(Object.assign(a.style,r),Object.keys(s).forEach(function(l){var d=s[l];d===!1?a.removeAttribute(l):a.setAttribute(l,d===!0?"":d)}))})}function Ik(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),d=l.reduce(function(h,p){return h[p]="",h},{});!Fr(s)||!Di(s)||(Object.assign(s.style,d),Object.keys(a).forEach(function(h){s.removeAttribute(h)}))})}}const my={name:"applyStyles",enabled:!0,phase:"write",fn:Sk,effect:Ik,requires:["computeStyles"]};function bi(n){return n.split("-")[0]}var ra=Math.max,$f=Math.min,Sl=Math.round;function gg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function HS(){return!/^((?!chrome|android).)*safari/i.test(gg())}function Il(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,a=1;e&&Fr(n)&&(s=n.offsetWidth>0&&Sl(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Sl(r.height)/n.offsetHeight||1);var l=oa(n)?Rr(n):window,d=l.visualViewport,h=!HS()&&t,p=(r.left+(h&&d?d.offsetLeft:0))/s,g=(r.top+(h&&d?d.offsetTop:0))/a,_=r.width/s,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function gy(n){var e=Il(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function zS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&py(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ds(n){return Rr(n).getComputedStyle(n)}function Ck(n){return["table","td","th"].indexOf(Di(n))>=0}function Eo(n){return((oa(n)?n.ownerDocument:n.document)||window.document).documentElement}function _h(n){return Di(n)==="html"?n:n.assignedSlot||n.parentNode||(py(n)?n.host:null)||Eo(n)}function gE(n){return!Fr(n)||ds(n).position==="fixed"?null:n.offsetParent}function Ak(n){var e=/firefox/i.test(gg()),t=/Trident/i.test(gg());if(t&&Fr(n)){var r=ds(n);if(r.position==="fixed")return null}var s=_h(n);for(py(s)&&(s=s.host);Fr(s)&&["html","body"].indexOf(Di(s))<0;){var a=ds(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Ec(n){for(var e=Rr(n),t=gE(n);t&&Ck(t)&&ds(t).position==="static";)t=gE(t);return t&&(Di(t)==="html"||Di(t)==="body"&&ds(t).position==="static")?e:t||Ak(n)||e}function yy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Xu(n,e,t){return ra(n,$f(e,t))}function Rk(n,e,t){var r=Xu(n,e,t);return r>t?t:r}function WS(){return{top:0,right:0,bottom:0,left:0}}function qS(n){return Object.assign({},WS(),n)}function KS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var bk=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,qS(typeof e!="number"?e:KS(e,zl))};function Nk(n){var e,t=n.state,r=n.name,s=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,d=bi(t.placement),h=yy(d),p=[Xn,Ar].indexOf(d)>=0,g=p?"height":"width";if(!(!a||!l)){var _=bk(s.padding,t),T=gy(a),C=h==="y"?Yn:Xn,k=h==="y"?Cr:Ar,O=t.rects.reference[g]+t.rects.reference[h]-l[h]-t.rects.popper[g],b=l[h]-t.rects.reference[h],F=Ec(a),$=F?h==="y"?F.clientHeight||0:F.clientWidth||0:0,W=O/2-b/2,q=_[C],Z=$-T[g]-_[k],J=$/2-T[g]/2+W,S=Xu(q,J,Z),R=h;t.modifiersData[r]=(e={},e[R]=S,e.centerOffset=S-J,e)}}function kk(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||zS(e.elements.popper,s)&&(e.elements.arrow=s))}const vy={name:"arrow",enabled:!0,phase:"main",fn:Nk,effect:kk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cl(n){return n.split("-")[1]}var Pk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dk(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:Sl(t*s)/s||0,y:Sl(r*s)/s||0}}function yE(n){var e,t=n.popper,r=n.popperRect,s=n.placement,a=n.variation,l=n.offsets,d=n.position,h=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,C=T===void 0?0:T,k=l.y,O=k===void 0?0:k,b=typeof g=="function"?g({x:C,y:O}):{x:C,y:O};C=b.x,O=b.y;var F=l.hasOwnProperty("x"),$=l.hasOwnProperty("y"),W=Xn,q=Yn,Z=window;if(p){var J=Ec(t),S="clientHeight",R="clientWidth";if(J===Rr(t)&&(J=Eo(t),ds(J).position!=="static"&&d==="absolute"&&(S="scrollHeight",R="scrollWidth")),J=J,s===Yn||(s===Xn||s===Ar)&&a===Tl){q=Cr;var P=_&&J===Z&&Z.visualViewport?Z.visualViewport.height:J[S];O-=P-r.height,O*=h?1:-1}if(s===Xn||(s===Yn||s===Cr)&&a===Tl){W=Ar;var x=_&&J===Z&&Z.visualViewport?Z.visualViewport.width:J[R];C-=x-r.width,C*=h?1:-1}}var L=Object.assign({position:d},p&&Pk),V=g===!0?Dk({x:C,y:O},Rr(t)):{x:C,y:O};if(C=V.x,O=V.y,h){var D;return Object.assign({},L,(D={},D[q]=$?"0":"",D[W]=F?"0":"",D.transform=(Z.devicePixelRatio||1)<=1?"translate("+C+"px, "+O+"px)":"translate3d("+C+"px, "+O+"px, 0)",D))}return Object.assign({},L,(e={},e[q]=$?O+"px":"",e[W]=F?C+"px":"",e.transform="",e))}function Ok(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,d=t.roundOffsets,h=d===void 0?!0:d,p={placement:bi(e.placement),variation:Cl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yE(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yE(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const wh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ok,data:{}};var rf={passive:!0};function xk(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,a=s===void 0?!0:s,l=r.resize,d=l===void 0?!0:l,h=Rr(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,rf)}),d&&h.addEventListener("resize",t.update,rf),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,rf)}),d&&h.removeEventListener("resize",t.update,rf)}}const Eh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xk,data:{}};var Lk={left:"right",right:"left",bottom:"top",top:"bottom"};function Sf(n){return n.replace(/left|right|bottom|top/g,function(e){return Lk[e]})}var Mk={start:"end",end:"start"};function vE(n){return n.replace(/start|end/g,function(e){return Mk[e]})}function _y(n){var e=Rr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function wy(n){return Il(Eo(n)).left+_y(n).scrollLeft}function Vk(n,e){var t=Rr(n),r=Eo(n),s=t.visualViewport,a=r.clientWidth,l=r.clientHeight,d=0,h=0;if(s){a=s.width,l=s.height;var p=HS();(p||!p&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:d+wy(n),y:h}}function $k(n){var e,t=Eo(n),r=_y(n),s=(e=n.ownerDocument)==null?void 0:e.body,a=ra(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=ra(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-r.scrollLeft+wy(n),h=-r.scrollTop;return ds(s||t).direction==="rtl"&&(d+=ra(t.clientWidth,s?s.clientWidth:0)-a),{width:a,height:l,x:d,y:h}}function Ey(n){var e=ds(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function GS(n){return["html","body","#document"].indexOf(Di(n))>=0?n.ownerDocument.body:Fr(n)&&Ey(n)?n:GS(_h(n))}function Ju(n,e){var t;e===void 0&&(e=[]);var r=GS(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),a=Rr(r),l=s?[a].concat(a.visualViewport||[],Ey(r)?r:[]):r,d=e.concat(l);return s?d:d.concat(Ju(_h(l)))}function yg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Uk(n,e){var t=Il(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function _E(n,e,t){return e===fy?yg(Vk(n,t)):oa(e)?Uk(e,t):yg($k(Eo(n)))}function jk(n){var e=Ju(_h(n)),t=["absolute","fixed"].indexOf(ds(n).position)>=0,r=t&&Fr(n)?Ec(n):n;return oa(r)?e.filter(function(s){return oa(s)&&zS(s,r)&&Di(s)!=="body"}):[]}function Fk(n,e,t,r){var s=e==="clippingParents"?jk(n):[].concat(e),a=[].concat(s,[t]),l=a[0],d=a.reduce(function(h,p){var g=_E(n,p,r);return h.top=ra(g.top,h.top),h.right=$f(g.right,h.right),h.bottom=$f(g.bottom,h.bottom),h.left=ra(g.left,h.left),h},_E(n,l,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function QS(n){var e=n.reference,t=n.element,r=n.placement,s=r?bi(r):null,a=r?Cl(r):null,l=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,h;switch(s){case Yn:h={x:l,y:e.y-t.height};break;case Cr:h={x:l,y:e.y+e.height};break;case Ar:h={x:e.x+e.width,y:d};break;case Xn:h={x:e.x-t.width,y:d};break;default:h={x:e.x,y:e.y}}var p=s?yy(s):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case sa:h[p]=h[p]-(e[g]/2-t[g]/2);break;case Tl:h[p]=h[p]+(e[g]/2-t[g]/2);break}}return h}function Al(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,d=t.boundary,h=d===void 0?PS:d,p=t.rootBoundary,g=p===void 0?fy:p,_=t.elementContext,T=_===void 0?ul:_,C=t.altBoundary,k=C===void 0?!1:C,O=t.padding,b=O===void 0?0:O,F=qS(typeof b!="number"?b:KS(b,zl)),$=T===ul?DS:ul,W=n.rects.popper,q=n.elements[k?$:T],Z=Fk(oa(q)?q:q.contextElement||Eo(n.elements.popper),h,g,l),J=Il(n.elements.reference),S=QS({reference:J,element:W,placement:s}),R=yg(Object.assign({},W,S)),P=T===ul?R:J,x={top:Z.top-P.top+F.top,bottom:P.bottom-Z.bottom+F.bottom,left:Z.left-P.left+F.left,right:P.right-Z.right+F.right},L=n.modifiersData.offset;if(T===ul&&L){var V=L[s];Object.keys(x).forEach(function(D){var we=[Ar,Cr].indexOf(D)>=0?1:-1,xe=[Yn,Cr].indexOf(D)>=0?"y":"x";x[D]+=V[xe]*we})}return x}function Bk(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,a=t.rootBoundary,l=t.padding,d=t.flipVariations,h=t.allowedAutoPlacements,p=h===void 0?hy:h,g=Cl(r),_=g?d?mg:mg.filter(function(k){return Cl(k)===g}):zl,T=_.filter(function(k){return p.indexOf(k)>=0});T.length===0&&(T=_);var C=T.reduce(function(k,O){return k[O]=Al(n,{placement:O,boundary:s,rootBoundary:a,padding:l})[bi(O)],k},{});return Object.keys(C).sort(function(k,O){return C[k]-C[O]})}function Hk(n){if(bi(n)===vh)return[];var e=Sf(n);return[vE(n),e,vE(e)]}function zk(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,a=s===void 0?!0:s,l=t.altAxis,d=l===void 0?!0:l,h=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,C=t.flipVariations,k=C===void 0?!0:C,O=t.allowedAutoPlacements,b=e.options.placement,F=bi(b),$=F===b,W=h||($||!k?[Sf(b)]:Hk(b)),q=[b].concat(W).reduce(function(ye,Te){return ye.concat(bi(Te)===vh?Bk(e,{placement:Te,boundary:g,rootBoundary:_,padding:p,flipVariations:k,allowedAutoPlacements:O}):Te)},[]),Z=e.rects.reference,J=e.rects.popper,S=new Map,R=!0,P=q[0],x=0;x<q.length;x++){var L=q[x],V=bi(L),D=Cl(L)===sa,we=[Yn,Cr].indexOf(V)>=0,xe=we?"width":"height",Fe=Al(e,{placement:L,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),Ne=we?D?Ar:Xn:D?Cr:Yn;Z[xe]>J[xe]&&(Ne=Sf(Ne));var ne=Sf(Ne),pe=[];if(a&&pe.push(Fe[V]<=0),d&&pe.push(Fe[Ne]<=0,Fe[ne]<=0),pe.every(function(ye){return ye})){P=L,R=!1;break}S.set(L,pe)}if(R)for(var ae=k?3:1,B=function(Te){var Ae=q.find(function(qe){var Ue=S.get(qe);if(Ue)return Ue.slice(0,Te).every(function(st){return st})});if(Ae)return P=Ae,"break"},ee=ae;ee>0;ee--){var he=B(ee);if(he==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const Ty={name:"flip",enabled:!0,phase:"main",fn:zk,requiresIfExists:["offset"],data:{_skip:!1}};function wE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function EE(n){return[Yn,Ar,Cr,Xn].some(function(e){return n[e]>=0})}function Wk(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,l=Al(e,{elementContext:"reference"}),d=Al(e,{altBoundary:!0}),h=wE(l,r),p=wE(d,s,a),g=EE(h),_=EE(p);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const Sy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wk};function qk(n,e,t){var r=bi(n),s=[Xn,Yn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],d=a[1];return l=l||0,d=(d||0)*s,[Xn,Ar].indexOf(r)>=0?{x:d,y:l}:{x:l,y:d}}function Kk(n){var e=n.state,t=n.options,r=n.name,s=t.offset,a=s===void 0?[0,0]:s,l=hy.reduce(function(g,_){return g[_]=qk(_,e.rects,a),g},{}),d=l[e.placement],h=d.x,p=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Iy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kk};function Gk(n){var e=n.state,t=n.name;e.modifiersData[t]=QS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Th={name:"popperOffsets",enabled:!0,phase:"read",fn:Gk,data:{}};function Qk(n){return n==="x"?"y":"x"}function Yk(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,a=s===void 0?!0:s,l=t.altAxis,d=l===void 0?!1:l,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,C=T===void 0?!0:T,k=t.tetherOffset,O=k===void 0?0:k,b=Al(e,{boundary:h,rootBoundary:p,padding:_,altBoundary:g}),F=bi(e.placement),$=Cl(e.placement),W=!$,q=yy(F),Z=Qk(q),J=e.modifiersData.popperOffsets,S=e.rects.reference,R=e.rects.popper,P=typeof O=="function"?O(Object.assign({},e.rects,{placement:e.placement})):O,x=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(J){if(a){var D,we=q==="y"?Yn:Xn,xe=q==="y"?Cr:Ar,Fe=q==="y"?"height":"width",Ne=J[q],ne=Ne+b[we],pe=Ne-b[xe],ae=C?-R[Fe]/2:0,B=$===sa?S[Fe]:R[Fe],ee=$===sa?-R[Fe]:-S[Fe],he=e.elements.arrow,ye=C&&he?gy(he):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:WS(),Ae=Te[we],qe=Te[xe],Ue=Xu(0,S[Fe],ye[Fe]),st=W?S[Fe]/2-ae-Ue-Ae-x.mainAxis:B-Ue-Ae-x.mainAxis,Et=W?-S[Fe]/2+ae+Ue+qe+x.mainAxis:ee+Ue+qe+x.mainAxis,It=e.elements.arrow&&Ec(e.elements.arrow),it=It?q==="y"?It.clientTop||0:It.clientLeft||0:0,kt=(D=L==null?void 0:L[q])!=null?D:0,Kt=Ne+st-kt-it,rt=Ne+Et-kt,Ft=Xu(C?$f(ne,Kt):ne,Ne,C?ra(pe,rt):pe);J[q]=Ft,V[q]=Ft-Ne}if(d){var pn,br=q==="x"?Yn:Xn,Hn=q==="x"?Cr:Ar,Bt=J[Z],Zt=Z==="y"?"height":"width",Jn=Bt+b[br],Dn=Bt-b[Hn],Dt=[Yn,Xn].indexOf(F)!==-1,an=(pn=L==null?void 0:L[Z])!=null?pn:0,$e=Dt?Jn:Bt-S[Zt]-R[Zt]-an+x.altAxis,mt=Dt?Bt+S[Zt]+R[Zt]-an-x.altAxis:Dn,Ot=C&&Dt?Rk($e,Bt,mt):Xu(C?$e:Jn,Bt,C?mt:Dn);J[Z]=Ot,V[Z]=Ot-Bt}e.modifiersData[r]=V}}const Cy={name:"preventOverflow",enabled:!0,phase:"main",fn:Yk,requiresIfExists:["offset"]};function Xk(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Jk(n){return n===Rr(n)||!Fr(n)?_y(n):Xk(n)}function Zk(n){var e=n.getBoundingClientRect(),t=Sl(e.width)/n.offsetWidth||1,r=Sl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function eP(n,e,t){t===void 0&&(t=!1);var r=Fr(e),s=Fr(e)&&Zk(e),a=Eo(e),l=Il(n,s,t),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((Di(e)!=="body"||Ey(a))&&(d=Jk(e)),Fr(e)?(h=Il(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=wy(a))),{x:l.left+d.scrollLeft-h.x,y:l.top+d.scrollTop-h.y,width:l.width,height:l.height}}function tP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function s(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(d){if(!t.has(d)){var h=e.get(d);h&&s(h)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||s(a)}),r}function nP(n){var e=tP(n);return BS.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function rP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function iP(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var TE={placement:"bottom",modifiers:[],strategy:"absolute"};function SE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Tc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,a=s===void 0?TE:s;return function(d,h,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},TE,a),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},_=[],T=!1,C={state:g,setOptions:function(F){var $=typeof F=="function"?F(g.options):F;O(),g.options=Object.assign({},a,g.options,$),g.scrollParents={reference:oa(d)?Ju(d):d.contextElement?Ju(d.contextElement):[],popper:Ju(h)};var W=nP(iP([].concat(r,g.options.modifiers)));return g.orderedModifiers=W.filter(function(q){return q.enabled}),k(),C.update()},forceUpdate:function(){if(!T){var F=g.elements,$=F.reference,W=F.popper;if(SE($,W)){g.rects={reference:eP($,Ec(W),g.options.strategy==="fixed"),popper:gy(W)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(x){return g.modifiersData[x.name]=Object.assign({},x.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(g.reset===!0){g.reset=!1,q=-1;continue}var Z=g.orderedModifiers[q],J=Z.fn,S=Z.options,R=S===void 0?{}:S,P=Z.name;typeof J=="function"&&(g=J({state:g,options:R,name:P,instance:C})||g)}}}},update:rP(function(){return new Promise(function(b){C.forceUpdate(),b(g)})}),destroy:function(){O(),T=!0}};if(!SE(d,h))return C;C.setOptions(p).then(function(b){!T&&p.onFirstUpdate&&p.onFirstUpdate(b)});function k(){g.orderedModifiers.forEach(function(b){var F=b.name,$=b.options,W=$===void 0?{}:$,q=b.effect;if(typeof q=="function"){var Z=q({state:g,name:F,instance:C,options:W}),J=function(){};_.push(Z||J)}})}function O(){_.forEach(function(b){return b()}),_=[]}return C}}var sP=Tc(),oP=[Eh,Th,wh,my],aP=Tc({defaultModifiers:oP}),lP=[Eh,Th,wh,my,Iy,Ty,Cy,vy,Sy],Ay=Tc({defaultModifiers:lP});const YS=Object.freeze(Object.defineProperty({__proto__:null,afterMain:$S,afterRead:LS,afterWrite:FS,applyStyles:my,arrow:vy,auto:vh,basePlacements:zl,beforeMain:MS,beforeRead:OS,beforeWrite:US,bottom:Cr,clippingParents:PS,computeStyles:wh,createPopper:Ay,createPopperBase:sP,createPopperLite:aP,detectOverflow:Al,end:Tl,eventListeners:Eh,flip:Ty,hide:Sy,left:Xn,main:VS,modifierPhases:BS,offset:Iy,placements:hy,popper:ul,popperGenerator:Tc,popperOffsets:Th,preventOverflow:Cy,read:xS,reference:DS,right:Ar,start:sa,top:Yn,variationPlacements:mg,viewport:fy,write:jS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Gs=new Map,Am={set(n,e,t){Gs.has(n)||Gs.set(n,new Map);const r=Gs.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Gs.has(n)&&Gs.get(n).get(e)||null},remove(n,e){if(!Gs.has(n))return;const t=Gs.get(n);t.delete(e),t.size===0&&Gs.delete(n)}},uP=1e6,cP=1e3,vg="transitionend",XS=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),dP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),fP=n=>{do n+=Math.floor(Math.random()*uP);while(document.getElementById(n));return n},hP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),s=Number.parseFloat(t);return!r&&!s?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*cP)},JS=n=>{n.dispatchEvent(new Event(vg))},os=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),fo=n=>os(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(XS(n)):null,Wl=n=>{if(!os(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},ho=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",ZS=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?ZS(n.parentNode):null},Uf=()=>{},Sc=n=>{n.offsetHeight},eI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Rm=[],pP=n=>{document.readyState==="loading"?(Rm.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Rm)e()}),Rm.push(n)):n()},Hr=()=>document.documentElement.dir==="rtl",Wr=n=>{pP(()=>{const e=eI();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},fr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,tI=(n,e,t=!0)=>{if(!t){fr(n);return}const s=hP(e)+5;let a=!1;const l=({target:d})=>{d===e&&(a=!0,e.removeEventListener(vg,l),fr(n))};e.addEventListener(vg,l),setTimeout(()=>{a||JS(e)},s)},Ry=(n,e,t,r)=>{const s=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[s-1]:n[0]:(a+=t?1:-1,r&&(a=(a+s)%s),n[Math.max(0,Math.min(a,s-1))])},mP=/[^.]*(?=\..*)\.|.*/,gP=/\..*/,yP=/::\d+$/,bm={};let IE=1;const nI={mouseenter:"mouseover",mouseleave:"mouseout"},vP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function rI(n,e){return e&&`${e}::${IE++}`||n.uidEvent||IE++}function iI(n){const e=rI(n);return n.uidEvent=e,bm[e]=bm[e]||{},bm[e]}function _P(n,e){return function t(r){return by(r,{delegateTarget:n}),t.oneOff&&ue.off(n,r.type,e),e.apply(n,[r])}}function wP(n,e,t){return function r(s){const a=n.querySelectorAll(e);for(let{target:l}=s;l&&l!==this;l=l.parentNode)for(const d of a)if(d===l)return by(s,{delegateTarget:l}),r.oneOff&&ue.off(n,s.type,e,t),t.apply(l,[s])}}function sI(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function oI(n,e,t){const r=typeof e=="string",s=r?t:e||t;let a=aI(n);return vP.has(a)||(a=n),[r,s,a]}function CE(n,e,t,r,s){if(typeof e!="string"||!n)return;let[a,l,d]=oI(e,t,r);e in nI&&(l=(k=>function(O){if(!O.relatedTarget||O.relatedTarget!==O.delegateTarget&&!O.delegateTarget.contains(O.relatedTarget))return k.call(this,O)})(l));const h=iI(n),p=h[d]||(h[d]={}),g=sI(p,l,a?t:null);if(g){g.oneOff=g.oneOff&&s;return}const _=rI(l,e.replace(mP,"")),T=a?wP(n,t,l):_P(n,l);T.delegationSelector=a?t:null,T.callable=l,T.oneOff=s,T.uidEvent=_,p[_]=T,n.addEventListener(d,T,a)}function _g(n,e,t,r,s){const a=sI(e[t],r,s);a&&(n.removeEventListener(t,a,!!s),delete e[t][a.uidEvent])}function EP(n,e,t,r){const s=e[t]||{};for(const[a,l]of Object.entries(s))a.includes(r)&&_g(n,e,t,l.callable,l.delegationSelector)}function aI(n){return n=n.replace(gP,""),nI[n]||n}const ue={on(n,e,t,r){CE(n,e,t,r,!1)},one(n,e,t,r){CE(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[s,a,l]=oI(e,t,r),d=l!==e,h=iI(n),p=h[l]||{},g=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;_g(n,h,l,a,s?t:null);return}if(g)for(const _ of Object.keys(h))EP(n,h,_,e.slice(1));for(const[_,T]of Object.entries(p)){const C=_.replace(yP,"");(!d||e.includes(C))&&_g(n,h,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=eI(),s=aI(e),a=e!==s;let l=null,d=!0,h=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),d=!l.isPropagationStopped(),h=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const g=by(new Event(e,{bubbles:d,cancelable:!0}),t);return p&&g.preventDefault(),h&&n.dispatchEvent(g),g.defaultPrevented&&l&&l.preventDefault(),g}};function by(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function AE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Nm(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const as={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Nm(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Nm(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let s=r.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=AE(n.dataset[r])}return e},getDataAttribute(n,e){return AE(n.getAttribute(`data-bs-${Nm(e)}`))}};class Ic{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=os(t)?as.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...os(t)?as.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,s]of Object.entries(t)){const a=e[r],l=os(a)?"element":dP(a);if(!new RegExp(s).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${s}".`)}}}const TP="5.3.3";class ci extends Ic{constructor(e,t){super(),e=fo(e),e&&(this._element=e,this._config=this._getConfig(t),Am.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Am.remove(this._element,this.constructor.DATA_KEY),ue.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){tI(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Am.get(fo(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return TP}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const km=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>XS(t)).join(","):null},He={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!ho(t)&&Wl(t))},getSelectorFromElement(n){const e=km(n);return e&&He.findOne(e)?e:null},getElementFromSelector(n){const e=km(n);return e?He.findOne(e):null},getMultipleElementsFromSelector(n){const e=km(n);return e?He.find(e):[]}},Sh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ue.on(document,t,`[data-bs-dismiss="${r}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),ho(this))return;const a=He.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},SP="alert",IP="bs.alert",lI=`.${IP}`,CP=`close${lI}`,AP=`closed${lI}`,RP="fade",bP="show";let uI=class cI extends ci{static get NAME(){return SP}close(){if(ue.trigger(this._element,CP).defaultPrevented)return;this._element.classList.remove(bP);const t=this._element.classList.contains(RP);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ue.trigger(this._element,AP),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=cI.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Sh(uI,"close");Wr(uI);const NP="button",kP="bs.button",PP=`.${kP}`,DP=".data-api",OP="active",RE='[data-bs-toggle="button"]',xP=`click${PP}${DP}`;let dI=class fI extends ci{static get NAME(){return NP}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(OP))}static jQueryInterface(e){return this.each(function(){const t=fI.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};ue.on(document,xP,RE,n=>{n.preventDefault();const e=n.target.closest(RE);dI.getOrCreateInstance(e).toggle()});Wr(dI);const LP="swipe",ql=".bs.swipe",MP=`touchstart${ql}`,VP=`touchmove${ql}`,$P=`touchend${ql}`,UP=`pointerdown${ql}`,jP=`pointerup${ql}`,FP="touch",BP="pen",HP="pointer-event",zP=40,WP={endCallback:null,leftCallback:null,rightCallback:null},qP={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class jf extends Ic{constructor(e,t){super(),this._element=e,!(!e||!jf.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return WP}static get DefaultType(){return qP}static get NAME(){return LP}dispose(){ue.off(this._element,ql)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),fr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=zP)return;const t=e/this._deltaX;this._deltaX=0,t&&fr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ue.on(this._element,UP,e=>this._start(e)),ue.on(this._element,jP,e=>this._end(e)),this._element.classList.add(HP)):(ue.on(this._element,MP,e=>this._start(e)),ue.on(this._element,VP,e=>this._move(e)),ue.on(this._element,$P,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===BP||e.pointerType===FP)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const KP="carousel",GP="bs.carousel",To=`.${GP}`,hI=".data-api",QP="ArrowLeft",YP="ArrowRight",XP=500,Lu="next",nl="prev",cl="left",If="right",JP=`slide${To}`,Pm=`slid${To}`,ZP=`keydown${To}`,eD=`mouseenter${To}`,tD=`mouseleave${To}`,nD=`dragstart${To}`,rD=`load${To}${hI}`,iD=`click${To}${hI}`,pI="carousel",sf="active",sD="slide",oD="carousel-item-end",aD="carousel-item-start",lD="carousel-item-next",uD="carousel-item-prev",mI=".active",gI=".carousel-item",cD=mI+gI,dD=".carousel-item img",fD=".carousel-indicators",hD="[data-bs-slide], [data-bs-slide-to]",pD='[data-bs-ride="carousel"]',mD={[QP]:If,[YP]:cl},gD={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},yD={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Ny=class yI extends ci{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=He.findOne(fD,this._element),this._addEventListeners(),this._config.ride===pI&&this.cycle()}static get Default(){return gD}static get DefaultType(){return yD}static get NAME(){return KP}next(){this._slide(Lu)}nextWhenVisible(){!document.hidden&&Wl(this._element)&&this.next()}prev(){this._slide(nl)}pause(){this._isSliding&&JS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ue.one(this._element,Pm,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ue.one(this._element,Pm,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const s=e>r?Lu:nl;this._slide(s,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ue.on(this._element,ZP,e=>this._keydown(e)),this._config.pause==="hover"&&(ue.on(this._element,eD,()=>this.pause()),ue.on(this._element,tD,()=>this._maybeEnableCycle())),this._config.touch&&jf.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of He.find(dD,this._element))ue.on(r,nD,s=>s.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(cl)),rightCallback:()=>this._slide(this._directionToOrder(If)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),XP+this._config.interval))}};this._swipeHelper=new jf(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=mD[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=He.findOne(mI,this._indicatorsElement);t.classList.remove(sf),t.removeAttribute("aria-current");const r=He.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(sf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),s=e===Lu,a=t||Ry(this._getItems(),r,s,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),d=C=>ue.trigger(this._element,C,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(d(JP).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const g=s?aD:oD,_=s?lD:uD;a.classList.add(_),Sc(a),r.classList.add(g),a.classList.add(g);const T=()=>{a.classList.remove(g,_),a.classList.add(sf),r.classList.remove(sf,_,g),this._isSliding=!1,d(Pm)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(sD)}_getActive(){return He.findOne(cD,this._element)}_getItems(){return He.find(gI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Hr()?e===cl?nl:Lu:e===cl?Lu:nl}_orderToDirection(e){return Hr()?e===nl?cl:If:e===nl?If:cl}static jQueryInterface(e){return this.each(function(){const t=yI.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ue.on(document,iD,hD,function(n){const e=He.getElementFromSelector(this);if(!e||!e.classList.contains(pI))return;n.preventDefault();const t=Ny.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(as.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ue.on(window,rD,()=>{const n=He.find(pD);for(const e of n)Ny.getOrCreateInstance(e)});Wr(Ny);const vD="collapse",_D="bs.collapse",Cc=`.${_D}`,wD=".data-api",ED=`show${Cc}`,TD=`shown${Cc}`,SD=`hide${Cc}`,ID=`hidden${Cc}`,CD=`click${Cc}${wD}`,Dm="show",gl="collapse",of="collapsing",AD="collapsed",RD=`:scope .${gl} .${gl}`,bD="collapse-horizontal",ND="width",kD="height",PD=".collapse.show, .collapse.collapsing",wg='[data-bs-toggle="collapse"]',DD={parent:null,toggle:!0},OD={parent:"(null|element)",toggle:"boolean"};let vI=class Eg extends ci{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=He.find(wg);for(const s of r){const a=He.getSelectorFromElement(s),l=He.find(a).filter(d=>d===this._element);a!==null&&l.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return DD}static get DefaultType(){return OD}static get NAME(){return vD}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(PD).filter(d=>d!==this._element).map(d=>Eg.getOrCreateInstance(d,{toggle:!1}))),e.length&&e[0]._isTransitioning||ue.trigger(this._element,ED).defaultPrevented)return;for(const d of e)d.hide();const r=this._getDimension();this._element.classList.remove(gl),this._element.classList.add(of),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(of),this._element.classList.add(gl,Dm),this._element.style[r]="",ue.trigger(this._element,TD)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ue.trigger(this._element,SD).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Sc(this._element),this._element.classList.add(of),this._element.classList.remove(gl,Dm);for(const s of this._triggerArray){const a=He.getElementFromSelector(s);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(of),this._element.classList.add(gl),ue.trigger(this._element,ID)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Dm)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=fo(e.parent),e}_getDimension(){return this._element.classList.contains(bD)?ND:kD}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(wg);for(const t of e){const r=He.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=He.find(RD,this._config.parent);return He.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(AD,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Eg.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};ue.on(document,CD,wg,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of He.getMultipleElementsFromSelector(this))vI.getOrCreateInstance(e,{toggle:!1}).toggle()});Wr(vI);const bE="dropdown",xD="bs.dropdown",pa=`.${xD}`,ky=".data-api",LD="Escape",NE="Tab",MD="ArrowUp",kE="ArrowDown",VD=2,$D=`hide${pa}`,UD=`hidden${pa}`,jD=`show${pa}`,FD=`shown${pa}`,_I=`click${pa}${ky}`,wI=`keydown${pa}${ky}`,BD=`keyup${pa}${ky}`,dl="show",HD="dropup",zD="dropend",WD="dropstart",qD="dropup-center",KD="dropdown-center",Xo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',GD=`${Xo}.${dl}`,Cf=".dropdown-menu",QD=".navbar",YD=".navbar-nav",XD=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",JD=Hr()?"top-end":"top-start",ZD=Hr()?"top-start":"top-end",e1=Hr()?"bottom-end":"bottom-start",t1=Hr()?"bottom-start":"bottom-end",n1=Hr()?"left-start":"right-start",r1=Hr()?"right-start":"left-start",i1="top",s1="bottom",o1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},a1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let Kl=class Af extends ci{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=He.next(this._element,Cf)[0]||He.prev(this._element,Cf)[0]||He.findOne(Cf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return o1}static get DefaultType(){return a1}static get NAME(){return bE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ho(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ue.trigger(this._element,jD,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(YD))for(const r of[].concat(...document.body.children))ue.on(r,"mouseover",Uf);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(dl),this._element.classList.add(dl),ue.trigger(this._element,FD,e)}}hide(){if(ho(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ue.trigger(this._element,$D,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ue.off(r,"mouseover",Uf);this._popper&&this._popper.destroy(),this._menu.classList.remove(dl),this._element.classList.remove(dl),this._element.setAttribute("aria-expanded","false"),as.removeDataAttribute(this._menu,"popper"),ue.trigger(this._element,UD,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!os(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${bE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof YS>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:os(this._config.reference)?e=fo(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Ay(e,this._menu,t)}_isShown(){return this._menu.classList.contains(dl)}_getPlacement(){const e=this._parent;if(e.classList.contains(zD))return n1;if(e.classList.contains(WD))return r1;if(e.classList.contains(qD))return i1;if(e.classList.contains(KD))return s1;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(HD)?t?ZD:JD:t?t1:e1}_detectNavbar(){return this._element.closest(QD)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(as.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...fr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=He.find(XD,this._menu).filter(s=>Wl(s));r.length&&Ry(r,t,e===kE,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Af.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===VD||e.type==="keyup"&&e.key!==NE)return;const t=He.find(GD);for(const r of t){const s=Af.getInstance(r);if(!s||s._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(s._menu);if(a.includes(s._element)||s._config.autoClose==="inside"&&!l||s._config.autoClose==="outside"&&l||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===NE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const d={relatedTarget:s._element};e.type==="click"&&(d.clickEvent=e),s._completeHide(d)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===LD,s=[MD,kE].includes(e.key);if(!s&&!r||t&&!r)return;e.preventDefault();const a=this.matches(Xo)?this:He.prev(this,Xo)[0]||He.next(this,Xo)[0]||He.findOne(Xo,e.delegateTarget.parentNode),l=Af.getOrCreateInstance(a);if(s){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};ue.on(document,wI,Xo,Kl.dataApiKeydownHandler);ue.on(document,wI,Cf,Kl.dataApiKeydownHandler);ue.on(document,_I,Kl.clearMenus);ue.on(document,BD,Kl.clearMenus);ue.on(document,_I,Xo,function(n){n.preventDefault(),Kl.getOrCreateInstance(this).toggle()});Wr(Kl);const EI="backdrop",l1="fade",PE="show",DE=`mousedown.bs.${EI}`,u1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},c1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class TI extends Ic{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return u1}static get DefaultType(){return c1}static get NAME(){return EI}show(e){if(!this._config.isVisible){fr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Sc(t),t.classList.add(PE),this._emulateAnimation(()=>{fr(e)})}hide(e){if(!this._config.isVisible){fr(e);return}this._getElement().classList.remove(PE),this._emulateAnimation(()=>{this.dispose(),fr(e)})}dispose(){this._isAppended&&(ue.off(this._element,DE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(l1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=fo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ue.on(e,DE,()=>{fr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){tI(e,this._getElement(),this._config.isAnimated)}}const d1="focustrap",f1="bs.focustrap",Ff=`.${f1}`,h1=`focusin${Ff}`,p1=`keydown.tab${Ff}`,m1="Tab",g1="forward",OE="backward",y1={autofocus:!0,trapElement:null},v1={autofocus:"boolean",trapElement:"element"};class SI extends Ic{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return y1}static get DefaultType(){return v1}static get NAME(){return d1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ue.off(document,Ff),ue.on(document,h1,e=>this._handleFocusin(e)),ue.on(document,p1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ue.off(document,Ff))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=He.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===OE?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===m1&&(this._lastTabNavDirection=e.shiftKey?OE:g1)}}const xE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",LE=".sticky-top",af="padding-right",ME="margin-right";class Tg{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,af,t=>t+e),this._setElementAttributes(xE,af,t=>t+e),this._setElementAttributes(LE,ME,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,af),this._resetElementAttributes(xE,af),this._resetElementAttributes(LE,ME)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const s=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+s)return;this._saveInitialAttribute(l,t);const d=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(d))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&as.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=s=>{const a=as.getDataAttribute(s,t);if(a===null){s.style.removeProperty(t);return}as.removeDataAttribute(s,t),s.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(os(e)){t(e);return}for(const r of He.find(e,this._element))t(r)}}const _1="modal",w1="bs.modal",zr=`.${w1}`,E1=".data-api",T1="Escape",S1=`hide${zr}`,I1=`hidePrevented${zr}`,II=`hidden${zr}`,CI=`show${zr}`,C1=`shown${zr}`,A1=`resize${zr}`,R1=`click.dismiss${zr}`,b1=`mousedown.dismiss${zr}`,N1=`keydown.dismiss${zr}`,k1=`click${zr}${E1}`,VE="modal-open",P1="fade",$E="show",Om="modal-static",D1=".modal.show",O1=".modal-dialog",x1=".modal-body",L1='[data-bs-toggle="modal"]',M1={backdrop:!0,focus:!0,keyboard:!0},V1={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Bf=class AI extends ci{constructor(e,t){super(e,t),this._dialog=He.findOne(O1,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Tg,this._addEventListeners()}static get Default(){return M1}static get DefaultType(){return V1}static get NAME(){return _1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ue.trigger(this._element,CI,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(VE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ue.trigger(this._element,S1).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($E),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ue.off(window,zr),ue.off(this._dialog,zr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new TI({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new SI({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=He.findOne(x1,this._dialog);t&&(t.scrollTop=0),Sc(this._element),this._element.classList.add($E);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ue.trigger(this._element,C1,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ue.on(this._element,N1,e=>{if(e.key===T1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ue.on(window,A1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ue.on(this._element,b1,e=>{ue.one(this._element,R1,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(VE),this._resetAdjustments(),this._scrollBar.reset(),ue.trigger(this._element,II)})}_isAnimated(){return this._element.classList.contains(P1)}_triggerBackdropTransition(){if(ue.trigger(this._element,I1).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Om)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Om),this._queueCallback(()=>{this._element.classList.remove(Om),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const s=Hr()?"paddingLeft":"paddingRight";this._element.style[s]=`${t}px`}if(!r&&e){const s=Hr()?"paddingRight":"paddingLeft";this._element.style[s]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=AI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};ue.on(document,k1,L1,function(n){const e=He.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ue.one(e,CI,s=>{s.defaultPrevented||ue.one(e,II,()=>{Wl(this)&&this.focus()})});const t=He.findOne(D1);t&&Bf.getInstance(t).hide(),Bf.getOrCreateInstance(e).toggle(this)});Sh(Bf);Wr(Bf);const $1="offcanvas",U1="bs.offcanvas",vs=`.${U1}`,RI=".data-api",j1=`load${vs}${RI}`,F1="Escape",UE="show",jE="showing",FE="hiding",B1="offcanvas-backdrop",bI=".offcanvas.show",H1=`show${vs}`,z1=`shown${vs}`,W1=`hide${vs}`,BE=`hidePrevented${vs}`,NI=`hidden${vs}`,q1=`resize${vs}`,K1=`click${vs}${RI}`,G1=`keydown.dismiss${vs}`,Q1='[data-bs-toggle="offcanvas"]',Y1={backdrop:!0,keyboard:!0,scroll:!1},X1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Rl=class kI extends ci{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Y1}static get DefaultType(){return X1}static get NAME(){return $1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ue.trigger(this._element,H1,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Tg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jE);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(UE),this._element.classList.remove(jE),ue.trigger(this._element,z1,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ue.trigger(this._element,W1).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(FE),this._backdrop.hide();const t=()=>{this._element.classList.remove(UE,FE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Tg().reset(),ue.trigger(this._element,NI)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ue.trigger(this._element,BE);return}this.hide()},t=!!this._config.backdrop;return new TI({className:B1,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new SI({trapElement:this._element})}_addEventListeners(){ue.on(this._element,G1,e=>{if(e.key===F1){if(this._config.keyboard){this.hide();return}ue.trigger(this._element,BE)}})}static jQueryInterface(e){return this.each(function(){const t=kI.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ue.on(document,K1,Q1,function(n){const e=He.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ho(this))return;ue.one(e,NI,()=>{Wl(this)&&this.focus()});const t=He.findOne(bI);t&&t!==e&&Rl.getInstance(t).hide(),Rl.getOrCreateInstance(e).toggle(this)});ue.on(window,j1,()=>{for(const n of He.find(bI))Rl.getOrCreateInstance(n).show()});ue.on(window,q1,()=>{for(const n of He.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Rl.getOrCreateInstance(n).hide()});Sh(Rl);Wr(Rl);const J1=/^aria-[\w-]*$/i,PI={"*":["class","dir","id","lang","role",J1],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Z1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),eO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,tO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?Z1.has(t)?!!eO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function nO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const s=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...s.body.querySelectorAll("*"));for(const l of a){const d=l.nodeName.toLowerCase();if(!Object.keys(e).includes(d)){l.remove();continue}const h=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[d]||[]);for(const g of h)tO(g,p)||l.removeAttribute(g.nodeName)}return s.body.innerHTML}const rO="TemplateFactory",iO={allowList:PI,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},sO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},oO={entry:"(string|element|function|null)",selector:"(string|element)"};class aO extends Ic{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return iO}static get DefaultType(){return sO}static get NAME(){return rO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,a]of Object.entries(this._config.content))this._setContent(e,a,s);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},oO)}_setContent(e,t,r){const s=He.findOne(r,e);if(s){if(t=this._resolvePossibleFunction(t),!t){s.remove();return}if(os(t)){this._putElementInTemplate(fo(t),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(t);return}s.textContent=t}}_maybeSanitize(e){return this._config.sanitize?nO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return fr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const lO="tooltip",uO=new Set(["sanitize","allowList","sanitizeFn"]),xm="fade",cO="modal",lf="show",dO=".tooltip-inner",HE=`.${cO}`,zE="hide.bs.modal",Mu="hover",Lm="focus",fO="click",hO="manual",pO="hide",mO="hidden",gO="show",yO="shown",vO="inserted",_O="click",wO="focusin",EO="focusout",TO="mouseenter",SO="mouseleave",IO={AUTO:"auto",TOP:"top",RIGHT:Hr()?"left":"right",BOTTOM:"bottom",LEFT:Hr()?"right":"left"},CO={allowList:PI,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},AO={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Ih=class DI extends ci{constructor(e,t){if(typeof YS>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return CO}static get DefaultType(){return AO}static get NAME(){return lO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ue.off(this._element.closest(HE),zE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ue.trigger(this._element,this.constructor.eventName(gO)),r=(ZS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(s),ue.trigger(this._element,this.constructor.eventName(vO))),this._popper=this._createPopper(s),s.classList.add(lf),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))ue.on(d,"mouseover",Uf);const l=()=>{ue.trigger(this._element,this.constructor.eventName(yO)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ue.trigger(this._element,this.constructor.eventName(pO)).defaultPrevented)return;if(this._getTipElement().classList.remove(lf),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))ue.off(s,"mouseover",Uf);this._activeTrigger[fO]=!1,this._activeTrigger[Lm]=!1,this._activeTrigger[Mu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ue.trigger(this._element,this.constructor.eventName(mO)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(xm,lf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=fP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(xm),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new aO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[dO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xm)}_isShown(){return this.tip&&this.tip.classList.contains(lf)}_createPopper(e){const t=fr(this._config.placement,[this,e,this._element]),r=IO[t.toUpperCase()];return Ay(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return fr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...fr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ue.on(this._element,this.constructor.eventName(_O),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==hO){const r=t===Mu?this.constructor.eventName(TO):this.constructor.eventName(wO),s=t===Mu?this.constructor.eventName(SO):this.constructor.eventName(EO);ue.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?Lm:Mu]=!0,l._enter()}),ue.on(this._element,s,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?Lm:Mu]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ue.on(this._element.closest(HE),zE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=as.getDataAttributes(this._element);for(const r of Object.keys(t))uO.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:fo(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=DI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Wr(Ih);const RO="popover",bO=".popover-header",NO=".popover-body",kO={...Ih.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},PO={...Ih.DefaultType,content:"(null|string|element|function)"};let DO=class OI extends Ih{static get Default(){return kO}static get DefaultType(){return PO}static get NAME(){return RO}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[bO]:this._getTitle(),[NO]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=OI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Wr(DO);const OO="scrollspy",xO="bs.scrollspy",Py=`.${xO}`,LO=".data-api",MO=`activate${Py}`,WE=`click${Py}`,VO=`load${Py}${LO}`,$O="dropdown-item",rl="active",UO='[data-bs-spy="scroll"]',Mm="[href]",jO=".nav, .list-group",qE=".nav-link",FO=".nav-item",BO=".list-group-item",HO=`${qE}, ${FO} > ${qE}, ${BO}`,zO=".dropdown",WO=".dropdown-toggle",qO={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},KO={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ch extends ci{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return qO}static get DefaultType(){return KO}static get NAME(){return OO}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=fo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ue.off(this._config.target,WE),ue.on(this._config.target,WE,Mm,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,s=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:s,behavior:"smooth"});return}r.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},s=(this._rootElement||document.documentElement).scrollTop,a=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const d=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&d){if(r(l),!s)return;continue}!a&&!d&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=He.find(Mm,this._config.target);for(const t of e){if(!t.hash||ho(t))continue;const r=He.findOne(decodeURI(t.hash),this._element);Wl(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(rl),this._activateParents(e),ue.trigger(this._element,MO,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains($O)){He.findOne(WO,e.closest(zO)).classList.add(rl);return}for(const t of He.parents(e,jO))for(const r of He.prev(t,HO))r.classList.add(rl)}_clearActiveClass(e){e.classList.remove(rl);const t=He.find(`${Mm}.${rl}`,e);for(const r of t)r.classList.remove(rl)}static jQueryInterface(e){return this.each(function(){const t=Ch.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ue.on(window,VO,()=>{for(const n of He.find(UO))Ch.getOrCreateInstance(n)});Wr(Ch);const GO="tab",QO="bs.tab",ma=`.${QO}`,YO=`hide${ma}`,XO=`hidden${ma}`,JO=`show${ma}`,ZO=`shown${ma}`,ex=`click${ma}`,tx=`keydown${ma}`,nx=`load${ma}`,rx="ArrowLeft",KE="ArrowRight",ix="ArrowUp",GE="ArrowDown",Vm="Home",QE="End",Jo="active",YE="fade",$m="show",sx="dropdown",xI=".dropdown-toggle",ox=".dropdown-menu",Um=`:not(${xI})`,ax='.list-group, .nav, [role="tablist"]',lx=".nav-item, .list-group-item",ux=`.nav-link${Um}, .list-group-item${Um}, [role="tab"]${Um}`,LI='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jm=`${ux}, ${LI}`,cx=`.${Jo}[data-bs-toggle="tab"], .${Jo}[data-bs-toggle="pill"], .${Jo}[data-bs-toggle="list"]`;class bl extends ci{constructor(e){super(e),this._parent=this._element.closest(ax),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ue.on(this._element,tx,t=>this._keydown(t)))}static get NAME(){return GO}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ue.trigger(t,YO,{relatedTarget:e}):null;ue.trigger(e,JO,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Jo),this._activate(He.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add($m);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ue.trigger(e,ZO,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(YE))}_deactivate(e,t){if(!e)return;e.classList.remove(Jo),e.blur(),this._deactivate(He.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove($m);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ue.trigger(e,XO,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(YE))}_keydown(e){if(![rx,KE,ix,GE,Vm,QE].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(s=>!ho(s));let r;if([Vm,QE].includes(e.key))r=t[e.key===Vm?0:t.length-1];else{const s=[KE,GE].includes(e.key);r=Ry(t,e.target,s,!0)}r&&(r.focus({preventScroll:!0}),bl.getOrCreateInstance(r).show())}_getChildren(){return He.find(jm,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=He.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(sx))return;const s=(a,l)=>{const d=He.findOne(a,r);d&&d.classList.toggle(l,t)};s(xI,Jo),s(ox,$m),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Jo)}_getInnerElement(e){return e.matches(jm)?e:He.findOne(jm,e)}_getOuterElement(e){return e.closest(lx)||e}static jQueryInterface(e){return this.each(function(){const t=bl.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ue.on(document,ex,LI,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!ho(this)&&bl.getOrCreateInstance(this).show()});ue.on(window,nx,()=>{for(const n of He.find(cx))bl.getOrCreateInstance(n)});Wr(bl);const dx="toast",fx="bs.toast",So=`.${fx}`,hx=`mouseover${So}`,px=`mouseout${So}`,mx=`focusin${So}`,gx=`focusout${So}`,yx=`hide${So}`,vx=`hidden${So}`,_x=`show${So}`,wx=`shown${So}`,Ex="fade",XE="hide",uf="show",cf="showing",Tx={animation:"boolean",autohide:"boolean",delay:"number"},Sx={animation:!0,autohide:!0,delay:5e3};class Ah extends ci{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Sx}static get DefaultType(){return Tx}static get NAME(){return dx}show(){if(ue.trigger(this._element,_x).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Ex);const t=()=>{this._element.classList.remove(cf),ue.trigger(this._element,wx),this._maybeScheduleHide()};this._element.classList.remove(XE),Sc(this._element),this._element.classList.add(uf,cf),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ue.trigger(this._element,yx).defaultPrevented)return;const t=()=>{this._element.classList.add(XE),this._element.classList.remove(cf,uf),ue.trigger(this._element,vx)};this._element.classList.add(cf),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(uf),super.dispose()}isShown(){return this._element.classList.contains(uf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ue.on(this._element,hx,e=>this._onInteraction(e,!0)),ue.on(this._element,px,e=>this._onInteraction(e,!1)),ue.on(this._element,mx,e=>this._onInteraction(e,!0)),ue.on(this._element,gx,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Ah.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Sh(Ah);Wr(Ah);var Fm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var JE;function Ix(){return JE||(JE=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var d=arguments[l];d&&(a=s(a,r(d)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var d in a)e.call(a,d)&&a[d]&&(l=s(l,d));return l}function s(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Fm)),Fm.exports}var Cx=Ix();const ge=wc(Cx);function Sg(){return Sg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sg.apply(null,arguments)}function MI(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function ZE(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function Ax(n){var e=Rx(n,"string");return typeof e=="symbol"?e:String(e)}function Rx(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function VI(n,e,t){var r=w.useRef(n!==void 0),s=w.useState(e),a=s[0],l=s[1],d=n!==void 0,h=r.current;return r.current=d,!d&&h&&a!==e&&l(e),[d?n:a,w.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function Gl(n,e){return Object.keys(e).reduce(function(t,r){var s,a=t,l=a[ZE(r)],d=a[r],h=MI(a,[ZE(r),r].map(Ax)),p=e[r],g=VI(d,l,n[p]),_=g[0],T=g[1];return Sg({},h,(s={},s[r]=_,s[p]=T,s))},n)}function Ig(n,e){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ig(n,e)}function bx(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ig(n,e)}var Bm={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function Nx(){if(e0)return Vu;e0=1;var n=dy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var g,_={},T=null,C=null;p!==void 0&&(T=""+p),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(C=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(_[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:d,key:T,ref:C,props:_,_owner:s.current}}return Vu.Fragment=t,Vu.jsx=l,Vu.jsxs=l,Vu}var t0;function kx(){return t0||(t0=1,Bm.exports=Nx()),Bm.exports}var Dy=kx();const A=Dy.jsx,_e=Dy.jsxs,Vt=Dy.Fragment,Px=["xxl","xl","lg","md","sm","xs"],Dx="xs",Ac=w.createContext({prefixes:{},breakpoints:Px,minBreakpoint:Dx}),{Consumer:S3,Provider:I3}=Ac;function Se(n,e){const{prefixes:t}=w.useContext(Ac);return n||t[e]||e}function $I(){const{breakpoints:n}=w.useContext(Ac);return n}function UI(){const{minBreakpoint:n}=w.useContext(Ac);return n}function Rc(){const{dir:n}=w.useContext(Ac);return n==="rtl"}function Ql(n){return n&&n.ownerDocument||document}function Ox(n){var e=Ql(n);return e&&e.defaultView||window}function xx(n,e){return Ox(n).getComputedStyle(n,e)}var Lx=/([A-Z])/g;function Mx(n){return n.replace(Lx,"-$1").toLowerCase()}var Vx=/^ms-/;function df(n){return Mx(n).replace(Vx,"-ms-")}var $x=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ux(n){return!!(n&&$x.test(n))}function ls(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(df(e))||xx(n).getPropertyValue(df(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?n.style.removeProperty(df(s)):Ux(s)?r+=s+"("+a+") ":t+=df(s)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var Hm={exports:{}},zm,n0;function jx(){if(n0)return zm;n0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zm=n,zm}var Wm,r0;function Fx(){if(r0)return Wm;r0=1;var n=jx();function e(){}function t(){}return t.resetWarningCache=e,Wm=function(){function r(l,d,h,p,g,_){if(_!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Wm}var i0;function Bx(){return i0||(i0=1,Hm.exports=Fx()()),Hm.exports}var Hx=Bx();const Qn=wc(Hx);var jI=kS();const to=wc(jI),zx=NS({__proto__:null,default:to},[jI]),s0={disabled:!1},FI=kn.createContext(null);var Wx=function(e){return e.scrollTop},zu="unmounted",Xs="exited",si="entering",Zi="entered",sc="exiting",_s=function(n){bx(e,n);function e(r,s){var a;a=n.call(this,r,s)||this;var l=s,d=l&&!l.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?d?(h=Xs,a.appearStatus=si):h=Zi:r.unmountOnExit||r.mountOnEnter?h=zu:h=Xs,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===zu?{status:Xs}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==si&&l!==Zi&&(a=si):(l===si||l===Zi)&&(a=sc)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,a,l,d;return a=l=d=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,d=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:d}},t.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===si){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this);l&&Wx(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xs&&this.setState({status:zu})},t.performEnter=function(s){var a=this,l=this.props.enter,d=this.context?this.context.isMounting:s,h=this.props.nodeRef?[d]:[to.findDOMNode(this),d],p=h[0],g=h[1],_=this.getTimeouts(),T=d?_.appear:_.enter;if(!s&&!l||s0.disabled){this.safeSetState({status:Zi},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:si},function(){a.props.onEntering(p,g),a.onTransitionEnd(T,function(){a.safeSetState({status:Zi},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),d=this.props.nodeRef?void 0:to.findDOMNode(this);if(!a||s0.disabled){this.safeSetState({status:Xs},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:sc},function(){s.props.onExiting(d),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:Xs},function(){s.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},t.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(d){l&&(l=!1,a.nextCallback=null,s(d))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!l||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=h[0],g=h[1];this.props.addEndListener(p,g)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===zu)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var d=MI(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kn.createElement(FI.Provider,{value:null},typeof l=="function"?l(s,d):kn.cloneElement(kn.Children.only(l),d))},e}(kn.Component);_s.contextType=FI;_s.propTypes={};function il(){}_s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:il,onEntering:il,onEntered:il,onExit:il,onExiting:il,onExited:il};_s.UNMOUNTED=zu;_s.EXITED=Xs;_s.ENTERING=si;_s.ENTERED=Zi;_s.EXITING=sc;function BI(n){return n.code==="Escape"||n.keyCode===27}function qx(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function ga(n){if(!n||typeof n=="function")return null;const{major:e}=qx();return e>=19?n.props.ref:n.ref}const Yl=!!(typeof window<"u"&&window.document&&window.document.createElement);var Cg=!1,Ag=!1;try{var qm={get passive(){return Cg=!0},get once(){return Ag=Cg=!0}};Yl&&(window.addEventListener("test",qm,qm),window.removeEventListener("test",qm,!0))}catch{}function Oy(n,e,t,r){if(r&&typeof r!="boolean"&&!Ag){var s=r.once,a=r.capture,l=t;!Ag&&s&&(l=t.__once||function d(h){this.removeEventListener(e,d,a),t.call(this,h)},t.__once=l),n.addEventListener(e,l,Cg?r:a)}n.addEventListener(e,t,r)}function Rg(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function ts(n,e,t,r){return Oy(n,e,t,r),function(){Rg(n,e,t,r)}}function Kx(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function Gx(n){var e=ls(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Qx(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||Kx(n,"transitionend",!0)},e+t),a=ts(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function HI(n,e,t,r){t==null&&(t=Gx(n)||0);var s=Qx(n,t,r),a=ts(n,"transitionend",e);return function(){s(),a()}}function o0(n,e){const t=ls(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Rh(n,e){const t=o0(n,"transitionDuration"),r=o0(n,"transitionDelay"),s=HI(n,a=>{a.target===n&&(s(),e(a))},t+r)}function $u(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function xy(n){n.offsetHeight}const a0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function Yx(n,e){const t=a0(n),r=a0(e);return s=>{t&&t(s),r&&r(s)}}function Xl(n,e){return w.useMemo(()=>Yx(n,e),[n,e])}function Hf(n){return n&&"setState"in n?to.findDOMNode(n):n??null}const bh=kn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:a,addEndListener:l,children:d,childRef:h,...p},g)=>{const _=w.useRef(null),T=Xl(_,h),C=J=>{T(Hf(J))},k=J=>S=>{J&&_.current&&J(_.current,S)},O=w.useCallback(k(n),[n]),b=w.useCallback(k(e),[e]),F=w.useCallback(k(t),[t]),$=w.useCallback(k(r),[r]),W=w.useCallback(k(s),[s]),q=w.useCallback(k(a),[a]),Z=w.useCallback(k(l),[l]);return A(_s,{ref:g,...p,onEnter:O,onEntered:F,onEntering:b,onExit:$,onExited:q,onExiting:W,addEndListener:Z,nodeRef:_,children:typeof d=="function"?(J,S)=>d(J,{...S,ref:C}):kn.cloneElement(d,{ref:C})})}),Xx={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Jx(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],s=Xx[n];return r+parseInt(ls(e,s[0]),10)+parseInt(ls(e,s[1]),10)}const Zx={[Xs]:"collapse",[sc]:"collapsing",[si]:"collapsing",[Zi]:"collapse show"},zI=kn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,className:a,children:l,dimension:d="height",in:h=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:T=!1,getDimensionValue:C=Jx,...k},O)=>{const b=typeof d=="function"?d():d,F=w.useMemo(()=>$u(J=>{J.style[b]="0"},n),[b,n]),$=w.useMemo(()=>$u(J=>{const S=`scroll${b[0].toUpperCase()}${b.slice(1)}`;J.style[b]=`${J[S]}px`},e),[b,e]),W=w.useMemo(()=>$u(J=>{J.style[b]=null},t),[b,t]),q=w.useMemo(()=>$u(J=>{J.style[b]=`${C(b,J)}px`,xy(J)},r),[r,C,b]),Z=w.useMemo(()=>$u(J=>{J.style[b]=null},s),[b,s]);return A(bh,{ref:O,addEndListener:Rh,...k,"aria-expanded":k.role?h:null,onEnter:F,onEntering:$,onEntered:W,onExit:q,onExiting:Z,childRef:ga(l),in:h,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:T,children:(J,S)=>kn.cloneElement(l,{...S,className:ge(a,l.props.className,Zx[J],b==="width"&&"collapse-horizontal")})})});function WI(n,e){return Array.isArray(n)?n.includes(e):n===e}const bc=w.createContext({});bc.displayName="AccordionContext";const Ly=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:s,...a},l)=>{const{activeEventKey:d}=w.useContext(bc);return e=Se(e,"accordion-collapse"),A(zI,{ref:l,in:WI(d,s),...a,className:ge(t,e),children:A(n,{children:w.Children.only(r)})})});Ly.displayName="AccordionCollapse";const Nh=w.createContext({eventKey:""});Nh.displayName="AccordionItemContext";const qI=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:s,onEntered:a,onExit:l,onExiting:d,onExited:h,...p},g)=>{e=Se(e,"accordion-body");const{eventKey:_}=w.useContext(Nh);return A(Ly,{eventKey:_,onEnter:r,onEntering:s,onEntered:a,onExit:l,onExiting:d,onExited:h,children:A(n,{ref:g,...p,className:ge(t,e)})})});qI.displayName="AccordionBody";function eL(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:s}=w.useContext(bc);return a=>{let l=n===t?null:n;s&&(Array.isArray(t)?t.includes(n)?l=t.filter(d=>d!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const My=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...s},a)=>{e=Se(e,"accordion-button");const{eventKey:l}=w.useContext(Nh),d=eL(l,r),{activeEventKey:h}=w.useContext(bc);return n==="button"&&(s.type="button"),A(n,{ref:a,onClick:d,...s,"aria-expanded":Array.isArray(h)?h.includes(l):l===h,className:ge(t,e,!WI(h,l)&&"collapsed")})});My.displayName="AccordionButton";const KI=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:s,onClick:a,...l},d)=>(t=Se(t,"accordion-header"),A(n,{ref:d,...l,className:ge(r,t),children:A(My,{onClick:a,"aria-controls":e,children:s})})));KI.displayName="AccordionHeader";const GI=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...s},a)=>{e=Se(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return A(Nh.Provider,{value:l,children:A(n,{ref:a,...s,className:ge(t,e)})})});GI.displayName="AccordionItem";const QI=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:s,className:a,onSelect:l,flush:d,alwaysOpen:h,...p}=Gl(n,{activeKey:"onSelect"}),g=Se(s,"accordion"),_=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:h}),[r,l,h]);return A(bc.Provider,{value:_,children:A(t,{ref:e,...p,className:ge(a,g,d&&`${g}-flush`)})})});QI.displayName="Accordion";const no=Object.assign(QI,{Button:My,Collapse:Ly,Item:GI,Header:KI,Body:qI});function YI(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function ui(n){const e=YI(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Nc=n=>w.forwardRef((e,t)=>A("div",{...e,ref:t,className:ge(e.className,n)})),XI=Nc("h4");XI.displayName="DivStyledAsH4";const JI=w.forwardRef(({className:n,bsPrefix:e,as:t=XI,...r},s)=>(e=Se(e,"alert-heading"),A(t,{ref:s,className:ge(n,e),...r})));JI.displayName="AlertHeading";function bg(){return w.useState(null)}function tL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function bn(n){const e=tL(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function nL(n,e,t,r=!1){const s=bn(t);w.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,s,r),()=>a.removeEventListener(e,s,r)},[n])}function ZI(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function eC(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const rL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",iL=typeof document<"u",l0=iL||rL?w.useLayoutEffect:w.useEffect,sL=["as","disabled"];function oL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function aL(n){return!n||n.trim()==="#"}function Vy({tagName:n,disabled:e,href:t,target:r,rel:s,role:a,onClick:l,tabIndex:d=0,type:h}){n||(t!=null||r!=null||s!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&aL(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:g,onKeyDown:_},p]}const $y=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=oL(n,sL);const[a,{tagName:l}]=Vy(Object.assign({tagName:t,disabled:r},s));return A(l,Object.assign({},s,a,{ref:e}))});$y.displayName="Button";const lL=["onKeyDown"];function uL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function cL(n){return!n||n.trim()==="#"}const Nl=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=uL(n,lL);const[s]=Vy(Object.assign({tagName:"a"},r)),a=bn(l=>{s.onKeyDown(l),t==null||t(l)});return cL(r.href)||r.role==="button"?A("a",Object.assign({ref:e},r,s,{onKeyDown:a})):A("a",Object.assign({ref:e},r,{onKeyDown:t}))});Nl.displayName="Anchor";const tC=w.forwardRef(({className:n,bsPrefix:e,as:t=Nl,...r},s)=>(e=Se(e,"alert-link"),A(t,{ref:s,className:ge(n,e),...r})));tC.displayName="AlertLink";const dL={[si]:"show",[Zi]:"show"},po=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=w.useCallback((h,p)=>{xy(h),r==null||r(h,p)},[r]);return A(bh,{ref:a,addEndListener:Rh,...l,onEnter:d,childRef:ga(e),children:(h,p)=>w.cloneElement(e,{...p,className:ge("fade",n,e.props.className,dL[h],t[h])})})});po.displayName="Fade";const fL={"aria-label":Qn.string,onClick:Qn.func,variant:Qn.oneOf(["white"])},kc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>A("button",{ref:s,type:"button",className:ge("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));kc.displayName="CloseButton";kc.propTypes=fL;const nC=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:s="Close alert",closeVariant:a,className:l,children:d,variant:h="primary",onClose:p,dismissible:g,transition:_=po,...T}=Gl(n,{show:"onClose"}),C=Se(t,"alert"),k=ui(F=>{p&&p(!1,F)}),O=_===!0?po:_,b=_e("div",{role:"alert",...O?void 0:T,ref:e,className:ge(l,C,h&&`${C}-${h}`,g&&`${C}-dismissible`),children:[g&&A(kc,{onClick:k,"aria-label":s,variant:a}),d]});return O?A(O,{unmountOnExit:!0,...T,ref:void 0,in:r,children:b}):r?b:null});nC.displayName="Alert";const kl=Object.assign(nC,{Link:tC,Heading:JI}),on=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:a=!1,className:l,...d},h)=>{const p=Se(e,"btn"),[g,{tagName:_}]=Vy({tagName:n,disabled:a,...d});return A(_,{...g,...d,ref:h,disabled:a,className:ge(l,p,s&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,d.href&&a&&"disabled")})});on.displayName="Button";const Uy=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-body"),A(t,{ref:s,className:ge(n,e),...r})));Uy.displayName="CardBody";const rC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-footer"),A(t,{ref:s,className:ge(n,e),...r})));rC.displayName="CardFooter";const jy=w.createContext(null);jy.displayName="CardHeaderContext";const iC=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Se(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return A(jy.Provider,{value:l,children:A(t,{ref:s,...r,className:ge(e,a)})})});iC.displayName="CardHeader";const sC=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...s},a)=>{const l=Se(n,"card-img");return A(r,{ref:a,className:ge(t?`${l}-${t}`:l,e),...s})});sC.displayName="CardImg";const oC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"card-img-overlay"),A(t,{ref:s,className:ge(n,e),...r})));oC.displayName="CardImgOverlay";const aC=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},s)=>(e=Se(e,"card-link"),A(t,{ref:s,className:ge(n,e),...r})));aC.displayName="CardLink";const hL=Nc("h6"),lC=w.forwardRef(({className:n,bsPrefix:e,as:t=hL,...r},s)=>(e=Se(e,"card-subtitle"),A(t,{ref:s,className:ge(n,e),...r})));lC.displayName="CardSubtitle";const uC=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},s)=>(e=Se(e,"card-text"),A(t,{ref:s,className:ge(n,e),...r})));uC.displayName="CardText";const pL=Nc("h5"),cC=w.forwardRef(({className:n,bsPrefix:e,as:t=pL,...r},s)=>(e=Se(e,"card-title"),A(t,{ref:s,className:ge(n,e),...r})));cC.displayName="CardTitle";const dC=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:s,body:a=!1,children:l,as:d="div",...h},p)=>{const g=Se(n,"card");return A(d,{ref:p,...h,className:ge(e,g,t&&`bg-${t}`,r&&`text-${r}`,s&&`border-${s}`),children:a?A(Uy,{children:l}):l})});dC.displayName="Card";const sl=Object.assign(dC,{Img:sC,Title:cC,Subtitle:lC,Body:Uy,Link:aC,Text:uC,Header:iC,Footer:rC,ImgOverlay:oC});function mL(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function gL(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function yL(n){const e=w.useRef(n);return e.current=n,e}function fC(n){const e=yL(n);w.useEffect(()=>()=>e.current(),[])}const Ng=2**31-1;function hC(n,e,t){const r=t-Date.now();n.current=r<=Ng?setTimeout(e,r):setTimeout(()=>hC(n,e,t),Ng)}function pC(){const n=gL(),e=w.useRef();return fC(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(s,a=0){n()&&(t(),a<=Ng?e.current=setTimeout(s,a):hC(e,s,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const mC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"carousel-caption"),A(t,{ref:s,className:ge(n,e),...r})));mC.displayName="CarouselCaption";const gC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},s)=>{const a=ge(t,Se(e,"carousel-item"));return A(n,{ref:s,...r,className:a})});gC.displayName="CarouselItem";function u0(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function vL(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function _L(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const wL=40;function EL(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const yC=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:s,slide:a=!0,fade:l=!1,controls:d=!0,indicators:h=!0,indicatorLabels:p=[],activeIndex:g,onSelect:_,onSlide:T,onSlid:C,interval:k=5e3,keyboard:O=!0,onKeyDown:b,pause:F="hover",onMouseOver:$,onMouseOut:W,wrap:q=!0,touch:Z=!0,onTouchStart:J,onTouchMove:S,onTouchEnd:R,prevIcon:P=A("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:x="Previous",nextIcon:L=A("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:D,className:we,children:xe,...Fe}=Gl({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Ne=Se(s,"carousel"),ne=Rc(),pe=w.useRef(null),[ae,B]=w.useState("next"),[ee,he]=w.useState(!1),[ye,Te]=w.useState(!1),[Ae,qe]=w.useState(g||0);w.useEffect(()=>{!ye&&g!==Ae&&(pe.current?B(pe.current):B((g||0)>Ae?"next":"prev"),a&&Te(!0),qe(g||0))},[g,ye,Ae,a]),w.useEffect(()=>{pe.current&&(pe.current=null)});let Ue=0,st;vL(xe,(Be,ot)=>{++Ue,ot===g&&(st=Be.props.interval)});const Et=YI(st),It=w.useCallback(Be=>{if(ye)return;let ot=Ae-1;if(ot<0){if(!q)return;ot=Ue-1}pe.current="prev",_==null||_(ot,Be)},[ye,Ae,_,q,Ue]),it=ui(Be=>{if(ye)return;let ot=Ae+1;if(ot>=Ue){if(!q)return;ot=0}pe.current="next",_==null||_(ot,Be)}),kt=w.useRef();w.useImperativeHandle(t,()=>({element:kt.current,prev:It,next:it}));const Kt=ui(()=>{!document.hidden&&EL(kt.current)&&(ne?It():it())}),rt=ae==="next"?"start":"end";mL(()=>{a||(T==null||T(Ae,rt),C==null||C(Ae,rt))},[Ae]);const Ft=`${Ne}-item-${ae}`,pn=`${Ne}-item-${rt}`,br=w.useCallback(Be=>{xy(Be),T==null||T(Ae,rt)},[T,Ae,rt]),Hn=w.useCallback(()=>{Te(!1),C==null||C(Ae,rt)},[C,Ae,rt]),Bt=w.useCallback(Be=>{if(O&&!/input|textarea/i.test(Be.target.tagName))switch(Be.key){case"ArrowLeft":Be.preventDefault(),ne?it(Be):It(Be);return;case"ArrowRight":Be.preventDefault(),ne?It(Be):it(Be);return}b==null||b(Be)},[O,b,It,it,ne]),Zt=w.useCallback(Be=>{F==="hover"&&he(!0),$==null||$(Be)},[F,$]),Jn=w.useCallback(Be=>{he(!1),W==null||W(Be)},[W]),Dn=w.useRef(0),Dt=w.useRef(0),an=pC(),$e=w.useCallback(Be=>{Dn.current=Be.touches[0].clientX,Dt.current=0,F==="hover"&&he(!0),J==null||J(Be)},[F,J]),mt=w.useCallback(Be=>{Be.touches&&Be.touches.length>1?Dt.current=0:Dt.current=Be.touches[0].clientX-Dn.current,S==null||S(Be)},[S]),Ot=w.useCallback(Be=>{if(Z){const ot=Dt.current;Math.abs(ot)>wL&&(ot>0?It(Be):it(Be))}F==="hover"&&an.set(()=>{he(!1)},k||void 0),R==null||R(Be)},[Z,F,It,it,an,k,R]),mn=k!=null&&!ee&&!ye,zn=w.useRef();w.useEffect(()=>{var Be,ot;if(!mn)return;const gn=ne?It:it;return zn.current=window.setInterval(document.visibilityState?Kt:gn,(Be=(ot=Et.current)!=null?ot:k)!=null?Be:void 0),()=>{zn.current!==null&&clearInterval(zn.current)}},[mn,It,it,Et,k,Kt,ne]);const Wn=w.useMemo(()=>h&&Array.from({length:Ue},(Be,ot)=>gn=>{_==null||_(ot,gn)}),[h,Ue,_]);return _e(r,{ref:kt,...Fe,onKeyDown:Bt,onMouseOver:Zt,onMouseOut:Jn,onTouchStart:$e,onTouchMove:mt,onTouchEnd:Ot,className:ge(we,Ne,a&&"slide",l&&`${Ne}-fade`,D&&`${Ne}-${D}`),children:[h&&A("div",{className:`${Ne}-indicators`,children:u0(xe,(Be,ot)=>A("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[ot]:`Slide ${ot+1}`,className:ot===Ae?"active":void 0,onClick:Wn?Wn[ot]:void 0,"aria-current":ot===Ae},ot))}),A("div",{className:`${Ne}-inner`,children:u0(xe,(Be,ot)=>{const gn=ot===Ae;return a?A(bh,{in:gn,onEnter:gn?br:void 0,onEntered:gn?Hn:void 0,addEndListener:Rh,children:(Zn,di)=>w.cloneElement(Be,{...di,className:ge(Be.props.className,gn&&Zn!=="entered"&&Ft,(Zn==="entered"||Zn==="exiting")&&"active",(Zn==="entering"||Zn==="exiting")&&pn)})}):w.cloneElement(Be,{className:ge(Be.props.className,gn&&"active")})})}),d&&_e(Vt,{children:[(q||g!==0)&&_e(Nl,{className:`${Ne}-control-prev`,onClick:It,children:[P,x&&A("span",{className:"visually-hidden",children:x})]}),(q||g!==Ue-1)&&_e(Nl,{className:`${Ne}-control-next`,onClick:it,children:[L,V&&A("span",{className:"visually-hidden",children:V})]})]})]})});yC.displayName="Carousel";const c0=Object.assign(yC,{Caption:mC,Item:gC});function TL({as:n,bsPrefix:e,className:t,...r}){e=Se(e,"col");const s=$I(),a=UI(),l=[],d=[];return s.forEach(h=>{const p=r[h];delete r[h];let g,_,T;typeof p=="object"&&p!=null?{span:g,offset:_,order:T}=p:g=p;const C=h!==a?`-${h}`:"";g&&l.push(g===!0?`${e}${C}`:`${e}${C}-${g}`),T!=null&&d.push(`order${C}-${T}`),_!=null&&d.push(`offset${C}-${_}`)}),[{...r,className:ge(t,...l,...d)},{as:n,bsPrefix:e,spans:l}]}const Pl=w.forwardRef((n,e)=>{const[{className:t,...r},{as:s="div",bsPrefix:a,spans:l}]=TL(n);return A(s,{...r,ref:e,className:ge(t,!l.length&&a)})});Pl.displayName="Col";const Pc=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...s},a)=>{const l=Se(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return A(t,{ref:a,...s,className:ge(r,e?`${l}${d}`:l)})});Pc.displayName="Container";var SL=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ji(n,e){return SL(n.querySelectorAll(e))}function IL(n,e,t){const r=w.useRef(n!==void 0),[s,a]=w.useState(e),l=n!==void 0,d=r.current;return r.current=l,!l&&d&&s!==e&&a(e),[l?n:s,w.useCallback((...h)=>{const[p,...g]=h;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function vC(){const[,n]=w.useReducer(e=>e+1,0);return n}const kh=w.createContext(null);var d0=Object.prototype.hasOwnProperty;function f0(n,e,t){for(t of n.keys())if(Zu(t,e))return t}function Zu(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Zu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=f0(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=f0(e,s),!s)||!Zu(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(d0.call(n,t)&&++r&&!d0.call(e,t)||!(t in e)||!Zu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function CL(n){const e=ZI();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const AL=Tc({defaultModifiers:[Sy,Th,wh,Eh,Iy,Ty,Cy,vy]}),RL=["enabled","placement","strategy","modifiers"];function bL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const NL={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},kL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,s=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&s==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},PL=[];function _C(n,e,t={}){let{enabled:r=!0,placement:s="bottom",strategy:a="absolute",modifiers:l=PL}=t,d=bL(t,RL);const h=w.useRef(l),p=w.useRef(),g=w.useCallback(()=>{var b;(b=p.current)==null||b.update()},[]),_=w.useCallback(()=>{var b;(b=p.current)==null||b.forceUpdate()},[]),[T,C]=CL(w.useState({placement:s,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),k=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const F={},$={};Object.keys(b.elements).forEach(W=>{F[W]=b.styles[W],$[W]=b.attributes[W]}),C({state:b,styles:F,attributes:$,update:g,forceUpdate:_,placement:b.placement})}}),[g,_,C]),O=w.useMemo(()=>(Zu(h.current,l)||(h.current=l),h.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:s,strategy:a,modifiers:[...O,k,NL]})},[a,s,k,r,O]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=AL(n,e,Object.assign({},d,{placement:s,strategy:a,modifiers:[...O,kL,k]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,C(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function oc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Km,h0;function DL(){if(h0)return Km;h0=1;var n=function(){};return Km=n,Km}var OL=DL();const xL=wc(OL),p0=()=>{};function LL(n){return n.button===0}function ML(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Rf=n=>n&&("current"in n?n.current:n),m0={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function wC(n,e=p0,{disabled:t,clickTrigger:r="click"}={}){const s=w.useRef(!1),a=w.useRef(!1),l=w.useCallback(p=>{const g=Rf(n);xL(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!g||ML(p)||!LL(p)||!!oc(g,p.target)||a.current,a.current=!1},[n]),d=bn(p=>{const g=Rf(n);g&&oc(g,p.target)?a.current=!0:a.current=!1}),h=bn(p=>{s.current||e(p)});w.useEffect(()=>{var p,g;if(t||n==null)return;const _=Ql(Rf(n)),T=_.defaultView||window;let C=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,k=null;m0[r]&&(k=ts(_,m0[r],d,!0));const O=ts(_,r,l,!0),b=ts(_,r,$=>{if($===C){C=void 0;return}h($)});let F=[];return"ontouchstart"in _.documentElement&&(F=[].slice.call(_.body.children).map($=>ts($,"mousemove",p0))),()=>{k==null||k(),O(),b(),F.forEach($=>$())}},[n,t,r,l,d,h])}function VL(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function $L(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function EC({enabled:n,enableEvents:e,placement:t,flip:r,offset:s,fixed:a,containerPadding:l,arrowElement:d,popperConfig:h={}}){var p,g,_,T,C;const k=VL(h.modifiers);return Object.assign({},h,{placement:t,enabled:n,strategy:a?"fixed":h.strategy,modifiers:$L(Object.assign({},k,{eventListeners:{enabled:e,options:(p=k.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},k.preventOverflow,{options:l?Object.assign({padding:l},(g=k.preventOverflow)==null?void 0:g.options):(_=k.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:s},(T=k.offset)==null?void 0:T.options)},arrow:Object.assign({},k.arrow,{enabled:!!d,options:Object.assign({},(C=k.arrow)==null?void 0:C.options,{element:d})}),flip:Object.assign({enabled:!!r},k.flip)}))})}const UL=["children","usePopper"];function jL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const FL=()=>{};function TC(n={}){const e=w.useContext(kh),[t,r]=bg(),s=w.useRef(!1),{flip:a,offset:l,rootCloseEvent:d,fixed:h=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,C=(e==null?void 0:e.show)==null?!!n.show:e.show;C&&!s.current&&(s.current=!0);const k=J=>{e==null||e.toggle(!1,J)},{placement:O,setMenu:b,menuElement:F,toggleElement:$}=e||{},W=_C($,F,EC({placement:p||O||"bottom-start",enabled:T,enableEvents:_??C,offset:l,flip:a,fixed:h,arrowElement:t,popperConfig:g})),q=Object.assign({ref:b||FL,"aria-labelledby":$==null?void 0:$.id},W.attributes.popper,{style:W.styles.popper}),Z={show:C,placement:O,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:T?W:null,arrowProps:T?Object.assign({ref:r},W.attributes.arrow,{style:W.styles.arrow}):{}};return wC(F,k,{clickTrigger:d,disabled:!C}),[q,Z]}function SC(n){let{children:e,usePopper:t=!0}=n,r=jL(n,UL);const[s,a]=TC(Object.assign({},r,{usePopper:t}));return A(Vt,{children:e(s,a)})}SC.displayName="DropdownMenu";const Fy={prefix:String(Math.round(Math.random()*1e10)),current:0},IC=kn.createContext(Fy),BL=kn.createContext(!1);let HL=!!(typeof window<"u"&&window.document&&window.document.createElement),Gm=new WeakMap;function zL(n=!1){let e=w.useContext(IC),t=w.useRef(null);if(t.current===null&&!n){var r,s;let a=(s=kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=Gm.get(a);l==null?Gm.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,Gm.delete(a))}t.current=++e.current}return t.current}function WL(n){let e=w.useContext(IC);e===Fy&&!HL&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=zL(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function qL(n){let e=kn.useId(),[t]=w.useState(XL()),r=t?"react-aria":`react-aria${Fy.prefix}`;return n||`${r}-${e}`}const KL=typeof kn.useId=="function"?qL:WL;function GL(){return!1}function QL(){return!0}function YL(n){return()=>{}}function XL(){return typeof kn.useSyncExternalStore=="function"?kn.useSyncExternalStore(YL,GL,QL):w.useContext(BL)}const CC=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},g0=()=>{};function AC(){const n=KL(),{show:e=!1,toggle:t=g0,setToggle:r,menuElement:s}=w.useContext(kh)||{},a=w.useCallback(d=>{t(!e,d)},[e,t]),l={id:n,ref:r||g0,onClick:a,"aria-expanded":!!e};return s&&CC(s)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function RC({children:n}){const[e,t]=AC();return A(Vt,{children:n(e,t)})}RC.displayName="DropdownToggle";const aa=w.createContext(null),ac=(n,e=null)=>n!=null?String(n):e||null,Ph=w.createContext(null);Ph.displayName="NavContext";const JL="data-rr-ui-",ZL="rrUi";function Jl(n){return`${JL}${n}`}function eM(n){return`${ZL}${n}`}const tM=["eventKey","disabled","onClick","active","as"];function nM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function bC({key:n,href:e,active:t,disabled:r,onClick:s}){const a=w.useContext(aa),l=w.useContext(Ph),{activeKey:d}=l||{},h=ac(n,e),p=t==null&&n!=null?ac(d)===h:t;return[{onClick:bn(_=>{r||(s==null||s(_),a&&!_.isPropagationStopped()&&a(h,_))}),"aria-disabled":r||void 0,"aria-selected":p,[Jl("dropdown-item")]:""},{isActive:p}]}const NC=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:s,active:a,as:l=$y}=n,d=nM(n,tM);const[h]=bC({key:t,href:d.href,disabled:r,onClick:s,active:a});return A(l,Object.assign({},d,{ref:e},h))});NC.displayName="DropdownItem";const kC=w.createContext(Yl?window:void 0);kC.Provider;function Dh(){return w.useContext(kC)}function y0(){const n=vC(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Dc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:s=`* [${Jl("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:d}){const h=Dh(),[p,g]=IL(e,n,r),[_,T]=y0(),C=_.current,[k,O]=y0(),b=k.current,F=eC(p),$=w.useRef(null),W=w.useRef(!1),q=w.useContext(aa),Z=w.useCallback((L,V,D=V==null?void 0:V.type)=>{g(L,{originalEvent:V,source:D})},[g]),J=bn((L,V)=>{t==null||t(L,V),Z(!1,V,"select"),V.isPropagationStopped()||q==null||q(L,V)}),S=w.useMemo(()=>({toggle:Z,placement:l,show:p,menuElement:C,toggleElement:b,setMenu:T,setToggle:O}),[Z,l,p,C,b,T,O]);C&&F&&!p&&(W.current=C.contains(C.ownerDocument.activeElement));const R=bn(()=>{b&&b.focus&&b.focus()}),P=bn(()=>{const L=$.current;let V=a;if(V==null&&(V=_.current&&CC(_.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(L))return;const D=Ji(_.current,s)[0];D&&D.focus&&D.focus()});w.useEffect(()=>{p?P():W.current&&(W.current=!1,R())},[p,W,R,P]),w.useEffect(()=>{$.current=null});const x=(L,V)=>{if(!_.current)return null;const D=Ji(_.current,s);let we=D.indexOf(L)+V;return we=Math.max(0,Math.min(we,D.length)),D[we]};return nL(w.useCallback(()=>h.document,[h]),"keydown",L=>{var V,D;const{key:we}=L,xe=L.target,Fe=(V=_.current)==null?void 0:V.contains(xe),Ne=(D=k.current)==null?void 0:D.contains(xe);if(/input|textarea/i.test(xe.tagName)&&(we===" "||we!=="Escape"&&Fe||we==="Escape"&&xe.type==="search")||!Fe&&!Ne||we==="Tab"&&(!_.current||!p))return;$.current=L.type;const pe={originalEvent:L,source:L.type};switch(we){case"ArrowUp":{const ae=x(xe,-1);ae&&ae.focus&&ae.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!p)g(!0,pe);else{const ae=x(xe,1);ae&&ae.focus&&ae.focus()}return;case"Tab":Oy(xe.ownerDocument,"keyup",ae=>{var B;(ae.key==="Tab"&&!ae.target||!((B=_.current)!=null&&B.contains(ae.target)))&&g(!1,pe)},{once:!0});break;case"Escape":we==="Escape"&&(L.preventDefault(),L.stopPropagation()),g(!1,pe);break}}),A(aa.Provider,{value:J,children:A(kh.Provider,{value:S,children:d})})}Dc.displayName="Dropdown";Dc.Menu=SC;Dc.Toggle=RC;Dc.Item=NC;const By=w.createContext({});By.displayName="DropdownContext";const PC=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...s},a)=>(e=Se(e,"dropdown-divider"),A(t,{ref:a,className:ge(n,e),role:r,...s})));PC.displayName="DropdownDivider";const DC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...s},a)=>(e=Se(e,"dropdown-header"),A(t,{ref:a,className:ge(n,e),role:r,...s})));DC.displayName="DropdownHeader";const OC=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:s,active:a,as:l=Nl,...d},h)=>{const p=Se(n,"dropdown-item"),[g,_]=bC({key:t,href:d.href,disabled:r,onClick:s,active:a});return A(l,{...d,...g,ref:h,className:ge(e,p,_.isActive&&"active",r&&"disabled")})});OC.displayName="DropdownItem";const xC=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Se(e,"dropdown-item-text"),A(t,{ref:s,className:ge(n,e),...r})));xC.displayName="DropdownItemText";const rM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",iM=typeof document<"u",Hy=iM||rM?w.useLayoutEffect:w.useEffect,zy=w.createContext(null);zy.displayName="InputGroupContext";const ya=w.createContext(null);ya.displayName="NavbarContext";function LC(n,e){return n}function MC(n,e,t){const r=t?"top-end":"top-start",s=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",d=t?"right-start":"left-start",h=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?s:r:e==="end"?_=n?g:p:e==="start"?_=n?h:d:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const VC=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:s=!0,show:a,renderOnMount:l,as:d="div",popperConfig:h,variant:p,...g},_)=>{let T=!1;const C=w.useContext(ya),k=Se(n,"dropdown-menu"),{align:O,drop:b,isRTL:F}=w.useContext(By);t=t||O;const $=w.useContext(zy),W=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const V=L[0],D=t[V];T=D==="start",W.push(`${k}-${V}-${D}`)}}else t==="end"&&(T=!0);const q=MC(T,b,F),[Z,{hasShown:J,popper:S,show:R,toggle:P}]=TC({flip:s,rootCloseEvent:r,show:a,usePopper:!C&&W.length===0,offset:[0,2],popperConfig:h,placement:q});if(Z.ref=Xl(LC(_),Z.ref),Hy(()=>{R&&(S==null||S.update())},[R]),!J&&!l&&!$)return null;typeof d!="string"&&(Z.show=R,Z.close=()=>P==null?void 0:P(!1),Z.align=t);let x=g.style;return S!=null&&S.placement&&(x={...g.style,...Z.style},g["x-placement"]=S.placement),A(d,{...g,...Z,style:x,...(W.length||C)&&{"data-bs-popper":"static"},className:ge(e,k,R&&"show",T&&`${k}-end`,p&&`${k}-${p}`,...W)})});VC.displayName="DropdownMenu";const $C=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:s=on,...a},l)=>{const d=Se(n,"dropdown-toggle"),h=w.useContext(kh);r!==void 0&&(a.bsPrefix=r);const[p]=AC();return p.ref=Xl(p.ref,LC(l)),A(s,{className:ge(t,d,e&&`${d}-split`,(h==null?void 0:h.show)&&"show"),...p,...a})});$C.displayName="DropdownToggle";const UC=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:s,className:a,align:l="start",onSelect:d,onToggle:h,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...C}=Gl(n,{show:"onToggle"}),k=w.useContext(zy),O=Se(t,"dropdown"),b=Rc(),F=S=>T===!1?S==="click":T==="inside"?S!=="rootClose":T==="outside"?S!=="select":!0,$=ui((S,R)=>{var P;!((P=R.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&R.source==="mousedown"||(R.originalEvent.currentTarget===document&&(R.source!=="keydown"||R.originalEvent.key==="Escape")&&(R.source="rootClose"),F(R.source)&&(h==null||h(S,R)))}),q=MC(l==="end",r,b),Z=w.useMemo(()=>({align:l,drop:r,isRTL:b}),[l,r,b]),J={down:O,"down-centered":`${O}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return A(By.Provider,{value:Z,children:A(Dc,{placement:q,show:s,onSelect:d,onToggle:$,focusFirstItemOnShow:p,itemSelector:`.${O}-item:not(.disabled):not(:disabled)`,children:k?C.children:A(g,{...C,ref:e,className:ge(a,s&&"show",J[r])})})})});UC.displayName="Dropdown";const Zo=Object.assign(UC,{Toggle:$C,Menu:VC,Item:OC,ItemText:xC,Divider:PC,Header:DC});Qn.string,Qn.bool,Qn.bool,Qn.bool,Qn.bool;const kg=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:s=!1,thumbnail:a=!1,...l},d)=>(n=Se(n,"img"),A("img",{ref:d,...l,className:ge(e,t&&`${n}-fluid`,r&&"rounded",s&&"rounded-circle",a&&`${n}-thumbnail`)})));kg.displayName="Image";const sM={type:Qn.string,tooltip:Qn.bool,as:Qn.elementType},Oh=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...s},a)=>A(n,{...s,ref:a,className:ge(e,`${t}-${r?"tooltip":"feedback"}`)}));Oh.displayName="Feedback";Oh.propTypes=sM;const fs=w.createContext({}),Wy=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:s=!1,isInvalid:a=!1,as:l="input",...d},h)=>{const{controlId:p}=w.useContext(fs);return e=Se(e,"form-check-input"),A(l,{...d,ref:h,type:r,id:n||p,className:ge(t,e,s&&"is-valid",a&&"is-invalid")})});Wy.displayName="FormCheckInput";const zf=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},s)=>{const{controlId:a}=w.useContext(fs);return n=Se(n,"form-check-label"),A("label",{...r,ref:s,htmlFor:t||a,className:ge(e,n)})});zf.displayName="FormCheckLabel";const jC=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:s=!1,disabled:a=!1,isValid:l=!1,isInvalid:d=!1,feedbackTooltip:h=!1,feedback:p,feedbackType:g,className:_,style:T,title:C="",type:k="checkbox",label:O,children:b,as:F="input",...$},W)=>{e=Se(e,"form-check"),t=Se(t,"form-switch");const{controlId:q}=w.useContext(fs),Z=w.useMemo(()=>({controlId:n||q}),[q,n]),J=!b&&O!=null&&O!==!1||_L(b,zf),S=A(Wy,{...$,type:k==="switch"?"checkbox":k,ref:W,isValid:l,isInvalid:d,disabled:a,as:F});return A(fs.Provider,{value:Z,children:A("div",{style:T,className:ge(_,J&&e,r&&`${e}-inline`,s&&`${e}-reverse`,k==="switch"&&t),children:b||_e(Vt,{children:[S,J&&A(zf,{title:C,children:O}),p&&A(Oh,{type:g,tooltip:h,children:p})]})})})});jC.displayName="FormCheck";const Wf=Object.assign(jC,{Input:Wy,Label:zf}),FC=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:s,className:a,isValid:l=!1,isInvalid:d=!1,plaintext:h,readOnly:p,as:g="input",..._},T)=>{const{controlId:C}=w.useContext(fs);return n=Se(n,"form-control"),A(g,{..._,type:e,size:r,ref:T,readOnly:p,id:s||C,className:ge(a,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",d&&"is-invalid")})});FC.displayName="FormControl";const oM=Object.assign(FC,{Feedback:Oh}),BC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"form-floating"),A(t,{ref:s,className:ge(n,e),...r})));BC.displayName="FormFloating";const qy=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const s=w.useMemo(()=>({controlId:n}),[n]);return A(fs.Provider,{value:s,children:A(e,{...t,ref:r})})});qy.displayName="FormGroup";const HC=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:s,htmlFor:a,...l},d)=>{const{controlId:h}=w.useContext(fs);e=Se(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=ge(s,e,r&&"visually-hidden",t&&p);return a=a||h,t?A(Pl,{ref:d,as:"label",className:g,htmlFor:a,...l}):A(n,{ref:d,className:g,htmlFor:a,...l})});HC.displayName="FormLabel";const zC=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},s)=>{const{controlId:a}=w.useContext(fs);return n=Se(n,"form-range"),A("input",{...r,type:"range",ref:s,className:ge(e,n),id:t||a})});zC.displayName="FormRange";const WC=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:s=!1,isInvalid:a=!1,id:l,...d},h)=>{const{controlId:p}=w.useContext(fs);return n=Se(n,"form-select"),A("select",{...d,size:t,ref:h,className:ge(r,n,e&&`${n}-${e}`,s&&"is-valid",a&&"is-invalid"),id:l||p})});WC.displayName="FormSelect";const qC=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...s},a)=>(n=Se(n,"form-text"),A(t,{...s,ref:a,className:ge(e,n,r&&"text-muted")})));qC.displayName="FormText";const KC=w.forwardRef((n,e)=>A(Wf,{...n,ref:e,type:"switch"}));KC.displayName="Switch";const aM=Object.assign(KC,{Input:Wf.Input,Label:Wf.Label}),Ky=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:s,...a},l)=>(n=Se(n,"form-floating"),_e(qy,{ref:l,className:ge(e,n),controlId:r,...a,children:[t,A("label",{htmlFor:r,children:s})]})));Ky.displayName="FloatingLabel";const lM={_ref:Qn.any,validated:Qn.bool,as:Qn.elementType},Gy=w.forwardRef(({className:n,validated:e,as:t="form",...r},s)=>A(t,{...r,ref:s,className:ge(n,e&&"was-validated")}));Gy.displayName="Form";Gy.propTypes=lM;const Sr=Object.assign(Gy,{Group:qy,Control:oM,Floating:BC,Check:Wf,Switch:aM,Label:HC,Text:qC,Range:zC,Select:WC,FloatingLabel:Ky}),v0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function uM(n,e){const t=v0(n),r=v0(e);return s=>{t&&t(s),r&&r(s)}}function Oc(n,e){return w.useMemo(()=>uM(n,e),[n,e])}const GC=w.createContext(null),cM=["as","active","eventKey"];function dM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function QC({key:n,onClick:e,active:t,id:r,role:s,disabled:a}){const l=w.useContext(aa),d=w.useContext(Ph),h=w.useContext(GC);let p=t;const g={role:s};if(d){!s&&d.role==="tablist"&&(g.role="tab");const _=d.getControllerId(n??null),T=d.getControlledId(n??null);g[Jl("event-key")]=n,g.id=_||r,p=t==null&&n!=null?d.activeKey===n:t,(p||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(g["aria-controls"]=T)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=bn(_=>{a||(e==null||e(_),n!=null&&l&&!_.isPropagationStopped()&&l(n,_))}),[g,{isActive:p}]}const YC=w.forwardRef((n,e)=>{let{as:t=$y,active:r,eventKey:s}=n,a=dM(n,cM);const[l,d]=QC(Object.assign({key:ac(s,a.href),active:r},a));return l[Jl("active")]=d.isActive,A(t,Object.assign({},a,l,{ref:e}))});YC.displayName="NavItem";const fM=["as","onSelect","activeKey","role","onKeyDown"];function hM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const _0=()=>{},w0=Jl("event-key"),XC=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:s,role:a,onKeyDown:l}=n,d=hM(n,fM);const h=vC(),p=w.useRef(!1),g=w.useContext(aa),_=w.useContext(GC);let T,C;_&&(a=a||"tablist",s=_.activeKey,T=_.getControlledId,C=_.getControllerId);const k=w.useRef(null),O=W=>{const q=k.current;if(!q)return null;const Z=Ji(q,`[${w0}]:not([aria-disabled=true])`),J=q.querySelector("[aria-selected=true]");if(!J||J!==document.activeElement)return null;const S=Z.indexOf(J);if(S===-1)return null;let R=S+W;return R>=Z.length&&(R=0),R<0&&(R=Z.length-1),Z[R]},b=(W,q)=>{W!=null&&(r==null||r(W,q),g==null||g(W,q))},F=W=>{if(l==null||l(W),!_)return;let q;switch(W.key){case"ArrowLeft":case"ArrowUp":q=O(-1);break;case"ArrowRight":case"ArrowDown":q=O(1);break;default:return}q&&(W.preventDefault(),b(q.dataset[eM("EventKey")]||null,W),p.current=!0,h())};w.useEffect(()=>{if(k.current&&p.current){const W=k.current.querySelector(`[${w0}][aria-selected=true]`);W==null||W.focus()}p.current=!1});const $=Oc(e,k);return A(aa.Provider,{value:b,children:A(Ph.Provider,{value:{role:a,activeKey:ac(s),getControlledId:T||_0,getControllerId:C||_0},children:A(t,Object.assign({},d,{onKeyDown:F,ref:$,role:a}))})})});XC.displayName="Nav";const pM=Object.assign(XC,{Item:YC});var ff;function E0(n){if((!ff&&ff!==0||n)&&Yl){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ff=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ff}function mM(){return w.useState(null)}function Qm(n){n===void 0&&(n=Ql());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function gM(n){const e=w.useRef(n);return e.current=n,e}function yM(n){const e=gM(n);w.useEffect(()=>()=>e.current(),[])}function vM(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const T0=Jl("modal-open");class Qy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return vM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(ls(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(T0,""),ls(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(T0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Ym=(n,e)=>Yl?n==null?(e||Ql()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Pg(n,e){const t=Dh(),[r,s]=w.useState(()=>Ym(n,t==null?void 0:t.document));if(!r){const a=Ym(n);a&&s(a)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const a=Ym(n);a!==r&&s(a)},[n,r]),r}function _M({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:s}){const a=w.useRef(null),l=w.useRef(e),d=bn(t);w.useEffect(()=>{e?l.current=!0:d(a.current)},[e,d]);const h=Oc(a,ga(n)),p=w.cloneElement(n,{ref:h});return e?p:s||!l.current&&r?null:p}const wM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function EM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function TM(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:a,onExited:l,addEndListener:d,children:h}=n,p=EM(n,wM);const g=w.useRef(null),_=Oc(g,ga(h)),T=q=>Z=>{q&&g.current&&q(g.current,Z)},C=w.useCallback(T(e),[e]),k=w.useCallback(T(t),[t]),O=w.useCallback(T(r),[r]),b=w.useCallback(T(s),[s]),F=w.useCallback(T(a),[a]),$=w.useCallback(T(l),[l]),W=w.useCallback(T(d),[d]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:C},t&&{onEntering:k},r&&{onEntered:O},s&&{onExit:b},a&&{onExiting:F},l&&{onExited:$},d&&{addEndListener:W},{children:typeof h=="function"?(q,Z)=>h(q,Object.assign({},Z,{ref:_})):w.cloneElement(h,{ref:_})})}const SM=["component"];function IM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const CM=w.forwardRef((n,e)=>{let{component:t}=n,r=IM(n,SM);const s=TM(r);return A(t,Object.assign({ref:e},s))});function AM({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),s=bn(e);return l0(()=>{if(!t.current)return;let a=!1;return s({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,s]),l0(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function RM({children:n,in:e,onExited:t,onEntered:r,transition:s}){const[a,l]=w.useState(!e);e&&a&&l(!1);const d=AM({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(s(p)).then(g,_=>{throw p.in||l(!0),_})}}),h=Oc(d,ga(n));return a&&!e?null:w.cloneElement(n,{ref:h})}function Dg(n,e,t){return n?A(CM,Object.assign({},t,{component:n})):e?A(RM,Object.assign({},t,{transition:e})):A(_M,Object.assign({},t))}const bM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function NM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let Xm;function kM(n){return Xm||(Xm=new Qy({ownerDocument:n==null?void 0:n.document})),Xm}function PM(n){const e=Dh(),t=n||kM(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:w.useCallback(s=>{r.current.backdrop=s},[])})}const JC=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:s,style:a,children:l,backdrop:d=!0,keyboard:h=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:T,backdropTransition:C,runBackdropTransition:k,autoFocus:O=!0,enforceFocus:b=!0,restoreFocus:F=!0,restoreFocusOptions:$,renderDialog:W,renderBackdrop:q=rt=>A("div",Object.assign({},rt)),manager:Z,container:J,onShow:S,onHide:R=()=>{},onExit:P,onExited:x,onExiting:L,onEnter:V,onEntering:D,onEntered:we}=n,xe=NM(n,bM);const Fe=Dh(),Ne=Pg(J),ne=PM(Z),pe=ZI(),ae=eC(t),[B,ee]=w.useState(!t),he=w.useRef(null);w.useImperativeHandle(e,()=>ne,[ne]),Yl&&!ae&&t&&(he.current=Qm(Fe==null?void 0:Fe.document)),t&&B&&ee(!1);const ye=bn(()=>{if(ne.add(),Et.current=ts(document,"keydown",Ue),st.current=ts(document,"focus",()=>setTimeout(Ae),!0),S&&S(),O){var rt,Ft;const pn=Qm((rt=(Ft=ne.dialog)==null?void 0:Ft.ownerDocument)!=null?rt:Fe==null?void 0:Fe.document);ne.dialog&&pn&&!oc(ne.dialog,pn)&&(he.current=pn,ne.dialog.focus())}}),Te=bn(()=>{if(ne.remove(),Et.current==null||Et.current(),st.current==null||st.current(),F){var rt;(rt=he.current)==null||rt.focus==null||rt.focus($),he.current=null}});w.useEffect(()=>{!t||!Ne||ye()},[t,Ne,ye]),w.useEffect(()=>{B&&Te()},[B,Te]),yM(()=>{Te()});const Ae=bn(()=>{if(!b||!pe()||!ne.isTopModal())return;const rt=Qm(Fe==null?void 0:Fe.document);ne.dialog&&rt&&!oc(ne.dialog,rt)&&ne.dialog.focus()}),qe=bn(rt=>{rt.target===rt.currentTarget&&(p==null||p(rt),d===!0&&R())}),Ue=bn(rt=>{h&&BI(rt)&&ne.isTopModal()&&(g==null||g(rt),rt.defaultPrevented||R())}),st=w.useRef(),Et=w.useRef(),It=(...rt)=>{ee(!0),x==null||x(...rt)};if(!Ne)return null;const it=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},xe,{style:a,className:s,tabIndex:-1});let kt=W?W(it):A("div",Object.assign({},it,{children:w.cloneElement(l,{role:"document"})}));kt=Dg(_,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:L,onExited:It,onEnter:V,onEntering:D,onEntered:we,children:kt});let Kt=null;return d&&(Kt=q({ref:ne.setBackdropRef,onClick:qe}),Kt=Dg(C,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Kt})),A(Vt,{children:to.createPortal(_e(Vt,{children:[Kt,kt]}),Ne)})});JC.displayName="Modal";const ZC=Object.assign(JC,{Manager:Qy});function Og(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function DM(n,e){n.classList?n.classList.add(e):Og(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function S0(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function OM(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=S0(n.className,e):n.setAttribute("class",S0(n.className&&n.className.baseVal||"",e))}const ol={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class eA extends Qy{adjustAndStore(e,t,r){const s=t.style[e];t.dataset[e]=s,ls(t,{[e]:`${parseFloat(ls(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],ls(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(DM(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ji(t,ol.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Ji(t,ol.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),Ji(t,ol.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();OM(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ji(t,ol.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Ji(t,ol.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Ji(t,ol.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let Jm;function tA(n){return Jm||(Jm=new eA(n)),Jm}const nA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"modal-body"),A(t,{ref:s,className:ge(n,e),...r})));nA.displayName="ModalBody";const Yy=w.createContext({onHide(){}}),Xy=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:s,fullscreen:a,children:l,scrollable:d,...h},p)=>{n=Se(n,"modal");const g=`${n}-dialog`,_=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return A("div",{...h,ref:p,className:ge(g,e,s&&`${n}-${s}`,r&&`${g}-centered`,d&&`${g}-scrollable`,a&&_),children:A("div",{className:ge(`${n}-content`,t),children:l})})});Xy.displayName="ModalDialog";const rA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"modal-footer"),A(t,{ref:s,className:ge(n,e),...r})));rA.displayName="ModalFooter";const iA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:s,...a},l)=>{const d=w.useContext(Yy),h=ui(()=>{d==null||d.onHide(),r==null||r()});return _e("div",{ref:l,...a,children:[s,t&&A(kc,{"aria-label":n,variant:e,onClick:h})]})}),sA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Se(n,"modal-header"),A(iA,{ref:a,...s,className:ge(e,n),closeLabel:t,closeButton:r})));sA.displayName="ModalHeader";const xM=Nc("h4"),oA=w.forwardRef(({className:n,bsPrefix:e,as:t=xM,...r},s)=>(e=Se(e,"modal-title"),A(t,{ref:s,className:ge(n,e),...r})));oA.displayName="ModalTitle";function LM(n){return A(po,{...n,timeout:null})}function MM(n){return A(po,{...n,timeout:null})}const aA=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:s,children:a,dialogAs:l=Xy,"data-bs-theme":d,"aria-labelledby":h,"aria-describedby":p,"aria-label":g,show:_=!1,animation:T=!0,backdrop:C=!0,keyboard:k=!0,onEscapeKeyDown:O,onShow:b,onHide:F,container:$,autoFocus:W=!0,enforceFocus:q=!0,restoreFocus:Z=!0,restoreFocusOptions:J,onEntered:S,onExit:R,onExiting:P,onEnter:x,onEntering:L,onExited:V,backdropClassName:D,manager:we,...xe},Fe)=>{const[Ne,ne]=w.useState({}),[pe,ae]=w.useState(!1),B=w.useRef(!1),ee=w.useRef(!1),he=w.useRef(null),[ye,Te]=mM(),Ae=Xl(Fe,Te),qe=ui(F),Ue=Rc();n=Se(n,"modal");const st=w.useMemo(()=>({onHide:qe}),[qe]);function Et(){return we||tA({isRTL:Ue})}function It($e){if(!Yl)return;const mt=Et().getScrollbarWidth()>0,Ot=$e.scrollHeight>Ql($e).documentElement.clientHeight;ne({paddingRight:mt&&!Ot?E0():void 0,paddingLeft:!mt&&Ot?E0():void 0})}const it=ui(()=>{ye&&It(ye.dialog)});fC(()=>{Rg(window,"resize",it),he.current==null||he.current()});const kt=()=>{B.current=!0},Kt=$e=>{B.current&&ye&&$e.target===ye.dialog&&(ee.current=!0),B.current=!1},rt=()=>{ae(!0),he.current=HI(ye.dialog,()=>{ae(!1)})},Ft=$e=>{$e.target===$e.currentTarget&&rt()},pn=$e=>{if(C==="static"){Ft($e);return}if(ee.current||$e.target!==$e.currentTarget){ee.current=!1;return}F==null||F()},br=$e=>{k?O==null||O($e):($e.preventDefault(),C==="static"&&rt())},Hn=($e,mt)=>{$e&&It($e),x==null||x($e,mt)},Bt=$e=>{he.current==null||he.current(),R==null||R($e)},Zt=($e,mt)=>{L==null||L($e,mt),Oy(window,"resize",it)},Jn=$e=>{$e&&($e.style.display=""),V==null||V($e),Rg(window,"resize",it)},Dn=w.useCallback($e=>A("div",{...$e,className:ge(`${n}-backdrop`,D,!T&&"show")}),[T,D,n]),Dt={...t,...Ne};Dt.display="block";const an=$e=>A("div",{role:"dialog",...$e,style:Dt,className:ge(e,n,pe&&`${n}-static`,!T&&"show"),onClick:C?pn:void 0,onMouseUp:Kt,"data-bs-theme":d,"aria-label":g,"aria-labelledby":h,"aria-describedby":p,children:A(l,{...xe,onMouseDown:kt,className:r,contentClassName:s,children:a})});return A(Yy.Provider,{value:st,children:A(ZC,{show:_,ref:Ae,backdrop:C,container:$,keyboard:!0,autoFocus:W,enforceFocus:q,restoreFocus:Z,restoreFocusOptions:J,onEscapeKeyDown:br,onShow:b,onHide:F,onEnter:Hn,onEntering:Zt,onEntered:S,onExit:Bt,onExiting:P,onExited:Jn,manager:Et(),transition:T?LM:void 0,backdropTransition:T?MM:void 0,renderBackdrop:Dn,renderDialog:an})})});aA.displayName="Modal";const qf=Object.assign(aA,{Body:nA,Header:sA,Title:oA,Footer:rA,Dialog:Xy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),lA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"nav-item"),A(t,{ref:s,className:ge(n,e),...r})));lA.displayName="NavItem";const Jy=w.forwardRef(({bsPrefix:n,className:e,as:t=Nl,active:r,eventKey:s,disabled:a=!1,...l},d)=>{n=Se(n,"nav-link");const[h,p]=QC({key:ac(s,l.href),active:r,disabled:a,...l});return A(t,{...l,...h,ref:d,disabled:a,className:ge(e,n,a&&"disabled",p.isActive&&"active")})});Jy.displayName="NavLink";const uA=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:s,fill:a=!1,justify:l=!1,navbar:d,navbarScroll:h,className:p,activeKey:g,..._}=Gl(n,{activeKey:"onSelect"}),T=Se(r,"nav");let C,k,O=!1;const b=w.useContext(ya),F=w.useContext(jy);return b?(C=b.bsPrefix,O=d??!0):F&&({cardHeaderBsPrefix:k}=F),A(pM,{as:t,ref:e,activeKey:g,className:ge(p,{[T]:!O,[`${C}-nav`]:O,[`${C}-nav-scroll`]:O&&h,[`${k}-${s}`]:!!k,[`${T}-${s}`]:!!s,[`${T}-fill`]:a,[`${T}-justified`]:l}),..._})});uA.displayName="Nav";const I0=Object.assign(uA,{Item:lA,Link:Jy}),cA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},s)=>{n=Se(n,"navbar-brand");const a=t||(r.href?"a":"span");return A(a,{...r,ref:s,className:ge(e,n)})});cA.displayName="NavbarBrand";const dA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Se(e,"navbar-collapse");const s=w.useContext(ya);return A(zI,{in:!!(s&&s.expanded),...t,children:A("div",{ref:r,className:e,children:n})})});dA.displayName="NavbarCollapse";const fA=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:s="button",onClick:a,...l},d)=>{n=Se(n,"navbar-toggler");const{onToggle:h,expanded:p}=w.useContext(ya)||{},g=ui(_=>{a&&a(_),h&&h()});return s==="button"&&(l.type="button"),A(s,{...l,ref:d,onClick:g,"aria-label":r,className:ge(e,n,!p&&"collapsed"),children:t||A("span",{className:`${n}-icon`})})});fA.displayName="NavbarToggle";const xg=new WeakMap,C0=(n,e)=>{if(!n||!e)return;const t=xg.get(e)||new Map;xg.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function VM(n,e=typeof window>"u"?void 0:window){const t=C0(n,e),[r,s]=w.useState(()=>t?t.matches:!1);return Hy(()=>{let a=C0(n,e);if(!a)return s(!1);let l=xg.get(e);const d=()=>{s(a.matches)};return a.refCount++,a.addListener(d),d(),()=>{a.removeListener(d),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function $M(n){const e=Object.keys(n);function t(d,h){return d===h?h:d?`${d} and ${h}`:h}function r(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function s(d){const h=r(d);let p=n[h];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(d){let h=n[d];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function l(d,h,p){let g;typeof d=="object"?(g=d,p=h,h=!0):(h=h||!0,g={[d]:h});let _=w.useMemo(()=>Object.entries(g).reduce((T,[C,k])=>((k==="up"||k===!0)&&(T=t(T,a(C))),(k==="down"||k===!0)&&(T=t(T,s(C))),T),""),[JSON.stringify(g)]);return VM(_,p)}return l}const UM=$M({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),hA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"offcanvas-body"),A(t,{ref:s,className:ge(n,e),...r})));hA.displayName="OffcanvasBody";const jM={[si]:"show",[Zi]:"show"},pA=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:l=!1,...d},h)=>(n=Se(n,"offcanvas"),A(bh,{ref:h,addEndListener:Rh,in:r,mountOnEnter:s,unmountOnExit:a,appear:l,...d,childRef:ga(t),children:(p,g)=>w.cloneElement(t,{...g,className:ge(e,t.props.className,(p===si||p===sc)&&`${n}-toggling`,jM[p])})})));pA.displayName="OffcanvasToggling";const mA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Se(n,"offcanvas-header"),A(iA,{ref:a,...s,className:ge(e,n),closeLabel:t,closeButton:r})));mA.displayName="OffcanvasHeader";const FM=Nc("h5"),gA=w.forwardRef(({className:n,bsPrefix:e,as:t=FM,...r},s)=>(e=Se(e,"offcanvas-title"),A(t,{ref:s,className:ge(n,e),...r})));gA.displayName="OffcanvasTitle";function BM(n){return A(pA,{...n})}function HM(n){return A(po,{...n})}const yA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:s="start",responsive:a,show:l=!1,backdrop:d=!0,keyboard:h=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:T,container:C,autoFocus:k=!0,enforceFocus:O=!0,restoreFocus:b=!0,restoreFocusOptions:F,onEntered:$,onExit:W,onExiting:q,onEnter:Z,onEntering:J,onExited:S,backdropClassName:R,manager:P,renderStaticNode:x=!1,...L},V)=>{const D=w.useRef();n=Se(n,"offcanvas");const[we,xe]=w.useState(!1),Fe=ui(T),Ne=UM(a||"xs","up");w.useEffect(()=>{xe(a?l&&!Ne:l)},[l,a,Ne]);const ne=w.useMemo(()=>({onHide:Fe}),[Fe]);function pe(){return P||(p?(D.current||(D.current=new eA({handleContainerOverflow:!1})),D.current):tA())}const ae=(ye,...Te)=>{ye&&(ye.style.visibility="visible"),Z==null||Z(ye,...Te)},B=(ye,...Te)=>{ye&&(ye.style.visibility=""),S==null||S(...Te)},ee=w.useCallback(ye=>A("div",{...ye,className:ge(`${n}-backdrop`,R)}),[R,n]),he=ye=>A("div",{...ye,...L,className:ge(e,a?`${n}-${a}`:n,`${n}-${s}`),"aria-labelledby":r,children:t});return _e(Vt,{children:[!we&&(a||x)&&he({}),A(Yy.Provider,{value:ne,children:A(ZC,{show:we,ref:V,backdrop:d,container:C,keyboard:h,autoFocus:k,enforceFocus:O&&!p,restoreFocus:b,restoreFocusOptions:F,onEscapeKeyDown:g,onShow:_,onHide:Fe,onEnter:ae,onEntering:J,onEntered:$,onExit:W,onExiting:q,onExited:B,manager:pe(),transition:BM,backdropTransition:HM,renderBackdrop:ee,renderDialog:he})})]})});yA.displayName="Offcanvas";const zM=Object.assign(yA,{Body:hA,Header:mA,Title:gA}),vA=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(ya),s=ui(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return A(zM,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});vA.displayName="NavbarOffcanvas";const _A=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Se(e,"navbar-text"),A(t,{ref:s,className:ge(n,e),...r})));_A.displayName="NavbarText";const wA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:s="light",bg:a,fixed:l,sticky:d,className:h,as:p="nav",expanded:g,onToggle:_,onSelect:T,collapseOnSelect:C=!1,...k}=Gl(n,{expanded:"onToggle"}),O=Se(t,"navbar"),b=w.useCallback((...W)=>{T==null||T(...W),C&&g&&(_==null||_(!1))},[T,C,g,_]);k.role===void 0&&p!=="nav"&&(k.role="navigation");let F=`${O}-expand`;typeof r=="string"&&(F=`${F}-${r}`);const $=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:O,expanded:!!g,expand:r}),[O,g,r,_]);return A(ya.Provider,{value:$,children:A(aa.Provider,{value:b,children:A(p,{ref:e,...k,className:ge(h,O,r&&F,s&&`${O}-${s}`,a&&`bg-${a}`,d&&`sticky-${d}`,l&&`fixed-${l}`)})})})});wA.displayName="Navbar";const hf=Object.assign(wA,{Brand:cA,Collapse:dA,Offcanvas:vA,Text:_A,Toggle:fA}),EA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:s,rootCloseEvent:a,menuRole:l,disabled:d,active:h,renderMenuOnMount:p,menuVariant:g,..._},T)=>{const C=Se(void 0,"nav-item");return _e(Zo,{ref:T,..._,className:ge(s,C),children:[A(Zo.Toggle,{id:n,eventKey:null,active:h,disabled:d,childBsPrefix:r,as:Jy,children:e}),A(Zo.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:g,children:t})]})});EA.displayName="NavDropdown";const Uu=Object.assign(EA,{Item:Zo.Item,ItemText:Zo.ItemText,Divider:Zo.Divider,Header:Zo.Header}),WM=()=>{};function qM(n,e,{disabled:t,clickTrigger:r}={}){const s=e||WM;wC(n,s,{disabled:t,clickTrigger:r});const a=bn(l=>{BI(l)&&s(l)});w.useEffect(()=>{if(t||n==null)return;const l=Ql(Rf(n));let d=(l.defaultView||window).event;const h=ts(l,"keyup",p=>{if(p===d){d=void 0;return}a(p)});return()=>{h()}},[n,t,a])}const TA=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:s,containerPadding:a,popperConfig:l={},transition:d,runTransition:h}=n,[p,g]=bg(),[_,T]=bg(),C=Oc(g,e),k=Pg(n.container),O=Pg(n.target),[b,F]=w.useState(!n.show),$=_C(O,p,EC({placement:s,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:_,popperConfig:l}));n.show&&b&&F(!1);const W=(...L)=>{F(!0),n.onExited&&n.onExited(...L)},q=n.show||!b;if(qM(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!q)return null;const{onExit:Z,onExiting:J,onEnter:S,onEntering:R,onEntered:P}=n;let x=n.children(Object.assign({},$.attributes.popper,{style:$.styles.popper,ref:C}),{popper:$,placement:s,show:!!n.show,arrowProps:Object.assign({},$.attributes.arrow,{style:$.styles.arrow,ref:T})});return x=Dg(d,h,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:x,onExit:Z,onExiting:J,onExited:W,onEnter:S,onEntering:R,onEntered:P}),k?to.createPortal(x,k):null});TA.displayName="Overlay";const SA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"popover-header"),A(t,{ref:s,className:ge(n,e),...r})));SA.displayName="PopoverHeader";const Zy=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Se(e,"popover-body"),A(t,{ref:s,className:ge(n,e),...r})));Zy.displayName="PopoverBody";function IA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function CA(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const KM=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:s,body:a,arrowProps:l,hasDoneInitialMeasure:d,popper:h,show:p,...g},_)=>{const T=Se(n,"popover"),C=Rc(),[k]=(e==null?void 0:e.split("-"))||[],O=IA(k,C);let b=r;return p&&!d&&(b={...r,...CA(h==null?void 0:h.strategy)}),_e("div",{ref:_,role:"tooltip",style:b,"x-placement":k,className:ge(t,T,k&&`bs-popover-${O}`),...g,children:[A("div",{className:"popover-arrow",...l}),a?A(Zy,{children:s}):s]})}),GM=Object.assign(KM,{Header:SA,Body:Zy,POPPER_OFFSET:[0,8]}),AA=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:s,arrowProps:a,hasDoneInitialMeasure:l,popper:d,show:h,...p},g)=>{n=Se(n,"tooltip");const _=Rc(),[T]=(e==null?void 0:e.split("-"))||[],C=IA(T,_);let k=r;return h&&!l&&(k={...r,...CA(d==null?void 0:d.strategy)}),_e("div",{ref:g,style:k,role:"tooltip","x-placement":T,className:ge(t,n,`bs-tooltip-${C}`),...p,children:[A("div",{className:"tooltip-arrow",...a}),A("div",{className:`${n}-inner`,children:s})]})});AA.displayName="Tooltip";const RA=Object.assign(AA,{TOOLTIP_OFFSET:[0,6]});function QM(n){const e=w.useRef(null),t=Se(void 0,"popover"),r=Se(void 0,"tooltip"),s=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Og(e.current,t))return GM.POPPER_OFFSET;if(Og(e.current,r))return RA.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[s]]}function YM(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=s=>t(Hf(s))),e.ref=r.__wrapped||(r.__wrapped=s=>r(Hf(s)))}const bA=w.forwardRef(({children:n,transition:e=po,popperConfig:t={},rootClose:r=!1,placement:s="top",show:a=!1,...l},d)=>{const h=w.useRef({}),[p,g]=w.useState(null),[_,T]=QM(l.offset),C=Xl(d,_),k=e===!0?po:e||void 0,O=ui(b=>{g(b),t==null||t.onFirstUpdate==null||t.onFirstUpdate(b)});return Hy(()=>{p&&l.target&&(h.current.scheduleUpdate==null||h.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{a||g(null)},[a]),A(TA,{...l,ref:C,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:O},transition:k,rootClose:r,placement:s,show:a,children:(b,{arrowProps:F,popper:$,show:W})=>{var q;YM(b,F);const Z=$==null?void 0:$.placement,J=Object.assign(h.current,{state:$==null?void 0:$.state,scheduleUpdate:$==null?void 0:$.update,placement:Z,outOfBoundaries:($==null||(q=$.state)==null||(q=q.modifiersData.hide)==null?void 0:q.isReferenceHidden)||!1,strategy:t.strategy}),S=!!p;return typeof n=="function"?n({...b,placement:Z,show:W,...!e&&W&&{className:"show"},popper:J,arrowProps:F,hasDoneInitialMeasure:S}):w.cloneElement(n,{...b,placement:Z,arrowProps:F,popper:J,hasDoneInitialMeasure:S,className:ge(n.props.className,!e&&W&&"show"),style:{...n.props.style,...b.style}})}})});bA.displayName="Overlay";function XM(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function A0(n,e,t){const[r]=e,s=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==s)&&!oc(s,a)&&n(...e)}Qn.oneOf(["click","hover","focus"]);const JM=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:s,defaultShow:a=!1,onToggle:l,delay:d,placement:h,flip:p=h&&h.indexOf("auto")!==-1,...g})=>{const _=w.useRef(null),T=Xl(_,ga(t)),C=pC(),k=w.useRef(""),[O,b]=VI(s,a,l),F=XM(d),{onFocus:$,onBlur:W,onClick:q}=typeof t!="function"?w.Children.only(t).props:{},Z=xe=>{T(Hf(xe))},J=w.useCallback(()=>{if(C.clear(),k.current="show",!F.show){b(!0);return}C.set(()=>{k.current==="show"&&b(!0)},F.show)},[F.show,b,C]),S=w.useCallback(()=>{if(C.clear(),k.current="hide",!F.hide){b(!1);return}C.set(()=>{k.current==="hide"&&b(!1)},F.hide)},[F.hide,b,C]),R=w.useCallback((...xe)=>{J(),$==null||$(...xe)},[J,$]),P=w.useCallback((...xe)=>{S(),W==null||W(...xe)},[S,W]),x=w.useCallback((...xe)=>{b(!O),q==null||q(...xe)},[q,b,O]),L=w.useCallback((...xe)=>{A0(J,xe,"fromElement")},[J]),V=w.useCallback((...xe)=>{A0(S,xe,"toElement")},[S]),D=n==null?[]:[].concat(n),we={ref:Z};return D.indexOf("click")!==-1&&(we.onClick=x),D.indexOf("focus")!==-1&&(we.onFocus=R,we.onBlur=P),D.indexOf("hover")!==-1&&(we.onMouseOver=L,we.onMouseOut=V),_e(Vt,{children:[typeof t=="function"?t(we):w.cloneElement(t,we),A(bA,{...g,show:O,onHide:S,flip:p,placement:h,popperConfig:r,target:_.current,children:e})]})},Dl=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Se(n,"row"),l=$I(),d=UI(),h=`${a}-cols`,p=[];return l.forEach(g=>{const _=r[g];delete r[g];let T;_!=null&&typeof _=="object"?{cols:T}=_:T=_;const C=g!==d?`-${g}`:"";T!=null&&p.push(`${h}${C}-${T}`)}),A(t,{ref:s,...r,className:ge(e,a,...p)})});Dl.displayName="Row";const ev=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:s="div",className:a,...l},d)=>{n=Se(n,"spinner");const h=`${n}-${t}`;return A(s,{ref:d,...l,className:ge(a,h,r&&`${h}-${r}`,e&&`text-${e}`)})});ev.displayName="Spinner";function Ee(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function d(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((r=r.apply(n,[])).next())})}function ZM(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let je=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};je.equal=(n,e)=>new je("equal",n,e).toString();je.notEqual=(n,e)=>new je("notEqual",n,e).toString();je.lessThan=(n,e)=>new je("lessThan",n,e).toString();je.lessThanEqual=(n,e)=>new je("lessThanEqual",n,e).toString();je.greaterThan=(n,e)=>new je("greaterThan",n,e).toString();je.greaterThanEqual=(n,e)=>new je("greaterThanEqual",n,e).toString();je.isNull=n=>new je("isNull",n).toString();je.isNotNull=n=>new je("isNotNull",n).toString();je.between=(n,e,t)=>new je("between",n,[e,t]).toString();je.startsWith=(n,e)=>new je("startsWith",n,e).toString();je.endsWith=(n,e)=>new je("endsWith",n,e).toString();je.select=n=>new je("select",void 0,n).toString();je.search=(n,e)=>new je("search",n,e).toString();je.orderDesc=n=>new je("orderDesc",n).toString();je.orderAsc=n=>new je("orderAsc",n).toString();je.cursorAfter=n=>new je("cursorAfter",void 0,n).toString();je.cursorBefore=n=>new je("cursorBefore",void 0,n).toString();je.limit=n=>new je("limit",void 0,n).toString();je.offset=n=>new je("offset",void 0,n).toString();je.contains=(n,e)=>new je("contains",n,e).toString();je.or=n=>new je("or",void 0,n.map(e=>JSON.parse(e))).toString();je.and=n=>new je("and",void 0,n.map(e=>JSON.parse(e))).toString();class se extends Error{constructor(e,t=0,r="",s=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=s}}class Ur{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const s=new URLSearchParams;s.set("project",this.config.project),this.realtime.channels.forEach(l=>{s.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+s.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var d,h,p;if(!this.realtime.reconnect||((h=(d=this.realtime)===null||d===void 0?void 0:d.lastMessage)===null||h===void 0?void 0:h.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const g=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${g/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},g)}))},onMessage:e=>{var t,r;try{const s=JSON.parse(e.data);switch(this.realtime.lastMessage=s,s.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],d=s.data;l&&!d.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let h=s.data;if(h!=null&&h.channels){if(!h.channels.some(g=>this.realtime.channels.has(g)))return;this.realtime.subscriptions.forEach(g=>{h.channels.some(_=>g.channels.includes(_))&&setTimeout(()=>g.callback(h))})}break;case"error":throw s.data;default:break}}catch(s){console.error(s)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([s,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const s=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(s,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(s),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},s={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,d]of Object.entries(Ur.flatten(s)))t.searchParams.append(l,d);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(s);break;case"multipart/form-data":const l=new FormData;for(const[d,h]of Object.entries(s))if(h instanceof File)l.append(d,h,h.name);else if(Array.isArray(h))for(const p of h)l.append(`${d}[]`,p);else l.append(d,h);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},s={},a){return Ee(this,void 0,void 0,function*(){const l=Object.values(s).find(p=>p instanceof File);if(l.size<=Ur.CHUNK_SIZE)return yield this.call(e,t,r,s);let d=0,h=null;for(;d<l.size;){let p=d+Ur.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${d}-${p-1}/${l.size}`;const g=l.slice(d,p);let _=Object.assign(Object.assign({},s),{file:new File([g],l.name)});h=yield this.call(e,t,r,_),a&&typeof a=="function"&&a({$id:h.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/Ur.CHUNK_SIZE),chunksUploaded:Math.ceil(p/Ur.CHUNK_SIZE)}),h&&h.$id&&(r["x-appwrite-id"]=h.$id),d=p}return h})}ping(){return Ee(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},s={},a="json"){var l;return Ee(this,void 0,void 0,function*(){const{uri:d,options:h}=this.prepareRequest(e,t,r,s);let p=null;const g=yield fetch(d,h),_=g.headers.get("x-appwrite-warning");if(_&&_.split(";").forEach(C=>console.warn("Warning: "+C)),!((l=g.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield g.json():a==="arrayBuffer"?p=yield g.arrayBuffer():p={message:yield g.text()},400<=g.status)throw new se(p==null?void 0:p.message,g.status,p==null?void 0:p.type,p);const T=g.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[s,a]of Object.entries(e)){let l=t?t+"["+s+"]":s;Array.isArray(a)?r=Object.assign(Object.assign({},r),Ur.flatten(a,l)):r[l]=a}return r}}Ur.CHUNK_SIZE=1024*1024*5;class so{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[s,a]of Object.entries(e)){let l=t?t+"["+s+"]":s;Array.isArray(a)?r=Object.assign(Object.assign({},r),so.flatten(a,l)):r[l]=a}return r}}so.CHUNK_SIZE=5*1024*1024;class eV{constructor(e){this.client=e}get(){return Ee(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}create(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');if(typeof r>"u")throw new se('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof s<"u"&&(l.name=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("post",d,h,l)})}updateEmail(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/email",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}listIdentities(e){return Ee(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}deleteIdentity(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createJWT(){return Ee(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}listLogs(e){return Ee(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateMFA(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}createMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateMfaAuthenticator(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');if(typeof t>"u")throw new se('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),s={};typeof t<"u"&&(s.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}deleteMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createMfaChallenge(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateMfaChallenge(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "challengeId"');if(typeof t>"u")throw new se('Missing required parameter: "otp"');const r="/account/mfa/challenge",s={};typeof e<"u"&&(s.challengeId=e),typeof t<"u"&&(s.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}listMfaFactors(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}getMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}createMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}updateMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,t)})}updateName(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}updatePassword(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "password"');const r="/account/password",s={};typeof e<"u"&&(s.password=e),typeof t<"u"&&(s.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}updatePhone(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "phone"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/phone",s={};typeof e<"u"&&(s.phone=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,s)})}getPrefs(){return Ee(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}updatePrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}createRecovery(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "url"');const r="/account/recovery",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}updateRecovery(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');if(typeof r>"u")throw new se('Missing required parameter: "password"');const s="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("put",l,d,a)})}listSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("get",r,s,t)})}deleteSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("delete",r,s,t)})}createAnonymousSession(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}createEmailPasswordSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "email"');if(typeof t>"u")throw new se('Missing required parameter: "password"');const r="/account/sessions/email",s={};typeof e<"u"&&(s.email=e),typeof t<"u"&&(s.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}updateMagicURLSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/magic-url",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createOAuth2Session(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof s<"u"&&(l.scopes=s);const d=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[h,p]of Object.entries(so.flatten(l)))d.searchParams.append(h,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=d.toString();return}else return d.toString()})}updatePhoneSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/sessions/token",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}getSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",s,a,r)})}deleteSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}updateStatus(){return Ee(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,t)})}createPushTarget(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');if(typeof t>"u")throw new se('Missing required parameter: "identifier"');const s="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}updatePushTarget(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');if(typeof t>"u")throw new se('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),s={};typeof t<"u"&&(s.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}deletePushTarget(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}createEmailToken(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');const s="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}createMagicURLToken(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof s<"u"&&(l.phrase=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("post",d,h,l)})}createOAuth2Token(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof s<"u"&&(l.scopes=s);const d=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[h,p]of Object.entries(so.flatten(l)))d.searchParams.append(h,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=d.toString();return}else return d.toString()})}createPhoneToken(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "phone"');const r="/account/tokens/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,s)})}createVerification(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",s,a,r)})}updateVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/verification",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}createPhoneVerification(){return Ee(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),s={"content-type":"application/json"};return yield this.client.call("post",r,s,t)})}updatePhoneVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "userId"');if(typeof t>"u")throw new se('Missing required parameter: "secret"');const r="/account/verification/phone",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}}class tV{constructor(e){this.client=e}listDocuments(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');const s="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createDocument(e,t,r,s,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');if(typeof s>"u")throw new se('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),d={};typeof r<"u"&&(d.documentId=r),typeof s<"u"&&(d.data=s),typeof a<"u"&&(d.permissions=a);const h=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",h,p,d)})}getDocument(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof s<"u"&&(l.queries=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("get",d,h,l)})}updateDocument(e,t,r,s,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),d={};typeof s<"u"&&(d.data=s),typeof a<"u"&&(d.permissions=a);const h=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",h,p,d)})}deleteDocument(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "databaseId"');if(typeof t>"u")throw new se('Missing required parameter: "collectionId"');if(typeof r>"u")throw new se('Missing required parameter: "documentId"');const s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("delete",l,d,a)})}}class nV{constructor(e){this.client=e}listFiles(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');const s="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createFile(e,t,r,s,a=l=>{}){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');if(typeof r>"u")throw new se('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),d={};typeof t<"u"&&(d.fileId=t),typeof r<"u"&&(d.file=r),typeof s<"u"&&(d.permissions=s);const h=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",h,p,d,a)})}getFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}updateFile(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof s<"u"&&(l.permissions=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("put",d,h,l)})}deleteFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,s)})}getFileDownload(e,t){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,d]of Object.entries(so.flatten(s)))a.searchParams.append(l,d);s.project=this.client.config.project;for(const[l,d]of Object.entries(Ur.flatten(s)))a.searchParams.append(l,d);return a.toString()}getFilePreview(e,t,r,s,a,l,d,h,p,g,_,T,C){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const k="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),O={};typeof r<"u"&&(O.width=r),typeof s<"u"&&(O.height=s),typeof a<"u"&&(O.gravity=a),typeof l<"u"&&(O.quality=l),typeof d<"u"&&(O.borderWidth=d),typeof h<"u"&&(O.borderColor=h),typeof p<"u"&&(O.borderRadius=p),typeof g<"u"&&(O.opacity=g),typeof _<"u"&&(O.rotation=_),typeof T<"u"&&(O.background=T),typeof C<"u"&&(O.output=C);const b=new URL(this.client.config.endpoint+k);O.project=this.client.config.project;for(const[F,$]of Object.entries(so.flatten(O)))b.searchParams.append(F,$);O.project=this.client.config.project;for(const[F,$]of Object.entries(Ur.flatten(O)))b.searchParams.append(F,$);return b.toString()}getFileView(e,t){if(typeof e>"u")throw new se('Missing required parameter: "bucketId"');if(typeof t>"u")throw new se('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),s={},a=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,d]of Object.entries(so.flatten(s)))a.searchParams.append(l,d);s.project=this.client.config.project;for(const[l,d]of Object.entries(Ur.flatten(s)))a.searchParams.append(l,d);return a.toString()}}class rV{constructor(e){this.client=e}list(e,t){return Ee(this,void 0,void 0,function*(){const r="/teams",s={};typeof e<"u"&&(s.queries=e),typeof t<"u"&&(s.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}create(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "name"');const s="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("post",l,d,a)})}get(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updateName(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),s={};typeof t<"u"&&(s.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}delete(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",s,a,r)})}listMemberships(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const s="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("get",l,d,a)})}createMembership(e,t,r,s,a,l,d){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "roles"');const h="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof s<"u"&&(p.userId=s),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof d<"u"&&(p.name=d);const g=new URL(this.client.config.endpoint+h),_={"content-type":"application/json"};return yield this.client.call("post",g,_,p)})}getMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,s)})}updateMembership(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');if(typeof r>"u")throw new se('Missing required parameter: "roles"');const s="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+s),d={"content-type":"application/json"};return yield this.client.call("patch",l,d,a)})}deleteMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),s={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,s)})}updateMembershipStatus(e,t,r,s){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "membershipId"');if(typeof r>"u")throw new se('Missing required parameter: "userId"');if(typeof s>"u")throw new se('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof s<"u"&&(l.secret=s);const d=new URL(this.client.config.endpoint+a),h={"content-type":"application/json"};return yield this.client.call("patch",d,h,l)})}getPrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},s=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",s,a,r)})}updatePrefs(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new se('Missing required parameter: "teamId"');if(typeof t>"u")throw new se('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),s={};typeof t<"u"&&(s.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,s)})}}var NA,kA;class Ol{static custom(e){return e}static unique(e=7){const t=ZM(Ol,NA,"m",kA).call(Ol);let r="";for(let s=0;s<e;s++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}NA=Ol,kA=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var R0;(function(n){n.Totp="totp"})(R0||(R0={}));var b0;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(b0||(b0={}));var Lg;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(Lg||(Lg={}));var N0;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(N0||(N0={}));var k0;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(k0||(k0={}));var P0;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(P0||(P0={}));var D0;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(D0||(D0={}));var O0;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(O0||(O0={}));var x0;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(x0||(x0={}));const xc=new Ur;xc.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const Lc=new nV(xc),Mc=new eV(xc),hr=new tV(xc),iV=new rV(xc);async function sV(){return{session:await Mc.getSession("current")}}const xh=async()=>{try{return await Mc.get()}catch(n){console.error(n)}};async function oV(){await Mc.deleteSession("current"),console.log("log out")}async function ns(){const n=await xh();return n?aV(n):(console.error("User data is undefined"),null)}function aV(n){return{name:n.name,$id:n.$id}}async function lV(){return{teams:(await iV.list()).teams}}var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},uV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],d=n[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},DA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,d=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=a>>2,_=(a&3)<<4|d>>4;let T=(d&15)<<2|p>>6,C=p&63;h||(C=64,l||(T=64)),r.push(t[g],t[_],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||_==null)throw new cV;const T=a<<2|d>>4;if(r.push(T),p!==64){const C=d<<4&240|p>>2;if(r.push(C),_!==64){const k=p<<6&192|_;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dV=function(n){const e=PA(n);return DA.encodeByteArray(e,!0)},Kf=function(n){return dV(n).replace(/\./g,"")},OA=function(n){try{return DA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=()=>fV().__FIREBASE_DEFAULTS__,pV=()=>{if(typeof process>"u"||typeof L0>"u")return;const n=L0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&OA(n[1]);return e&&JSON.parse(e)},Lh=()=>{try{return hV()||pV()||mV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xA=n=>{var e,t;return(t=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gV=n=>{const e=xA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},LA=()=>{var n;return(n=Lh())===null||n===void 0?void 0:n.config},MA=n=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yV=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kf(JSON.stringify(t)),Kf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _V(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function wV(){var n;const e=(n=Lh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IV(){const n=Bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CV(){return!wV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AV(){try{return typeof indexedDB=="object"}catch{return!1}}function RV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="FirebaseError";class ws extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bV,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?NV(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new ws(s,d,r)}}function NV(n,e){return n.replace(kV,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kV=/\{\$([^}]+)}/g;function PV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(M0(a)&&M0(l)){if(!Gf(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function M0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DV(n,e){const t=new OV(n,e);return t.subscribe.bind(t)}class OV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xV(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Zm),s.error===void 0&&(s.error=Zm),s.complete===void 0&&(s.complete=Zm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n){return n&&n._delegate?n._delegate:n}class la{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VV(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MV(n){return n===Go?void 0:n}function VV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const UV={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},jV=ht.INFO,FV={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},BV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=FV[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=jV,this._logHandler=BV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const HV=(n,e)=>e.some(t=>n instanceof t);let V0,$0;function zV(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WV(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VA=new WeakMap,Mg=new WeakMap,$A=new WeakMap,eg=new WeakMap,nv=new WeakMap;function qV(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(oo(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&VA.set(t,n)}).catch(()=>{}),nv.set(e,n),e}function KV(n){if(Mg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Mg.set(n,e)}let Vg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$A.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return oo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GV(n){Vg=n(Vg)}function QV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(tg(this),e,...t);return $A.set(r,e.sort?e.sort():[e]),oo(r)}:WV().includes(n)?function(...e){return n.apply(tg(this),e),oo(VA.get(this))}:function(...e){return oo(n.apply(tg(this),e))}}function YV(n){return typeof n=="function"?QV(n):(n instanceof IDBTransaction&&KV(n),HV(n,zV())?new Proxy(n,Vg):n)}function oo(n){if(n instanceof IDBRequest)return qV(n);if(eg.has(n))return eg.get(n);const e=YV(n);return e!==n&&(eg.set(n,e),nv.set(e,n)),e}const tg=n=>nv.get(n);function XV(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),d=oo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(oo(l.result),h.oldVersion,h.newVersion,oo(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const JV=["get","getKey","getAll","getAllKeys","count"],ZV=["put","add","delete","clear"],ng=new Map;function U0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=ZV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JV.includes(t)))return;const a=async function(l,...d){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&h.done]))[0]};return ng.set(e,a),a}GV(n=>({...n,get:(e,t,r)=>U0(e,t)||n.get(e,t,r),has:(e,t)=>!!U0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(t2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function t2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $g="@firebase/app",j0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new tv("@firebase/app"),n2="@firebase/app-compat",r2="@firebase/analytics-compat",i2="@firebase/analytics",s2="@firebase/app-check-compat",o2="@firebase/app-check",a2="@firebase/auth",l2="@firebase/auth-compat",u2="@firebase/database",c2="@firebase/data-connect",d2="@firebase/database-compat",f2="@firebase/functions",h2="@firebase/functions-compat",p2="@firebase/installations",m2="@firebase/installations-compat",g2="@firebase/messaging",y2="@firebase/messaging-compat",v2="@firebase/performance",_2="@firebase/performance-compat",w2="@firebase/remote-config",E2="@firebase/remote-config-compat",T2="@firebase/storage",S2="@firebase/storage-compat",I2="@firebase/firestore",C2="@firebase/vertexai",A2="@firebase/firestore-compat",R2="firebase",b2="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",N2={[$g]:"fire-core",[n2]:"fire-core-compat",[i2]:"fire-analytics",[r2]:"fire-analytics-compat",[o2]:"fire-app-check",[s2]:"fire-app-check-compat",[a2]:"fire-auth",[l2]:"fire-auth-compat",[u2]:"fire-rtdb",[c2]:"fire-data-connect",[d2]:"fire-rtdb-compat",[f2]:"fire-fn",[h2]:"fire-fn-compat",[p2]:"fire-iid",[m2]:"fire-iid-compat",[g2]:"fire-fcm",[y2]:"fire-fcm-compat",[v2]:"fire-perf",[_2]:"fire-perf-compat",[w2]:"fire-rc",[E2]:"fire-rc-compat",[T2]:"fire-gcs",[S2]:"fire-gcs-compat",[I2]:"fire-fst",[A2]:"fire-fst-compat",[C2]:"fire-vertex","fire-js":"fire-js",[R2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,k2=new Map,jg=new Map;function F0(n,e){try{n.container.addComponent(e)}catch(t){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xl(n){const e=n.name;if(jg.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,n);for(const t of Qf.values())F0(t,n);for(const t of k2.values())F0(t,n);return!0}function rv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function oi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new Vc("app","Firebase",P2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=b2;function UA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ug,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ao.create("bad-app-name",{appName:String(s)});if(t||(t=LA()),!t)throw ao.create("no-options");const a=Qf.get(s);if(a){if(Gf(t,a.options)&&Gf(r,a.config))return a;throw ao.create("duplicate-app",{appName:s})}const l=new $V(s);for(const h of jg.values())l.addComponent(h);const d=new D2(t,r,l);return Qf.set(s,d),d}function jA(n=Ug){const e=Qf.get(n);if(!e&&n===Ug&&LA())return UA();if(!e)throw ao.create("no-app",{appName:n});return e}function lo(n,e,t){var r;let s=(r=N2[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}xl(new la(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebase-heartbeat-database",x2=1,lc="firebase-heartbeat-store";let rg=null;function FA(){return rg||(rg=XV(O2,x2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ao.create("idb-open",{originalErrorMessage:n.message})})),rg}async function L2(n){try{const t=(await FA()).transaction(lc),r=await t.objectStore(lc).get(BA(n));return await t.done,r}catch(e){if(e instanceof ws)hs.warn(e.message);else{const t=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(t.message)}}}async function B0(n,e){try{const r=(await FA()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,BA(n)),await r.done}catch(t){if(t instanceof ws)hs.warn(t.message);else{const r=ao.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hs.warn(r.message)}}}function BA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=1024,V2=30;class $2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>V2){const l=F2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:r,unsentEntries:s}=U2(this._heartbeatsCache.heartbeats),a=Kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return hs.warn(t),""}}}function H0(){return new Date().toISOString().substring(0,10)}function U2(n,e=M2){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),z0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),z0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class j2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AV()?RV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await L2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return B0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return B0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function z0(n){return Kf(JSON.stringify({version:2,heartbeats:n})).length}function F2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){xl(new la("platform-logger",e=>new e2(e),"PRIVATE")),xl(new la("heartbeat",e=>new $2(e),"PRIVATE")),lo($g,j0,n),lo($g,j0,"esm2017"),lo("fire-js","")}B2("");var H2="firebase",z2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(H2,z2,"app");var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,HA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,R){function P(){}P.prototype=R.prototype,S.D=R.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(x,L,V){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return R.prototype[L].apply(x,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,R,P){P||(P=0);var x=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)x[L]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(L=0;16>L;++L)x[L]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=S.g[0],P=S.g[1],L=S.g[2];var V=S.g[3],D=R+(V^P&(L^V))+x[0]+3614090360&4294967295;R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+x[1]+3905402710&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+x[2]+606105819&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+x[3]+3250441966&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+x[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+x[5]+1200080426&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+x[6]+2821735955&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+x[7]+4249261313&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+x[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+x[9]+2336552879&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+x[10]+4294925233&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+x[11]+2304563134&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+x[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+x[13]+4254626195&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+x[14]+2792965006&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+x[15]+1236535329&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(L^V&(P^L))+x[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+x[6]+3225465664&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+x[11]+643717713&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+x[0]+3921069994&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+x[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+x[10]+38016083&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+x[15]+3634488961&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+x[4]+3889429448&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+x[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+x[14]+3275163606&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+x[3]+4107603335&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+x[8]+1163531501&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+x[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+x[2]+4243563512&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+x[7]+1735328473&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+x[12]+2368359562&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(P^L^V)+x[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+x[8]+2272392833&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+x[11]+1839030562&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+x[14]+4259657740&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+x[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+x[4]+1272893353&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+x[7]+4139469664&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+x[10]+3200236656&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+x[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+x[0]+3936430074&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+x[3]+3572445317&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+x[6]+76029189&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+x[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+x[12]+3873151461&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+x[15]+530742520&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+x[2]+3299628645&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(L^(P|~V))+x[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+x[7]+1126891415&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+x[14]+2878612391&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+x[5]+4237533241&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+x[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+x[3]+2399980690&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+x[10]+4293915773&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+x[1]+2240044497&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+x[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+x[15]+4264355552&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+x[6]+2734768916&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+x[13]+1309151649&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+x[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+x[11]+3174756917&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+x[2]+718787259&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+R&4294967295,S.g[1]=S.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+V&4294967295}r.prototype.u=function(S,R){R===void 0&&(R=S.length);for(var P=R-this.blockSize,x=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=P;)s(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<R;)if(x[L++]=S.charCodeAt(V++),L==this.blockSize){s(this,x),L=0;break}}else for(;V<R;)if(x[L++]=S[V++],L==this.blockSize){s(this,x),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var R=1;R<S.length-8;++R)S[R]=0;var P=8*this.o;for(R=S.length-8;R<S.length;++R)S[R]=P&255,P/=256;for(this.u(S),S=Array(16),R=P=0;4>R;++R)for(var x=0;32>x;x+=8)S[P++]=this.g[R]>>>x&255;return S};function a(S,R){var P=d;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=R(S)}function l(S,R){this.h=R;for(var P=[],x=!0,L=S.length-1;0<=L;L--){var V=S[L]|0;x&&V==R||(P[L]=V,x=!1)}this.g=P}var d={};function h(S){return-128<=S&&128>S?a(S,function(R){return new l([R|0],0>R?-1:0)}):new l([S|0],0>S?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return b(p(-S));for(var R=[],P=1,x=0;S>=P;x++)R[x]=S/P|0,P*=4294967296;return new l(R,0)}function g(S,R){if(S.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S.charAt(0)=="-")return b(g(S.substring(1),R));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(R,8)),x=_,L=0;L<S.length;L+=8){var V=Math.min(8,S.length-L),D=parseInt(S.substring(L,L+V),R);8>V?(V=p(Math.pow(R,V)),x=x.j(V).add(p(D))):(x=x.j(P),x=x.add(p(D)))}return x}var _=h(0),T=h(1),C=h(16777216);n=l.prototype,n.m=function(){if(O(this))return-b(this).m();for(var S=0,R=1,P=0;P<this.g.length;P++){var x=this.i(P);S+=(0<=x?x:4294967296+x)*R,R*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(O(this))return"-"+b(this).toString(S);for(var R=p(Math.pow(S,6)),P=this,x="";;){var L=q(P,R).g;P=F(P,L.j(R));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=L,k(P))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(var R=0;R<S.g.length;R++)if(S.g[R]!=0)return!1;return!0}function O(S){return S.h==-1}n.l=function(S){return S=F(this,S),O(S)?-1:k(S)?0:1};function b(S){for(var R=S.g.length,P=[],x=0;x<R;x++)P[x]=~S.g[x];return new l(P,~S.h).add(T)}n.abs=function(){return O(this)?b(this):this},n.add=function(S){for(var R=Math.max(this.g.length,S.g.length),P=[],x=0,L=0;L<=R;L++){var V=x+(this.i(L)&65535)+(S.i(L)&65535),D=(V>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);x=D>>>16,V&=65535,D&=65535,P[L]=D<<16|V}return new l(P,P[P.length-1]&-2147483648?-1:0)};function F(S,R){return S.add(b(R))}n.j=function(S){if(k(this)||k(S))return _;if(O(this))return O(S)?b(this).j(b(S)):b(b(this).j(S));if(O(S))return b(this.j(b(S)));if(0>this.l(C)&&0>S.l(C))return p(this.m()*S.m());for(var R=this.g.length+S.g.length,P=[],x=0;x<2*R;x++)P[x]=0;for(x=0;x<this.g.length;x++)for(var L=0;L<S.g.length;L++){var V=this.i(x)>>>16,D=this.i(x)&65535,we=S.i(L)>>>16,xe=S.i(L)&65535;P[2*x+2*L]+=D*xe,$(P,2*x+2*L),P[2*x+2*L+1]+=V*xe,$(P,2*x+2*L+1),P[2*x+2*L+1]+=D*we,$(P,2*x+2*L+1),P[2*x+2*L+2]+=V*we,$(P,2*x+2*L+2)}for(x=0;x<R;x++)P[x]=P[2*x+1]<<16|P[2*x];for(x=R;x<2*R;x++)P[x]=0;return new l(P,0)};function $(S,R){for(;(S[R]&65535)!=S[R];)S[R+1]+=S[R]>>>16,S[R]&=65535,R++}function W(S,R){this.g=S,this.h=R}function q(S,R){if(k(R))throw Error("division by zero");if(k(S))return new W(_,_);if(O(S))return R=q(b(S),R),new W(b(R.g),b(R.h));if(O(R))return R=q(S,b(R)),new W(b(R.g),R.h);if(30<S.g.length){if(O(S)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var P=T,x=R;0>=x.l(S);)P=Z(P),x=Z(x);var L=J(P,1),V=J(x,1);for(x=J(x,2),P=J(P,2);!k(x);){var D=V.add(x);0>=D.l(S)&&(L=L.add(P),V=D),x=J(x,1),P=J(P,1)}return R=F(S,L.j(R)),new W(L,R)}for(L=_;0<=S.l(R);){for(P=Math.max(1,Math.floor(S.m()/R.m())),x=Math.ceil(Math.log(P)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=p(P),D=V.j(R);O(D)||0<D.l(S);)P-=x,V=p(P),D=V.j(R);k(V)&&(V=T),L=L.add(V),S=F(S,D)}return new W(L,S)}n.A=function(S){return q(this,S).h},n.and=function(S){for(var R=Math.max(this.g.length,S.g.length),P=[],x=0;x<R;x++)P[x]=this.i(x)&S.i(x);return new l(P,this.h&S.h)},n.or=function(S){for(var R=Math.max(this.g.length,S.g.length),P=[],x=0;x<R;x++)P[x]=this.i(x)|S.i(x);return new l(P,this.h|S.h)},n.xor=function(S){for(var R=Math.max(this.g.length,S.g.length),P=[],x=0;x<R;x++)P[x]=this.i(x)^S.i(x);return new l(P,this.h^S.h)};function Z(S){for(var R=S.g.length+1,P=[],x=0;x<R;x++)P[x]=S.i(x)<<1|S.i(x-1)>>>31;return new l(P,S.h)}function J(S,R){var P=R>>5;R%=32;for(var x=S.g.length-P,L=[],V=0;V<x;V++)L[V]=0<R?S.i(V+P)>>>R|S.i(V+P+1)<<32-R:S.i(V+P);return new l(L,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,uo=l}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zA,Wu,WA,bf,Fg,qA,KA,GA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var E=r;c=c.split(".");for(var N=0;N<c.length-1;N++){var K=c[N];if(!(K in E))break e;E=E[K]}c=c[c.length-1],N=E[c],y=y(N),y!=N&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var E=0,N=!1,K={next:function(){if(!N&&E<c.length){var te=E++;return{value:y(te,c[te]),done:!1}}return N=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function h(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function _(c,y,E){if(!c)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,N),c.apply(y,K)}}return function(){return c.apply(y,arguments)}}function T(c,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function C(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function k(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(N,K,te){for(var me=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)me[bt-2]=arguments[bt];return y.prototype[K].apply(N,me)}}function O(c){const y=c.length;if(0<y){const E=Array(y);for(let N=0;N<y;N++)E[N]=c[N];return E}return[]}function b(c,y){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(h(N)){const K=c.length||0,te=N.length||0;c.length=K+te;for(let me=0;me<te;me++)c[K+me]=N[me]}else c.push(N)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function q(c){return q[" "](c),c}q[" "]=function(){};var Z=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function J(c,y,E){for(const N in c)y.call(E,c[N],N,c)}function S(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function R(c){const y={};for(const E in c)y[E]=c[E];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let E,N;for(let K=1;K<arguments.length;K++){N=arguments[K];for(E in N)c[E]=N[E];for(let te=0;te<P.length;te++)E=P[te],Object.prototype.hasOwnProperty.call(N,E)&&(c[E]=N[E])}}function L(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function V(c){d.setTimeout(()=>{throw c},0)}function D(){var c=pe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,E){const N=xe.get();N.set(y,E),this.h?this.h.next=N:this.g=N,this.h=N}}var xe=new F(()=>new Fe,c=>c.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,pe=new we,ae=()=>{const c=d.Promise.resolve(void 0);Ne=()=>{c.then(B)}};var B=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(E){V(E)}var y=xe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c}();function Te(c,y){if(he.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{q(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}k(Te,he);var Ae={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function st(c,y,E,N,K){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!N,this.ha=K,this.key=++Ue,this.da=this.fa=!1}function Et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function It(c){this.src=c,this.g={},this.h=0}It.prototype.add=function(c,y,E,N,K){var te=c.toString();c=this.g[te],c||(c=this.g[te]=[],this.h++);var me=kt(c,y,N,K);return-1<me?(y=c[me],E||(y.fa=!1)):(y=new st(y,this.src,te,!!N,K),y.fa=E,c.push(y)),y};function it(c,y){var E=y.type;if(E in c.g){var N=c.g[E],K=Array.prototype.indexOf.call(N,y,void 0),te;(te=0<=K)&&Array.prototype.splice.call(N,K,1),te&&(Et(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function kt(c,y,E,N){for(var K=0;K<c.length;++K){var te=c[K];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==N)return K}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),rt={};function Ft(c,y,E,N,K){if(Array.isArray(y)){for(var te=0;te<y.length;te++)Ft(c,y[te],E,N,K);return null}return E=an(E),c&&c[qe]?c.K(y,E,p(N)?!!N.capture:!1,K):pn(c,y,E,!1,N,K)}function pn(c,y,E,N,K,te){if(!y)throw Error("Invalid event type");var me=p(K)?!!K.capture:!!K,bt=Dn(c);if(bt||(c[Kt]=bt=new It(c)),E=bt.add(y,E,N,me,te),E.proxy)return E;if(N=br(),E.proxy=N,N.src=c,N.listener=E,c.addEventListener)ye||(K=me),K===void 0&&(K=!1),c.addEventListener(y.toString(),N,K);else if(c.attachEvent)c.attachEvent(Zt(y.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function br(){function c(E){return y.call(c.src,c.listener,E)}const y=Jn;return c}function Hn(c,y,E,N,K){if(Array.isArray(y))for(var te=0;te<y.length;te++)Hn(c,y[te],E,N,K);else N=p(N)?!!N.capture:!!N,E=an(E),c&&c[qe]?(c=c.i,y=String(y).toString(),y in c.g&&(te=c.g[y],E=kt(te,E,N,K),-1<E&&(Et(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete c.g[y],c.h--)))):c&&(c=Dn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=kt(y,E,N,K)),(E=-1<c?y[c]:null)&&Bt(E))}function Bt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[qe])it(y.i,c);else{var E=c.type,N=c.proxy;y.removeEventListener?y.removeEventListener(E,N,c.capture):y.detachEvent?y.detachEvent(Zt(E),N):y.addListener&&y.removeListener&&y.removeListener(N),(E=Dn(y))?(it(E,c),E.h==0&&(E.src=null,y[Kt]=null)):Et(c)}}}function Zt(c){return c in rt?rt[c]:rt[c]="on"+c}function Jn(c,y){if(c.da)c=!0;else{y=new Te(y,this);var E=c.listener,N=c.ha||c.src;c.fa&&Bt(c),c=E.call(N,y)}return c}function Dn(c){return c=c[Kt],c instanceof It?c:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(c){return typeof c=="function"?c:(c[Dt]||(c[Dt]=function(y){return c.handleEvent(y)}),c[Dt])}function $e(){ee.call(this),this.i=new It(this),this.M=this,this.F=null}k($e,ee),$e.prototype[qe]=!0,$e.prototype.removeEventListener=function(c,y,E,N){Hn(this,c,y,E,N)};function mt(c,y){var E,N=c.F;if(N)for(E=[];N;N=N.F)E.push(N);if(c=c.M,N=y.type||y,typeof y=="string")y=new he(y,c);else if(y instanceof he)y.target=y.target||c;else{var K=y;y=new he(N,c),x(y,K)}if(K=!0,E)for(var te=E.length-1;0<=te;te--){var me=y.g=E[te];K=Ot(me,N,!0,y)&&K}if(me=y.g=c,K=Ot(me,N,!0,y)&&K,K=Ot(me,N,!1,y)&&K,E)for(te=0;te<E.length;te++)me=y.g=E[te],K=Ot(me,N,!1,y)&&K}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],N=0;N<E.length;N++)Et(E[N]);delete c.g[y],c.h--}}this.F=null},$e.prototype.K=function(c,y,E,N){return this.i.add(String(c),y,!1,E,N)},$e.prototype.L=function(c,y,E,N){return this.i.add(String(c),y,!0,E,N)};function Ot(c,y,E,N){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,te=0;te<y.length;++te){var me=y[te];if(me&&!me.da&&me.capture==E){var bt=me.listener,ln=me.ha||me.src;me.fa&&it(c.i,me),K=bt.call(ln,N)!==!1&&K}}return K&&!N.defaultPrevented}function mn(c,y,E){if(typeof c=="function")E&&(c=T(c,E));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function zn(c){c.g=mn(()=>{c.g=null,c.i&&(c.i=!1,zn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Wn extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(c){ee.call(this),this.h=c,this.g={}}k(Be,ee);var ot=[];function gn(c){J(c.g,function(y,E){this.g.hasOwnProperty(E)&&Bt(y)},c),c.g={}}Be.prototype.N=function(){Be.aa.N.call(this),gn(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,di=d.JSON.parse,Ao=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function fi(){}fi.prototype.h=null;function qr(c){return c.h||(c.h=c.i())}function $i(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){he.call(this,"d")}k(er,he);function Is(){he.call(this,"c")}k(Is,he);var pr={},Ro=null;function hi(){return Ro=Ro||new $e}pr.La="serverreachability";function pi(c){he.call(this,pr.La,c)}k(pi,he);function tr(c){const y=hi();mt(y,new pi(y))}pr.STAT_EVENT="statevent";function bo(c,y){he.call(this,pr.STAT_EVENT,c),this.stat=y}k(bo,he);function Ht(c){const y=hi();mt(y,new bo(y,c))}pr.Ma="timingevent";function U(c,y){he.call(this,pr.Ma,c),this.size=y}k(U,he);function z(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Y(){this.g=!0}Y.prototype.xa=function(){this.g=!1};function re(c,y,E,N,K,te){c.info(function(){if(c.g)if(te)for(var me="",bt=te.split("&"),ln=0;ln<bt.length;ln++){var vt=bt[ln].split("=");if(1<vt.length){var yn=vt[0];vt=vt[1];var tn=yn.split("_");me=2<=tn.length&&tn[1]=="type"?me+(yn+"="+vt+"&"):me+(yn+"=redacted&")}}else me=null;else me=te;return"XMLHTTP REQ ("+N+") [attempt "+K+"]: "+y+`
`+E+`
`+me})}function ve(c,y,E,N,K,te,me){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+K+"]: "+y+`
`+E+`
`+te+" "+me})}function ke(c,y,E,N){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(c,E)+(N?" "+N:"")})}function Qe(c,y){c.info(function(){return"TIMEOUT: "+y})}Y.prototype.info=function(){};function Pe(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var N=E[c];if(!(2>N.length)){var K=N[1];if(Array.isArray(K)&&!(1>K.length)){var te=K[0];if(te!="noop"&&te!="stop"&&te!="close")for(var me=1;me<K.length;me++)K[me]=""}}}}return Zn(E)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function et(){}k(et,fi),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},De=new et;function Je(c,y,E,N){this.j=c,this.i=y,this.l=E,this.R=N||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}var Tt={},at={};function Rt(c,y,E){c.L=1,c.v=Ns(yr(y)),c.m=E,c.P=!0,Nr(c,null)}function Nr(c,y){c.F=Date.now(),ct(c),c.A=yr(c.v);var E=c.A,N=c.R;Array.isArray(N)||(N=[String(N)]),Ps(E.i,"t",N),c.C=0,E=c.j.J,c.h=new Gt,c.g=ad(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Wn(T(c.Y,c,c.g),c.O)),y=c.U,E=c.g,N=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(ot[0]=K.toString()),K=ot);for(var te=0;te<K.length;te++){var me=Ft(E,K[te],N||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),tr(),re(c.i,c.u,c.A,c.l,c.R,c.m)}Je.prototype.ca=function(c){c=c.target;const y=this.M;y&&rr(c)==3?y.j():this.Y(c)},Je.prototype.Y=function(c){try{if(c==this.g)e:{const tn=rr(this.g);var y=this.g.Ba();const Dr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||tn!=4||y==7||(y==8||0>=Dr?tr(3):tr(2)),gr(this);var E=this.g.Z();this.X=E;t:if(mi(this)){var N=lu(this.g);c="";var K=N.length,te=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),xn(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,c+=this.h.i.decode(N[y],{stream:!(te&&y==K-1)});N.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=E==200,ve(this.i,this.u,this.A,this.l,this.R,tn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,ln=this.g;if((bt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(bt)){var vt=bt;break t}}vt=null}if(E=vt)ke(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gi(this,E);else{this.o=!1,this.s=3,Ht(12),Tn(this),xn(this);break e}}if(this.P){E=!0;let _r;for(;!this.J&&this.C<me.length;)if(_r=mr(this,me),_r==at){tn==4&&(this.s=4,Ht(14),E=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Tt){this.s=4,Ht(15),ke(this.i,this.l,me,"[Invalid Chunk]"),E=!1;break}else ke(this.i,this.l,_r,null),gi(this,_r);if(mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||me.length!=0||this.h.h||(this.s=1,Ht(16),E=!1),this.o=this.o&&E,!E)ke(this.i,this.l,me,"[Invalid Chunked Response]"),Tn(this),xn(this);else if(0<me.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),cu(yn),yn.M=!0,Ht(11))}}else ke(this.i,this.l,me,null),gi(this,me);tn==4&&Tn(this),this.o&&!this.J&&(tn==4?Oa(this.j,this):(this.o=!1,ct(this)))}else ba(this.g),E==400&&0<me.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Tn(this),xn(this)}}}catch{}finally{}};function mi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mr(c,y){var E=c.C,N=y.indexOf(`
`,E);return N==-1?at:(E=Number(y.substring(E,N)),isNaN(E)?Tt:(N+=1,N+E>y.length?at:(y=y.slice(N,N+E),c.C=N+E,y)))}Je.prototype.cancel=function(){this.J=!0,Tn(this)};function ct(c){c.S=Date.now()+c.I,Cs(c,c.I)}function Cs(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=z(T(c.ba,c),y)}function gr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qe(this.i,this.A),this.L!=2&&(tr(),Ht(17)),Tn(this),this.s=2,xn(this)):Cs(this,this.S-c)};function xn(c){c.j.G==0||c.J||Oa(c.j,c)}function Tn(c){gr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gi(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||ft(E.h,c))){if(!c.K&&ft(E.h,c)&&E.G==3){try{var N=E.Da.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var K=N;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Da(E),Xr(E);else break e;Pa(E),Ht(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=z(T(E.Za,E),6e3));if(1>=yi(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Hi(E,11)}else if((c.K||E.g==c)&&Da(E),!$(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let vt=K[y];if(E.T=vt[0],vt=vt[1],E.G==2)if(vt[0]=="c"){E.K=vt[1],E.ia=vt[2];const yn=vt[3];yn!=null&&(E.la=yn,E.j.info("VER="+E.la));const tn=vt[4];tn!=null&&(E.Aa=tn,E.j.info("SVER="+E.Aa));const Dr=vt[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(N=1.5*Dr,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const _r=c.g;if(_r){const Lo=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var te=N.h;te.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(kr(te,te.h),te.h=null))}if(N.D){const La=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(N.ya=La,Pt(N.I,N.D,La))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var me=c;if(N.qa=od(N,N.J?N.ia:null,N.W),me.K){No(N.h,me);var bt=me,ln=N.L;ln&&(bt.I=ln),bt.B&&(gr(bt),ct(bt)),N.g=me}else xo(N);0<E.i.length&&Ei(E)}else vt[0]!="stop"&&vt[0]!="close"||Hi(E,7);else E.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Hi(E,7):In(E):vt[0]!="noop"&&E.l&&E.l.ta(vt),E.v=0)}}tr(4)}catch{}}var dt=class{constructor(c,y){this.g=c,this.map=y}};function Ct(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function ft(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function kr(c,y){c.g?c.g.add(y):c.h=y}function No(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ct.prototype.cancel=function(){if(this.i=Ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ta(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return O(c.i)}function Sa(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var y=[],E=c.length,N=0;N<E;N++)y.push(c[N]);return y}y=[],E=0;for(N in c)y[E++]=c[N];return y}function Ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const N in c)y[E++]=N;return y}}}function As(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Ia(c),N=Sa(c),K=N.length,te=0;te<K;te++)y.call(void 0,N[te],E&&E[te],c)}var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var N=c[E].indexOf("="),K=null;if(0<=N){var te=c[E].substring(0,N);K=c[E].substring(N+1)}else te=c[E];y(te,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,Po(this,c.j),this.o=c.o,this.g=c.g,Rs(this,c.s),this.l=c.l;var y=c.i,E=new vi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),bs(this,E),this.m=c.m}else c&&(y=String(c).match(ko))?(this.h=!1,Po(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),Rs(this,y[4]),this.l=gt(y[5]||"",!0),bs(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Ui.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ks(y,Ca,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ks(y,Ca,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ks(E,E.charAt(0)=="/"?Jc:Xc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ks(E,su)),c.join("")};function yr(c){return new Ui(c)}function Po(c,y,E){c.j=E?gt(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function bs(c,y,E){y instanceof vi?(c.i=y,_i(c.i,c.h)):(E||(y=ks(y,Zc)),c.i=new vi(y,c.h))}function Pt(c,y,E){c.i.set(y,E)}function Ns(c){return Pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function gt(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Yc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Xc=/[#\?:]/g,Jc=/[#\?]/g,Zc=/[#\?@]/g,su=/#/g;function vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jh(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=vi.prototype,n.add=function(c,y){Sn(this),this.i=null,c=Pr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Kr(c,y){Sn(c),y=Pr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gr(c,y){return Sn(c),y=Pr(c,y),c.g.has(y)}n.forEach=function(c,y){Sn(this),this.g.forEach(function(E,N){E.forEach(function(K){c.call(y,K,N,this)},this)},this)},n.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let N=0;N<y.length;N++){const K=c[N];for(let te=0;te<K.length;te++)E.push(y[N])}return E},n.V=function(c){Sn(this);let y=[];if(typeof c=="string")Gr(this,c)&&(y=y.concat(this.g.get(Pr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},n.set=function(c,y){return Sn(this),this.i=null,c=Pr(this,c),Gr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ps(c,y,E){Kr(c,y),0<E.length&&(c.i=null,c.g.set(Pr(c,y),O(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var N=y[E];const te=encodeURIComponent(String(N)),me=this.V(N);for(N=0;N<me.length;N++){var K=te;me[N]!==""&&(K+="="+encodeURIComponent(String(me[N]))),c.push(K)}}return this.i=c.join("&")};function Pr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _i(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(E,N){var K=N.toLowerCase();N!=K&&(Kr(this,N),Ps(this,K,E))},c)),c.j=y}function Zh(c,y){const E=new Y;if(d.Image){const N=new Image;N.onload=C(nr,E,"TestLoadImage: loaded",!0,y,N),N.onerror=C(nr,E,"TestLoadImage: error",!1,y,N),N.onabort=C(nr,E,"TestLoadImage: abort",!1,y,N),N.ontimeout=C(nr,E,"TestLoadImage: timeout",!1,y,N),d.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else y(!1)}function ed(c,y){const E=new Y,N=new AbortController,K=setTimeout(()=>{N.abort(),nr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:N.signal}).then(te=>{clearTimeout(K),te.ok?nr(E,"TestPingServer: ok",!0,y):nr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),nr(E,"TestPingServer: error",!1,y)})}function nr(c,y,E,N,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),N(E)}catch{}}function ep(){this.g=new Ao}function td(c,y,E){const N=E||"";try{As(c,function(K,te){let me=K;p(K)&&(me=Zn(K)),y.push(N+te+"="+encodeURIComponent(me))})}catch(K){throw y.push(N+"type="+encodeURIComponent("_badmap")),K}}function ji(c){this.l=c.Ub||null,this.j=c.eb||!1}k(ji,fi),ji.prototype.g=function(){return new Do(this.l,this.j)},ji.prototype.i=function(c){return function(){return c}}({});function Do(c,y){$e.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Do,$e),n=Do.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Yr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nd(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nd(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Qr(this):Yr(this),this.readyState==3&&nd(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Qr(this))},n.Qa=function(c){this.g&&(this.response=c,Qr(this))},n.ga=function(){this.g&&Qr(this)};function Qr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fi(c){let y="";return J(c,function(E,N){y+=N,y+=":",y+=E,y+=`\r
`}),y}function Ds(c,y,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=Fi(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Pt(c,y,E))}function $t(c){$e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k($t,$e);var tp=/^https?$/i,ou=["POST","PUT"];n=$t.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?qr(this.o):qr(De),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(te){Oo(this,te);return}if(c=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var K in N)E.set(K,N[K]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const te of N.keys())E.set(te,N.get(te));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),K=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ou,y,void 0))||N||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,me]of E)this.g.setRequestHeader(te,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ra(this),this.u=!0,this.g.send(c),this.u=!1}catch(te){Oo(this,te)}};function Oo(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),vr(c)}function Aa(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?au(this):this.bb())},n.bb=function(){au(this)};function au(c){if(c.h&&typeof l<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)mn(c.Ea,0,c);else if(mt(c,"readystatechange"),rr(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var N;if(N=me===0){var K=String(c.D).match(ko)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),N=!tp.test(K?K.toLowerCase():"")}E=N}if(E)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var te=2<rr(c)?c.g.statusText:""}catch{te=""}c.l=te+" ["+c.Z()+"]",Aa(c)}}finally{vr(c)}}}}function vr(c,y){if(c.g){Ra(c);const E=c.g,N=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||mt(c,"ready");try{E.onreadystatechange=N}catch{}}}function Ra(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),di(y)}};function lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ba(c){const y={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if($(c[N]))continue;var E=L(c[N]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[K]||[];y[K]=te,te.push(E)}S(y,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function uu(c){this.Aa=0,this.i=[],this.j=new Y,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,c),this.cb=wi("retryDelaySeedMs",1e4,c),this.Wa=wi("forwardChannelMaxRetries",2,c),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ct(c&&c.concurrentRequestLimit),this.Da=new ep,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=uu.prototype,n.la=8,n.G=1,n.connect=function(c,y,E,N){Ht(0),this.W=c,this.H=y||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=od(this,null,this.W),Ei(this)};function In(c){if(Na(c),c.G==3){var y=c.U++,E=yr(c.I);if(Pt(E,"SID",c.K),Pt(E,"RID",y),Pt(E,"TYPE","terminate"),Bi(c,E),y=new Je(c,c.j,y),y.L=2,y.v=Ns(yr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=ad(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}sd(c)}function Xr(c){c.g&&(cu(c),c.g.cancel(),c.g=null)}function Na(c){Xr(c),c.u&&(d.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ei(c){if(!en(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ne||ae(),ne||(Ne(),ne=!0),pe.add(y,c),c.B=0}}function np(c,y){return yi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=z(T(c.Ga,c,y),id(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new Je(this,this.j,c);let te=this.o;if(this.S&&(te?(te=R(te),x(te,this.S)):te=this.S),this.m!==null||this.O||(K.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Os(this,K,y),E=yr(this.I),Pt(E,"RID",c),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),Bi(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(Fi(te)))+"&"+y:this.m&&Ds(E,this.m,te)),kr(this.h,K),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",y),Pt(E,"SID","null"),K.T=!0,Rt(K,E,null)):Rt(K,E,y),this.G=2}}else this.G==3&&(c?ka(this,c):this.i.length==0||en(this.h)||ka(this))};function ka(c,y){var E;y?E=y.l:E=c.U++;const N=yr(c.I);Pt(N,"SID",c.K),Pt(N,"RID",E),Pt(N,"AID",c.T),Bi(c,N),c.m&&c.o&&Ds(N,c.m,c.o),E=new Je(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Os(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),kr(c.h,E),Rt(E,N,y)}function Bi(c,y){c.H&&J(c.H,function(E,N){Pt(y,N,E)}),c.l&&As({},function(E,N){Pt(y,N,E)})}function Os(c,y,E){E=Math.min(c.i.length,E);var N=c.l?T(c.l.Na,c.l,c):null;e:{var K=c.i;let te=-1;for(;;){const me=["count="+E];te==-1?0<E?(te=K[0].g,me.push("ofs="+te)):te=0:me.push("ofs="+te);let bt=!0;for(let ln=0;ln<E;ln++){let vt=K[ln].g;const yn=K[ln].map;if(vt-=te,0>vt)te=Math.max(0,K[ln].g-100),bt=!1;else try{td(yn,me,"req"+vt+"_")}catch{N&&N(yn)}}if(bt){N=me.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,N}function xo(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ne||ae(),ne||(Ne(),ne=!0),pe.add(y,c),c.v=0}}function Pa(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=z(T(c.Fa,c),id(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,rd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=z(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Xr(this),rd(this))};function cu(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function rd(c){c.g=new Je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yr(c.qa);Pt(y,"RID","rpc"),Pt(y,"SID",c.K),Pt(y,"AID",c.T),Pt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pt(y,"TO",c.ja),Pt(y,"TYPE","xmlhttp"),Bi(c,y),c.m&&c.o&&Ds(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Ns(yr(y)),E.m=null,E.P=!0,Nr(E,c)}n.Za=function(){this.C!=null&&(this.C=null,Xr(this),Pa(this),Ht(19))};function Da(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Oa(c,y){var E=null;if(c.g==y){Da(c),cu(c),c.g=null;var N=2}else if(ft(c.h,y))E=y.D,No(c.h,y),N=1;else return;if(c.G!=0){if(y.o)if(N==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=c.B;N=hi(),mt(N,new U(N,E)),Ei(c)}else xo(c);else if(K=y.s,K==3||K==0&&0<y.X||!(N==1&&np(c,y)||N==2&&Pa(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),K){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function id(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Hi(c,y){if(c.j.info("Error code "+y),y==2){var E=T(c.fb,c),N=c.Xa;const K=!N;N=new Ui(N||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Po(N,"https"),Ns(N),K?Zh(N.toString(),E):ed(N.toString(),E)}else Ht(2);c.G=0,c.l&&c.l.sa(y),sd(c),Na(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function sd(c){if(c.G=0,c.ka=[],c.l){const y=Ta(c.h);(y.length!=0||c.i.length!=0)&&(b(c.ka,y),b(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function od(c,y,E){var N=E instanceof Ui?yr(E):new Ui(E);if(N.g!="")y&&(N.g=y+"."+N.g),Rs(N,N.s);else{var K=d.location;N=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var te=new Ui(null);N&&Po(te,N),y&&(te.g=y),K&&Rs(te,K),E&&(te.l=E),N=te}return E=c.D,y=c.ya,E&&y&&Pt(N,E,y),Pt(N,"VER",c.la),Bi(c,N),N}function ad(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $t(new ji({eb:E})):new $t(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}n=du.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new qn(c,y)};function qn(c,y){$e.call(this),this.g=new uu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ti(this)}k(qn,$e),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){In(this.g)},qn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Zn(c),c=E);y.i.push(new dt(y.Ya++,c)),y.G==3&&Ei(y)},qn.prototype.N=function(){this.g.l=null,delete this.j,In(this.g),delete this.g,qn.aa.N.call(this)};function ld(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(ld,er);function ud(){Is.call(this),this.status=1}k(ud,Is);function Ti(c){this.g=c}k(Ti,du),Ti.prototype.ua=function(){mt(this.g,"a")},Ti.prototype.ta=function(c){mt(this.g,new ld(c))},Ti.prototype.sa=function(c){mt(this.g,new ud)},Ti.prototype.ra=function(){mt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,GA=function(){return new xa},KA=function(){return hi()},qA=pr,Fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,bf=Re,Ie.COMPLETE="complete",WA=Ie,$i.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Wu=$i,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,zA=$t}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});const q0="@firebase/firestore",K0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new tv("@firebase/firestore");function fl(){return ua.logLevel}function be(n,...e){if(ua.logLevel<=ht.DEBUG){const t=e.map(iv);ua.debug(`Firestore (${eu}): ${n}`,...t)}}function ps(n,...e){if(ua.logLevel<=ht.ERROR){const t=e.map(iv);ua.error(`Firestore (${eu}): ${n}`,...t)}}function Ll(n,...e){if(ua.logLevel<=ht.WARN){const t=e.map(iv);ua.warn(`Firestore (${eu}): ${n}`,...t)}}function iv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n="Unexpected state"){const e=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: `+n;throw ps(e),new Error(e)}function At(n,e){n||Xe()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends ws{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jn.UNAUTHENTICATED))}shutdown(){}}class q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class K2{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new co;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new co,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},d=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new co)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new QA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new jn(e)}}class G2{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Q2{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new G2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y2{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,oi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new G0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X2(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function Ml(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-62135596800,Y0=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Y0);return new fn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q0)throw new Ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new fn(0,0))}static max(){return new tt(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class Ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(),r===void 0?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Ri.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ri.isNumericId(e),s=Ri.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class Yt extends Ri{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const J2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Ri{construct(e,t,r){return new Nn(e,t,r)}static isValidIdentifier(e){return J2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new Nn([X0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ke(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new Ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(t)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Yt.fromString(e))}static fromName(e){return new Ge(Yt.fromString(e).popFirst(5))}static empty(){return new Ge(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function Z2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=tt.fromTimestamp(r===1e9?new fn(t+1,0):new fn(t,r));return new mo(s,Ge.empty(),e)}function e$(n){return new mo(n.readTime,n.key,uc)}class mo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new mo(tt.min(),Ge.empty(),uc)}static max(){return new mo(tt.max(),Ge.empty(),uc)}}function t$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ge.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==n$)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let s=0,a=0,l=!1;e.forEach(d=>{++s,d.next(()=>{++a,l&&a===s&&t()},h=>r(h))}),l=!0,a===s&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(s=>s?ie.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++d,d===a&&r(l)},g=>s(g))}})}static doWhile(e,t){return new ie((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function i$(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-1;function Vh(n){return n==null}function Yf(n){return n===0&&1/n==-1/0}function s$(n){return typeof n=="number"&&Number.isInteger(n)&&!Yf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="";function o$(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J0(e)),e=a$(n.get(t),e);return J0(e)}function a$(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case XA:t+="";break;default:t+=a}}return t}function J0(n){return n+XA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Rn.RED,this.left=s??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Rn(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Rn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new ai([])}unionWith(e){let t=new hn(Nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ZA("Invalid base64 string: "+a):a}}(e);return new Pn(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const l$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(n){if(At(!!n),typeof n=="string"){let e=0;const t=l$.exec(n);if(At(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(n.seconds),nanos:Jt(n.nanos)}}function Jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yo(n){return typeof n=="string"?Pn.fromBase64String(n):Pn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="server_timestamp",tR="__type__",nR="__previous_value__",rR="__local_write_time__";function ov(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tR])===null||t===void 0?void 0:t.stringValue)===eR}function $h(n){const e=n.mapValue.fields[nR];return ov(e)?$h(e):e}function cc(n){const e=go(n.mapValue.fields[rR].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,t,r,s,a,l,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const Xf="(default)";class dc{constructor(e,t){this.projectId=e,this.database=t||Xf}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="__type__",c$="__max__",gf={mapValue:{}},sR="__vector__",Jf="value";function vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ov(n)?4:f$(n)?9007199254740991:d$(n)?10:11:Xe()}function xi(n,e){if(n===e)return!0;const t=vo(n);if(t!==vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cc(n).isEqual(cc(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=go(s.timestampValue),d=go(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return yo(s.bytesValue).isEqual(yo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Jt(s.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(s.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Jt(s.integerValue)===Jt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Jt(s.doubleValue),d=Jt(a.doubleValue);return l===d?Yf(l)===Yf(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Ml(n.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Z0(l)!==Z0(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!xi(l[h],d[h])))return!1;return!0}(n,e);default:return Xe()}}function fc(n,e){return(n.values||[]).find(t=>xi(t,e))!==void 0}function Vl(n,e){if(n===e)return 0;const t=vo(n),r=vo(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const d=Jt(a.integerValue||a.doubleValue),h=Jt(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return tT(n.timestampValue,e.timestampValue);case 4:return tT(cc(n),cc(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(a,l){const d=yo(a),h=yo(l);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const d=a.split("/"),h=l.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=yt(d[p],h[p]);if(g!==0)return g}return yt(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const d=yt(Jt(a.latitude),Jt(l.latitude));return d!==0?d:yt(Jt(a.longitude),Jt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nT(n.arrayValue,e.arrayValue);case 10:return function(a,l){var d,h,p,g;const _=a.fields||{},T=l.fields||{},C=(d=_[Jf])===null||d===void 0?void 0:d.arrayValue,k=(h=T[Jf])===null||h===void 0?void 0:h.arrayValue,O=yt(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0);return O!==0?O:nT(C,k)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===gf.mapValue&&l===gf.mapValue)return 0;if(a===gf.mapValue)return 1;if(l===gf.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const T=yt(h[_],g[_]);if(T!==0)return T;const C=Vl(d[h[_]],p[g[_]]);if(C!==0)return C}return yt(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function tT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=go(n),r=go(e),s=yt(t.seconds,r.seconds);return s!==0?s:yt(t.nanos,r.nanos)}function nT(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Vl(t[s],r[s]);if(a)return a}return yt(t.length,r.length)}function $l(n){return Bg(n)}function Bg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=go(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Bg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Bg(t.fields[l])}`;return s+"}"}(n.mapValue):Xe()}function Nf(n){switch(vo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(n);return e?16+Nf(e):16;case 5:return 2*n.stringValue.length;case 6:return yo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Nf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return va(r.fields,(a,l)=>{s+=a.length+Nf(l)}),s}(n.mapValue);default:throw Xe()}}function Hg(n){return!!n&&"integerValue"in n}function av(n){return!!n&&"arrayValue"in n}function rT(n){return!!n&&"nullValue"in n}function iT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kf(n){return!!n&&"mapValue"in n}function d$(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[iR])===null||t===void 0?void 0:t.stringValue)===sR}function ec(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ec(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ec(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f$(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===c$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(t)}setAll(e){let t=Nn.emptyPath(),r={},s=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=d.popLast()}l?r[d.lastSegment()]=ec(l):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){va(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new jr(ec(this.value))}}function oR(n){const e=[];return va(n.fields,(t,r)=>{const s=new Nn([t]);if(kf(r)){const a=oR(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,t,r,s,a,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Fn(e,0,tt.min(),tt.min(),tt.min(),jr.empty(),0)}static newFoundDocument(e,t,r,s){return new Fn(e,1,t,tt.min(),r,s,0)}static newNoDocument(e,t){return new Fn(e,2,t,tt.min(),tt.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,tt.min(),tt.min(),jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t){this.position=e,this.inclusive=t}}function sT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=Ge.comparator(Ge.fromName(l.referenceValue),t.key):r=Vl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function oT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function h$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{}class dn extends aR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new m$(e,t,r):t==="array-contains"?new v$(e,r):t==="in"?new _$(e,r):t==="not-in"?new w$(e,r):t==="array-contains-any"?new E$(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new g$(e,r):new y$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vl(t,this.value)):t!==null&&vo(this.value)===vo(t)&&this.matchesComparison(Vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends aR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Li(e,t)}matches(e){return lR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lR(n){return n.op==="and"}function uR(n){return p$(n)&&lR(n)}function p$(n){for(const e of n.filters)if(e instanceof Li)return!1;return!0}function zg(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+$l(n.value);if(uR(n))return n.filters.map(e=>zg(e)).join(",");{const e=n.filters.map(t=>zg(t)).join(",");return`${n.op}(${e})`}}function cR(n,e){return n instanceof dn?function(r,s){return s instanceof dn&&r.op===s.op&&r.field.isEqual(s.field)&&xi(r.value,s.value)}(n,e):n instanceof Li?function(r,s){return s instanceof Li&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,d)=>a&&cR(l,s.filters[d]),!0):!1}(n,e):void Xe()}function dR(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${$l(t.value)}`}(n):n instanceof Li?function(t){return t.op.toString()+" {"+t.getFilters().map(dR).join(" ,")+"}"}(n):"Filter"}class m$ extends dn{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class g$ extends dn{constructor(e,t){super(e,"in",t),this.keys=fR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class y$ extends dn{constructor(e,t){super(e,"not-in",t),this.keys=fR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class v$ extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return av(t)&&fc(t.arrayValue,this.value)}}class _$ extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fc(this.value.arrayValue,t)}}class w$ extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!fc(this.value.arrayValue,t)}}class E$ extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!av(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,t=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.le=null}}function aT(n,e=null,t=[],r=[],s=null,a=null,l=null){return new T$(n,e,t,r,s,a,l)}function lv(n){const e=nt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$l(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$l(r)).join(",")),e.le=t}return e.le}function uv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!h$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oT(n.startAt,e.startAt)&&oT(n.endAt,e.endAt)}function Wg(n){return Ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t=null,r=[],s=[],a=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function S$(n,e,t,r,s,a,l,d){return new Uh(n,e,t,r,s,a,l,d)}function cv(n){return new Uh(n)}function lT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I$(n){return n.collectionGroup!==null}function tc(n){const e=nt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new hn(Nn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new eh(a,r))}),t.has(Nn.keyField().canonicalString())||e.he.push(new eh(Nn.keyField(),r))}return e.he}function Ni(n){const e=nt(n);return e.Pe||(e.Pe=C$(e,tc(n))),e.Pe}function C$(n,e){if(n.limitType==="F")return aT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new eh(s.field,a)});const t=n.endAt?new Zf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zf(n.startAt.position,n.startAt.inclusive):null;return aT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qg(n,e,t){return new Uh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jh(n,e){return uv(Ni(n),Ni(e))&&n.limitType===e.limitType}function hR(n){return`${lv(Ni(n))}|lt:${n.limitType}`}function hl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>dR(s)).join(", ")}]`),Vh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>$l(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>$l(s)).join(",")),`Target(${r})`}(Ni(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of tc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,d,h){const p=sT(l,d,h);return l.inclusive?p<=0:p<0}(r.startAt,tc(r),s)||r.endAt&&!function(l,d,h){const p=sT(l,d,h);return l.inclusive?p>=0:p>0}(r.endAt,tc(r),s))}(n,e)}function A$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pR(n){return(e,t)=>{let r=!1;for(const s of tc(n)){const a=R$(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function R$(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(a,l,d){const h=l.data.field(a),p=d.data.field(a);return h!==null&&p!==null?Vl(h,p):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return JA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=new qt(Ge.comparator);function ms(){return b$}const mR=new qt(Ge.comparator);function qu(...n){let e=mR;for(const t of n)e=e.insert(t.key,t);return e}function gR(n){let e=mR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ea(){return nc()}function yR(){return nc()}function nc(){return new _a(n=>n.toString(),(n,e)=>n.isEqual(e))}const N$=new qt(Ge.comparator),k$=new hn(Ge.comparator);function pt(...n){let e=k$;for(const t of n)e=e.add(t);return e}const P$=new hn(yt);function D$(){return P$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function vR(n){return{integerValue:""+n}}function O$(n,e){return s$(e)?vR(e):dv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function x$(n,e,t){return n instanceof th?function(s,a){const l={fields:{[tR]:{stringValue:eR},[rR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ov(a)&&(a=$h(a)),a&&(l.fields[nR]=a),{mapValue:l}}(t,e):n instanceof hc?wR(n,e):n instanceof pc?ER(n,e):function(s,a){const l=_R(s,a),d=uT(l)+uT(s.Ie);return Hg(l)&&Hg(s.Ie)?vR(d):dv(s.serializer,d)}(n,e)}function L$(n,e,t){return n instanceof hc?wR(n,e):n instanceof pc?ER(n,e):t}function _R(n,e){return n instanceof nh?function(r){return Hg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class th extends Bh{}class hc extends Bh{constructor(e){super(),this.elements=e}}function wR(n,e){const t=TR(e);for(const r of n.elements)t.some(s=>xi(s,r))||t.push(r);return{arrayValue:{values:t}}}class pc extends Bh{constructor(e){super(),this.elements=e}}function ER(n,e){let t=TR(e);for(const r of n.elements)t=t.filter(s=>!xi(s,r));return{arrayValue:{values:t}}}class nh extends Bh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function uT(n){return Jt(n.integerValue||n.doubleValue)}function TR(n){return av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function M$(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof hc&&s instanceof hc||r instanceof pc&&s instanceof pc?Ml(r.elements,s.elements,xi):r instanceof nh&&s instanceof nh?xi(r.Ie,s.Ie):r instanceof th&&s instanceof th}(n.transform,e.transform)}class V${constructor(e,t){this.version=e,this.transformResults=t}}class us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hh{}function SR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new CR(n.key,us.none()):new Uc(n.key,n.data,us.none());{const t=n.data,r=jr.empty();let s=new hn(Nn.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new wa(n.key,r,new ai(s.toArray()),us.none())}}function $$(n,e,t){n instanceof Uc?function(s,a,l){const d=s.value.clone(),h=dT(s.fieldTransforms,a,l.transformResults);d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof wa?function(s,a,l){if(!Pf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=dT(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(IR(s)),h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function rc(n,e,t,r){return n instanceof Uc?function(a,l,d,h){if(!Pf(a.precondition,l))return d;const p=a.value.clone(),g=fT(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof wa?function(a,l,d,h){if(!Pf(a.precondition,l))return d;const p=fT(a.fieldTransforms,h,l),g=l.data;return g.setAll(IR(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,d){return Pf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d}(n,e,t)}function U$(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=_R(r.transform,s||null);a!=null&&(t===null&&(t=jr.empty()),t.set(r.field,a))}return t||null}function cT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ml(r,s,(a,l)=>M$(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uc extends Hh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wa extends Hh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function IR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dT(n,e,t){const r=new Map;At(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,L$(l,d,t[s]))}return r}function fT(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,x$(a,l,e))}return r}class CR extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j$ extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&$$(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=yR();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(s.key)?null:d;const h=SR(l,d);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(t,r)=>cT(t,r))&&Ml(this.baseMutations,e.baseMutations,(t,r)=>cT(t,r))}}class fv{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){At(e.mutations.length===r.length);let s=function(){return N$}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new fv(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,_t;function z$(n){switch(n){case de.OK:return Xe();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Xe()}}function AR(n){if(n===void 0)return ps("GRPC error has no .code"),de.UNKNOWN;switch(n){case rn.OK:return de.OK;case rn.CANCELLED:return de.CANCELLED;case rn.UNKNOWN:return de.UNKNOWN;case rn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case rn.INTERNAL:return de.INTERNAL;case rn.UNAVAILABLE:return de.UNAVAILABLE;case rn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case rn.NOT_FOUND:return de.NOT_FOUND;case rn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case rn.ABORTED:return de.ABORTED;case rn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case rn.DATA_LOSS:return de.DATA_LOSS;default:return Xe()}}(_t=rn||(rn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new uo([4294967295,4294967295],0);function hT(n){const e=W$().encode(n),t=new HA;return t.update(e),new Uint8Array(t.digest())}function pT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new uo([t,r],0),new uo([s,a],0)]}class hv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ku(`Invalid padding: ${t}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=uo.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(uo.fromNumber(r)));return s.compare(q$)===1&&(s=new uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=hT(e),[r,s]=pT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new hv(a,s,t);return r.forEach(d=>l.insert(d)),l}insert(e){if(this.Ee===0)return;const t=hT(e),[r,s]=pT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zh(tt.min(),s,new qt(yt),ms(),pt())}}class jc{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new jc(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class RR{constructor(e,t){this.targetId=e,this.ge=t}}class bR{constructor(e,t,r=Pn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class mT{constructor(){this.pe=0,this.ye=gT(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=pt(),t=pt(),r=pt();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Xe()}}),new jc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=gT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class K${constructor(e){this.ke=e,this.qe=new Map,this.Qe=ms(),this.$e=yf(),this.Ke=yf(),this.Ue=new qt(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const a=s.target;if(Wg(a))if(r===0){const l=new Ge(a.path);this.ze(t,l,Fn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const d=this.tt(e),h=d?this.nt(d,e,l):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,d;try{l=yo(r).toUint8Array()}catch(h){if(h instanceof ZA)return Ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new hv(l,s,a)}catch(h){return Ll(h instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ee===0?null:d}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.ke.it(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,a,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const d=this.Xe(l);if(d){if(a.current&&Wg(d.target)){const h=new Ge(d.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Fn.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=pt();this.Ke.forEach((a,l)=>{let d=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new zh(e,t,this.Ue,this.Qe,r);return this.Qe=ms(),this.$e=yf(),this.Ke=yf(),this.Ue=new qt(yt),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new hn(yt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new hn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function yf(){return new qt(Ge.comparator)}function gT(){return new qt(Ge.comparator)}const G$={asc:"ASCENDING",desc:"DESCENDING"},Q$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y$={and:"AND",or:"OR"};class X${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kg(n,e){return n.useProto3Json||Vh(e)?e:{value:e}}function rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function J$(n,e){return rh(n,e.toTimestamp())}function ki(n){return At(!!n),tt.fromTimestamp(function(t){const r=go(t);return new fn(r.seconds,r.nanos)}(n))}function pv(n,e){return Gg(n,e).canonicalString()}function Gg(n,e){const t=function(s){return new Yt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kR(n){const e=Yt.fromString(n);return At(LR(e)),e}function Qg(n,e){return pv(n.databaseId,e.path)}function ig(n,e){const t=kR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(DR(t))}function PR(n,e){return pv(n.databaseId,e)}function Z$(n){const e=kR(n);return e.length===4?Yt.emptyPath():DR(e)}function Yg(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DR(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function yT(n,e,t){return{name:Qg(n,e),fields:t.value.mapValue.fields}}function eU(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string"),Pn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Pn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(p){const g=p.code===void 0?de.UNKNOWN:AR(p.code);return new Ke(g,p.message||"")}(l);t=new bR(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ig(n,r.document.name),a=ki(r.document.updateTime),l=r.document.createTime?ki(r.document.createTime):tt.min(),d=new jr({mapValue:{fields:r.document.fields}}),h=Fn.newFoundDocument(s,a,l,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Df(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ig(n,r.document),a=r.readTime?ki(r.readTime):tt.min(),l=Fn.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Df([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ig(n,r.document),a=r.removedTargetIds||[];t=new Df([],a,s,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new H$(s,a),d=r.targetId;t=new RR(d,l)}}return t}function tU(n,e){let t;if(e instanceof Uc)t={update:yT(n,e.key,e.value)};else if(e instanceof CR)t={delete:Qg(n,e.key)};else if(e instanceof wa)t={update:yT(n,e.key,e.data),updateMask:cU(e.fieldMask)};else{if(!(e instanceof j$))return Xe();t={verify:Qg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const d=l.transform;if(d instanceof th)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof nh)return{fieldPath:l.field.canonicalString(),increment:d.Ie};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:J$(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(n,e.precondition)),t}function nU(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(s,a){let l=s.updateTime?ki(s.updateTime):ki(a);return l.isEqual(tt.min())&&(l=ki(a)),new V$(l,s.transformResults||[])}(t,e))):[]}function rU(n,e){return{documents:[PR(n,e.path)]}}function iU(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=PR(n,s);const a=function(p){if(p.length!==0)return xR(Li.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:pl(T.field),direction:aU(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=Kg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function sU(n){let e=Z$(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){At(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=OR(_);return T instanceof Li&&uR(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(k){return new eh(ml(k.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(_){let T;return T=typeof _=="object"?_.value:_,Vh(T)?null:T}(t.limit));let h=null;t.startAt&&(h=function(_){const T=!!_.before,C=_.values||[];return new Zf(C,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,C=_.values||[];return new Zf(C,T)}(t.endAt)),S$(e,s,l,a,d,"F",h,p)}function oU(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ml(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ml(t.unaryFilter.field);return dn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ml(t.unaryFilter.field);return dn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ml(t.unaryFilter.field);return dn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):n.fieldFilter!==void 0?function(t){return dn.create(ml(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Li.create(t.compositeFilter.filters.map(r=>OR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(n):Xe()}function aU(n){return G$[n]}function lU(n){return Q$[n]}function uU(n){return Y$[n]}function pl(n){return{fieldPath:n.canonicalString()}}function ml(n){return Nn.fromServerFormat(n.fieldPath)}function xR(n){return n instanceof dn?function(t){if(t.op==="=="){if(iT(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(rT(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iT(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(rT(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:lU(t.op),value:t.value}}}(n):n instanceof Li?function(t){const r=t.getFilters().map(s=>xR(s));return r.length===1?r[0]:{compositeFilter:{op:uU(t.op),filters:r}}}(n):Xe()}function cU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t,r,s,a=tt.min(),l=tt.min(),d=Pn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.Tt=e}}function fU(n){const e=sU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.Tn=new pU}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(mo.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class pU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new hn(Yt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new hn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MR=41943040;class dr{static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(MR,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ul(0)}static Un(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="LruGarbageCollector",mU=1048576;function wT([n,e],[t,r]){const s=yt(n,t);return s===0?yt(e,r):s}class gU{constructor(e){this.Hn=e,this.buffer=new hn(wT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(_T,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nu(t)?be(_T,"Ignoring IndexedDB error during garbage collection: ",t):await tu(t)}await this.er(3e5)})}}class vU{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Mh.ae);const r=new gU(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(vT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,a,l,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),fl()<=ht.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function _U(n,e){return new vU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.changes=new _a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&rc(r.mutation,s,ai.empty(),fn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const s=ea();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=qu();return a.forEach((d,h)=>{l=l.insert(d,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ea();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,r,s){let a=ms();const l=nc(),d=function(){return nc()}();return t.forEach((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof wa)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),rc(g.mutation,p,g.mutation.getFieldMask(),fn.now())):l.set(p.key,ai.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return d.set(p,new EU(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const r=nc();let s=new qt((l,d)=>l-d),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||ai.empty();g=d.applyToLocalView(p,g),r.set(h,g);const _=(s.get(d.batchId)||pt()).add(h);s=s.insert(d.batchId,_)})}).next(()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,_=yR();g.forEach(T=>{if(!a.has(T)){const C=SR(t.get(T),r.get(T));C!==null&&_.set(T,C),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ie.resolve(ea());let d=uc,h=a;return l.next(p=>ie.forEach(p,(g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{h=h.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,pt())).next(g=>({batchId:d,changes:gR(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let s=qu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=qu();return this.indexManager.getCollectionParents(e,a).next(d=>ie.forEach(d,h=>{const p=function(_,T){return new Uh(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Fn.newInvalidDocument(g)))});let d=qu();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&rc(g.mutation,p,ai.empty(),fn.now()),Fh(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ki(s.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:fU(s.bundledQuery),readTime:ki(s.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.overlays=new qt(Ge.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ea();return ie.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Et(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const s=ea(),a=t.length+1,l=new Ge(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new qt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=ea(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=ea(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=s)););return ie.resolve(d)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new B$(t,r));let a=this.Rr.get(t);a===void 0&&(a=pt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.Vr=new hn(En.mr),this.gr=new hn(En.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new En(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new En(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ge(new Yt([])),r=new En(t,e),s=new En(t,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ge(new Yt([])),r=new En(t,e),s=new En(t,e+1);let a=pt();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new En(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ge.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||Ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new hn(En.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new F$(a,t,r,s);this.mutationQueue.push(l);for(const d of s)this.Mr=this.Mr.add(new En(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),a=s<0?0:s;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?sv:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),s=new En(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const d=this.Or(l.Cr);a.push(d)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hn(yt);return t.forEach(s=>{const a=new En(s,0),l=new En(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],d=>{r=r.add(d.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ge.isDocumentKey(a)||(a=a.child(""));const l=new En(new Ge(a),0);let d=new hn(yt);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.Cr)),!0)},l),ie.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,s=>{const a=new En(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new En(t,0),s=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.kr=e,this.docs=function(){return new qt(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=ms();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Fn.newInvalidDocument(s))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ms();const l=t.path,d=new Ge(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||t$(e$(g),r)<=0||(s.has(g.key)||Fh(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Xe()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new bU(this)}getSize(e){return ie.resolve(this.size)}}class bU extends wU{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.persistence=e,this.Qr=new _a(t=>lv(t),uv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new mv,this.targetCount=0,this.Ur=Ul.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ul(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Qr.forEach((l,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ie.waitFor(a).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Mh(0),this.zr=!1,this.zr=!0,this.jr=new CU,this.referenceDelegate=e(this),this.Hr=new NU(this),this.indexManager=new hU,this.remoteDocumentCache=function(s){return new RU(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new dU(t),this.Yr=new SU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new AU(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const s=new kU(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class kU extends r${constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.ti=new mv,this.ni=null}static ri(e){return new gv(e)}get ii(){if(this.ni)return this.ni;throw Xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const s=Ge.fromPath(r);return this.si(e,s).next(a=>{a||t.removeEntry(s,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ih{constructor(e,t){this.persistence=e,this.oi=new _a(r=>o$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=_U(this,t)}static ri(e,t){return new ih(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?ie.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(d=>{d||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nf(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ie.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=pt(),s=pt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new yv(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return CV()?8:i$(Bn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new PU;return this._s(e,t,l).next(d=>{if(a.result=d,this.Xi)return this.us(e,t,l,d.size)})}).next(()=>a.result)}us(e,t,r,s){return r.documentReadCount<this.es?(fl()<=ht.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(fl()<=ht.DEBUG&&be("QueryEngine","Query:",hl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(fl()<=ht.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):ie.resolve())}rs(e,t){if(lT(t))return ie.resolve(null);let r=Ni(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=qg(t,null,"F"),r=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=pt(...a);return this.ns.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,d);return this.ls(t,p,l,h.readTime)?this.rs(e,qg(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,s){return lT(t)||s.isEqual(tt.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,s)?ie.resolve(null):(fl()<=ht.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hl(t)),this.hs(e,l,t,Z2(s,uc)).next(d=>d))})}cs(e,t){let r=new hn(pR(e));return t.forEach((s,a)=>{Fh(e,a)&&(r=r.add(a))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,t,r){return fl()<=ht.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",hl(t)),this.ns.getDocumentsMatchingQuery(e,t,mo.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LocalStore",OU=3e8;class xU{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new qt(yt),this.Is=new _a(a=>lv(a),uv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function LU(n,e,t,r){return new xU(n,e,t,r)}async function $R(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],d=[];let h=pt();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:d}))})})}function MU(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,h,p,g){const _=p.batch,T=_.keys();let C=ie.resolve();return T.forEach(k=>{C=C.next(()=>g.getEntry(h,k)).next(O=>{const b=p.docVersions.get(k);At(b!==null),O.version.compareTo(b)<0&&(_.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),g.addEntry(O)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(h,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=pt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function UR(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function VU(n,e){const t=nt(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const d=[];e.targetChanges.forEach((g,_)=>{const T=s.get(_);if(!T)return;d.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(Pn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),s=s.insert(_,C),function(O,b,F){return O.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=OU?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,C,g)&&d.push(t.Hr.updateTargetData(a,C))});let h=ms(),p=pt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push($U(a,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(tt.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return ie.waitFor(d).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ts=s,a))}function $U(n,e,t){let r=pt(),s=pt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ms();return t.forEach((d,h)=>{const p=a.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(tt.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):be(vv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function UU(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jU(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(a=>a?(s=a,ie.resolve(s)):t.Hr.allocateTargetId(r).next(l=>(s=new ro(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Xg(n,e,t){const r=nt(n),s=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!nu(l))throw l;be(vv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function ET(n,e,t){const r=nt(n);let s=tt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=nt(h),T=_.Is.get(g);return T!==void 0?ie.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Ni(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,d.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?s:tt.min(),t?a:pt())).next(d=>(FU(r,A$(e),d),{documents:d,gs:a})))}function FU(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class TT{constructor(){this.activeTargetIds=D$()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BU{constructor(){this.ho=new TT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new TT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="ConnectivityMonitor";class IT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(ST,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=null;function Jg(){return vf===null?vf=function(){return 268435456+Math.round(2147483648*Math.random())}():vf++,"0x"+vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="RestConnection",zU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WU{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,a){const l=Jg(),d=this.bo(e,t.toUriEncodedString());be(sg,`Sending RPC '${e}' ${l}:`,d,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(e,d,h,r).then(p=>(be(sg,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Ll(sg,`RPC '${e}' ${l} failed with error: `,p,"url: ",d,"request:",r),p})}Co(e,t,r,s,a,l){return this.So(e,t,r,s,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,t){const r=zU[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class KU extends WU{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=Jg();return new Promise((l,d)=>{const h=new zA;h.setWithCredentials(!0),h.listenOnce(WA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case bf.NO_ERROR:const g=h.getResponseJson();be(Un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case bf.TIMEOUT:be(Un,`RPC '${e}' ${a} timed out`),d(new Ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const _=h.getStatus();if(be(Un,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const k=function(b){const F=b.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(F)>=0?F:de.UNKNOWN}(C.status);d(new Ke(k,C.message))}else d(new Ke(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ke(de.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{be(Un,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);be(Un,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=Jg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GA(),d=KA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=a.join("");be(Un,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=l.createWebChannel(g,h);let T=!1,C=!1;const k=new qU({Fo:b=>{C?be(Un,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(T||(be(Un,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),be(Un,`RPC '${e}' stream ${s} sending:`,b),_.send(b))},Mo:()=>_.close()}),O=(b,F,$)=>{b.listen(F,W=>{try{$(W)}catch(q){setTimeout(()=>{throw q},0)}})};return O(_,Wu.EventType.OPEN,()=>{C||(be(Un,`RPC '${e}' stream ${s} transport opened.`),k.Qo())}),O(_,Wu.EventType.CLOSE,()=>{C||(C=!0,be(Un,`RPC '${e}' stream ${s} transport closed`),k.Ko())}),O(_,Wu.EventType.ERROR,b=>{C||(C=!0,Ll(Un,`RPC '${e}' stream ${s} transport errored:`,b),k.Ko(new Ke(de.UNAVAILABLE,"The operation could not be completed")))}),O(_,Wu.EventType.MESSAGE,b=>{var F;if(!C){const $=b.data[0];At(!!$);const W=$,q=(W==null?void 0:W.error)||((F=W[0])===null||F===void 0?void 0:F.error);if(q){be(Un,`RPC '${e}' stream ${s} received error:`,q);const Z=q.status;let J=function(P){const x=rn[P];if(x!==void 0)return AR(x)}(Z),S=q.message;J===void 0&&(J=de.INTERNAL,S="Unknown error status: "+Z+" with message "+q.message),C=!0,k.Ko(new Ke(J,S)),_.close()}else be(Un,`RPC '${e}' stream ${s} received:`,$),k.Uo($)}}),O(d,qA.STAT_EVENT,b=>{b.stat===Fg.PROXY?be(Un,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Fg.NOPROXY&&be(Un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n){return new X$(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="PersistentStream";class FR{constructor(e,t,r,s,a,l,d,h){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new jR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ps(t.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new Ke(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(CT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(CT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GU extends FR{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=eU(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?ki(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Yg(this.serializer),t.addTarget=function(a,l){let d;const h=l.target;if(d=Wg(h)?{documents:rU(a,h)}:{query:iU(a,h).ht},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=NR(a,l.resumeToken);const p=Kg(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){d.readTime=rh(a,l.snapshotVersion.toTimestamp());const p=Kg(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=oU(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Yg(this.serializer),t.removeTarget=e,this.I_(t)}}class QU extends FR{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=nU(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Yg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tU(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{}class XU extends YU{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Gg(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(de.UNKNOWN,a.toString())})}Co(e,t,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Co(e,Gg(t,r),s,l,d,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ke(de.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ps(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class ZU{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ea(this)&&(be(ca,"Restarting streams for network reachability change."),await async function(h){const p=nt(h);p.W_.add(4),await Fc(p),p.j_.set("Unknown"),p.W_.delete(4),await qh(p)}(this))})}),this.j_=new JU(r,s)}}async function qh(n){if(Ea(n))for(const e of n.G_)await e(!0)}async function Fc(n){for(const e of n.G_)await e(!1)}function BR(n,e){const t=nt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Tv(t)?Ev(t):ru(t).c_()&&wv(t,e))}function _v(n,e){const t=nt(n),r=ru(t);t.U_.delete(e),r.c_()&&HR(t,e),t.U_.size===0&&(r.c_()?r.P_():Ea(t)&&t.j_.set("Unknown"))}function wv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ru(n).y_(e)}function HR(n,e){n.H_.Ne(e),ru(n).w_(e)}function Ev(n){n.H_=new K$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ru(n).start(),n.j_.B_()}function Tv(n){return Ea(n)&&!ru(n).u_()&&n.U_.size>0}function Ea(n){return nt(n).W_.size===0}function zR(n){n.H_=void 0}async function ej(n){n.j_.set("Online")}async function tj(n){n.U_.forEach((e,t)=>{wv(n,e)})}async function nj(n,e){zR(n),Tv(n)?(n.j_.q_(e),Ev(n)):n.j_.set("Unknown")}async function rj(n,e,t){if(n.j_.set("Online"),e instanceof bR&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const d of a.targetIds)s.U_.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.U_.delete(d),s.H_.removeTarget(d))}(n,e)}catch(r){be(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(n,r)}else if(e instanceof Df?n.H_.We(e):e instanceof RR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await UR(n.localStore);t.compareTo(r)>=0&&await function(a,l){const d=a.H_.ot(l);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(h.resumeToken,l))}}),d.targetMismatches.forEach((h,p)=>{const g=a.U_.get(h);if(!g)return;a.U_.set(h,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),HR(a,h);const _=new ro(g.target,h,p,g.sequenceNumber);wv(a,_)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){be(ca,"Failed to raise snapshot:",r),await sh(n,r)}}async function sh(n,e,t){if(!nu(e))throw e;n.W_.add(1),await Fc(n),n.j_.set("Offline"),t||(t=()=>UR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(ca,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await qh(n)})}function WR(n,e){return e().catch(t=>sh(n,t,e))}async function Kh(n){const e=nt(n),t=_o(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:sv;for(;ij(e);)try{const s=await UU(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,sj(e,s)}catch(s){await sh(e,s)}qR(e)&&KR(e)}function ij(n){return Ea(n)&&n.K_.length<10}function sj(n,e){n.K_.push(e);const t=_o(n);t.c_()&&t.S_&&t.b_(e.mutations)}function qR(n){return Ea(n)&&!_o(n).u_()&&n.K_.length>0}function KR(n){_o(n).start()}async function oj(n){_o(n).C_()}async function aj(n){const e=_o(n);for(const t of n.K_)e.b_(t.mutations)}async function lj(n,e,t){const r=n.K_.shift(),s=fv.from(r,e,t);await WR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Kh(n)}async function uj(n,e){e&&_o(n).S_&&await async function(r,s){if(function(l){return z$(l)&&l!==de.ABORTED}(s.code)){const a=r.K_.shift();_o(r).h_(),await WR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Kh(r)}}(n,e),qR(n)&&KR(n)}async function AT(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),be(ca,"RemoteStore received new credentials");const r=Ea(t);t.W_.add(3),await Fc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await qh(t)}async function cj(n,e){const t=nt(n);e?(t.W_.delete(2),await qh(t)):e||(t.W_.add(2),await Fc(t),t.j_.set("Unknown"))}function ru(n){return n.J_||(n.J_=function(t,r,s){const a=nt(t);return a.M_(),new GU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:ej.bind(null,n),No:tj.bind(null,n),Lo:nj.bind(null,n),p_:rj.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Tv(n)?Ev(n):n.j_.set("Unknown")):(await n.J_.stop(),zR(n))})),n.J_}function _o(n){return n.Y_||(n.Y_=function(t,r,s){const a=nt(t);return a.M_(),new QU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:oj.bind(null,n),Lo:uj.bind(null,n),D_:aj.bind(null,n),v_:lj.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Kh(n)):(await n.Y_.stop(),n.K_.length>0&&(be(ca,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,d=new Sv(e,t,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iv(n,e){if(ps("AsyncQueue",`${e}: ${n}`),nu(n))return new Ke(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{static emptySet(e){return new yl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=qu(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.Z_=new qt(Ge.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class jl{constructor(e,t,r,s,a,l,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new jl(e,t,yl.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class fj{constructor(){this.queries=bT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=nt(t),a=s.queries;s.queries=bT(),a.forEach((l,d)=>{for(const h of d.ta)h.onError(r)})})(this,new Ke(de.ABORTED,"Firestore shutting down"))}}function bT(){return new _a(n=>hR(n),jh)}async function hj(n,e){const t=nt(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new dj,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(s,!0);break;case 1:a.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const d=Iv(l,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Cv(t)}async function pj(n,e){const t=nt(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function mj(n,e){const t=nt(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const d of l.ta)d.oa(s)&&(r=!0);l.ea=s}}r&&Cv(t)}function gj(n,e,t){const r=nt(n),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(t);r.queries.delete(e)}function Cv(n){n.ia.forEach(e=>{e.next()})}var Zg,NT;(NT=Zg||(Zg={}))._a="default",NT.Cache="cache";class yj{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.key=e}}class QR{constructor(e){this.key=e}}class vj{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=pR(e),this.wa=new yl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new RT,s=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const T=s.get(g),C=Fh(this.query,_)?_:null,k=!!T&&this.mutatedKeys.has(T.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let b=!1;T&&C?T.data.isEqual(C.data)?k!==O&&(r.track({type:3,doc:C}),b=!0):this.va(T,C)||(r.track({type:2,doc:C}),b=!0,(h&&this.ya(C,h)>0||p&&this.ya(C,p)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),b=!0):T&&!C&&(r.track({type:1,doc:T}),b=!0,(h||p)&&(d=!0)),b&&(C?(l=l.add(C),a=O?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:d,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(C,k){const O=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return O(C)-O(k)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),s=s!=null&&s;const d=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new jl(this.query,e.wa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new RT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new QR(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new GR(r))}),t}Oa(e){this.fa=e.gs,this.pa=pt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return jl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Av="SyncEngine";class _j{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wj{constructor(e){this.key=e,this.Ba=!1}}class Ej{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new _a(d=>hR(d),jh),this.qa=new Map,this.Qa=new Set,this.$a=new qt(Ge.comparator),this.Ka=new Map,this.Ua=new mv,this.Wa={},this.Ga=new Map,this.za=Ul.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Tj(n,e,t=!0){const r=tb(n);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await YR(r,e,t,!0),s}async function Sj(n,e){const t=tb(n);await YR(t,e,!0,!1)}async function YR(n,e,t,r){const s=await jU(n.localStore,Ni(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await Ij(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&BR(n.remoteStore,s),d}async function Ij(n,e,t,r,s){n.Ha=(_,T,C)=>async function(O,b,F,$){let W=b.view.ba(F);W.ls&&(W=await ET(O.localStore,b.query,!1).then(({documents:S})=>b.view.ba(S,W)));const q=$&&$.targetChanges.get(b.targetId),Z=$&&$.targetMismatches.get(b.targetId)!=null,J=b.view.applyChanges(W,O.isPrimaryClient,q,Z);return PT(O,b.targetId,J.Ma),J.snapshot}(n,_,T,C);const a=await ET(n.localStore,e,!0),l=new vj(e,a.gs),d=l.ba(a.documents),h=jc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(d,n.isPrimaryClient,h);PT(n,t,p.Ma);const g=new _j(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function Cj(n,e,t){const r=nt(n),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!jh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&_v(r.remoteStore,s.targetId),ey(r,s.targetId)}).catch(tu)):(ey(r,s.targetId),await Xg(r.localStore,s.targetId,!0))}async function Aj(n,e){const t=nt(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_v(t.remoteStore,r.targetId))}async function Rj(n,e,t){const r=xj(n);try{const s=await function(l,d){const h=nt(l),p=fn.now(),g=d.reduce((C,k)=>C.add(k.key),pt());let _,T;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=ms(),O=pt();return h.ds.getEntries(C,g).next(b=>{k=b,k.forEach((F,$)=>{$.isValidDocument()||(O=O.add(F))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,k)).next(b=>{_=b;const F=[];for(const $ of d){const W=U$($,_.get($.key).overlayedDocument);W!=null&&F.push(new wa($.key,W,oR(W.value.mapValue),us.exists(!0)))}return h.mutationQueue.addMutationBatch(C,p,F,d)}).next(b=>{T=b;const F=b.applyToLocalDocumentSet(_,O);return h.documentOverlayCache.saveOverlays(C,b.batchId,F)})}).then(()=>({batchId:T.batchId,changes:gR(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,d,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new qt(yt)),p=p.insert(d,h),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,t),await Bc(r,s.changes),await Kh(r.remoteStore)}catch(s){const a=Iv(s,"Failed to persist write");t.reject(a)}}async function XR(n,e){const t=nt(n);try{const r=await VU(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.Ka.get(a);l&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?At(l.Ba):s.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await Bc(t,r,e)}catch(r){await tu(r)}}function kT(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((a,l)=>{const d=l.view.sa(e);d.snapshot&&s.push(d.snapshot)}),function(l,d){const h=nt(l);h.onlineState=d;let p=!1;h.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(d)&&(p=!0)}),p&&Cv(h)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bj(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),a=s&&s.key;if(a){let l=new qt(Ge.comparator);l=l.insert(a,Fn.newNoDocument(a,tt.min()));const d=pt().add(a),h=new zh(tt.min(),new Map,new qt(yt),l,d);await XR(r,h),r.$a=r.$a.remove(a),r.Ka.delete(e),Rv(r)}else await Xg(r.localStore,e,!1).then(()=>ey(r,e,t)).catch(tu)}async function Nj(n,e){const t=nt(n),r=e.batch.batchId;try{const s=await MU(t.localStore,e);ZR(t,r,null),JR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(t,s)}catch(s){await tu(s)}}async function kj(n,e,t){const r=nt(n);try{const s=await function(l,d){const h=nt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next(_=>(At(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);ZR(r,e,t),JR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Bc(r,s)}catch(s){await tu(s)}}function JR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function ZR(n,e,t){const r=nt(n);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||eb(n,r)})}function eb(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(_v(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Rv(n))}function PT(n,e,t){for(const r of t)r instanceof GR?(n.Ua.addReference(r.key,e),Pj(n,r)):r instanceof QR?(be(Av,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||eb(n,r.key)):Xe()}function Pj(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(Av,"New document in limbo: "+t),n.Qa.add(r),Rv(n))}function Rv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ge(Yt.fromString(e)),r=n.za.next();n.Ka.set(r,new wj(t)),n.$a=n.$a.insert(t,r),BR(n.remoteStore,new ro(Ni(cv(t.path)),r,"TargetPurposeLimboResolution",Mh.ae))}}async function Bc(n,e,t){const r=nt(n),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((d,h)=>{l.push(r.Ha(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){s.push(p);const _=yv.Yi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(h,p){const g=nt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,T=>ie.forEach(T.Hi,C=>g.persistence.referenceDelegate.addReference(_,T.targetId,C)).next(()=>ie.forEach(T.Ji,C=>g.persistence.referenceDelegate.removeReference(_,T.targetId,C)))))}catch(_){if(!nu(_))throw _;be(vv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const C=g.Ts.get(T),k=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(k);g.Ts=g.Ts.insert(T,O)}}}(r.localStore,a))}async function Dj(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){be(Av,"User change. New user:",e.toKey());const r=await $R(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(d=>{d.forEach(h=>{h.reject(new Ke(de.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bc(t,r.Rs)}}function Oj(n,e){const t=nt(n),r=t.Ka.get(e);if(r&&r.Ba)return pt().add(r.key);{let s=pt();const a=t.qa.get(e);if(!a)return s;for(const l of a){const d=t.ka.get(l);s=s.unionWith(d.view.Sa)}return s}}function tb(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bj.bind(null,e),e.La.p_=mj.bind(null,e.eventManager),e.La.Ja=gj.bind(null,e.eventManager),e}function xj(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kj.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return LU(this.persistence,new DU,e.initialUser,this.serializer)}Xa(e){return new VR(gv.ri,this.serializer)}Za(e){return new BU}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class Lj extends oh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof ih);const r=this.persistence.referenceDelegate.garbageCollector;return new yU(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new VR(r=>ih.ri(r,t),this.serializer)}}class ty{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dj.bind(null,this.syncEngine),await cj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fj}()}createDatastore(e){const t=Wh(e.databaseInfo.databaseId),r=function(a){return new KU(a)}(e.databaseInfo);return function(a,l,d,h){return new XU(a,l,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,d){return new ZU(r,s,a,l,d)}(this.localStore,this.datastore,e.asyncQueue,t=>kT(this.syncEngine,t,0),function(){return IT.D()?new IT:new HU}())}createSyncEngine(e,t){return function(s,a,l,d,h,p,g){const _=new Ej(s,a,l,d,h,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=nt(s);be(ca,"RemoteStore shutting down."),a.W_.add(5),await Fc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="FirestoreClient";class Vj{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=YA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{be(wo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(wo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Iv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ag(n,e){n.asyncQueue.verifyOperationInProgress(),be(wo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $R(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function DT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $j(n);be(wo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>AT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>AT(e.remoteStore,s)),n._onlineComponents=e}async function $j(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(wo,"Using user provided OfflineComponentProvider");try{await ag(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ll("Error using user provided cache. Falling back to memory cache: "+t),await ag(n,new oh)}}else be(wo,"Using default OfflineComponentProvider"),await ag(n,new Lj(void 0));return n._offlineComponents}async function nb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(wo,"Using user provided OnlineComponentProvider"),await DT(n,n._uninitializedComponentsProvider._online)):(be(wo,"Using default OnlineComponentProvider"),await DT(n,new ty))),n._onlineComponents}function Uj(n){return nb(n).then(e=>e.syncEngine)}async function jj(n){const e=await nb(n),t=e.eventManager;return t.onListen=Tj.bind(null,e.syncEngine),t.onUnlisten=Cj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Sj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Aj.bind(null,e.syncEngine),t}function Fj(n,e,t={}){const r=new co;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,d,h,p){const g=new Mj({next:T=>{g.su(),l.enqueueAndForget(()=>pj(a,_));const C=T.docs.has(d);!C&&T.fromCache?p.reject(new Ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&h&&h.source==="server"?p.reject(new Ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new yj(cv(d.path),g,{includeMetadataChanges:!0,Ta:!0});return hj(a,_)}(await jj(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(n,e,t){if(!t)throw new Ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Hj(n,e,t,r){if(e===!0&&r===!0)throw new Ke(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xT(n){if(!Ge.isDocumentKey(n))throw new Ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe()}function mc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bv(n);throw new Ke(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firestore.googleapis.com",LT=!0;class MT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ib,this.ssl=LT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mU)throw new Ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nv{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W2;switch(r.type){case"firstParty":return new Q2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=OT.get(t);r&&(be("ComponentProvider","Removing Datastore"),OT.delete(t),r.terminate())}(this),Promise.resolve()}}function zj(n,e,t,r={}){var s;const a=(n=mc(n,Nv))._getSettings(),l=`${e}:${t}`;if(a.host!==ib&&a.host!==l&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=jn.MOCK_USER;else{d=vV(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jn(p)}n._authCredentials=new q2(new QA(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kv(this.firestore,e,this._query)}}class Br{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class gc extends kv{constructor(e,t,r){super(e,t,cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new Ge(e))}withConverter(e){return new gc(this.firestore,e,this._path)}}function VT(n,e,...t){if(n=Oi(n),arguments.length===1&&(e=YA.newId()),Bj("doc","path",e),n instanceof Nv){const r=Yt.fromString(e,...t);return xT(r),new Br(n,null,new Ge(r))}{if(!(n instanceof Br||n instanceof gc))throw new Ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return xT(r),new Br(n.firestore,n instanceof gc?n.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="AsyncQueue";class UT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jR(this,"async_queue_retry"),this.Su=()=>{const r=og();r&&be($T,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=og();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=og();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new co;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!nu(e))throw e;be($T,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d}(r);throw ps("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Sv.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Pv extends Nv{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new UT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UT(e),this._firestoreClient=void 0,await e}}}function Wj(n,e){const t=jA(),r=Xf,s=rv(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=gV("firestore");a&&zj(s,...a)}return s}function sb(n){if(n._terminated)throw new Ke(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qj(n),n._firestoreClient}function qj(n){var e,t,r;const s=n._freezeSettings(),a=function(d,h,p,g){return new u$(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,rb(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Vj(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fl(Pn.fromBase64String(e))}catch(t){throw new Ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fl(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=/^__.*__$/;class Gj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uc(e,this.data,t,this.fieldTransforms)}}function ab(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class Lv{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ah(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ab(this.Lu)&&Kj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Qj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wh(e)}ju(e,t,r,s=!1){return new Lv({Lu:e,methodName:t,zu:r,path:Nn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yj(n){const e=n._freezeSettings(),t=Wh(n._databaseId);return new Qj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Xj(n,e,t,r,s,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,s);db("Data must be an object, but it was:",l,r);const d=ub(r,l);let h,p;if(a.merge)h=new ai(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=Jj(e,_,t);if(!l.contains(T))throw new Ke(de.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);e4(g,T)||g.push(T)}h=new ai(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new Gj(new jr(d),h,p)}function lb(n,e){if(cb(n=Oi(n)))return db("Unsupported field value:",e,n),ub(n,e);if(n instanceof ob)return function(r,s){if(!ab(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const d of r){let h=lb(d,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Oi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fn.fromDate(r);return{timestampValue:rh(s.serializer,a)}}if(r instanceof fn){const a=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(s.serializer,a)}}if(r instanceof Ov)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fl)return{bytesValue:NR(s.serializer,r._byteString)};if(r instanceof Br){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xv)return function(l,d){return{mapValue:{fields:{[iR]:{stringValue:sR},[Jf]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return dv(d.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${bv(r)}`)}(n,e)}function ub(n,e){const t={};return JA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(r,s)=>{const a=lb(s,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function cb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fn||n instanceof Ov||n instanceof Fl||n instanceof Br||n instanceof ob||n instanceof xv)}function db(n,e,t){if(!cb(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=bv(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Jj(n,e,t){if((e=Oi(e))instanceof Dv)return e._internalPath;if(typeof e=="string")return fb(n,e);throw ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zj=new RegExp("[~\\*/\\[\\]]");function fb(n,e,t){if(e.search(Zj)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dv(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ah(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new Ke(de.INVALID_ARGUMENT,d+n+h)}function e4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class t4 extends hb{data(){return super.data()}}function pb(n,e){return typeof e=="string"?fb(n,e):e instanceof Dv?e._internalPath:e._delegate._internalPath}class n4{convertValue(e,t="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return va(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Jf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Jt(l.doubleValue));return new xv(a)}convertGeoPoint(e){return new Ov(Jt(e.latitude),Jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$h(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const t=go(e);return new fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yt.fromString(e);At(LR(r));const s=new dc(r.get(1),r.get(3)),a=new Ge(r.popFirst(5));return s.isEqual(t)||ps(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mb extends hb{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new s4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class s4 extends mb{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(n){n=mc(n,Br);const e=mc(n.firestore,Pv);return Fj(sb(e),n._key).then(t=>u4(e,n,t))}class a4 extends n4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,t)}}function jT(n,e,t){n=mc(n,Br);const r=mc(n.firestore,Pv),s=r4(n.converter,e);return l4(r,[Xj(Yj(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,us.none())])}function l4(n,e){return function(r,s){const a=new co;return r.asyncQueue.enqueueAndForget(async()=>Rj(await Uj(r),s,a)),a.promise}(sb(n),e)}function u4(n,e,t){const r=t.docs.get(e._key),s=new a4(n);return new mb(n,s,e._key,r,new i4(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){eu=s})(Zl),xl(new la("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new Pv(new K2(r.getProvider("auth-internal")),new Y2(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),lo(q0,K0,e),lo(q0,K0,"esm2017")})();function Mv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c4=gb,yb=new Vc("auth","Firebase",gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new tv("@firebase/auth");function d4(n,...e){lh.logLevel<=ht.WARN&&lh.warn(`Auth (${Zl}): ${n}`,...e)}function Of(n,...e){lh.logLevel<=ht.ERROR&&lh.error(`Auth (${Zl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,...e){throw $v(n,...e)}function li(n,...e){return $v(n,...e)}function Vv(n,e,t){const r=Object.assign(Object.assign({},c4()),{[e]:t});return new Vc("auth","Firebase",r).create(e,{appName:n.name})}function ia(n){return Vv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f4(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mi(n,"argument-error"),Vv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $v(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yb.create(n,...e)}function Ze(n,e,...t){if(!n)throw $v(e,...t)}function rs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Of(e),new Error(e)}function gs(n,e){n||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function h4(){return FT()==="http:"||FT()==="https:"}function FT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h4()||TV()||"connection"in navigator)?navigator.onLine:!0}function m4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=_V()||SV()}get(){return p4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(n,e){gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Hc(3e4,6e4);function jv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function iu(n,e,t,r,s={}){return _b(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=$c(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return EV()||(p.referrerPolicy="no-referrer"),vb.fetch()(wb(n,n.config.apiHost,t,d),p)})}async function _b(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},g4),e);try{const s=new _4(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw _f(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw _f(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw _f(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw _f(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Vv(n,g,p);Mi(n,g)}}catch(s){if(s instanceof ws)throw s;Mi(n,"network-request-failed",{message:String(s)})}}async function v4(n,e,t,r,s={}){const a=await iu(n,e,t,r,s);return"mfaPendingCredential"in a&&Mi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function wb(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Uv(n.config,s):`${n.config.apiScheme}://${s}`}class _4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),y4.get())})}}function _f(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=li(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(n,e){return iu(n,"POST","/v1/accounts:delete",e)}async function Eb(n,e){return iu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E4(n,e=!1){const t=Oi(n),r=await t.getIdToken(e),s=Fv(r);Ze(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:ic(lg(s.auth_time)),issuedAtTime:ic(lg(s.iat)),expirationTime:ic(lg(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function lg(n){return Number(n)*1e3}function Fv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const s=OA(t);return s?JSON.parse(s):(Of("Failed to decode base64 JWT payload"),null)}catch(s){return Of("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function BT(n){const e=Fv(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ws&&T4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function T4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await yc(n,Eb(t,{idToken:r}));Ze(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Tb(a.providerUserInfo):[],d=C4(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),g=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function I4(n){const e=Oi(n);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C4(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Tb(n){return n.map(e=>{var{providerId:t}=e,r=Mv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(n,e){const t=await _b(n,{},async()=>{const r=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=wb(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",vb.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function R4(n,e){return iu(n,"POST","/v2/accounts:revokeToken",jv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=BT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await A4(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new vl;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ze(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class is{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ry(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await yc(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return E4(this,e)}reload(){return I4(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new is(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await yc(this,w4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,l,d,h,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:W,emailVerified:q,isAnonymous:Z,providerData:J,stsTokenManager:S}=t;Ze(W&&S,e,"internal-error");const R=vl.fromJSON(this.name,S);Ze(typeof W=="string",e,"internal-error"),Qs(_,e.name),Qs(T,e.name),Ze(typeof q=="boolean",e,"internal-error"),Ze(typeof Z=="boolean",e,"internal-error"),Qs(C,e.name),Qs(k,e.name),Qs(O,e.name),Qs(b,e.name),Qs(F,e.name),Qs($,e.name);const P=new is({uid:W,auth:e,email:T,emailVerified:q,displayName:_,isAnonymous:Z,photoURL:k,phoneNumber:C,tenantId:O,stsTokenManager:R,createdAt:F,lastLoginAt:$});return J&&Array.isArray(J)&&(P.providerData=J.map(x=>Object.assign({},x))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new vl;s.updateFromServerResponse(t);const a=new is({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await uh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ze(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Tb(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new vl;d.updateFromIdToken(r);const h=new is({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ry(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;function ss(n){gs(n instanceof Function,"Expected a class definition");let e=HT.get(n);return e?(gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Sb.type="NONE";const zT=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n,e,t){return`firebase:${n}:${e}:${t}`}class _l{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=xf(this.userKey,s.apiKey,a),this.fullPersistenceKey=xf("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?is._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _l(ss(zT),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ss(zT);const l=xf(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(l);if(g){const _=is._fromJSON(e,g);p!==a&&(d=_),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new _l(a,e,r):(a=h[0],d&&await a._set(l,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new _l(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nb(e))return"Blackberry";if(kb(e))return"Webos";if(Cb(e))return"Safari";if((e.includes("chrome/")||Ab(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ib(n=Bn()){return/firefox\//i.test(n)}function Cb(n=Bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ab(n=Bn()){return/crios\//i.test(n)}function Rb(n=Bn()){return/iemobile/i.test(n)}function bb(n=Bn()){return/android/i.test(n)}function Nb(n=Bn()){return/blackberry/i.test(n)}function kb(n=Bn()){return/webos/i.test(n)}function Bv(n=Bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function b4(n=Bn()){var e;return Bv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N4(){return IV()&&document.documentMode===10}function Pb(n=Bn()){return Bv(n)||bb(n)||kb(n)||Nb(n)||/windows phone/i.test(n)||Rb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n,e=[]){let t;switch(n){case"Browser":t=WT(Bn());break;case"Worker":t=`${WT(Bn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,d)=>{try{const h=e(a);l(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(n,e={}){return iu(n,"GET","/v2/passwordPolicy",jv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=6;class O4{constructor(e){var t,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:D4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,l,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qT(this),this.idTokenSubscription=new qT(this),this.beforeStateQueue=new k4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ss(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Eb(this,{idToken:e}),r=await is._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(oi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===d)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(ia(this));const t=e?Oi(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P4(this),t=new O4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await R4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ss(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[ss(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&d4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Gh(n){return Oi(n)}class qT{constructor(e){this.auth=e,this.observer=null,this.addObserver=DV(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L4(n){Hv=n}function M4(n){return Hv.loadJS(n)}function V4(){return Hv.gapiScript}function $4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(n,e){const t=rv(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Gf(a,e??{}))return s;Mi(s,"already-initialized")}return t.initialize({options:e})}function j4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ss);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F4(n,e,t){const r=Gh(n);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=Ob(e),{host:l,port:d}=B4(e),h=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),H4()}function Ob(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function B4(n){const e=Ob(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:KT(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:KT(l)}}}function KT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function H4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,t){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n,e){return v4(n,"POST","/v1/accounts:signInWithIdp",jv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="http://localhost";class da extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Mv(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new da(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return wl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,wl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wl(e,t)}buildRequest(){const e={requestUri:z4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$c(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends zv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends zc{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return es.credential(t,r)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends zc{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends zc{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return eo.credential(t,r)}catch{return null}}}eo.TWITTER_SIGN_IN_METHOD="twitter.com";eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await is._fromIdTokenResponse(e,r,s),l=GT(r);return new Bl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=GT(r);return new Bl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function GT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends ws{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ch(e,t,r,s)}}function Lb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(n,a,e,r):a})}async function W4(n,e,t=!1){const r=await yc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(n,e,t=!1){const{auth:r}=n;if(oi(r.app))return Promise.reject(ia(r));const s="reauthenticate";try{const a=await yc(n,Lb(r,s,e,n),t);Ze(a.idToken,r,"internal-error");const l=Fv(a.idToken);Ze(l,r,"internal-error");const{sub:d}=l;return Ze(n.uid===d,r,"user-mismatch"),Bl._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(n,e,t=!1){if(oi(n.app))return Promise.reject(ia(n));const r="signIn",s=await Lb(n,r,e),a=await Bl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function G4(n,e,t,r){return Oi(n).onIdTokenChanged(e,t,r)}function Q4(n,e,t){return Oi(n).beforeAuthStateChanged(e,t)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=1e3,X4=10;class Vb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);N4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,X4):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vb.type="LOCAL";const J4=Vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$b.type="SESSION";const Ub=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async p=>p(t.origin,a)),h=await Z4(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,h)=>{const p=Wv("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function tF(n){Pi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function nF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function iF(){return jb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebaseLocalStorageDb",sF=1,fh="firebaseLocalStorage",Bb="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(n,e){return n.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function oF(){const n=indexedDB.deleteDatabase(Fb);return new Wc(n).toPromise()}function iy(){const n=indexedDB.open(Fb,sF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fh,{keyPath:Bb})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await oF(),e(await iy()))})})}async function QT(n,e,t){const r=Yh(n,!0).put({[Bb]:e,value:t});return new Wc(r).toPromise()}async function aF(n,e){const t=Yh(n,!1).get(e),r=await new Wc(t).toPromise();return r===void 0?null:r.value}function YT(n,e){const t=Yh(n,!0).delete(e);return new Wc(t).toPromise()}const lF=800,uF=3;class Hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>uF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(iF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nF(),!this.activeServiceWorker)return;this.sender=new eF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iy();return await QT(e,dh,"1"),await YT(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>QT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>aF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>YT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Yh(s,!1).getAll();return new Wc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hb.type="LOCAL";const cF=Hb;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n,e){return e?ss(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dF(n){return K4(n.auth,new qv(n),n.bypassAuthState)}function fF(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),q4(t,new qv(n),n.bypassAuthState)}async function hF(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),W4(t,new qv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dF;case"linkViaPopup":case"linkViaRedirect":return hF;case"reauthViaPopup":case"reauthViaRedirect":return fF;default:Mi(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new Hc(2e3,1e4);async function mF(n,e,t){if(oi(n.app))return Promise.reject(li(n,"operation-not-supported-in-this-environment"));const r=Gh(n);f4(n,e,zv);const s=zb(r,t);return new ta(r,"signInViaPopup",e,s).executeNotNull()}class ta extends Wb{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pF.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="pendingRedirect",Lf=new Map;class yF extends Wb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const r=await vF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vF(n,e){const t=EF(e),r=wF(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function _F(n,e){Lf.set(n._key(),e)}function wF(n){return ss(n._redirectPersistence)}function EF(n){return xf(gF,n.config.apiKey,n.name)}async function TF(n,e,t=!1){if(oi(n.app))return Promise.reject(ia(n));const r=Gh(n),s=zb(r,e),l=await new yF(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=10*60*1e3;class IF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!qb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(li(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SF&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}}function XT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(n,e={}){return iu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bF=/^https?/;async function NF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AF(n);for(const t of e)try{if(kF(t))return}catch{}Mi(n,"unauthorized-domain")}function kF(n){const e=ny(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!bF.test(t))return!1;if(RF.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new Hc(3e4,6e4);function JT(){const n=Pi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function DF(n){return new Promise((e,t)=>{var r,s,a;function l(){JT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JT(),t(li(n,"network-request-failed"))},timeout:PF.get()})}if(!((s=(r=Pi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Pi().gapi)===null||a===void 0)&&a.load)l();else{const d=$4("iframefcb");return Pi()[d]=()=>{gapi.load?l():t(li(n,"network-request-failed"))},M4(`${V4()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function OF(n){return Mf=Mf||DF(n),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=new Hc(5e3,15e3),LF="__/auth/iframe",MF="emulator/auth/iframe",VF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$F=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UF(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Uv(e,MF):`https://${n.config.authDomain}/${LF}`,r={apiKey:e.apiKey,appName:n.name,v:Zl},s=$F.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${$c(r).slice(1)}`}async function jF(n){const e=await OF(n),t=Pi().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:UF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VF,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=li(n,"network-request-failed"),d=Pi().setTimeout(()=>{a(l)},xF.get());function h(){Pi().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BF=500,HF=600,zF="_blank",WF="http://localhost";class ZT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qF(n,e,t,r=BF,s=HF){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},FF),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Bn().toLowerCase();t&&(d=Ab(p)?zF:t),Ib(p)&&(e=e||WF,h.scrollbars="yes");const g=Object.entries(h).reduce((T,[C,k])=>`${T}${C}=${k},`,"");if(b4(p)&&d!=="_self")return KF(e||"",d),new ZT(null);const _=window.open(e||"",d,g);Ze(_,n,"popup-blocked");try{_.focus()}catch{}return new ZT(_)}function KF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="__/auth/handler",QF="emulator/auth/handler",YF=encodeURIComponent("fac");async function eS(n,e,t,r,s,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zl,eventId:s};if(e instanceof zv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",PV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof zc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),p=h?`#${YF}=${encodeURIComponent(h)}`:"";return`${XF(n)}?${$c(d).slice(1)}${p}`}function XF({config:n}){return n.emulator?Uv(n,QF):`https://${n.authDomain}/${GF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="webStorageSupport";class JF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ub,this._completeRedirectFn=TF,this._overrideRedirectResult=_F}async _openPopup(e,t,r,s){var a;gs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await eS(e,t,r,ny(),s);return qF(e,l,Wv())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await eS(e,t,r,ny(),s);return tF(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(gs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jF(e),r=new IF(e);return t.register("authEvent",s=>(Ze(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ug,{type:ug},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[ug];l!==void 0&&t(!!l),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pb()||Cb()||Bv()}}const ZF=JF;var tS="@firebase/auth",nS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nB(n){xl(new la("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Db(n)},p=new x4(r,s,a,h);return j4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xl(new la("auth-internal",e=>{const t=Gh(e.getProvider("auth").getImmediate());return(r=>new eB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),lo(tS,nS,tB(n)),lo(tS,nS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=5*60,iB=MA("authIdTokenMaxAge")||rB;let rS=null;const sB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>iB)return;const s=t==null?void 0:t.token;rS!==s&&(rS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oB(n=jA()){const e=rv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=U4(n,{popupRedirectResolver:ZF,persistence:[cF,J4,Ub]}),r=MA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=sB(a.toString());Q4(t,l,()=>l(t.currentUser)),G4(t,d=>l(d))}}const s=xA("auth");return s&&F4(t,`http://${s}`),t}function aB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}L4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=li("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",aB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nB("Browser");const lB={apiKey:"AIzaSyCblep2F44R6hI9j-q4zh8EWUTms43_OJI",authDomain:"traderymessenger.firebaseapp.com",projectId:"traderymessenger",storageBucket:"traderymessenger.firebasestorage.app",messagingSenderId:"693590502885",appId:"1:693590502885:web:658531b928cc1f40b1930c"};UA(lB);const uB=oB(),iS=Wj();async function cB(){try{const n=new es,t=(await mF(uB,n)).user;if(!t){console.error("Firebase login failed.");return}const r=VT(iS,"users",t.uid);(await o4(r)).exists()||(await jT(r,{id:t.uid,email:t.email,username:t.displayName||"New User",createdAt:new Date,blocked:[]}),await jT(VT(iS,"userchats",t.uid),{chats:[]})),await Mc.createOAuth2Session(Lg.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery"),console.log("Login successful with Firebase and Appwrite.")}catch(n){console.error("Error during login:",n),alert(`Login failed: ${n.message}`)}}const Kb=w.createContext(void 0),dB=({children:n})=>{const e=fB();return A(Kb.Provider,{value:e,children:n})};function fB(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const h=await sV();e(h.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:h}=await lV(),p=!!h.find(g=>g.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function s(){await cB()}async function a(d,h){try{await Mc.createEmailPasswordSession(d,h)}catch(p){console.error(p)}}async function l(){await oV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:s,logInAdmin:a}}function Vi(){const n=w.useContext(Kb);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jt.apply(this,arguments)}var sn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(sn||(sn={}));const sS="popstate";function hB(n){n===void 0&&(n={});function e(s,a){let{pathname:l="/",search:d="",hash:h=""}=Es(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),vc("",{pathname:l,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let l=s.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof a=="string"?a:ha(a))}function r(s,a){fa(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return mB(e,t,r,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pB(){return Math.random().toString(36).substr(2,8)}function oS(n,e){return{usr:n.state,key:n.key,idx:e}}function vc(n,e,t,r){return t===void 0&&(t=null),jt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Es(e):e,{state:t,key:e&&e.key||r||pB()})}function ha(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Es(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function mB(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d=sn.Pop,h=null,p=g();p==null&&(p=0,l.replaceState(jt({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){d=sn.Pop;let b=g(),F=b==null?null:b-p;p=b,h&&h({action:d,location:O.location,delta:F})}function T(b,F){d=sn.Push;let $=vc(O.location,b,F);t&&t($,b),p=g()+1;let W=oS($,p),q=O.createHref($);try{l.pushState(W,"",q)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;s.location.assign(q)}a&&h&&h({action:d,location:O.location,delta:1})}function C(b,F){d=sn.Replace;let $=vc(O.location,b,F);t&&t($,b),p=g();let W=oS($,p),q=O.createHref($);l.replaceState(W,"",q),a&&h&&h({action:d,location:O.location,delta:0})}function k(b){let F=s.location.origin!=="null"?s.location.origin:s.location.href,$=typeof b=="string"?b:ha(b);return $=$.replace(/ $/,"%20"),ut(F,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,F)}let O={get action(){return d},get location(){return n(s,l)},listen(b){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(sS,_),h=b,()=>{s.removeEventListener(sS,_),h=null}},createHref(b){return e(s,b)},createURL:k,encodeLocation(b){let F=k(b);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:C,go(b){return l.go(b)}};return O}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const gB=new Set(["lazy","caseSensitive","path","id","index","children"]);function yB(n){return n.index===!0}function hh(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((s,a)=>{let l=[...t,String(a)],d=typeof s.id=="string"?s.id:l.join("-");if(ut(s.index!==!0||!s.children,"Cannot specify children on an index route"),ut(!r[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),yB(s)){let h=jt({},s,e(s),{id:d});return r[d]=h,h}else{let h=jt({},s,e(s),{id:d,children:void 0});return r[d]=h,s.children&&(h.children=hh(s.children,e,l,r)),h}})}function Qo(n,e,t){return t===void 0&&(t="/"),Vf(n,e,t,!1)}function Vf(n,e,t,r){let s=typeof e=="string"?Es(e):e,a=ys(s.pathname||"/",t);if(a==null)return null;let l=Gb(n);_B(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=kB(a);d=bB(l[h],p,r)}return d}function vB(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function Gb(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ut(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=cs([r,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Gb(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:AB(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let h of Qb(a.path))s(a,l,h)}),e}function Qb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Qb(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...l),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function _B(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const wB=/^:[\w-]+$/,EB=3,TB=2,SB=1,IB=10,CB=-2,aS=n=>n==="*";function AB(n,e){let t=n.split("/"),r=t.length;return t.some(aS)&&(r+=CB),e&&(r+=TB),t.filter(s=>!aS(s)).reduce((s,a)=>s+(wB.test(a)?EB:a===""?SB:IB),r)}function RB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function bB(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,s={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=ph({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),T=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=ph({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:cs([a,_.pathname]),pathnameBase:OB(cs([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=cs([a,_.pathnameBase]))}return l}function ph(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=NB(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:T,isOptional:C}=g;if(T==="*"){let O=d[_]||"";l=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const k=d[_];return C&&!k?p[T]=void 0:p[T]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function NB(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),fa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fa(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ys(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function PB(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Es(n):n;return{pathname:t?t.startsWith("/")?t:DB(t,e):e,search:xB(r),hash:LB(s)}}function DB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function cg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kv(n,e){let t=Yb(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Gv(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Es(n):(s=jt({},n),ut(!s.pathname||!s.pathname.includes("?"),cg("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),cg("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),cg("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}d=_>=0?e[_]:"/"}let h=PB(s,d),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const cs=n=>n.join("/").replace(/\/\/+/g,"/"),OB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class mh{constructor(e,t,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function _c(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Xb=["post","put","patch","delete"],MB=new Set(Xb),VB=["get",...Xb],$B=new Set(VB),UB=new Set([301,302,303,307,308]),jB=new Set([307,308]),dg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},FB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ju={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BB=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Jb="remix-router-transitions";function HB(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(n.mapRouteProperties)s=n.mapRouteProperties;else if(n.detectErrorBoundary){let U=n.detectErrorBoundary;s=z=>({hasErrorBoundary:U(z)})}else s=BB;let a={},l=hh(n.routes,s,void 0,a),d,h=n.basename||"/",p=n.dataStrategy||KB,g=n.patchRoutesOnNavigation,_=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,C=new Set,k=null,O=null,b=null,F=n.hydrationData!=null,$=Qo(l,n.history.location,h),W=!1,q=null;if($==null&&!g){let U=cr(404,{pathname:n.history.location.pathname}),{matches:z,route:Y}=vS(l);$=z,q={[Y.id]:U}}$&&!n.hydrationData&&pi($,l,n.history.location.pathname).active&&($=null);let Z;if($)if($.some(U=>U.route.lazy))Z=!1;else if(!$.some(U=>U.route.loader))Z=!0;else if(_.v7_partialHydration){let U=n.hydrationData?n.hydrationData.loaderData:null,z=n.hydrationData?n.hydrationData.errors:null;if(z){let Y=$.findIndex(re=>z[re.route.id]!==void 0);Z=$.slice(0,Y+1).every(re=>!oy(re.route,U,z))}else Z=$.every(Y=>!oy(Y.route,U,z))}else Z=n.hydrationData!=null;else if(Z=!1,$=[],_.v7_partialHydration){let U=pi(null,l,n.history.location.pathname);U.active&&U.matches&&(W=!0,$=U.matches)}let J,S={historyAction:n.history.action,location:n.history.location,matches:$,initialized:Z,navigation:dg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||q,fetchers:new Map,blockers:new Map},R=sn.Pop,P=!1,x,L=!1,V=new Map,D=null,we=!1,xe=!1,Fe=[],Ne=new Set,ne=new Map,pe=0,ae=-1,B=new Map,ee=new Set,he=new Map,ye=new Map,Te=new Set,Ae=new Map,qe=new Map,Ue;function st(){if(T=n.history.listen(U=>{let{action:z,location:Y,delta:re}=U;if(Ue){Ue(),Ue=void 0;return}fa(qe.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=$i({currentLocation:S.location,nextLocation:Y,historyAction:z});if(ve&&re!=null){let ke=new Promise(Qe=>{Ue=Qe});n.history.go(re*-1),qr(ve,{state:"blocked",location:Y,proceed(){qr(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ke.then(()=>n.history.go(re))},reset(){let Qe=new Map(S.blockers);Qe.set(ve,ju),it({blockers:Qe})}});return}return Ft(z,Y)}),t){a9(e,V);let U=()=>l9(e,V);e.addEventListener("pagehide",U),D=()=>e.removeEventListener("pagehide",U)}return S.initialized||Ft(sn.Pop,S.location,{initialHydration:!0}),J}function Et(){T&&T(),D&&D(),C.clear(),x&&x.abort(),S.fetchers.forEach((U,z)=>Wn(z)),S.blockers.forEach((U,z)=>fi(z))}function It(U){return C.add(U),()=>C.delete(U)}function it(U,z){z===void 0&&(z={}),S=jt({},S,U);let Y=[],re=[];_.v7_fetcherPersist&&S.fetchers.forEach((ve,ke)=>{ve.state==="idle"&&(Te.has(ke)?re.push(ke):Y.push(ke))}),Te.forEach(ve=>{!S.fetchers.has(ve)&&!ne.has(ve)&&re.push(ve)}),[...C].forEach(ve=>ve(S,{deletedFetchers:re,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),_.v7_fetcherPersist?(Y.forEach(ve=>S.fetchers.delete(ve)),re.forEach(ve=>Wn(ve))):re.forEach(ve=>Te.delete(ve))}function kt(U,z,Y){var re,ve;let{flushSync:ke}=Y===void 0?{}:Y,Qe=S.actionData!=null&&S.navigation.formMethod!=null&&ii(S.navigation.formMethod)&&S.navigation.state==="loading"&&((re=U.state)==null?void 0:re._isRedirect)!==!0,Pe;z.actionData?Object.keys(z.actionData).length>0?Pe=z.actionData:Pe=null:Qe?Pe=S.actionData:Pe=null;let Re=z.loaderData?gS(S.loaderData,z.loaderData,z.matches||[],z.errors):S.loaderData,Ie=S.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((Je,Gt)=>Ie.set(Gt,ju)));let De=P===!0||S.navigation.formMethod!=null&&ii(S.navigation.formMethod)&&((ve=U.state)==null?void 0:ve._isRedirect)!==!0;d&&(l=d,d=void 0),we||R===sn.Pop||(R===sn.Push?n.history.push(U,U.state):R===sn.Replace&&n.history.replace(U,U.state));let et;if(R===sn.Pop){let Je=V.get(S.location.pathname);Je&&Je.has(U.pathname)?et={currentLocation:S.location,nextLocation:U}:V.has(U.pathname)&&(et={currentLocation:U,nextLocation:S.location})}else if(L){let Je=V.get(S.location.pathname);Je?Je.add(U.pathname):(Je=new Set([U.pathname]),V.set(S.location.pathname,Je)),et={currentLocation:S.location,nextLocation:U}}it(jt({},z,{actionData:Pe,loaderData:Re,historyAction:R,location:U,initialized:!0,navigation:dg,revalidation:"idle",restoreScrollPosition:hi(U,z.matches||S.matches),preventScrollReset:De,blockers:Ie}),{viewTransitionOpts:et,flushSync:ke===!0}),R=sn.Pop,P=!1,L=!1,we=!1,xe=!1,Fe=[]}async function Kt(U,z){if(typeof U=="number"){n.history.go(U);return}let Y=sy(S.location,S.matches,h,_.v7_prependBasename,U,_.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:re,submission:ve,error:ke}=lS(_.v7_normalizeFormMethod,!1,Y,z),Qe=S.location,Pe=vc(S.location,re,z&&z.state);Pe=jt({},Pe,n.history.encodeLocation(Pe));let Re=z&&z.replace!=null?z.replace:void 0,Ie=sn.Push;Re===!0?Ie=sn.Replace:Re===!1||ve!=null&&ii(ve.formMethod)&&ve.formAction===S.location.pathname+S.location.search&&(Ie=sn.Replace);let De=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,et=(z&&z.flushSync)===!0,Je=$i({currentLocation:Qe,nextLocation:Pe,historyAction:Ie});if(Je){qr(Je,{state:"blocked",location:Pe,proceed(){qr(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),Kt(U,z)},reset(){let Gt=new Map(S.blockers);Gt.set(Je,ju),it({blockers:Gt})}});return}return await Ft(Ie,Pe,{submission:ve,pendingError:ke,preventScrollReset:De,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:et})}function rt(){if(mt(),it({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Ft(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Ft(R||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:L===!0})}}async function Ft(U,z,Y){x&&x.abort(),x=null,R=U,we=(Y&&Y.startUninterruptedRevalidation)===!0,Ro(S.location,S.matches),P=(Y&&Y.preventScrollReset)===!0,L=(Y&&Y.enableViewTransition)===!0;let re=d||l,ve=Y&&Y.overrideNavigation,ke=Y!=null&&Y.initialHydration&&S.matches&&S.matches.length>0&&!W?S.matches:Qo(re,z,h),Qe=(Y&&Y.flushSync)===!0,Pe=pi(ke,re,z.pathname);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){let{error:Tt,notFoundMatches:at,route:Rt}=On(z.pathname);kt(z,{matches:at,loaderData:{},errors:{[Rt.id]:Tt}},{flushSync:Qe});return}if(S.initialized&&!xe&&ZB(S.location,z)&&!(Y&&Y.submission&&ii(Y.submission.formMethod))){kt(z,{matches:ke},{flushSync:Qe});return}x=new AbortController;let Re=al(n.history,z,x.signal,Y&&Y.submission),Ie;if(Y&&Y.pendingError)Ie=[Yo(ke).route.id,{type:Nt.error,error:Y.pendingError}];else if(Y&&Y.submission&&ii(Y.submission.formMethod)){let Tt=await pn(Re,z,Y.submission,ke,Pe.active,{replace:Y.replace,flushSync:Qe});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[at,Rt]=Tt.pendingActionResult;if(Ir(Rt)&&_c(Rt.error)&&Rt.error.status===404){x=null,kt(z,{matches:Tt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}ke=Tt.matches||ke,Ie=Tt.pendingActionResult,ve=fg(z,Y.submission),Qe=!1,Pe.active=!1,Re=al(n.history,Re.url,Re.signal)}let{shortCircuited:De,matches:et,loaderData:Je,errors:Gt}=await br(Re,z,ke,Pe.active,ve,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Qe,Ie);De||(x=null,kt(z,jt({matches:et||ke},yS(Ie),{loaderData:Je,errors:Gt})))}async function pn(U,z,Y,re,ve,ke){ke===void 0&&(ke={}),mt();let Qe=s9(z,Y);if(it({navigation:Qe},{flushSync:ke.flushSync===!0}),ve){let Ie=await tr(re,z.pathname,U.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let De=Yo(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,pendingActionResult:[De,{type:Nt.error,error:Ie.error}]}}else if(Ie.matches)re=Ie.matches;else{let{notFoundMatches:De,error:et,route:Je}=On(z.pathname);return{matches:De,pendingActionResult:[Je.id,{type:Nt.error,error:et}]}}}let Pe,Re=Gu(re,z);if(!Re.route.action&&!Re.route.lazy)Pe={type:Nt.error,error:cr(405,{method:U.method,pathname:z.pathname,routeId:Re.route.id})};else if(Pe=(await an("action",S,U,[Re],re,null))[Re.route.id],U.signal.aborted)return{shortCircuited:!0};if(na(Pe)){let Ie;return ke&&ke.replace!=null?Ie=ke.replace:Ie=hS(Pe.response.headers.get("Location"),new URL(U.url),h)===S.location.pathname+S.location.search,await Dt(U,Pe,!0,{submission:Y,replace:Ie}),{shortCircuited:!0}}if(io(Pe))throw cr(400,{type:"defer-action"});if(Ir(Pe)){let Ie=Yo(re,Re.route.id);return(ke&&ke.replace)!==!0&&(R=sn.Push),{matches:re,pendingActionResult:[Ie.route.id,Pe]}}return{matches:re,pendingActionResult:[Re.route.id,Pe]}}async function br(U,z,Y,re,ve,ke,Qe,Pe,Re,Ie,De){let et=ve||fg(z,ke),Je=ke||Qe||wS(et),Gt=!we&&(!_.v7_partialHydration||!Re);if(re){if(Gt){let Ct=Hn(De);it(jt({navigation:et},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Ie})}let dt=await tr(Y,z.pathname,U.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Ct=Yo(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Ct]:dt.error}}}else if(dt.matches)Y=dt.matches;else{let{error:Ct,notFoundMatches:en,route:yi}=On(z.pathname);return{matches:en,loaderData:{},errors:{[yi.id]:Ct}}}}let Tt=d||l,[at,Rt]=cS(n.history,S,Y,Je,z,_.v7_partialHydration&&Re===!0,_.v7_skipActionErrorRevalidation,xe,Fe,Ne,Te,he,ee,Tt,h,De);if(er(dt=>!(Y&&Y.some(Ct=>Ct.route.id===dt))||at&&at.some(Ct=>Ct.route.id===dt)),ae=++pe,at.length===0&&Rt.length===0){let dt=Zn();return kt(z,jt({matches:Y,loaderData:{},errors:De&&Ir(De[1])?{[De[0]]:De[1].error}:null},yS(De),dt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Ie}),{shortCircuited:!0}}if(Gt){let dt={};if(!re){dt.navigation=et;let Ct=Hn(De);Ct!==void 0&&(dt.actionData=Ct)}Rt.length>0&&(dt.fetchers=Bt(Rt)),it(dt,{flushSync:Ie})}Rt.forEach(dt=>{ot(dt.key),dt.controller&&ne.set(dt.key,dt.controller)});let Nr=()=>Rt.forEach(dt=>ot(dt.key));x&&x.signal.addEventListener("abort",Nr);let{loaderResults:mi,fetcherResults:mr}=await $e(S,Y,at,Rt,U);if(U.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Nr),Rt.forEach(dt=>ne.delete(dt.key));let ct=wf(mi);if(ct)return await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};if(ct=wf(mr),ct)return ee.add(ct.key),await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Cs,errors:gr}=mS(S,Y,mi,De,Rt,mr,Ae);Ae.forEach((dt,Ct)=>{dt.subscribe(en=>{(en||dt.done)&&Ae.delete(Ct)})}),_.v7_partialHydration&&Re&&S.errors&&(gr=jt({},S.errors,gr));let xn=Zn(),Tn=di(ae),gi=xn||Tn||Rt.length>0;return jt({matches:Y,loaderData:Cs,errors:gr},gi?{fetchers:new Map(S.fetchers)}:{})}function Hn(U){if(U&&!Ir(U[1]))return{[U[0]]:U[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Bt(U){return U.forEach(z=>{let Y=S.fetchers.get(z.key),re=Fu(void 0,Y?Y.data:void 0);S.fetchers.set(z.key,re)}),new Map(S.fetchers)}function Zt(U,z,Y,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ot(U);let ve=(re&&re.flushSync)===!0,ke=d||l,Qe=sy(S.location,S.matches,h,_.v7_prependBasename,Y,_.v7_relativeSplatPath,z,re==null?void 0:re.relative),Pe=Qo(ke,Qe,h),Re=pi(Pe,ke,Qe);if(Re.active&&Re.matches&&(Pe=Re.matches),!Pe){mn(U,z,cr(404,{pathname:Qe}),{flushSync:ve});return}let{path:Ie,submission:De,error:et}=lS(_.v7_normalizeFormMethod,!0,Qe,re);if(et){mn(U,z,et,{flushSync:ve});return}let Je=Gu(Pe,Ie),Gt=(re&&re.preventScrollReset)===!0;if(De&&ii(De.formMethod)){Jn(U,z,Ie,Je,Pe,Re.active,ve,Gt,De);return}he.set(U,{routeId:z,path:Ie}),Dn(U,z,Ie,Je,Pe,Re.active,ve,Gt,De)}async function Jn(U,z,Y,re,ve,ke,Qe,Pe,Re){mt(),he.delete(U);function Ie(ft){if(!ft.route.action&&!ft.route.lazy){let kr=cr(405,{method:Re.formMethod,pathname:Y,routeId:z});return mn(U,z,kr,{flushSync:Qe}),!0}return!1}if(!ke&&Ie(re))return;let De=S.fetchers.get(U);Ot(U,o9(Re,De),{flushSync:Qe});let et=new AbortController,Je=al(n.history,Y,et.signal,Re);if(ke){let ft=await tr(ve,new URL(Je.url).pathname,Je.signal);if(ft.type==="aborted")return;if(ft.type==="error"){mn(U,z,ft.error,{flushSync:Qe});return}else if(ft.matches){if(ve=ft.matches,re=Gu(ve,Y),Ie(re))return}else{mn(U,z,cr(404,{pathname:Y}),{flushSync:Qe});return}}ne.set(U,et);let Gt=pe,at=(await an("action",S,Je,[re],ve,U))[re.route.id];if(Je.signal.aborted){ne.get(U)===et&&ne.delete(U);return}if(_.v7_fetcherPersist&&Te.has(U)){if(na(at)||Ir(at)){Ot(U,Ys(void 0));return}}else{if(na(at))if(ne.delete(U),ae>Gt){Ot(U,Ys(void 0));return}else return ee.add(U),Ot(U,Fu(Re)),Dt(Je,at,!1,{fetcherSubmission:Re,preventScrollReset:Pe});if(Ir(at)){mn(U,z,at.error);return}}if(io(at))throw cr(400,{type:"defer-action"});let Rt=S.navigation.location||S.location,Nr=al(n.history,Rt,et.signal),mi=d||l,mr=S.navigation.state!=="idle"?Qo(mi,S.navigation.location,h):S.matches;ut(mr,"Didn't find any matches after fetcher action");let ct=++pe;B.set(U,ct);let Cs=Fu(Re,at.data);S.fetchers.set(U,Cs);let[gr,xn]=cS(n.history,S,mr,Re,Rt,!1,_.v7_skipActionErrorRevalidation,xe,Fe,Ne,Te,he,ee,mi,h,[re.route.id,at]);xn.filter(ft=>ft.key!==U).forEach(ft=>{let kr=ft.key,No=S.fetchers.get(kr),Ta=Fu(void 0,No?No.data:void 0);S.fetchers.set(kr,Ta),ot(kr),ft.controller&&ne.set(kr,ft.controller)}),it({fetchers:new Map(S.fetchers)});let Tn=()=>xn.forEach(ft=>ot(ft.key));et.signal.addEventListener("abort",Tn);let{loaderResults:gi,fetcherResults:dt}=await $e(S,mr,gr,xn,Nr);if(et.signal.aborted)return;et.signal.removeEventListener("abort",Tn),B.delete(U),ne.delete(U),xn.forEach(ft=>ne.delete(ft.key));let Ct=wf(gi);if(Ct)return Dt(Nr,Ct.result,!1,{preventScrollReset:Pe});if(Ct=wf(dt),Ct)return ee.add(Ct.key),Dt(Nr,Ct.result,!1,{preventScrollReset:Pe});let{loaderData:en,errors:yi}=mS(S,mr,gi,void 0,xn,dt,Ae);if(S.fetchers.has(U)){let ft=Ys(at.data);S.fetchers.set(U,ft)}di(ct),S.navigation.state==="loading"&&ct>ae?(ut(R,"Expected pending action"),x&&x.abort(),kt(S.navigation.location,{matches:mr,loaderData:en,errors:yi,fetchers:new Map(S.fetchers)})):(it({errors:yi,loaderData:gS(S.loaderData,en,mr,yi),fetchers:new Map(S.fetchers)}),xe=!1)}async function Dn(U,z,Y,re,ve,ke,Qe,Pe,Re){let Ie=S.fetchers.get(U);Ot(U,Fu(Re,Ie?Ie.data:void 0),{flushSync:Qe});let De=new AbortController,et=al(n.history,Y,De.signal);if(ke){let at=await tr(ve,new URL(et.url).pathname,et.signal);if(at.type==="aborted")return;if(at.type==="error"){mn(U,z,at.error,{flushSync:Qe});return}else if(at.matches)ve=at.matches,re=Gu(ve,Y);else{mn(U,z,cr(404,{pathname:Y}),{flushSync:Qe});return}}ne.set(U,De);let Je=pe,Tt=(await an("loader",S,et,[re],ve,U))[re.route.id];if(io(Tt)&&(Tt=await Yv(Tt,et.signal,!0)||Tt),ne.get(U)===De&&ne.delete(U),!et.signal.aborted){if(Te.has(U)){Ot(U,Ys(void 0));return}if(na(Tt))if(ae>Je){Ot(U,Ys(void 0));return}else{ee.add(U),await Dt(et,Tt,!1,{preventScrollReset:Pe});return}if(Ir(Tt)){mn(U,z,Tt.error);return}ut(!io(Tt),"Unhandled fetcher deferred data"),Ot(U,Ys(Tt.data))}}async function Dt(U,z,Y,re){let{submission:ve,fetcherSubmission:ke,preventScrollReset:Qe,replace:Pe}=re===void 0?{}:re;z.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let Re=z.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=hS(Re,new URL(U.url),h);let Ie=vc(S.location,Re,{_isRedirect:!0});if(t){let at=!1;if(z.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(Qv.test(Re)){const Rt=n.history.createURL(Re);at=Rt.origin!==e.location.origin||ys(Rt.pathname,h)==null}if(at){Pe?e.location.replace(Re):e.location.assign(Re);return}}x=null;let De=Pe===!0||z.response.headers.has("X-Remix-Replace")?sn.Replace:sn.Push,{formMethod:et,formAction:Je,formEncType:Gt}=S.navigation;!ve&&!ke&&et&&Je&&Gt&&(ve=wS(S.navigation));let Tt=ve||ke;if(jB.has(z.response.status)&&Tt&&ii(Tt.formMethod))await Ft(De,Ie,{submission:jt({},Tt,{formAction:Re}),preventScrollReset:Qe||P,enableViewTransition:Y?L:void 0});else{let at=fg(Ie,ve);await Ft(De,Ie,{overrideNavigation:at,fetcherSubmission:ke,preventScrollReset:Qe||P,enableViewTransition:Y?L:void 0})}}async function an(U,z,Y,re,ve,ke){let Qe,Pe={};try{Qe=await GB(p,U,z,Y,re,ve,ke,a,s)}catch(Re){return re.forEach(Ie=>{Pe[Ie.route.id]={type:Nt.error,error:Re}}),Pe}for(let[Re,Ie]of Object.entries(Qe))if(e9(Ie)){let De=Ie.result;Pe[Re]={type:Nt.redirect,response:XB(De,Y,Re,ve,h,_.v7_relativeSplatPath)}}else Pe[Re]=await YB(Ie);return Pe}async function $e(U,z,Y,re,ve){let ke=U.matches,Qe=an("loader",U,ve,Y,z,null),Pe=Promise.all(re.map(async De=>{if(De.matches&&De.match&&De.controller){let Je=(await an("loader",U,al(n.history,De.path,De.controller.signal),[De.match],De.matches,De.key))[De.match.route.id];return{[De.key]:Je}}else return Promise.resolve({[De.key]:{type:Nt.error,error:cr(404,{pathname:De.path})}})})),Re=await Qe,Ie=(await Pe).reduce((De,et)=>Object.assign(De,et),{});return await Promise.all([r9(z,Re,ve.signal,ke,U.loaderData),i9(z,Ie,re)]),{loaderResults:Re,fetcherResults:Ie}}function mt(){xe=!0,Fe.push(...er()),he.forEach((U,z)=>{ne.has(z)&&Ne.add(z),ot(z)})}function Ot(U,z,Y){Y===void 0&&(Y={}),S.fetchers.set(U,z),it({fetchers:new Map(S.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function mn(U,z,Y,re){re===void 0&&(re={});let ve=Yo(S.matches,z);Wn(U),it({errors:{[ve.route.id]:Y},fetchers:new Map(S.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function zn(U){return ye.set(U,(ye.get(U)||0)+1),Te.has(U)&&Te.delete(U),S.fetchers.get(U)||FB}function Wn(U){let z=S.fetchers.get(U);ne.has(U)&&!(z&&z.state==="loading"&&B.has(U))&&ot(U),he.delete(U),B.delete(U),ee.delete(U),_.v7_fetcherPersist&&Te.delete(U),Ne.delete(U),S.fetchers.delete(U)}function Be(U){let z=(ye.get(U)||0)-1;z<=0?(ye.delete(U),Te.add(U),_.v7_fetcherPersist||Wn(U)):ye.set(U,z),it({fetchers:new Map(S.fetchers)})}function ot(U){let z=ne.get(U);z&&(z.abort(),ne.delete(U))}function gn(U){for(let z of U){let Y=zn(z),re=Ys(Y.data);S.fetchers.set(z,re)}}function Zn(){let U=[],z=!1;for(let Y of ee){let re=S.fetchers.get(Y);ut(re,"Expected fetcher: "+Y),re.state==="loading"&&(ee.delete(Y),U.push(Y),z=!0)}return gn(U),z}function di(U){let z=[];for(let[Y,re]of B)if(re<U){let ve=S.fetchers.get(Y);ut(ve,"Expected fetcher: "+Y),ve.state==="loading"&&(ot(Y),B.delete(Y),z.push(Y))}return gn(z),z.length>0}function Ao(U,z){let Y=S.blockers.get(U)||ju;return qe.get(U)!==z&&qe.set(U,z),Y}function fi(U){S.blockers.delete(U),qe.delete(U)}function qr(U,z){let Y=S.blockers.get(U)||ju;ut(Y.state==="unblocked"&&z.state==="blocked"||Y.state==="blocked"&&z.state==="blocked"||Y.state==="blocked"&&z.state==="proceeding"||Y.state==="blocked"&&z.state==="unblocked"||Y.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+Y.state+" -> "+z.state);let re=new Map(S.blockers);re.set(U,z),it({blockers:re})}function $i(U){let{currentLocation:z,nextLocation:Y,historyAction:re}=U;if(qe.size===0)return;qe.size>1&&fa(!1,"A router only supports one blocker at a time");let ve=Array.from(qe.entries()),[ke,Qe]=ve[ve.length-1],Pe=S.blockers.get(ke);if(!(Pe&&Pe.state==="proceeding")&&Qe({currentLocation:z,nextLocation:Y,historyAction:re}))return ke}function On(U){let z=cr(404,{pathname:U}),Y=d||l,{matches:re,route:ve}=vS(Y);return er(),{notFoundMatches:re,route:ve,error:z}}function er(U){let z=[];return Ae.forEach((Y,re)=>{(!U||U(re))&&(Y.cancel(),z.push(re),Ae.delete(re))}),z}function Is(U,z,Y){if(k=U,b=z,O=Y||null,!F&&S.navigation===dg){F=!0;let re=hi(S.location,S.matches);re!=null&&it({restoreScrollPosition:re})}return()=>{k=null,b=null,O=null}}function pr(U,z){return O&&O(U,z.map(re=>vB(re,S.loaderData)))||U.key}function Ro(U,z){if(k&&b){let Y=pr(U,z);k[Y]=b()}}function hi(U,z){if(k){let Y=pr(U,z),re=k[Y];if(typeof re=="number")return re}return null}function pi(U,z,Y){if(g)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:Vf(z,Y,h,!0)}}else return{active:!0,matches:Vf(z,Y,h,!0)||[]};return{active:!1,matches:null}}async function tr(U,z,Y){if(!g)return{type:"success",matches:U};let re=U;for(;;){let ve=d==null,ke=d||l,Qe=a;try{await g({signal:Y,path:z,matches:re,patch:(Ie,De)=>{Y.aborted||fS(Ie,De,ke,Qe,s)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:re}}finally{ve&&!Y.aborted&&(l=[...l])}if(Y.aborted)return{type:"aborted"};let Pe=Qo(ke,z,h);if(Pe)return{type:"success",matches:Pe};let Re=Vf(ke,z,h,!0);if(!Re||re.length===Re.length&&re.every((Ie,De)=>Ie.route.id===Re[De].route.id))return{type:"success",matches:null};re=Re}}function bo(U){a={},d=hh(U,s,void 0,a)}function Ht(U,z){let Y=d==null;fS(U,z,d||l,a,s),Y&&(l=[...l],it({}))}return J={get basename(){return h},get future(){return _},get state(){return S},get routes(){return l},get window(){return e},initialize:st,subscribe:It,enableScrollRestoration:Is,navigate:Kt,fetch:Zt,revalidate:rt,createHref:U=>n.history.createHref(U),encodeLocation:U=>n.history.encodeLocation(U),getFetcher:zn,deleteFetcher:Be,dispose:Et,getBlocker:Ao,deleteBlocker:fi,patchRoutes:Ht,_internalFetchControllers:ne,_internalActiveDeferreds:Ae,_internalSetRoutes:bo},J}function zB(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function sy(n,e,t,r,s,a,l,d){let h,p;if(l){h=[];for(let _ of e)if(h.push(_),_.route.id===l){p=_;break}}else h=e,p=e[e.length-1];let g=Gv(s||".",Kv(h,a),ys(n.pathname,t)||n.pathname,d==="path");if(s==null&&(g.search=n.search,g.hash=n.hash),(s==null||s===""||s===".")&&p){let _=Xv(g.search);if(p.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&_){let T=new URLSearchParams(g.search),C=T.getAll("index");T.delete("index"),C.filter(O=>O).forEach(O=>T.append("index",O));let k=T.toString();g.search=k?"?"+k:""}}return r&&t!=="/"&&(g.pathname=g.pathname==="/"?t:cs([t,g.pathname])),ha(g)}function lS(n,e,t,r){if(!r||!zB(r))return{path:t};if(r.formMethod&&!n9(r.formMethod))return{path:t,error:cr(405,{method:r.formMethod})};let s=()=>({path:t,error:cr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),d=tN(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ii(l))return s();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((C,k)=>{let[O,b]=k;return""+C+O+"="+b+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:d,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!ii(l))return s();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:d,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}ut(typeof FormData=="function","FormData is not available in this environment");let h,p;if(r.formData)h=ay(r.formData),p=r.formData;else if(r.body instanceof FormData)h=ay(r.body),p=r.body;else if(r.body instanceof URLSearchParams)h=r.body,p=pS(h);else if(r.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(r.body),p=pS(h)}catch{return s()}let g={formMethod:l,formAction:d,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ii(g.formMethod))return{path:t,submission:g};let _=Es(t);return e&&_.search&&Xv(_.search)&&h.append("index",""),_.search="?"+h,{path:ha(_),submission:g}}function uS(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function cS(n,e,t,r,s,a,l,d,h,p,g,_,T,C,k,O){let b=O?Ir(O[1])?O[1].error:O[1].data:void 0,F=n.createURL(e.location),$=n.createURL(s),W=t;a&&e.errors?W=uS(t,Object.keys(e.errors)[0],!0):O&&Ir(O[1])&&(W=uS(t,O[0]));let q=O?O[1].statusCode:void 0,Z=l&&q&&q>=400,J=W.filter((R,P)=>{let{route:x}=R;if(x.lazy)return!0;if(x.loader==null)return!1;if(a)return oy(x,e.loaderData,e.errors);if(WB(e.loaderData,e.matches[P],R)||h.some(D=>D===R.route.id))return!0;let L=e.matches[P],V=R;return dS(R,jt({currentUrl:F,currentParams:L.params,nextUrl:$,nextParams:V.params},r,{actionResult:b,actionStatus:q,defaultShouldRevalidate:Z?!1:d||F.pathname+F.search===$.pathname+$.search||F.search!==$.search||Zb(L,V)}))}),S=[];return _.forEach((R,P)=>{if(a||!t.some(we=>we.route.id===R.routeId)||g.has(P))return;let x=Qo(C,R.path,k);if(!x){S.push({key:P,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(P),V=Gu(x,R.path),D=!1;T.has(P)?D=!1:p.has(P)?(p.delete(P),D=!0):L&&L.state!=="idle"&&L.data===void 0?D=d:D=dS(V,jt({currentUrl:F,currentParams:e.matches[e.matches.length-1].params,nextUrl:$,nextParams:t[t.length-1].params},r,{actionResult:b,actionStatus:q,defaultShouldRevalidate:Z?!1:d})),D&&S.push({key:P,routeId:R.routeId,path:R.path,matches:x,match:V,controller:new AbortController})}),[J,S]}function oy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function WB(n,e,t){let r=!e||t.route.id!==e.route.id,s=n[t.route.id]===void 0;return r||s}function Zb(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function dS(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function fS(n,e,t,r,s){var a;let l;if(n){let p=r[n];ut(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let d=e.filter(p=>!l.some(g=>eN(p,g))),h=hh(d,s,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...h)}function eN(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>eN(t,a))}):!1}async function qB(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];ut(s,"No route found in manifest");let a={};for(let l in r){let h=s[l]!==void 0&&l!=="hasErrorBoundary";fa(!h,'Route "'+s.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!h&&!gB.has(l)&&(a[l]=r[l])}Object.assign(s,a),Object.assign(s,jt({},e(s),{lazy:void 0}))}async function KB(n){let{matches:e}=n,t=e.filter(s=>s.shouldLoad);return(await Promise.all(t.map(s=>s.resolve()))).reduce((s,a,l)=>Object.assign(s,{[t[l].route.id]:a}),{})}async function GB(n,e,t,r,s,a,l,d,h,p){let g=a.map(C=>C.route.lazy?qB(C.route,h,d):void 0),_=a.map((C,k)=>{let O=g[k],b=s.some($=>$.route.id===C.route.id);return jt({},C,{shouldLoad:b,resolve:async $=>($&&r.method==="GET"&&(C.route.lazy||C.route.loader)&&(b=!0),b?QB(e,r,C,O,$,p):Promise.resolve({type:Nt.data,result:void 0}))})}),T=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return T}async function QB(n,e,t,r,s,a){let l,d,h=p=>{let g,_=new Promise((k,O)=>g=O);d=()=>g(),e.signal.addEventListener("abort",d);let T=k=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...k!==void 0?[k]:[]),C=(async()=>{try{return{type:"data",result:await(s?s(O=>T(O)):T())}}catch(k){return{type:"error",result:k}}})();return Promise.race([C,_])};try{let p=t.route[n];if(r)if(p){let g,[_]=await Promise.all([h(p).catch(T=>{g=T}),r]);if(g!==void 0)throw g;l=_}else if(await r,p=t.route[n],p)l=await h(p);else if(n==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw cr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await h(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw cr(404,{pathname:_})}ut(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{d&&e.signal.removeEventListener("abort",d)}return l}async function YB(n){let{result:e,type:t}=n;if(nN(e)){let _;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(T){return{type:Nt.error,error:T}}return t===Nt.error?{type:Nt.error,error:new mh(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:_,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(_S(e)){var r,s;if(e.data instanceof Error){var a,l;return{type:Nt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new mh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:_c(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:_c(e)?e.status:void 0}}if(t9(e)){var d,h;return{type:Nt.deferred,deferredData:e,statusCode:(d=e.init)==null?void 0:d.status,headers:((h=e.init)==null?void 0:h.headers)&&new Headers(e.init.headers)}}if(_S(e)){var p,g;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function XB(n,e,t,r,s,a){let l=n.headers.get("Location");if(ut(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Qv.test(l)){let d=r.slice(0,r.findIndex(h=>h.route.id===t)+1);l=sy(new URL(e.url),d,s,!0,l,a),n.headers.set("Location",l)}return n}function hS(n,e,t){if(Qv.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=ys(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function al(n,e,t,r){let s=n.createURL(tN(e)).toString(),a={signal:t};if(r&&ii(r.formMethod)){let{formMethod:l,formEncType:d}=r;a.method=l.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(r.json)):d==="text/plain"?a.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?a.body=ay(r.formData):a.body=r.formData}return new Request(s,a)}function ay(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function pS(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function JB(n,e,t,r,s){let a={},l=null,d,h=!1,p={},g=t&&Ir(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let T=_.route.id,C=e[T];if(ut(!na(C),"Cannot handle redirect results in processLoaderData"),Ir(C)){let k=C.error;g!==void 0&&(k=g,g=void 0),l=l||{};{let O=Yo(n,T);l[O.route.id]==null&&(l[O.route.id]=k)}a[T]=void 0,h||(h=!0,d=_c(C.error)?C.error.status:500),C.headers&&(p[T]=C.headers)}else io(C)?(r.set(T,C.deferredData),a[T]=C.deferredData.data,C.statusCode!=null&&C.statusCode!==200&&!h&&(d=C.statusCode),C.headers&&(p[T]=C.headers)):(a[T]=C.data,C.statusCode&&C.statusCode!==200&&!h&&(d=C.statusCode),C.headers&&(p[T]=C.headers))}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:d||200,loaderHeaders:p}}function mS(n,e,t,r,s,a,l){let{loaderData:d,errors:h}=JB(e,t,r,l);return s.forEach(p=>{let{key:g,match:_,controller:T}=p,C=a[g];if(ut(C,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Ir(C)){let k=Yo(n.matches,_==null?void 0:_.route.id);h&&h[k.route.id]||(h=jt({},h,{[k.route.id]:C.error})),n.fetchers.delete(g)}else if(na(C))ut(!1,"Unhandled fetcher revalidation redirect");else if(io(C))ut(!1,"Unhandled fetcher deferred data");else{let k=Ys(C.data);n.fetchers.set(g,k)}}),{loaderData:d,errors:h}}function gS(n,e,t,r){let s=jt({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(s[l]=e[l]):n[l]!==void 0&&a.route.loader&&(s[l]=n[l]),r&&r.hasOwnProperty(l))break}return s}function yS(n){return n?Ir(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Yo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function vS(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function cr(n,e){let{pathname:t,routeId:r,method:s,type:a,message:l}=e===void 0?{}:e,d="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(d="Bad Request",s&&t&&r?h="You made a "+s+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?h="defer() is not supported in actions":a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(d="Forbidden",h='Route "'+r+'" does not match URL "'+t+'"'):n===404?(d="Not Found",h='No route matches URL "'+t+'"'):n===405&&(d="Method Not Allowed",s&&t&&r?h="You made a "+s.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(h='Invalid request method "'+s.toUpperCase()+'"')),new mh(n||500,d,new Error(h),!0)}function wf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(na(s))return{key:r,result:s}}}function tN(n){let e=typeof n=="string"?Es(n):n;return ha(jt({},e,{hash:""}))}function ZB(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function e9(n){return nN(n.result)&&UB.has(n.result.status)}function io(n){return n.type===Nt.deferred}function Ir(n){return n.type===Nt.error}function na(n){return(n&&n.type)===Nt.redirect}function _S(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function t9(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function nN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function n9(n){return $B.has(n.toLowerCase())}function ii(n){return MB.has(n.toLowerCase())}async function r9(n,e,t,r,s){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[d,h]=a[l],p=n.find(T=>(T==null?void 0:T.route.id)===d);if(!p)continue;let g=r.find(T=>T.route.id===p.route.id),_=g!=null&&!Zb(g,p)&&(s&&s[p.route.id])!==void 0;io(h)&&_&&await Yv(h,t,!1).then(T=>{T&&(e[d]=T)})}}async function i9(n,e,t){for(let r=0;r<t.length;r++){let{key:s,routeId:a,controller:l}=t[r],d=e[s];n.find(p=>(p==null?void 0:p.route.id)===a)&&io(d)&&(ut(l,"Expected an AbortController for revalidating fetcher deferred result"),await Yv(d,l.signal,!0).then(p=>{p&&(e[s]=p)}))}}async function Yv(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(s){return{type:Nt.error,error:s}}return{type:Nt.data,data:n.deferredData.data}}}function Xv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Gu(n,e){let t=typeof e=="string"?Es(e).search:e.search;if(n[n.length-1].route.index&&Xv(t||""))return n[n.length-1];let r=Yb(n);return r[r.length-1]}function wS(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:l}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function fg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function s9(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function o9(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ys(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function a9(n,e){try{let t=n.sessionStorage.getItem(Jb);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function l9(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(Jb,JSON.stringify(t))}catch(r){fa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gh.apply(this,arguments)}const qc=w.createContext(null),Jv=w.createContext(null),Io=w.createContext(null),Zv=w.createContext(null),Ts=w.createContext({outlet:null,matches:[],isDataRoute:!1}),rN=w.createContext(null);function u9(n,e){let{relative:t}=e===void 0?{}:e;Kc()||ut(!1);let{basename:r,navigator:s}=w.useContext(Io),{hash:a,pathname:l,search:d}=Xh(n,{relative:t}),h=l;return r!=="/"&&(h=l==="/"?r:cs([r,l])),s.createHref({pathname:h,search:d,hash:a})}function Kc(){return w.useContext(Zv)!=null}function Gc(){return Kc()||ut(!1),w.useContext(Zv).location}function iN(n){w.useContext(Io).static||w.useLayoutEffect(n)}function Co(){let{isDataRoute:n}=w.useContext(Ts);return n?T9():c9()}function c9(){Kc()||ut(!1);let n=w.useContext(qc),{basename:e,future:t,navigator:r}=w.useContext(Io),{matches:s}=w.useContext(Ts),{pathname:a}=Gc(),l=JSON.stringify(Kv(s,t.v7_relativeSplatPath)),d=w.useRef(!1);return iN(()=>{d.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let _=Gv(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:cs([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}const d9=w.createContext(null);function f9(n){let e=w.useContext(Ts).outlet;return e&&w.createElement(d9.Provider,{value:n},e)}function sN(){let{matches:n}=w.useContext(Ts),e=n[n.length-1];return e?e.params:{}}function Xh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Io),{matches:s}=w.useContext(Ts),{pathname:a}=Gc(),l=JSON.stringify(Kv(s,r.v7_relativeSplatPath));return w.useMemo(()=>Gv(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function h9(n,e,t,r){Kc()||ut(!1);let{navigator:s,static:a}=w.useContext(Io),{matches:l}=w.useContext(Ts),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=Gc(),_;_=g;let T=_.pathname||"/",C=T;if(p!=="/"){let b=p.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=!a&&t&&t.matches&&t.matches.length>0?t.matches:Qo(n,{pathname:C});return v9(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},h,b.params),pathname:cs([p,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:cs([p,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,t,r)}function p9(){let n=uN(),e=_c(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,null)}const m9=w.createElement(p9,null);class g9 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Ts.Provider,{value:this.props.routeContext},w.createElement(rN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y9(n){let{routeContext:e,match:t,children:r}=n,s=w.useContext(qc);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Ts.Provider,{value:e},r)}function v9(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let g=l.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);g>=0||ut(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:C}=t,k=_.route.loader&&T[_.route.id]===void 0&&(!C||C[_.route.id]===void 0);if(_.route.lazy||k){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let C,k=!1,O=null,b=null;t&&(C=d&&_.route.id?d[_.route.id]:void 0,O=_.route.errorElement||m9,h&&(p<0&&T===0?(S9("route-fallback"),k=!0,b=null):p===T&&(k=!0,b=_.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,T+1)),$=()=>{let W;return C?W=O:k?W=b:_.route.Component?W=w.createElement(_.route.Component,null):_.route.element?W=_.route.element:W=g,w.createElement(y9,{match:_,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:W})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?w.createElement(g9,{location:t.location,revalidation:t.revalidation,component:O,error:C,children:$(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):$()},null)}var oN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(oN||{}),aN=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(aN||{});function _9(n){let e=w.useContext(qc);return e||ut(!1),e}function w9(n){let e=w.useContext(Jv);return e||ut(!1),e}function E9(n){let e=w.useContext(Ts);return e||ut(!1),e}function lN(n){let e=E9(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function uN(){var n;let e=w.useContext(rN),t=w9(aN.UseRouteError),r=lN();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function T9(){let{router:n}=_9(oN.UseNavigateStable),e=lN(),t=w.useRef(!1);return iN(()=>{t.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,gh({fromRouteId:e},a)))},[n,e])}const ES={};function S9(n,e,t){ES[n]||(ES[n]=!0)}function I9(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function C9(n){return f9(n.context)}function A9(n){let{basename:e="/",children:t=null,location:r,navigationType:s=sn.Pop,navigator:a,static:l=!1,future:d}=n;Kc()&&ut(!1);let h=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:h,navigator:a,static:l,future:gh({v7_relativeSplatPath:!1},d)}),[h,d,a,l]);typeof r=="string"&&(r=Es(r));let{pathname:g="/",search:_="",hash:T="",state:C=null,key:k="default"}=r,O=w.useMemo(()=>{let b=ys(g,h);return b==null?null:{location:{pathname:b,search:_,hash:T,state:C,key:k},navigationType:s}},[h,g,_,T,C,k,s]);return O==null?null:w.createElement(Io.Provider,{value:p},w.createElement(Zv.Provider,{children:t,value:O}))}new Promise(()=>{});function R9(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hl.apply(this,arguments)}function cN(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function b9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function N9(n,e){return n.button===0&&(!e||e==="_self")&&!b9(n)}const k9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],D9="6";try{window.__reactRouterVersion=D9}catch{}function O9(n,e){return HB({basename:void 0,future:Hl({},void 0,{v7_prependBasename:!0}),history:hB({window:void 0}),hydrationData:x9(),routes:n,mapRouteProperties:R9,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function x9(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Hl({},e,{errors:L9(e.errors)})),e}function L9(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new mh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let l=new a(s.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}const dN=w.createContext({isTransitioning:!1}),M9=w.createContext(new Map),V9="startTransition",TS=yk[V9],$9="flushSync",SS=zx[$9];function U9(n){TS?TS(n):n()}function Bu(n){SS?SS(n):n()}class j9{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function F9(n){let{fallbackElement:e,router:t,future:r}=n,[s,a]=w.useState(t.state),[l,d]=w.useState(),[h,p]=w.useState({isTransitioning:!1}),[g,_]=w.useState(),[T,C]=w.useState(),[k,O]=w.useState(),b=w.useRef(new Map),{v7_startTransition:F}=r||{},$=w.useCallback(R=>{F?U9(R):R()},[F]),W=w.useCallback((R,P)=>{let{deletedFetchers:x,flushSync:L,viewTransitionOpts:V}=P;R.fetchers.forEach((we,xe)=>{we.data!==void 0&&b.current.set(xe,we.data)}),x.forEach(we=>b.current.delete(we));let D=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!V||D){L?Bu(()=>a(R)):$(()=>a(R));return}if(L){Bu(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let we=t.window.document.startViewTransition(()=>{Bu(()=>a(R))});we.finished.finally(()=>{Bu(()=>{_(void 0),C(void 0),d(void 0),p({isTransitioning:!1})})}),Bu(()=>C(we));return}T?(g&&g.resolve(),T.skipTransition(),O({state:R,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(d(R),p({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,T,g,b,$]);w.useLayoutEffect(()=>t.subscribe(W),[t,W]),w.useEffect(()=>{h.isTransitioning&&!h.flushSync&&_(new j9)},[h]),w.useEffect(()=>{if(g&&l&&t.window){let R=l,P=g.promise,x=t.window.document.startViewTransition(async()=>{$(()=>a(R)),await P});x.finished.finally(()=>{_(void 0),C(void 0),d(void 0),p({isTransitioning:!1})}),C(x)}},[$,l,g,t.window]),w.useEffect(()=>{g&&l&&s.location.key===l.location.key&&g.resolve()},[g,T,s.location,l]),w.useEffect(()=>{!h.isTransitioning&&k&&(d(k.state),p({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),O(void 0))},[h.isTransitioning,k]),w.useEffect(()=>{},[]);let q=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,P,x)=>t.navigate(R,{state:P,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(R,P,x)=>t.navigate(R,{replace:!0,state:P,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[t]),Z=t.basename||"/",J=w.useMemo(()=>({router:t,navigator:q,static:!1,basename:Z}),[t,q,Z]),S=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>I9(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(qc.Provider,{value:J},w.createElement(Jv.Provider,{value:s},w.createElement(M9.Provider,{value:b.current},w.createElement(dN.Provider,{value:h},w.createElement(A9,{basename:Z,location:s.location,navigationType:s.historyAction,navigator:q,future:S},s.initialized||t.future.v7_partialHydration?w.createElement(B9,{routes:t.routes,future:t.future,state:s}):e))))),null)}const B9=w.memo(H9);function H9(n){let{routes:e,future:t,state:r}=n;return h9(e,void 0,r,t)}const z9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q9=w.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:d,target:h,to:p,preventScrollReset:g,viewTransition:_}=e,T=cN(e,k9),{basename:C}=w.useContext(Io),k,O=!1;if(typeof p=="string"&&W9.test(p)&&(k=p,z9))try{let W=new URL(window.location.href),q=p.startsWith("//")?new URL(W.protocol+p):new URL(p),Z=ys(q.pathname,C);q.origin===W.origin&&Z!=null?p=Z+q.search+q.hash:O=!0}catch{}let b=u9(p,{relative:s}),F=G9(p,{replace:l,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:_});function $(W){r&&r(W),W.defaultPrevented||F(W)}return w.createElement("a",Hl({},T,{href:k||b,onClick:O||a?r:$,ref:t,target:h}))}),Hu=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:d,to:h,viewTransition:p,children:g}=e,_=cN(e,P9),T=Xh(h,{relative:_.relative}),C=Gc(),k=w.useContext(Jv),{navigator:O,basename:b}=w.useContext(Io),F=k!=null&&Q9(T)&&p===!0,$=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,W=C.pathname,q=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(W=W.toLowerCase(),q=q?q.toLowerCase():null,$=$.toLowerCase()),q&&b&&(q=ys(q,b)||q);const Z=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let J=W===$||!l&&W.startsWith($)&&W.charAt(Z)==="/",S=q!=null&&(q===$||!l&&q.startsWith($)&&q.charAt($.length)==="/"),R={isActive:J,isPending:S,isTransitioning:F},P=J?r:void 0,x;typeof a=="function"?x=a(R):x=[a,J?"active":null,S?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let L=typeof d=="function"?d(R):d;return w.createElement(q9,Hl({},_,{"aria-current":P,className:x,ref:t,style:L,to:h,viewTransition:p}),typeof g=="function"?g(R):g)});var ly;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ly||(ly={}));var IS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(IS||(IS={}));function K9(n){let e=w.useContext(qc);return e||ut(!1),e}function G9(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,h=Co(),p=Gc(),g=Xh(n,{relative:l});return w.useCallback(_=>{if(N9(_,t)){_.preventDefault();let T=r!==void 0?r:ha(p)===ha(g);h(n,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:d})}},[p,h,g,r,s,t,n,a,l,d])}function Q9(n,e){e===void 0&&(e={});let t=w.useContext(dN);t==null&&ut(!1);let{basename:r}=K9(ly.useViewTransitionState),s=Xh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ys(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ys(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ph(s.pathname,l)!=null||ph(s.pathname,a)!=null}function Y9(){const[n,e]=w.useState(),[t,r]=w.useState(),s=T=>A(RA,{id:"button-tooltip",...T,children:"Please check the notice below to continue.."}),{session:a}=Vi(),l=Co();a&&l("/Home");const[d,h]=w.useState(!1);function p(T){switch(T.target.checked){case!0:h(!0);break;case!1:h(!1);break}}const{logIn:g}=Vi();async function _(){await g()}return A(Vt,{children:_e("div",{className:"logincontainer",children:[A("div",{className:"circle",children:A("img",{src:"./images/favicon.png"})}),A("p",{className:"LoginWord",children:" USER LOGIN "}),_e("div",{className:"google-button",children:[d&&A(on,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:_,children:"Login with Google"}),!d&&A(JM,{placement:"right",delay:{show:0,hide:400},overlay:s,children:A("div",{children:A(on,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),_e("div",{children:[A("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),A("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),A("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:p})]})]})})}async function X9(n){return await Lc.createFile("678bac020031c1c3ad75",Ol.unique(),n)}async function J9(n){return await Lc.deleteFile("678bac020031c1c3ad75",n)}function Qc(n){return Lc.getFilePreview("678bac020031c1c3ad75",n)}function hg(n){return Lc.getFilePreview("67932f8600176cf1dfdc",n)}async function Z9(n,e){return await Lc.createFile("67932f8600176cf1dfdc",n,e)}async function CS(){const{documents:n}=await hr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.equal("isApproved",!0)]);return{items:n.map(Ss)}}async function e3(n){const{documents:e}=await hr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("name",n),je.equal("isApproved",!0)]);return{items:e.map(Ss)}}async function t3(n){const{documents:e}=await hr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("itemCategory",n),je.equal("isApproved",!0)]);return{items:e.map(Ss)}}async function fN(n){const{documents:e}=await hr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.contains("authorID",n),je.orderDesc("date")]);return{items:e.map(Ss)}}async function n3(){const{documents:n}=await hr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.equal("isApproved",!1),je.orderDesc("date")]);return{items:n.map(Ss)}}async function uy(n){const e=await hr.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:Ss(e)}}async function r3(n){const{items:e}=await uy(n);await J9(e.imageFileId),await hr.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function i3(n){const e=await hr.createDocument("678babec0039e89240df","67932f2e00392d850485",Ol.unique(),n);return{items:Ss(e)}}async function s3(n,e){const t=await hr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Ss(t)}}async function pg(n,e){const t=await hr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Ss(t)}}function Ss(n){return{$id:n.$id,name:n.name,author:n.author,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:!1,requests:n.requests,itemCategory:n.itemCategory}}function Ef(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,s,...a]=t.map(h=>parseInt(h)),l=[r,s-1,...a];return new Date(Date.UTC(...l))}}function AS(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function cy(){return cy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cy.apply(this,arguments)}const Qu=60,Yu=Qu*60,El=Yu*24,Tf=El*7,RS=El*30,bS=El*365,o3=()=>Date.now();function a3({date:n,formatter:e=AS,component:t="time",live:r=!0,minPeriod:s=0,maxPeriod:a=Tf,title:l,now:d=o3,...h}){const[p,g]=w.useState(d());w.useEffect(()=>{if(!r)return;const Z=(()=>{const J=Ef(n).valueOf();if(!J)return console.warn("[react-timeago] Invalid Date provided"),0;const S=Math.round(Math.abs(p-J)/1e3),R=S<Qu?1e3:S<Yu?1e3*Qu:S<El?1e3*Yu:1e3*Tf,P=Math.min(Math.max(R,s*1e3),a*1e3);return P?setTimeout(()=>{g(d())},P):0})();return()=>{Z&&clearTimeout(Z)}},[n,r,a,s,d,p]);const _=t,T=Ef(n).valueOf();if(!T)return null;const C=Math.round(Math.abs(p-T)/1e3),k=T<p?"ago":"from now",[O,b]=C<Qu?[Math.round(C),"second"]:C<Yu?[Math.round(C/Qu),"minute"]:C<El?[Math.round(C/Yu),"hour"]:C<Tf?[Math.round(C/El),"day"]:C<RS?[Math.round(C/Tf),"week"]:C<bS?[Math.round(C/RS),"month"]:[Math.round(C/bS),"year"],F=typeof l>"u"?typeof n=="string"?n:Ef(n).toISOString().substr(0,16).replace("T"," "):l,$=_==="time"?{...h,dateTime:Ef(n).toISOString()}:h,W=AS.bind(null,O,b,k);return w.createElement(_,cy({},$,{title:F}),e(O,b,k,T,W,d))}const e_=({name:n,date:e,author:t,image:r})=>_e(sl,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[A("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&_e(Vt,{children:[A(sl.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),A("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),_e(sl.Body,{children:[A(sl.Title,{children:n}),A(sl.Text,{children:t}),A(sl.Text,{children:A(a3,{date:e})})]})]}),t_=({children:n})=>{const{session:e,logOut:t}=Vi(),r=Co(),[s,a]=w.useState(),[l,d]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/");return}try{const g=await xh();a(g)}catch(g){console.error("Error fetching user:",g)}finally{d(!1)}})()},[e,r]);async function h(){await t(),r("/")}return _e(Vt,{children:[A(qf,{show:l,centered:!0,backdrop:"static",children:_e(qf.Body,{className:"text-center",children:[A(ev,{animation:"border",role:"status",children:A("span",{className:"visually-hidden",children:"Loading..."})}),A("p",{className:"mt-3",children:"Please wait, loading..."})]})}),_e("div",{className:"body",children:[A(hf,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:_e(Pc,{children:[_e(hf.Brand,{href:"#/Home",children:[A("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),A(hf.Toggle,{"aria-controls":"basic-navbar-nav"}),A(hf.Collapse,{className:"justify-content-end flex-grow-1",children:A(Dl,{children:_e(I0,{className:"me-auto",children:[A(I0.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),_e(Uu,{title:(s==null?void 0:s.name)||"User",id:"basic-nav-dropdown",align:"end",children:[A(Uu.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),A(Uu.Divider,{}),e?A(Uu.Item,{className:"logout-nav",onClick:h,children:"Logout"}):A(Uu.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),A("main",{children:n})]})]})};async function l3(n,e){const t=await hr.createDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:n_(t)}}async function yh(n){const e=await hr.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:n_(e)}}async function u3(n){try{return!!await hr.getDocument("678babec0039e89240df","67932f37003021addec1",n)}catch{return!1}}async function c3(n,e){const t=await hr.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:n_(t)}}function n_(n){return{userid:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight}}const d3=()=>{const[n,e]=w.useState(),[t,r]=w.useState(!1),[s,a]=w.useState(),[l,d]=w.useState();w.useEffect(()=>{(async function(){const{items:C}=await CS();e(C);const k=await xh();if(a(k),k){const O=await u3(k.$id);console.log("User Exists? ",O),O||(await l3(k.$id,{userId:k.$id,profileImageId:"",profileSummary:null,profileImageWidth:(l==null?void 0:l.width)??100,profileImageHeight:(l==null?void 0:l.height)??100,displayName:null,defaultName:k.name}),console.log("New profile created."))}})()},[]);async function h(){const{items:T}=await CS();e(T)}const p=async T=>{T.preventDefault(),r(k=>!k);const C=T.target;try{const{items:k}=await e3(C.ItemSearch.value);e(k)}catch(k){console.error("Error finding Item:",k)}};async function g(T){const{items:C}=await t3(T);e(C),console.log(C)}const _={a:"School Supplies",b:"Clothing",c:"Entertainment/Hobbies",d:"Gaming/Technology",e:"Accessories",f:"Miscellaneous"};return A(t_,{children:A("div",{className:"home",children:_e("div",{className:"container",id:"pagewrap",children:[A("div",{className:"searchinput",children:_e("form",{className:"search",onSubmit:p,autoComplete:"off",children:[A("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),t&&A(kc,{className:"clear-btn",onClick:h}),A("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),A("div",{className:"categories",children:A(no,{defaultActiveKey:"0",children:_e(no.Item,{eventKey:"0",children:[A(no.Header,{children:"Filter by Categories"}),A(no.Body,{children:A(Dl,{children:_e(Pl,{sm:8,md:10,lg:12,children:[A(on,{variant:"outline-danger",onClick:h,children:"Clear Filter"}),A(on,{variant:"outline-primary",onClick:()=>g("a"),children:"School Supplies"}),A(on,{variant:"outline-secondary",onClick:()=>g("b"),children:"Clothing"}),A(on,{variant:"outline-success",onClick:()=>g("c"),children:"Entertainment/Hobbies"}),A(on,{variant:"outline-warning",onClick:()=>g("d"),children:"Gaming/Technology"}),A(on,{variant:"outline-info",onClick:()=>g("e"),children:"Accessories"}),A(on,{variant:"outline-dark",onClick:()=>g("f"),children:"Miscellaneous"})]})})})]})})}),A("div",{className:"items container",children:_e(Dl,{children:[Array.isArray(n)&&n.length>0&&A(Vt,{children:n.map(T=>{const k={url:T.imageFileId&&Qc(T.imageFileId),height:T.imageHeight,width:T.imageWidth};return A(Pl,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:_e("a",{className:"itemLink",href:`#/Item/${T.$id}`,children:[A("div",{className:"itemLabel",children:A("span",{className:"Label",children:_[T.itemCategory]||"Uncategorized"})}),A(e_,{image:{height:k.height,url:k.url,width:k.width},name:T.name,date:T.date,author:T.author})]})},T.$id)})}),Array.isArray(n)&&n.length===0&&A(Pc,{children:_e(kl,{variant:"warning",children:["No Items are currently posted, ",A(kl.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})]})})]})})})};function ll(){const n=uN();return console.error(n),A("div",{id:"error-page",children:_e("div",{class:"error",children:[_e("a",{class:"HomeButton",href:"#/Home",children:[A("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:A("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),A("div",{class:"background-wrapper",children:A("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),A("p",{class:"errorText",children:"The page youre looking for does not exist."}),A("p",{children:A("i",{children:n.statusText||n.message})})]})})}function f3(){const{session:n}=Vi(),e=Co(),[t,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!n){e("/");return}r(!1)})()},[n,e]),_e(Vt,{children:[A(qf,{show:t,centered:!0,backdrop:"static",children:_e(qf.Body,{className:"text-center",children:[A(ev,{animation:"border",role:"status",children:A("span",{className:"visually-hidden",children:"Loading..."})}),A("p",{className:"mt-3",children:"Verifying session..."})]})}),!t&&_e(Vt,{children:[_e("div",{className:"uWholeBox",children:[_e("a",{className:"HomeButton",href:"#/Home",children:[A("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:A("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),A("div",{className:"uLooks",children:" Dashboard "})]}),_e("div",{className:"NaviBar",children:[_e("ul",{children:[A("li",{children:A(Hu,{to:"/Dashboard/Post",children:"Post"})}),A("li",{children:A(Hu,{to:"/Dashboard/Items",children:"Your Items"})}),A("li",{children:A(Hu,{to:"/Dashboard/Requests",children:"Requests"})}),A("li",{children:A(Hu,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),A("li",{children:A(Hu,{to:"/Dashboard/Profile",children:"Profile"})})]}),A(C9,{})]})]})]})}const h3=()=>{const[n,e]=w.useState(),[t,r]=w.useState(),[s,a]=w.useState(!1),[l,d]=w.useState(),[h,p]=w.useState(null),[g,_]=w.useState(!1);return t!=null&&t.profileImageId&&hg(t.profileImageId),t==null||t.profileImageHeight,t==null||t.profileImageWidth,w.useEffect(()=>{(async()=>{try{const b=await xh();if(e(b),b){const{userdb:F}=await yh(b.$id);r(F),p(F!=null&&F.profileImageId?hg(F.profileImageId):null)}}catch(b){console.error("Error fetching user: ",b)}})()},[]),_e(Vt,{children:[g&&A("div",{className:"overlay",children:A("div",{className:"overlay-content",children:A("p",{children:"Please wait... Updating User Profile"})})}),A("div",{className:"Main",children:A("div",{className:"container",children:s?_e(Vt,{children:[A("h1",{children:"Edit Profile"}),_e("form",{onSubmit:async O=>{O.preventDefault(),_(!0);const b=new FormData(O.currentTarget),F=b.get("display-name"),$=b.get("summary");if(!F||!$){alert("Please fill in all fields."),_(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),_(!1);return}let{userdb:W}=await yh(n.$id),q=(W==null?void 0:W.profileImageId)||"default";if(l!=null&&l.file){console.log("Uploading image...");const Z=await Z9(n.$id,l.file);Z!=null&&Z.$id&&(q=Z.$id,console.log("Image uploaded successfully:",Z.$id))}await c3(n.$id,{profileImageId:q,profileSummary:$,profileImageWidth:(l==null?void 0:l.width)??100,profileImageHeight:(l==null?void 0:l.height)??100,displayName:F,defaultName:""}),console.log(" Profile updated."),r(Z=>({...Z,displayName:F,profileSummary:$,profileImageId:q}))}catch(W){console.error(" Failed to update profile:",W)}finally{_(!1),a(!1)}},children:[_e("div",{className:"inputprofile",children:[A("input",{type:"file",accept:".png, .jpg",onChange:O=>{if(!O.target.files||O.target.files.length===0)return;const b=O.target.files[0],F=document.createElement("img");F.onload=function(){d({height:F.height,file:b,width:F.width})},F.src=URL.createObjectURL(b);const $=URL.createObjectURL(b);return p($),()=>URL.revokeObjectURL($)},required:!0}),A(kg,{src:h||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,width:180,height:180}),A("p",{children:"Upload an image: accepts jpg and png only"})]}),A("div",{className:"mb-3",children:A(Sr.Control,{type:"text",id:"display-name",name:"display-name",placeholder:"Name",autoComplete:"off",defaultValue:(t==null?void 0:t.profileName)||(n==null?void 0:n.name)})}),_e(Sr.Group,{className:"mb-3",controlId:"Description.ControlTextarea1",children:[A(Sr.Label,{children:"Profile Summary"}),A(Sr.Control,{as:"textarea",id:"summary",name:"summary",rows:2,defaultValue:(t==null?void 0:t.profileSummary)||"PROFILE SUMMARY"})]}),A(on,{className:"submitbtn",type:"submit",children:"Submit"})]})]}):_e(Vt,{children:[A("h1",{children:"Profile"}),A(on,{className:"editprf btn btn-primary mb-3",onClick:()=>a(!0),children:"Edit Profile"}),A("div",{className:"inputprofile",children:A(kg,{src:t!=null&&t.profileImageId?hg(t.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,width:180,height:180})}),_e("div",{className:"container",children:[_e("div",{className:"mb-3",children:[A("p",{children:t==null?void 0:t.profileName}),A("p",{children:n==null?void 0:n.name})]}),A("div",{className:"mb-3",children:A("p",{children:(t==null?void 0:t.profileSummary)||"PROFILE SUMMARY"})})]})]})})})]})},p3=()=>{const{session:n}=Vi();return A(Vt,{children:_e("div",{class:"messages-container",children:[A("iframe",{width:"100%",height:"100%",src:"https://lynxlenior.github.io/TraderyMessenger/",title:"TraderyMessenger"}),A("div",{id:"view-messages"})]})})},m3=()=>{const{session:n}=Vi(),e=Co(),[t,r]=w.useState(),[s,a]=w.useState(!1);function l(h){if(!h.target.files||h.target.files.length===0)return;const p=h.target.files[0],g=new Image;g.onload=function(){r({height:g.height,file:p,width:g.width})},g.src=URL.createObjectURL(p)}return _e(Vt,{children:[s&&A("div",{className:"overlay",children:A("div",{className:"overlay-content",children:A("p",{children:"Please wait... Creating Tradery Item"})})}),A("div",{className:"Main",children:_e("div",{className:"container",children:[A("h1",{children:"Post Item"}),_e("form",{onSubmit:async h=>{h.preventDefault(),a(!0);const p=new FormData(h.currentTarget),g=p.get("name"),_=p.get("description"),T=p.get("itemCategory");if(!g||!_||!T){alert("Please fill in all fields."),a(!1);return}try{const C=await ns();if(!C){console.log("User data is still loading. Please wait.");return}const k=await i3({name:g,author:C.name,authorID:C.$id,description:_,date:new Date().toISOString(),imageHeight:(t==null?void 0:t.height)??100,imageFileId:"",imageWidth:(t==null?void 0:t.width)??100,isApproved:!1,itemCategory:T});if(console.log("Item created successfully:",k.items),t!=null&&t.file){console.log("Uploading image...");const O=await X9(t.file);await s3(k.items.$id,{imageFileId:O==null?void 0:O.$id,imageHeight:t==null?void 0:t.height,imageWidth:t==null?void 0:t.width,name:g,description:_,author:C.name,authorID:C.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:T}),console.log("Image uploaded successfully:",O.$id)}e(`/Item/${k.items.$id}`)}catch(C){console.error("Error creating item:",C),alert("Failed to create item. Please try again.")}finally{a(!1)}},autoComplete:"off",children:[A("div",{className:"uploader",children:_e(Sr.Group,{controlId:"formFileLg",className:"mb-3",children:[A(Sr.Label,{children:"Import Image"}),A(Sr.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:l,required:!0})]})}),A("div",{className:"mb-3",children:A(Ky,{controlId:"floatingSelect",label:"Category",children:_e(Sr.Select,{className:"itemCategory",id:"itemCategory",name:"itemCategory",required:!0,children:[A("option",{value:"",disabled:!0,children:"Select a Category..."}),A("option",{value:"a",children:"School Supplies"}),A("option",{value:"b",children:"Clothing"}),A("option",{value:"c",children:"Entertainment/Hobbies"}),A("option",{value:"d",children:"Gaming/Technology"}),A("option",{value:"e",children:"Accessories"}),A("option",{value:"f",children:"Miscellaneous"})]})})}),A("div",{className:"mb-3",children:A(Sr.Control,{id:"name",name:"name",type:"text",placeholder:"Name",required:!0})}),_e(Sr.Group,{className:"mb-3",controlId:"Description.ControlTextarea1",children:[A(Sr.Label,{children:"Item Description"}),A(Sr.Control,{rows:4,as:"textarea",id:"description",name:"description",placeholder:"Description",required:!0})]}),A(on,{className:"submitbtn",type:"submit",disabled:s,children:"Submit"})]})]})})]})},g3=()=>{const[n,e]=w.useState();return w.useEffect(()=>{(async function(){const r=await ns();if(!r){console.log("User data is still loading. Please wait.");return}const{items:s}=await fN(r.$id);e(s),console.log(s)})()},[]),A(Vt,{children:A("div",{className:"home",children:A("div",{className:"container",id:"pagewrap",children:A("div",{className:"items container",children:_e(Dl,{children:[Array.isArray(n)&&n.length>0&&A(Vt,{children:n.map(t=>{const s={url:t.imageFileId&&Qc(t.imageFileId),height:t==null?void 0:t.imageHeight,width:t==null?void 0:t.imageWidth};return A(Pl,{xs:12,md:3,style:{paddingBottom:"20px"},children:A("a",{className:"itemLink",href:`#/Item/${t.$id}`,children:A(e_,{image:{height:s.height,url:s.url,width:s.width},name:t.name,date:t.date,author:t.author})})},t.$id)})}),Array.isArray(n)&&n.length===0&&A(Pc,{children:_e(kl,{variant:"warning",children:["No Items are currently posted,",A(kl.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})]})})})})})},y3=({name:n,image:e,userId:t})=>{const[r,s]=w.useState([]);return w.useEffect(()=>{(async function(){if(!t||t.length===0)return;const l=await Promise.all(t.map(async d=>{try{const{userdb:h}=await yh(d);return{displayName:(h==null?void 0:h.displayName)||"Unknown User",appwriteName:(h==null?void 0:h.defaultName)||"No Appwrite Name"}}catch(h){return console.error("Error fetching user data:",h),{displayName:"Unknown User",appwriteName:"No Appwrite Name"}}}));s(l)})()},[t]),_e(no.Item,{eventKey:"0",children:[A(no.Header,{children:n}),A(no.Body,{children:r.length>0?r.map((a,l)=>_e("p",{children:[A("strong",{children:a.displayName})," requests to trade with this item. You can message them at **",a.appwriteName,"**."]},l)):A("p",{children:"No trade requests found."})})]})},v3=()=>{const[n,e]=w.useState([]),{session:t}=Vi();return Co(),w.useEffect(()=>{(async function(){const s=await ns();if(!s){console.log("User data is still loading. Please wait.");return}const{items:a}=await fN(s.$id),l=a.filter(d=>{var h;return((h=d.requests)==null?void 0:h.length)||!1});e(l),console.log(l)})()},[]),_e("div",{className:"container",children:[A("h1",{children:"Your Items with Requests"}),n.length>0?A(no,{children:n.map(r=>A(y3,{name:r.name,userId:r.requests},r.$id))}):A("p",{children:"No items with requests found."})]})};function _3({params:n=sN()}){const[e,t]=w.useState(),r=Co(),[s,a]=w.useState(!1),[l,d]=w.useState(!1),{isAdmin:h}=Vi(),g={url:(e==null?void 0:e.imageFileId)&&Qc(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var W;const{items:b}=await uy(n.itemsId);console.log("Fetched Item Data:",b),t(b);const F=await ns();(F==null?void 0:F.$id)===(b==null?void 0:b.authorID)&&a(!0),F&&d(((W=b.requests)==null?void 0:W.includes(F.$id))??!1)})()},[n.itemsId]);async function _(){if(!e)return;const O=await ns();if(!O){console.log("User data is still loading. Please wait.");return}try{const b=e.requests??[];if(b.includes(O.$id)){d(!0);return}const F=[...b,O.$id];t($=>$&&{...$,requests:F}),d(!0),await pg(n.itemsId,{...e,requests:F}),console.log("Trade request successful")}catch(b){console.error("Error requesting trade:",b)}}async function T(){e!=null&&e.$id&&(await r3(e.$id),r("/"))}async function C(){if(!e)return;if(!await ns()){console.log("User data is still loading. Please wait.");return}try{t(F=>F&&{...F,isApproved:!0}),await pg(n.itemsId,{...e,isApproved:!0});const{items:b}=await uy(n.itemsId);console.log("Approved Post: ",b),t(b),r("/Admin")}catch(b){console.error("Error approving post:",b)}}async function k(){if(!e)return;const O=await ns();if(!O){console.log("User data is still loading. Please wait.");return}try{const b=e.requests??[];if(!b.includes(O.$id)){d(!1);return}const F=b.filter($=>$!==O.$id);t($=>$&&{...$,requests:F}),d(!1),await pg(n.itemsId,{...e,requests:F}),console.log("Trade request removed")}catch(b){console.error("Error removing request:",b)}}return A(t_,{children:A("div",{className:"container",children:e&&_e(Vt,{children:[!e.isApproved&&A(kl,{variant:"warning",style:{margin:"20px"},children:"The item is waiting to be approved by the admin."},"warning"),_e("div",{className:"itemheading",children:[A("div",{children:A("h1",{children:e.name})}),_e("div",{children:["By: ",e.author]}),_e("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!h&&_e("div",{className:"Tradecont",children:[s&&A(on,{className:"Tradereq",variant:"primary",onClick:T,children:"Delete Item"}),!s&&A(Vt,{children:l?A(on,{className:"Tradereq",variant:"danger",onClick:k,children:"Remove Trade Request"}):A(on,{className:"Tradereq",variant:"primary",onClick:_,children:"Request a Trade"})})]}),h&&_e("div",{className:"Tradecont",children:[A(on,{className:"Tradereq",variant:"primary",onClick:T,children:"Delete Item"}),A(on,{className:"Tradereq",variant:"primary",onClick:C,children:"Approve Item"})]}),A("div",{className:"itemimg",children:A(c0,{className:"image-carousel",controls:!1,children:A(c0.Item,{children:A("img",{className:"thumbnail",src:g.url?String(g.url):"./images/favicon",alt:"Item"})})})}),A("div",{className:"description",children:A("p",{children:e.description})})]})})})}function w3({params:n=sN()}){const[e,t]=w.useState(),[r,s]=w.useState();Co();const[a,l]=w.useState(!1),{isAdmin:d}=Vi(),h=(e==null?void 0:e.profileImageId)&&Qc(e.profileImageId);return w.useEffect(()=>{(async function(){const{userdb:g}=await yh(n.userId);t(g);const _=await ns();_&&s(_)})()},[n.userId]),A(t_,{children:_e("div",{className:"container",children:[A("div",{className:"inputprofile",children:A("img",{className:"profile",src:h?String(h):"https://cloud.appwrite.io/v1/storage/buckets/678bac020031c1c3ad75/files/67b5f14b0018676748e5/view?project=678ba12f001dce105c6a&mode=admin",alt:"Item"})}),A("h1",{children:e==null?void 0:e.profileName}),A("p",{children:r==null?void 0:r.name}),A("p",{children:e==null?void 0:e.profileSummary})]})})}function E3(){const{isAdmin:n,logInAdmin:e}=Vi(),t=async a=>{a.preventDefault();const l=a.target;await e(l.email.value,l.password.value),window.location.reload()},[r,s]=w.useState();return w.useEffect(()=>{(async function(){if(!await ns()){console.log("User data is still loading. Please wait.");return}const{items:d}=await n3();s(d),console.log(d)})()},[]),_e(Vt,{children:[!n&&A("div",{className:"RegAdminContainer",children:A("div",{className:"login-register-container",children:_e("form",{onSubmit:t,autoComplete:"off",children:[_e("div",{className:"form-field-wrapper",children:[A("label",{children:"Email:"}),A("input",{required:!0,type:"email",name:"email",placeholder:"Enter email..."})]}),_e("div",{className:"form-field-wrapper",children:[A("label",{children:"Password:"}),A(Sr.Control,{type:"password",name:"password",placeholder:"Enter password..."})]}),A("div",{className:"form-field-wrapper",children:A(on,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&A("div",{className:"home",children:_e("div",{className:"container",id:"pagewrap",children:[A("h1",{children:"UNAPPROVED ITEMS"}),A("div",{className:"items container",children:_e(Dl,{children:[Array.isArray(r)&&r.length>0&&A(Vt,{children:r.map(a=>{const d={url:a.imageFileId&&Qc(a.imageFileId),height:a==null?void 0:a.imageHeight,width:a==null?void 0:a.imageWidth};return A(Pl,{xs:12,md:3,style:{paddingBottom:"20px"},children:A("a",{className:"itemLink",href:`#/Item/${a.$id}`,children:A(e_,{image:{height:d.height,url:d.url,width:d.width},name:a.name,date:a.date,author:a.author})})},a.$id)})}),Array.isArray(r)&&r.length===0&&A(Pc,{children:A(kl,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})]})})]})})]})}const T3=O9([{path:"/",element:A(Y9,{}),errorElement:A(ll,{})},{path:"/Admin",element:A(E3,{}),errorElement:A(ll,{})},{path:"/Home",element:A(d3,{}),errorElement:A(ll,{})},{path:"/Item/:itemsId",element:A(_3,{}),errorElement:A(ll,{})},{path:"/User/:profileId",element:A(w3,{}),errorElement:A(ll,{})},{path:"/Dashboard",element:A(f3,{}),errorElement:A(ll,{}),children:[{path:"/Dashboard/Post",element:A(m3,{})},{path:"/Dashboard/Profile",element:A(h3,{})},{path:"/Dashboard/Items",element:A(g3,{})},{path:"/Dashboard/Requests",element:A(v3,{})},{path:"/Dashboard/Messages",element:A(p3,{})}]}]);Tk.createRoot(document.getElementById("root")).render(A(w.StrictMode,{children:A(dB,{children:A(F9,{router:T3})})}));
