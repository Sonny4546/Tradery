function nC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function fd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ag={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function cP(){if(k0)return ut;k0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function R(z,te,pe){this.props=z,this.context=te,this.refs=k,this.updater=pe||S}R.prototype.isReactComponent={},R.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=R.prototype;function L(z,te,pe){this.props=z,this.context=te,this.refs=k,this.updater=pe||S}var V=L.prototype=new x;V.constructor=L,N(V,R.prototype),V.isPureReactComponent=!0;var j=Array.isArray,q=Object.prototype.hasOwnProperty,G={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function b(z,te,pe){var ve,Ie={},Ae=null,Ge=null;if(te!=null)for(ve in te.ref!==void 0&&(Ge=te.ref),te.key!==void 0&&(Ae=""+te.key),te)q.call(te,ve)&&!C.hasOwnProperty(ve)&&(Ie[ve]=te[ve]);var Be=arguments.length-2;if(Be===1)Ie.children=pe;else if(1<Be){for(var ot=Array(Be),Tt=0;Tt<Be;Tt++)ot[Tt]=arguments[Tt+2];Ie.children=ot}if(z&&z.defaultProps)for(ve in Be=z.defaultProps,Be)Ie[ve]===void 0&&(Ie[ve]=Be[ve]);return{$$typeof:n,type:z,key:Ae,ref:Ge,props:Ie,_owner:G.current}}function P(z,te){return{$$typeof:n,type:z.type,key:te,ref:z.ref,props:z.props,_owner:z._owner}}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function U(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return te[pe]})}var F=/\/+/g;function O(z,te){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):te.toString(36)}function we(z,te,pe,ve,Ie){var Ae=typeof z;(Ae==="undefined"||Ae==="boolean")&&(z=null);var Ge=!1;if(z===null)Ge=!0;else switch(Ae){case"string":case"number":Ge=!0;break;case"object":switch(z.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=z,Ie=Ie(Ge),z=ve===""?"."+O(Ge,0):ve,j(Ie)?(pe="",z!=null&&(pe=z.replace(F,"$&/")+"/"),we(Ie,te,pe,"",function(Tt){return Tt})):Ie!=null&&(M(Ie)&&(Ie=P(Ie,pe+(!Ie.key||Ge&&Ge.key===Ie.key?"":(""+Ie.key).replace(F,"$&/")+"/")+z)),te.push(Ie)),1;if(Ge=0,ve=ve===""?".":ve+":",j(z))for(var Be=0;Be<z.length;Be++){Ae=z[Be];var ot=ve+O(Ae,Be);Ge+=we(Ae,te,pe,ot,Ie)}else if(ot=T(z),typeof ot=="function")for(z=ot.call(z),Be=0;!(Ae=z.next()).done;)Ae=Ae.value,ot=ve+O(Ae,Be++),Ge+=we(Ae,te,pe,ot,Ie);else if(Ae==="object")throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ge}function ke(z,te,pe){if(z==null)return z;var ve=[],Ie=0;return we(z,ve,"","",function(Ae){return te.call(pe,Ae,Ie++)}),ve}function je(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var Se={current:null},re={transition:null},me={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:re,ReactCurrentOwner:G};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:ke,forEach:function(z,te,pe){ke(z,function(){te.apply(this,arguments)},pe)},count:function(z){var te=0;return ke(z,function(){te++}),te},toArray:function(z){return ke(z,function(te){return te})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ut.Component=R,ut.Fragment=t,ut.Profiler=i,ut.PureComponent=L,ut.StrictMode=r,ut.Suspense=f,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ut.act=ce,ut.cloneElement=function(z,te,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ve=N({},z.props),Ie=z.key,Ae=z.ref,Ge=z._owner;if(te!=null){if(te.ref!==void 0&&(Ae=te.ref,Ge=G.current),te.key!==void 0&&(Ie=""+te.key),z.type&&z.type.defaultProps)var Be=z.type.defaultProps;for(ot in te)q.call(te,ot)&&!C.hasOwnProperty(ot)&&(ve[ot]=te[ot]===void 0&&Be!==void 0?Be[ot]:te[ot])}var ot=arguments.length-2;if(ot===1)ve.children=pe;else if(1<ot){Be=Array(ot);for(var Tt=0;Tt<ot;Tt++)Be[Tt]=arguments[Tt+2];ve.children=Be}return{$$typeof:n,type:z.type,key:Ie,ref:Ae,props:ve,_owner:Ge}},ut.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},ut.createElement=b,ut.createFactory=function(z){var te=b.bind(null,z);return te.type=z,te},ut.createRef=function(){return{current:null}},ut.forwardRef=function(z){return{$$typeof:u,render:z}},ut.isValidElement=M,ut.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:je}},ut.memo=function(z,te){return{$$typeof:p,type:z,compare:te===void 0?null:te}},ut.startTransition=function(z){var te=re.transition;re.transition={};try{z()}finally{re.transition=te}},ut.unstable_act=ce,ut.useCallback=function(z,te){return Se.current.useCallback(z,te)},ut.useContext=function(z){return Se.current.useContext(z)},ut.useDebugValue=function(){},ut.useDeferredValue=function(z){return Se.current.useDeferredValue(z)},ut.useEffect=function(z,te){return Se.current.useEffect(z,te)},ut.useId=function(){return Se.current.useId()},ut.useImperativeHandle=function(z,te,pe){return Se.current.useImperativeHandle(z,te,pe)},ut.useInsertionEffect=function(z,te){return Se.current.useInsertionEffect(z,te)},ut.useLayoutEffect=function(z,te){return Se.current.useLayoutEffect(z,te)},ut.useMemo=function(z,te){return Se.current.useMemo(z,te)},ut.useReducer=function(z,te,pe){return Se.current.useReducer(z,te,pe)},ut.useRef=function(z){return Se.current.useRef(z)},ut.useState=function(z){return Se.current.useState(z)},ut.useSyncExternalStore=function(z,te,pe){return Se.current.useSyncExternalStore(z,te,pe)},ut.useTransition=function(){return Se.current.useTransition()},ut.version="18.3.1",ut}var P0;function Sv(){return P0||(P0=1,Ag.exports=cP()),Ag.exports}var E=Sv();const nt=fd(E),uP=nC({__proto__:null,default:nt},[E]);var Kf={},Rg={exports:{}},_r={},Ng={exports:{}},kg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function dP(){return D0||(D0=1,function(n){function e(re,me){var ce=re.length;re.push(me);e:for(;0<ce;){var z=ce-1>>>1,te=re[z];if(0<i(te,me))re[z]=me,re[ce]=te,ce=z;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],ce=re.pop();if(ce!==me){re[0]=ce;e:for(var z=0,te=re.length,pe=te>>>1;z<pe;){var ve=2*(z+1)-1,Ie=re[ve],Ae=ve+1,Ge=re[Ae];if(0>i(Ie,ce))Ae<te&&0>i(Ge,Ie)?(re[z]=Ge,re[Ae]=ce,z=Ae):(re[z]=Ie,re[ve]=ce,z=ve);else if(Ae<te&&0>i(Ge,ce))re[z]=Ge,re[Ae]=ce,z=Ae;else break e}}return me}function i(re,me){var ce=re.sortIndex-me.sortIndex;return ce!==0?ce:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],p=[],m=1,y=null,T=3,S=!1,N=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(re){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=re)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function j(re){if(k=!1,V(re),!N)if(t(f)!==null)N=!0,je(q);else{var me=t(p);me!==null&&Se(j,me.startTime-re)}}function q(re,me){N=!1,k&&(k=!1,x(b),b=-1),S=!0;var ce=T;try{for(V(me),y=t(f);y!==null&&(!(y.expirationTime>me)||re&&!U());){var z=y.callback;if(typeof z=="function"){y.callback=null,T=y.priorityLevel;var te=z(y.expirationTime<=me);me=n.unstable_now(),typeof te=="function"?y.callback=te:y===t(f)&&r(f),V(me)}else r(f);y=t(f)}if(y!==null)var pe=!0;else{var ve=t(p);ve!==null&&Se(j,ve.startTime-me),pe=!1}return pe}finally{y=null,T=ce,S=!1}}var G=!1,C=null,b=-1,P=5,M=-1;function U(){return!(n.unstable_now()-M<P)}function F(){if(C!==null){var re=n.unstable_now();M=re;var me=!0;try{me=C(!0,re)}finally{me?O():(G=!1,C=null)}}else G=!1}var O;if(typeof L=="function")O=function(){L(F)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ke=we.port2;we.port1.onmessage=F,O=function(){ke.postMessage(null)}}else O=function(){R(F,0)};function je(re){C=re,G||(G=!0,O())}function Se(re,me){b=R(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){N||S||(N=!0,je(q))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var ce=T;T=me;try{return re()}finally{T=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=T;T=re;try{return me()}finally{T=ce}},n.unstable_scheduleCallback=function(re,me,ce){var z=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?z+ce:z):ce=z,re){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ce+te,re={id:m++,callback:me,priorityLevel:re,startTime:ce,expirationTime:te,sortIndex:-1},ce>z?(re.sortIndex=ce,e(p,re),t(f)===null&&re===t(p)&&(k?(x(b),b=-1):k=!0,Se(j,ce-z))):(re.sortIndex=te,e(f,re),N||S||(N=!0,je(q))),re},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(re){var me=T;return function(){var ce=T;T=me;try{return re.apply(this,arguments)}finally{T=ce}}}}(kg)),kg}var x0;function fP(){return x0||(x0=1,Ng.exports=dP()),Ng.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function hP(){if(O0)return _r;O0=1;var n=Sv(),e=fP();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function T(s){return f.call(y,s)?!0:f.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function S(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,o,c,h){if(o===null||typeof o>"u"||S(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,c,h,g,_,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=A}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(x,L);R[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(x,L);R[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(x,L);R[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,o,c,h){var g=R.hasOwnProperty(o)?R[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,c,g,h)&&(c=null),h||g===null?T(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),G=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,z;function te(s){if(z===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var pe=!1;function ve(s,o){if(!s||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ee){var h=ee}Reflect.construct(s,[],o)}else{try{o.call()}catch(ee){h=ee}s.call(o.prototype)}else{try{throw Error()}catch(ee){h=ee}s()}}catch(ee){if(ee&&h&&typeof ee.stack=="string"){for(var g=ee.stack.split(`
`),_=h.stack.split(`
`),A=g.length-1,$=_.length-1;1<=A&&0<=$&&g[A]!==_[$];)$--;for(;1<=A&&0<=$;A--,$--)if(g[A]!==_[$]){if(A!==1||$!==1)do if(A--,$--,0>$||g[A]!==_[$]){var H=`
`+g[A].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=A&&0<=$);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function Ie(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case G:return"Portal";case P:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case je:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ot(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Tt(s){var o=ot(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){h=""+A,_.call(this,A)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ct(s){s._valueTracker||(s._valueTracker=Tt(s))}function st(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=ot(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Dt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Xt(s,o){var c=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function it(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Be(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Wt(s,o){o=o.checked,o!=null&&V(s,"checked",o,!1)}function _n(s,o){Wt(s,o);var c=Be(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Xn(s,o.type,c):o.hasOwnProperty("defaultValue")&&Xn(s,o.type,Be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Br(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Xn(s,o,c){(o!=="number"||Dt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var qt=Array.isArray;function sn(s,o,c,h){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Be(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function lr(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Un(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(qt(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Be(c)}}function Lt(s,o){var c=Be(o.value),h=Be(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function hn(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function $e(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?$e(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Mt,wn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Mt=Mt||document.createElement("div"),Mt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Mt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Jn(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(s){ze.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Zn[o]=Zn[s]})});function at(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Zn.hasOwnProperty(s)&&Zn[s]?(""+o).trim():o+"px"}function En(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=at(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var cr=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ri(s,o){if(o){if(cr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Jo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function ci(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ts=null,$n=null,ur=null;function Ws(s){if(s=ou(s)){if(typeof ts!="function")throw Error(t(280));var o=s.stateNode;o&&(o=lf(o),ts(s.stateNode,s.type,o))}}function Sr(s){$n?ur?ur.push(s):ur=[s]:$n=s}function Zo(){if($n){var s=$n,o=ur;if(ur=$n=null,Ws(s),o)for(s=0;s<o.length;s++)Ws(o[s])}}function ki(s,o){return s(o)}function Pi(){}var dr=!1;function ea(s,o,c){if(dr)return s(o,c);dr=!0;try{return ki(s,o,c)}finally{dr=!1,($n!==null||ur!==null)&&(Pi(),Zo())}}function Kt(s,o){var c=s.stateNode;if(c===null)return null;var h=lf(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var B=!1;if(u)try{var K={};Object.defineProperty(K,"passive",{get:function(){B=!0}}),window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{B=!1}function Z(s,o,c,h,g,_,A,$,H){var ee=Array.prototype.slice.call(arguments,3);try{o.apply(c,ee)}catch(ue){this.onError(ue)}}var ie=!1,_e=null,Pe=!1,Qe=null,De={onError:function(s){ie=!0,_e=s}};function Re(s,o,c,h,g,_,A,$,H){ie=!1,_e=null,Z.apply(De,arguments)}function Ce(s,o,c,h,g,_,A,$,H){if(Re.apply(this,arguments),ie){if(ie){var ee=_e;ie=!1,_e=null}else throw Error(t(198));Pe||(Pe=!0,Qe=ee)}}function xe(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function et(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Ze(s){if(xe(s)!==s)throw Error(t(188))}function Jt(s){var o=s.alternate;if(!o){if(o=xe(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return Ze(g),s;if(_===h)return Ze(g),o;_=_.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=_;else{for(var A=!1,$=g.child;$;){if($===c){A=!0,c=g,h=_;break}if($===h){A=!0,h=g,c=_;break}$=$.sibling}if(!A){for($=_.child;$;){if($===c){A=!0,c=_,h=g;break}if($===h){A=!0,h=_,c=g;break}$=$.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function It(s){return s=Jt(s),s!==null?ct(s):null}function ct(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ct(s);if(o!==null)return o;s=s.sibling}return null}var Nt=e.unstable_scheduleCallback,Hr=e.unstable_cancelCallback,Di=e.unstable_shouldYield,Cr=e.unstable_requestPaint,dt=e.unstable_now,qs=e.unstable_getCurrentPriorityLevel,br=e.unstable_ImmediatePriority,Fn=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,xi=e.unstable_LowPriority,ft=e.unstable_IdlePriority,bt=null,on=null;function Oi(s){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(bt,s,void 0,(s.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:rl,zr=Math.log,ta=Math.LN2;function rl(s){return s>>>=0,s===0?32:31-(zr(s)/ta|0)|0}var il=64,sl=4194304;function Ks(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function na(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,_=s.pingedLanes,A=c&268435455;if(A!==0){var $=A&~g;$!==0?h=Ks($):(_&=A,_!==0&&(h=Ks(_)))}else A=c&~g,A!==0?h=Ks(A):_!==0&&(h=Ks(_));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-ht(o),g=1<<c,h|=s[c],o&=~g;return h}function rm(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var A=31-ht(_),$=1<<A,H=g[A];H===-1?(($&c)===0||($&h)!==0)&&(g[A]=rm($,o)):H<=o&&(s.expiredLanes|=$),_&=~$}}function Ar(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ra(){var s=il;return il<<=1,(il&4194240)===0&&(il=64),s}function Gs(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Qs(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ht(o),s[o]=c}function xt(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-ht(c),_=1<<g;o[g]=0,h[g]=-1,s[g]=-1,c&=~_}}function Ys(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-ht(c),g=1<<h;g&o|s[h]&o&&(s[h]|=o),c&=~g}}var yt=0;function Xs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Fd,ol,jd,Bd,Hd,Wc=!1,Li=[],Nn=null,ui=null,di=null,Js=new Map,Wr=new Map,Mi=[],im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(s,o){switch(s){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Js.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(o.pointerId)}}function fr(s,o,c,h,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},o!==null&&(o=ou(o),o!==null&&ol(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function sm(s,o,c,h,g){switch(o){case"focusin":return Nn=fr(Nn,s,o,c,h,g),!0;case"dragenter":return ui=fr(ui,s,o,c,h,g),!0;case"mouseover":return di=fr(di,s,o,c,h,g),!0;case"pointerover":var _=g.pointerId;return Js.set(_,fr(Js.get(_)||null,s,o,c,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Wr.set(_,fr(Wr.get(_)||null,s,o,c,h,g)),!0}return!1}function Wd(s){var o=la(s.target);if(o!==null){var c=xe(o);if(c!==null){if(o=c.tag,o===13){if(o=et(c),o!==null){s.blockedOn=o,Hd(s.priority,function(){jd(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rs(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=al(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Ni=h,c.target.dispatchEvent(h),Ni=null}else return o=ou(c),o!==null&&ol(o),s.blockedOn=c,!1;o.shift()}return!0}function ia(s,o,c){rs(s)&&c.delete(o)}function qd(){Wc=!1,Nn!==null&&rs(Nn)&&(Nn=null),ui!==null&&rs(ui)&&(ui=null),di!==null&&rs(di)&&(di=null),Js.forEach(ia),Wr.forEach(ia)}function fi(s,o){s.blockedOn===o&&(s.blockedOn=null,Wc||(Wc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qd)))}function hi(s){function o(g){return fi(g,s)}if(0<Li.length){fi(Li[0],s);for(var c=1;c<Li.length;c++){var h=Li[c];h.blockedOn===s&&(h.blockedOn=null)}}for(Nn!==null&&fi(Nn,s),ui!==null&&fi(ui,s),di!==null&&fi(di,s),Js.forEach(o),Wr.forEach(o),c=0;c<Mi.length;c++)h=Mi[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Mi.length&&(c=Mi[0],c.blockedOn===null);)Wd(c),c.blockedOn===null&&Mi.shift()}var is=j.ReactCurrentBatchConfig,Zs=!0;function jt(s,o,c,h){var g=yt,_=is.transition;is.transition=null;try{yt=1,qc(s,o,c,h)}finally{yt=g,is.transition=_}}function om(s,o,c,h){var g=yt,_=is.transition;is.transition=null;try{yt=4,qc(s,o,c,h)}finally{yt=g,is.transition=_}}function qc(s,o,c,h){if(Zs){var g=al(s,o,c,h);if(g===null)ym(s,o,h,sa,c),zd(s,h);else if(sm(g,s,o,c,h))h.stopPropagation();else if(zd(s,h),o&4&&-1<im.indexOf(s)){for(;g!==null;){var _=ou(g);if(_!==null&&Fd(_),_=al(s,o,c,h),_===null&&ym(s,o,h,sa,c),_===g)break;g=_}g!==null&&h.stopPropagation()}else ym(s,o,h,null,c)}}var sa=null;function al(s,o,c,h){if(sa=null,s=ci(h),s=la(s),s!==null)if(o=xe(s),o===null)s=null;else if(c=o.tag,c===13){if(s=et(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return sa=s,null}function Kc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qs()){case br:return 1;case Fn:return 4;case Rn:case xi:return 16;case ft:return 536870912;default:return 16}default:return 16}}var Rr=null,ll=null,hr=null;function Gc(){if(hr)return hr;var s,o=ll,c=o.length,h,g="value"in Rr?Rr.value:Rr.textContent,_=g.length;for(s=0;s<c&&o[s]===g[s];s++);var A=c-s;for(h=1;h<=A&&o[c-h]===g[_-h];h++);return hr=g.slice(s,1<h?1-h:void 0)}function cl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Vi(){return!0}function Qc(){return!1}function kn(s){function o(c,h,g,_,A){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(c=s[$],this[$]=c?c(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Vi:Qc,this.isPropagationStopped=Qc,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),o}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=kn(pi),Ui=ce({},pi,{view:0,detail:0}),am=kn(Ui),dl,ss,eo,oa=ce({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==eo&&(eo&&s.type==="mousemove"?(dl=s.screenX-eo.screenX,ss=s.screenY-eo.screenY):ss=dl=0,eo=s),dl)},movementY:function(s){return"movementY"in s?s.movementY:ss}}),fl=kn(oa),Yc=ce({},oa,{dataTransfer:0}),Kd=kn(Yc),hl=ce({},Ui,{relatedTarget:0}),pl=kn(hl),Gd=ce({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),os=kn(Gd),Qd=ce({},pi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yd=kn(Qd),Xd=ce({},pi,{data:0}),Xc=kn(Xd),ml={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Jd[s])?!!o[s]:!1}function $i(){return Zd}var d=ce({},Ui,{key:function(s){if(s.key){var o=ml[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=cl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?er[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(s){return s.type==="keypress"?cl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=kn(d),I=ce({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=kn(I),Q=ce({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),ne=kn(Q),ge=ce({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kt=kn(ge),pn=ce({},oa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_t=kn(pn),Tn=[9,13,27,32],an=u&&"CompositionEvent"in window,qr=null;u&&"documentMode"in document&&(qr=document.documentMode);var Nr=u&&"TextEvent"in window&&!qr,aa=u&&(!an||qr&&8<qr&&11>=qr),gl=" ",Sw=!1;function Cw(s,o){switch(s){case"keyup":return Tn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yl=!1;function o1(s,o){switch(s){case"compositionend":return bw(o);case"keypress":return o.which!==32?null:(Sw=!0,gl);case"textInput":return s=o.data,s===gl&&Sw?null:s;default:return null}}function a1(s,o){if(yl)return s==="compositionend"||!an&&Cw(s,o)?(s=Gc(),hr=ll=Rr=null,yl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return aa&&o.locale!=="ko"?null:o.data;default:return null}}var l1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aw(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!l1[s.type]:o==="textarea"}function Rw(s,o,c,h){Sr(h),o=sf(o,"onChange"),0<o.length&&(c=new ul("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Jc=null,Zc=null;function c1(s){qw(s,0)}function ef(s){var o=Tl(s);if(st(o))return s}function u1(s,o){if(s==="change")return o}var Nw=!1;if(u){var lm;if(u){var cm="oninput"in document;if(!cm){var kw=document.createElement("div");kw.setAttribute("oninput","return;"),cm=typeof kw.oninput=="function"}lm=cm}else lm=!1;Nw=lm&&(!document.documentMode||9<document.documentMode)}function Pw(){Jc&&(Jc.detachEvent("onpropertychange",Dw),Zc=Jc=null)}function Dw(s){if(s.propertyName==="value"&&ef(Zc)){var o=[];Rw(o,Zc,s,ci(s)),ea(c1,o)}}function d1(s,o,c){s==="focusin"?(Pw(),Jc=o,Zc=c,Jc.attachEvent("onpropertychange",Dw)):s==="focusout"&&Pw()}function f1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ef(Zc)}function h1(s,o){if(s==="click")return ef(o)}function p1(s,o){if(s==="input"||s==="change")return ef(o)}function m1(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var mi=typeof Object.is=="function"?Object.is:m1;function eu(s,o){if(mi(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!f.call(o,g)||!mi(s[g],o[g]))return!1}return!0}function xw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ow(s,o){var c=xw(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xw(c)}}function Lw(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Lw(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Mw(){for(var s=window,o=Dt();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Dt(s.document)}return o}function um(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function g1(s){var o=Mw(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Lw(c.ownerDocument.documentElement,c)){if(h!==null&&um(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(h.start,g);h=h.end===void 0?_:Math.min(h.end,g),!s.extend&&_>h&&(g=h,h=_,_=g),g=Ow(c,_);var A=Ow(c,h);g&&A&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),_>h?(s.addRange(o),s.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var y1=u&&"documentMode"in document&&11>=document.documentMode,vl=null,dm=null,tu=null,fm=!1;function Vw(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fm||vl==null||vl!==Dt(h)||(h=vl,"selectionStart"in h&&um(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),tu&&eu(tu,h)||(tu=h,h=sf(dm,"onSelect"),0<h.length&&(o=new ul("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=vl)))}function tf(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var _l={animationend:tf("Animation","AnimationEnd"),animationiteration:tf("Animation","AnimationIteration"),animationstart:tf("Animation","AnimationStart"),transitionend:tf("Transition","TransitionEnd")},hm={},Uw={};u&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function nf(s){if(hm[s])return hm[s];if(!_l[s])return s;var o=_l[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Uw)return hm[s]=o[c];return s}var $w=nf("animationend"),Fw=nf("animationiteration"),jw=nf("animationstart"),Bw=nf("transitionend"),Hw=new Map,zw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(s,o){Hw.set(s,o),a(o,[s])}for(var pm=0;pm<zw.length;pm++){var mm=zw[pm],v1=mm.toLowerCase(),_1=mm[0].toUpperCase()+mm.slice(1);to(v1,"on"+_1)}to($w,"onAnimationEnd"),to(Fw,"onAnimationIteration"),to(jw,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(Bw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function Ww(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,Ce(h,o,void 0,s),s.currentTarget=null}function qw(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var A=h.length-1;0<=A;A--){var $=h[A],H=$.instance,ee=$.currentTarget;if($=$.listener,H!==_&&g.isPropagationStopped())break e;Ww(g,$,ee),_=H}else for(A=0;A<h.length;A++){if($=h[A],H=$.instance,ee=$.currentTarget,$=$.listener,H!==_&&g.isPropagationStopped())break e;Ww(g,$,ee),_=H}}}if(Pe)throw s=Qe,Pe=!1,Qe=null,s}function Ut(s,o){var c=o[Im];c===void 0&&(c=o[Im]=new Set);var h=s+"__bubble";c.has(h)||(Kw(o,s,2,!1),c.add(h))}function gm(s,o,c){var h=0;o&&(h|=4),Kw(c,s,h,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function ru(s){if(!s[rf]){s[rf]=!0,r.forEach(function(c){c!=="selectionchange"&&(w1.has(c)||gm(c,!1,s),gm(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[rf]||(o[rf]=!0,gm("selectionchange",!1,o))}}function Kw(s,o,c,h){switch(Kc(o)){case 1:var g=jt;break;case 4:g=om;break;default:g=qc}c=g.bind(null,o,c,s),g=void 0,!B||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function ym(s,o,c,h,g){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var $=h.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(A===4)for(A=h.return;A!==null;){var H=A.tag;if((H===3||H===4)&&(H=A.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;A=A.return}for(;$!==null;){if(A=la($),A===null)return;if(H=A.tag,H===5||H===6){h=_=A;continue e}$=$.parentNode}}h=h.return}ea(function(){var ee=_,ue=ci(c),fe=[];e:{var le=Hw.get(s);if(le!==void 0){var be=ul,Me=s;switch(s){case"keypress":if(cl(c)===0)break e;case"keydown":case"keyup":be=v;break;case"focusin":Me="focus",be=pl;break;case"focusout":Me="blur",be=pl;break;case"beforeblur":case"afterblur":be=pl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ne;break;case $w:case Fw:case jw:be=os;break;case Bw:be=kt;break;case"scroll":be=am;break;case"wheel":be=_t;break;case"copy":case"cut":case"paste":be=Yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=D}var Ve=(o&4)!==0,tn=!Ve&&s==="scroll",Y=Ve?le!==null?le+"Capture":null:le;Ve=[];for(var W=ee,J;W!==null;){J=W;var he=J.stateNode;if(J.tag===5&&he!==null&&(J=he,Y!==null&&(he=Kt(W,Y),he!=null&&Ve.push(iu(W,he,J)))),tn)break;W=W.return}0<Ve.length&&(le=new be(le,Me,null,c,ue),fe.push({event:le,listeners:Ve}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",be=s==="mouseout"||s==="pointerout",le&&c!==Ni&&(Me=c.relatedTarget||c.fromElement)&&(la(Me)||Me[as]))break e;if((be||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,be?(Me=c.relatedTarget||c.toElement,be=ee,Me=Me?la(Me):null,Me!==null&&(tn=xe(Me),Me!==tn||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(be=null,Me=ee),be!==Me)){if(Ve=fl,he="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=D,he="onPointerLeave",Y="onPointerEnter",W="pointer"),tn=be==null?le:Tl(be),J=Me==null?le:Tl(Me),le=new Ve(he,W+"leave",be,c,ue),le.target=tn,le.relatedTarget=J,he=null,la(ue)===ee&&(Ve=new Ve(Y,W+"enter",Me,c,ue),Ve.target=J,Ve.relatedTarget=tn,he=Ve),tn=he,be&&Me)t:{for(Ve=be,Y=Me,W=0,J=Ve;J;J=wl(J))W++;for(J=0,he=Y;he;he=wl(he))J++;for(;0<W-J;)Ve=wl(Ve),W--;for(;0<J-W;)Y=wl(Y),J--;for(;W--;){if(Ve===Y||Y!==null&&Ve===Y.alternate)break t;Ve=wl(Ve),Y=wl(Y)}Ve=null}else Ve=null;be!==null&&Gw(fe,le,be,Ve,!1),Me!==null&&tn!==null&&Gw(fe,tn,Me,Ve,!0)}}e:{if(le=ee?Tl(ee):window,be=le.nodeName&&le.nodeName.toLowerCase(),be==="select"||be==="input"&&le.type==="file")var Ue=u1;else if(Aw(le))if(Nw)Ue=p1;else{Ue=f1;var qe=d1}else(be=le.nodeName)&&be.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ue=h1);if(Ue&&(Ue=Ue(s,ee))){Rw(fe,Ue,c,ue);break e}qe&&qe(s,le,ee),s==="focusout"&&(qe=le._wrapperState)&&qe.controlled&&le.type==="number"&&Xn(le,"number",le.value)}switch(qe=ee?Tl(ee):window,s){case"focusin":(Aw(qe)||qe.contentEditable==="true")&&(vl=qe,dm=ee,tu=null);break;case"focusout":tu=dm=vl=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,Vw(fe,c,ue);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":Vw(fe,c,ue)}var Ke;if(an)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else yl?Cw(s,c)&&(Je="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(aa&&c.locale!=="ko"&&(yl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&yl&&(Ke=Gc()):(Rr=ue,ll="value"in Rr?Rr.value:Rr.textContent,yl=!0)),qe=sf(ee,Je),0<qe.length&&(Je=new Xc(Je,s,null,c,ue),fe.push({event:Je,listeners:qe}),Ke?Je.data=Ke:(Ke=bw(c),Ke!==null&&(Je.data=Ke)))),(Ke=Nr?o1(s,c):a1(s,c))&&(ee=sf(ee,"onBeforeInput"),0<ee.length&&(ue=new Xc("onBeforeInput","beforeinput",null,c,ue),fe.push({event:ue,listeners:ee}),ue.data=Ke))}qw(fe,o)})}function iu(s,o,c){return{instance:s,listener:o,currentTarget:c}}function sf(s,o){for(var c=o+"Capture",h=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Kt(s,c),_!=null&&h.unshift(iu(s,_,g)),_=Kt(s,o),_!=null&&h.push(iu(s,_,g))),s=s.return}return h}function wl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Gw(s,o,c,h,g){for(var _=o._reactName,A=[];c!==null&&c!==h;){var $=c,H=$.alternate,ee=$.stateNode;if(H!==null&&H===h)break;$.tag===5&&ee!==null&&($=ee,g?(H=Kt(c,_),H!=null&&A.unshift(iu(c,H,$))):g||(H=Kt(c,_),H!=null&&A.push(iu(c,H,$)))),c=c.return}A.length!==0&&s.push({event:o,listeners:A})}var E1=/\r\n?/g,T1=/\u0000|\uFFFD/g;function Qw(s){return(typeof s=="string"?s:""+s).replace(E1,`
`).replace(T1,"")}function of(s,o,c){if(o=Qw(o),Qw(s)!==o&&c)throw Error(t(425))}function af(){}var vm=null,_m=null;function wm(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Em=typeof setTimeout=="function"?setTimeout:void 0,I1=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(s){return Yw.resolve(null).then(s).catch(C1)}:Em;function C1(s){setTimeout(function(){throw s})}function Tm(s,o){var c=o,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),hi(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);hi(o)}function no(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Xw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var El=Math.random().toString(36).slice(2),Fi="__reactFiber$"+El,su="__reactProps$"+El,as="__reactContainer$"+El,Im="__reactEvents$"+El,b1="__reactListeners$"+El,A1="__reactHandles$"+El;function la(s){var o=s[Fi];if(o)return o;for(var c=s.parentNode;c;){if(o=c[as]||c[Fi]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Xw(s);s!==null;){if(c=s[Fi])return c;s=Xw(s)}return o}s=c,c=s.parentNode}return null}function ou(s){return s=s[Fi]||s[as],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Tl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function lf(s){return s[su]||null}var Sm=[],Il=-1;function ro(s){return{current:s}}function $t(s){0>Il||(s.current=Sm[Il],Sm[Il]=null,Il--)}function Vt(s,o){Il++,Sm[Il]=s.current,s.current=o}var io={},jn=ro(io),pr=ro(!1),ca=io;function Sl(s,o){var c=s.type.contextTypes;if(!c)return io;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=o[_];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function mr(s){return s=s.childContextTypes,s!=null}function cf(){$t(pr),$t(jn)}function Jw(s,o,c){if(jn.current!==io)throw Error(t(168));Vt(jn,o),Vt(pr,c)}function Zw(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(t(108,Ge(s)||"Unknown",g));return ce({},c,h)}function uf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||io,ca=jn.current,Vt(jn,s),Vt(pr,pr.current),!0}function eE(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Zw(s,o,ca),h.__reactInternalMemoizedMergedChildContext=s,$t(pr),$t(jn),Vt(jn,s)):$t(pr),Vt(pr,c)}var ls=null,df=!1,Cm=!1;function tE(s){ls===null?ls=[s]:ls.push(s)}function R1(s){df=!0,tE(s)}function so(){if(!Cm&&ls!==null){Cm=!0;var s=0,o=yt;try{var c=ls;for(yt=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}ls=null,df=!1}catch(g){throw ls!==null&&(ls=ls.slice(s+1)),Nt(br,so),g}finally{yt=o,Cm=!1}}return null}var Cl=[],bl=0,ff=null,hf=0,Kr=[],Gr=0,ua=null,cs=1,us="";function da(s,o){Cl[bl++]=hf,Cl[bl++]=ff,ff=s,hf=o}function nE(s,o,c){Kr[Gr++]=cs,Kr[Gr++]=us,Kr[Gr++]=ua,ua=s;var h=cs;s=us;var g=32-ht(h)-1;h&=~(1<<g),c+=1;var _=32-ht(o)+g;if(30<_){var A=g-g%5;_=(h&(1<<A)-1).toString(32),h>>=A,g-=A,cs=1<<32-ht(o)+g|c<<g|h,us=_+s}else cs=1<<_|c<<g|h,us=s}function bm(s){s.return!==null&&(da(s,1),nE(s,1,0))}function Am(s){for(;s===ff;)ff=Cl[--bl],Cl[bl]=null,hf=Cl[--bl],Cl[bl]=null;for(;s===ua;)ua=Kr[--Gr],Kr[Gr]=null,us=Kr[--Gr],Kr[Gr]=null,cs=Kr[--Gr],Kr[Gr]=null}var kr=null,Pr=null,Bt=!1,gi=null;function rE(s,o){var c=Jr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function iE(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,kr=s,Pr=no(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,kr=s,Pr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=ua!==null?{id:cs,overflow:us}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Jr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,kr=s,Pr=null,!0):!1;default:return!1}}function Rm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Nm(s){if(Bt){var o=Pr;if(o){var c=o;if(!iE(s,o)){if(Rm(s))throw Error(t(418));o=no(c.nextSibling);var h=kr;o&&iE(s,o)?rE(h,c):(s.flags=s.flags&-4097|2,Bt=!1,kr=s)}}else{if(Rm(s))throw Error(t(418));s.flags=s.flags&-4097|2,Bt=!1,kr=s}}}function sE(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kr=s}function pf(s){if(s!==kr)return!1;if(!Bt)return sE(s),Bt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!wm(s.type,s.memoizedProps)),o&&(o=Pr)){if(Rm(s))throw oE(),Error(t(418));for(;o;)rE(s,o),o=no(o.nextSibling)}if(sE(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Pr=no(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Pr=null}}else Pr=kr?no(s.stateNode.nextSibling):null;return!0}function oE(){for(var s=Pr;s;)s=no(s.nextSibling)}function Al(){Pr=kr=null,Bt=!1}function km(s){gi===null?gi=[s]:gi.push(s)}var N1=j.ReactCurrentBatchConfig;function au(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(A){var $=g.refs;A===null?delete $[_]:$[_]=A},o._stringRef=_,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function mf(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function aE(s){var o=s._init;return o(s._payload)}function lE(s){function o(Y,W){if(s){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function c(Y,W){if(!s)return null;for(;W!==null;)o(Y,W),W=W.sibling;return null}function h(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function g(Y,W){return Y=po(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function A(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function $(Y,W,J,he){return W===null||W.tag!==6?(W=Eg(J,Y.mode,he),W.return=Y,W):(W=g(W,J),W.return=Y,W)}function H(Y,W,J,he){var Ue=J.type;return Ue===C?ue(Y,W,J.props.children,he,J.key):W!==null&&(W.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===je&&aE(Ue)===W.type)?(he=g(W,J.props),he.ref=au(Y,W,J),he.return=Y,he):(he=$f(J.type,J.key,J.props,null,Y.mode,he),he.ref=au(Y,W,J),he.return=Y,he)}function ee(Y,W,J,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=Tg(J,Y.mode,he),W.return=Y,W):(W=g(W,J.children||[]),W.return=Y,W)}function ue(Y,W,J,he,Ue){return W===null||W.tag!==7?(W=_a(J,Y.mode,he,Ue),W.return=Y,W):(W=g(W,J),W.return=Y,W)}function fe(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Eg(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case q:return J=$f(W.type,W.key,W.props,null,Y.mode,J),J.ref=au(Y,null,W),J.return=Y,J;case G:return W=Tg(W,Y.mode,J),W.return=Y,W;case je:var he=W._init;return fe(Y,he(W._payload),J)}if(qt(W)||me(W))return W=_a(W,Y.mode,J,null),W.return=Y,W;mf(Y,W)}return null}function le(Y,W,J,he){var Ue=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ue!==null?null:$(Y,W,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return J.key===Ue?H(Y,W,J,he):null;case G:return J.key===Ue?ee(Y,W,J,he):null;case je:return Ue=J._init,le(Y,W,Ue(J._payload),he)}if(qt(J)||me(J))return Ue!==null?null:ue(Y,W,J,he,null);mf(Y,J)}return null}function be(Y,W,J,he,Ue){if(typeof he=="string"&&he!==""||typeof he=="number")return Y=Y.get(J)||null,$(W,Y,""+he,Ue);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case q:return Y=Y.get(he.key===null?J:he.key)||null,H(W,Y,he,Ue);case G:return Y=Y.get(he.key===null?J:he.key)||null,ee(W,Y,he,Ue);case je:var qe=he._init;return be(Y,W,J,qe(he._payload),Ue)}if(qt(he)||me(he))return Y=Y.get(J)||null,ue(W,Y,he,Ue,null);mf(W,he)}return null}function Me(Y,W,J,he){for(var Ue=null,qe=null,Ke=W,Je=W=0,Cn=null;Ke!==null&&Je<J.length;Je++){Ke.index>Je?(Cn=Ke,Ke=null):Cn=Ke.sibling;var St=le(Y,Ke,J[Je],he);if(St===null){Ke===null&&(Ke=Cn);break}s&&Ke&&St.alternate===null&&o(Y,Ke),W=_(St,W,Je),qe===null?Ue=St:qe.sibling=St,qe=St,Ke=Cn}if(Je===J.length)return c(Y,Ke),Bt&&da(Y,Je),Ue;if(Ke===null){for(;Je<J.length;Je++)Ke=fe(Y,J[Je],he),Ke!==null&&(W=_(Ke,W,Je),qe===null?Ue=Ke:qe.sibling=Ke,qe=Ke);return Bt&&da(Y,Je),Ue}for(Ke=h(Y,Ke);Je<J.length;Je++)Cn=be(Ke,Y,Je,J[Je],he),Cn!==null&&(s&&Cn.alternate!==null&&Ke.delete(Cn.key===null?Je:Cn.key),W=_(Cn,W,Je),qe===null?Ue=Cn:qe.sibling=Cn,qe=Cn);return s&&Ke.forEach(function(mo){return o(Y,mo)}),Bt&&da(Y,Je),Ue}function Ve(Y,W,J,he){var Ue=me(J);if(typeof Ue!="function")throw Error(t(150));if(J=Ue.call(J),J==null)throw Error(t(151));for(var qe=Ue=null,Ke=W,Je=W=0,Cn=null,St=J.next();Ke!==null&&!St.done;Je++,St=J.next()){Ke.index>Je?(Cn=Ke,Ke=null):Cn=Ke.sibling;var mo=le(Y,Ke,St.value,he);if(mo===null){Ke===null&&(Ke=Cn);break}s&&Ke&&mo.alternate===null&&o(Y,Ke),W=_(mo,W,Je),qe===null?Ue=mo:qe.sibling=mo,qe=mo,Ke=Cn}if(St.done)return c(Y,Ke),Bt&&da(Y,Je),Ue;if(Ke===null){for(;!St.done;Je++,St=J.next())St=fe(Y,St.value,he),St!==null&&(W=_(St,W,Je),qe===null?Ue=St:qe.sibling=St,qe=St);return Bt&&da(Y,Je),Ue}for(Ke=h(Y,Ke);!St.done;Je++,St=J.next())St=be(Ke,Y,Je,St.value,he),St!==null&&(s&&St.alternate!==null&&Ke.delete(St.key===null?Je:St.key),W=_(St,W,Je),qe===null?Ue=St:qe.sibling=St,qe=St);return s&&Ke.forEach(function(lP){return o(Y,lP)}),Bt&&da(Y,Je),Ue}function tn(Y,W,J,he){if(typeof J=="object"&&J!==null&&J.type===C&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case q:e:{for(var Ue=J.key,qe=W;qe!==null;){if(qe.key===Ue){if(Ue=J.type,Ue===C){if(qe.tag===7){c(Y,qe.sibling),W=g(qe,J.props.children),W.return=Y,Y=W;break e}}else if(qe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===je&&aE(Ue)===qe.type){c(Y,qe.sibling),W=g(qe,J.props),W.ref=au(Y,qe,J),W.return=Y,Y=W;break e}c(Y,qe);break}else o(Y,qe);qe=qe.sibling}J.type===C?(W=_a(J.props.children,Y.mode,he,J.key),W.return=Y,Y=W):(he=$f(J.type,J.key,J.props,null,Y.mode,he),he.ref=au(Y,W,J),he.return=Y,Y=he)}return A(Y);case G:e:{for(qe=J.key;W!==null;){if(W.key===qe)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(Y,W.sibling),W=g(W,J.children||[]),W.return=Y,Y=W;break e}else{c(Y,W);break}else o(Y,W);W=W.sibling}W=Tg(J,Y.mode,he),W.return=Y,Y=W}return A(Y);case je:return qe=J._init,tn(Y,W,qe(J._payload),he)}if(qt(J))return Me(Y,W,J,he);if(me(J))return Ve(Y,W,J,he);mf(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(c(Y,W.sibling),W=g(W,J),W.return=Y,Y=W):(c(Y,W),W=Eg(J,Y.mode,he),W.return=Y,Y=W),A(Y)):c(Y,W)}return tn}var Rl=lE(!0),cE=lE(!1),gf=ro(null),yf=null,Nl=null,Pm=null;function Dm(){Pm=Nl=yf=null}function xm(s){var o=gf.current;$t(gf),s._currentValue=o}function Om(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function kl(s,o){yf=s,Pm=Nl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(gr=!0),s.firstContext=null)}function Qr(s){var o=s._currentValue;if(Pm!==s)if(s={context:s,memoizedValue:o,next:null},Nl===null){if(yf===null)throw Error(t(308));Nl=s,yf.dependencies={lanes:0,firstContext:s}}else Nl=Nl.next=s;return o}var fa=null;function Lm(s){fa===null?fa=[s]:fa.push(s)}function uE(s,o,c,h){var g=o.interleaved;return g===null?(c.next=c,Lm(o)):(c.next=g.next,g.next=c),o.interleaved=c,ds(s,h)}function ds(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var oo=!1;function Mm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dE(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ao(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Et&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,ds(s,c)}return g=h.interleaved,g===null?(o.next=o,Lm(h)):(o.next=g.next,g.next=o),h.interleaved=o,ds(s,c)}function vf(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Ys(s,c)}}function fE(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?g=_=o:_=_.next=o}else g=_=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function _f(s,o,c,h){var g=s.updateQueue;oo=!1;var _=g.firstBaseUpdate,A=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var H=$,ee=H.next;H.next=null,A===null?_=ee:A.next=ee,A=H;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,$=ue.lastBaseUpdate,$!==A&&($===null?ue.firstBaseUpdate=ee:$.next=ee,ue.lastBaseUpdate=H))}if(_!==null){var fe=g.baseState;A=0,ue=ee=H=null,$=_;do{var le=$.lane,be=$.eventTime;if((h&le)===le){ue!==null&&(ue=ue.next={eventTime:be,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Me=s,Ve=$;switch(le=o,be=c,Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){fe=Me.call(be,fe,le);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,le=typeof Me=="function"?Me.call(be,fe,le):Me,le==null)break e;fe=ce({},fe,le);break e;case 2:oo=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,le=g.effects,le===null?g.effects=[$]:le.push($))}else be={eventTime:be,lane:le,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ue===null?(ee=ue=be,H=fe):ue=ue.next=be,A|=le;if($=$.next,$===null){if($=g.shared.pending,$===null)break;le=$,$=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(ue===null&&(H=fe),g.baseState=H,g.firstBaseUpdate=ee,g.lastBaseUpdate=ue,o=g.shared.interleaved,o!==null){g=o;do A|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);ma|=A,s.lanes=A,s.memoizedState=fe}}function hE(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var lu={},ji=ro(lu),cu=ro(lu),uu=ro(lu);function ha(s){if(s===lu)throw Error(t(174));return s}function Vm(s,o){switch(Vt(uu,o),Vt(cu,s),Vt(ji,lu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:gt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=gt(o,s)}$t(ji),Vt(ji,o)}function Pl(){$t(ji),$t(cu),$t(uu)}function pE(s){ha(uu.current);var o=ha(ji.current),c=gt(o,s.type);o!==c&&(Vt(cu,s),Vt(ji,c))}function Um(s){cu.current===s&&($t(ji),$t(cu))}var Gt=ro(0);function wf(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $m=[];function Fm(){for(var s=0;s<$m.length;s++)$m[s]._workInProgressVersionPrimary=null;$m.length=0}var Ef=j.ReactCurrentDispatcher,jm=j.ReactCurrentBatchConfig,pa=0,Qt=null,mn=null,In=null,Tf=!1,du=!1,fu=0,k1=0;function Bn(){throw Error(t(321))}function Bm(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!mi(s[c],o[c]))return!1;return!0}function Hm(s,o,c,h,g,_){if(pa=_,Qt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ef.current=s===null||s.memoizedState===null?O1:L1,s=c(h,g),du){_=0;do{if(du=!1,fu=0,25<=_)throw Error(t(301));_+=1,In=mn=null,o.updateQueue=null,Ef.current=M1,s=c(h,g)}while(du)}if(Ef.current=Cf,o=mn!==null&&mn.next!==null,pa=0,In=mn=Qt=null,Tf=!1,o)throw Error(t(300));return s}function zm(){var s=fu!==0;return fu=0,s}function Bi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Qt.memoizedState=In=s:In=In.next=s,In}function Yr(){if(mn===null){var s=Qt.alternate;s=s!==null?s.memoizedState:null}else s=mn.next;var o=In===null?Qt.memoizedState:In.next;if(o!==null)In=o,mn=s;else{if(s===null)throw Error(t(310));mn=s,s={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},In===null?Qt.memoizedState=In=s:In=In.next=s}return In}function hu(s,o){return typeof o=="function"?o(s):o}function Wm(s){var o=Yr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=mn,g=h.baseQueue,_=c.pending;if(_!==null){if(g!==null){var A=g.next;g.next=_.next,_.next=A}h.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,h=h.baseState;var $=A=null,H=null,ee=_;do{var ue=ee.lane;if((pa&ue)===ue)H!==null&&(H=H.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),h=ee.hasEagerState?ee.eagerState:s(h,ee.action);else{var fe={lane:ue,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};H===null?($=H=fe,A=h):H=H.next=fe,Qt.lanes|=ue,ma|=ue}ee=ee.next}while(ee!==null&&ee!==_);H===null?A=h:H.next=$,mi(h,o.memoizedState)||(gr=!0),o.memoizedState=h,o.baseState=A,o.baseQueue=H,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do _=g.lane,Qt.lanes|=_,ma|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function qm(s){var o=Yr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,_=o.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do _=s(_,A.action),A=A.next;while(A!==g);mi(_,o.memoizedState)||(gr=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function mE(){}function gE(s,o){var c=Qt,h=Yr(),g=o(),_=!mi(h.memoizedState,g);if(_&&(h.memoizedState=g,gr=!0),h=h.queue,Km(_E.bind(null,c,h,s),[s]),h.getSnapshot!==o||_||In!==null&&In.memoizedState.tag&1){if(c.flags|=2048,pu(9,vE.bind(null,c,h,g,o),void 0,null),Sn===null)throw Error(t(349));(pa&30)!==0||yE(c,o,g)}return g}function yE(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Qt.updateQueue,o===null?(o={lastEffect:null,stores:null},Qt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function vE(s,o,c,h){o.value=c,o.getSnapshot=h,wE(o)&&EE(s)}function _E(s,o,c){return c(function(){wE(o)&&EE(s)})}function wE(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!mi(s,c)}catch{return!0}}function EE(s){var o=ds(s,1);o!==null&&wi(o,s,1,-1)}function TE(s){var o=Bi();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:s},o.queue=s,s=s.dispatch=x1.bind(null,Qt,s),[o.memoizedState,s]}function pu(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=Qt.updateQueue,o===null?(o={lastEffect:null,stores:null},Qt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function IE(){return Yr().memoizedState}function If(s,o,c,h){var g=Bi();Qt.flags|=s,g.memoizedState=pu(1|o,c,void 0,h===void 0?null:h)}function Sf(s,o,c,h){var g=Yr();h=h===void 0?null:h;var _=void 0;if(mn!==null){var A=mn.memoizedState;if(_=A.destroy,h!==null&&Bm(h,A.deps)){g.memoizedState=pu(o,c,_,h);return}}Qt.flags|=s,g.memoizedState=pu(1|o,c,_,h)}function SE(s,o){return If(8390656,8,s,o)}function Km(s,o){return Sf(2048,8,s,o)}function CE(s,o){return Sf(4,2,s,o)}function bE(s,o){return Sf(4,4,s,o)}function AE(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function RE(s,o,c){return c=c!=null?c.concat([s]):null,Sf(4,4,AE.bind(null,o,s),c)}function Gm(){}function NE(s,o){var c=Yr();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Bm(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function kE(s,o){var c=Yr();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Bm(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function PE(s,o,c){return(pa&21)===0?(s.baseState&&(s.baseState=!1,gr=!0),s.memoizedState=c):(mi(c,o)||(c=ra(),Qt.lanes|=c,ma|=c,s.baseState=!0),o)}function P1(s,o){var c=yt;yt=c!==0&&4>c?c:4,s(!0);var h=jm.transition;jm.transition={};try{s(!1),o()}finally{yt=c,jm.transition=h}}function DE(){return Yr().memoizedState}function D1(s,o,c){var h=fo(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},xE(s))OE(o,c);else if(c=uE(s,o,c,h),c!==null){var g=nr();wi(c,s,h,g),LE(c,o,h)}}function x1(s,o,c){var h=fo(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(xE(s))OE(o,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,$=_(A,c);if(g.hasEagerState=!0,g.eagerState=$,mi($,A)){var H=o.interleaved;H===null?(g.next=g,Lm(o)):(g.next=H.next,H.next=g),o.interleaved=g;return}}catch{}finally{}c=uE(s,o,g,h),c!==null&&(g=nr(),wi(c,s,h,g),LE(c,o,h))}}function xE(s){var o=s.alternate;return s===Qt||o!==null&&o===Qt}function OE(s,o){du=Tf=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function LE(s,o,c){if((c&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Ys(s,c)}}var Cf={readContext:Qr,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},O1={readContext:Qr,useCallback:function(s,o){return Bi().memoizedState=[s,o===void 0?null:o],s},useContext:Qr,useEffect:SE,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,If(4194308,4,AE.bind(null,o,s),c)},useLayoutEffect:function(s,o){return If(4194308,4,s,o)},useInsertionEffect:function(s,o){return If(4,2,s,o)},useMemo:function(s,o){var c=Bi();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=Bi();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=D1.bind(null,Qt,s),[h.memoizedState,s]},useRef:function(s){var o=Bi();return s={current:s},o.memoizedState=s},useState:TE,useDebugValue:Gm,useDeferredValue:function(s){return Bi().memoizedState=s},useTransition:function(){var s=TE(!1),o=s[0];return s=P1.bind(null,s[1]),Bi().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=Qt,g=Bi();if(Bt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Sn===null)throw Error(t(349));(pa&30)!==0||yE(h,o,c)}g.memoizedState=c;var _={value:c,getSnapshot:o};return g.queue=_,SE(_E.bind(null,h,_,s),[s]),h.flags|=2048,pu(9,vE.bind(null,h,_,c,o),void 0,null),c},useId:function(){var s=Bi(),o=Sn.identifierPrefix;if(Bt){var c=us,h=cs;c=(h&~(1<<32-ht(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=fu++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=k1++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},L1={readContext:Qr,useCallback:NE,useContext:Qr,useEffect:Km,useImperativeHandle:RE,useInsertionEffect:CE,useLayoutEffect:bE,useMemo:kE,useReducer:Wm,useRef:IE,useState:function(){return Wm(hu)},useDebugValue:Gm,useDeferredValue:function(s){var o=Yr();return PE(o,mn.memoizedState,s)},useTransition:function(){var s=Wm(hu)[0],o=Yr().memoizedState;return[s,o]},useMutableSource:mE,useSyncExternalStore:gE,useId:DE,unstable_isNewReconciler:!1},M1={readContext:Qr,useCallback:NE,useContext:Qr,useEffect:Km,useImperativeHandle:RE,useInsertionEffect:CE,useLayoutEffect:bE,useMemo:kE,useReducer:qm,useRef:IE,useState:function(){return qm(hu)},useDebugValue:Gm,useDeferredValue:function(s){var o=Yr();return mn===null?o.memoizedState=s:PE(o,mn.memoizedState,s)},useTransition:function(){var s=qm(hu)[0],o=Yr().memoizedState;return[s,o]},useMutableSource:mE,useSyncExternalStore:gE,useId:DE,unstable_isNewReconciler:!1};function yi(s,o){if(s&&s.defaultProps){o=ce({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Qm(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:ce({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var bf={isMounted:function(s){return(s=s._reactInternals)?xe(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=nr(),g=fo(s),_=fs(h,g);_.payload=o,c!=null&&(_.callback=c),o=ao(s,_,g),o!==null&&(wi(o,s,g,h),vf(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=nr(),g=fo(s),_=fs(h,g);_.tag=1,_.payload=o,c!=null&&(_.callback=c),o=ao(s,_,g),o!==null&&(wi(o,s,g,h),vf(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=nr(),h=fo(s),g=fs(c,h);g.tag=2,o!=null&&(g.callback=o),o=ao(s,g,h),o!==null&&(wi(o,s,h,c),vf(o,s,h))}};function ME(s,o,c,h,g,_,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,A):o.prototype&&o.prototype.isPureReactComponent?!eu(c,h)||!eu(g,_):!0}function VE(s,o,c){var h=!1,g=io,_=o.contextType;return typeof _=="object"&&_!==null?_=Qr(_):(g=mr(o)?ca:jn.current,h=o.contextTypes,_=(h=h!=null)?Sl(s,g):io),o=new o(c,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=bf,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),o}function UE(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&bf.enqueueReplaceState(o,o.state,null)}function Ym(s,o,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Mm(s);var _=o.contextType;typeof _=="object"&&_!==null?g.context=Qr(_):(_=mr(o)?ca:jn.current,g.context=Sl(s,_)),g.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Qm(s,o,_,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&bf.enqueueReplaceState(g,g.state,null),_f(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Dl(s,o){try{var c="",h=o;do c+=Ie(h),h=h.return;while(h);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:g,digest:null}}function Xm(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Jm(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var V1=typeof WeakMap=="function"?WeakMap:Map;function $E(s,o,c){c=fs(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){xf||(xf=!0,hg=h),Jm(s,o)},c}function FE(s,o,c){c=fs(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){Jm(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Jm(s,o),typeof h!="function"&&(co===null?co=new Set([this]):co.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),c}function jE(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new V1;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),s=X1.bind(null,s,o,c),o.then(s,s))}function BE(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function HE(s,o,c,h,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=fs(-1,1),o.tag=2,ao(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var U1=j.ReactCurrentOwner,gr=!1;function tr(s,o,c,h){o.child=s===null?cE(o,null,c,h):Rl(o,s.child,c,h)}function zE(s,o,c,h,g){c=c.render;var _=o.ref;return kl(o,g),h=Hm(s,o,c,h,_,g),c=zm(),s!==null&&!gr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,hs(s,o,g)):(Bt&&c&&bm(o),o.flags|=1,tr(s,o,h,g),o.child)}function WE(s,o,c,h,g){if(s===null){var _=c.type;return typeof _=="function"&&!wg(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=_,qE(s,o,_,h,g)):(s=$f(c.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&g)===0){var A=_.memoizedProps;if(c=c.compare,c=c!==null?c:eu,c(A,h)&&s.ref===o.ref)return hs(s,o,g)}return o.flags|=1,s=po(_,h),s.ref=o.ref,s.return=o,o.child=s}function qE(s,o,c,h,g){if(s!==null){var _=s.memoizedProps;if(eu(_,h)&&s.ref===o.ref)if(gr=!1,o.pendingProps=h=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(gr=!0);else return o.lanes=s.lanes,hs(s,o,g)}return Zm(s,o,c,h,g)}function KE(s,o,c){var h=o.pendingProps,g=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(Ol,Dr),Dr|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Vt(Ol,Dr),Dr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:c,Vt(Ol,Dr),Dr|=h}else _!==null?(h=_.baseLanes|c,o.memoizedState=null):h=c,Vt(Ol,Dr),Dr|=h;return tr(s,o,g,c),o.child}function GE(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Zm(s,o,c,h,g){var _=mr(c)?ca:jn.current;return _=Sl(o,_),kl(o,g),c=Hm(s,o,c,h,_,g),h=zm(),s!==null&&!gr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,hs(s,o,g)):(Bt&&h&&bm(o),o.flags|=1,tr(s,o,c,g),o.child)}function QE(s,o,c,h,g){if(mr(c)){var _=!0;uf(o)}else _=!1;if(kl(o,g),o.stateNode===null)Rf(s,o),VE(o,c,h),Ym(o,c,h,g),h=!0;else if(s===null){var A=o.stateNode,$=o.memoizedProps;A.props=$;var H=A.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Qr(ee):(ee=mr(c)?ca:jn.current,ee=Sl(o,ee));var ue=c.getDerivedStateFromProps,fe=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function";fe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==h||H!==ee)&&UE(o,A,h,ee),oo=!1;var le=o.memoizedState;A.state=le,_f(o,h,A,g),H=o.memoizedState,$!==h||le!==H||pr.current||oo?(typeof ue=="function"&&(Qm(o,c,ue,h),H=o.memoizedState),($=oo||ME(o,c,$,h,le,H,ee))?(fe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=H),A.props=h,A.state=H,A.context=ee,h=$):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{A=o.stateNode,dE(s,o),$=o.memoizedProps,ee=o.type===o.elementType?$:yi(o.type,$),A.props=ee,fe=o.pendingProps,le=A.context,H=c.contextType,typeof H=="object"&&H!==null?H=Qr(H):(H=mr(c)?ca:jn.current,H=Sl(o,H));var be=c.getDerivedStateFromProps;(ue=typeof be=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==fe||le!==H)&&UE(o,A,h,H),oo=!1,le=o.memoizedState,A.state=le,_f(o,h,A,g);var Me=o.memoizedState;$!==fe||le!==Me||pr.current||oo?(typeof be=="function"&&(Qm(o,c,be,h),Me=o.memoizedState),(ee=oo||ME(o,c,ee,h,le,Me,H)||!1)?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,Me,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,Me,H)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Me),A.props=h,A.state=Me,A.context=H,h=ee):(typeof A.componentDidUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),h=!1)}return eg(s,o,c,h,_,g)}function eg(s,o,c,h,g,_){GE(s,o);var A=(o.flags&128)!==0;if(!h&&!A)return g&&eE(o,c,!1),hs(s,o,_);h=o.stateNode,U1.current=o;var $=A&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&A?(o.child=Rl(o,s.child,null,_),o.child=Rl(o,null,$,_)):tr(s,o,$,_),o.memoizedState=h.state,g&&eE(o,c,!0),o.child}function YE(s){var o=s.stateNode;o.pendingContext?Jw(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Jw(s,o.context,!1),Vm(s,o.containerInfo)}function XE(s,o,c,h,g){return Al(),km(g),o.flags|=256,tr(s,o,c,h),o.child}var tg={dehydrated:null,treeContext:null,retryLane:0};function ng(s){return{baseLanes:s,cachePool:null,transitions:null}}function JE(s,o,c){var h=o.pendingProps,g=Gt.current,_=!1,A=(o.flags&128)!==0,$;if(($=A)||($=s!==null&&s.memoizedState===null?!1:(g&2)!==0),$?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Vt(Gt,g&1),s===null)return Nm(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=h.children,s=h.fallback,_?(h=o.mode,_=o.child,A={mode:"hidden",children:A},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=Ff(A,h,0,null),s=_a(s,h,c,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=ng(c),o.memoizedState=tg,s):rg(o,A));if(g=s.memoizedState,g!==null&&($=g.dehydrated,$!==null))return $1(s,o,A,h,$,g,c);if(_){_=h.fallback,A=o.mode,g=s.child,$=g.sibling;var H={mode:"hidden",children:h.children};return(A&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=H,o.deletions=null):(h=po(g,H),h.subtreeFlags=g.subtreeFlags&14680064),$!==null?_=po($,_):(_=_a(_,A,c,null),_.flags|=2),_.return=o,h.return=o,h.sibling=_,o.child=h,h=_,_=o.child,A=s.child.memoizedState,A=A===null?ng(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=s.childLanes&~c,o.memoizedState=tg,h}return _=s.child,s=_.sibling,h=po(_,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function rg(s,o){return o=Ff({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Af(s,o,c,h){return h!==null&&km(h),Rl(o,s.child,null,c),s=rg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function $1(s,o,c,h,g,_,A){if(c)return o.flags&256?(o.flags&=-257,h=Xm(Error(t(422))),Af(s,o,A,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=h.fallback,g=o.mode,h=Ff({mode:"visible",children:h.children},g,0,null),_=_a(_,g,A,null),_.flags|=2,h.return=o,_.return=o,h.sibling=_,o.child=h,(o.mode&1)!==0&&Rl(o,s.child,null,A),o.child.memoizedState=ng(A),o.memoizedState=tg,_);if((o.mode&1)===0)return Af(s,o,A,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var $=h.dgst;return h=$,_=Error(t(419)),h=Xm(_,h,void 0),Af(s,o,A,h)}if($=(A&s.childLanes)!==0,gr||$){if(h=Sn,h!==null){switch(A&-A){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|A))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,ds(s,g),wi(h,s,g,-1))}return _g(),h=Xm(Error(t(421))),Af(s,o,A,h)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=J1.bind(null,s),g._reactRetry=o,null):(s=_.treeContext,Pr=no(g.nextSibling),kr=o,Bt=!0,gi=null,s!==null&&(Kr[Gr++]=cs,Kr[Gr++]=us,Kr[Gr++]=ua,cs=s.id,us=s.overflow,ua=o),o=rg(o,h.children),o.flags|=4096,o)}function ZE(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Om(s.return,o,c)}function ig(s,o,c,h,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=g)}function e0(s,o,c){var h=o.pendingProps,g=h.revealOrder,_=h.tail;if(tr(s,o,h.children,c),h=Gt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ZE(s,c,o);else if(s.tag===19)ZE(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Vt(Gt,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&wf(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),ig(o,!1,g,c,_);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&wf(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}ig(o,!0,c,null,_);break;case"together":ig(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Rf(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function hs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),ma|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=po(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=po(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function F1(s,o,c){switch(o.tag){case 3:YE(o),Al();break;case 5:pE(o);break;case 1:mr(o.type)&&uf(o);break;case 4:Vm(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;Vt(gf,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Vt(Gt,Gt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?JE(s,o,c):(Vt(Gt,Gt.current&1),s=hs(s,o,c),s!==null?s.sibling:null);Vt(Gt,Gt.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(s.flags&128)!==0){if(h)return e0(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Vt(Gt,Gt.current),h)break;return null;case 22:case 23:return o.lanes=0,KE(s,o,c)}return hs(s,o,c)}var t0,sg,n0,r0;t0=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},sg=function(){},n0=function(s,o,c,h){var g=s.memoizedProps;if(g!==h){s=o.stateNode,ha(ji.current);var _=null;switch(c){case"input":g=Xt(s,g),h=Xt(s,h),_=[];break;case"select":g=ce({},g,{value:void 0}),h=ce({},h,{value:void 0}),_=[];break;case"textarea":g=lr(s,g),h=lr(s,h),_=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=af)}Ri(c,h);var A;c=null;for(ee in g)if(!h.hasOwnProperty(ee)&&g.hasOwnProperty(ee)&&g[ee]!=null)if(ee==="style"){var $=g[ee];for(A in $)$.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in h){var H=h[ee];if($=g!=null?g[ee]:void 0,h.hasOwnProperty(ee)&&H!==$&&(H!=null||$!=null))if(ee==="style")if($){for(A in $)!$.hasOwnProperty(A)||H&&H.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in H)H.hasOwnProperty(A)&&$[A]!==H[A]&&(c||(c={}),c[A]=H[A])}else c||(_||(_=[]),_.push(ee,c)),c=H;else ee==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,$=$?$.__html:void 0,H!=null&&$!==H&&(_=_||[]).push(ee,H)):ee==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(ee,""+H):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(H!=null&&ee==="onScroll"&&Ut("scroll",s),_||$===H||(_=[])):(_=_||[]).push(ee,H))}c&&(_=_||[]).push("style",c);var ee=_;(o.updateQueue=ee)&&(o.flags|=4)}},r0=function(s,o,c,h){c!==h&&(o.flags|=4)};function mu(s,o){if(!Bt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Hn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function j1(s,o,c){var h=o.pendingProps;switch(Am(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(o),null;case 1:return mr(o.type)&&cf(),Hn(o),null;case 3:return h=o.stateNode,Pl(),$t(pr),$t(jn),Fm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(pf(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gi!==null&&(gg(gi),gi=null))),sg(s,o),Hn(o),null;case 5:Um(o);var g=ha(uu.current);if(c=o.type,s!==null&&o.stateNode!=null)n0(s,o,c,h,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Hn(o),null}if(s=ha(ji.current),pf(o)){h=o.stateNode,c=o.type;var _=o.memoizedProps;switch(h[Fi]=o,h[su]=_,s=(o.mode&1)!==0,c){case"dialog":Ut("cancel",h),Ut("close",h);break;case"iframe":case"object":case"embed":Ut("load",h);break;case"video":case"audio":for(g=0;g<nu.length;g++)Ut(nu[g],h);break;case"source":Ut("error",h);break;case"img":case"image":case"link":Ut("error",h),Ut("load",h);break;case"details":Ut("toggle",h);break;case"input":it(h,_),Ut("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},Ut("invalid",h);break;case"textarea":Un(h,_),Ut("invalid",h)}Ri(c,_),g=null;for(var A in _)if(_.hasOwnProperty(A)){var $=_[A];A==="children"?typeof $=="string"?h.textContent!==$&&(_.suppressHydrationWarning!==!0&&of(h.textContent,$,s),g=["children",$]):typeof $=="number"&&h.textContent!==""+$&&(_.suppressHydrationWarning!==!0&&of(h.textContent,$,s),g=["children",""+$]):i.hasOwnProperty(A)&&$!=null&&A==="onScroll"&&Ut("scroll",h)}switch(c){case"input":Ct(h),Br(h,_,!0);break;case"textarea":Ct(h),hn(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=af)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{A=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$e(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=A.createElement(c,{is:h.is}):(s=A.createElement(c),c==="select"&&(A=s,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):s=A.createElementNS(s,c),s[Fi]=o,s[su]=h,t0(s,o,!1,!1),o.stateNode=s;e:{switch(A=Jo(c,h),c){case"dialog":Ut("cancel",s),Ut("close",s),g=h;break;case"iframe":case"object":case"embed":Ut("load",s),g=h;break;case"video":case"audio":for(g=0;g<nu.length;g++)Ut(nu[g],s);g=h;break;case"source":Ut("error",s),g=h;break;case"img":case"image":case"link":Ut("error",s),Ut("load",s),g=h;break;case"details":Ut("toggle",s),g=h;break;case"input":it(s,h),g=Xt(s,h),Ut("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=ce({},h,{value:void 0}),Ut("invalid",s);break;case"textarea":Un(s,h),g=lr(s,h),Ut("invalid",s);break;default:g=h}Ri(c,g),$=g;for(_ in $)if($.hasOwnProperty(_)){var H=$[_];_==="style"?En(s,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&wn(s,H)):_==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&Jn(s,H):typeof H=="number"&&Jn(s,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?H!=null&&_==="onScroll"&&Ut("scroll",s):H!=null&&V(s,_,H,A))}switch(c){case"input":Ct(s),Br(s,h,!1);break;case"textarea":Ct(s),hn(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Be(h.value));break;case"select":s.multiple=!!h.multiple,_=h.value,_!=null?sn(s,!!h.multiple,_,!1):h.defaultValue!=null&&sn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=af)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Hn(o),null;case 6:if(s&&o.stateNode!=null)r0(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=ha(uu.current),ha(ji.current),pf(o)){if(h=o.stateNode,c=o.memoizedProps,h[Fi]=o,(_=h.nodeValue!==c)&&(s=kr,s!==null))switch(s.tag){case 3:of(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&of(h.nodeValue,c,(s.mode&1)!==0)}_&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Fi]=o,o.stateNode=h}return Hn(o),null;case 13:if($t(Gt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Bt&&Pr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)oE(),Al(),o.flags|=98560,_=!1;else if(_=pf(o),h!==null&&h.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Fi]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Hn(o),_=!1}else gi!==null&&(gg(gi),gi=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Gt.current&1)!==0?gn===0&&(gn=3):_g())),o.updateQueue!==null&&(o.flags|=4),Hn(o),null);case 4:return Pl(),sg(s,o),s===null&&ru(o.stateNode.containerInfo),Hn(o),null;case 10:return xm(o.type._context),Hn(o),null;case 17:return mr(o.type)&&cf(),Hn(o),null;case 19:if($t(Gt),_=o.memoizedState,_===null)return Hn(o),null;if(h=(o.flags&128)!==0,A=_.rendering,A===null)if(h)mu(_,!1);else{if(gn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(A=wf(s),A!==null){for(o.flags|=128,mu(_,!1),h=A.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)_=c,s=h,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,s=A.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Vt(Gt,Gt.current&1|2),o.child}s=s.sibling}_.tail!==null&&dt()>Ll&&(o.flags|=128,h=!0,mu(_,!1),o.lanes=4194304)}else{if(!h)if(s=wf(A),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),mu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!Bt)return Hn(o),null}else 2*dt()-_.renderingStartTime>Ll&&c!==1073741824&&(o.flags|=128,h=!0,mu(_,!1),o.lanes=4194304);_.isBackwards?(A.sibling=o.child,o.child=A):(c=_.last,c!==null?c.sibling=A:o.child=A,_.last=A)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=dt(),o.sibling=null,c=Gt.current,Vt(Gt,h?c&1|2:c&1),o):(Hn(o),null);case 22:case 23:return vg(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Dr&1073741824)!==0&&(Hn(o),o.subtreeFlags&6&&(o.flags|=8192)):Hn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function B1(s,o){switch(Am(o),o.tag){case 1:return mr(o.type)&&cf(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Pl(),$t(pr),$t(jn),Fm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Um(o),null;case 13:if($t(Gt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Al()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return $t(Gt),null;case 4:return Pl(),null;case 10:return xm(o.type._context),null;case 22:case 23:return vg(),null;case 24:return null;default:return null}}var Nf=!1,zn=!1,H1=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function xl(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Zt(s,o,h)}else c.current=null}function og(s,o,c){try{c()}catch(h){Zt(s,o,h)}}var i0=!1;function z1(s,o){if(vm=Zs,s=Mw(),um(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var A=0,$=-1,H=-1,ee=0,ue=0,fe=s,le=null;t:for(;;){for(var be;fe!==c||g!==0&&fe.nodeType!==3||($=A+g),fe!==_||h!==0&&fe.nodeType!==3||(H=A+h),fe.nodeType===3&&(A+=fe.nodeValue.length),(be=fe.firstChild)!==null;)le=fe,fe=be;for(;;){if(fe===s)break t;if(le===c&&++ee===g&&($=A),le===_&&++ue===h&&(H=A),(be=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=be}c=$===-1||H===-1?null:{start:$,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(_m={focusedElem:s,selectionRange:c},Zs=!1,Oe=o;Oe!==null;)if(o=Oe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Oe=s;else for(;Oe!==null;){o=Oe;try{var Me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ve=Me.memoizedProps,tn=Me.memoizedState,Y=o.stateNode,W=Y.getSnapshotBeforeUpdate(o.elementType===o.type?Ve:yi(o.type,Ve),tn);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Zt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Oe=s;break}Oe=o.return}return Me=i0,i0=!1,Me}function gu(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&og(o,c,_)}g=g.next}while(g!==h)}}function kf(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function ag(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function s0(s){var o=s.alternate;o!==null&&(s.alternate=null,s0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Fi],delete o[su],delete o[Im],delete o[b1],delete o[A1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function o0(s){return s.tag===5||s.tag===3||s.tag===4}function a0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||o0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lg(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=af));else if(h!==4&&(s=s.child,s!==null))for(lg(s,o,c),s=s.sibling;s!==null;)lg(s,o,c),s=s.sibling}function cg(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(cg(s,o,c),s=s.sibling;s!==null;)cg(s,o,c),s=s.sibling}var Pn=null,vi=!1;function lo(s,o,c){for(c=c.child;c!==null;)l0(s,o,c),c=c.sibling}function l0(s,o,c){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(bt,c)}catch{}switch(c.tag){case 5:zn||xl(c,o);case 6:var h=Pn,g=vi;Pn=null,lo(s,o,c),Pn=h,vi=g,Pn!==null&&(vi?(s=Pn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Pn.removeChild(c.stateNode));break;case 18:Pn!==null&&(vi?(s=Pn,c=c.stateNode,s.nodeType===8?Tm(s.parentNode,c):s.nodeType===1&&Tm(s,c),hi(s)):Tm(Pn,c.stateNode));break;case 4:h=Pn,g=vi,Pn=c.stateNode.containerInfo,vi=!0,lo(s,o,c),Pn=h,vi=g;break;case 0:case 11:case 14:case 15:if(!zn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var _=g,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&og(c,o,A),g=g.next}while(g!==h)}lo(s,o,c);break;case 1:if(!zn&&(xl(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch($){Zt(c,o,$)}lo(s,o,c);break;case 21:lo(s,o,c);break;case 22:c.mode&1?(zn=(h=zn)||c.memoizedState!==null,lo(s,o,c),zn=h):lo(s,o,c);break;default:lo(s,o,c)}}function c0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new H1),o.forEach(function(h){var g=Z1.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function _i(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var _=s,A=o,$=A;e:for(;$!==null;){switch($.tag){case 5:Pn=$.stateNode,vi=!1;break e;case 3:Pn=$.stateNode.containerInfo,vi=!0;break e;case 4:Pn=$.stateNode.containerInfo,vi=!0;break e}$=$.return}if(Pn===null)throw Error(t(160));l0(_,A,g),Pn=null,vi=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(ee){Zt(g,o,ee)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)u0(o,s),o=o.sibling}function u0(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_i(o,s),Hi(s),h&4){try{gu(3,s,s.return),kf(3,s)}catch(Ve){Zt(s,s.return,Ve)}try{gu(5,s,s.return)}catch(Ve){Zt(s,s.return,Ve)}}break;case 1:_i(o,s),Hi(s),h&512&&c!==null&&xl(c,c.return);break;case 5:if(_i(o,s),Hi(s),h&512&&c!==null&&xl(c,c.return),s.flags&32){var g=s.stateNode;try{Jn(g,"")}catch(Ve){Zt(s,s.return,Ve)}}if(h&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,A=c!==null?c.memoizedProps:_,$=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{$==="input"&&_.type==="radio"&&_.name!=null&&Wt(g,_),Jo($,A);var ee=Jo($,_);for(A=0;A<H.length;A+=2){var ue=H[A],fe=H[A+1];ue==="style"?En(g,fe):ue==="dangerouslySetInnerHTML"?wn(g,fe):ue==="children"?Jn(g,fe):V(g,ue,fe,ee)}switch($){case"input":_n(g,_);break;case"textarea":Lt(g,_);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var be=_.value;be!=null?sn(g,!!_.multiple,be,!1):le!==!!_.multiple&&(_.defaultValue!=null?sn(g,!!_.multiple,_.defaultValue,!0):sn(g,!!_.multiple,_.multiple?[]:"",!1))}g[su]=_}catch(Ve){Zt(s,s.return,Ve)}}break;case 6:if(_i(o,s),Hi(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(Ve){Zt(s,s.return,Ve)}}break;case 3:if(_i(o,s),Hi(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{hi(o.containerInfo)}catch(Ve){Zt(s,s.return,Ve)}break;case 4:_i(o,s),Hi(s);break;case 13:_i(o,s),Hi(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(fg=dt())),h&4&&c0(s);break;case 22:if(ue=c!==null&&c.memoizedState!==null,s.mode&1?(zn=(ee=zn)||ue,_i(o,s),zn=ee):_i(o,s),Hi(s),h&8192){if(ee=s.memoizedState!==null,(s.stateNode.isHidden=ee)&&!ue&&(s.mode&1)!==0)for(Oe=s,ue=s.child;ue!==null;){for(fe=Oe=ue;Oe!==null;){switch(le=Oe,be=le.child,le.tag){case 0:case 11:case 14:case 15:gu(4,le,le.return);break;case 1:xl(le,le.return);var Me=le.stateNode;if(typeof Me.componentWillUnmount=="function"){h=le,c=le.return;try{o=h,Me.props=o.memoizedProps,Me.state=o.memoizedState,Me.componentWillUnmount()}catch(Ve){Zt(h,c,Ve)}}break;case 5:xl(le,le.return);break;case 22:if(le.memoizedState!==null){h0(fe);continue}}be!==null?(be.return=le,Oe=be):h0(fe)}ue=ue.sibling}e:for(ue=null,fe=s;;){if(fe.tag===5){if(ue===null){ue=fe;try{g=fe.stateNode,ee?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):($=fe.stateNode,H=fe.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null,$.style.display=at("display",A))}catch(Ve){Zt(s,s.return,Ve)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=ee?"":fe.memoizedProps}catch(Ve){Zt(s,s.return,Ve)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:_i(o,s),Hi(s),h&4&&c0(s);break;case 21:break;default:_i(o,s),Hi(s)}}function Hi(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(o0(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Jn(g,""),h.flags&=-33);var _=a0(s);cg(s,_,g);break;case 3:case 4:var A=h.stateNode.containerInfo,$=a0(s);lg(s,$,A);break;default:throw Error(t(161))}}catch(H){Zt(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function W1(s,o,c){Oe=s,d0(s)}function d0(s,o,c){for(var h=(s.mode&1)!==0;Oe!==null;){var g=Oe,_=g.child;if(g.tag===22&&h){var A=g.memoizedState!==null||Nf;if(!A){var $=g.alternate,H=$!==null&&$.memoizedState!==null||zn;$=Nf;var ee=zn;if(Nf=A,(zn=H)&&!ee)for(Oe=g;Oe!==null;)A=Oe,H=A.child,A.tag===22&&A.memoizedState!==null?p0(g):H!==null?(H.return=A,Oe=H):p0(g);for(;_!==null;)Oe=_,d0(_),_=_.sibling;Oe=g,Nf=$,zn=ee}f0(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,Oe=_):f0(s)}}function f0(s){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:zn||kf(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!zn)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:yi(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&hE(o,_,h);break;case 3:var A=o.updateQueue;if(A!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}hE(o,A,c)}break;case 5:var $=o.stateNode;if(c===null&&o.flags&4){c=$;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ee=o.alternate;if(ee!==null){var ue=ee.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&hi(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zn||o.flags&512&&ag(o)}catch(le){Zt(o,o.return,le)}}if(o===s){Oe=null;break}if(c=o.sibling,c!==null){c.return=o.return,Oe=c;break}Oe=o.return}}function h0(s){for(;Oe!==null;){var o=Oe;if(o===s){Oe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Oe=c;break}Oe=o.return}}function p0(s){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{kf(4,o)}catch(H){Zt(o,c,H)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(H){Zt(o,g,H)}}var _=o.return;try{ag(o)}catch(H){Zt(o,_,H)}break;case 5:var A=o.return;try{ag(o)}catch(H){Zt(o,A,H)}}}catch(H){Zt(o,o.return,H)}if(o===s){Oe=null;break}var $=o.sibling;if($!==null){$.return=o.return,Oe=$;break}Oe=o.return}}var q1=Math.ceil,Pf=j.ReactCurrentDispatcher,ug=j.ReactCurrentOwner,Xr=j.ReactCurrentBatchConfig,Et=0,Sn=null,ln=null,Dn=0,Dr=0,Ol=ro(0),gn=0,yu=null,ma=0,Df=0,dg=0,vu=null,yr=null,fg=0,Ll=1/0,ps=null,xf=!1,hg=null,co=null,Of=!1,uo=null,Lf=0,_u=0,pg=null,Mf=-1,Vf=0;function nr(){return(Et&6)!==0?dt():Mf!==-1?Mf:Mf=dt()}function fo(s){return(s.mode&1)===0?1:(Et&2)!==0&&Dn!==0?Dn&-Dn:N1.transition!==null?(Vf===0&&(Vf=ra()),Vf):(s=yt,s!==0||(s=window.event,s=s===void 0?16:Kc(s.type)),s)}function wi(s,o,c,h){if(50<_u)throw _u=0,pg=null,Error(t(185));Qs(s,c,h),((Et&2)===0||s!==Sn)&&(s===Sn&&((Et&2)===0&&(Df|=c),gn===4&&ho(s,Dn)),vr(s,h),c===1&&Et===0&&(o.mode&1)===0&&(Ll=dt()+500,df&&so()))}function vr(s,o){var c=s.callbackNode;ns(s,o);var h=na(s,s===Sn?Dn:0);if(h===0)c!==null&&Hr(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&Hr(c),o===1)s.tag===0?R1(g0.bind(null,s)):tE(g0.bind(null,s)),S1(function(){(Et&6)===0&&so()}),c=null;else{switch(Xs(h)){case 1:c=br;break;case 4:c=Fn;break;case 16:c=Rn;break;case 536870912:c=ft;break;default:c=Rn}c=S0(c,m0.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function m0(s,o){if(Mf=-1,Vf=0,(Et&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ml()&&s.callbackNode!==c)return null;var h=na(s,s===Sn?Dn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Uf(s,h);else{o=h;var g=Et;Et|=2;var _=v0();(Sn!==s||Dn!==o)&&(ps=null,Ll=dt()+500,ya(s,o));do try{Q1();break}catch($){y0(s,$)}while(!0);Dm(),Pf.current=_,Et=g,ln!==null?o=0:(Sn=null,Dn=0,o=gn)}if(o!==0){if(o===2&&(g=Ar(s),g!==0&&(h=g,o=mg(s,g))),o===1)throw c=yu,ya(s,0),ho(s,h),vr(s,dt()),c;if(o===6)ho(s,h);else{if(g=s.current.alternate,(h&30)===0&&!K1(g)&&(o=Uf(s,h),o===2&&(_=Ar(s),_!==0&&(h=_,o=mg(s,_))),o===1))throw c=yu,ya(s,0),ho(s,h),vr(s,dt()),c;switch(s.finishedWork=g,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:va(s,yr,ps);break;case 3:if(ho(s,h),(h&130023424)===h&&(o=fg+500-dt(),10<o)){if(na(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){nr(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Em(va.bind(null,s,yr,ps),o);break}va(s,yr,ps);break;case 4:if(ho(s,h),(h&4194240)===h)break;for(o=s.eventTimes,g=-1;0<h;){var A=31-ht(h);_=1<<A,A=o[A],A>g&&(g=A),h&=~_}if(h=g,h=dt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*q1(h/1960))-h,10<h){s.timeoutHandle=Em(va.bind(null,s,yr,ps),h);break}va(s,yr,ps);break;case 5:va(s,yr,ps);break;default:throw Error(t(329))}}}return vr(s,dt()),s.callbackNode===c?m0.bind(null,s):null}function mg(s,o){var c=vu;return s.current.memoizedState.isDehydrated&&(ya(s,o).flags|=256),s=Uf(s,o),s!==2&&(o=yr,yr=c,o!==null&&gg(o)),s}function gg(s){yr===null?yr=s:yr.push.apply(yr,s)}function K1(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],_=g.getSnapshot;g=g.value;try{if(!mi(_(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ho(s,o){for(o&=~dg,o&=~Df,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-ht(o),h=1<<c;s[c]=-1,o&=~h}}function g0(s){if((Et&6)!==0)throw Error(t(327));Ml();var o=na(s,0);if((o&1)===0)return vr(s,dt()),null;var c=Uf(s,o);if(s.tag!==0&&c===2){var h=Ar(s);h!==0&&(o=h,c=mg(s,h))}if(c===1)throw c=yu,ya(s,0),ho(s,o),vr(s,dt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,va(s,yr,ps),vr(s,dt()),null}function yg(s,o){var c=Et;Et|=1;try{return s(o)}finally{Et=c,Et===0&&(Ll=dt()+500,df&&so())}}function ga(s){uo!==null&&uo.tag===0&&(Et&6)===0&&Ml();var o=Et;Et|=1;var c=Xr.transition,h=yt;try{if(Xr.transition=null,yt=1,s)return s()}finally{yt=h,Xr.transition=c,Et=o,(Et&6)===0&&so()}}function vg(){Dr=Ol.current,$t(Ol)}function ya(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,I1(c)),ln!==null)for(c=ln.return;c!==null;){var h=c;switch(Am(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cf();break;case 3:Pl(),$t(pr),$t(jn),Fm();break;case 5:Um(h);break;case 4:Pl();break;case 13:$t(Gt);break;case 19:$t(Gt);break;case 10:xm(h.type._context);break;case 22:case 23:vg()}c=c.return}if(Sn=s,ln=s=po(s.current,null),Dn=Dr=o,gn=0,yu=null,dg=Df=ma=0,yr=vu=null,fa!==null){for(o=0;o<fa.length;o++)if(c=fa[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,_=c.pending;if(_!==null){var A=_.next;_.next=g,h.next=A}c.pending=h}fa=null}return s}function y0(s,o){do{var c=ln;try{if(Dm(),Ef.current=Cf,Tf){for(var h=Qt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Tf=!1}if(pa=0,In=mn=Qt=null,du=!1,fu=0,ug.current=null,c===null||c.return===null){gn=1,yu=o,ln=null;break}e:{var _=s,A=c.return,$=c,H=o;if(o=Dn,$.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ee=H,ue=$,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var be=BE(A);if(be!==null){be.flags&=-257,HE(be,A,$,_,o),be.mode&1&&jE(_,ee,o),o=be,H=ee;var Me=o.updateQueue;if(Me===null){var Ve=new Set;Ve.add(H),o.updateQueue=Ve}else Me.add(H);break e}else{if((o&1)===0){jE(_,ee,o),_g();break e}H=Error(t(426))}}else if(Bt&&$.mode&1){var tn=BE(A);if(tn!==null){(tn.flags&65536)===0&&(tn.flags|=256),HE(tn,A,$,_,o),km(Dl(H,$));break e}}_=H=Dl(H,$),gn!==4&&(gn=2),vu===null?vu=[_]:vu.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var Y=$E(_,H,o);fE(_,Y);break e;case 1:$=H;var W=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(co===null||!co.has(J)))){_.flags|=65536,o&=-o,_.lanes|=o;var he=FE(_,$,o);fE(_,he);break e}}_=_.return}while(_!==null)}w0(c)}catch(Ue){o=Ue,ln===c&&c!==null&&(ln=c=c.return);continue}break}while(!0)}function v0(){var s=Pf.current;return Pf.current=Cf,s===null?Cf:s}function _g(){(gn===0||gn===3||gn===2)&&(gn=4),Sn===null||(ma&268435455)===0&&(Df&268435455)===0||ho(Sn,Dn)}function Uf(s,o){var c=Et;Et|=2;var h=v0();(Sn!==s||Dn!==o)&&(ps=null,ya(s,o));do try{G1();break}catch(g){y0(s,g)}while(!0);if(Dm(),Et=c,Pf.current=h,ln!==null)throw Error(t(261));return Sn=null,Dn=0,gn}function G1(){for(;ln!==null;)_0(ln)}function Q1(){for(;ln!==null&&!Di();)_0(ln)}function _0(s){var o=I0(s.alternate,s,Dr);s.memoizedProps=s.pendingProps,o===null?w0(s):ln=o,ug.current=null}function w0(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=j1(c,o,Dr),c!==null){ln=c;return}}else{if(c=B1(c,o),c!==null){c.flags&=32767,ln=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gn=6,ln=null;return}}if(o=o.sibling,o!==null){ln=o;return}ln=o=s}while(o!==null);gn===0&&(gn=5)}function va(s,o,c){var h=yt,g=Xr.transition;try{Xr.transition=null,yt=1,Y1(s,o,c,h)}finally{Xr.transition=g,yt=h}return null}function Y1(s,o,c,h){do Ml();while(uo!==null);if((Et&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(xt(s,_),s===Sn&&(ln=Sn=null,Dn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Of||(Of=!0,S0(Rn,function(){return Ml(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Xr.transition,Xr.transition=null;var A=yt;yt=1;var $=Et;Et|=4,ug.current=null,z1(s,c),u0(c,s),g1(_m),Zs=!!vm,_m=vm=null,s.current=c,W1(c),Cr(),Et=$,yt=A,Xr.transition=_}else s.current=c;if(Of&&(Of=!1,uo=s,Lf=g),_=s.pendingLanes,_===0&&(co=null),Oi(c.stateNode),vr(s,dt()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(xf)throw xf=!1,s=hg,hg=null,s;return(Lf&1)!==0&&s.tag!==0&&Ml(),_=s.pendingLanes,(_&1)!==0?s===pg?_u++:(_u=0,pg=s):_u=0,so(),null}function Ml(){if(uo!==null){var s=Xs(Lf),o=Xr.transition,c=yt;try{if(Xr.transition=null,yt=16>s?16:s,uo===null)var h=!1;else{if(s=uo,uo=null,Lf=0,(Et&6)!==0)throw Error(t(331));var g=Et;for(Et|=4,Oe=s.current;Oe!==null;){var _=Oe,A=_.child;if((Oe.flags&16)!==0){var $=_.deletions;if($!==null){for(var H=0;H<$.length;H++){var ee=$[H];for(Oe=ee;Oe!==null;){var ue=Oe;switch(ue.tag){case 0:case 11:case 15:gu(8,ue,_)}var fe=ue.child;if(fe!==null)fe.return=ue,Oe=fe;else for(;Oe!==null;){ue=Oe;var le=ue.sibling,be=ue.return;if(s0(ue),ue===ee){Oe=null;break}if(le!==null){le.return=be,Oe=le;break}Oe=be}}}var Me=_.alternate;if(Me!==null){var Ve=Me.child;if(Ve!==null){Me.child=null;do{var tn=Ve.sibling;Ve.sibling=null,Ve=tn}while(Ve!==null)}}Oe=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,Oe=A;else e:for(;Oe!==null;){if(_=Oe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:gu(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,Oe=Y;break e}Oe=_.return}}var W=s.current;for(Oe=W;Oe!==null;){A=Oe;var J=A.child;if((A.subtreeFlags&2064)!==0&&J!==null)J.return=A,Oe=J;else e:for(A=W;Oe!==null;){if($=Oe,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:kf(9,$)}}catch(Ue){Zt($,$.return,Ue)}if($===A){Oe=null;break e}var he=$.sibling;if(he!==null){he.return=$.return,Oe=he;break e}Oe=$.return}}if(Et=g,so(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(bt,s)}catch{}h=!0}return h}finally{yt=c,Xr.transition=o}}return!1}function E0(s,o,c){o=Dl(c,o),o=$E(s,o,1),s=ao(s,o,1),o=nr(),s!==null&&(Qs(s,1,o),vr(s,o))}function Zt(s,o,c){if(s.tag===3)E0(s,s,c);else for(;o!==null;){if(o.tag===3){E0(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(co===null||!co.has(h))){s=Dl(c,s),s=FE(o,s,1),o=ao(o,s,1),s=nr(),o!==null&&(Qs(o,1,s),vr(o,s));break}}o=o.return}}function X1(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=nr(),s.pingedLanes|=s.suspendedLanes&c,Sn===s&&(Dn&c)===c&&(gn===4||gn===3&&(Dn&130023424)===Dn&&500>dt()-fg?ya(s,0):dg|=c),vr(s,o)}function T0(s,o){o===0&&((s.mode&1)===0?o=1:(o=sl,sl<<=1,(sl&130023424)===0&&(sl=4194304)));var c=nr();s=ds(s,o),s!==null&&(Qs(s,o,c),vr(s,c))}function J1(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),T0(s,c)}function Z1(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),T0(s,c)}var I0;I0=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||pr.current)gr=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return gr=!1,F1(s,o,c);gr=(s.flags&131072)!==0}else gr=!1,Bt&&(o.flags&1048576)!==0&&nE(o,hf,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Rf(s,o),s=o.pendingProps;var g=Sl(o,jn.current);kl(o,c),g=Hm(null,o,h,s,g,c);var _=zm();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,mr(h)?(_=!0,uf(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Mm(o),g.updater=bf,o.stateNode=g,g._reactInternals=o,Ym(o,h,s,c),o=eg(null,o,h,!0,_,c)):(o.tag=0,Bt&&_&&bm(o),tr(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Rf(s,o),s=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=tP(h),s=yi(h,s),g){case 0:o=Zm(null,o,h,s,c);break e;case 1:o=QE(null,o,h,s,c);break e;case 11:o=zE(null,o,h,s,c);break e;case 14:o=WE(null,o,h,yi(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:yi(h,g),Zm(s,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:yi(h,g),QE(s,o,h,g,c);case 3:e:{if(YE(o),s===null)throw Error(t(387));h=o.pendingProps,_=o.memoizedState,g=_.element,dE(s,o),_f(o,h,null,c);var A=o.memoizedState;if(h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=Dl(Error(t(423)),o),o=XE(s,o,h,c,g);break e}else if(h!==g){g=Dl(Error(t(424)),o),o=XE(s,o,h,c,g);break e}else for(Pr=no(o.stateNode.containerInfo.firstChild),kr=o,Bt=!0,gi=null,c=cE(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Al(),h===g){o=hs(s,o,c);break e}tr(s,o,h,c)}o=o.child}return o;case 5:return pE(o),s===null&&Nm(o),h=o.type,g=o.pendingProps,_=s!==null?s.memoizedProps:null,A=g.children,wm(h,g)?A=null:_!==null&&wm(h,_)&&(o.flags|=32),GE(s,o),tr(s,o,A,c),o.child;case 6:return s===null&&Nm(o),null;case 13:return JE(s,o,c);case 4:return Vm(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Rl(o,null,h,c):tr(s,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:yi(h,g),zE(s,o,h,g,c);case 7:return tr(s,o,o.pendingProps,c),o.child;case 8:return tr(s,o,o.pendingProps.children,c),o.child;case 12:return tr(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,_=o.memoizedProps,A=g.value,Vt(gf,h._currentValue),h._currentValue=A,_!==null)if(mi(_.value,A)){if(_.children===g.children&&!pr.current){o=hs(s,o,c);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var $=_.dependencies;if($!==null){A=_.child;for(var H=$.firstContext;H!==null;){if(H.context===h){if(_.tag===1){H=fs(-1,c&-c),H.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var ue=ee.pending;ue===null?H.next=H:(H.next=ue.next,ue.next=H),ee.pending=H}}_.lanes|=c,H=_.alternate,H!==null&&(H.lanes|=c),Om(_.return,c,o),$.lanes|=c;break}H=H.next}}else if(_.tag===10)A=_.type===o.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(t(341));A.lanes|=c,$=A.alternate,$!==null&&($.lanes|=c),Om(A,c,o),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===o){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}tr(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,kl(o,c),g=Qr(g),h=h(g),o.flags|=1,tr(s,o,h,c),o.child;case 14:return h=o.type,g=yi(h,o.pendingProps),g=yi(h.type,g),WE(s,o,h,g,c);case 15:return qE(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:yi(h,g),Rf(s,o),o.tag=1,mr(h)?(s=!0,uf(o)):s=!1,kl(o,c),VE(o,h,g),Ym(o,h,g,c),eg(null,o,h,!0,s,c);case 19:return e0(s,o,c);case 22:return KE(s,o,c)}throw Error(t(156,o.tag))};function S0(s,o){return Nt(s,o)}function eP(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(s,o,c,h){return new eP(s,o,c,h)}function wg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function tP(s){if(typeof s=="function")return wg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ke)return 14}return 2}function po(s,o){var c=s.alternate;return c===null?(c=Jr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function $f(s,o,c,h,g,_){var A=2;if(h=s,typeof s=="function")wg(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case C:return _a(c.children,g,_,o);case b:A=8,g|=8;break;case P:return s=Jr(12,c,o,g|2),s.elementType=P,s.lanes=_,s;case O:return s=Jr(13,c,o,g),s.elementType=O,s.lanes=_,s;case we:return s=Jr(19,c,o,g),s.elementType=we,s.lanes=_,s;case Se:return Ff(c,g,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:A=10;break e;case U:A=9;break e;case F:A=11;break e;case ke:A=14;break e;case je:A=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Jr(A,c,o,g),o.elementType=s,o.type=h,o.lanes=_,o}function _a(s,o,c,h){return s=Jr(7,s,h,o),s.lanes=c,s}function Ff(s,o,c,h){return s=Jr(22,s,h,o),s.elementType=Se,s.lanes=c,s.stateNode={isHidden:!1},s}function Eg(s,o,c){return s=Jr(6,s,null,o),s.lanes=c,s}function Tg(s,o,c){return o=Jr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function nP(s,o,c,h,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ig(s,o,c,h,g,_,A,$,H){return s=new nP(s,o,c,$,H),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Jr(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mm(_),s}function rP(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function C0(s){if(!s)return io;s=s._reactInternals;e:{if(xe(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(mr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(mr(c))return Zw(s,c,o)}return o}function b0(s,o,c,h,g,_,A,$,H){return s=Ig(c,h,!0,s,g,_,A,$,H),s.context=C0(null),c=s.current,h=nr(),g=fo(c),_=fs(h,g),_.callback=o??null,ao(c,_,g),s.current.lanes=g,Qs(s,g,h),vr(s,h),s}function jf(s,o,c,h){var g=o.current,_=nr(),A=fo(g);return c=C0(c),o.context===null?o.context=c:o.pendingContext=c,o=fs(_,A),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=ao(g,o,A),s!==null&&(wi(s,g,A,_),vf(s,g,A)),A}function Bf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function A0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Sg(s,o){A0(s,o),(s=s.alternate)&&A0(s,o)}function iP(){return null}var R0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cg(s){this._internalRoot=s}Hf.prototype.render=Cg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));jf(s,o,null,null)},Hf.prototype.unmount=Cg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ga(function(){jf(null,s,null,null)}),o[as]=null}};function Hf(s){this._internalRoot=s}Hf.prototype.unstable_scheduleHydration=function(s){if(s){var o=Bd();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Mi.length&&o!==0&&o<Mi[c].priority;c++);Mi.splice(c,0,s),c===0&&Wd(s)}};function bg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function zf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function N0(){}function sP(s,o,c,h,g){if(g){if(typeof h=="function"){var _=h;h=function(){var ee=Bf(A);_.call(ee)}}var A=b0(o,h,s,0,null,!1,!1,"",N0);return s._reactRootContainer=A,s[as]=A.current,ru(s.nodeType===8?s.parentNode:s),ga(),A}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var $=h;h=function(){var ee=Bf(H);$.call(ee)}}var H=Ig(s,0,!1,null,null,!1,!1,"",N0);return s._reactRootContainer=H,s[as]=H.current,ru(s.nodeType===8?s.parentNode:s),ga(function(){jf(o,H,c,h)}),H}function Wf(s,o,c,h,g){var _=c._reactRootContainer;if(_){var A=_;if(typeof g=="function"){var $=g;g=function(){var H=Bf(A);$.call(H)}}jf(o,A,s,g)}else A=sP(c,o,s,g,h);return Bf(A)}Fd=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ks(o.pendingLanes);c!==0&&(Ys(o,c|1),vr(o,dt()),(Et&6)===0&&(Ll=dt()+500,so()))}break;case 13:ga(function(){var h=ds(s,1);if(h!==null){var g=nr();wi(h,s,1,g)}}),Sg(s,1)}},ol=function(s){if(s.tag===13){var o=ds(s,134217728);if(o!==null){var c=nr();wi(o,s,134217728,c)}Sg(s,134217728)}},jd=function(s){if(s.tag===13){var o=fo(s),c=ds(s,o);if(c!==null){var h=nr();wi(c,s,o,h)}Sg(s,o)}},Bd=function(){return yt},Hd=function(s,o){var c=yt;try{return yt=s,o()}finally{yt=c}},ts=function(s,o,c){switch(o){case"input":if(_n(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var g=lf(h);if(!g)throw Error(t(90));st(h),_n(h,g)}}}break;case"textarea":Lt(s,c);break;case"select":o=c.value,o!=null&&sn(s,!!c.multiple,o,!1)}},ki=yg,Pi=ga;var oP={usingClientEntryPoint:!1,Events:[ou,Tl,lf,Sr,Zo,yg]},wu={findFiberByHostInstance:la,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aP={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=It(s),s===null?null:s.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||iP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{bt=qf.inject(aP),on=qf}catch{}}return _r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oP,_r.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(o))throw Error(t(200));return rP(s,o,null,c)},_r.createRoot=function(s,o){if(!bg(s))throw Error(t(299));var c=!1,h="",g=R0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Ig(s,1,!1,null,null,c,!1,h,g),s[as]=o.current,ru(s.nodeType===8?s.parentNode:s),new Cg(o)},_r.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=It(o),s=s===null?null:s.stateNode,s},_r.flushSync=function(s){return ga(s)},_r.hydrate=function(s,o,c){if(!zf(o))throw Error(t(200));return Wf(null,s,o,!0,c)},_r.hydrateRoot=function(s,o,c){if(!bg(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,_="",A=R0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),o=b0(o,null,s,1,c??null,g,!1,_,A),s[as]=o.current,ru(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Hf(o)},_r.render=function(s,o,c){if(!zf(o))throw Error(t(200));return Wf(null,s,o,!1,c)},_r.unmountComponentAtNode=function(s){if(!zf(s))throw Error(t(40));return s._reactRootContainer?(ga(function(){Wf(null,null,s,!1,function(){s._reactRootContainer=null,s[as]=null})}),!0):!1},_r.unstable_batchedUpdates=yg,_r.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!zf(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Wf(s,o,c,!1,h)},_r.version="18.3.1-next-f1338f8080-20240426",_r}var L0;function rC(){if(L0)return Rg.exports;L0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rg.exports=hP(),Rg.exports}var M0;function pP(){if(M0)return Kf;M0=1;var n=rC();return Kf.createRoot=n.createRoot,Kf.hydrateRoot=n.hydrateRoot,Kf}var mP=pP(),or="top",$r="bottom",Fr="right",ar="left",cp="auto",Ac=[or,$r,Fr,ar],xa="start",rc="end",iC="clippingParents",Cv="viewport",Hl="popper",sC="reference",wy=Ac.reduce(function(n,e){return n.concat([e+"-"+xa,e+"-"+rc])},[]),bv=[].concat(Ac,[cp]).reduce(function(n,e){return n.concat([e,e+"-"+xa,e+"-"+rc])},[]),oC="beforeRead",aC="read",lC="afterRead",cC="beforeMain",uC="main",dC="afterMain",fC="beforeWrite",hC="write",pC="afterWrite",mC=[oC,aC,lC,cC,uC,dC,fC,hC,pC];function Xi(n){return n?(n.nodeName||"").toLowerCase():null}function jr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Oa(n){var e=jr(n).Element;return n instanceof e||n instanceof Element}function ri(n){var e=jr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Av(n){if(typeof ShadowRoot>"u")return!1;var e=jr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function gP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!ri(a)||!Xi(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var u=i[l];u===!1?a.removeAttribute(l):a.setAttribute(l,u===!0?"":u)}))})}function yP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),u=l.reduce(function(f,p){return f[p]="",f},{});!ri(i)||!Xi(i)||(Object.assign(i.style,u),Object.keys(a).forEach(function(f){i.removeAttribute(f)}))})}}const Rv={name:"applyStyles",enabled:!0,phase:"write",fn:gP,effect:yP,requires:["computeStyles"]};function qi(n){return n.split("-")[0]}var ka=Math.max,Ph=Math.min,ic=Math.round;function Ey(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gC(){return!/^((?!chrome|android).)*safari/i.test(Ey())}function sc(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&ri(n)&&(i=n.offsetWidth>0&&ic(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&ic(r.height)/n.offsetHeight||1);var l=Oa(n)?jr(n):window,u=l.visualViewport,f=!gC()&&t,p=(r.left+(f&&u?u.offsetLeft:0))/i,m=(r.top+(f&&u?u.offsetTop:0))/a,y=r.width/i,T=r.height/a;return{width:y,height:T,top:m,right:p+y,bottom:m+T,left:p,x:p,y:m}}function Nv(n){var e=sc(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function yC(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Av(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ps(n){return jr(n).getComputedStyle(n)}function vP(n){return["table","td","th"].indexOf(Xi(n))>=0}function zo(n){return((Oa(n)?n.ownerDocument:n.document)||window.document).documentElement}function up(n){return Xi(n)==="html"?n:n.assignedSlot||n.parentNode||(Av(n)?n.host:null)||zo(n)}function V0(n){return!ri(n)||Ps(n).position==="fixed"?null:n.offsetParent}function _P(n){var e=/firefox/i.test(Ey()),t=/Trident/i.test(Ey());if(t&&ri(n)){var r=Ps(n);if(r.position==="fixed")return null}var i=up(n);for(Av(i)&&(i=i.host);ri(i)&&["html","body"].indexOf(Xi(i))<0;){var a=Ps(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function hd(n){for(var e=jr(n),t=V0(n);t&&vP(t)&&Ps(t).position==="static";)t=V0(t);return t&&(Xi(t)==="html"||Xi(t)==="body"&&Ps(t).position==="static")?e:t||_P(n)||e}function kv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ju(n,e,t){return ka(n,Ph(e,t))}function wP(n,e,t){var r=ju(n,e,t);return r>t?t:r}function vC(){return{top:0,right:0,bottom:0,left:0}}function _C(n){return Object.assign({},vC(),n)}function wC(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var EP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,_C(typeof e!="number"?e:wC(e,Ac))};function TP(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,u=qi(t.placement),f=kv(u),p=[ar,Fr].indexOf(u)>=0,m=p?"height":"width";if(!(!a||!l)){var y=EP(i.padding,t),T=Nv(a),S=f==="y"?or:ar,N=f==="y"?$r:Fr,k=t.rects.reference[m]+t.rects.reference[f]-l[f]-t.rects.popper[m],R=l[f]-t.rects.reference[f],x=hd(a),L=x?f==="y"?x.clientHeight||0:x.clientWidth||0:0,V=k/2-R/2,j=y[S],q=L-T[m]-y[N],G=L/2-T[m]/2+V,C=ju(j,G,q),b=f;t.modifiersData[r]=(e={},e[b]=C,e.centerOffset=C-G,e)}}function IP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||yC(e.elements.popper,i)&&(e.elements.arrow=i))}const Pv={name:"arrow",enabled:!0,phase:"main",fn:TP,effect:IP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oc(n){return n.split("-")[1]}var SP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:ic(t*i)/i||0,y:ic(r*i)/i||0}}function U0(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,u=n.position,f=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,y=n.isFixed,T=l.x,S=T===void 0?0:T,N=l.y,k=N===void 0?0:N,R=typeof m=="function"?m({x:S,y:k}):{x:S,y:k};S=R.x,k=R.y;var x=l.hasOwnProperty("x"),L=l.hasOwnProperty("y"),V=ar,j=or,q=window;if(p){var G=hd(t),C="clientHeight",b="clientWidth";if(G===jr(t)&&(G=zo(t),Ps(G).position!=="static"&&u==="absolute"&&(C="scrollHeight",b="scrollWidth")),G=G,i===or||(i===ar||i===Fr)&&a===rc){j=$r;var P=y&&G===q&&q.visualViewport?q.visualViewport.height:G[C];k-=P-r.height,k*=f?1:-1}if(i===ar||(i===or||i===$r)&&a===rc){V=Fr;var M=y&&G===q&&q.visualViewport?q.visualViewport.width:G[b];S-=M-r.width,S*=f?1:-1}}var U=Object.assign({position:u},p&&SP),F=m===!0?CP({x:S,y:k},jr(t)):{x:S,y:k};if(S=F.x,k=F.y,f){var O;return Object.assign({},U,(O={},O[j]=L?"0":"",O[V]=x?"0":"",O.transform=(q.devicePixelRatio||1)<=1?"translate("+S+"px, "+k+"px)":"translate3d("+S+"px, "+k+"px, 0)",O))}return Object.assign({},U,(e={},e[j]=L?k+"px":"",e[V]=x?S+"px":"",e.transform="",e))}function bP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,u=t.roundOffsets,f=u===void 0?!0:u,p={placement:qi(e.placement),variation:oc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,U0(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,U0(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const dp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bP,data:{}};var Gf={passive:!0};function AP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,u=l===void 0?!0:l,f=jr(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(m){m.addEventListener("scroll",t.update,Gf)}),u&&f.addEventListener("resize",t.update,Gf),function(){a&&p.forEach(function(m){m.removeEventListener("scroll",t.update,Gf)}),u&&f.removeEventListener("resize",t.update,Gf)}}const fp={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AP,data:{}};var RP={left:"right",right:"left",bottom:"top",top:"bottom"};function ph(n){return n.replace(/left|right|bottom|top/g,function(e){return RP[e]})}var NP={start:"end",end:"start"};function $0(n){return n.replace(/start|end/g,function(e){return NP[e]})}function Dv(n){var e=jr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function xv(n){return sc(zo(n)).left+Dv(n).scrollLeft}function kP(n,e){var t=jr(n),r=zo(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,u=0,f=0;if(i){a=i.width,l=i.height;var p=gC();(p||!p&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:u+xv(n),y:f}}function PP(n){var e,t=zo(n),r=Dv(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=ka(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ka(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+xv(n),f=-r.scrollTop;return Ps(i||t).direction==="rtl"&&(u+=ka(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:u,y:f}}function Ov(n){var e=Ps(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function EC(n){return["html","body","#document"].indexOf(Xi(n))>=0?n.ownerDocument.body:ri(n)&&Ov(n)?n:EC(up(n))}function Bu(n,e){var t;e===void 0&&(e=[]);var r=EC(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=jr(r),l=i?[a].concat(a.visualViewport||[],Ov(r)?r:[]):r,u=e.concat(l);return i?u:u.concat(Bu(up(l)))}function Ty(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function DP(n,e){var t=sc(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function F0(n,e,t){return e===Cv?Ty(kP(n,t)):Oa(e)?DP(e,t):Ty(PP(zo(n)))}function xP(n){var e=Bu(up(n)),t=["absolute","fixed"].indexOf(Ps(n).position)>=0,r=t&&ri(n)?hd(n):n;return Oa(r)?e.filter(function(i){return Oa(i)&&yC(i,r)&&Xi(i)!=="body"}):[]}function OP(n,e,t,r){var i=e==="clippingParents"?xP(n):[].concat(e),a=[].concat(i,[t]),l=a[0],u=a.reduce(function(f,p){var m=F0(n,p,r);return f.top=ka(m.top,f.top),f.right=Ph(m.right,f.right),f.bottom=Ph(m.bottom,f.bottom),f.left=ka(m.left,f.left),f},F0(n,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function TC(n){var e=n.reference,t=n.element,r=n.placement,i=r?qi(r):null,a=r?oc(r):null,l=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,f;switch(i){case or:f={x:l,y:e.y-t.height};break;case $r:f={x:l,y:e.y+e.height};break;case Fr:f={x:e.x+e.width,y:u};break;case ar:f={x:e.x-t.width,y:u};break;default:f={x:e.x,y:e.y}}var p=i?kv(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(a){case xa:f[p]=f[p]-(e[m]/2-t[m]/2);break;case rc:f[p]=f[p]+(e[m]/2-t[m]/2);break}}return f}function ac(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,u=t.boundary,f=u===void 0?iC:u,p=t.rootBoundary,m=p===void 0?Cv:p,y=t.elementContext,T=y===void 0?Hl:y,S=t.altBoundary,N=S===void 0?!1:S,k=t.padding,R=k===void 0?0:k,x=_C(typeof R!="number"?R:wC(R,Ac)),L=T===Hl?sC:Hl,V=n.rects.popper,j=n.elements[N?L:T],q=OP(Oa(j)?j:j.contextElement||zo(n.elements.popper),f,m,l),G=sc(n.elements.reference),C=TC({reference:G,element:V,placement:i}),b=Ty(Object.assign({},V,C)),P=T===Hl?b:G,M={top:q.top-P.top+x.top,bottom:P.bottom-q.bottom+x.bottom,left:q.left-P.left+x.left,right:P.right-q.right+x.right},U=n.modifiersData.offset;if(T===Hl&&U){var F=U[i];Object.keys(M).forEach(function(O){var we=[Fr,$r].indexOf(O)>=0?1:-1,ke=[or,$r].indexOf(O)>=0?"y":"x";M[O]+=F[ke]*we})}return M}function LP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,u=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?bv:f,m=oc(r),y=m?u?wy:wy.filter(function(N){return oc(N)===m}):Ac,T=y.filter(function(N){return p.indexOf(N)>=0});T.length===0&&(T=y);var S=T.reduce(function(N,k){return N[k]=ac(n,{placement:k,boundary:i,rootBoundary:a,padding:l})[qi(k)],N},{});return Object.keys(S).sort(function(N,k){return S[N]-S[k]})}function MP(n){if(qi(n)===cp)return[];var e=ph(n);return[$0(n),e,$0(e)]}function VP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,m=t.boundary,y=t.rootBoundary,T=t.altBoundary,S=t.flipVariations,N=S===void 0?!0:S,k=t.allowedAutoPlacements,R=e.options.placement,x=qi(R),L=x===R,V=f||(L||!N?[ph(R)]:MP(R)),j=[R].concat(V).reduce(function(ve,Ie){return ve.concat(qi(Ie)===cp?LP(e,{placement:Ie,boundary:m,rootBoundary:y,padding:p,flipVariations:N,allowedAutoPlacements:k}):Ie)},[]),q=e.rects.reference,G=e.rects.popper,C=new Map,b=!0,P=j[0],M=0;M<j.length;M++){var U=j[M],F=qi(U),O=oc(U)===xa,we=[or,$r].indexOf(F)>=0,ke=we?"width":"height",je=ac(e,{placement:U,boundary:m,rootBoundary:y,altBoundary:T,padding:p}),Se=we?O?Fr:ar:O?$r:or;q[ke]>G[ke]&&(Se=ph(Se));var re=ph(Se),me=[];if(a&&me.push(je[F]<=0),u&&me.push(je[Se]<=0,je[re]<=0),me.every(function(ve){return ve})){P=U,b=!1;break}C.set(U,me)}if(b)for(var ce=N?3:1,z=function(Ie){var Ae=j.find(function(Ge){var Be=C.get(Ge);if(Be)return Be.slice(0,Ie).every(function(ot){return ot})});if(Ae)return P=Ae,"break"},te=ce;te>0;te--){var pe=z(te);if(pe==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const Lv={name:"flip",enabled:!0,phase:"main",fn:VP,requiresIfExists:["offset"],data:{_skip:!1}};function j0(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function B0(n){return[or,Fr,$r,ar].some(function(e){return n[e]>=0})}function UP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=ac(e,{elementContext:"reference"}),u=ac(e,{altBoundary:!0}),f=j0(l,r),p=j0(u,i,a),m=B0(f),y=B0(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const Mv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:UP};function $P(n,e,t){var r=qi(n),i=[ar,or].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],u=a[1];return l=l||0,u=(u||0)*i,[ar,Fr].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function FP(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=bv.reduce(function(m,y){return m[y]=$P(y,e.rects,a),m},{}),u=l[e.placement],f=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Vv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:FP};function jP(n){var e=n.state,t=n.name;e.modifiersData[t]=TC({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const hp={name:"popperOffsets",enabled:!0,phase:"read",fn:jP,data:{}};function BP(n){return n==="x"?"y":"x"}function HP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,m=t.altBoundary,y=t.padding,T=t.tether,S=T===void 0?!0:T,N=t.tetherOffset,k=N===void 0?0:N,R=ac(e,{boundary:f,rootBoundary:p,padding:y,altBoundary:m}),x=qi(e.placement),L=oc(e.placement),V=!L,j=kv(x),q=BP(j),G=e.modifiersData.popperOffsets,C=e.rects.reference,b=e.rects.popper,P=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,M=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(G){if(a){var O,we=j==="y"?or:ar,ke=j==="y"?$r:Fr,je=j==="y"?"height":"width",Se=G[j],re=Se+R[we],me=Se-R[ke],ce=S?-b[je]/2:0,z=L===xa?C[je]:b[je],te=L===xa?-b[je]:-C[je],pe=e.elements.arrow,ve=S&&pe?Nv(pe):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:vC(),Ae=Ie[we],Ge=Ie[ke],Be=ju(0,C[je],ve[je]),ot=V?C[je]/2-ce-Be-Ae-M.mainAxis:z-Be-Ae-M.mainAxis,Tt=V?-C[je]/2+ce+Be+Ge+M.mainAxis:te+Be+Ge+M.mainAxis,Ct=e.elements.arrow&&hd(e.elements.arrow),st=Ct?j==="y"?Ct.clientTop||0:Ct.clientLeft||0:0,Dt=(O=U==null?void 0:U[j])!=null?O:0,Xt=Se+ot-Dt-st,it=Se+Tt-Dt,Wt=ju(S?Ph(re,Xt):re,Se,S?ka(me,it):me);G[j]=Wt,F[j]=Wt-Se}if(u){var _n,Br=j==="x"?or:ar,Xn=j==="x"?$r:Fr,qt=G[q],sn=q==="y"?"height":"width",lr=qt+R[Br],Un=qt-R[Xn],Lt=[or,ar].indexOf(x)!==-1,hn=(_n=U==null?void 0:U[q])!=null?_n:0,$e=Lt?lr:qt-C[sn]-b[sn]-hn+M.altAxis,gt=Lt?qt+C[sn]+b[sn]-hn-M.altAxis:Un,Mt=S&&Lt?wP($e,qt,gt):ju(S?$e:lr,qt,S?gt:Un);G[q]=Mt,F[q]=Mt-qt}e.modifiersData[r]=F}}const Uv={name:"preventOverflow",enabled:!0,phase:"main",fn:HP,requiresIfExists:["offset"]};function zP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function WP(n){return n===jr(n)||!ri(n)?Dv(n):zP(n)}function qP(n){var e=n.getBoundingClientRect(),t=ic(e.width)/n.offsetWidth||1,r=ic(e.height)/n.offsetHeight||1;return t!==1||r!==1}function KP(n,e,t){t===void 0&&(t=!1);var r=ri(e),i=ri(e)&&qP(e),a=zo(e),l=sc(n,i,t),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Xi(e)!=="body"||Ov(a))&&(u=WP(e)),ri(e)?(f=sc(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=xv(a))),{x:l.left+u.scrollLeft-f.x,y:l.top+u.scrollTop-f.y,width:l.width,height:l.height}}function GP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(u){if(!t.has(u)){var f=e.get(u);f&&i(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function QP(n){var e=GP(n);return mC.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function YP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function XP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var H0={placement:"bottom",modifiers:[],strategy:"absolute"};function z0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function pd(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?H0:i;return function(u,f,p){p===void 0&&(p=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},H0,a),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},y=[],T=!1,S={state:m,setOptions:function(x){var L=typeof x=="function"?x(m.options):x;k(),m.options=Object.assign({},a,m.options,L),m.scrollParents={reference:Oa(u)?Bu(u):u.contextElement?Bu(u.contextElement):[],popper:Bu(f)};var V=QP(XP([].concat(r,m.options.modifiers)));return m.orderedModifiers=V.filter(function(j){return j.enabled}),N(),S.update()},forceUpdate:function(){if(!T){var x=m.elements,L=x.reference,V=x.popper;if(z0(L,V)){m.rects={reference:KP(L,hd(V),m.options.strategy==="fixed"),popper:Nv(V)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(M){return m.modifiersData[M.name]=Object.assign({},M.data)});for(var j=0;j<m.orderedModifiers.length;j++){if(m.reset===!0){m.reset=!1,j=-1;continue}var q=m.orderedModifiers[j],G=q.fn,C=q.options,b=C===void 0?{}:C,P=q.name;typeof G=="function"&&(m=G({state:m,options:b,name:P,instance:S})||m)}}}},update:YP(function(){return new Promise(function(R){S.forceUpdate(),R(m)})}),destroy:function(){k(),T=!0}};if(!z0(u,f))return S;S.setOptions(p).then(function(R){!T&&p.onFirstUpdate&&p.onFirstUpdate(R)});function N(){m.orderedModifiers.forEach(function(R){var x=R.name,L=R.options,V=L===void 0?{}:L,j=R.effect;if(typeof j=="function"){var q=j({state:m,name:x,instance:S,options:V}),G=function(){};y.push(q||G)}})}function k(){y.forEach(function(R){return R()}),y=[]}return S}}var JP=pd(),ZP=[fp,hp,dp,Rv],eD=pd({defaultModifiers:ZP}),tD=[fp,hp,dp,Rv,Vv,Lv,Uv,Pv,Mv],$v=pd({defaultModifiers:tD});const IC=Object.freeze(Object.defineProperty({__proto__:null,afterMain:dC,afterRead:lC,afterWrite:pC,applyStyles:Rv,arrow:Pv,auto:cp,basePlacements:Ac,beforeMain:cC,beforeRead:oC,beforeWrite:fC,bottom:$r,clippingParents:iC,computeStyles:dp,createPopper:$v,createPopperBase:JP,createPopperLite:eD,detectOverflow:ac,end:rc,eventListeners:fp,flip:Lv,hide:Mv,left:ar,main:uC,modifierPhases:mC,offset:Vv,placements:bv,popper:Hl,popperGenerator:pd,popperOffsets:hp,preventOverflow:Uv,read:aC,reference:sC,right:Fr,start:xa,top:or,variationPlacements:wy,viewport:Cv,write:hC},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const go=new Map,Pg={set(n,e,t){go.has(n)||go.set(n,new Map);const r=go.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return go.has(n)&&go.get(n).get(e)||null},remove(n,e){if(!go.has(n))return;const t=go.get(n);t.delete(e),t.size===0&&go.delete(n)}},nD=1e6,rD=1e3,Iy="transitionend",SC=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),iD=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),sD=n=>{do n+=Math.floor(Math.random()*nD);while(document.getElementById(n));return n},oD=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*rD)},CC=n=>{n.dispatchEvent(new Event(Iy))},Is=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Oo=n=>Is(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(SC(n)):null,Rc=n=>{if(!Is(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Lo=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",bC=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?bC(n.parentNode):null},Dh=()=>{},md=n=>{n.offsetHeight},AC=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Dg=[],aD=n=>{document.readyState==="loading"?(Dg.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Dg)e()}),Dg.push(n)):n()},ii=()=>document.documentElement.dir==="rtl",ai=n=>{aD(()=>{const e=AC();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Tr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,RC=(n,e,t=!0)=>{if(!t){Tr(n);return}const i=oD(e)+5;let a=!1;const l=({target:u})=>{u===e&&(a=!0,e.removeEventListener(Iy,l),Tr(n))};e.addEventListener(Iy,l),setTimeout(()=>{a||CC(e)},i)},Fv=(n,e,t,r)=>{const i=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[i-1]:n[0]:(a+=t?1:-1,r&&(a=(a+i)%i),n[Math.max(0,Math.min(a,i-1))])},lD=/[^.]*(?=\..*)\.|.*/,cD=/\..*/,uD=/::\d+$/,xg={};let W0=1;const NC={mouseenter:"mouseover",mouseleave:"mouseout"},dD=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function kC(n,e){return e&&`${e}::${W0++}`||n.uidEvent||W0++}function PC(n){const e=kC(n);return n.uidEvent=e,xg[e]=xg[e]||{},xg[e]}function fD(n,e){return function t(r){return jv(r,{delegateTarget:n}),t.oneOff&&de.off(n,r.type,e),e.apply(n,[r])}}function hD(n,e,t){return function r(i){const a=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const u of a)if(u===l)return jv(i,{delegateTarget:l}),r.oneOff&&de.off(n,i.type,e,t),t.apply(l,[i])}}function DC(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function xC(n,e,t){const r=typeof e=="string",i=r?t:e||t;let a=OC(n);return dD.has(a)||(a=n),[r,i,a]}function q0(n,e,t,r,i){if(typeof e!="string"||!n)return;let[a,l,u]=xC(e,t,r);e in NC&&(l=(N=>function(k){if(!k.relatedTarget||k.relatedTarget!==k.delegateTarget&&!k.delegateTarget.contains(k.relatedTarget))return N.call(this,k)})(l));const f=PC(n),p=f[u]||(f[u]={}),m=DC(p,l,a?t:null);if(m){m.oneOff=m.oneOff&&i;return}const y=kC(l,e.replace(lD,"")),T=a?hD(n,t,l):fD(n,l);T.delegationSelector=a?t:null,T.callable=l,T.oneOff=i,T.uidEvent=y,p[y]=T,n.addEventListener(u,T,a)}function Sy(n,e,t,r,i){const a=DC(e[t],r,i);a&&(n.removeEventListener(t,a,!!i),delete e[t][a.uidEvent])}function pD(n,e,t,r){const i=e[t]||{};for(const[a,l]of Object.entries(i))a.includes(r)&&Sy(n,e,t,l.callable,l.delegationSelector)}function OC(n){return n=n.replace(cD,""),NC[n]||n}const de={on(n,e,t,r){q0(n,e,t,r,!1)},one(n,e,t,r){q0(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,a,l]=xC(e,t,r),u=l!==e,f=PC(n),p=f[l]||{},m=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;Sy(n,f,l,a,i?t:null);return}if(m)for(const y of Object.keys(f))pD(n,f,y,e.slice(1));for(const[y,T]of Object.entries(p)){const S=y.replace(uD,"");(!u||e.includes(S))&&Sy(n,f,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=AC(),i=OC(e),a=e!==i;let l=null,u=!0,f=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),u=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const m=jv(new Event(e,{bubbles:u,cancelable:!0}),t);return p&&m.preventDefault(),f&&n.dispatchEvent(m),m.defaultPrevented&&l&&l.preventDefault(),m}};function jv(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function K0(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Og(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ss={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Og(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Og(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=K0(n.dataset[r])}return e},getDataAttribute(n,e){return K0(n.getAttribute(`data-bs-${Og(e)}`))}};class gd{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Is(t)?Ss.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Is(t)?Ss.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const a=e[r],l=Is(a)?"element":iD(a);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}}const mD="5.3.3";class Ai extends gd{constructor(e,t){super(),e=Oo(e),e&&(this._element=e,this._config=this._getConfig(t),Pg.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Pg.remove(this._element,this.constructor.DATA_KEY),de.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){RC(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Pg.get(Oo(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return mD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Lg=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>SC(t)).join(","):null},We={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Lo(t)&&Rc(t))},getSelectorFromElement(n){const e=Lg(n);return e&&We.findOne(e)?e:null},getElementFromSelector(n){const e=Lg(n);return e?We.findOne(e):null},getMultipleElementsFromSelector(n){const e=Lg(n);return e?We.find(e):[]}},pp=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;de.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Lo(this))return;const a=We.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},gD="alert",yD="bs.alert",LC=`.${yD}`,vD=`close${LC}`,_D=`closed${LC}`,wD="fade",ED="show";let MC=class VC extends Ai{static get NAME(){return gD}close(){if(de.trigger(this._element,vD).defaultPrevented)return;this._element.classList.remove(ED);const t=this._element.classList.contains(wD);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),de.trigger(this._element,_D),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=VC.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};pp(MC,"close");ai(MC);const TD="button",ID="bs.button",SD=`.${ID}`,CD=".data-api",bD="active",G0='[data-bs-toggle="button"]',AD=`click${SD}${CD}`;let UC=class $C extends Ai{static get NAME(){return TD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(bD))}static jQueryInterface(e){return this.each(function(){const t=$C.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};de.on(document,AD,G0,n=>{n.preventDefault();const e=n.target.closest(G0);UC.getOrCreateInstance(e).toggle()});ai(UC);const RD="swipe",Nc=".bs.swipe",ND=`touchstart${Nc}`,kD=`touchmove${Nc}`,PD=`touchend${Nc}`,DD=`pointerdown${Nc}`,xD=`pointerup${Nc}`,OD="touch",LD="pen",MD="pointer-event",VD=40,UD={endCallback:null,leftCallback:null,rightCallback:null},$D={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class xh extends gd{constructor(e,t){super(),this._element=e,!(!e||!xh.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return UD}static get DefaultType(){return $D}static get NAME(){return RD}dispose(){de.off(this._element,Nc)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Tr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=VD)return;const t=e/this._deltaX;this._deltaX=0,t&&Tr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(de.on(this._element,DD,e=>this._start(e)),de.on(this._element,xD,e=>this._end(e)),this._element.classList.add(MD)):(de.on(this._element,ND,e=>this._start(e)),de.on(this._element,kD,e=>this._move(e)),de.on(this._element,PD,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===LD||e.pointerType===OD)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const FD="carousel",jD="bs.carousel",Wo=`.${jD}`,FC=".data-api",BD="ArrowLeft",HD="ArrowRight",zD=500,Eu="next",Vl="prev",zl="left",mh="right",WD=`slide${Wo}`,Mg=`slid${Wo}`,qD=`keydown${Wo}`,KD=`mouseenter${Wo}`,GD=`mouseleave${Wo}`,QD=`dragstart${Wo}`,YD=`load${Wo}${FC}`,XD=`click${Wo}${FC}`,jC="carousel",Qf="active",JD="slide",ZD="carousel-item-end",ex="carousel-item-start",tx="carousel-item-next",nx="carousel-item-prev",BC=".active",HC=".carousel-item",rx=BC+HC,ix=".carousel-item img",sx=".carousel-indicators",ox="[data-bs-slide], [data-bs-slide-to]",ax='[data-bs-ride="carousel"]',lx={[BD]:mh,[HD]:zl},cx={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ux={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Bv=class zC extends Ai{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=We.findOne(sx,this._element),this._addEventListeners(),this._config.ride===jC&&this.cycle()}static get Default(){return cx}static get DefaultType(){return ux}static get NAME(){return FD}next(){this._slide(Eu)}nextWhenVisible(){!document.hidden&&Rc(this._element)&&this.next()}prev(){this._slide(Vl)}pause(){this._isSliding&&CC(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){de.one(this._element,Mg,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){de.one(this._element,Mg,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Eu:Vl;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&de.on(this._element,qD,e=>this._keydown(e)),this._config.pause==="hover"&&(de.on(this._element,KD,()=>this.pause()),de.on(this._element,GD,()=>this._maybeEnableCycle())),this._config.touch&&xh.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of We.find(ix,this._element))de.on(r,QD,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(zl)),rightCallback:()=>this._slide(this._directionToOrder(mh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),zD+this._config.interval))}};this._swipeHelper=new xh(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=lx[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=We.findOne(BC,this._indicatorsElement);t.classList.remove(Qf),t.removeAttribute("aria-current");const r=We.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Qf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Eu,a=t||Fv(this._getItems(),r,i,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),u=S=>de.trigger(this._element,S,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(u(WD).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const m=i?ex:ZD,y=i?tx:nx;a.classList.add(y),md(a),r.classList.add(m),a.classList.add(m);const T=()=>{a.classList.remove(m,y),a.classList.add(Qf),r.classList.remove(Qf,y,m),this._isSliding=!1,u(Mg)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(JD)}_getActive(){return We.findOne(rx,this._element)}_getItems(){return We.find(HC,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ii()?e===zl?Vl:Eu:e===zl?Eu:Vl}_orderToDirection(e){return ii()?e===Vl?zl:mh:e===Vl?mh:zl}static jQueryInterface(e){return this.each(function(){const t=zC.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};de.on(document,XD,ox,function(n){const e=We.getElementFromSelector(this);if(!e||!e.classList.contains(jC))return;n.preventDefault();const t=Bv.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Ss.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});de.on(window,YD,()=>{const n=We.find(ax);for(const e of n)Bv.getOrCreateInstance(e)});ai(Bv);const dx="collapse",fx="bs.collapse",yd=`.${fx}`,hx=".data-api",px=`show${yd}`,mx=`shown${yd}`,gx=`hide${yd}`,yx=`hidden${yd}`,vx=`click${yd}${hx}`,Vg="show",Yl="collapse",Yf="collapsing",_x="collapsed",wx=`:scope .${Yl} .${Yl}`,Ex="collapse-horizontal",Tx="width",Ix="height",Sx=".collapse.show, .collapse.collapsing",Cy='[data-bs-toggle="collapse"]',Cx={parent:null,toggle:!0},bx={parent:"(null|element)",toggle:"boolean"};let WC=class by extends Ai{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=We.find(Cy);for(const i of r){const a=We.getSelectorFromElement(i),l=We.find(a).filter(u=>u===this._element);a!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Cx}static get DefaultType(){return bx}static get NAME(){return dx}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Sx).filter(u=>u!==this._element).map(u=>by.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||de.trigger(this._element,px).defaultPrevented)return;for(const u of e)u.hide();const r=this._getDimension();this._element.classList.remove(Yl),this._element.classList.add(Yf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Yf),this._element.classList.add(Yl,Vg),this._element.style[r]="",de.trigger(this._element,mx)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||de.trigger(this._element,gx).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,md(this._element),this._element.classList.add(Yf),this._element.classList.remove(Yl,Vg);for(const i of this._triggerArray){const a=We.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Yf),this._element.classList.add(Yl),de.trigger(this._element,yx)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Vg)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Oo(e.parent),e}_getDimension(){return this._element.classList.contains(Ex)?Tx:Ix}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Cy);for(const t of e){const r=We.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=We.find(wx,this._config.parent);return We.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(_x,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=by.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};de.on(document,vx,Cy,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of We.getMultipleElementsFromSelector(this))WC.getOrCreateInstance(e,{toggle:!1}).toggle()});ai(WC);const Q0="dropdown",Ax="bs.dropdown",Wa=`.${Ax}`,Hv=".data-api",Rx="Escape",Y0="Tab",Nx="ArrowUp",X0="ArrowDown",kx=2,Px=`hide${Wa}`,Dx=`hidden${Wa}`,xx=`show${Wa}`,Ox=`shown${Wa}`,qC=`click${Wa}${Hv}`,KC=`keydown${Wa}${Hv}`,Lx=`keyup${Wa}${Hv}`,Wl="show",Mx="dropup",Vx="dropend",Ux="dropstart",$x="dropup-center",Fx="dropdown-center",Ca='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',jx=`${Ca}.${Wl}`,gh=".dropdown-menu",Bx=".navbar",Hx=".navbar-nav",zx=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Wx=ii()?"top-end":"top-start",qx=ii()?"top-start":"top-end",Kx=ii()?"bottom-end":"bottom-start",Gx=ii()?"bottom-start":"bottom-end",Qx=ii()?"left-start":"right-start",Yx=ii()?"right-start":"left-start",Xx="top",Jx="bottom",Zx={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},eO={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let kc=class yh extends Ai{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=We.next(this._element,gh)[0]||We.prev(this._element,gh)[0]||We.findOne(gh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Zx}static get DefaultType(){return eO}static get NAME(){return Q0}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Lo(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!de.trigger(this._element,xx,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Hx))for(const r of[].concat(...document.body.children))de.on(r,"mouseover",Dh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wl),this._element.classList.add(Wl),de.trigger(this._element,Ox,e)}}hide(){if(Lo(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!de.trigger(this._element,Px,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))de.off(r,"mouseover",Dh);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wl),this._element.classList.remove(Wl),this._element.setAttribute("aria-expanded","false"),Ss.removeDataAttribute(this._menu,"popper"),de.trigger(this._element,Dx,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Is(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Q0.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof IC>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Is(this._config.reference)?e=Oo(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=$v(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Wl)}_getPlacement(){const e=this._parent;if(e.classList.contains(Vx))return Qx;if(e.classList.contains(Ux))return Yx;if(e.classList.contains($x))return Xx;if(e.classList.contains(Fx))return Jx;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Mx)?t?qx:Wx:t?Gx:Kx}_detectNavbar(){return this._element.closest(Bx)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ss.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Tr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=We.find(zx,this._menu).filter(i=>Rc(i));r.length&&Fv(r,t,e===X0,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=yh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===kx||e.type==="keyup"&&e.key!==Y0)return;const t=We.find(jx);for(const r of t){const i=yh.getInstance(r);if(!i||i._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Y0||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:i._element};e.type==="click"&&(u.clickEvent=e),i._completeHide(u)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===Rx,i=[Nx,X0].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const a=this.matches(Ca)?this:We.prev(this,Ca)[0]||We.next(this,Ca)[0]||We.findOne(Ca,e.delegateTarget.parentNode),l=yh.getOrCreateInstance(a);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};de.on(document,KC,Ca,kc.dataApiKeydownHandler);de.on(document,KC,gh,kc.dataApiKeydownHandler);de.on(document,qC,kc.clearMenus);de.on(document,Lx,kc.clearMenus);de.on(document,qC,Ca,function(n){n.preventDefault(),kc.getOrCreateInstance(this).toggle()});ai(kc);const GC="backdrop",tO="fade",J0="show",Z0=`mousedown.bs.${GC}`,nO={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rO={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class QC extends gd{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return nO}static get DefaultType(){return rO}static get NAME(){return GC}show(e){if(!this._config.isVisible){Tr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&md(t),t.classList.add(J0),this._emulateAnimation(()=>{Tr(e)})}hide(e){if(!this._config.isVisible){Tr(e);return}this._getElement().classList.remove(J0),this._emulateAnimation(()=>{this.dispose(),Tr(e)})}dispose(){this._isAppended&&(de.off(this._element,Z0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(tO),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Oo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),de.on(e,Z0,()=>{Tr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){RC(e,this._getElement(),this._config.isAnimated)}}const iO="focustrap",sO="bs.focustrap",Oh=`.${sO}`,oO=`focusin${Oh}`,aO=`keydown.tab${Oh}`,lO="Tab",cO="forward",eT="backward",uO={autofocus:!0,trapElement:null},dO={autofocus:"boolean",trapElement:"element"};class YC extends gd{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return uO}static get DefaultType(){return dO}static get NAME(){return iO}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),de.off(document,Oh),de.on(document,oO,e=>this._handleFocusin(e)),de.on(document,aO,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,de.off(document,Oh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=We.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===eT?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===lO&&(this._lastTabNavDirection=e.shiftKey?eT:cO)}}const tT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",nT=".sticky-top",Xf="padding-right",rT="margin-right";class Ay{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Xf,t=>t+e),this._setElementAttributes(tT,Xf,t=>t+e),this._setElementAttributes(nT,rT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Xf),this._resetElementAttributes(tT,Xf),this._resetElementAttributes(nT,rT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const u=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&Ss.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const a=Ss.getDataAttribute(i,t);if(a===null){i.style.removeProperty(t);return}Ss.removeDataAttribute(i,t),i.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Is(e)){t(e);return}for(const r of We.find(e,this._element))t(r)}}const fO="modal",hO="bs.modal",si=`.${hO}`,pO=".data-api",mO="Escape",gO=`hide${si}`,yO=`hidePrevented${si}`,XC=`hidden${si}`,JC=`show${si}`,vO=`shown${si}`,_O=`resize${si}`,wO=`click.dismiss${si}`,EO=`mousedown.dismiss${si}`,TO=`keydown.dismiss${si}`,IO=`click${si}${pO}`,iT="modal-open",SO="fade",sT="show",Ug="modal-static",CO=".modal.show",bO=".modal-dialog",AO=".modal-body",RO='[data-bs-toggle="modal"]',NO={backdrop:!0,focus:!0,keyboard:!0},kO={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Lh=class ZC extends Ai{constructor(e,t){super(e,t),this._dialog=We.findOne(bO,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ay,this._addEventListeners()}static get Default(){return NO}static get DefaultType(){return kO}static get NAME(){return fO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||de.trigger(this._element,JC,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(iT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||de.trigger(this._element,gO).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(sT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){de.off(window,si),de.off(this._dialog,si),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new QC({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new YC({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=We.findOne(AO,this._dialog);t&&(t.scrollTop=0),md(this._element),this._element.classList.add(sT);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,de.trigger(this._element,vO,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){de.on(this._element,TO,e=>{if(e.key===mO){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),de.on(window,_O,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),de.on(this._element,EO,e=>{de.one(this._element,wO,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(iT),this._resetAdjustments(),this._scrollBar.reset(),de.trigger(this._element,XC)})}_isAnimated(){return this._element.classList.contains(SO)}_triggerBackdropTransition(){if(de.trigger(this._element,yO).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Ug)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Ug),this._queueCallback(()=>{this._element.classList.remove(Ug),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=ii()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=ii()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=ZC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};de.on(document,IO,RO,function(n){const e=We.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),de.one(e,JC,i=>{i.defaultPrevented||de.one(e,XC,()=>{Rc(this)&&this.focus()})});const t=We.findOne(CO);t&&Lh.getInstance(t).hide(),Lh.getOrCreateInstance(e).toggle(this)});pp(Lh);ai(Lh);const PO="offcanvas",DO="bs.offcanvas",$s=`.${DO}`,eb=".data-api",xO=`load${$s}${eb}`,OO="Escape",oT="show",aT="showing",lT="hiding",LO="offcanvas-backdrop",tb=".offcanvas.show",MO=`show${$s}`,VO=`shown${$s}`,UO=`hide${$s}`,cT=`hidePrevented${$s}`,nb=`hidden${$s}`,$O=`resize${$s}`,FO=`click${$s}${eb}`,jO=`keydown.dismiss${$s}`,BO='[data-bs-toggle="offcanvas"]',HO={backdrop:!0,keyboard:!0,scroll:!1},zO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let lc=class rb extends Ai{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return HO}static get DefaultType(){return zO}static get NAME(){return PO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||de.trigger(this._element,MO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ay().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(aT);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(oT),this._element.classList.remove(aT),de.trigger(this._element,VO,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||de.trigger(this._element,UO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(lT),this._backdrop.hide();const t=()=>{this._element.classList.remove(oT,lT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ay().reset(),de.trigger(this._element,nb)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){de.trigger(this._element,cT);return}this.hide()},t=!!this._config.backdrop;return new QC({className:LO,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new YC({trapElement:this._element})}_addEventListeners(){de.on(this._element,jO,e=>{if(e.key===OO){if(this._config.keyboard){this.hide();return}de.trigger(this._element,cT)}})}static jQueryInterface(e){return this.each(function(){const t=rb.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};de.on(document,FO,BO,function(n){const e=We.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Lo(this))return;de.one(e,nb,()=>{Rc(this)&&this.focus()});const t=We.findOne(tb);t&&t!==e&&lc.getInstance(t).hide(),lc.getOrCreateInstance(e).toggle(this)});de.on(window,xO,()=>{for(const n of We.find(tb))lc.getOrCreateInstance(n).show()});de.on(window,$O,()=>{for(const n of We.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&lc.getOrCreateInstance(n).hide()});pp(lc);ai(lc);const WO=/^aria-[\w-]*$/i,ib={"*":["class","dir","id","lang","role",WO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),KO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,GO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?qO.has(t)?!!KO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function QO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const l of a){const u=l.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){l.remove();continue}const f=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[u]||[]);for(const m of f)GO(m,p)||l.removeAttribute(m.nodeName)}return i.body.innerHTML}const YO="TemplateFactory",XO={allowList:ib,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},JO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ZO={entry:"(string|element|function|null)",selector:"(string|element)"};class eL extends gd{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return XO}static get DefaultType(){return JO}static get NAME(){return YO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},ZO)}_setContent(e,t,r){const i=We.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Is(t)){this._putElementInTemplate(Oo(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?QO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Tr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const tL="tooltip",nL=new Set(["sanitize","allowList","sanitizeFn"]),$g="fade",rL="modal",Jf="show",iL=".tooltip-inner",uT=`.${rL}`,dT="hide.bs.modal",Tu="hover",Fg="focus",sL="click",oL="manual",aL="hide",lL="hidden",cL="show",uL="shown",dL="inserted",fL="click",hL="focusin",pL="focusout",mL="mouseenter",gL="mouseleave",yL={AUTO:"auto",TOP:"top",RIGHT:ii()?"left":"right",BOTTOM:"bottom",LEFT:ii()?"right":"left"},vL={allowList:ib,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},_L={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let mp=class sb extends Ai{constructor(e,t){if(typeof IC>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return vL}static get DefaultType(){return _L}static get NAME(){return tL}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),de.off(this._element.closest(uT),dT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=de.trigger(this._element,this.constructor.eventName(cL)),r=(bC(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),de.trigger(this._element,this.constructor.eventName(dL))),this._popper=this._createPopper(i),i.classList.add(Jf),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))de.on(u,"mouseover",Dh);const l=()=>{de.trigger(this._element,this.constructor.eventName(uL)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||de.trigger(this._element,this.constructor.eventName(aL)).defaultPrevented)return;if(this._getTipElement().classList.remove(Jf),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))de.off(i,"mouseover",Dh);this._activeTrigger[sL]=!1,this._activeTrigger[Fg]=!1,this._activeTrigger[Tu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),de.trigger(this._element,this.constructor.eventName(lL)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove($g,Jf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=sD(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add($g),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new eL({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[iL]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains($g)}_isShown(){return this.tip&&this.tip.classList.contains(Jf)}_createPopper(e){const t=Tr(this._config.placement,[this,e,this._element]),r=yL[t.toUpperCase()];return $v(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Tr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...Tr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")de.on(this._element,this.constructor.eventName(fL),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==oL){const r=t===Tu?this.constructor.eventName(mL):this.constructor.eventName(hL),i=t===Tu?this.constructor.eventName(gL):this.constructor.eventName(pL);de.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?Fg:Tu]=!0,l._enter()}),de.on(this._element,i,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?Fg:Tu]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},de.on(this._element.closest(uT),dT,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Ss.getDataAttributes(this._element);for(const r of Object.keys(t))nL.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Oo(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=sb.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ai(mp);const wL="popover",EL=".popover-header",TL=".popover-body",IL={...mp.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},SL={...mp.DefaultType,content:"(null|string|element|function)"};let CL=class ob extends mp{static get Default(){return IL}static get DefaultType(){return SL}static get NAME(){return wL}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[EL]:this._getTitle(),[TL]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=ob.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ai(CL);const bL="scrollspy",AL="bs.scrollspy",zv=`.${AL}`,RL=".data-api",NL=`activate${zv}`,fT=`click${zv}`,kL=`load${zv}${RL}`,PL="dropdown-item",Ul="active",DL='[data-bs-spy="scroll"]',jg="[href]",xL=".nav, .list-group",hT=".nav-link",OL=".nav-item",LL=".list-group-item",ML=`${hT}, ${OL} > ${hT}, ${LL}`,VL=".dropdown",UL=".dropdown-toggle",$L={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},FL={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class gp extends Ai{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $L}static get DefaultType(){return FL}static get NAME(){return bL}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Oo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(de.off(this._config.target,fT),de.on(this._config.target,fT,jg,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const u=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&u){if(r(l),!i)return;continue}!a&&!u&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=We.find(jg,this._config.target);for(const t of e){if(!t.hash||Lo(t))continue;const r=We.findOne(decodeURI(t.hash),this._element);Rc(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ul),this._activateParents(e),de.trigger(this._element,NL,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(PL)){We.findOne(UL,e.closest(VL)).classList.add(Ul);return}for(const t of We.parents(e,xL))for(const r of We.prev(t,ML))r.classList.add(Ul)}_clearActiveClass(e){e.classList.remove(Ul);const t=We.find(`${jg}.${Ul}`,e);for(const r of t)r.classList.remove(Ul)}static jQueryInterface(e){return this.each(function(){const t=gp.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(window,kL,()=>{for(const n of We.find(DL))gp.getOrCreateInstance(n)});ai(gp);const jL="tab",BL="bs.tab",qa=`.${BL}`,HL=`hide${qa}`,zL=`hidden${qa}`,WL=`show${qa}`,qL=`shown${qa}`,KL=`click${qa}`,GL=`keydown${qa}`,QL=`load${qa}`,YL="ArrowLeft",pT="ArrowRight",XL="ArrowUp",mT="ArrowDown",Bg="Home",gT="End",ba="active",yT="fade",Hg="show",JL="dropdown",ab=".dropdown-toggle",ZL=".dropdown-menu",zg=`:not(${ab})`,eM='.list-group, .nav, [role="tablist"]',tM=".nav-item, .list-group-item",nM=`.nav-link${zg}, .list-group-item${zg}, [role="tab"]${zg}`,lb='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Wg=`${nM}, ${lb}`,rM=`.${ba}[data-bs-toggle="tab"], .${ba}[data-bs-toggle="pill"], .${ba}[data-bs-toggle="list"]`;class cc extends Ai{constructor(e){super(e),this._parent=this._element.closest(eM),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),de.on(this._element,GL,t=>this._keydown(t)))}static get NAME(){return jL}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?de.trigger(t,HL,{relatedTarget:e}):null;de.trigger(e,WL,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ba),this._activate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Hg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),de.trigger(e,qL,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(yT))}_deactivate(e,t){if(!e)return;e.classList.remove(ba),e.blur(),this._deactivate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Hg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),de.trigger(e,zL,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(yT))}_keydown(e){if(![YL,pT,XL,mT,Bg,gT].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!Lo(i));let r;if([Bg,gT].includes(e.key))r=t[e.key===Bg?0:t.length-1];else{const i=[pT,mT].includes(e.key);r=Fv(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),cc.getOrCreateInstance(r).show())}_getChildren(){return We.find(Wg,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=We.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(JL))return;const i=(a,l)=>{const u=We.findOne(a,r);u&&u.classList.toggle(l,t)};i(ab,ba),i(ZL,Hg),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ba)}_getInnerElement(e){return e.matches(Wg)?e:We.findOne(Wg,e)}_getOuterElement(e){return e.closest(tM)||e}static jQueryInterface(e){return this.each(function(){const t=cc.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(document,KL,lb,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Lo(this)&&cc.getOrCreateInstance(this).show()});de.on(window,QL,()=>{for(const n of We.find(rM))cc.getOrCreateInstance(n)});ai(cc);const iM="toast",sM="bs.toast",qo=`.${sM}`,oM=`mouseover${qo}`,aM=`mouseout${qo}`,lM=`focusin${qo}`,cM=`focusout${qo}`,uM=`hide${qo}`,dM=`hidden${qo}`,fM=`show${qo}`,hM=`shown${qo}`,pM="fade",vT="hide",Zf="show",eh="showing",mM={animation:"boolean",autohide:"boolean",delay:"number"},gM={animation:!0,autohide:!0,delay:5e3};class yp extends Ai{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return gM}static get DefaultType(){return mM}static get NAME(){return iM}show(){if(de.trigger(this._element,fM).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(pM);const t=()=>{this._element.classList.remove(eh),de.trigger(this._element,hM),this._maybeScheduleHide()};this._element.classList.remove(vT),md(this._element),this._element.classList.add(Zf,eh),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||de.trigger(this._element,uM).defaultPrevented)return;const t=()=>{this._element.classList.add(vT),this._element.classList.remove(eh,Zf),de.trigger(this._element,dM)};this._element.classList.add(eh),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Zf),super.dispose()}isShown(){return this._element.classList.contains(Zf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){de.on(this._element,oM,e=>this._onInteraction(e,!0)),de.on(this._element,aM,e=>this._onInteraction(e,!1)),de.on(this._element,lM,e=>this._onInteraction(e,!0)),de.on(this._element,cM,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=yp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}pp(yp);ai(yp);var qg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var _T;function yM(){return _T||(_T=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=i(a,r(u)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)e.call(a,u)&&a[u]&&(l=i(l,u));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(qg)),qg.exports}var vM=yM();const ye=fd(vM);function Ry(){return Ry=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ry.apply(null,arguments)}function cb(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function wT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function _M(n){var e=wM(n,"string");return typeof e=="symbol"?e:String(e)}function wM(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ub(n,e,t){var r=E.useRef(n!==void 0),i=E.useState(e),a=i[0],l=i[1],u=n!==void 0,f=r.current;return r.current=u,!u&&f&&a!==e&&l(e),[u?n:a,E.useCallback(function(p){for(var m=arguments.length,y=new Array(m>1?m-1:0),T=1;T<m;T++)y[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(y)),l(p)},[t])]}function Ka(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[wT(r)],u=a[r],f=cb(a,[wT(r),r].map(_M)),p=e[r],m=ub(u,l,n[p]),y=m[0],T=m[1];return Ry({},f,(i={},i[r]=y,i[p]=T,i))},n)}function Ny(n,e){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ny(n,e)}function EM(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ny(n,e)}var Kg={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function TM(){if(ET)return Iu;ET=1;var n=Sv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,p){var m,y={},T=null,S=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(y[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:u,key:T,ref:S,props:y,_owner:i.current}}return Iu.Fragment=t,Iu.jsx=l,Iu.jsxs=l,Iu}var TT;function IM(){return TT||(TT=1,Kg.exports=TM()),Kg.exports}var Wv=IM();const w=Wv.jsx,X=Wv.jsxs,zt=Wv.Fragment,SM=["xxl","xl","lg","md","sm","xs"],CM="xs",vd=E.createContext({prefixes:{},breakpoints:SM,minBreakpoint:CM}),{Consumer:yz,Provider:vz}=vd;function Ee(n,e){const{prefixes:t}=E.useContext(vd);return n||t[e]||e}function db(){const{breakpoints:n}=E.useContext(vd);return n}function fb(){const{minBreakpoint:n}=E.useContext(vd);return n}function _d(){const{dir:n}=E.useContext(vd);return n==="rtl"}function Pc(n){return n&&n.ownerDocument||document}function bM(n){var e=Pc(n);return e&&e.defaultView||window}function AM(n,e){return bM(n).getComputedStyle(n,e)}var RM=/([A-Z])/g;function NM(n){return n.replace(RM,"-$1").toLowerCase()}var kM=/^ms-/;function th(n){return NM(n).replace(kM,"-ms-")}var PM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function DM(n){return!!(n&&PM.test(n))}function Cs(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(th(e))||AM(n).getPropertyValue(th(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(th(i)):DM(i)?r+=i+"("+a+") ":t+=th(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var Gg={exports:{}},Qg,IT;function xM(){if(IT)return Qg;IT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qg=n,Qg}var Yg,ST;function OM(){if(ST)return Yg;ST=1;var n=xM();function e(){}function t(){}return t.resetWarningCache=e,Yg=function(){function r(l,u,f,p,m,y){if(y!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Yg}var CT;function LM(){return CT||(CT=1,Gg.exports=OM()()),Gg.exports}var MM=LM();const ir=fd(MM);var hb=rC();const So=fd(hb),VM=nC({__proto__:null,default:So},[hb]),bT={disabled:!1},pb=nt.createContext(null);var UM=function(e){return e.scrollTop},Pu="unmounted",_o="exited",Ii="entering",vs="entered",Qu="exiting",Fs=function(n){EM(e,n);function e(r,i){var a;a=n.call(this,r,i)||this;var l=i,u=l&&!l.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?u?(f=_o,a.appearStatus=Ii):f=vs:r.unmountOnExit||r.mountOnEnter?f=Pu:f=_o,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Pu?{status:_o}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ii&&l!==vs&&(a=Ii):(l===Ii||l===vs)&&(a=Qu)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,l,u;return a=l=u=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:u}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Ii){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:So.findDOMNode(this);l&&UM(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_o&&this.setState({status:Pu})},t.performEnter=function(i){var a=this,l=this.props.enter,u=this.context?this.context.isMounting:i,f=this.props.nodeRef?[u]:[So.findDOMNode(this),u],p=f[0],m=f[1],y=this.getTimeouts(),T=u?y.appear:y.enter;if(!i&&!l||bT.disabled){this.safeSetState({status:vs},function(){a.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:Ii},function(){a.props.onEntering(p,m),a.onTransitionEnd(T,function(){a.safeSetState({status:vs},function(){a.props.onEntered(p,m)})})})},t.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:So.findDOMNode(this);if(!a||bT.disabled){this.safeSetState({status:_o},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Qu},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:_o},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,a.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:So.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],m=f[1];this.props.addEndListener(p,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Pu)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=cb(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nt.createElement(pb.Provider,{value:null},typeof l=="function"?l(i,u):nt.cloneElement(nt.Children.only(l),u))},e}(nt.Component);Fs.contextType=pb;Fs.propTypes={};function $l(){}Fs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$l,onEntering:$l,onEntered:$l,onExit:$l,onExiting:$l,onExited:$l};Fs.UNMOUNTED=Pu;Fs.EXITED=_o;Fs.ENTERING=Ii;Fs.ENTERED=vs;Fs.EXITING=Qu;function mb(n){return n.code==="Escape"||n.keyCode===27}function $M(){const n=E.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Ga(n){if(!n||typeof n=="function")return null;const{major:e}=$M();return e>=19?n.props.ref:n.ref}const Dc=!!(typeof window<"u"&&window.document&&window.document.createElement);var ky=!1,Py=!1;try{var Xg={get passive(){return ky=!0},get once(){return Py=ky=!0}};Dc&&(window.addEventListener("test",Xg,Xg),window.removeEventListener("test",Xg,!0))}catch{}function qv(n,e,t,r){if(r&&typeof r!="boolean"&&!Py){var i=r.once,a=r.capture,l=t;!Py&&i&&(l=t.__once||function u(f){this.removeEventListener(e,u,a),t.call(this,f)},t.__once=l),n.addEventListener(e,l,ky?r:a)}n.addEventListener(e,t,r)}function Dy(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function _s(n,e,t,r){return qv(n,e,t,r),function(){Dy(n,e,t,r)}}function FM(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function jM(n){var e=Cs(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function BM(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||FM(n,"transitionend",!0)},e+t),a=_s(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function gb(n,e,t,r){t==null&&(t=jM(n)||0);var i=BM(n,t,r),a=_s(n,"transitionend",e);return function(){i(),a()}}function AT(n,e){const t=Cs(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function vp(n,e){const t=AT(n,"transitionDuration"),r=AT(n,"transitionDelay"),i=gb(n,a=>{a.target===n&&(i(),e(a))},t+r)}function Su(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function Kv(n){n.offsetHeight}const RT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function HM(n,e){const t=RT(n),r=RT(e);return i=>{t&&t(i),r&&r(i)}}function xc(n,e){return E.useMemo(()=>HM(n,e),[n,e])}function Mh(n){return n&&"setState"in n?So.findDOMNode(n):n??null}const _p=nt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:u,childRef:f,...p},m)=>{const y=E.useRef(null),T=xc(y,f),S=G=>{T(Mh(G))},N=G=>C=>{G&&y.current&&G(y.current,C)},k=E.useCallback(N(n),[n]),R=E.useCallback(N(e),[e]),x=E.useCallback(N(t),[t]),L=E.useCallback(N(r),[r]),V=E.useCallback(N(i),[i]),j=E.useCallback(N(a),[a]),q=E.useCallback(N(l),[l]);return w(Fs,{ref:m,...p,onEnter:k,onEntered:x,onEntering:R,onExit:L,onExited:j,onExiting:V,addEndListener:q,nodeRef:y,children:typeof u=="function"?(G,C)=>u(G,{...C,ref:S}):nt.cloneElement(u,{ref:S})})}),zM={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function WM(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=zM[n];return r+parseInt(Cs(e,i[0]),10)+parseInt(Cs(e,i[1]),10)}const qM={[_o]:"collapse",[Qu]:"collapsing",[Ii]:"collapsing",[vs]:"collapse show"},yb=nt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:a,children:l,dimension:u="height",in:f=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:T=!1,getDimensionValue:S=WM,...N},k)=>{const R=typeof u=="function"?u():u,x=E.useMemo(()=>Su(G=>{G.style[R]="0"},n),[R,n]),L=E.useMemo(()=>Su(G=>{const C=`scroll${R[0].toUpperCase()}${R.slice(1)}`;G.style[R]=`${G[C]}px`},e),[R,e]),V=E.useMemo(()=>Su(G=>{G.style[R]=null},t),[R,t]),j=E.useMemo(()=>Su(G=>{G.style[R]=`${S(R,G)}px`,Kv(G)},r),[r,S,R]),q=E.useMemo(()=>Su(G=>{G.style[R]=null},i),[R,i]);return w(_p,{ref:k,addEndListener:vp,...N,"aria-expanded":N.role?f:null,onEnter:x,onEntering:L,onEntered:V,onExit:j,onExiting:q,childRef:Ga(l),in:f,timeout:p,mountOnEnter:m,unmountOnExit:y,appear:T,children:(G,C)=>nt.cloneElement(l,{...C,className:ye(a,l.props.className,qM[G],R==="width"&&"collapse-horizontal")})})});function vb(n,e){return Array.isArray(n)?n.includes(e):n===e}const wd=E.createContext({});wd.displayName="AccordionContext";const Gv=E.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...a},l)=>{const{activeEventKey:u}=E.useContext(wd);return e=Ee(e,"accordion-collapse"),w(yb,{ref:l,in:vb(u,i),...a,className:ye(t,e),children:w(n,{children:E.Children.only(r)})})});Gv.displayName="AccordionCollapse";const wp=E.createContext({eventKey:""});wp.displayName="AccordionItemContext";const _b=E.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:u,onExited:f,...p},m)=>{e=Ee(e,"accordion-body");const{eventKey:y}=E.useContext(wp);return w(Gv,{eventKey:y,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:u,onExited:f,children:w(n,{ref:m,...p,className:ye(t,e)})})});_b.displayName="AccordionBody";function KM(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=E.useContext(wd);return a=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(u=>u!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const Qv=E.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},a)=>{e=Ee(e,"accordion-button");const{eventKey:l}=E.useContext(wp),u=KM(l,r),{activeEventKey:f}=E.useContext(wd);return n==="button"&&(i.type="button"),w(n,{ref:a,onClick:u,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:ye(t,e,!vb(f,l)&&"collapsed")})});Qv.displayName="AccordionButton";const wb=E.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:a,...l},u)=>(t=Ee(t,"accordion-header"),w(n,{ref:u,...l,className:ye(r,t),children:w(Qv,{onClick:a,"aria-controls":e,children:i})})));wb.displayName="AccordionHeader";const Eb=E.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},a)=>{e=Ee(e,"accordion-item");const l=E.useMemo(()=>({eventKey:r}),[r]);return w(wp.Provider,{value:l,children:w(n,{ref:a,...i,className:ye(t,e)})})});Eb.displayName="AccordionItem";const Tb=E.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:u,alwaysOpen:f,...p}=Ka(n,{activeKey:"onSelect"}),m=Ee(i,"accordion"),y=E.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return w(wd.Provider,{value:y,children:w(t,{ref:e,...p,className:ye(a,m,u&&`${m}-flush`)})})});Tb.displayName="Accordion";const Co=Object.assign(Tb,{Button:Qv,Collapse:Gv,Item:Eb,Header:wb,Body:_b});function Ib(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n},[n]),e}function oi(n){const e=Ib(n);return E.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Ed=n=>E.forwardRef((e,t)=>w("div",{...e,ref:t,className:ye(e.className,n)})),Sb=Ed("h4");Sb.displayName="DivStyledAsH4";const Cb=E.forwardRef(({className:n,bsPrefix:e,as:t=Sb,...r},i)=>(e=Ee(e,"alert-heading"),w(t,{ref:i,className:ye(n,e),...r})));Cb.displayName="AlertHeading";function xy(){return E.useState(null)}function GM(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n},[n]),e}function On(n){const e=GM(n);return E.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function QM(n,e,t,r=!1){const i=On(t);E.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}function bb(){const n=E.useRef(!0),e=E.useRef(()=>n.current);return E.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Ab(n){const e=E.useRef(null);return E.useEffect(()=>{e.current=n}),e.current}const YM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",XM=typeof document<"u",NT=XM||YM?E.useLayoutEffect:E.useEffect,JM=["as","disabled"];function ZM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function e2(n){return!n||n.trim()==="#"}function Yv({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:u=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const m=T=>{if((e||n==="a"&&e2(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},y=T=>{T.key===" "&&(T.preventDefault(),m(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:m,onKeyDown:y},p]}const Xv=E.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=ZM(n,JM);const[a,{tagName:l}]=Yv(Object.assign({tagName:t,disabled:r},i));return w(l,Object.assign({},i,a,{ref:e}))});Xv.displayName="Button";const t2=["onKeyDown"];function n2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function r2(n){return!n||n.trim()==="#"}const uc=E.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=n2(n,t2);const[i]=Yv(Object.assign({tagName:"a"},r)),a=On(l=>{i.onKeyDown(l),t==null||t(l)});return r2(r.href)||r.role==="button"?w("a",Object.assign({ref:e},r,i,{onKeyDown:a})):w("a",Object.assign({ref:e},r,{onKeyDown:t}))});uc.displayName="Anchor";const Rb=E.forwardRef(({className:n,bsPrefix:e,as:t=uc,...r},i)=>(e=Ee(e,"alert-link"),w(t,{ref:i,className:ye(n,e),...r})));Rb.displayName="AlertLink";const i2={[Ii]:"show",[vs]:"show"},Mo=E.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},u=E.useCallback((f,p)=>{Kv(f),r==null||r(f,p)},[r]);return w(_p,{ref:a,addEndListener:vp,...l,onEnter:u,childRef:Ga(e),children:(f,p)=>E.cloneElement(e,{...p,className:ye("fade",n,e.props.className,i2[f],t[f])})})});Mo.displayName="Fade";const s2={"aria-label":ir.string,onClick:ir.func,variant:ir.oneOf(["white"])},Oc=E.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>w("button",{ref:i,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Oc.displayName="CloseButton";Oc.propTypes=s2;const Nb=E.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:l,children:u,variant:f="primary",onClose:p,dismissible:m,transition:y=Mo,...T}=Ka(n,{show:"onClose"}),S=Ee(t,"alert"),N=oi(x=>{p&&p(!1,x)}),k=y===!0?Mo:y,R=X("div",{role:"alert",...k?void 0:T,ref:e,className:ye(l,S,f&&`${S}-${f}`,m&&`${S}-dismissible`),children:[m&&w(Oc,{onClick:N,"aria-label":i,variant:a}),u]});return k?w(k,{unmountOnExit:!0,...T,ref:void 0,in:r,children:R}):r?R:null});Nb.displayName="Alert";const dc=Object.assign(Nb,{Link:Rb,Heading:Cb}),en=E.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...u},f)=>{const p=Ee(e,"btn"),[m,{tagName:y}]=Yv({tagName:n,disabled:a,...u});return w(y,{...m,...u,ref:f,disabled:a,className:ye(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,u.href&&a&&"disabled")})});en.displayName="Button";const Jv=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-body"),w(t,{ref:i,className:ye(n,e),...r})));Jv.displayName="CardBody";const kb=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-footer"),w(t,{ref:i,className:ye(n,e),...r})));kb.displayName="CardFooter";const Zv=E.createContext(null);Zv.displayName="CardHeaderContext";const Pb=E.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=Ee(n,"card-header"),l=E.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return w(Zv.Provider,{value:l,children:w(t,{ref:i,...r,className:ye(e,a)})})});Pb.displayName="CardHeader";const Db=E.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=Ee(n,"card-img");return w(r,{ref:a,className:ye(t?`${l}-${t}`:l,e),...i})});Db.displayName="CardImg";const xb=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-img-overlay"),w(t,{ref:i,className:ye(n,e),...r})));xb.displayName="CardImgOverlay";const Ob=E.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=Ee(e,"card-link"),w(t,{ref:i,className:ye(n,e),...r})));Ob.displayName="CardLink";const o2=Ed("h6"),Lb=E.forwardRef(({className:n,bsPrefix:e,as:t=o2,...r},i)=>(e=Ee(e,"card-subtitle"),w(t,{ref:i,className:ye(n,e),...r})));Lb.displayName="CardSubtitle";const Mb=E.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=Ee(e,"card-text"),w(t,{ref:i,className:ye(n,e),...r})));Mb.displayName="CardText";const a2=Ed("h5"),Vb=E.forwardRef(({className:n,bsPrefix:e,as:t=a2,...r},i)=>(e=Ee(e,"card-title"),w(t,{ref:i,className:ye(n,e),...r})));Vb.displayName="CardTitle";const Ub=E.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:u="div",...f},p)=>{const m=Ee(n,"card");return w(u,{ref:p,...f,className:ye(e,m,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?w(Jv,{children:l}):l})});Ub.displayName="Card";const gs=Object.assign(Ub,{Img:Db,Title:Vb,Subtitle:Lb,Body:Jv,Link:Ob,Text:Mb,Header:Pb,Footer:kb,ImgOverlay:xb});function l2(n,e){const t=E.useRef(!0);E.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function c2(){const n=E.useRef(!0),e=E.useRef(()=>n.current);return E.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function u2(n){const e=E.useRef(n);return e.current=n,e}function $b(n){const e=u2(n);E.useEffect(()=>()=>e.current(),[])}const Oy=2**31-1;function Fb(n,e,t){const r=t-Date.now();n.current=r<=Oy?setTimeout(e,r):setTimeout(()=>Fb(n,e,t),Oy)}function jb(){const n=c2(),e=E.useRef();return $b(()=>clearTimeout(e.current)),E.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,a=0){n()&&(t(),a<=Oy?e.current=setTimeout(i,a):Fb(e,i,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const Bb=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"carousel-caption"),w(t,{ref:i,className:ye(n,e),...r})));Bb.displayName="CarouselCaption";const Hb=E.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},i)=>{const a=ye(t,Ee(e,"carousel-item"));return w(n,{ref:i,...r,className:a})});Hb.displayName="CarouselItem";function kT(n,e){let t=0;return E.Children.map(n,r=>E.isValidElement(r)?e(r,t++):r)}function d2(n,e){let t=0;E.Children.forEach(n,r=>{E.isValidElement(r)&&e(r,t++)})}function f2(n,e){return E.Children.toArray(n).some(t=>E.isValidElement(t)&&t.type===e)}const h2=40;function p2(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const zb=E.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:i,slide:a=!0,fade:l=!1,controls:u=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:m,onSelect:y,onSlide:T,onSlid:S,interval:N=5e3,keyboard:k=!0,onKeyDown:R,pause:x="hover",onMouseOver:L,onMouseOut:V,wrap:j=!0,touch:q=!0,onTouchStart:G,onTouchMove:C,onTouchEnd:b,prevIcon:P=w("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:M="Previous",nextIcon:U=w("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:F="Next",variant:O,className:we,children:ke,...je}=Ka({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Se=Ee(i,"carousel"),re=_d(),me=E.useRef(null),[ce,z]=E.useState("next"),[te,pe]=E.useState(!1),[ve,Ie]=E.useState(!1),[Ae,Ge]=E.useState(m||0);E.useEffect(()=>{!ve&&m!==Ae&&(me.current?z(me.current):z((m||0)>Ae?"next":"prev"),a&&Ie(!0),Ge(m||0))},[m,ve,Ae,a]),E.useEffect(()=>{me.current&&(me.current=null)});let Be=0,ot;d2(ke,(ze,at)=>{++Be,at===m&&(ot=ze.props.interval)});const Tt=Ib(ot),Ct=E.useCallback(ze=>{if(ve)return;let at=Ae-1;if(at<0){if(!j)return;at=Be-1}me.current="prev",y==null||y(at,ze)},[ve,Ae,y,j,Be]),st=oi(ze=>{if(ve)return;let at=Ae+1;if(at>=Be){if(!j)return;at=0}me.current="next",y==null||y(at,ze)}),Dt=E.useRef();E.useImperativeHandle(t,()=>({element:Dt.current,prev:Ct,next:st}));const Xt=oi(()=>{!document.hidden&&p2(Dt.current)&&(re?Ct():st())}),it=ce==="next"?"start":"end";l2(()=>{a||(T==null||T(Ae,it),S==null||S(Ae,it))},[Ae]);const Wt=`${Se}-item-${ce}`,_n=`${Se}-item-${it}`,Br=E.useCallback(ze=>{Kv(ze),T==null||T(Ae,it)},[T,Ae,it]),Xn=E.useCallback(()=>{Ie(!1),S==null||S(Ae,it)},[S,Ae,it]),qt=E.useCallback(ze=>{if(k&&!/input|textarea/i.test(ze.target.tagName))switch(ze.key){case"ArrowLeft":ze.preventDefault(),re?st(ze):Ct(ze);return;case"ArrowRight":ze.preventDefault(),re?Ct(ze):st(ze);return}R==null||R(ze)},[k,R,Ct,st,re]),sn=E.useCallback(ze=>{x==="hover"&&pe(!0),L==null||L(ze)},[x,L]),lr=E.useCallback(ze=>{pe(!1),V==null||V(ze)},[V]),Un=E.useRef(0),Lt=E.useRef(0),hn=jb(),$e=E.useCallback(ze=>{Un.current=ze.touches[0].clientX,Lt.current=0,x==="hover"&&pe(!0),G==null||G(ze)},[x,G]),gt=E.useCallback(ze=>{ze.touches&&ze.touches.length>1?Lt.current=0:Lt.current=ze.touches[0].clientX-Un.current,C==null||C(ze)},[C]),Mt=E.useCallback(ze=>{if(q){const at=Lt.current;Math.abs(at)>h2&&(at>0?Ct(ze):st(ze))}x==="hover"&&hn.set(()=>{pe(!1)},N||void 0),b==null||b(ze)},[q,x,Ct,st,hn,N,b]),wn=N!=null&&!te&&!ve,Jn=E.useRef();E.useEffect(()=>{var ze,at;if(!wn)return;const En=re?Ct:st;return Jn.current=window.setInterval(document.visibilityState?Xt:En,(ze=(at=Tt.current)!=null?at:N)!=null?ze:void 0),()=>{Jn.current!==null&&clearInterval(Jn.current)}},[wn,Ct,st,Tt,N,Xt,re]);const Zn=E.useMemo(()=>f&&Array.from({length:Be},(ze,at)=>En=>{y==null||y(at,En)}),[f,Be,y]);return X(r,{ref:Dt,...je,onKeyDown:qt,onMouseOver:sn,onMouseOut:lr,onTouchStart:$e,onTouchMove:gt,onTouchEnd:Mt,className:ye(we,Se,a&&"slide",l&&`${Se}-fade`,O&&`${Se}-${O}`),children:[f&&w("div",{className:`${Se}-indicators`,children:kT(ke,(ze,at)=>w("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[at]:`Slide ${at+1}`,className:at===Ae?"active":void 0,onClick:Zn?Zn[at]:void 0,"aria-current":at===Ae},at))}),w("div",{className:`${Se}-inner`,children:kT(ke,(ze,at)=>{const En=at===Ae;return a?w(_p,{in:En,onEnter:En?Br:void 0,onEntered:En?Xn:void 0,addEndListener:vp,children:(cr,Ri)=>E.cloneElement(ze,{...Ri,className:ye(ze.props.className,En&&cr!=="entered"&&Wt,(cr==="entered"||cr==="exiting")&&"active",(cr==="entering"||cr==="exiting")&&_n)})}):E.cloneElement(ze,{className:ye(ze.props.className,En&&"active")})})}),u&&X(zt,{children:[(j||m!==0)&&X(uc,{className:`${Se}-control-prev`,onClick:Ct,children:[P,M&&w("span",{className:"visually-hidden",children:M})]}),(j||m!==Be-1)&&X(uc,{className:`${Se}-control-next`,onClick:st,children:[U,F&&w("span",{className:"visually-hidden",children:F})]})]})]})});zb.displayName="Carousel";const PT=Object.assign(zb,{Caption:Bb,Item:Hb});function m2({as:n,bsPrefix:e,className:t,...r}){e=Ee(e,"col");const i=db(),a=fb(),l=[],u=[];return i.forEach(f=>{const p=r[f];delete r[f];let m,y,T;typeof p=="object"&&p!=null?{span:m,offset:y,order:T}=p:m=p;const S=f!==a?`-${f}`:"";m&&l.push(m===!0?`${e}${S}`:`${e}${S}-${m}`),T!=null&&u.push(`order${S}-${T}`),y!=null&&u.push(`offset${S}-${y}`)}),[{...r,className:ye(t,...l,...u)},{as:n,bsPrefix:e,spans:l}]}const Mn=E.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:a,spans:l}]=m2(n);return w(i,{...r,ref:e,className:ye(t,!l.length&&a)})});Mn.displayName="Col";const Zi=E.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},a)=>{const l=Ee(n,"container"),u=typeof e=="string"?`-${e}`:"-fluid";return w(t,{ref:a,...i,className:ye(r,e?`${l}${u}`:l)})});Zi.displayName="Container";var g2=Function.prototype.bind.call(Function.prototype.call,[].slice);function ys(n,e){return g2(n.querySelectorAll(e))}function y2(n,e,t){const r=E.useRef(n!==void 0),[i,a]=E.useState(e),l=n!==void 0,u=r.current;return r.current=l,!l&&u&&i!==e&&a(e),[l?n:i,E.useCallback((...f)=>{const[p,...m]=f;let y=t==null?void 0:t(p,...m);return a(p),y},[t])]}function Wb(){const[,n]=E.useReducer(e=>e+1,0);return n}const Ep=E.createContext(null);var DT=Object.prototype.hasOwnProperty;function xT(n,e,t){for(t of n.keys())if(Hu(t,e))return t}function Hu(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Hu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=xT(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=xT(e,i),!i)||!Hu(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(DT.call(n,t)&&++r&&!DT.call(e,t)||!(t in e)||!Hu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function v2(n){const e=bb();return[n[0],E.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const _2=pd({defaultModifiers:[Mv,hp,dp,fp,Vv,Lv,Uv,Pv]}),w2=["enabled","placement","strategy","modifiers"];function E2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const T2={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},I2={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},S2=[];function qb(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=S2}=t,u=E2(t,w2);const f=E.useRef(l),p=E.useRef(),m=E.useCallback(()=>{var R;(R=p.current)==null||R.update()},[]),y=E.useCallback(()=>{var R;(R=p.current)==null||R.forceUpdate()},[]),[T,S]=v2(E.useState({placement:i,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),N=E.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const x={},L={};Object.keys(R.elements).forEach(V=>{x[V]=R.styles[V],L[V]=R.attributes[V]}),S({state:R,styles:x,attributes:L,update:m,forceUpdate:y,placement:R.placement})}}),[m,y,S]),k=E.useMemo(()=>(Hu(f.current,l)||(f.current=l),f.current),[l]);return E.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...k,N,T2]})},[a,i,N,r,k]),E.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=_2(n,e,Object.assign({},u,{placement:i,strategy:a,modifiers:[...k,I2,N]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function Yu(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Jg,OT;function C2(){if(OT)return Jg;OT=1;var n=function(){};return Jg=n,Jg}var b2=C2();const A2=fd(b2),LT=()=>{};function R2(n){return n.button===0}function N2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const vh=n=>n&&("current"in n?n.current:n),MT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Kb(n,e=LT,{disabled:t,clickTrigger:r="click"}={}){const i=E.useRef(!1),a=E.useRef(!1),l=E.useCallback(p=>{const m=vh(n);A2(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!m||N2(p)||!R2(p)||!!Yu(m,p.target)||a.current,a.current=!1},[n]),u=On(p=>{const m=vh(n);m&&Yu(m,p.target)?a.current=!0:a.current=!1}),f=On(p=>{i.current||e(p)});E.useEffect(()=>{var p,m;if(t||n==null)return;const y=Pc(vh(n)),T=y.defaultView||window;let S=(p=T.event)!=null?p:(m=T.parent)==null?void 0:m.event,N=null;MT[r]&&(N=_s(y,MT[r],u,!0));const k=_s(y,r,l,!0),R=_s(y,r,L=>{if(L===S){S=void 0;return}f(L)});let x=[];return"ontouchstart"in y.documentElement&&(x=[].slice.call(y.body.children).map(L=>_s(L,"mousemove",LT))),()=>{N==null||N(),k(),R(),x.forEach(L=>L())}},[n,t,r,l,u,f])}function k2(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function P2(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function Gb({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:u,popperConfig:f={}}){var p,m,y,T,S;const N=k2(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:P2(Object.assign({},N,{eventListeners:{enabled:e,options:(p=N.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},N.preventOverflow,{options:l?Object.assign({padding:l},(m=N.preventOverflow)==null?void 0:m.options):(y=N.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:i},(T=N.offset)==null?void 0:T.options)},arrow:Object.assign({},N.arrow,{enabled:!!u,options:Object.assign({},(S=N.arrow)==null?void 0:S.options,{element:u})}),flip:Object.assign({enabled:!!r},N.flip)}))})}const D2=["children","usePopper"];function x2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const O2=()=>{};function Qb(n={}){const e=E.useContext(Ep),[t,r]=xy(),i=E.useRef(!1),{flip:a,offset:l,rootCloseEvent:u,fixed:f=!1,placement:p,popperConfig:m={},enableEventListeners:y=!0,usePopper:T=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const N=G=>{e==null||e.toggle(!1,G)},{placement:k,setMenu:R,menuElement:x,toggleElement:L}=e||{},V=qb(L,x,Gb({placement:p||k||"bottom-start",enabled:T,enableEvents:y??S,offset:l,flip:a,fixed:f,arrowElement:t,popperConfig:m})),j=Object.assign({ref:R||O2,"aria-labelledby":L==null?void 0:L.id},V.attributes.popper,{style:V.styles.popper}),q={show:S,placement:k,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?V:null,arrowProps:T?Object.assign({ref:r},V.attributes.arrow,{style:V.styles.arrow}):{}};return Kb(x,N,{clickTrigger:u,disabled:!S}),[j,q]}function Yb(n){let{children:e,usePopper:t=!0}=n,r=x2(n,D2);const[i,a]=Qb(Object.assign({},r,{usePopper:t}));return w(zt,{children:e(i,a)})}Yb.displayName="DropdownMenu";const e_={prefix:String(Math.round(Math.random()*1e10)),current:0},Xb=nt.createContext(e_),L2=nt.createContext(!1);let M2=!!(typeof window<"u"&&window.document&&window.document.createElement),Zg=new WeakMap;function V2(n=!1){let e=E.useContext(Xb),t=E.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=Zg.get(a);l==null?Zg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,Zg.delete(a))}t.current=++e.current}return t.current}function U2(n){let e=E.useContext(Xb);e===e_&&!M2&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=V2(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function $2(n){let e=nt.useId(),[t]=E.useState(z2()),r=t?"react-aria":`react-aria${e_.prefix}`;return n||`${r}-${e}`}const F2=typeof nt.useId=="function"?$2:U2;function j2(){return!1}function B2(){return!0}function H2(n){return()=>{}}function z2(){return typeof nt.useSyncExternalStore=="function"?nt.useSyncExternalStore(H2,j2,B2):E.useContext(L2)}const Jb=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},VT=()=>{};function Zb(){const n=F2(),{show:e=!1,toggle:t=VT,setToggle:r,menuElement:i}=E.useContext(Ep)||{},a=E.useCallback(u=>{t(!e,u)},[e,t]),l={id:n,ref:r||VT,onClick:a,"aria-expanded":!!e};return i&&Jb(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function eA({children:n}){const[e,t]=Zb();return w(zt,{children:n(e,t)})}eA.displayName="DropdownToggle";const La=E.createContext(null),fc=(n,e=null)=>n!=null?String(n):e||null,Tp=E.createContext(null);Tp.displayName="NavContext";const W2="data-rr-ui-",q2="rrUi";function Lc(n){return`${W2}${n}`}function K2(n){return`${q2}${n}`}const G2=["eventKey","disabled","onClick","active","as"];function Q2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function tA({key:n,href:e,active:t,disabled:r,onClick:i}){const a=E.useContext(La),l=E.useContext(Tp),{activeKey:u}=l||{},f=fc(n,e),p=t==null&&n!=null?fc(u)===f:t;return[{onClick:On(y=>{r||(i==null||i(y),a&&!y.isPropagationStopped()&&a(f,y))}),"aria-disabled":r||void 0,"aria-selected":p,[Lc("dropdown-item")]:""},{isActive:p}]}const nA=E.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=Xv}=n,u=Q2(n,G2);const[f]=tA({key:t,href:u.href,disabled:r,onClick:i,active:a});return w(l,Object.assign({},u,{ref:e},f))});nA.displayName="DropdownItem";const rA=E.createContext(Dc?window:void 0);rA.Provider;function Ip(){return E.useContext(rA)}function UT(){const n=Wb(),e=E.useRef(null),t=E.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Td({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${Lc("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:u}){const f=Ip(),[p,m]=y2(e,n,r),[y,T]=UT(),S=y.current,[N,k]=UT(),R=N.current,x=Ab(p),L=E.useRef(null),V=E.useRef(!1),j=E.useContext(La),q=E.useCallback((U,F,O=F==null?void 0:F.type)=>{m(U,{originalEvent:F,source:O})},[m]),G=On((U,F)=>{t==null||t(U,F),q(!1,F,"select"),F.isPropagationStopped()||j==null||j(U,F)}),C=E.useMemo(()=>({toggle:q,placement:l,show:p,menuElement:S,toggleElement:R,setMenu:T,setToggle:k}),[q,l,p,S,R,T,k]);S&&x&&!p&&(V.current=S.contains(S.ownerDocument.activeElement));const b=On(()=>{R&&R.focus&&R.focus()}),P=On(()=>{const U=L.current;let F=a;if(F==null&&(F=y.current&&Jb(y.current)?"keyboard":!1),F===!1||F==="keyboard"&&!/^key.+$/.test(U))return;const O=ys(y.current,i)[0];O&&O.focus&&O.focus()});E.useEffect(()=>{p?P():V.current&&(V.current=!1,b())},[p,V,b,P]),E.useEffect(()=>{L.current=null});const M=(U,F)=>{if(!y.current)return null;const O=ys(y.current,i);let we=O.indexOf(U)+F;return we=Math.max(0,Math.min(we,O.length)),O[we]};return QM(E.useCallback(()=>f.document,[f]),"keydown",U=>{var F,O;const{key:we}=U,ke=U.target,je=(F=y.current)==null?void 0:F.contains(ke),Se=(O=N.current)==null?void 0:O.contains(ke);if(/input|textarea/i.test(ke.tagName)&&(we===" "||we!=="Escape"&&je||we==="Escape"&&ke.type==="search")||!je&&!Se||we==="Tab"&&(!y.current||!p))return;L.current=U.type;const me={originalEvent:U,source:U.type};switch(we){case"ArrowUp":{const ce=M(ke,-1);ce&&ce.focus&&ce.focus(),U.preventDefault();return}case"ArrowDown":if(U.preventDefault(),!p)m(!0,me);else{const ce=M(ke,1);ce&&ce.focus&&ce.focus()}return;case"Tab":qv(ke.ownerDocument,"keyup",ce=>{var z;(ce.key==="Tab"&&!ce.target||!((z=y.current)!=null&&z.contains(ce.target)))&&m(!1,me)},{once:!0});break;case"Escape":we==="Escape"&&(U.preventDefault(),U.stopPropagation()),m(!1,me);break}}),w(La.Provider,{value:G,children:w(Ep.Provider,{value:C,children:u})})}Td.displayName="Dropdown";Td.Menu=Yb;Td.Toggle=eA;Td.Item=nA;const t_=E.createContext({});t_.displayName="DropdownContext";const iA=E.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=Ee(e,"dropdown-divider"),w(t,{ref:a,className:ye(n,e),role:r,...i})));iA.displayName="DropdownDivider";const sA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=Ee(e,"dropdown-header"),w(t,{ref:a,className:ye(n,e),role:r,...i})));sA.displayName="DropdownHeader";const oA=E.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=uc,...u},f)=>{const p=Ee(n,"dropdown-item"),[m,y]=tA({key:t,href:u.href,disabled:r,onClick:i,active:a});return w(l,{...u,...m,ref:f,className:ye(e,p,y.isActive&&"active",r&&"disabled")})});oA.displayName="DropdownItem";const aA=E.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ee(e,"dropdown-item-text"),w(t,{ref:i,className:ye(n,e),...r})));aA.displayName="DropdownItemText";const Y2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",X2=typeof document<"u",n_=X2||Y2?E.useLayoutEffect:E.useEffect,r_=E.createContext(null);r_.displayName="InputGroupContext";const Qa=E.createContext(null);Qa.displayName="NavbarContext";function lA(n,e){return n}function cA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",u=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",m=t?"left-end":"right-end";let y=n?l:a;return e==="up"?y=n?i:r:e==="end"?y=n?m:p:e==="start"?y=n?f:u:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const uA=E.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:u="div",popperConfig:f,variant:p,...m},y)=>{let T=!1;const S=E.useContext(Qa),N=Ee(n,"dropdown-menu"),{align:k,drop:R,isRTL:x}=E.useContext(t_);t=t||k;const L=E.useContext(r_),V=[];if(t)if(typeof t=="object"){const U=Object.keys(t);if(U.length){const F=U[0],O=t[F];T=O==="start",V.push(`${N}-${F}-${O}`)}}else t==="end"&&(T=!0);const j=cA(T,R,x),[q,{hasShown:G,popper:C,show:b,toggle:P}]=Qb({flip:i,rootCloseEvent:r,show:a,usePopper:!S&&V.length===0,offset:[0,2],popperConfig:f,placement:j});if(q.ref=xc(lA(y),q.ref),n_(()=>{b&&(C==null||C.update())},[b]),!G&&!l&&!L)return null;typeof u!="string"&&(q.show=b,q.close=()=>P==null?void 0:P(!1),q.align=t);let M=m.style;return C!=null&&C.placement&&(M={...m.style,...q.style},m["x-placement"]=C.placement),w(u,{...m,...q,style:M,...(V.length||S)&&{"data-bs-popper":"static"},className:ye(e,N,b&&"show",T&&`${N}-end`,p&&`${N}-${p}`,...V)})});uA.displayName="DropdownMenu";const dA=E.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=en,...a},l)=>{const u=Ee(n,"dropdown-toggle"),f=E.useContext(Ep);r!==void 0&&(a.bsPrefix=r);const[p]=Zb();return p.ref=xc(p.ref,lA(l)),w(i,{className:ye(t,u,e&&`${u}-split`,(f==null?void 0:f.show)&&"show"),...p,...a})});dA.displayName="DropdownToggle";const fA=E.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:u,onToggle:f,focusFirstItemOnShow:p,as:m="div",navbar:y,autoClose:T=!0,...S}=Ka(n,{show:"onToggle"}),N=E.useContext(r_),k=Ee(t,"dropdown"),R=_d(),x=C=>T===!1?C==="click":T==="inside"?C!=="rootClose":T==="outside"?C!=="select":!0,L=oi((C,b)=>{var P;!((P=b.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&b.source==="mousedown"||(b.originalEvent.currentTarget===document&&(b.source!=="keydown"||b.originalEvent.key==="Escape")&&(b.source="rootClose"),x(b.source)&&(f==null||f(C,b)))}),j=cA(l==="end",r,R),q=E.useMemo(()=>({align:l,drop:r,isRTL:R}),[l,r,R]),G={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w(t_.Provider,{value:q,children:w(Td,{placement:j,show:i,onSelect:u,onToggle:L,focusFirstItemOnShow:p,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:N?S.children:w(m,{...S,ref:e,className:ye(a,i&&"show",G[r])})})})});fA.displayName="Dropdown";const Aa=Object.assign(fA,{Toggle:dA,Menu:uA,Item:oA,ItemText:aA,Divider:iA,Header:sA});ir.string,ir.bool,ir.bool,ir.bool,ir.bool;const Xu=E.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:a=!1,...l},u)=>(n=Ee(n,"img"),w("img",{ref:u,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",i&&"rounded-circle",a&&`${n}-thumbnail`)})));Xu.displayName="Image";const J2={type:ir.string,tooltip:ir.bool,as:ir.elementType},Sp=E.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},a)=>w(n,{...i,ref:a,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));Sp.displayName="Feedback";Sp.propTypes=J2;const Ds=E.createContext({}),i_=E.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:a=!1,as:l="input",...u},f)=>{const{controlId:p}=E.useContext(Ds);return e=Ee(e,"form-check-input"),w(l,{...u,ref:f,type:r,id:n||p,className:ye(t,e,i&&"is-valid",a&&"is-invalid")})});i_.displayName="FormCheckInput";const Vh=E.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:a}=E.useContext(Ds);return n=Ee(n,"form-check-label"),w("label",{...r,ref:i,htmlFor:t||a,className:ye(e,n)})});Vh.displayName="FormCheckLabel";const hA=E.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:a=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:m,className:y,style:T,title:S="",type:N="checkbox",label:k,children:R,as:x="input",...L},V)=>{e=Ee(e,"form-check"),t=Ee(t,"form-switch");const{controlId:j}=E.useContext(Ds),q=E.useMemo(()=>({controlId:n||j}),[j,n]),G=!R&&k!=null&&k!==!1||f2(R,Vh),C=w(i_,{...L,type:N==="switch"?"checkbox":N,ref:V,isValid:l,isInvalid:u,disabled:a,as:x});return w(Ds.Provider,{value:q,children:w("div",{style:T,className:ye(y,G&&e,r&&`${e}-inline`,i&&`${e}-reverse`,N==="switch"&&t),children:R||X(zt,{children:[C,G&&w(Vh,{title:S,children:k}),p&&w(Sp,{type:m,tooltip:f,children:p})]})})})});hA.displayName="FormCheck";const Uh=Object.assign(hA,{Input:i_,Label:Vh}),pA=E.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:a,isValid:l=!1,isInvalid:u=!1,plaintext:f,readOnly:p,as:m="input",...y},T)=>{const{controlId:S}=E.useContext(Ds);return n=Ee(n,"form-control"),w(m,{...y,type:e,size:r,ref:T,readOnly:p,id:i||S,className:ye(a,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",u&&"is-invalid")})});pA.displayName="FormControl";const Z2=Object.assign(pA,{Feedback:Sp}),mA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"form-floating"),w(t,{ref:i,className:ye(n,e),...r})));mA.displayName="FormFloating";const s_=E.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=E.useMemo(()=>({controlId:n}),[n]);return w(Ds.Provider,{value:i,children:w(e,{...t,ref:r})})});s_.displayName="FormGroup";const gA=E.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:a,...l},u)=>{const{controlId:f}=E.useContext(Ds);e=Ee(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const m=ye(i,e,r&&"visually-hidden",t&&p);return a=a||f,t?w(Mn,{ref:u,as:"label",className:m,htmlFor:a,...l}):w(n,{ref:u,className:m,htmlFor:a,...l})});gA.displayName="FormLabel";const yA=E.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:a}=E.useContext(Ds);return n=Ee(n,"form-range"),w("input",{...r,type:"range",ref:i,className:ye(e,n),id:t||a})});yA.displayName="FormRange";const vA=E.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:a=!1,id:l,...u},f)=>{const{controlId:p}=E.useContext(Ds);return n=Ee(n,"form-select"),w("select",{...u,size:t,ref:f,className:ye(r,n,e&&`${n}-${e}`,i&&"is-valid",a&&"is-invalid"),id:l||p})});vA.displayName="FormSelect";const _A=E.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},a)=>(n=Ee(n,"form-text"),w(t,{...i,ref:a,className:ye(e,n,r&&"text-muted")})));_A.displayName="FormText";const wA=E.forwardRef((n,e)=>w(Uh,{...n,ref:e,type:"switch"}));wA.displayName="Switch";const eV=Object.assign(wA,{Input:Uh.Input,Label:Uh.Label}),o_=E.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...a},l)=>(n=Ee(n,"form-floating"),X(s_,{ref:l,className:ye(e,n),controlId:r,...a,children:[t,w("label",{htmlFor:r,children:i})]})));o_.displayName="FloatingLabel";const tV={_ref:ir.any,validated:ir.bool,as:ir.elementType},a_=E.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>w(t,{...r,ref:i,className:ye(n,e&&"was-validated")}));a_.displayName="Form";a_.propTypes=tV;const At=Object.assign(a_,{Group:s_,Control:Z2,Floating:mA,Check:Uh,Switch:eV,Label:gA,Text:_A,Range:yA,Select:vA,FloatingLabel:o_}),$T=n=>!n||typeof n=="function"?n:e=>{n.current=e};function nV(n,e){const t=$T(n),r=$T(e);return i=>{t&&t(i),r&&r(i)}}function Id(n,e){return E.useMemo(()=>nV(n,e),[n,e])}const EA=E.createContext(null),rV=["as","active","eventKey"];function iV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function l_({key:n,onClick:e,active:t,id:r,role:i,disabled:a}){const l=E.useContext(La),u=E.useContext(Tp),f=E.useContext(EA);let p=t;const m={role:i};if(u){!i&&u.role==="tablist"&&(m.role="tab");const y=u.getControllerId(n??null),T=u.getControlledId(n??null);m[Lc("event-key")]=n,m.id=y||r,p=t==null&&n!=null?u.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(m["aria-controls"]=T)}return m.role==="tab"&&(m["aria-selected"]=p,p||(m.tabIndex=-1),a&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=On(y=>{a||(e==null||e(y),n!=null&&l&&!y.isPropagationStopped()&&l(n,y))}),[m,{isActive:p}]}const TA=E.forwardRef((n,e)=>{let{as:t=Xv,active:r,eventKey:i}=n,a=iV(n,rV);const[l,u]=l_(Object.assign({key:fc(i,a.href),active:r},a));return l[Lc("active")]=u.isActive,w(t,Object.assign({},a,l,{ref:e}))});TA.displayName="NavItem";const sV=["as","onSelect","activeKey","role","onKeyDown"];function oV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const FT=()=>{},jT=Lc("event-key"),IA=E.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:a,onKeyDown:l}=n,u=oV(n,sV);const f=Wb(),p=E.useRef(!1),m=E.useContext(La),y=E.useContext(EA);let T,S;y&&(a=a||"tablist",i=y.activeKey,T=y.getControlledId,S=y.getControllerId);const N=E.useRef(null),k=V=>{const j=N.current;if(!j)return null;const q=ys(j,`[${jT}]:not([aria-disabled=true])`),G=j.querySelector("[aria-selected=true]");if(!G||G!==document.activeElement)return null;const C=q.indexOf(G);if(C===-1)return null;let b=C+V;return b>=q.length&&(b=0),b<0&&(b=q.length-1),q[b]},R=(V,j)=>{V!=null&&(r==null||r(V,j),m==null||m(V,j))},x=V=>{if(l==null||l(V),!y)return;let j;switch(V.key){case"ArrowLeft":case"ArrowUp":j=k(-1);break;case"ArrowRight":case"ArrowDown":j=k(1);break;default:return}j&&(V.preventDefault(),R(j.dataset[K2("EventKey")]||null,V),p.current=!0,f())};E.useEffect(()=>{if(N.current&&p.current){const V=N.current.querySelector(`[${jT}][aria-selected=true]`);V==null||V.focus()}p.current=!1});const L=Id(e,N);return w(La.Provider,{value:R,children:w(Tp.Provider,{value:{role:a,activeKey:fc(i),getControlledId:T||FT,getControllerId:S||FT},children:w(t,Object.assign({},u,{onKeyDown:x,ref:L,role:a}))})})});IA.displayName="Nav";const SA=Object.assign(IA,{Item:TA}),CA=E.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:i,variant:a,action:l,as:u,...f},p)=>{n=Ee(n,"list-group-item");const[m,y]=l_({key:fc(r,f.href),active:e,...f}),T=oi(N=>{if(t){N.preventDefault(),N.stopPropagation();return}m.onClick(N)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const S=u||(l?f.href?"a":"button":"div");return w(S,{ref:p,...f,...m,onClick:T,className:ye(i,n,y.isActive&&"active",t&&"disabled",a&&`${n}-${a}`,l&&`${n}-action`)})});CA.displayName="ListGroupItem";const bA=E.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:i,horizontal:a,numbered:l,as:u="div",...f}=Ka(n,{activeKey:"onSelect"}),p=Ee(r,"list-group");let m;return a&&(m=a===!0?"horizontal":`horizontal-${a}`),w(SA,{ref:e,...f,as:u,className:ye(t,p,i&&`${p}-${i}`,m&&`${p}-${m}`,l&&`${p}-numbered`)})});bA.displayName="ListGroup";const xr=Object.assign(bA,{Item:CA});var nh;function BT(n){if((!nh&&nh!==0||n)&&Dc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),nh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return nh}function aV(){return E.useState(null)}function ey(n){n===void 0&&(n=Pc());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function lV(n){const e=E.useRef(n);return e.current=n,e}function cV(n){const e=lV(n);E.useEffect(()=>()=>e.current(),[])}function uV(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const HT=Lc("modal-open");class c_{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return uV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(Cs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(HT,""),Cs(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(HT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ty=(n,e)=>Dc?n==null?(e||Pc()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Ly(n,e){const t=Ip(),[r,i]=E.useState(()=>ty(n,t==null?void 0:t.document));if(!r){const a=ty(n);a&&i(a)}return E.useEffect(()=>{},[e,r]),E.useEffect(()=>{const a=ty(n);a!==r&&i(a)},[n,r]),r}function dV({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const a=E.useRef(null),l=E.useRef(e),u=On(t);E.useEffect(()=>{e?l.current=!0:u(a.current)},[e,u]);const f=Id(a,Ga(n)),p=E.cloneElement(n,{ref:f});return e?p:i||!l.current&&r?null:p}const fV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function hV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function pV(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:u,children:f}=n,p=hV(n,fV);const m=E.useRef(null),y=Id(m,Ga(f)),T=j=>q=>{j&&m.current&&j(m.current,q)},S=E.useCallback(T(e),[e]),N=E.useCallback(T(t),[t]),k=E.useCallback(T(r),[r]),R=E.useCallback(T(i),[i]),x=E.useCallback(T(a),[a]),L=E.useCallback(T(l),[l]),V=E.useCallback(T(u),[u]);return Object.assign({},p,{nodeRef:m},e&&{onEnter:S},t&&{onEntering:N},r&&{onEntered:k},i&&{onExit:R},a&&{onExiting:x},l&&{onExited:L},u&&{addEndListener:V},{children:typeof f=="function"?(j,q)=>f(j,Object.assign({},q,{ref:y})):E.cloneElement(f,{ref:y})})}const mV=["component"];function gV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const yV=E.forwardRef((n,e)=>{let{component:t}=n,r=gV(n,mV);const i=pV(r);return w(t,Object.assign({ref:e},i))});function vV({in:n,onTransition:e}){const t=E.useRef(null),r=E.useRef(!0),i=On(e);return NT(()=>{if(!t.current)return;let a=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,i]),NT(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function _V({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[a,l]=E.useState(!e);e&&a&&l(!1);const u=vV({in:!!e,onTransition:p=>{const m=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(m,y=>{throw p.in||l(!0),y})}}),f=Id(u,Ga(n));return a&&!e?null:E.cloneElement(n,{ref:f})}function My(n,e,t){return n?w(yV,Object.assign({},t,{component:n})):e?w(_V,Object.assign({},t,{transition:e})):w(dV,Object.assign({},t))}const wV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function EV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let ny;function TV(n){return ny||(ny=new c_({ownerDocument:n==null?void 0:n.document})),ny}function IV(n){const e=Ip(),t=n||TV(e),r=E.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:E.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:E.useCallback(i=>{r.current.backdrop=i},[])})}const AA=E.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:a,children:l,backdrop:u=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:m,transition:y,runTransition:T,backdropTransition:S,runBackdropTransition:N,autoFocus:k=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:L,renderDialog:V,renderBackdrop:j=it=>w("div",Object.assign({},it)),manager:q,container:G,onShow:C,onHide:b=()=>{},onExit:P,onExited:M,onExiting:U,onEnter:F,onEntering:O,onEntered:we}=n,ke=EV(n,wV);const je=Ip(),Se=Ly(G),re=IV(q),me=bb(),ce=Ab(t),[z,te]=E.useState(!t),pe=E.useRef(null);E.useImperativeHandle(e,()=>re,[re]),Dc&&!ce&&t&&(pe.current=ey(je==null?void 0:je.document)),t&&z&&te(!1);const ve=On(()=>{if(re.add(),Tt.current=_s(document,"keydown",Be),ot.current=_s(document,"focus",()=>setTimeout(Ae),!0),C&&C(),k){var it,Wt;const _n=ey((it=(Wt=re.dialog)==null?void 0:Wt.ownerDocument)!=null?it:je==null?void 0:je.document);re.dialog&&_n&&!Yu(re.dialog,_n)&&(pe.current=_n,re.dialog.focus())}}),Ie=On(()=>{if(re.remove(),Tt.current==null||Tt.current(),ot.current==null||ot.current(),x){var it;(it=pe.current)==null||it.focus==null||it.focus(L),pe.current=null}});E.useEffect(()=>{!t||!Se||ve()},[t,Se,ve]),E.useEffect(()=>{z&&Ie()},[z,Ie]),cV(()=>{Ie()});const Ae=On(()=>{if(!R||!me()||!re.isTopModal())return;const it=ey(je==null?void 0:je.document);re.dialog&&it&&!Yu(re.dialog,it)&&re.dialog.focus()}),Ge=On(it=>{it.target===it.currentTarget&&(p==null||p(it),u===!0&&b())}),Be=On(it=>{f&&mb(it)&&re.isTopModal()&&(m==null||m(it),it.defaultPrevented||b())}),ot=E.useRef(),Tt=E.useRef(),Ct=(...it)=>{te(!0),M==null||M(...it)};if(!Se)return null;const st=Object.assign({role:r,ref:re.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ke,{style:a,className:i,tabIndex:-1});let Dt=V?V(st):w("div",Object.assign({},st,{children:E.cloneElement(l,{role:"document"})}));Dt=My(y,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:U,onExited:Ct,onEnter:F,onEntering:O,onEntered:we,children:Dt});let Xt=null;return u&&(Xt=j({ref:re.setBackdropRef,onClick:Ge}),Xt=My(S,N,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Xt})),w(zt,{children:So.createPortal(X(zt,{children:[Xt,Dt]}),Se)})});AA.displayName="Modal";const RA=Object.assign(AA,{Manager:c_});function Vy(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function SV(n,e){n.classList?n.classList.add(e):Vy(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function zT(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function CV(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=zT(n.className,e):n.setAttribute("class",zT(n.className&&n.className.baseVal||"",e))}const Fl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class NA extends c_{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,Cs(t,{[e]:`${parseFloat(Cs(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],Cs(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(SV(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ys(t,Fl.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),ys(t,Fl.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-e.scrollBarWidth)),ys(t,Fl.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();CV(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ys(t,Fl.FIXED_CONTENT).forEach(a=>this.restore(r,a)),ys(t,Fl.STICKY_CONTENT).forEach(a=>this.restore(i,a)),ys(t,Fl.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let ry;function kA(n){return ry||(ry=new NA(n)),ry}const PA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"modal-body"),w(t,{ref:i,className:ye(n,e),...r})));PA.displayName="ModalBody";const u_=E.createContext({onHide(){}}),d_=E.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:a,children:l,scrollable:u,...f},p)=>{n=Ee(n,"modal");const m=`${n}-dialog`,y=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return w("div",{...f,ref:p,className:ye(m,e,i&&`${n}-${i}`,r&&`${m}-centered`,u&&`${m}-scrollable`,a&&y),children:w("div",{className:ye(`${n}-content`,t),children:l})})});d_.displayName="ModalDialog";const DA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"modal-footer"),w(t,{ref:i,className:ye(n,e),...r})));DA.displayName="ModalFooter";const xA=E.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...a},l)=>{const u=E.useContext(u_),f=oi(()=>{u==null||u.onHide(),r==null||r()});return X("div",{ref:l,...a,children:[i,t&&w(Oc,{"aria-label":n,variant:e,onClick:f})]})}),OA=E.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=Ee(n,"modal-header"),w(xA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));OA.displayName="ModalHeader";const bV=Ed("h4"),LA=E.forwardRef(({className:n,bsPrefix:e,as:t=bV,...r},i)=>(e=Ee(e,"modal-title"),w(t,{ref:i,className:ye(n,e),...r})));LA.displayName="ModalTitle";function AV(n){return w(Mo,{...n,timeout:null})}function RV(n){return w(Mo,{...n,timeout:null})}const MA=E.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:a,dialogAs:l=d_,"data-bs-theme":u,"aria-labelledby":f,"aria-describedby":p,"aria-label":m,show:y=!1,animation:T=!0,backdrop:S=!0,keyboard:N=!0,onEscapeKeyDown:k,onShow:R,onHide:x,container:L,autoFocus:V=!0,enforceFocus:j=!0,restoreFocus:q=!0,restoreFocusOptions:G,onEntered:C,onExit:b,onExiting:P,onEnter:M,onEntering:U,onExited:F,backdropClassName:O,manager:we,...ke},je)=>{const[Se,re]=E.useState({}),[me,ce]=E.useState(!1),z=E.useRef(!1),te=E.useRef(!1),pe=E.useRef(null),[ve,Ie]=aV(),Ae=xc(je,Ie),Ge=oi(x),Be=_d();n=Ee(n,"modal");const ot=E.useMemo(()=>({onHide:Ge}),[Ge]);function Tt(){return we||kA({isRTL:Be})}function Ct($e){if(!Dc)return;const gt=Tt().getScrollbarWidth()>0,Mt=$e.scrollHeight>Pc($e).documentElement.clientHeight;re({paddingRight:gt&&!Mt?BT():void 0,paddingLeft:!gt&&Mt?BT():void 0})}const st=oi(()=>{ve&&Ct(ve.dialog)});$b(()=>{Dy(window,"resize",st),pe.current==null||pe.current()});const Dt=()=>{z.current=!0},Xt=$e=>{z.current&&ve&&$e.target===ve.dialog&&(te.current=!0),z.current=!1},it=()=>{ce(!0),pe.current=gb(ve.dialog,()=>{ce(!1)})},Wt=$e=>{$e.target===$e.currentTarget&&it()},_n=$e=>{if(S==="static"){Wt($e);return}if(te.current||$e.target!==$e.currentTarget){te.current=!1;return}x==null||x()},Br=$e=>{N?k==null||k($e):($e.preventDefault(),S==="static"&&it())},Xn=($e,gt)=>{$e&&Ct($e),M==null||M($e,gt)},qt=$e=>{pe.current==null||pe.current(),b==null||b($e)},sn=($e,gt)=>{U==null||U($e,gt),qv(window,"resize",st)},lr=$e=>{$e&&($e.style.display=""),F==null||F($e),Dy(window,"resize",st)},Un=E.useCallback($e=>w("div",{...$e,className:ye(`${n}-backdrop`,O,!T&&"show")}),[T,O,n]),Lt={...t,...Se};Lt.display="block";const hn=$e=>w("div",{role:"dialog",...$e,style:Lt,className:ye(e,n,me&&`${n}-static`,!T&&"show"),onClick:S?_n:void 0,onMouseUp:Xt,"data-bs-theme":u,"aria-label":m,"aria-labelledby":f,"aria-describedby":p,children:w(l,{...ke,onMouseDown:Dt,className:r,contentClassName:i,children:a})});return w(u_.Provider,{value:ot,children:w(RA,{show:y,ref:Ae,backdrop:S,container:L,keyboard:!0,autoFocus:V,enforceFocus:j,restoreFocus:q,restoreFocusOptions:G,onEscapeKeyDown:Br,onShow:R,onHide:x,onEnter:Xn,onEntering:sn,onEntered:C,onExit:qt,onExiting:P,onExited:lr,manager:Tt(),transition:T?AV:void 0,backdropTransition:T?RV:void 0,renderBackdrop:Un,renderDialog:hn})})});MA.displayName="Modal";const rr=Object.assign(MA,{Body:PA,Header:OA,Title:LA,Footer:DA,Dialog:d_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),VA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"nav-item"),w(t,{ref:i,className:ye(n,e),...r})));VA.displayName="NavItem";const f_=E.forwardRef(({bsPrefix:n,className:e,as:t=uc,active:r,eventKey:i,disabled:a=!1,...l},u)=>{n=Ee(n,"nav-link");const[f,p]=l_({key:fc(i,l.href),active:r,disabled:a,...l});return w(t,{...l,...f,ref:u,disabled:a,className:ye(e,n,a&&"disabled",p.isActive&&"active")})});f_.displayName="NavLink";const UA=E.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:a=!1,justify:l=!1,navbar:u,navbarScroll:f,className:p,activeKey:m,...y}=Ka(n,{activeKey:"onSelect"}),T=Ee(r,"nav");let S,N,k=!1;const R=E.useContext(Qa),x=E.useContext(Zv);return R?(S=R.bsPrefix,k=u??!0):x&&({cardHeaderBsPrefix:N}=x),w(SA,{as:t,ref:e,activeKey:m,className:ye(p,{[T]:!k,[`${S}-nav`]:k,[`${S}-nav-scroll`]:k&&f,[`${N}-${i}`]:!!N,[`${T}-${i}`]:!!i,[`${T}-fill`]:a,[`${T}-justified`]:l}),...y})});UA.displayName="Nav";const Ei=Object.assign(UA,{Item:VA,Link:f_}),$A=E.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=Ee(n,"navbar-brand");const a=t||(r.href?"a":"span");return w(a,{...r,ref:i,className:ye(e,n)})});$A.displayName="NavbarBrand";const FA=E.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Ee(e,"navbar-collapse");const i=E.useContext(Qa);return w(yb,{in:!!(i&&i.expanded),...t,children:w("div",{ref:r,className:e,children:n})})});FA.displayName="NavbarCollapse";const jA=E.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:a,...l},u)=>{n=Ee(n,"navbar-toggler");const{onToggle:f,expanded:p}=E.useContext(Qa)||{},m=oi(y=>{a&&a(y),f&&f()});return i==="button"&&(l.type="button"),w(i,{...l,ref:u,onClick:m,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||w("span",{className:`${n}-icon`})})});jA.displayName="NavbarToggle";const Uy=new WeakMap,WT=(n,e)=>{if(!n||!e)return;const t=Uy.get(e)||new Map;Uy.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function NV(n,e=typeof window>"u"?void 0:window){const t=WT(n,e),[r,i]=E.useState(()=>t?t.matches:!1);return n_(()=>{let a=WT(n,e);if(!a)return i(!1);let l=Uy.get(e);const u=()=>{i(a.matches)};return a.refCount++,a.addListener(u),u(),()=>{a.removeListener(u),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function kV(n){const e=Object.keys(n);function t(u,f){return u===f?f:u?`${u} and ${f}`:f}function r(u){return e[Math.min(e.indexOf(u)+1,e.length-1)]}function i(u){const f=r(u);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(u){let f=n[u];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function l(u,f,p){let m;typeof u=="object"?(m=u,p=f,f=!0):(f=f||!0,m={[u]:f});let y=E.useMemo(()=>Object.entries(m).reduce((T,[S,N])=>((N==="up"||N===!0)&&(T=t(T,a(S))),(N==="down"||N===!0)&&(T=t(T,i(S))),T),""),[JSON.stringify(m)]);return NV(y,p)}return l}const PV=kV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),BA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"offcanvas-body"),w(t,{ref:i,className:ye(n,e),...r})));BA.displayName="OffcanvasBody";const DV={[Ii]:"show",[vs]:"show"},HA=E.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:a=!1,appear:l=!1,...u},f)=>(n=Ee(n,"offcanvas"),w(_p,{ref:f,addEndListener:vp,in:r,mountOnEnter:i,unmountOnExit:a,appear:l,...u,childRef:Ga(t),children:(p,m)=>E.cloneElement(t,{...m,className:ye(e,t.props.className,(p===Ii||p===Qu)&&`${n}-toggling`,DV[p])})})));HA.displayName="OffcanvasToggling";const zA=E.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=Ee(n,"offcanvas-header"),w(xA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));zA.displayName="OffcanvasHeader";const xV=Ed("h5"),WA=E.forwardRef(({className:n,bsPrefix:e,as:t=xV,...r},i)=>(e=Ee(e,"offcanvas-title"),w(t,{ref:i,className:ye(n,e),...r})));WA.displayName="OffcanvasTitle";function OV(n){return w(HA,{...n})}function LV(n){return w(Mo,{...n})}const qA=E.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:a,show:l=!1,backdrop:u=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:m,onShow:y,onHide:T,container:S,autoFocus:N=!0,enforceFocus:k=!0,restoreFocus:R=!0,restoreFocusOptions:x,onEntered:L,onExit:V,onExiting:j,onEnter:q,onEntering:G,onExited:C,backdropClassName:b,manager:P,renderStaticNode:M=!1,...U},F)=>{const O=E.useRef();n=Ee(n,"offcanvas");const[we,ke]=E.useState(!1),je=oi(T),Se=PV(a||"xs","up");E.useEffect(()=>{ke(a?l&&!Se:l)},[l,a,Se]);const re=E.useMemo(()=>({onHide:je}),[je]);function me(){return P||(p?(O.current||(O.current=new NA({handleContainerOverflow:!1})),O.current):kA())}const ce=(ve,...Ie)=>{ve&&(ve.style.visibility="visible"),q==null||q(ve,...Ie)},z=(ve,...Ie)=>{ve&&(ve.style.visibility=""),C==null||C(...Ie)},te=E.useCallback(ve=>w("div",{...ve,className:ye(`${n}-backdrop`,b)}),[b,n]),pe=ve=>w("div",{...ve,...U,className:ye(e,a?`${n}-${a}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return X(zt,{children:[!we&&(a||M)&&pe({}),w(u_.Provider,{value:re,children:w(RA,{show:we,ref:F,backdrop:u,container:S,keyboard:f,autoFocus:N,enforceFocus:k&&!p,restoreFocus:R,restoreFocusOptions:x,onEscapeKeyDown:m,onShow:y,onHide:je,onEnter:ce,onEntering:G,onEntered:L,onExit:V,onExiting:j,onExited:z,manager:me(),transition:OV,backdropTransition:LV,renderBackdrop:te,renderDialog:pe})})]})});qA.displayName="Offcanvas";const MV=Object.assign(qA,{Body:BA,Header:zA,Title:WA}),KA=E.forwardRef(({onHide:n,...e},t)=>{const r=E.useContext(Qa),i=oi(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return w(MV,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});KA.displayName="NavbarOffcanvas";const GA=E.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ee(e,"navbar-text"),w(t,{ref:i,className:ye(n,e),...r})));GA.displayName="NavbarText";const QA=E.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:a,fixed:l,sticky:u,className:f,as:p="nav",expanded:m,onToggle:y,onSelect:T,collapseOnSelect:S=!1,...N}=Ka(n,{expanded:"onToggle"}),k=Ee(t,"navbar"),R=E.useCallback((...V)=>{T==null||T(...V),S&&m&&(y==null||y(!1))},[T,S,m,y]);N.role===void 0&&p!=="nav"&&(N.role="navigation");let x=`${k}-expand`;typeof r=="string"&&(x=`${x}-${r}`);const L=E.useMemo(()=>({onToggle:()=>y==null?void 0:y(!m),bsPrefix:k,expanded:!!m,expand:r}),[k,m,r,y]);return w(Qa.Provider,{value:L,children:w(La.Provider,{value:R,children:w(p,{ref:e,...N,className:ye(f,k,r&&x,i&&`${k}-${i}`,a&&`bg-${a}`,u&&`sticky-${u}`,l&&`fixed-${l}`)})})})});QA.displayName="Navbar";const rh=Object.assign(QA,{Brand:$A,Collapse:FA,Offcanvas:KA,Text:GA,Toggle:jA}),YA=E.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:i,rootCloseEvent:a,menuRole:l,disabled:u,active:f,renderMenuOnMount:p,menuVariant:m,...y},T)=>{const S=Ee(void 0,"nav-item");return X(Aa,{ref:T,...y,className:ye(i,S),children:[w(Aa.Toggle,{id:n,eventKey:null,active:f,disabled:u,childBsPrefix:r,as:f_,children:e}),w(Aa.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:m,children:t})]})});YA.displayName="NavDropdown";const Cu=Object.assign(YA,{Item:Aa.Item,ItemText:Aa.ItemText,Divider:Aa.Divider,Header:Aa.Header}),VV=()=>{};function UV(n,e,{disabled:t,clickTrigger:r}={}){const i=e||VV;Kb(n,i,{disabled:t,clickTrigger:r});const a=On(l=>{mb(l)&&i(l)});E.useEffect(()=>{if(t||n==null)return;const l=Pc(vh(n));let u=(l.defaultView||window).event;const f=_s(l,"keyup",p=>{if(p===u){u=void 0;return}a(p)});return()=>{f()}},[n,t,a])}const XA=E.forwardRef((n,e)=>{const{flip:t,offset:r,placement:i,containerPadding:a,popperConfig:l={},transition:u,runTransition:f}=n,[p,m]=xy(),[y,T]=xy(),S=Id(m,e),N=Ly(n.container),k=Ly(n.target),[R,x]=E.useState(!n.show),L=qb(k,p,Gb({placement:i,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:y,popperConfig:l}));n.show&&R&&x(!1);const V=(...U)=>{x(!0),n.onExited&&n.onExited(...U)},j=n.show||!R;if(UV(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!j)return null;const{onExit:q,onExiting:G,onEnter:C,onEntering:b,onEntered:P}=n;let M=n.children(Object.assign({},L.attributes.popper,{style:L.styles.popper,ref:S}),{popper:L,placement:i,show:!!n.show,arrowProps:Object.assign({},L.attributes.arrow,{style:L.styles.arrow,ref:T})});return M=My(u,f,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:M,onExit:q,onExiting:G,onExited:V,onEnter:C,onEntering:b,onEntered:P}),N?So.createPortal(M,N):null});XA.displayName="Overlay";const JA=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"popover-header"),w(t,{ref:i,className:ye(n,e),...r})));JA.displayName="PopoverHeader";const h_=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"popover-body"),w(t,{ref:i,className:ye(n,e),...r})));h_.displayName="PopoverBody";function ZA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function eR(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const $V=E.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,body:a,arrowProps:l,hasDoneInitialMeasure:u,popper:f,show:p,...m},y)=>{const T=Ee(n,"popover"),S=_d(),[N]=(e==null?void 0:e.split("-"))||[],k=ZA(N,S);let R=r;return p&&!u&&(R={...r,...eR(f==null?void 0:f.strategy)}),X("div",{ref:y,role:"tooltip",style:R,"x-placement":N,className:ye(t,T,N&&`bs-popover-${k}`),...m,children:[w("div",{className:"popover-arrow",...l}),a?w(h_,{children:i}):i]})}),FV=Object.assign($V,{Header:JA,Body:h_,POPPER_OFFSET:[0,8]}),tR=E.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,arrowProps:a,hasDoneInitialMeasure:l,popper:u,show:f,...p},m)=>{n=Ee(n,"tooltip");const y=_d(),[T]=(e==null?void 0:e.split("-"))||[],S=ZA(T,y);let N=r;return f&&!l&&(N={...r,...eR(u==null?void 0:u.strategy)}),X("div",{ref:m,style:N,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${S}`),...p,children:[w("div",{className:"tooltip-arrow",...a}),w("div",{className:`${n}-inner`,children:i})]})});tR.displayName="Tooltip";const p_=Object.assign(tR,{TOOLTIP_OFFSET:[0,6]});function jV(n){const e=E.useRef(null),t=Ee(void 0,"popover"),r=Ee(void 0,"tooltip"),i=E.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Vy(e.current,t))return FV.POPPER_OFFSET;if(Vy(e.current,r))return p_.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[i]]}function BV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=i=>t(Mh(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(Mh(i)))}const nR=E.forwardRef(({children:n,transition:e=Mo,popperConfig:t={},rootClose:r=!1,placement:i="top",show:a=!1,...l},u)=>{const f=E.useRef({}),[p,m]=E.useState(null),[y,T]=jV(l.offset),S=xc(u,y),N=e===!0?Mo:e||void 0,k=oi(R=>{m(R),t==null||t.onFirstUpdate==null||t.onFirstUpdate(R)});return n_(()=>{p&&l.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[p,l.target]),E.useEffect(()=>{a||m(null)},[a]),w(XA,{...l,ref:S,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:k},transition:N,rootClose:r,placement:i,show:a,children:(R,{arrowProps:x,popper:L,show:V})=>{var j;BV(R,x);const q=L==null?void 0:L.placement,G=Object.assign(f.current,{state:L==null?void 0:L.state,scheduleUpdate:L==null?void 0:L.update,placement:q,outOfBoundaries:(L==null||(j=L.state)==null||(j=j.modifiersData.hide)==null?void 0:j.isReferenceHidden)||!1,strategy:t.strategy}),C=!!p;return typeof n=="function"?n({...R,placement:q,show:V,...!e&&V&&{className:"show"},popper:G,arrowProps:x,hasDoneInitialMeasure:C}):E.cloneElement(n,{...R,placement:q,arrowProps:x,popper:G,hasDoneInitialMeasure:C,className:ye(n.props.className,!e&&V&&"show"),style:{...n.props.style,...R.style}})}})});nR.displayName="Overlay";function HV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function qT(n,e,t){const[r]=e,i=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==i)&&!Yu(i,a)&&n(...e)}ir.oneOf(["click","hover","focus"]);const Ea=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:i,defaultShow:a=!1,onToggle:l,delay:u,placement:f,flip:p=f&&f.indexOf("auto")!==-1,...m})=>{const y=E.useRef(null),T=xc(y,Ga(t)),S=jb(),N=E.useRef(""),[k,R]=ub(i,a,l),x=HV(u),{onFocus:L,onBlur:V,onClick:j}=typeof t!="function"?E.Children.only(t).props:{},q=ke=>{T(Mh(ke))},G=E.useCallback(()=>{if(S.clear(),N.current="show",!x.show){R(!0);return}S.set(()=>{N.current==="show"&&R(!0)},x.show)},[x.show,R,S]),C=E.useCallback(()=>{if(S.clear(),N.current="hide",!x.hide){R(!1);return}S.set(()=>{N.current==="hide"&&R(!1)},x.hide)},[x.hide,R,S]),b=E.useCallback((...ke)=>{G(),L==null||L(...ke)},[G,L]),P=E.useCallback((...ke)=>{C(),V==null||V(...ke)},[C,V]),M=E.useCallback((...ke)=>{R(!k),j==null||j(...ke)},[j,R,k]),U=E.useCallback((...ke)=>{qT(G,ke,"fromElement")},[G]),F=E.useCallback((...ke)=>{qT(C,ke,"toElement")},[C]),O=n==null?[]:[].concat(n),we={ref:q};return O.indexOf("click")!==-1&&(we.onClick=M),O.indexOf("focus")!==-1&&(we.onFocus=b,we.onBlur=P),O.indexOf("hover")!==-1&&(we.onMouseOver=U,we.onMouseOut=F),X(zt,{children:[typeof t=="function"?t(we):E.cloneElement(t,we),w(nR,{...m,show:k,onHide:C,flip:p,placement:f,popperConfig:r,target:y.current,children:e})]})},Vr=E.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=Ee(n,"row"),l=db(),u=fb(),f=`${a}-cols`,p=[];return l.forEach(m=>{const y=r[m];delete r[m];let T;y!=null&&typeof y=="object"?{cols:T}=y:T=y;const S=m!==u?`-${m}`:"";T!=null&&p.push(`${f}${S}-${T}`)}),w(t,{ref:i,...r,className:ye(e,a,...p)})});Vr.displayName="Row";const rR=E.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:a,...l},u)=>{n=Ee(n,"spinner");const f=`${n}-${t}`;return w(i,{ref:u,...l,className:ye(a,f,r&&`${f}-${r}`,e&&`text-${e}`)})});rR.displayName="Spinner";function Te(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(m){try{p(r.next(m))}catch(y){l(y)}}function f(m){try{p(r.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):i(m.value).then(u,f)}p((r=r.apply(n,[])).next())})}function zV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let Fe=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};Fe.equal=(n,e)=>new Fe("equal",n,e).toString();Fe.notEqual=(n,e)=>new Fe("notEqual",n,e).toString();Fe.lessThan=(n,e)=>new Fe("lessThan",n,e).toString();Fe.lessThanEqual=(n,e)=>new Fe("lessThanEqual",n,e).toString();Fe.greaterThan=(n,e)=>new Fe("greaterThan",n,e).toString();Fe.greaterThanEqual=(n,e)=>new Fe("greaterThanEqual",n,e).toString();Fe.isNull=n=>new Fe("isNull",n).toString();Fe.isNotNull=n=>new Fe("isNotNull",n).toString();Fe.between=(n,e,t)=>new Fe("between",n,[e,t]).toString();Fe.startsWith=(n,e)=>new Fe("startsWith",n,e).toString();Fe.endsWith=(n,e)=>new Fe("endsWith",n,e).toString();Fe.select=n=>new Fe("select",void 0,n).toString();Fe.search=(n,e)=>new Fe("search",n,e).toString();Fe.orderDesc=n=>new Fe("orderDesc",n).toString();Fe.orderAsc=n=>new Fe("orderAsc",n).toString();Fe.cursorAfter=n=>new Fe("cursorAfter",void 0,n).toString();Fe.cursorBefore=n=>new Fe("cursorBefore",void 0,n).toString();Fe.limit=n=>new Fe("limit",void 0,n).toString();Fe.offset=n=>new Fe("offset",void 0,n).toString();Fe.contains=(n,e)=>new Fe("contains",n,e).toString();Fe.or=n=>new Fe("or",void 0,n.map(e=>JSON.parse(e))).toString();Fe.and=n=>new Fe("and",void 0,n.map(e=>JSON.parse(e))).toString();class ae extends Error{constructor(e,t=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=i}}class ti{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(l=>{i.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+i.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var u,f,p;if(!this.realtime.reconnect||((f=(u=this.realtime)===null||u===void 0?void 0:u.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const m=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${m/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},m)}))},onMessage:e=>{var t,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],u=i.data;l&&!u.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let f=i.data;if(f!=null&&f.channels){if(!f.channels.some(m=>this.realtime.channels.has(m)))return;this.realtime.subscriptions.forEach(m=>{f.channels.some(y=>m.channels.includes(y))&&setTimeout(()=>m.callback(f))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,u]of Object.entries(ti.flatten(i)))t.searchParams.append(l,u);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(i);break;case"multipart/form-data":const l=new FormData;for(const[u,f]of Object.entries(i))if(f instanceof File)l.append(u,f,f.name);else if(Array.isArray(f))for(const p of f)l.append(`${u}[]`,p);else l.append(u,f);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},i={},a){return Te(this,void 0,void 0,function*(){const l=Object.values(i).find(p=>p instanceof File);if(l.size<=ti.CHUNK_SIZE)return yield this.call(e,t,r,i);let u=0,f=null;for(;u<l.size;){let p=u+ti.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${u}-${p-1}/${l.size}`;const m=l.slice(u,p);let y=Object.assign(Object.assign({},i),{file:new File([m],l.name)});f=yield this.call(e,t,r,y),a&&typeof a=="function"&&a({$id:f.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/ti.CHUNK_SIZE),chunksUploaded:Math.ceil(p/ti.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),u=p}return f})}ping(){return Te(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},i={},a="json"){var l;return Te(this,void 0,void 0,function*(){const{uri:u,options:f}=this.prepareRequest(e,t,r,i);let p=null;const m=yield fetch(u,f),y=m.headers.get("x-appwrite-warning");if(y&&y.split(";").forEach(S=>console.warn("Warning: "+S)),!((l=m.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield m.json():a==="arrayBuffer"?p=yield m.arrayBuffer():p={message:yield m.text()},400<=m.status)throw new ae(p==null?void 0:p.message,m.status,p==null?void 0:p.type,p);const T=m.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),ti.flatten(a,l)):r[l]=a}return r}}ti.CHUNK_SIZE=1024*1024*5;class Ro{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),Ro.flatten(a,l)):r[l]=a}return r}}Ro.CHUNK_SIZE=5*1024*1024;class WV{constructor(e){this.client=e}get(){return Te(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}create(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');if(typeof r>"u")throw new ae('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof i<"u"&&(l.name=i);const u=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",u,f,l)})}updateEmail(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}listIdentities(e){return Te(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}deleteIdentity(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createJWT(){return Te(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}listLogs(e){return Te(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateMFA(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaAuthenticator(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');if(typeof t>"u")throw new ae('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deleteMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createMfaChallenge(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaChallenge(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "challengeId"');if(typeof t>"u")throw new ae('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}listMfaFactors(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}getMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}createMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updateMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}updateName(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}updatePassword(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}updatePhone(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "phone"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}getPrefs(){return Te(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}updatePrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createRecovery(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateRecovery(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');if(typeof r>"u")throw new ae('Missing required parameter: "password"');const i="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("put",l,u,a)})}listSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}deleteSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,t)})}createAnonymousSession(){return Te(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}createEmailPasswordSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateMagicURLSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createOAuth2Session(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const u=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(Ro.flatten(l)))u.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=u.toString();return}else return u.toString()})}updatePhoneSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}getSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}deleteSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}updateStatus(){return Te(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}createPushTarget(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');if(typeof t>"u")throw new ae('Missing required parameter: "identifier"');const i="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,a)})}updatePushTarget(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');if(typeof t>"u")throw new ae('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof t<"u"&&(i.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deletePushTarget(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createEmailToken(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');const i="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,a)})}createMagicURLToken(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof i<"u"&&(l.phrase=i);const u=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",u,f,l)})}createOAuth2Token(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const u=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(Ro.flatten(l)))u.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=u.toString();return}else return u.toString()})}createPhoneToken(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}createVerification(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createPhoneVerification(){return Te(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updatePhoneVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}class qV{constructor(e){this.client=e}listDocuments(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,a)})}createDocument(e,t,r,i,a){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');if(typeof i>"u")throw new ae('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),u={};typeof r<"u"&&(u.documentId=r),typeof i<"u"&&(u.data=i),typeof a<"u"&&(u.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",f,p,u)})}getDocument(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof i<"u"&&(l.queries=i);const u=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("get",u,f,l)})}updateDocument(e,t,r,i,a){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),u={};typeof i<"u"&&(u.data=i),typeof a<"u"&&(u.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",f,p,u)})}deleteDocument(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("delete",l,u,a)})}}class KV{constructor(e){this.client=e}listFiles(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,a)})}createFile(e,t,r,i,a=l=>{}){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');if(typeof r>"u")throw new ae('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),u={};typeof t<"u"&&(u.fileId=t),typeof r<"u"&&(u.file=r),typeof i<"u"&&(u.permissions=i);const f=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,p,u,a)})}getFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateFile(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof i<"u"&&(l.permissions=i);const u=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("put",u,f,l)})}deleteFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}getFileDownload(e,t){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,u]of Object.entries(Ro.flatten(i)))a.searchParams.append(l,u);i.project=this.client.config.project;for(const[l,u]of Object.entries(ti.flatten(i)))a.searchParams.append(l,u);return a.toString()}getFilePreview(e,t,r,i,a,l,u,f,p,m,y,T,S){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const N="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),k={};typeof r<"u"&&(k.width=r),typeof i<"u"&&(k.height=i),typeof a<"u"&&(k.gravity=a),typeof l<"u"&&(k.quality=l),typeof u<"u"&&(k.borderWidth=u),typeof f<"u"&&(k.borderColor=f),typeof p<"u"&&(k.borderRadius=p),typeof m<"u"&&(k.opacity=m),typeof y<"u"&&(k.rotation=y),typeof T<"u"&&(k.background=T),typeof S<"u"&&(k.output=S);const R=new URL(this.client.config.endpoint+N);k.project=this.client.config.project;for(const[x,L]of Object.entries(Ro.flatten(k)))R.searchParams.append(x,L);k.project=this.client.config.project;for(const[x,L]of Object.entries(ti.flatten(k)))R.searchParams.append(x,L);return R.toString()}getFileView(e,t){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,u]of Object.entries(Ro.flatten(i)))a.searchParams.append(l,u);i.project=this.client.config.project;for(const[l,u]of Object.entries(ti.flatten(i)))a.searchParams.append(l,u);return a.toString()}}class GV{constructor(e){this.client=e}list(e,t){return Te(this,void 0,void 0,function*(){const r="/teams",i={};typeof e<"u"&&(i.queries=e),typeof t<"u"&&(i.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}create(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "name"');const i="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,a)})}get(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateName(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),i={};typeof t<"u"&&(i.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}delete(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}listMemberships(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const i="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,a)})}createMembership(e,t,r,i,a,l,u){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof i<"u"&&(p.userId=i),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof u<"u"&&(p.name=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return yield this.client.call("post",m,y,p)})}getMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateMembership(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');if(typeof r>"u")throw new ae('Missing required parameter: "roles"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("patch",l,u,a)})}deleteMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}updateMembershipStatus(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');if(typeof r>"u")throw new ae('Missing required parameter: "userId"');if(typeof i>"u")throw new ae('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i);const u=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("patch",u,f,l)})}getPrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updatePrefs(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),i={};typeof t<"u"&&(i.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}var iR,sR;class hc{static custom(e){return e}static unique(e=7){const t=zV(hc,iR,"m",sR).call(hc);let r="";for(let i=0;i<e;i++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}iR=hc,sR=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var KT;(function(n){n.Totp="totp"})(KT||(KT={}));var GT;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(GT||(GT={}));var $y;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})($y||($y={}));var QT;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(QT||(QT={}));var YT;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(YT||(YT={}));var XT;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(XT||(XT={}));var JT;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(JT||(JT={}));var ZT;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(ZT||(ZT={}));var eI;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(eI||(eI={}));const Sd=new ti;Sd.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const Mc=new KV(Sd),Ju=new WV(Sd),Yn=new qV(Sd),QV=new GV(Sd);async function YV(){return{session:await Ju.getSession("current")}}const m_=async()=>{try{return await Ju.get()}catch(n){console.error(n)}};async function XV(){await Ju.deleteSession("current"),console.log("log out")}async function JV(){const n=await m_();return n?ZV(n):(console.error("User data is undefined"),null)}function ZV(n){return{name:n.name,$id:n.$id,email:n.email}}async function eU(){return{teams:(await QV.list()).teams}}const oR=E.createContext(void 0),tU=({children:n})=>{const e=nU();return w(oR.Provider,{value:e,children:n})};function nU(){const[n,e]=E.useState(),[t,r]=E.useState();E.useEffect(()=>{(async function(){const f=await YV();e(f.session)})()},[]),E.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:f}=await eU(),p=!!f.find(m=>m.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function i(){await Ju.createOAuth2Session($y.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery")}async function a(u,f){try{await Ju.createEmailPasswordSession(u,f)}catch(p){console.error(p)}}async function l(){await XV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:i,logInAdmin:a}}function Zu(){const n=E.useContext(oR);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ht(){return Ht=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ht.apply(this,arguments)}var un;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(un||(un={}));const tI="popstate";function rU(n){n===void 0&&(n={});function e(i,a){let{pathname:l="/",search:u="",hash:f=""}=js(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),ed("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");u=p===-1?f:f.slice(0,p)}return u+"#"+(typeof a=="string"?a:Va(a))}function r(i,a){Ma(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return sU(e,t,r,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ma(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iU(){return Math.random().toString(36).substr(2,8)}function nI(n,e){return{usr:n.state,key:n.key,idx:e}}function ed(n,e,t,r){return t===void 0&&(t=null),Ht({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:t,key:e&&e.key||r||iU()})}function Va(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function js(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function sU(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=un.Pop,f=null,p=m();p==null&&(p=0,l.replaceState(Ht({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function y(){u=un.Pop;let R=m(),x=R==null?null:R-p;p=R,f&&f({action:u,location:k.location,delta:x})}function T(R,x){u=un.Push;let L=ed(k.location,R,x);t&&t(L,R),p=m()+1;let V=nI(L,p),j=k.createHref(L);try{l.pushState(V,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(j)}a&&f&&f({action:u,location:k.location,delta:1})}function S(R,x){u=un.Replace;let L=ed(k.location,R,x);t&&t(L,R),p=m();let V=nI(L,p),j=k.createHref(L);l.replaceState(V,"",j),a&&f&&f({action:u,location:k.location,delta:0})}function N(R){let x=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof R=="string"?R:Va(R);return L=L.replace(/ $/,"%20"),lt(x,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,x)}let k={get action(){return u},get location(){return n(i,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(tI,y),f=R,()=>{i.removeEventListener(tI,y),f=null}},createHref(R){return e(i,R)},createURL:N,encodeLocation(R){let x=N(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:T,replace:S,go(R){return l.go(R)}};return k}var Pt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Pt||(Pt={}));const oU=new Set(["lazy","caseSensitive","path","id","index","children"]);function aU(n){return n.index===!0}function $h(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,a)=>{let l=[...t,String(a)],u=typeof i.id=="string"?i.id:l.join("-");if(lt(i.index!==!0||!i.children,"Cannot specify children on an index route"),lt(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),aU(i)){let f=Ht({},i,e(i),{id:u});return r[u]=f,f}else{let f=Ht({},i,e(i),{id:u,children:void 0});return r[u]=f,i.children&&(f.children=$h(i.children,e,l,r)),f}})}function Ia(n,e,t){return t===void 0&&(t="/"),_h(n,e,t,!1)}function _h(n,e,t,r){let i=typeof e=="string"?js(e):e,a=xs(i.pathname||"/",t);if(a==null)return null;let l=aR(n);cU(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let p=wU(a);u=vU(l[f],p,r)}return u}function lU(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function aR(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(lt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=bs([r,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(lt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),aR(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:gU(p,a.index),routesMeta:m})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let f of lR(a.path))i(a,l,f)}),e}function lR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=lR(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function cU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yU(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const uU=/^:[\w-]+$/,dU=3,fU=2,hU=1,pU=10,mU=-2,rI=n=>n==="*";function gU(n,e){let t=n.split("/"),r=t.length;return t.some(rI)&&(r+=mU),e&&(r+=fU),t.filter(i=>!rI(i)).reduce((i,a)=>i+(uU.test(a)?dU:a===""?hU:pU),r)}function yU(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function vU(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],p=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Fh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),T=f.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=Fh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:bs([a,y.pathname]),pathnameBase:IU(bs([a,y.pathnameBase])),route:T}),y.pathnameBase!=="/"&&(a=bs([a,y.pathnameBase]))}return l}function Fh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_U(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,m,y)=>{let{paramName:T,isOptional:S}=m;if(T==="*"){let k=u[y]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const N=u[y];return S&&!N?p[T]=void 0:p[T]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function _U(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ma(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wU(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ma(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function xs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function EU(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?js(n):n;return{pathname:t?t.startsWith("/")?t:TU(t,e):e,search:SU(r),hash:CU(i)}}function TU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function iy(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cp(n,e){let t=cR(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function bp(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=js(n):(i=Ht({},n),lt(!i.pathname||!i.pathname.includes("?"),iy("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),iy("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),iy("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),y-=1;i.pathname=T.join("/")}u=y>=0?e[y]:"/"}let f=EU(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}const bs=n=>n.join("/").replace(/\/\/+/g,"/"),IU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SU=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class jh{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function td(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const uR=["post","put","patch","delete"],bU=new Set(uR),AU=["get",...uR],RU=new Set(AU),NU=new Set([301,302,303,307,308]),kU=new Set([307,308]),sy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},g_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DU=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),dR="remix-router-transitions";function xU(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;lt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let B=n.detectErrorBoundary;i=K=>({hasErrorBoundary:B(K)})}else i=DU;let a={},l=$h(n.routes,i,void 0,a),u,f=n.basename||"/",p=n.dataStrategy||VU,m=n.patchRoutesOnNavigation,y=Ht({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,S=new Set,N=null,k=null,R=null,x=n.hydrationData!=null,L=Ia(l,n.history.location,f),V=!1,j=null;if(L==null&&!m){let B=wr(404,{pathname:n.history.location.pathname}),{matches:K,route:Z}=pI(l);L=K,j={[Z.id]:B}}L&&!n.hydrationData&&Pi(L,l,n.history.location.pathname).active&&(L=null);let q;if(L)if(L.some(B=>B.route.lazy))q=!1;else if(!L.some(B=>B.route.loader))q=!0;else if(y.v7_partialHydration){let B=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let Z=L.findIndex(ie=>K[ie.route.id]!==void 0);q=L.slice(0,Z+1).every(ie=>!jy(ie.route,B,K))}else q=L.every(Z=>!jy(Z.route,B,K))}else q=n.hydrationData!=null;else if(q=!1,L=[],y.v7_partialHydration){let B=Pi(null,l,n.history.location.pathname);B.active&&B.matches&&(V=!0,L=B.matches)}let G,C={historyAction:n.history.action,location:n.history.location,matches:L,initialized:q,navigation:sy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||j,fetchers:new Map,blockers:new Map},b=un.Pop,P=!1,M,U=!1,F=new Map,O=null,we=!1,ke=!1,je=[],Se=new Set,re=new Map,me=0,ce=-1,z=new Map,te=new Set,pe=new Map,ve=new Map,Ie=new Set,Ae=new Map,Ge=new Map,Be;function ot(){if(T=n.history.listen(B=>{let{action:K,location:Z,delta:ie}=B;if(Be){Be(),Be=void 0;return}Ma(Ge.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=ts({currentLocation:C.location,nextLocation:Z,historyAction:K});if(_e&&ie!=null){let Pe=new Promise(Qe=>{Be=Qe});n.history.go(ie*-1),ci(_e,{state:"blocked",location:Z,proceed(){ci(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),Pe.then(()=>n.history.go(ie))},reset(){let Qe=new Map(C.blockers);Qe.set(_e,bu),st({blockers:Qe})}});return}return Wt(K,Z)}),t){XU(e,F);let B=()=>JU(e,F);e.addEventListener("pagehide",B),O=()=>e.removeEventListener("pagehide",B)}return C.initialized||Wt(un.Pop,C.location,{initialHydration:!0}),G}function Tt(){T&&T(),O&&O(),S.clear(),M&&M.abort(),C.fetchers.forEach((B,K)=>Zn(K)),C.blockers.forEach((B,K)=>Ni(K))}function Ct(B){return S.add(B),()=>S.delete(B)}function st(B,K){K===void 0&&(K={}),C=Ht({},C,B);let Z=[],ie=[];y.v7_fetcherPersist&&C.fetchers.forEach((_e,Pe)=>{_e.state==="idle"&&(Ie.has(Pe)?ie.push(Pe):Z.push(Pe))}),Ie.forEach(_e=>{!C.fetchers.has(_e)&&!re.has(_e)&&ie.push(_e)}),[...S].forEach(_e=>_e(C,{deletedFetchers:ie,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),y.v7_fetcherPersist?(Z.forEach(_e=>C.fetchers.delete(_e)),ie.forEach(_e=>Zn(_e))):ie.forEach(_e=>Ie.delete(_e))}function Dt(B,K,Z){var ie,_e;let{flushSync:Pe}=Z===void 0?{}:Z,Qe=C.actionData!=null&&C.navigation.formMethod!=null&&Ti(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ie=B.state)==null?void 0:ie._isRedirect)!==!0,De;K.actionData?Object.keys(K.actionData).length>0?De=K.actionData:De=null:Qe?De=C.actionData:De=null;let Re=K.loaderData?fI(C.loaderData,K.loaderData,K.matches||[],K.errors):C.loaderData,Ce=C.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Ze,Jt)=>Ce.set(Jt,bu)));let xe=P===!0||C.navigation.formMethod!=null&&Ti(C.navigation.formMethod)&&((_e=B.state)==null?void 0:_e._isRedirect)!==!0;u&&(l=u,u=void 0),we||b===un.Pop||(b===un.Push?n.history.push(B,B.state):b===un.Replace&&n.history.replace(B,B.state));let et;if(b===un.Pop){let Ze=F.get(C.location.pathname);Ze&&Ze.has(B.pathname)?et={currentLocation:C.location,nextLocation:B}:F.has(B.pathname)&&(et={currentLocation:B,nextLocation:C.location})}else if(U){let Ze=F.get(C.location.pathname);Ze?Ze.add(B.pathname):(Ze=new Set([B.pathname]),F.set(C.location.pathname,Ze)),et={currentLocation:C.location,nextLocation:B}}st(Ht({},K,{actionData:De,loaderData:Re,historyAction:b,location:B,initialized:!0,navigation:sy,revalidation:"idle",restoreScrollPosition:ki(B,K.matches||C.matches),preventScrollReset:xe,blockers:Ce}),{viewTransitionOpts:et,flushSync:Pe===!0}),b=un.Pop,P=!1,U=!1,we=!1,ke=!1,je=[]}async function Xt(B,K){if(typeof B=="number"){n.history.go(B);return}let Z=Fy(C.location,C.matches,f,y.v7_prependBasename,B,y.v7_relativeSplatPath,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:ie,submission:_e,error:Pe}=iI(y.v7_normalizeFormMethod,!1,Z,K),Qe=C.location,De=ed(C.location,ie,K&&K.state);De=Ht({},De,n.history.encodeLocation(De));let Re=K&&K.replace!=null?K.replace:void 0,Ce=un.Push;Re===!0?Ce=un.Replace:Re===!1||_e!=null&&Ti(_e.formMethod)&&_e.formAction===C.location.pathname+C.location.search&&(Ce=un.Replace);let xe=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,et=(K&&K.flushSync)===!0,Ze=ts({currentLocation:Qe,nextLocation:De,historyAction:Ce});if(Ze){ci(Ze,{state:"blocked",location:De,proceed(){ci(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),Xt(B,K)},reset(){let Jt=new Map(C.blockers);Jt.set(Ze,bu),st({blockers:Jt})}});return}return await Wt(Ce,De,{submission:_e,pendingError:Pe,preventScrollReset:xe,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:et})}function it(){if(gt(),st({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Wt(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Wt(b||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:U===!0})}}async function Wt(B,K,Z){M&&M.abort(),M=null,b=B,we=(Z&&Z.startUninterruptedRevalidation)===!0,Zo(C.location,C.matches),P=(Z&&Z.preventScrollReset)===!0,U=(Z&&Z.enableViewTransition)===!0;let ie=u||l,_e=Z&&Z.overrideNavigation,Pe=Z!=null&&Z.initialHydration&&C.matches&&C.matches.length>0&&!V?C.matches:Ia(ie,K,f),Qe=(Z&&Z.flushSync)===!0,De=Pi(Pe,ie,K.pathname);if(De.active&&De.matches&&(Pe=De.matches),!Pe){let{error:It,notFoundMatches:ct,route:Nt}=$n(K.pathname);Dt(K,{matches:ct,loaderData:{},errors:{[Nt.id]:It}},{flushSync:Qe});return}if(C.initialized&&!ke&&HU(C.location,K)&&!(Z&&Z.submission&&Ti(Z.submission.formMethod))){Dt(K,{matches:Pe},{flushSync:Qe});return}M=new AbortController;let Re=jl(n.history,K,M.signal,Z&&Z.submission),Ce;if(Z&&Z.pendingError)Ce=[Sa(Pe).route.id,{type:Pt.error,error:Z.pendingError}];else if(Z&&Z.submission&&Ti(Z.submission.formMethod)){let It=await _n(Re,K,Z.submission,Pe,De.active,{replace:Z.replace,flushSync:Qe});if(It.shortCircuited)return;if(It.pendingActionResult){let[ct,Nt]=It.pendingActionResult;if(Lr(Nt)&&td(Nt.error)&&Nt.error.status===404){M=null,Dt(K,{matches:It.matches,loaderData:{},errors:{[ct]:Nt.error}});return}}Pe=It.matches||Pe,Ce=It.pendingActionResult,_e=oy(K,Z.submission),Qe=!1,De.active=!1,Re=jl(n.history,Re.url,Re.signal)}let{shortCircuited:xe,matches:et,loaderData:Ze,errors:Jt}=await Br(Re,K,Pe,De.active,_e,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Qe,Ce);xe||(M=null,Dt(K,Ht({matches:et||Pe},hI(Ce),{loaderData:Ze,errors:Jt})))}async function _n(B,K,Z,ie,_e,Pe){Pe===void 0&&(Pe={}),gt();let Qe=QU(K,Z);if(st({navigation:Qe},{flushSync:Pe.flushSync===!0}),_e){let Ce=await dr(ie,K.pathname,B.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let xe=Sa(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[xe,{type:Pt.error,error:Ce.error}]}}else if(Ce.matches)ie=Ce.matches;else{let{notFoundMatches:xe,error:et,route:Ze}=$n(K.pathname);return{matches:xe,pendingActionResult:[Ze.id,{type:Pt.error,error:et}]}}}let De,Re=Du(ie,K);if(!Re.route.action&&!Re.route.lazy)De={type:Pt.error,error:wr(405,{method:B.method,pathname:K.pathname,routeId:Re.route.id})};else if(De=(await hn("action",C,B,[Re],ie,null))[Re.route.id],B.signal.aborted)return{shortCircuited:!0};if(Ra(De)){let Ce;return Pe&&Pe.replace!=null?Ce=Pe.replace:Ce=cI(De.response.headers.get("Location"),new URL(B.url),f)===C.location.pathname+C.location.search,await Lt(B,De,!0,{submission:Z,replace:Ce}),{shortCircuited:!0}}if(bo(De))throw wr(400,{type:"defer-action"});if(Lr(De)){let Ce=Sa(ie,Re.route.id);return(Pe&&Pe.replace)!==!0&&(b=un.Push),{matches:ie,pendingActionResult:[Ce.route.id,De]}}return{matches:ie,pendingActionResult:[Re.route.id,De]}}async function Br(B,K,Z,ie,_e,Pe,Qe,De,Re,Ce,xe){let et=_e||oy(K,Pe),Ze=Pe||Qe||gI(et),Jt=!we&&(!y.v7_partialHydration||!Re);if(ie){if(Jt){let bt=Xn(xe);st(Ht({navigation:et},bt!==void 0?{actionData:bt}:{}),{flushSync:Ce})}let ft=await dr(Z,K.pathname,B.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let bt=Sa(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[bt]:ft.error}}}else if(ft.matches)Z=ft.matches;else{let{error:bt,notFoundMatches:on,route:Oi}=$n(K.pathname);return{matches:on,loaderData:{},errors:{[Oi.id]:bt}}}}let It=u||l,[ct,Nt]=oI(n.history,C,Z,Ze,K,y.v7_partialHydration&&Re===!0,y.v7_skipActionErrorRevalidation,ke,je,Se,Ie,pe,te,It,f,xe);if(ur(ft=>!(Z&&Z.some(bt=>bt.route.id===ft))||ct&&ct.some(bt=>bt.route.id===ft)),ce=++me,ct.length===0&&Nt.length===0){let ft=cr();return Dt(K,Ht({matches:Z,loaderData:{},errors:xe&&Lr(xe[1])?{[xe[0]]:xe[1].error}:null},hI(xe),ft?{fetchers:new Map(C.fetchers)}:{}),{flushSync:Ce}),{shortCircuited:!0}}if(Jt){let ft={};if(!ie){ft.navigation=et;let bt=Xn(xe);bt!==void 0&&(ft.actionData=bt)}Nt.length>0&&(ft.fetchers=qt(Nt)),st(ft,{flushSync:Ce})}Nt.forEach(ft=>{at(ft.key),ft.controller&&re.set(ft.key,ft.controller)});let Hr=()=>Nt.forEach(ft=>at(ft.key));M&&M.signal.addEventListener("abort",Hr);let{loaderResults:Di,fetcherResults:Cr}=await $e(C,Z,ct,Nt,B);if(B.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Hr),Nt.forEach(ft=>re.delete(ft.key));let dt=ih(Di);if(dt)return await Lt(B,dt.result,!0,{replace:De}),{shortCircuited:!0};if(dt=ih(Cr),dt)return te.add(dt.key),await Lt(B,dt.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:qs,errors:br}=dI(C,Z,Di,xe,Nt,Cr,Ae);Ae.forEach((ft,bt)=>{ft.subscribe(on=>{(on||ft.done)&&Ae.delete(bt)})}),y.v7_partialHydration&&Re&&C.errors&&(br=Ht({},C.errors,br));let Fn=cr(),Rn=Ri(ce),xi=Fn||Rn||Nt.length>0;return Ht({matches:Z,loaderData:qs,errors:br},xi?{fetchers:new Map(C.fetchers)}:{})}function Xn(B){if(B&&!Lr(B[1]))return{[B[0]]:B[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function qt(B){return B.forEach(K=>{let Z=C.fetchers.get(K.key),ie=Au(void 0,Z?Z.data:void 0);C.fetchers.set(K.key,ie)}),new Map(C.fetchers)}function sn(B,K,Z,ie){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");at(B);let _e=(ie&&ie.flushSync)===!0,Pe=u||l,Qe=Fy(C.location,C.matches,f,y.v7_prependBasename,Z,y.v7_relativeSplatPath,K,ie==null?void 0:ie.relative),De=Ia(Pe,Qe,f),Re=Pi(De,Pe,Qe);if(Re.active&&Re.matches&&(De=Re.matches),!De){wn(B,K,wr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Ce,submission:xe,error:et}=iI(y.v7_normalizeFormMethod,!0,Qe,ie);if(et){wn(B,K,et,{flushSync:_e});return}let Ze=Du(De,Ce),Jt=(ie&&ie.preventScrollReset)===!0;if(xe&&Ti(xe.formMethod)){lr(B,K,Ce,Ze,De,Re.active,_e,Jt,xe);return}pe.set(B,{routeId:K,path:Ce}),Un(B,K,Ce,Ze,De,Re.active,_e,Jt,xe)}async function lr(B,K,Z,ie,_e,Pe,Qe,De,Re){gt(),pe.delete(B);function Ce(ht){if(!ht.route.action&&!ht.route.lazy){let zr=wr(405,{method:Re.formMethod,pathname:Z,routeId:K});return wn(B,K,zr,{flushSync:Qe}),!0}return!1}if(!Pe&&Ce(ie))return;let xe=C.fetchers.get(B);Mt(B,YU(Re,xe),{flushSync:Qe});let et=new AbortController,Ze=jl(n.history,Z,et.signal,Re);if(Pe){let ht=await dr(_e,new URL(Ze.url).pathname,Ze.signal);if(ht.type==="aborted")return;if(ht.type==="error"){wn(B,K,ht.error,{flushSync:Qe});return}else if(ht.matches){if(_e=ht.matches,ie=Du(_e,Z),Ce(ie))return}else{wn(B,K,wr(404,{pathname:Z}),{flushSync:Qe});return}}re.set(B,et);let Jt=me,ct=(await hn("action",C,Ze,[ie],_e,B))[ie.route.id];if(Ze.signal.aborted){re.get(B)===et&&re.delete(B);return}if(y.v7_fetcherPersist&&Ie.has(B)){if(Ra(ct)||Lr(ct)){Mt(B,vo(void 0));return}}else{if(Ra(ct))if(re.delete(B),ce>Jt){Mt(B,vo(void 0));return}else return te.add(B),Mt(B,Au(Re)),Lt(Ze,ct,!1,{fetcherSubmission:Re,preventScrollReset:De});if(Lr(ct)){wn(B,K,ct.error);return}}if(bo(ct))throw wr(400,{type:"defer-action"});let Nt=C.navigation.location||C.location,Hr=jl(n.history,Nt,et.signal),Di=u||l,Cr=C.navigation.state!=="idle"?Ia(Di,C.navigation.location,f):C.matches;lt(Cr,"Didn't find any matches after fetcher action");let dt=++me;z.set(B,dt);let qs=Au(Re,ct.data);C.fetchers.set(B,qs);let[br,Fn]=oI(n.history,C,Cr,Re,Nt,!1,y.v7_skipActionErrorRevalidation,ke,je,Se,Ie,pe,te,Di,f,[ie.route.id,ct]);Fn.filter(ht=>ht.key!==B).forEach(ht=>{let zr=ht.key,ta=C.fetchers.get(zr),rl=Au(void 0,ta?ta.data:void 0);C.fetchers.set(zr,rl),at(zr),ht.controller&&re.set(zr,ht.controller)}),st({fetchers:new Map(C.fetchers)});let Rn=()=>Fn.forEach(ht=>at(ht.key));et.signal.addEventListener("abort",Rn);let{loaderResults:xi,fetcherResults:ft}=await $e(C,Cr,br,Fn,Hr);if(et.signal.aborted)return;et.signal.removeEventListener("abort",Rn),z.delete(B),re.delete(B),Fn.forEach(ht=>re.delete(ht.key));let bt=ih(xi);if(bt)return Lt(Hr,bt.result,!1,{preventScrollReset:De});if(bt=ih(ft),bt)return te.add(bt.key),Lt(Hr,bt.result,!1,{preventScrollReset:De});let{loaderData:on,errors:Oi}=dI(C,Cr,xi,void 0,Fn,ft,Ae);if(C.fetchers.has(B)){let ht=vo(ct.data);C.fetchers.set(B,ht)}Ri(dt),C.navigation.state==="loading"&&dt>ce?(lt(b,"Expected pending action"),M&&M.abort(),Dt(C.navigation.location,{matches:Cr,loaderData:on,errors:Oi,fetchers:new Map(C.fetchers)})):(st({errors:Oi,loaderData:fI(C.loaderData,on,Cr,Oi),fetchers:new Map(C.fetchers)}),ke=!1)}async function Un(B,K,Z,ie,_e,Pe,Qe,De,Re){let Ce=C.fetchers.get(B);Mt(B,Au(Re,Ce?Ce.data:void 0),{flushSync:Qe});let xe=new AbortController,et=jl(n.history,Z,xe.signal);if(Pe){let ct=await dr(_e,new URL(et.url).pathname,et.signal);if(ct.type==="aborted")return;if(ct.type==="error"){wn(B,K,ct.error,{flushSync:Qe});return}else if(ct.matches)_e=ct.matches,ie=Du(_e,Z);else{wn(B,K,wr(404,{pathname:Z}),{flushSync:Qe});return}}re.set(B,xe);let Ze=me,It=(await hn("loader",C,et,[ie],_e,B))[ie.route.id];if(bo(It)&&(It=await y_(It,et.signal,!0)||It),re.get(B)===xe&&re.delete(B),!et.signal.aborted){if(Ie.has(B)){Mt(B,vo(void 0));return}if(Ra(It))if(ce>Ze){Mt(B,vo(void 0));return}else{te.add(B),await Lt(et,It,!1,{preventScrollReset:De});return}if(Lr(It)){wn(B,K,It.error);return}lt(!bo(It),"Unhandled fetcher deferred data"),Mt(B,vo(It.data))}}async function Lt(B,K,Z,ie){let{submission:_e,fetcherSubmission:Pe,preventScrollReset:Qe,replace:De}=ie===void 0?{}:ie;K.response.headers.has("X-Remix-Revalidate")&&(ke=!0);let Re=K.response.headers.get("Location");lt(Re,"Expected a Location header on the redirect Response"),Re=cI(Re,new URL(B.url),f);let Ce=ed(C.location,Re,{_isRedirect:!0});if(t){let ct=!1;if(K.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(g_.test(Re)){const Nt=n.history.createURL(Re);ct=Nt.origin!==e.location.origin||xs(Nt.pathname,f)==null}if(ct){De?e.location.replace(Re):e.location.assign(Re);return}}M=null;let xe=De===!0||K.response.headers.has("X-Remix-Replace")?un.Replace:un.Push,{formMethod:et,formAction:Ze,formEncType:Jt}=C.navigation;!_e&&!Pe&&et&&Ze&&Jt&&(_e=gI(C.navigation));let It=_e||Pe;if(kU.has(K.response.status)&&It&&Ti(It.formMethod))await Wt(xe,Ce,{submission:Ht({},It,{formAction:Re}),preventScrollReset:Qe||P,enableViewTransition:Z?U:void 0});else{let ct=oy(Ce,_e);await Wt(xe,Ce,{overrideNavigation:ct,fetcherSubmission:Pe,preventScrollReset:Qe||P,enableViewTransition:Z?U:void 0})}}async function hn(B,K,Z,ie,_e,Pe){let Qe,De={};try{Qe=await UU(p,B,K,Z,ie,_e,Pe,a,i)}catch(Re){return ie.forEach(Ce=>{De[Ce.route.id]={type:Pt.error,error:Re}}),De}for(let[Re,Ce]of Object.entries(Qe))if(zU(Ce)){let xe=Ce.result;De[Re]={type:Pt.redirect,response:jU(xe,Z,Re,_e,f,y.v7_relativeSplatPath)}}else De[Re]=await FU(Ce);return De}async function $e(B,K,Z,ie,_e){let Pe=B.matches,Qe=hn("loader",B,_e,Z,K,null),De=Promise.all(ie.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let Ze=(await hn("loader",B,jl(n.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:Ze}}else return Promise.resolve({[xe.key]:{type:Pt.error,error:wr(404,{pathname:xe.path})}})})),Re=await Qe,Ce=(await De).reduce((xe,et)=>Object.assign(xe,et),{});return await Promise.all([KU(K,Re,_e.signal,Pe,B.loaderData),GU(K,Ce,ie)]),{loaderResults:Re,fetcherResults:Ce}}function gt(){ke=!0,je.push(...ur()),pe.forEach((B,K)=>{re.has(K)&&Se.add(K),at(K)})}function Mt(B,K,Z){Z===void 0&&(Z={}),C.fetchers.set(B,K),st({fetchers:new Map(C.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function wn(B,K,Z,ie){ie===void 0&&(ie={});let _e=Sa(C.matches,K);Zn(B),st({errors:{[_e.route.id]:Z},fetchers:new Map(C.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Jn(B){return ve.set(B,(ve.get(B)||0)+1),Ie.has(B)&&Ie.delete(B),C.fetchers.get(B)||PU}function Zn(B){let K=C.fetchers.get(B);re.has(B)&&!(K&&K.state==="loading"&&z.has(B))&&at(B),pe.delete(B),z.delete(B),te.delete(B),y.v7_fetcherPersist&&Ie.delete(B),Se.delete(B),C.fetchers.delete(B)}function ze(B){let K=(ve.get(B)||0)-1;K<=0?(ve.delete(B),Ie.add(B),y.v7_fetcherPersist||Zn(B)):ve.set(B,K),st({fetchers:new Map(C.fetchers)})}function at(B){let K=re.get(B);K&&(K.abort(),re.delete(B))}function En(B){for(let K of B){let Z=Jn(K),ie=vo(Z.data);C.fetchers.set(K,ie)}}function cr(){let B=[],K=!1;for(let Z of te){let ie=C.fetchers.get(Z);lt(ie,"Expected fetcher: "+Z),ie.state==="loading"&&(te.delete(Z),B.push(Z),K=!0)}return En(B),K}function Ri(B){let K=[];for(let[Z,ie]of z)if(ie<B){let _e=C.fetchers.get(Z);lt(_e,"Expected fetcher: "+Z),_e.state==="loading"&&(at(Z),z.delete(Z),K.push(Z))}return En(K),K.length>0}function Jo(B,K){let Z=C.blockers.get(B)||bu;return Ge.get(B)!==K&&Ge.set(B,K),Z}function Ni(B){C.blockers.delete(B),Ge.delete(B)}function ci(B,K){let Z=C.blockers.get(B)||bu;lt(Z.state==="unblocked"&&K.state==="blocked"||Z.state==="blocked"&&K.state==="blocked"||Z.state==="blocked"&&K.state==="proceeding"||Z.state==="blocked"&&K.state==="unblocked"||Z.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+K.state);let ie=new Map(C.blockers);ie.set(B,K),st({blockers:ie})}function ts(B){let{currentLocation:K,nextLocation:Z,historyAction:ie}=B;if(Ge.size===0)return;Ge.size>1&&Ma(!1,"A router only supports one blocker at a time");let _e=Array.from(Ge.entries()),[Pe,Qe]=_e[_e.length-1],De=C.blockers.get(Pe);if(!(De&&De.state==="proceeding")&&Qe({currentLocation:K,nextLocation:Z,historyAction:ie}))return Pe}function $n(B){let K=wr(404,{pathname:B}),Z=u||l,{matches:ie,route:_e}=pI(Z);return ur(),{notFoundMatches:ie,route:_e,error:K}}function ur(B){let K=[];return Ae.forEach((Z,ie)=>{(!B||B(ie))&&(Z.cancel(),K.push(ie),Ae.delete(ie))}),K}function Ws(B,K,Z){if(N=B,R=K,k=Z||null,!x&&C.navigation===sy){x=!0;let ie=ki(C.location,C.matches);ie!=null&&st({restoreScrollPosition:ie})}return()=>{N=null,R=null,k=null}}function Sr(B,K){return k&&k(B,K.map(ie=>lU(ie,C.loaderData)))||B.key}function Zo(B,K){if(N&&R){let Z=Sr(B,K);N[Z]=R()}}function ki(B,K){if(N){let Z=Sr(B,K),ie=N[Z];if(typeof ie=="number")return ie}return null}function Pi(B,K,Z){if(m)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:_h(K,Z,f,!0)}}else return{active:!0,matches:_h(K,Z,f,!0)||[]};return{active:!1,matches:null}}async function dr(B,K,Z){if(!m)return{type:"success",matches:B};let ie=B;for(;;){let _e=u==null,Pe=u||l,Qe=a;try{await m({signal:Z,path:K,matches:ie,patch:(Ce,xe)=>{Z.aborted||lI(Ce,xe,Pe,Qe,i)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:ie}}finally{_e&&!Z.aborted&&(l=[...l])}if(Z.aborted)return{type:"aborted"};let De=Ia(Pe,K,f);if(De)return{type:"success",matches:De};let Re=_h(Pe,K,f,!0);if(!Re||ie.length===Re.length&&ie.every((Ce,xe)=>Ce.route.id===Re[xe].route.id))return{type:"success",matches:null};ie=Re}}function ea(B){a={},u=$h(B,i,void 0,a)}function Kt(B,K){let Z=u==null;lI(B,K,u||l,a,i),Z&&(l=[...l],st({}))}return G={get basename(){return f},get future(){return y},get state(){return C},get routes(){return l},get window(){return e},initialize:ot,subscribe:Ct,enableScrollRestoration:Ws,navigate:Xt,fetch:sn,revalidate:it,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:Jn,deleteFetcher:ze,dispose:Tt,getBlocker:Jo,deleteBlocker:Ni,patchRoutes:Kt,_internalFetchControllers:re,_internalActiveDeferreds:Ae,_internalSetRoutes:ea},G}function OU(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Fy(n,e,t,r,i,a,l,u){let f,p;if(l){f=[];for(let y of e)if(f.push(y),y.route.id===l){p=y;break}}else f=e,p=e[e.length-1];let m=bp(i||".",Cp(f,a),xs(n.pathname,t)||n.pathname,u==="path");if(i==null&&(m.search=n.search,m.hash=n.hash),(i==null||i===""||i===".")&&p){let y=v_(m.search);if(p.route.index&&!y)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&y){let T=new URLSearchParams(m.search),S=T.getAll("index");T.delete("index"),S.filter(k=>k).forEach(k=>T.append("index",k));let N=T.toString();m.search=N?"?"+N:""}}return r&&t!=="/"&&(m.pathname=m.pathname==="/"?t:bs([t,m.pathname])),Va(m)}function iI(n,e,t,r){if(!r||!OU(r))return{path:t};if(r.formMethod&&!qU(r.formMethod))return{path:t,error:wr(405,{method:r.formMethod})};let i=()=>({path:t,error:wr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),u=pR(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ti(l))return i();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((S,N)=>{let[k,R]=N;return""+S+k+"="+R+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!Ti(l))return i();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}lt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=By(r.formData),p=r.formData;else if(r.body instanceof FormData)f=By(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=uI(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=uI(f)}catch{return i()}let m={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Ti(m.formMethod))return{path:t,submission:m};let y=js(t);return e&&y.search&&v_(y.search)&&f.append("index",""),y.search="?"+f,{path:Va(y),submission:m}}function sI(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function oI(n,e,t,r,i,a,l,u,f,p,m,y,T,S,N,k){let R=k?Lr(k[1])?k[1].error:k[1].data:void 0,x=n.createURL(e.location),L=n.createURL(i),V=t;a&&e.errors?V=sI(t,Object.keys(e.errors)[0],!0):k&&Lr(k[1])&&(V=sI(t,k[0]));let j=k?k[1].statusCode:void 0,q=l&&j&&j>=400,G=V.filter((b,P)=>{let{route:M}=b;if(M.lazy)return!0;if(M.loader==null)return!1;if(a)return jy(M,e.loaderData,e.errors);if(LU(e.loaderData,e.matches[P],b)||f.some(O=>O===b.route.id))return!0;let U=e.matches[P],F=b;return aI(b,Ht({currentUrl:x,currentParams:U.params,nextUrl:L,nextParams:F.params},r,{actionResult:R,actionStatus:j,defaultShouldRevalidate:q?!1:u||x.pathname+x.search===L.pathname+L.search||x.search!==L.search||fR(U,F)}))}),C=[];return y.forEach((b,P)=>{if(a||!t.some(we=>we.route.id===b.routeId)||m.has(P))return;let M=Ia(S,b.path,N);if(!M){C.push({key:P,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(P),F=Du(M,b.path),O=!1;T.has(P)?O=!1:p.has(P)?(p.delete(P),O=!0):U&&U.state!=="idle"&&U.data===void 0?O=u:O=aI(F,Ht({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:L,nextParams:t[t.length-1].params},r,{actionResult:R,actionStatus:j,defaultShouldRevalidate:q?!1:u})),O&&C.push({key:P,routeId:b.routeId,path:b.path,matches:M,match:F,controller:new AbortController})}),[G,C]}function jy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function LU(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function fR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function aI(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function lI(n,e,t,r,i){var a;let l;if(n){let p=r[n];lt(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let u=e.filter(p=>!l.some(m=>hR(p,m))),f=$h(u,i,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...f)}function hR(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>hR(t,a))}):!1}async function MU(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];lt(i,"No route found in manifest");let a={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";Ma(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!oU.has(l)&&(a[l]=r[l])}Object.assign(i,a),Object.assign(i,Ht({},e(i),{lazy:void 0}))}async function VU(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,a,l)=>Object.assign(i,{[t[l].route.id]:a}),{})}async function UU(n,e,t,r,i,a,l,u,f,p){let m=a.map(S=>S.route.lazy?MU(S.route,f,u):void 0),y=a.map((S,N)=>{let k=m[N],R=i.some(L=>L.route.id===S.route.id);return Ht({},S,{shouldLoad:R,resolve:async L=>(L&&r.method==="GET"&&(S.route.lazy||S.route.loader)&&(R=!0),R?$U(e,r,S,k,L,p):Promise.resolve({type:Pt.data,result:void 0}))})}),T=await n({matches:y,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(m)}catch{}return T}async function $U(n,e,t,r,i,a){let l,u,f=p=>{let m,y=new Promise((N,k)=>m=k);u=()=>m(),e.signal.addEventListener("abort",u);let T=N=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...N!==void 0?[N]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(k=>T(k)):T())}}catch(N){return{type:"error",result:N}}})();return Promise.race([S,y])};try{let p=t.route[n];if(r)if(p){let m,[y]=await Promise.all([f(p).catch(T=>{m=T}),r]);if(m!==void 0)throw m;l=y}else if(await r,p=t.route[n],p)l=await f(p);else if(n==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw wr(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:Pt.data,result:void 0};else if(p)l=await f(p);else{let m=new URL(e.url),y=m.pathname+m.search;throw wr(404,{pathname:y})}lt(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Pt.error,result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function FU(n){let{result:e,type:t}=n;if(mR(e)){let y;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(T){return{type:Pt.error,error:T}}return t===Pt.error?{type:Pt.error,error:new jh(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:Pt.data,data:y,statusCode:e.status,headers:e.headers}}if(t===Pt.error){if(mI(e)){var r,i;if(e.data instanceof Error){var a,l;return{type:Pt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Pt.error,error:new jh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:td(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Pt.error,error:e,statusCode:td(e)?e.status:void 0}}if(WU(e)){var u,f;return{type:Pt.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(mI(e)){var p,m;return{type:Pt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}}return{type:Pt.data,data:e}}function jU(n,e,t,r,i,a){let l=n.headers.get("Location");if(lt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!g_.test(l)){let u=r.slice(0,r.findIndex(f=>f.route.id===t)+1);l=Fy(new URL(e.url),u,i,!0,l,a),n.headers.set("Location",l)}return n}function cI(n,e,t){if(g_.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=xs(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return n}function jl(n,e,t,r){let i=n.createURL(pR(e)).toString(),a={signal:t};if(r&&Ti(r.formMethod)){let{formMethod:l,formEncType:u}=r;a.method=l.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=By(r.formData):a.body=r.formData}return new Request(i,a)}function By(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function uI(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function BU(n,e,t,r,i){let a={},l=null,u,f=!1,p={},m=t&&Lr(t[1])?t[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in e))return;let T=y.route.id,S=e[T];if(lt(!Ra(S),"Cannot handle redirect results in processLoaderData"),Lr(S)){let N=S.error;m!==void 0&&(N=m,m=void 0),l=l||{};{let k=Sa(n,T);l[k.route.id]==null&&(l[k.route.id]=N)}a[T]=void 0,f||(f=!0,u=td(S.error)?S.error.status:500),S.headers&&(p[T]=S.headers)}else bo(S)?(r.set(T,S.deferredData),a[T]=S.deferredData.data,S.statusCode!=null&&S.statusCode!==200&&!f&&(u=S.statusCode),S.headers&&(p[T]=S.headers)):(a[T]=S.data,S.statusCode&&S.statusCode!==200&&!f&&(u=S.statusCode),S.headers&&(p[T]=S.headers))}),m!==void 0&&t&&(l={[t[0]]:m},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:u||200,loaderHeaders:p}}function dI(n,e,t,r,i,a,l){let{loaderData:u,errors:f}=BU(e,t,r,l);return i.forEach(p=>{let{key:m,match:y,controller:T}=p,S=a[m];if(lt(S,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Lr(S)){let N=Sa(n.matches,y==null?void 0:y.route.id);f&&f[N.route.id]||(f=Ht({},f,{[N.route.id]:S.error})),n.fetchers.delete(m)}else if(Ra(S))lt(!1,"Unhandled fetcher revalidation redirect");else if(bo(S))lt(!1,"Unhandled fetcher deferred data");else{let N=vo(S.data);n.fetchers.set(m,N)}}),{loaderData:u,errors:f}}function fI(n,e,t,r){let i=Ht({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&a.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function hI(n){return n?Lr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Sa(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function pI(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wr(n,e){let{pathname:t,routeId:r,method:i,type:a,message:l}=e===void 0?{}:e,u="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&t&&r?f="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):n===403?(u="Forbidden",f='Route "'+r+'" does not match URL "'+t+'"'):n===404?(u="Not Found",f='No route matches URL "'+t+'"'):n===405&&(u="Method Not Allowed",i&&t&&r?f="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new jh(n||500,u,new Error(f),!0)}function ih(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(Ra(i))return{key:r,result:i}}}function pR(n){let e=typeof n=="string"?js(n):n;return Va(Ht({},e,{hash:""}))}function HU(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function zU(n){return mR(n.result)&&NU.has(n.result.status)}function bo(n){return n.type===Pt.deferred}function Lr(n){return n.type===Pt.error}function Ra(n){return(n&&n.type)===Pt.redirect}function mI(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function WU(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function mR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function qU(n){return RU.has(n.toLowerCase())}function Ti(n){return bU.has(n.toLowerCase())}async function KU(n,e,t,r,i){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[u,f]=a[l],p=n.find(T=>(T==null?void 0:T.route.id)===u);if(!p)continue;let m=r.find(T=>T.route.id===p.route.id),y=m!=null&&!fR(m,p)&&(i&&i[p.route.id])!==void 0;bo(f)&&y&&await y_(f,t,!1).then(T=>{T&&(e[u]=T)})}}async function GU(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:a,controller:l}=t[r],u=e[i];n.find(p=>(p==null?void 0:p.route.id)===a)&&bo(u)&&(lt(l,"Expected an AbortController for revalidating fetcher deferred result"),await y_(u,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function y_(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Pt.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Pt.error,error:i}}return{type:Pt.data,data:n.deferredData.data}}}function v_(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Du(n,e){let t=typeof e=="string"?js(e).search:e.search;if(n[n.length-1].route.index&&v_(t||""))return n[n.length-1];let r=cR(n);return r[r.length-1]}function gI(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:a,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function oy(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function QU(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Au(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function YU(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function vo(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function XU(n,e){try{let t=n.sessionStorage.getItem(dR);if(t){let r=JSON.parse(t);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function JU(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(dR,JSON.stringify(t))}catch(r){Ma(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bh.apply(this,arguments)}const Cd=E.createContext(null),__=E.createContext(null),Bs=E.createContext(null),w_=E.createContext(null),es=E.createContext({outlet:null,matches:[],isDataRoute:!1}),gR=E.createContext(null);function ZU(n,e){let{relative:t}=e===void 0?{}:e;Vc()||lt(!1);let{basename:r,navigator:i}=E.useContext(Bs),{hash:a,pathname:l,search:u}=Ap(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:bs([r,l])),i.createHref({pathname:f,search:u,hash:a})}function Vc(){return E.useContext(w_)!=null}function Ya(){return Vc()||lt(!1),E.useContext(w_).location}function yR(n){E.useContext(Bs).static||E.useLayoutEffect(n)}function li(){let{isDataRoute:n}=E.useContext(es);return n?f$():e$()}function e$(){Vc()||lt(!1);let n=E.useContext(Cd),{basename:e,future:t,navigator:r}=E.useContext(Bs),{matches:i}=E.useContext(es),{pathname:a}=Ya(),l=JSON.stringify(Cp(i,t.v7_relativeSplatPath)),u=E.useRef(!1);return yR(()=>{u.current=!0}),E.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let y=bp(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:bs([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,l,a,n])}const t$=E.createContext(null);function n$(n){let e=E.useContext(es).outlet;return e&&E.createElement(t$.Provider,{value:n},e)}function vR(){let{matches:n}=E.useContext(es),e=n[n.length-1];return e?e.params:{}}function Ap(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=E.useContext(Bs),{matches:i}=E.useContext(es),{pathname:a}=Ya(),l=JSON.stringify(Cp(i,r.v7_relativeSplatPath));return E.useMemo(()=>bp(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function r$(n,e,t,r){Vc()||lt(!1);let{navigator:i,static:a}=E.useContext(Bs),{matches:l}=E.useContext(es),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let m=Ya(),y;y=m;let T=y.pathname||"/",S=T;if(p!=="/"){let R=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=!a&&t&&t.matches&&t.matches.length>0?t.matches:Ia(n,{pathname:S});return l$(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:bs([p,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:bs([p,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),l,t,r)}function i$(){let n=TR(),e=td(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,null)}const s$=E.createElement(i$,null);class o$ extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(es.Provider,{value:this.props.routeContext},E.createElement(gR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a$(n){let{routeContext:e,match:t,children:r}=n,i=E.useContext(Cd);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(es.Provider,{value:e},r)}function l$(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);m>=0||lt(!1),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:T,errors:S}=t,N=y.route.loader&&T[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||N){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,y,T)=>{let S,N=!1,k=null,R=null;t&&(S=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||s$,f&&(p<0&&T===0?(h$("route-fallback"),N=!0,R=null):p===T&&(N=!0,R=y.route.hydrateFallbackElement||null)));let x=e.concat(l.slice(0,T+1)),L=()=>{let V;return S?V=k:N?V=R:y.route.Component?V=E.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=m,E.createElement(a$,{match:y,routeContext:{outlet:m,matches:x,isDataRoute:t!=null},children:V})};return t&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?E.createElement(o$,{location:t.location,revalidation:t.revalidation,component:k,error:S,children:L(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):L()},null)}var _R=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_R||{}),wR=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wR||{});function c$(n){let e=E.useContext(Cd);return e||lt(!1),e}function u$(n){let e=E.useContext(__);return e||lt(!1),e}function d$(n){let e=E.useContext(es);return e||lt(!1),e}function ER(n){let e=d$(),t=e.matches[e.matches.length-1];return t.route.id||lt(!1),t.route.id}function TR(){var n;let e=E.useContext(gR),t=u$(wR.UseRouteError),r=ER();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function f$(){let{router:n}=c$(_R.UseNavigateStable),e=ER(),t=E.useRef(!1);return yR(()=>{t.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Bh({fromRouteId:e},a)))},[n,e])}const yI={};function h$(n,e,t){yI[n]||(yI[n]=!0)}function p$(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function m$(n){let{to:e,replace:t,state:r,relative:i}=n;Vc()||lt(!1);let{future:a,static:l}=E.useContext(Bs),{matches:u}=E.useContext(es),{pathname:f}=Ya(),p=li(),m=bp(e,Cp(u,a.v7_relativeSplatPath),f,i==="path"),y=JSON.stringify(m);return E.useEffect(()=>p(JSON.parse(y),{replace:t,state:r,relative:i}),[p,y,i,t,r]),null}function g$(n){return n$(n.context)}function y$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=un.Pop,navigator:a,static:l=!1,future:u}=n;Vc()&&lt(!1);let f=e.replace(/^\/*/,"/"),p=E.useMemo(()=>({basename:f,navigator:a,static:l,future:Bh({v7_relativeSplatPath:!1},u)}),[f,u,a,l]);typeof r=="string"&&(r=js(r));let{pathname:m="/",search:y="",hash:T="",state:S=null,key:N="default"}=r,k=E.useMemo(()=>{let R=xs(m,f);return R==null?null:{location:{pathname:R,search:y,hash:T,state:S,key:N},navigationType:i}},[f,m,y,T,S,N,i]);return k==null?null:E.createElement(Bs.Provider,{value:p},E.createElement(w_.Provider,{children:t,value:k}))}new Promise(()=>{});function v$(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:E.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:E.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pc.apply(this,arguments)}function IR(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function _$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function w$(n,e){return n.button===0&&(!e||e==="_self")&&!_$(n)}const E$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],I$="6";try{window.__reactRouterVersion=I$}catch{}function S$(n,e){return xU({basename:void 0,future:pc({},void 0,{v7_prependBasename:!0}),history:rU({window:void 0}),hydrationData:C$(),routes:n,mapRouteProperties:v$,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function C$(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=pc({},e,{errors:b$(e.errors)})),e}function b$(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new jh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(i.message);a.stack="",t[r]=a}}else t[r]=i;return t}const SR=E.createContext({isTransitioning:!1}),A$=E.createContext(new Map),R$="startTransition",vI=uP[R$],N$="flushSync",_I=VM[N$];function k$(n){vI?vI(n):n()}function Ru(n){_I?_I(n):n()}let P$=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function D$(n){let{fallbackElement:e,router:t,future:r}=n,[i,a]=E.useState(t.state),[l,u]=E.useState(),[f,p]=E.useState({isTransitioning:!1}),[m,y]=E.useState(),[T,S]=E.useState(),[N,k]=E.useState(),R=E.useRef(new Map),{v7_startTransition:x}=r||{},L=E.useCallback(b=>{x?k$(b):b()},[x]),V=E.useCallback((b,P)=>{let{deletedFetchers:M,flushSync:U,viewTransitionOpts:F}=P;b.fetchers.forEach((we,ke)=>{we.data!==void 0&&R.current.set(ke,we.data)}),M.forEach(we=>R.current.delete(we));let O=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!F||O){U?Ru(()=>a(b)):L(()=>a(b));return}if(U){Ru(()=>{T&&(m&&m.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let we=t.window.document.startViewTransition(()=>{Ru(()=>a(b))});we.finished.finally(()=>{Ru(()=>{y(void 0),S(void 0),u(void 0),p({isTransitioning:!1})})}),Ru(()=>S(we));return}T?(m&&m.resolve(),T.skipTransition(),k({state:b,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(b),p({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[t.window,T,m,R,L]);E.useLayoutEffect(()=>t.subscribe(V),[t,V]),E.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new P$)},[f]),E.useEffect(()=>{if(m&&l&&t.window){let b=l,P=m.promise,M=t.window.document.startViewTransition(async()=>{L(()=>a(b)),await P});M.finished.finally(()=>{y(void 0),S(void 0),u(void 0),p({isTransitioning:!1})}),S(M)}},[L,l,m,t.window]),E.useEffect(()=>{m&&l&&i.location.key===l.location.key&&m.resolve()},[m,T,i.location,l]),E.useEffect(()=>{!f.isTransitioning&&N&&(u(N.state),p({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),k(void 0))},[f.isTransitioning,N]),E.useEffect(()=>{},[]);let j=E.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:b=>t.navigate(b),push:(b,P,M)=>t.navigate(b,{state:P,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(b,P,M)=>t.navigate(b,{replace:!0,state:P,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[t]),q=t.basename||"/",G=E.useMemo(()=>({router:t,navigator:j,static:!1,basename:q}),[t,j,q]),C=E.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return E.useEffect(()=>p$(r,t.future),[r,t.future]),E.createElement(E.Fragment,null,E.createElement(Cd.Provider,{value:G},E.createElement(__.Provider,{value:i},E.createElement(A$.Provider,{value:R.current},E.createElement(SR.Provider,{value:f},E.createElement(y$,{basename:q,location:i.location,navigationType:i.historyAction,navigator:j,future:C},i.initialized||t.future.v7_partialHydration?E.createElement(x$,{routes:t.routes,future:t.future,state:i}):e))))),null)}const x$=E.memo(O$);function O$(n){let{routes:e,future:t,state:r}=n;return r$(e,void 0,r,t)}const L$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V$=E.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:f,to:p,preventScrollReset:m,viewTransition:y}=e,T=IR(e,E$),{basename:S}=E.useContext(Bs),N,k=!1;if(typeof p=="string"&&M$.test(p)&&(N=p,L$))try{let V=new URL(window.location.href),j=p.startsWith("//")?new URL(V.protocol+p):new URL(p),q=xs(j.pathname,S);j.origin===V.origin&&q!=null?p=q+j.search+j.hash:k=!0}catch{}let R=ZU(p,{relative:i}),x=$$(p,{replace:l,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:y});function L(V){r&&r(V),V.defaultPrevented||x(V)}return E.createElement("a",pc({},T,{href:N||R,onClick:k||a?r:L,ref:t,target:f}))}),Nu=E.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:u,to:f,viewTransition:p,children:m}=e,y=IR(e,T$),T=Ap(f,{relative:y.relative}),S=Ya(),N=E.useContext(__),{navigator:k,basename:R}=E.useContext(Bs),x=N!=null&&F$(T)&&p===!0,L=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,V=S.pathname,j=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(V=V.toLowerCase(),j=j?j.toLowerCase():null,L=L.toLowerCase()),j&&R&&(j=xs(j,R)||j);const q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let G=V===L||!l&&V.startsWith(L)&&V.charAt(q)==="/",C=j!=null&&(j===L||!l&&j.startsWith(L)&&j.charAt(L.length)==="/"),b={isActive:G,isPending:C,isTransitioning:x},P=G?r:void 0,M;typeof a=="function"?M=a(b):M=[a,G?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(b):u;return E.createElement(V$,pc({},y,{"aria-current":P,className:M,ref:t,style:U,to:f,viewTransition:p}),typeof m=="function"?m(b):m)});var Hy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var wI;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(wI||(wI={}));function U$(n){let e=E.useContext(Cd);return e||lt(!1),e}function $$(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,f=li(),p=Ya(),m=Ap(n,{relative:l});return E.useCallback(y=>{if(w$(y,t)){y.preventDefault();let T=r!==void 0?r:Va(p)===Va(m);f(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,f,m,r,i,t,n,a,l,u])}function F$(n,e){e===void 0&&(e={});let t=E.useContext(SR);t==null&&lt(!1);let{basename:r}=U$(Hy.useViewTransitionState),i=Ap(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=xs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=xs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fh(i.pathname,l)!=null||Fh(i.pathname,a)!=null}function j$(){const[n,e]=E.useState(!1),[t,r]=E.useState(!1),i=()=>r(!1),a=()=>r(!0),l=N=>w(p_,{id:"button-tooltip",...N,children:"Please check the notice below to continue.."}),{session:u}=Zu(),f=li();E.useEffect(()=>{u&&f("/Home")},[u,f]);const[p,m]=E.useState(!1);function y(N){switch(N.target.checked){case!0:m(!0);break;case!1:m(!1);break}}const{logIn:T}=Zu();async function S(){e(!0),await T(),e(!1)}return X(zt,{children:[w(rr,{show:n,centered:!0,backdrop:"static",children:X(rr.Body,{className:"text-center",children:[w("div",{className:"spinner-border text-primary",role:"status"}),w("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),X(rr,{show:t,children:[w(rr.Header,{children:w(rr.Title,{children:"Terms and Conditions"})}),w(rr.Body,{children:X("p",{children:["1. User Responsibility ",w("br",{})," By using this platform, you acknowledge that all interactions and transactions between users are conducted at your own risk. We do not take responsibility for any disputes, agreements, or exchanges made between users. It is your responsibility to exercise caution and ensure the legitimacy of the items and users you engage with.",w("br",{}),w("br",{}),"2. Privacy and Message Monitoring ",w("br",{})," We respect your privacy and do not monitor or view private messages exchanged between users during transactions. However, all accounts are recorded in our system for security and compliance purposes.",w("br",{}),w("br",{}),"3. Item Posting and Review",w("br",{}),"All items posted on the platform are subject to review by an administrator. We reserve the right to remove or reject any listings that contain inappropriate, illegal, or prohibited content. Users are encouraged to adhere to ethical and legal guidelines when posting items.",w("br",{}),w("br",{}),"4. Violations and Account Management",w("br",{}),"Users who repeatedly violate our guidelines by posting inappropriate content or engaging in prohibited activities may face account restrictions, suspensions, or permanent deletion. We reserve the right to take appropriate actions to maintain the integrity of the platform.",w("br",{}),w("br",{}),"5. Disclaimer of Liability",w("br",{}),"We do not guarantee the quality, safety, legality, or authenticity of the items listed on the platform. The website serves only as a medium for users to connect and trade, and we do not take responsibility for any losses, damages, or issues arising from trades or interactions.",w("br",{}),w("br",{}),"6. Amendments and Changes",w("br",{}),"We reserve the right to update or modify these Terms and Conditions at any time. Users are responsible for staying informed about any changes. Continued use of the platform signifies your acceptance of the updated terms.",w("br",{}),w("br",{}),"By using this platform, you agree to abide by these Terms and Conditions and ensure that your activities align with our community standards."]})}),w(rr.Footer,{children:w(en,{variant:"primary",onClick:i,children:"Okay"})})]}),X("div",{className:"logincontainer",children:[w("div",{className:"circle",children:w("img",{src:"./images/favicon.png"})}),w("p",{className:"LoginWord",children:" USER LOGIN "}),X("div",{className:"google-button",children:[p&&w(en,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:S,disabled:n,children:"Login with Google"}),!p&&w(Ea,{placement:"bottom",delay:{show:0,hide:400},overlay:l,children:w("div",{children:w(en,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),X("div",{children:[w("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),w("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),w("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:y}),w("p",{className:"terms-text text-primary fw-bold",style:{cursor:"pointer",textDecoration:"underline",position:"absolute",bottom:"0%",left:"30%"},onClick:a,children:"Terms and Conditions"})]})]})]})}async function B$(n){return await Mc.createFile("678bac020031c1c3ad75",hc.unique(),n)}async function H$(n){return await Mc.deleteFile("678bac020031c1c3ad75",n)}function bd(n){return Mc.getFileView("678bac020031c1c3ad75",n)}function wh(n){return Mc.getFileView("67932f8600176cf1dfdc",n)}async function z$(n,e){return await Mc.createFile("67932f8600176cf1dfdc",n,e)}async function W$(n){return await Mc.deleteFile("67932f8600176cf1dfdc",n)}async function q$(){const{documents:n}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.equal("isApproved",!0)]);return{items:n.map(Hs)}}async function K$(n){const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("name",n),Fe.equal("isApproved",!0)]);return{items:e.map(Hs)}}async function G$(n){const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("itemCategory",n),Fe.equal("isApproved",!0)]);return{items:e.map(Hs)}}async function E_(n){const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.contains("authorID",n),Fe.orderDesc("date")]);return{items:e.map(Hs)}}async function Q$(){const{documents:n}=await Yn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.equal("isApproved",!1),Fe.orderDesc("date")]);return{items:n.map(Hs)}}async function zy(n){const e=await Yn.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:Hs(e)}}async function Y$(n){const{items:e}=await zy(n);await H$(e.imageFileId),await Yn.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function X$(n){const e=await Yn.createDocument("678babec0039e89240df","67932f2e00392d850485",hc.unique(),n);return{items:Hs(e)}}async function CR(n,e){const t=await Yn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Hs(t)}}async function Hh(n,e){const t=await Yn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Hs(t)}}function Hs(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:n.isApproved,requests:n.requests,itemCategory:n.itemCategory}}async function J$(n,e){const t=await Yn.createDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Rp(t)}}async function Ua(n){const e=await Yn.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:Rp(e)}}async function Z$(n){const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f37003021addec1",[Fe.contains("displayName",n)]);return{userdb:e.map(Rp)}}async function e4(n){try{const{documents:e}=await Yn.listDocuments("678babec0039e89240df","67932f37003021addec1",[Fe.equal("displayName",n)]);return e.length>0}catch{return!1}}async function t4(n){try{return!!await Yn.getDocument("678babec0039e89240df","67932f37003021addec1",n)}catch{return!1}}async function Wy(n,e){const t=await Yn.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Rp(t)}}function Rp(n){return{userId:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight,userEmail:n.userEmail,firebaseId:n.firebaseId}}function sh(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,i,...a]=t.map(f=>parseInt(f)),l=[r,i-1,...a];return new Date(Date.UTC(...l))}}function EI(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function qy(){return qy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qy.apply(this,arguments)}const xu=60,Ou=xu*60,Jl=Ou*24,oh=Jl*7,TI=Jl*30,II=Jl*365,n4=()=>Date.now();function r4({date:n,formatter:e=EI,component:t="time",live:r=!0,minPeriod:i=0,maxPeriod:a=oh,title:l,now:u=n4,...f}){const[p,m]=E.useState(u());E.useEffect(()=>{if(!r)return;const q=(()=>{const G=sh(n).valueOf();if(!G)return console.warn("[react-timeago] Invalid Date provided"),0;const C=Math.round(Math.abs(p-G)/1e3),b=C<xu?1e3:C<Ou?1e3*xu:C<Jl?1e3*Ou:1e3*oh,P=Math.min(Math.max(b,i*1e3),a*1e3);return P?setTimeout(()=>{m(u())},P):0})();return()=>{q&&clearTimeout(q)}},[n,r,a,i,u,p]);const y=t,T=sh(n).valueOf();if(!T)return null;const S=Math.round(Math.abs(p-T)/1e3),N=T<p?"ago":"from now",[k,R]=S<xu?[Math.round(S),"second"]:S<Ou?[Math.round(S/xu),"minute"]:S<Jl?[Math.round(S/Ou),"hour"]:S<oh?[Math.round(S/Jl),"day"]:S<TI?[Math.round(S/oh),"week"]:S<II?[Math.round(S/TI),"month"]:[Math.round(S/II),"year"],x=typeof l>"u"?typeof n=="string"?n:sh(n).toISOString().substr(0,16).replace("T"," "):l,L=y==="time"?{...f,dateTime:sh(n).toISOString()}:f,V=EI.bind(null,k,R,N);return E.createElement(y,qy({},L,{title:x}),e(k,R,N,T,V,u))}const Np=({name:n,date:e,author:t,image:r})=>X(gs,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[w("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&X(zt,{children:[w(gs.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),w("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),X(gs.Body,{children:[w(gs.Title,{children:n}),w(gs.Text,{children:t}),w(gs.Text,{children:w(r4,{date:e})})]})]});var SI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},i4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},AR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,m=a>>2,y=(a&3)<<4|u>>4;let T=(u&15)<<2|p>>6,S=p&63;f||(S=64,l||(T=64)),r.push(t[m],t[y],t[T],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||p==null||y==null)throw new s4;const T=a<<2|u>>4;if(r.push(T),p!==64){const S=u<<4&240|p>>2;if(r.push(S),y!==64){const N=p<<6&192|y;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class s4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o4=function(n){const e=bR(n);return AR.encodeByteArray(e,!0)},zh=function(n){return o4(n).replace(/\./g,"")},RR=function(n){try{return AR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=()=>a4().__FIREBASE_DEFAULTS__,c4=()=>{if(typeof process>"u"||typeof SI>"u")return;const n=SI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},u4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&RR(n[1]);return e&&JSON.parse(e)},kp=()=>{try{return l4()||c4()||u4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NR=n=>{var e,t;return(t=(e=kp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},d4=n=>{const e=NR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kR=()=>{var n;return(n=kp())===null||n===void 0?void 0:n.config},PR=n=>{var e;return(e=kp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zh(JSON.stringify(t)),zh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function m4(){var n;const e=(n=kp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function v4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _4(){const n=Qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function w4(){return!m4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E4(){try{return typeof indexedDB=="object"}catch{return!1}}function T4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="FirebaseError";class zs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=I4,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?S4(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new zs(i,u,r)}}function S4(n,e){return n.replace(C4,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const C4=/\{\$([^}]+)}/g;function b4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(CI(a)&&CI(l)){if(!mc(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function CI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function A4(n,e){const t=new R4(n,e);return t.subscribe.bind(t)}class R4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");N4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ay),i.error===void 0&&(i.error=ay),i.complete===void 0&&(i.complete=ay);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ay(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class $a{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new f4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D4(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P4(n){return n===Ta?void 0:n}function D4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new k4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(pt||(pt={}));const O4={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},L4=pt.INFO,M4={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},V4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=M4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T_{constructor(e){this.name=e,this._logLevel=L4,this._logHandler=V4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const U4=(n,e)=>e.some(t=>n instanceof t);let bI,AI;function $4(){return bI||(bI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F4(){return AI||(AI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DR=new WeakMap,Ky=new WeakMap,xR=new WeakMap,ly=new WeakMap,I_=new WeakMap;function j4(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(No(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&DR.set(t,n)}).catch(()=>{}),I_.set(e,n),e}function B4(n){if(Ky.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Ky.set(n,e)}let Gy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ky.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return No(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function H4(n){Gy=n(Gy)}function z4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(cy(this),e,...t);return xR.set(r,e.sort?e.sort():[e]),No(r)}:F4().includes(n)?function(...e){return n.apply(cy(this),e),No(DR.get(this))}:function(...e){return No(n.apply(cy(this),e))}}function W4(n){return typeof n=="function"?z4(n):(n instanceof IDBTransaction&&B4(n),U4(n,$4())?new Proxy(n,Gy):n)}function No(n){if(n instanceof IDBRequest)return j4(n);if(ly.has(n))return ly.get(n);const e=W4(n);return e!==n&&(ly.set(n,e),I_.set(e,n)),e}const cy=n=>I_.get(n);function q4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=No(l);return r&&l.addEventListener("upgradeneeded",f=>{r(No(l.result),f.oldVersion,f.newVersion,No(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const K4=["get","getKey","getAll","getAllKeys","count"],G4=["put","add","delete","clear"],uy=new Map;function RI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uy.get(e))return uy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=G4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||K4.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&f.done]))[0]};return uy.set(e,a),a}H4(n=>({...n,get:(e,t,r)=>RI(e,t)||n.get(e,t,r),has:(e,t)=>!!RI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Y4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Y4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qy="@firebase/app",NI="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new T_("@firebase/app"),X4="@firebase/app-compat",J4="@firebase/analytics-compat",Z4="@firebase/analytics",eF="@firebase/app-check-compat",tF="@firebase/app-check",nF="@firebase/auth",rF="@firebase/auth-compat",iF="@firebase/database",sF="@firebase/data-connect",oF="@firebase/database-compat",aF="@firebase/functions",lF="@firebase/functions-compat",cF="@firebase/installations",uF="@firebase/installations-compat",dF="@firebase/messaging",fF="@firebase/messaging-compat",hF="@firebase/performance",pF="@firebase/performance-compat",mF="@firebase/remote-config",gF="@firebase/remote-config-compat",yF="@firebase/storage",vF="@firebase/storage-compat",_F="@firebase/firestore",wF="@firebase/vertexai",EF="@firebase/firestore-compat",TF="firebase",IF="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",SF={[Qy]:"fire-core",[X4]:"fire-core-compat",[Z4]:"fire-analytics",[J4]:"fire-analytics-compat",[tF]:"fire-app-check",[eF]:"fire-app-check-compat",[nF]:"fire-auth",[rF]:"fire-auth-compat",[iF]:"fire-rtdb",[sF]:"fire-data-connect",[oF]:"fire-rtdb-compat",[aF]:"fire-fn",[lF]:"fire-fn-compat",[cF]:"fire-iid",[uF]:"fire-iid-compat",[dF]:"fire-fcm",[fF]:"fire-fcm-compat",[hF]:"fire-perf",[pF]:"fire-perf-compat",[mF]:"fire-rc",[gF]:"fire-rc-compat",[yF]:"fire-gcs",[vF]:"fire-gcs-compat",[_F]:"fire-fst",[EF]:"fire-fst-compat",[wF]:"fire-vertex","fire-js":"fire-js",[TF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,CF=new Map,Xy=new Map;function kI(n,e){try{n.container.addComponent(e)}catch(t){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gc(n){const e=n.name;if(Xy.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,n);for(const t of Wh.values())kI(t,n);for(const t of CF.values())kI(t,n);return!0}function S_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new Ad("app","Firebase",bF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=IF;function OR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ko.create("bad-app-name",{appName:String(i)});if(t||(t=kR()),!t)throw ko.create("no-options");const a=Wh.get(i);if(a){if(mc(t,a.options)&&mc(r,a.config))return a;throw ko.create("duplicate-app",{appName:i})}const l=new x4(i);for(const f of Xy.values())l.addComponent(f);const u=new AF(t,r,l);return Wh.set(i,u),u}function LR(n=Yy){const e=Wh.get(n);if(!e&&n===Yy&&kR())return OR();if(!e)throw ko.create("no-app",{appName:n});return e}function Po(n,e,t){var r;let i=(r=SF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(u.join(" "));return}gc(new $a(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firebase-heartbeat-database",NF=1,nd="firebase-heartbeat-store";let dy=null;function MR(){return dy||(dy=q4(RF,NF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ko.create("idb-open",{originalErrorMessage:n.message})})),dy}async function kF(n){try{const t=(await MR()).transaction(nd),r=await t.objectStore(nd).get(VR(n));return await t.done,r}catch(e){if(e instanceof zs)Os.warn(e.message);else{const t=ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(t.message)}}}async function PI(n,e){try{const r=(await MR()).transaction(nd,"readwrite");await r.objectStore(nd).put(e,VR(n)),await r.done}catch(t){if(t instanceof zs)Os.warn(t.message);else{const r=ko.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Os.warn(r.message)}}}function VR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=1024,DF=30;class xF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=DI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>DF){const l=MF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DI(),{heartbeatsToSend:r,unsentEntries:i}=OF(this._heartbeatsCache.heartbeats),a=zh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Os.warn(t),""}}}function DI(){return new Date().toISOString().substring(0,10)}function OF(n,e=PF){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),xI(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),xI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class LF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E4()?T4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return PI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return PI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xI(n){return zh(JSON.stringify({version:2,heartbeats:n})).length}function MF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(n){gc(new $a("platform-logger",e=>new Q4(e),"PRIVATE")),gc(new $a("heartbeat",e=>new xF(e),"PRIVATE")),Po(Qy,NI,n),Po(Qy,NI,"esm2017"),Po("fire-js","")}VF("");var UF="firebase",$F="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(UF,$F,"app");var OI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,UR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function P(){}P.prototype=b.prototype,C.D=b.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(M,U,F){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return b.prototype[U].apply(M,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,P){P||(P=0);var M=Array(16);if(typeof b=="string")for(var U=0;16>U;++U)M[U]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(U=0;16>U;++U)M[U]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=C.g[0],P=C.g[1],U=C.g[2];var F=C.g[3],O=b+(F^P&(U^F))+M[0]+3614090360&4294967295;b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+M[1]+3905402710&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+M[2]+606105819&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+M[3]+3250441966&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+M[4]+4118548399&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+M[5]+1200080426&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+M[6]+2821735955&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+M[7]+4249261313&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+M[8]+1770035416&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+M[9]+2336552879&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+M[10]+4294925233&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+M[11]+2304563134&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+M[12]+1804603682&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+M[13]+4254626195&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+M[14]+2792965006&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+M[15]+1236535329&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(U^F&(P^U))+M[1]+4129170786&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+M[6]+3225465664&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+M[11]+643717713&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+M[0]+3921069994&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+M[5]+3593408605&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+M[10]+38016083&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+M[15]+3634488961&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+M[4]+3889429448&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+M[9]+568446438&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+M[14]+3275163606&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+M[3]+4107603335&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+M[8]+1163531501&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+M[13]+2850285829&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+M[2]+4243563512&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+M[7]+1735328473&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+M[12]+2368359562&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(P^U^F)+M[5]+4294588738&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+M[8]+2272392833&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+M[11]+1839030562&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+M[14]+4259657740&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+M[1]+2763975236&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+M[4]+1272893353&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+M[7]+4139469664&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+M[10]+3200236656&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+M[13]+681279174&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+M[0]+3936430074&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+M[3]+3572445317&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+M[6]+76029189&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+M[9]+3654602809&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+M[12]+3873151461&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+M[15]+530742520&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+M[2]+3299628645&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(U^(P|~F))+M[0]+4096336452&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+M[7]+1126891415&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+M[14]+2878612391&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+M[5]+4237533241&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+M[12]+1700485571&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+M[3]+2399980690&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+M[10]+4293915773&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+M[1]+2240044497&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+M[8]+1873313359&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+M[15]+4264355552&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+M[6]+2734768916&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+M[13]+1309151649&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+M[4]+4149444226&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+M[11]+3174756917&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+M[2]+718787259&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var P=b-this.blockSize,M=this.B,U=this.h,F=0;F<b;){if(U==0)for(;F<=P;)i(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<b;)if(M[U++]=C.charCodeAt(F++),U==this.blockSize){i(this,M),U=0;break}}else for(;F<b;)if(M[U++]=C[F++],U==this.blockSize){i(this,M),U=0;break}}this.h=U,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var P=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=P&255,P/=256;for(this.u(C),C=Array(16),b=P=0;4>b;++b)for(var M=0;32>M;M+=8)C[P++]=this.g[b]>>>M&255;return C};function a(C,b){var P=u;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=b(C)}function l(C,b){this.h=b;for(var P=[],M=!0,U=C.length-1;0<=U;U--){var F=C[U]|0;M&&F==b||(P[U]=F,M=!1)}this.g=P}var u={};function f(C){return-128<=C&&128>C?a(C,function(b){return new l([b|0],0>b?-1:0)}):new l([C|0],0>C?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return R(p(-C));for(var b=[],P=1,M=0;C>=P;M++)b[M]=C/P|0,P*=4294967296;return new l(b,0)}function m(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return R(m(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(b,8)),M=y,U=0;U<C.length;U+=8){var F=Math.min(8,C.length-U),O=parseInt(C.substring(U,U+F),b);8>F?(F=p(Math.pow(b,F)),M=M.j(F).add(p(O))):(M=M.j(P),M=M.add(p(O)))}return M}var y=f(0),T=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(k(this))return-R(this).m();for(var C=0,b=1,P=0;P<this.g.length;P++){var M=this.i(P);C+=(0<=M?M:4294967296+M)*b,b*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(k(this))return"-"+R(this).toString(C);for(var b=p(Math.pow(C,6)),P=this,M="";;){var U=j(P,b).g;P=x(P,U.j(b));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=U,N(P))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function k(C){return C.h==-1}n.l=function(C){return C=x(this,C),k(C)?-1:N(C)?0:1};function R(C){for(var b=C.g.length,P=[],M=0;M<b;M++)P[M]=~C.g[M];return new l(P,~C.h).add(T)}n.abs=function(){return k(this)?R(this):this},n.add=function(C){for(var b=Math.max(this.g.length,C.g.length),P=[],M=0,U=0;U<=b;U++){var F=M+(this.i(U)&65535)+(C.i(U)&65535),O=(F>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);M=O>>>16,F&=65535,O&=65535,P[U]=O<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function x(C,b){return C.add(R(b))}n.j=function(C){if(N(this)||N(C))return y;if(k(this))return k(C)?R(this).j(R(C)):R(R(this).j(C));if(k(C))return R(this.j(R(C)));if(0>this.l(S)&&0>C.l(S))return p(this.m()*C.m());for(var b=this.g.length+C.g.length,P=[],M=0;M<2*b;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<C.g.length;U++){var F=this.i(M)>>>16,O=this.i(M)&65535,we=C.i(U)>>>16,ke=C.i(U)&65535;P[2*M+2*U]+=O*ke,L(P,2*M+2*U),P[2*M+2*U+1]+=F*ke,L(P,2*M+2*U+1),P[2*M+2*U+1]+=O*we,L(P,2*M+2*U+1),P[2*M+2*U+2]+=F*we,L(P,2*M+2*U+2)}for(M=0;M<b;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=b;M<2*b;M++)P[M]=0;return new l(P,0)};function L(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function V(C,b){this.g=C,this.h=b}function j(C,b){if(N(b))throw Error("division by zero");if(N(C))return new V(y,y);if(k(C))return b=j(R(C),b),new V(R(b.g),R(b.h));if(k(b))return b=j(C,R(b)),new V(R(b.g),b.h);if(30<C.g.length){if(k(C)||k(b))throw Error("slowDivide_ only works with positive integers.");for(var P=T,M=b;0>=M.l(C);)P=q(P),M=q(M);var U=G(P,1),F=G(M,1);for(M=G(M,2),P=G(P,2);!N(M);){var O=F.add(M);0>=O.l(C)&&(U=U.add(P),F=O),M=G(M,1),P=G(P,1)}return b=x(C,U.j(b)),new V(U,b)}for(U=y;0<=C.l(b);){for(P=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=p(P),O=F.j(b);k(O)||0<O.l(C);)P-=M,F=p(P),O=F.j(b);N(F)&&(F=T),U=U.add(F),C=x(C,O)}return new V(U,C)}n.A=function(C){return j(this,C).h},n.and=function(C){for(var b=Math.max(this.g.length,C.g.length),P=[],M=0;M<b;M++)P[M]=this.i(M)&C.i(M);return new l(P,this.h&C.h)},n.or=function(C){for(var b=Math.max(this.g.length,C.g.length),P=[],M=0;M<b;M++)P[M]=this.i(M)|C.i(M);return new l(P,this.h|C.h)},n.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),P=[],M=0;M<b;M++)P[M]=this.i(M)^C.i(M);return new l(P,this.h^C.h)};function q(C){for(var b=C.g.length+1,P=[],M=0;M<b;M++)P[M]=C.i(M)<<1|C.i(M-1)>>>31;return new l(P,C.h)}function G(C,b){var P=b>>5;b%=32;for(var M=C.g.length-P,U=[],F=0;F<M;F++)U[F]=0<b?C.i(F+P)>>>b|C.i(F+P+1)<<32-b:C.i(F+P);return new l(U,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Do=l}).apply(typeof OI<"u"?OI:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $R,Vu,FR,Eh,Jy,jR,BR,HR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,I){return d==Array.prototype||d==Object.prototype||(d[v]=I.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var v=0;v<d.length;++v){var I=d[v];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var I=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var Q=d[D];if(!(Q in I))break e;I=I[Q]}d=d[d.length-1],D=I[d],v=v(D),v!=D&&v!=null&&e(I,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var I=0,D=!1,Q={next:function(){if(!D&&I<d.length){var ne=I++;return{value:v(ne,d[ne]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(d){return d||function(){return a(this,function(v,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,I){return d.call.apply(d.bind,arguments)}function y(d,v,I){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),d.apply(v,Q)}}return function(){return d.apply(v,arguments)}}function T(d,v,I){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,T.apply(null,arguments)}function S(d,v){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function N(d,v){function I(){}I.prototype=v.prototype,d.aa=v.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function(D,Q,ne){for(var ge=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ge[kt-2]=arguments[kt];return v.prototype[Q].apply(D,ge)}}function k(d){const v=d.length;if(0<v){const I=Array(v);for(let D=0;D<v;D++)I[D]=d[D];return I}return[]}function R(d,v){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(f(D)){const Q=d.length||0,ne=D.length||0;d.length=Q+ne;for(let ge=0;ge<ne;ge++)d[Q+ge]=D[ge]}else d.push(D)}}class x{constructor(v,I){this.i=v,this.j=I,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function G(d,v,I){for(const D in d)v.call(I,d[D],D,d)}function C(d,v){for(const I in d)v.call(void 0,d[I],I,d)}function b(d){const v={};for(const I in d)v[I]=d[I];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let I,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(I in D)d[I]=D[I];for(let ne=0;ne<P.length;ne++)I=P[ne],Object.prototype.hasOwnProperty.call(D,I)&&(d[I]=D[I])}}function U(d){var v=1;d=d.split(":");const I=[];for(;0<v&&d.length;)I.push(d.shift()),v--;return d.length&&I.push(d.join(":")),I}function F(d){u.setTimeout(()=>{throw d},0)}function O(){var d=me;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class we{constructor(){this.h=this.g=null}add(v,I){const D=ke.get();D.set(v,I),this.h?this.h.next=D:this.g=D,this.h=D}}var ke=new x(()=>new je,d=>d.reset());class je{constructor(){this.next=this.g=this.h=null}set(v,I){this.h=v,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,re=!1,me=new we,ce=()=>{const d=u.Promise.resolve(void 0);Se=()=>{d.then(z)}};var z=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(I){F(I)}var v=ke;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}re=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};u.addEventListener("test",I,v),u.removeEventListener("test",I,v)}catch{}return d}();function Ie(d,v){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(q){e:{try{j(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else I=="mouseover"?v=d.fromElement:I=="mouseout"&&(v=d.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}N(Ie,pe);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(d,v,I,D,Q){this.listener=d,this.proxy=null,this.src=v,this.type=I,this.capture=!!D,this.ha=Q,this.key=++Be,this.da=this.fa=!1}function Tt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ct(d){this.src=d,this.g={},this.h=0}Ct.prototype.add=function(d,v,I,D,Q){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var ge=Dt(d,v,D,Q);return-1<ge?(v=d[ge],I||(v.fa=!1)):(v=new ot(v,this.src,ne,!!D,Q),v.fa=I,d.push(v)),v};function st(d,v){var I=v.type;if(I in d.g){var D=d.g[I],Q=Array.prototype.indexOf.call(D,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(D,Q,1),ne&&(Tt(v),d.g[I].length==0&&(delete d.g[I],d.h--))}}function Dt(d,v,I,D){for(var Q=0;Q<d.length;++Q){var ne=d[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!I&&ne.ha==D)return Q}return-1}var Xt="closure_lm_"+(1e6*Math.random()|0),it={};function Wt(d,v,I,D,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Wt(d,v[ne],I,D,Q);return null}return I=hn(I),d&&d[Ge]?d.K(v,I,p(D)?!!D.capture:!1,Q):_n(d,v,I,!1,D,Q)}function _n(d,v,I,D,Q,ne){if(!v)throw Error("Invalid event type");var ge=p(Q)?!!Q.capture:!!Q,kt=Un(d);if(kt||(d[Xt]=kt=new Ct(d)),I=kt.add(v,I,D,ge,ne),I.proxy)return I;if(D=Br(),I.proxy=D,D.src=d,D.listener=I,d.addEventListener)ve||(Q=ge),Q===void 0&&(Q=!1),d.addEventListener(v.toString(),D,Q);else if(d.attachEvent)d.attachEvent(sn(v.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Br(){function d(I){return v.call(d.src,d.listener,I)}const v=lr;return d}function Xn(d,v,I,D,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Xn(d,v[ne],I,D,Q);else D=p(D)?!!D.capture:!!D,I=hn(I),d&&d[Ge]?(d=d.i,v=String(v).toString(),v in d.g&&(ne=d.g[v],I=Dt(ne,I,D,Q),-1<I&&(Tt(ne[I]),Array.prototype.splice.call(ne,I,1),ne.length==0&&(delete d.g[v],d.h--)))):d&&(d=Un(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Dt(v,I,D,Q)),(I=-1<d?v[d]:null)&&qt(I))}function qt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ge])st(v.i,d);else{var I=d.type,D=d.proxy;v.removeEventListener?v.removeEventListener(I,D,d.capture):v.detachEvent?v.detachEvent(sn(I),D):v.addListener&&v.removeListener&&v.removeListener(D),(I=Un(v))?(st(I,d),I.h==0&&(I.src=null,v[Xt]=null)):Tt(d)}}}function sn(d){return d in it?it[d]:it[d]="on"+d}function lr(d,v){if(d.da)d=!0;else{v=new Ie(v,this);var I=d.listener,D=d.ha||d.src;d.fa&&qt(d),d=I.call(D,v)}return d}function Un(d){return d=d[Xt],d instanceof Ct?d:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function hn(d){return typeof d=="function"?d:(d[Lt]||(d[Lt]=function(v){return d.handleEvent(v)}),d[Lt])}function $e(){te.call(this),this.i=new Ct(this),this.M=this,this.F=null}N($e,te),$e.prototype[Ge]=!0,$e.prototype.removeEventListener=function(d,v,I,D){Xn(this,d,v,I,D)};function gt(d,v){var I,D=d.F;if(D)for(I=[];D;D=D.F)I.push(D);if(d=d.M,D=v.type||v,typeof v=="string")v=new pe(v,d);else if(v instanceof pe)v.target=v.target||d;else{var Q=v;v=new pe(D,d),M(v,Q)}if(Q=!0,I)for(var ne=I.length-1;0<=ne;ne--){var ge=v.g=I[ne];Q=Mt(ge,D,!0,v)&&Q}if(ge=v.g=d,Q=Mt(ge,D,!0,v)&&Q,Q=Mt(ge,D,!1,v)&&Q,I)for(ne=0;ne<I.length;ne++)ge=v.g=I[ne],Q=Mt(ge,D,!1,v)&&Q}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var I=d.g[v],D=0;D<I.length;D++)Tt(I[D]);delete d.g[v],d.h--}}this.F=null},$e.prototype.K=function(d,v,I,D){return this.i.add(String(d),v,!1,I,D)},$e.prototype.L=function(d,v,I,D){return this.i.add(String(d),v,!0,I,D)};function Mt(d,v,I,D){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ge=v[ne];if(ge&&!ge.da&&ge.capture==I){var kt=ge.listener,pn=ge.ha||ge.src;ge.fa&&st(d.i,ge),Q=kt.call(pn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function wn(d,v,I){if(typeof d=="function")I&&(d=T(d,I));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function Jn(d){d.g=wn(()=>{d.g=null,d.i&&(d.i=!1,Jn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Zn extends te{constructor(v,I){super(),this.m=v,this.l=I,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Jn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(d){te.call(this),this.h=d,this.g={}}N(ze,te);var at=[];function En(d){G(d.g,function(v,I){this.g.hasOwnProperty(I)&&qt(v)},d),d.g={}}ze.prototype.N=function(){ze.aa.N.call(this),En(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=u.JSON.stringify,Ri=u.JSON.parse,Jo=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ni(){}Ni.prototype.h=null;function ci(d){return d.h||(d.h=d.i())}function ts(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){pe.call(this,"d")}N(ur,pe);function Ws(){pe.call(this,"c")}N(Ws,pe);var Sr={},Zo=null;function ki(){return Zo=Zo||new $e}Sr.La="serverreachability";function Pi(d){pe.call(this,Sr.La,d)}N(Pi,pe);function dr(d){const v=ki();gt(v,new Pi(v))}Sr.STAT_EVENT="statevent";function ea(d,v){pe.call(this,Sr.STAT_EVENT,d),this.stat=v}N(ea,pe);function Kt(d){const v=ki();gt(v,new ea(v,d))}Sr.Ma="timingevent";function B(d,v){pe.call(this,Sr.Ma,d),this.size=v}N(B,pe);function K(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Z(){this.g=!0}Z.prototype.xa=function(){this.g=!1};function ie(d,v,I,D,Q,ne){d.info(function(){if(d.g)if(ne)for(var ge="",kt=ne.split("&"),pn=0;pn<kt.length;pn++){var _t=kt[pn].split("=");if(1<_t.length){var Tn=_t[0];_t=_t[1];var an=Tn.split("_");ge=2<=an.length&&an[1]=="type"?ge+(Tn+"="+_t+"&"):ge+(Tn+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+v+`
`+I+`
`+ge})}function _e(d,v,I,D,Q,ne,ge){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+v+`
`+I+`
`+ne+" "+ge})}function Pe(d,v,I,D){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+De(d,I)+(D?" "+D:"")})}function Qe(d,v){d.info(function(){return"TIMEOUT: "+v})}Z.prototype.info=function(){};function De(d,v){if(!d.g)return v;if(!v)return null;try{var I=JSON.parse(v);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var D=I[d];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return cr(I)}catch{return v}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function et(){}N(et,Ni),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},xe=new et;function Ze(d,v,I,D){this.j=d,this.i=v,this.l=I,this.R=D||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}var It={},ct={};function Nt(d,v,I){d.L=1,d.v=Ys(Ar(v)),d.m=I,d.P=!0,Hr(d,null)}function Hr(d,v){d.F=Date.now(),dt(d),d.A=Ar(d.v);var I=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Js(I.i,"t",D),d.C=0,I=d.j.J,d.h=new Jt,d.g=Xd(d.j,I?v:null,!d.m),0<d.O&&(d.M=new Zn(T(d.Y,d,d.g),d.O)),v=d.U,I=d.g,D=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(at[0]=Q.toString()),Q=at);for(var ne=0;ne<Q.length;ne++){var ge=Wt(I,Q[ne],D||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),dr(),ie(d.i,d.u,d.A,d.l,d.R,d.m)}Ze.prototype.ca=function(d){d=d.target;const v=this.M;v&&hr(d)==3?v.j():this.Y(d)},Ze.prototype.Y=function(d){try{if(d==this.g)e:{const an=hr(this.g);var v=this.g.Ba();const qr=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Gc(this.g)))){this.J||an!=4||v==7||(v==8||0>=qr?dr(3):dr(2)),br(this);var I=this.g.Z();this.X=I;t:if(Di(this)){var D=Gc(this.g);d="";var Q=D.length,ne=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Fn(this);var ge="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,d+=this.h.i.decode(D[v],{stream:!(ne&&v==Q-1)});D.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,_e(this.i,this.u,this.A,this.l,this.R,an,I),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,pn=this.g;if((kt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(kt)){var _t=kt;break t}}_t=null}if(I=_t)Pe(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xi(this,I);else{this.o=!1,this.s=3,Kt(12),Rn(this),Fn(this);break e}}if(this.P){I=!0;let Nr;for(;!this.J&&this.C<ge.length;)if(Nr=Cr(this,ge),Nr==ct){an==4&&(this.s=4,Kt(14),I=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==It){this.s=4,Kt(15),Pe(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else Pe(this.i,this.l,Nr,null),xi(this,Nr);if(Di(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||ge.length!=0||this.h.h||(this.s=1,Kt(16),I=!1),this.o=this.o&&I,!I)Pe(this.i,this.l,ge,"[Invalid Chunked Response]"),Rn(this),Fn(this);else if(0<ge.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Yc(Tn),Tn.M=!0,Kt(11))}}else Pe(this.i,this.l,ge,null),xi(this,ge);an==4&&Rn(this),this.o&&!this.J&&(an==4?pl(this.j,this):(this.o=!1,dt(this)))}else cl(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Rn(this),Fn(this)}}}catch{}finally{}};function Di(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Cr(d,v){var I=d.C,D=v.indexOf(`
`,I);return D==-1?ct:(I=Number(v.substring(I,D)),isNaN(I)?It:(D+=1,D+I>v.length?ct:(v=v.slice(D,D+I),d.C=D+I,v)))}Ze.prototype.cancel=function(){this.J=!0,Rn(this)};function dt(d){d.S=Date.now()+d.I,qs(d,d.I)}function qs(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=K(T(d.ba,d),v)}function br(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Ze.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(dr(),Kt(17)),Rn(this),this.s=2,Fn(this)):qs(this,this.S-d)};function Fn(d){d.j.G==0||d.J||pl(d.j,d)}function Rn(d){br(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,En(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function xi(d,v){try{var I=d.j;if(I.G!=0&&(I.g==d||ht(I.h,d))){if(!d.K&&ht(I.h,d)&&I.G==3){try{var D=I.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)hl(I),pi(I);else break e;fl(I),Kt(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&I.v==0&&!I.C&&(I.C=K(T(I.Za,I),6e3));if(1>=Oi(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else os(I,11)}else if((d.K||I.g==d)&&hl(I),!L(v))for(Q=I.Da.g.parse(v),v=0;v<Q.length;v++){let _t=Q[v];if(I.T=_t[0],_t=_t[1],I.G==2)if(_t[0]=="c"){I.K=_t[1],I.ia=_t[2];const Tn=_t[3];Tn!=null&&(I.la=Tn,I.j.info("VER="+I.la));const an=_t[4];an!=null&&(I.Aa=an,I.j.info("SVER="+I.Aa));const qr=_t[5];qr!=null&&typeof qr=="number"&&0<qr&&(D=1.5*qr,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const Nr=d.g;if(Nr){const aa=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var ne=D.h;ne.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(zr(ne,ne.h),ne.h=null))}if(D.D){const gl=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(D.ya=gl,xt(D.I,D.D,gl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var ge=d;if(D.qa=Yd(D,D.J?D.ia:null,D.W),ge.K){ta(D.h,ge);var kt=ge,pn=D.L;pn&&(kt.I=pn),kt.B&&(br(kt),dt(kt)),D.g=ge}else oa(D);0<I.i.length&&Ui(I)}else _t[0]!="stop"&&_t[0]!="close"||os(I,7);else I.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?os(I,7):kn(I):_t[0]!="noop"&&I.l&&I.l.ta(_t),I.v=0)}}dr(4)}catch{}}var ft=class{constructor(d,v){this.g=d,this.map=v}};function bt(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Oi(d){return d.h?1:d.g?d.g.size:0}function ht(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function zr(d,v){d.g?d.g.add(v):d.h=v}function ta(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}bt.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function rl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const I of d.g.values())v=v.concat(I.D);return v}return k(d.i)}function il(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],I=d.length,D=0;D<I;D++)v.push(d[D]);return v}v=[],I=0;for(D in d)v[I++]=d[D];return v}function sl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var I=0;I<d;I++)v.push(I);return v}v=[],I=0;for(const D in d)v[I++]=D;return v}}}function Ks(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var I=sl(d),D=il(d),Q=D.length,ne=0;ne<Q;ne++)v.call(void 0,D[ne],I&&I[ne],d)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rm(d,v){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var D=d[I].indexOf("="),Q=null;if(0<=D){var ne=d[I].substring(0,D);Q=d[I].substring(D+1)}else ne=d[I];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ns(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ns){this.h=d.h,ra(this,d.j),this.o=d.o,this.g=d.g,Gs(this,d.s),this.l=d.l;var v=d.i,I=new Li;I.i=v.i,v.g&&(I.g=new Map(v.g),I.h=v.h),Qs(this,I),this.m=d.m}else d&&(v=String(d).match(na))?(this.h=!1,ra(this,v[1]||"",!0),this.o=yt(v[2]||""),this.g=yt(v[3]||"",!0),Gs(this,v[4]),this.l=yt(v[5]||"",!0),Qs(this,v[6]||"",!0),this.m=yt(v[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}ns.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Xs(v,ol,!0),":");var I=this.g;return(I||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Xs(v,ol,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(Xs(I,I.charAt(0)=="/"?Bd:jd,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",Xs(I,Wc)),d.join("")};function Ar(d){return new ns(d)}function ra(d,v,I){d.j=I?yt(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Gs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Qs(d,v,I){v instanceof Li?(d.i=v,Mi(d.i,d.h)):(I||(v=Xs(v,Hd)),d.i=new Li(v,d.h))}function xt(d,v,I){d.i.set(v,I)}function Ys(d){return xt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function yt(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xs(d,v,I){return typeof d=="string"?(d=encodeURI(d).replace(v,Fd),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Fd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ol=/[#\/\?@]/g,jd=/[#\?:]/g,Bd=/[#\?]/g,Hd=/[#\?@]/g,Wc=/#/g;function Li(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Nn(d){d.g||(d.g=new Map,d.h=0,d.i&&rm(d.i,function(v,I){d.add(decodeURIComponent(v.replace(/\+/g," ")),I)}))}n=Li.prototype,n.add=function(d,v){Nn(this),this.i=null,d=Wr(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(v),this.h+=1,this};function ui(d,v){Nn(d),v=Wr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function di(d,v){return Nn(d),v=Wr(d,v),d.g.has(v)}n.forEach=function(d,v){Nn(this),this.g.forEach(function(I,D){I.forEach(function(Q){d.call(v,Q,D,this)},this)},this)},n.na=function(){Nn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),I=[];for(let D=0;D<v.length;D++){const Q=d[D];for(let ne=0;ne<Q.length;ne++)I.push(v[D])}return I},n.V=function(d){Nn(this);let v=[];if(typeof d=="string")di(this,d)&&(v=v.concat(this.g.get(Wr(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)v=v.concat(d[I])}return v},n.set=function(d,v){return Nn(this),this.i=null,d=Wr(this,d),di(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Js(d,v,I){ui(d,v),0<I.length&&(d.i=null,d.g.set(Wr(d,v),k(I)),d.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var I=0;I<v.length;I++){var D=v[I];const ne=encodeURIComponent(String(D)),ge=this.V(D);for(D=0;D<ge.length;D++){var Q=ne;ge[D]!==""&&(Q+="="+encodeURIComponent(String(ge[D]))),d.push(Q)}}return this.i=d.join("&")};function Wr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Mi(d,v){v&&!d.j&&(Nn(d),d.i=null,d.g.forEach(function(I,D){var Q=D.toLowerCase();D!=Q&&(ui(this,D),Js(this,Q,I))},d)),d.j=v}function im(d,v){const I=new Z;if(u.Image){const D=new Image;D.onload=S(fr,I,"TestLoadImage: loaded",!0,v,D),D.onerror=S(fr,I,"TestLoadImage: error",!1,v,D),D.onabort=S(fr,I,"TestLoadImage: abort",!1,v,D),D.ontimeout=S(fr,I,"TestLoadImage: timeout",!1,v,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else v(!1)}function zd(d,v){const I=new Z,D=new AbortController,Q=setTimeout(()=>{D.abort(),fr(I,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:D.signal}).then(ne=>{clearTimeout(Q),ne.ok?fr(I,"TestPingServer: ok",!0,v):fr(I,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),fr(I,"TestPingServer: error",!1,v)})}function fr(d,v,I,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(I)}catch{}}function sm(){this.g=new Jo}function Wd(d,v,I){const D=I||"";try{Ks(d,function(Q,ne){let ge=Q;p(Q)&&(ge=cr(Q)),v.push(D+ne+"="+encodeURIComponent(ge))})}catch(Q){throw v.push(D+"type="+encodeURIComponent("_badmap")),Q}}function rs(d){this.l=d.Ub||null,this.j=d.eb||!1}N(rs,Ni),rs.prototype.g=function(){return new ia(this.l,this.j)},rs.prototype.i=function(d){return function(){return d}}({});function ia(d,v){$e.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ia,$e),n=ia.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,hi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function qd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?fi(this):hi(this),this.readyState==3&&qd(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,fi(this))},n.Qa=function(d){this.g&&(this.response=d,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var I=v.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=v.next();return d.join(`\r
`)};function hi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function is(d){let v="";return G(d,function(I,D){v+=D,v+=":",v+=I,v+=`\r
`}),v}function Zs(d,v,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=is(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):xt(d,v,I))}function jt(d){$e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(jt,$e);var om=/^https?$/i,qc=["POST","PUT"];n=jt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?ci(this.o):ci(xe),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ne){sa(this,ne);return}if(d=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)I.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ne of D.keys())I.set(ne,D.get(ne));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(qc,v,void 0))||D||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of I)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ll(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){sa(this,ne)}};function sa(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,al(d),Rr(d)}function al(d){d.A||(d.A=!0,gt(d,"complete"),gt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,gt(this,"complete"),gt(this,"abort"),Rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Kc(this):this.bb())},n.bb=function(){Kc(this)};function Kc(d){if(d.h&&typeof l<"u"&&(!d.v[1]||hr(d)!=4||d.Z()!=2)){if(d.u&&hr(d)==4)wn(d.Ea,0,d);else if(gt(d,"readystatechange"),hr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var I;if(!(I=v)){var D;if(D=ge===0){var Q=String(d.D).match(na)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),D=!om.test(Q?Q.toLowerCase():"")}I=D}if(I)gt(d,"complete"),gt(d,"success");else{d.m=6;try{var ne=2<hr(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",al(d)}}finally{Rr(d)}}}}function Rr(d,v){if(d.g){ll(d);const I=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||gt(d,"ready");try{I.onreadystatechange=D}catch{}}}function ll(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function hr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ri(v)}};function Gc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cl(d){const v={};d=(d.g&&2<=hr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(L(d[D]))continue;var I=U(d[D]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(I)}C(v,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(d,v,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||v}function Qc(d){this.Aa=0,this.i=[],this.j=new Z,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vi("baseRetryDelayMs",5e3,d),this.cb=Vi("retryDelaySeedMs",1e4,d),this.Wa=Vi("forwardChannelMaxRetries",2,d),this.wa=Vi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bt(d&&d.concurrentRequestLimit),this.Da=new sm,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qc.prototype,n.la=8,n.G=1,n.connect=function(d,v,I,D){Kt(0),this.W=d,this.H=v||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=Yd(this,null,this.W),Ui(this)};function kn(d){if(ul(d),d.G==3){var v=d.U++,I=Ar(d.I);if(xt(I,"SID",d.K),xt(I,"RID",v),xt(I,"TYPE","terminate"),ss(d,I),v=new Ze(d,d.j,v),v.L=2,v.v=Ys(Ar(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=v.v,I=!0),I||(v.g=Xd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),dt(v)}Qd(d)}function pi(d){d.g&&(Yc(d),d.g.cancel(),d.g=null)}function ul(d){pi(d),d.u&&(u.clearTimeout(d.u),d.u=null),hl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Ui(d){if(!on(d.h)&&!d.s){d.s=!0;var v=d.Ga;Se||ce(),re||(Se(),re=!0),me.add(v,d),d.B=0}}function am(d,v){return Oi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=K(T(d.Ga,d,v),Gd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new Ze(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=b(ne),M(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=I;break e}if(v===4096||I===this.i.length-1){v=I+1;break e}}v=1e3}else v=1e3;v=eo(this,Q,v),I=Ar(this.I),xt(I,"RID",d),xt(I,"CVER",22),this.D&&xt(I,"X-HTTP-Session-Id",this.D),ss(this,I),ne&&(this.O?v="headers="+encodeURIComponent(String(is(ne)))+"&"+v:this.m&&Zs(I,this.m,ne)),zr(this.h,Q),this.Ua&&xt(I,"TYPE","init"),this.P?(xt(I,"$req",v),xt(I,"SID","null"),Q.T=!0,Nt(Q,I,null)):Nt(Q,I,v),this.G=2}}else this.G==3&&(d?dl(this,d):this.i.length==0||on(this.h)||dl(this))};function dl(d,v){var I;v?I=v.l:I=d.U++;const D=Ar(d.I);xt(D,"SID",d.K),xt(D,"RID",I),xt(D,"AID",d.T),ss(d,D),d.m&&d.o&&Zs(D,d.m,d.o),I=new Ze(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),v&&(d.i=v.D.concat(d.i)),v=eo(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),zr(d.h,I),Nt(I,D,v)}function ss(d,v){d.H&&G(d.H,function(I,D){xt(v,D,I)}),d.l&&Ks({},function(I,D){xt(v,D,I)})}function eo(d,v,I){I=Math.min(d.i.length,I);var D=d.l?T(d.l.Na,d.l,d):null;e:{var Q=d.i;let ne=-1;for(;;){const ge=["count="+I];ne==-1?0<I?(ne=Q[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let kt=!0;for(let pn=0;pn<I;pn++){let _t=Q[pn].g;const Tn=Q[pn].map;if(_t-=ne,0>_t)ne=Math.max(0,Q[pn].g-100),kt=!1;else try{Wd(Tn,ge,"req"+_t+"_")}catch{D&&D(Tn)}}if(kt){D=ge.join("&");break e}}}return d=d.i.splice(0,I),v.D=d,D}function oa(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Se||ce(),re||(Se(),re=!0),me.add(v,d),d.v=0}}function fl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=K(T(d.Fa,d),Gd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Kd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=K(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),pi(this),Kd(this))};function Yc(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Kd(d){d.g=new Ze(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Ar(d.qa);xt(v,"RID","rpc"),xt(v,"SID",d.K),xt(v,"AID",d.T),xt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&xt(v,"TO",d.ja),xt(v,"TYPE","xmlhttp"),ss(d,v),d.m&&d.o&&Zs(v,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=Ys(Ar(v)),I.m=null,I.P=!0,Hr(I,d)}n.Za=function(){this.C!=null&&(this.C=null,pi(this),fl(this),Kt(19))};function hl(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function pl(d,v){var I=null;if(d.g==v){hl(d),Yc(d),d.g=null;var D=2}else if(ht(d.h,v))I=v.D,ta(d.h,v),D=1;else return;if(d.G!=0){if(v.o)if(D==1){I=v.m?v.m.length:0,v=Date.now()-v.F;var Q=d.B;D=ki(),gt(D,new B(D,I)),Ui(d)}else oa(d);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(D==1&&am(d,v)||D==2&&fl(d)))switch(I&&0<I.length&&(v=d.h,v.i=v.i.concat(I)),Q){case 1:os(d,5);break;case 4:os(d,10);break;case 3:os(d,6);break;default:os(d,2)}}}function Gd(d,v){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*v}function os(d,v){if(d.j.info("Error code "+v),v==2){var I=T(d.fb,d),D=d.Xa;const Q=!D;D=new ns(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ra(D,"https"),Ys(D),Q?im(D.toString(),I):zd(D.toString(),I)}else Kt(2);d.G=0,d.l&&d.l.sa(v),Qd(d),ul(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Qd(d){if(d.G=0,d.ka=[],d.l){const v=rl(d.h);(v.length!=0||d.i.length!=0)&&(R(d.ka,v),R(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function Yd(d,v,I){var D=I instanceof ns?Ar(I):new ns(I);if(D.g!="")v&&(D.g=v+"."+D.g),Gs(D,D.s);else{var Q=u.location;D=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new ns(null);D&&ra(ne,D),v&&(ne.g=v),Q&&Gs(ne,Q),I&&(ne.l=I),D=ne}return I=d.D,v=d.ya,I&&v&&xt(D,I,v),xt(D,"VER",d.la),ss(d,D),D}function Xd(d,v,I){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new jt(new rs({eb:I})):new jt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}n=Xc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ml(){}ml.prototype.g=function(d,v){return new er(d,v)};function er(d,v){$e.call(this),this.g=new Qc(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!L(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new $i(this)}N(er,$e),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){kn(this.g)},er.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=cr(d),d=I);v.i.push(new ft(v.Ya++,d)),v.G==3&&Ui(v)},er.prototype.N=function(){this.g.l=null,delete this.j,kn(this.g),delete this.g,er.aa.N.call(this)};function Jd(d){ur.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const I in v){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}N(Jd,ur);function Zd(){Ws.call(this),this.status=1}N(Zd,Ws);function $i(d){this.g=d}N($i,Xc),$i.prototype.ua=function(){gt(this.g,"a")},$i.prototype.ta=function(d){gt(this.g,new Jd(d))},$i.prototype.sa=function(d){gt(this.g,new Zd)},$i.prototype.ra=function(){gt(this.g,"b")},ml.prototype.createWebChannel=ml.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,HR=function(){return new ml},BR=function(){return ki()},jR=Sr,Jy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Eh=Re,Ce.COMPLETE="complete",FR=Ce,ts.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Vu=ts,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,$R=jt}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const LI="@firebase/firestore",MI="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new T_("@firebase/firestore");function ql(){return Fa.logLevel}function Ne(n,...e){if(Fa.logLevel<=pt.DEBUG){const t=e.map(C_);Fa.debug(`Firestore (${$c}): ${n}`,...t)}}function Ls(n,...e){if(Fa.logLevel<=pt.ERROR){const t=e.map(C_);Fa.error(`Firestore (${$c}): ${n}`,...t)}}function yc(n,...e){if(Fa.logLevel<=pt.WARN){const t=e.map(C_);Fa.warn(`Firestore (${$c}): ${n}`,...t)}}function C_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n="Unexpected state"){const e=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: `+n;throw Ls(e),new Error(e)}function Rt(n,e){n||Xe()}function rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends zs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qn.UNAUTHENTICATED))}shutdown(){}}class jF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BF{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new As;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new As,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new As)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string"),new zR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new qn(e)}}class HF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new HF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WF{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ni(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0);const r=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new VI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt(typeof t.token=="string"),this.R=t.token,new VI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function vt(n,e){return n<e?-1:n>e?1:0}function vc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=-62135596800,$I=1e6;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$I);return new yn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UI)throw new Le(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$I}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new yn(0,0))}static max(){return new tt(new yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__name__";class zi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(),r===void 0?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=zi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=zi.isNumericId(e),i=zi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?zi.extractNumericId(e).compare(zi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class Ft extends zi{construct(e,t,r){return new Ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ft(t)}static emptyPath(){return new Ft([])}}const KF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends zi{construct(e,t,r){return new Ln(e,t,r)}static isValidIdentifier(e){return KF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FI}static keyField(){return new Ln([FI])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Le(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Le(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Le(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Le(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(t)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Ft.fromString(e))}static fromName(e){return new He(Ft.fromString(e).popFirst(5))}static empty(){return new He(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function GF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new yn(t+1,0):new yn(t,r));return new Vo(i,He.empty(),e)}function QF(n){return new Vo(n.readTime,n.key,rd)}class Vo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vo(tt.min(),He.empty(),rd)}static max(){return new Vo(tt.max(),He.empty(),rd)}}function YF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:vt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==XF)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(m=>{l[p]=m,++u,u===a&&r(l)},m=>i(m))}})}static doWhile(e,t){return new se((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function ZF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Pp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=-1;function Dp(n){return n==null}function qh(n){return n===0&&1/n==-1/0}function ej(n){return typeof n=="number"&&Number.isInteger(n)&&!qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="";function tj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jI(e)),e=nj(n.get(t),e);return jI(e)}function nj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case qR:t+="";break;default:t+=a}}return t}function jI(n){return n+qR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??xn.RED,this.left=i??xn.EMPTY,this.right=a??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new xn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,r,i,a){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HI(this.data.getIterator())}getIteratorFrom(e){return new HI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class HI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Mr([])}unionWith(e){let t=new vn(Ln.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GR("Invalid base64 string: "+a):a}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const rj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(n){if(Rt(!!n),typeof n=="string"){let e=0;const t=rj.exec(n);if(Rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?Vn.fromBase64String(n):Vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="server_timestamp",YR="__type__",XR="__previous_value__",JR="__local_write_time__";function A_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[YR])===null||t===void 0?void 0:t.stringValue)===QR}function xp(n){const e=n.mapValue.fields[XR];return A_(e)?xp(e):e}function id(n){const e=Uo(n.mapValue.fields[JR].timestampValue);return new yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t,r,i,a,l,u,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=p}}const Kh="(default)";class sd{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__type__",sj="__max__",ch={mapValue:{}},eN="__vector__",Gh="value";function Fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?A_(n)?4:aj(n)?9007199254740991:oj(n)?10:11:Xe()}function Ji(n,e){if(n===e)return!0;const t=Fo(n);if(t!==Fo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return id(n).isEqual(id(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Uo(i.timestampValue),u=Uo(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return $o(i.bytesValue).isEqual($o(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return nn(i.geoPointValue.latitude)===nn(a.geoPointValue.latitude)&&nn(i.geoPointValue.longitude)===nn(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return nn(i.integerValue)===nn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=nn(i.doubleValue),u=nn(a.doubleValue);return l===u?qh(l)===qh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return vc(n.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(BI(l)!==BI(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ji(l[f],u[f])))return!1;return!0}(n,e);default:return Xe()}}function od(n,e){return(n.values||[]).find(t=>Ji(t,e))!==void 0}function _c(n,e){if(n===e)return 0;const t=Fo(n),r=Fo(e);if(t!==r)return vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return vt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=nn(a.integerValue||a.doubleValue),f=nn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return zI(n.timestampValue,e.timestampValue);case 4:return zI(id(n),id(e));case 5:return vt(n.stringValue,e.stringValue);case 6:return function(a,l){const u=$o(a),f=$o(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),f=l.split("/");for(let p=0;p<u.length&&p<f.length;p++){const m=vt(u[p],f[p]);if(m!==0)return m}return vt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=vt(nn(a.latitude),nn(l.latitude));return u!==0?u:vt(nn(a.longitude),nn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return WI(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,f,p,m;const y=a.fields||{},T=l.fields||{},S=(u=y[Gh])===null||u===void 0?void 0:u.arrayValue,N=(f=T[Gh])===null||f===void 0?void 0:f.arrayValue,k=vt(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0);return k!==0?k:WI(S,N)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===ch.mapValue&&l===ch.mapValue)return 0;if(a===ch.mapValue)return 1;if(l===ch.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let y=0;y<f.length&&y<m.length;++y){const T=vt(f[y],m[y]);if(T!==0)return T;const S=_c(u[f[y]],p[m[y]]);if(S!==0)return S}return vt(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function zI(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return vt(n,e);const t=Uo(n),r=Uo(e),i=vt(t.seconds,r.seconds);return i!==0?i:vt(t.nanos,r.nanos)}function WI(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=_c(t[i],r[i]);if(a)return a}return vt(t.length,r.length)}function wc(n){return Zy(n)}function Zy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Uo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $o(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Zy(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Zy(t.fields[l])}`;return i+"}"}(n.mapValue):Xe()}function Th(n){switch(Fo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xp(n);return e?16+Th(e):16;case 5:return 2*n.stringValue.length;case 6:return $o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Th(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ko(r.fields,(a,l)=>{i+=a.length+Th(l)}),i}(n.mapValue);default:throw Xe()}}function qI(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ev(n){return!!n&&"integerValue"in n}function R_(n){return!!n&&"arrayValue"in n}function KI(n){return!!n&&"nullValue"in n}function GI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ih(n){return!!n&&"mapValue"in n}function oj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZR])===null||t===void 0?void 0:t.stringValue)===eN}function zu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ko(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=zu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(t)}setAll(e){let t=Ln.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=zu(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ko(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ir(zu(this.value))}}function tN(n){const e=[];return Ko(n.fields,(t,r)=>{const i=new Ln([t]);if(Ih(r)){const a=tN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Kn(e,0,tt.min(),tt.min(),tt.min(),Ir.empty(),0)}static newFoundDocument(e,t,r,i){return new Kn(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new Kn(e,2,t,tt.min(),tt.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,tt.min(),tt.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this.position=e,this.inclusive=t}}function QI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=He.comparator(He.fromName(l.referenceValue),t.key):r=_c(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function YI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function lj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{}class dn extends nN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uj(e,t,r):t==="array-contains"?new hj(e,r):t==="in"?new pj(e,r):t==="not-in"?new mj(e,r):t==="array-contains-any"?new gj(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dj(e,r):new fj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(_c(t,this.value)):t!==null&&Fo(this.value)===Fo(t)&&this.matchesComparison(_c(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends nN{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ci(e,t)}matches(e){return rN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rN(n){return n.op==="and"}function iN(n){return cj(n)&&rN(n)}function cj(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function tv(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+wc(n.value);if(iN(n))return n.filters.map(e=>tv(e)).join(",");{const e=n.filters.map(t=>tv(t)).join(",");return`${n.op}(${e})`}}function sN(n,e){return n instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.field.isEqual(i.field)&&Ji(r.value,i.value)}(n,e):n instanceof Ci?function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&sN(l,i.filters[u]),!0):!1}(n,e):void Xe()}function oN(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${wc(t.value)}`}(n):n instanceof Ci?function(t){return t.op.toString()+" {"+t.getFilters().map(oN).join(" ,")+"}"}(n):"Filter"}class uj extends dn{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class dj extends dn{constructor(e,t){super(e,"in",t),this.keys=aN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fj extends dn{constructor(e,t){super(e,"not-in",t),this.keys=aN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class hj extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return R_(t)&&od(t.arrayValue,this.value)}}class pj extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&od(this.value.arrayValue,t)}}class mj extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!od(this.value.arrayValue,t)}}class gj extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!R_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function XI(n,e=null,t=[],r=[],i=null,a=null,l=null){return new yj(n,e,t,r,i,a,l)}function N_(n){const e=rt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Dp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wc(r)).join(",")),e.le=t}return e.le}function k_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YI(n.startAt,e.startAt)&&YI(n.endAt,e.endAt)}function nv(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vj(n,e,t,r,i,a,l,u){return new Nd(n,e,t,r,i,a,l,u)}function Op(n){return new Nd(n)}function JI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lN(n){return n.collectionGroup!==null}function Wu(n){const e=rt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new vn(Ln.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Yh(a,r))}),t.has(Ln.keyField().canonicalString())||e.he.push(new Yh(Ln.keyField(),r))}return e.he}function Ki(n){const e=rt(n);return e.Pe||(e.Pe=_j(e,Wu(n))),e.Pe}function _j(n,e){if(n.limitType==="F")return XI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Yh(i.field,a)});const t=n.endAt?new Qh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qh(n.startAt.position,n.startAt.inclusive):null;return XI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rv(n,e){const t=n.filters.concat([e]);return new Nd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iv(n,e,t){return new Nd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lp(n,e){return k_(Ki(n),Ki(e))&&n.limitType===e.limitType}function cN(n){return`${N_(Ki(n))}|lt:${n.limitType}`}function Kl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>oN(i)).join(", ")}]`),Dp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>wc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>wc(i)).join(",")),`Target(${r})`}(Ki(n))}; limitType=${n.limitType})`}function Mp(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):He.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Wu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const p=QI(l,u,f);return l.inclusive?p<=0:p<0}(r.startAt,Wu(r),i)||r.endAt&&!function(l,u,f){const p=QI(l,u,f);return l.inclusive?p>=0:p>0}(r.endAt,Wu(r),i))}(n,e)}function wj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uN(n){return(e,t)=>{let r=!1;for(const i of Wu(n)){const a=Ej(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Ej(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(a,l,u){const f=l.data.field(a),p=u.data.field(a);return f!==null&&p!==null?_c(f,p):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return KR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Yt(He.comparator);function Ms(){return Tj}const dN=new Yt(He.comparator);function Uu(...n){let e=dN;for(const t of n)e=e.insert(t.key,t);return e}function fN(n){let e=dN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Na(){return qu()}function hN(){return qu()}function qu(){return new Xa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ij=new Yt(He.comparator),Sj=new vn(He.comparator);function mt(...n){let e=Sj;for(const t of n)e=e.add(t);return e}const Cj=new vn(vt);function bj(){return Cj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function pN(n){return{integerValue:""+n}}function Aj(n,e){return ej(e)?pN(e):P_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this._=void 0}}function Rj(n,e,t){return n instanceof ad?function(i,a){const l={fields:{[YR]:{stringValue:QR},[JR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&A_(a)&&(a=xp(a)),a&&(l.fields[XR]=a),{mapValue:l}}(t,e):n instanceof Ec?gN(n,e):n instanceof Tc?yN(n,e):function(i,a){const l=mN(i,a),u=ZI(l)+ZI(i.Ie);return ev(l)&&ev(i.Ie)?pN(u):P_(i.serializer,u)}(n,e)}function Nj(n,e,t){return n instanceof Ec?gN(n,e):n instanceof Tc?yN(n,e):t}function mN(n,e){return n instanceof Xh?function(r){return ev(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ad extends Vp{}class Ec extends Vp{constructor(e){super(),this.elements=e}}function gN(n,e){const t=vN(e);for(const r of n.elements)t.some(i=>Ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class Tc extends Vp{constructor(e){super(),this.elements=e}}function yN(n,e){let t=vN(e);for(const r of n.elements)t=t.filter(i=>!Ji(i,r));return{arrayValue:{values:t}}}class Xh extends Vp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ZI(n){return nn(n.integerValue||n.doubleValue)}function vN(n){return R_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t){this.field=e,this.transform=t}}function kj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ec&&i instanceof Ec||r instanceof Tc&&i instanceof Tc?vc(r.elements,i.elements,Ji):r instanceof Xh&&i instanceof Xh?Ji(r.Ie,i.Ie):r instanceof ad&&i instanceof ad}(n.transform,e.transform)}class Pj{constructor(e,t){this.version=e,this.transformResults=t}}class Si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Up{}function _N(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new x_(n.key,Si.none()):new kd(n.key,n.data,Si.none());{const t=n.data,r=Ir.empty();let i=new vn(Ln.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Go(n.key,r,new Mr(i.toArray()),Si.none())}}function Dj(n,e,t){n instanceof kd?function(i,a,l){const u=i.value.clone(),f=tS(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Go?function(i,a,l){if(!Sh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=tS(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(wN(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ku(n,e,t,r){return n instanceof kd?function(a,l,u,f){if(!Sh(a.precondition,l))return u;const p=a.value.clone(),m=nS(a.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Go?function(a,l,u,f){if(!Sh(a.precondition,l))return u;const p=nS(a.fieldTransforms,f,l),m=l.data;return m.setAll(wN(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(a,l,u){return Sh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function xj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=mN(r.transform,i||null);a!=null&&(t===null&&(t=Ir.empty()),t.set(r.field,a))}return t||null}function eS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vc(r,i,(a,l)=>kj(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kd extends Up{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Go extends Up{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tS(n,e,t){const r=new Map;Rt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,Nj(l,u,t[i]))}return r}function nS(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,Rj(a,l,e))}return r}class x_ extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oj extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Dj(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hN();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const f=_N(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,(t,r)=>eS(t,r))&&vc(this.baseMutations,e.baseMutations,(t,r)=>eS(t,r))}}class O_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Rt(e.mutations.length===r.length);let i=function(){return Ij}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new O_(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,wt;function Uj(n){switch(n){case oe.OK:return Xe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Xe()}}function EN(n){if(n===void 0)return Ls("GRPC error has no .code"),oe.UNKNOWN;switch(n){case cn.OK:return oe.OK;case cn.CANCELLED:return oe.CANCELLED;case cn.UNKNOWN:return oe.UNKNOWN;case cn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case cn.INTERNAL:return oe.INTERNAL;case cn.UNAVAILABLE:return oe.UNAVAILABLE;case cn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case cn.NOT_FOUND:return oe.NOT_FOUND;case cn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case cn.ABORTED:return oe.ABORTED;case cn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case cn.DATA_LOSS:return oe.DATA_LOSS;default:return Xe()}}(wt=cn||(cn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Do([4294967295,4294967295],0);function rS(n){const e=$j().encode(n),t=new UR;return t.update(e),new Uint8Array(t.digest())}function iS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Do([t,r],0),new Do([i,a],0)]}class L_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $u(`Invalid padding: ${t}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $u(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Do.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Do.fromNumber(r)));return i.compare(Fj)===1&&(i=new Do([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=rS(e),[r,i]=iS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new L_(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=rS(e),[r,i]=iS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $p(tt.min(),i,new Yt(vt),Ms(),mt())}}class Pd{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pd(r,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class TN{constructor(e,t){this.targetId=e,this.ge=t}}class IN{constructor(e,t,r=Vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class sS{constructor(){this.pe=0,this.ye=oS(),this.we=Vn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=mt(),t=mt(),r=mt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new Pd(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=oS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Rt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ms(),this.$e=uh(),this.Ke=uh(),this.Ue=new Yt(vt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(nv(a))if(r===0){const l=new He(a.path);this.ze(t,l,Kn.newNoDocument(l,tt.min()))}else Rt(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),f=u?this.nt(u,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=$o(r).toUint8Array()}catch(f){if(f instanceof GR)return yc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new L_(l,i,a)}catch(f){return yc(f instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&nv(u.target)){const f=new He(u.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,Kn.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=mt();this.Ke.forEach((a,l)=>{let u=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new $p(e,t,this.Ue,this.Qe,r);return this.Qe=Ms(),this.$e=uh(),this.Ke=uh(),this.Ue=new Yt(vt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new sS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new vn(vt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new vn(vt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new sS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function uh(){return new Yt(He.comparator)}function oS(){return new Yt(He.comparator)}const Bj={asc:"ASCENDING",desc:"DESCENDING"},Hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zj={and:"AND",or:"OR"};class Wj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sv(n,e){return n.useProto3Json||Dp(e)?e:{value:e}}function Jh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qj(n,e){return Jh(n,e.toTimestamp())}function Gi(n){return Rt(!!n),tt.fromTimestamp(function(t){const r=Uo(t);return new yn(r.seconds,r.nanos)}(n))}function M_(n,e){return ov(n,e).canonicalString()}function ov(n,e){const t=function(i){return new Ft(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CN(n){const e=Ft.fromString(n);return Rt(kN(e)),e}function av(n,e){return M_(n.databaseId,e.path)}function fy(n,e){const t=CN(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(AN(t))}function bN(n,e){return M_(n.databaseId,e)}function Kj(n){const e=CN(n);return e.length===4?Ft.emptyPath():AN(e)}function lv(n){return new Ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AN(n){return Rt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function aS(n,e,t){return{name:av(n,e),fields:t.value.mapValue.fields}}function Gj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(Rt(m===void 0||typeof m=="string"),Vn.fromBase64String(m||"")):(Rt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Vn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const m=p.code===void 0?oe.UNKNOWN:EN(p.code);return new Le(m,p.message||"")}(l);t=new IN(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fy(n,r.document.name),a=Gi(r.document.updateTime),l=r.document.createTime?Gi(r.document.createTime):tt.min(),u=new Ir({mapValue:{fields:r.document.fields}}),f=Kn.newFoundDocument(i,a,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new Ch(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fy(n,r.document),a=r.readTime?Gi(r.readTime):tt.min(),l=Kn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Ch([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fy(n,r.document),a=r.removedTargetIds||[];t=new Ch([],a,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new Vj(i,a),u=r.targetId;t=new TN(u,l)}}return t}function Qj(n,e){let t;if(e instanceof kd)t={update:aS(n,e.key,e.value)};else if(e instanceof x_)t={delete:av(n,e.key)};else if(e instanceof Go)t={update:aS(n,e.key,e.data),updateMask:i3(e.fieldMask)};else{if(!(e instanceof Oj))return Xe();t={verify:av(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof ad)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ec)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Tc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Xh)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:qj(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(n,e.precondition)),t}function Yj(n,e){return n&&n.length>0?(Rt(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?Gi(i.updateTime):Gi(a);return l.isEqual(tt.min())&&(l=Gi(a)),new Pj(l,i.transformResults||[])}(t,e))):[]}function Xj(n,e){return{documents:[bN(n,e.path)]}}function Jj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bN(n,i);const a=function(p){if(p.length!==0)return NN(Ci.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(T){return{field:Gl(T.field),direction:t3(T.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=sv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function Zj(n){let e=Kj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Rt(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(y){const T=RN(y);return T instanceof Ci&&iN(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(T=>function(N){return new Yh(Ql(N.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(t.orderBy));let u=null;t.limit&&(u=function(y){let T;return T=typeof y=="object"?y.value:y,Dp(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(y){const T=!!y.before,S=y.values||[];return new Qh(S,T)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const T=!y.before,S=y.values||[];return new Qh(S,T)}(t.endAt)),vj(e,i,l,a,u,"F",f,p)}function e3(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ql(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ql(t.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ql(t.unaryFilter.field);return dn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ql(t.unaryFilter.field);return dn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Ql(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ci.create(t.compositeFilter.filters.map(r=>RN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(n):Xe()}function t3(n){return Bj[n]}function n3(n){return Hj[n]}function r3(n){return zj[n]}function Gl(n){return{fieldPath:n.canonicalString()}}function Ql(n){return Ln.fromServerFormat(n.fieldPath)}function NN(n){return n instanceof dn?function(t){if(t.op==="=="){if(GI(t.value))return{unaryFilter:{field:Gl(t.field),op:"IS_NAN"}};if(KI(t.value))return{unaryFilter:{field:Gl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GI(t.value))return{unaryFilter:{field:Gl(t.field),op:"IS_NOT_NAN"}};if(KI(t.value))return{unaryFilter:{field:Gl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(t.field),op:n3(t.op),value:t.value}}}(n):n instanceof Ci?function(t){const r=t.getFilters().map(i=>NN(i));return r.length===1?r[0]:{compositeFilter:{op:r3(t.op),filters:r}}}(n):Xe()}function i3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t,r,i,a=tt.min(),l=tt.min(),u=Vn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.Tt=e}}function o3(n){const e=Zj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?iv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.Tn=new l3}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Vo.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class l3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vn(Ft.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PN=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(PN,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ic(0)}static Un(){return new Ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="LruGarbageCollector",c3=1048576;function uS([n,e],[t,r]){const i=vt(n,t);return i===0?vt(e,r):i}class u3{constructor(e){this.Hn=e,this.buffer=new vn(uS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ne(cS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jc(t)?Ne(cS,"Ignoring IndexedDB error during garbage collection: ",t):await Fc(t)}await this.er(3e5)})}}class f3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Pp.ae);const r=new u3(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(lS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lS):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,u,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),ql()<=pt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function h3(n,e){return new f3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.changes=new Xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ku(r.mutation,i,Mr.empty(),yn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=mt()){const i=Na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Uu();return a.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,mt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=Ms();const l=qu(),u=function(){return qu()}();return t.forEach((f,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Go)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Ku(m.mutation,p,m.mutation.getFieldMask(),yn.now())):l.set(p.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var y;return u.set(p,new m3(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=qu();let i=new Yt((l,u)=>l-u),a=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let m=r.get(f)||Mr.empty();m=u.applyToLocalView(p,m),r.set(f,m);const y=(i.get(u.batchId)||mt()).add(f);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),p=f.key,m=f.value,y=hN();m.forEach(T=>{if(!a.has(T)){const S=_N(t.get(T),r.get(T));S!==null&&y.set(T,S),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return He.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):se.resolve(Na());let u=rd,f=a;return l.next(p=>se.forEach(p,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next(T=>{f=f.insert(m,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,mt())).next(m=>({batchId:u,changes:fN(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=Uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Uu();return this.indexManager.getCollectionParents(e,a).next(u=>se.forEach(u,f=>{const p=function(y,T){return new Nd(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((y,T)=>{l=l.insert(y,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Kn.newInvalidDocument(m)))});let u=Uu();return l.forEach((f,p)=>{const m=a.get(f);m!==void 0&&Ku(m.mutation,p,Mr.empty(),yn.now()),Mp(t,p)&&(u=u.insert(f,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:o3(i.bundledQuery),readTime:Gi(i.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.overlays=new Yt(He.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Na();return se.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=Na(),a=t.length+1,l=new He(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Yt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=Na(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Na(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=i)););return se.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Mj(t,r));let a=this.Rr.get(t);a===void 0&&(a=mt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.Vr=new vn(bn.mr),this.gr=new vn(bn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new bn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new bn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new He(new Ft([])),r=new bn(t,e),i=new bn(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new He(new Ft([])),r=new bn(t,e),i=new bn(t,e+1);let a=mt();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new bn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return He.comparator(e.key,t.key)||vt(e.Cr,t.Cr)}static pr(e,t){return vt(e.Cr,t.Cr)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new vn(bn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lj(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new bn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?b_:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bn(t,0),i=new bn(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);a.push(u)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(vt);return t.forEach(i=>{const a=new bn(i,0),l=new bn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],u=>{r=r.add(u.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;He.isDocumentKey(a)||(a=a.child(""));const l=new bn(new He(a),0);let u=new vn(vt);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(f.Cr)),!0)},l),se.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Rt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(t.mutations,i=>{const a=new bn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new bn(t,0),i=this.Mr.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.kr=e,this.docs=function(){return new Yt(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Ms();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Kn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ms();const l=t.path,u=new He(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||YF(QF(m),r)<=0||(i.has(m.key)||Mp(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Xe()}qr(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new T3(this)}getSize(e){return se.resolve(this.size)}}class T3 extends p3{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.persistence=e,this.Qr=new Xa(t=>N_(t),k_),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new V_,this.targetCount=0,this.Ur=Ic.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ic(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),se.waitFor(a).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Pp(0),this.zr=!1,this.zr=!0,this.jr=new _3,this.referenceDelegate=e(this),this.Hr=new I3(this),this.indexManager=new a3,this.remoteDocumentCache=function(i){return new E3(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new s3(t),this.Yr=new y3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new v3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new w3(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new S3(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class S3 extends JF{constructor(e){super(),this.currentSequenceNumber=e}}class U_{constructor(e){this.persistence=e,this.ti=new V_,this.ni=null}static ri(e){return new U_(e)}get ii(){if(this.ni)return this.ni;throw Xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const i=He.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Zh{constructor(e,t){this.persistence=e,this.oi=new Xa(r=>tj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=h3(this,t)}static ri(e,t){return new Zh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?se.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Th(e.data.value)),t}ar(e,t,r){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=mt(),i=mt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return w4()?8:ZF(Qn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new C3;return this._s(e,t,l).next(u=>{if(a.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ql()<=pt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Kl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(ql()<=pt.DEBUG&&Ne("QueryEngine","Query:",Kl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ql()<=pt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Kl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(t))):se.resolve())}rs(e,t){if(JI(t))return se.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=iv(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=mt(...a);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,u);return this.ls(t,p,l,f.readTime)?this.rs(e,iv(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return JI(t)||i.isEqual(tt.min())?se.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?se.resolve(null):(ql()<=pt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kl(t)),this.hs(e,l,t,GF(i,rd)).next(u=>u))})}cs(e,t){let r=new vn(uN(e));return t.forEach((i,a)=>{Mp(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return ql()<=pt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Kl(t)),this.ns.getDocumentsMatchingQuery(e,t,Vo.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LocalStore",A3=3e8;class R3{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Yt(vt),this.Is=new Xa(a=>N_(a),k_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function N3(n,e,t,r){return new R3(n,e,t,r)}async function xN(n,e){const t=rt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let f=mt();for(const p of i){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of a){u.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:u}))})})}function k3(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,f,p,m){const y=p.batch,T=y.keys();let S=se.resolve();return T.forEach(N=>{S=S.next(()=>m.getEntry(f,N)).next(k=>{const R=p.docVersions.get(N);Rt(R!==null),k.version.compareTo(R)<0&&(y.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),m.addEntry(k)))})}),S.next(()=>u.mutationQueue.removeMutationBatch(f,y))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=mt();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(f=f.add(u.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ON(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function P3(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,y)=>{const T=i.get(y);if(!T)return;u.push(t.Hr.removeMatchingKeys(a,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(a,m.addedDocuments,y)));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Vn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),i=i.insert(y,S),function(k,R,x){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=A3?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(T,S,m)&&u.push(t.Hr.updateTargetData(a,S))});let f=Ms(),p=mt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(D3(a,l,e.documentUpdates).next(m=>{f=m.Vs,p=m.fs})),!r.isEqual(tt.min())){const m=t.Hr.getLastRemoteSnapshotVersion(a).next(y=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(m)}return se.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=i,a))}function D3(n,e,t){let r=mt(),i=mt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Ms();return t.forEach((u,f)=>{const p=a.get(u);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Ne(F_,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function x3(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=b_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O3(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,se.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ao(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function cv(n,e,t){const r=rt(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!jc(l))throw l;Ne(F_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function dS(n,e,t){const r=rt(n);let i=tt.min(),a=mt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,m){const y=rt(f),T=y.Is.get(m);return T!==void 0?se.resolve(y.Ts.get(T)):y.Hr.getTargetData(p,m)}(r,l,Ki(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?a:mt())).next(u=>(L3(r,wj(e),u),{documents:u,gs:a})))}function L3(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class fS{constructor(){this.activeTargetIds=bj()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M3{constructor(){this.ho=new fS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="ConnectivityMonitor";class pS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ne(hS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ne(hS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function uv(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="RestConnection",U3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $3{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,a){const l=uv(),u=this.bo(e,t.toUriEncodedString());Ne(hy,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,u,f,r).then(p=>(Ne(hy,`Received RPC '${e}' ${l}: `,p),p),p=>{throw yc(hy,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p})}Co(e,t,r,i,a,l){return this.So(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$c}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const r=U3[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class j3 extends $3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=uv();return new Promise((l,u)=>{const f=new $R;f.setWithCredentials(!0),f.listenOnce(FR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Eh.NO_ERROR:const m=f.getResponseJson();Ne(Wn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Eh.TIMEOUT:Ne(Wn,`RPC '${e}' ${a} timed out`),u(new Le(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const y=f.getStatus();if(Ne(Wn,`RPC '${e}' ${a} failed with status:`,y,"response text:",f.getResponseText()),y>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const N=function(R){const x=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(x)>=0?x:oe.UNKNOWN}(S.status);u(new Le(N,S.message))}else u(new Le(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Le(oe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ne(Wn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);Ne(Wn,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=uv(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=HR(),u=BR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=a.join("");Ne(Wn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const y=l.createWebChannel(m,f);let T=!1,S=!1;const N=new F3({Fo:R=>{S?Ne(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(T||(Ne(Wn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),T=!0),Ne(Wn,`RPC '${e}' stream ${i} sending:`,R),y.send(R))},Mo:()=>y.close()}),k=(R,x,L)=>{R.listen(x,V=>{try{L(V)}catch(j){setTimeout(()=>{throw j},0)}})};return k(y,Vu.EventType.OPEN,()=>{S||(Ne(Wn,`RPC '${e}' stream ${i} transport opened.`),N.Qo())}),k(y,Vu.EventType.CLOSE,()=>{S||(S=!0,Ne(Wn,`RPC '${e}' stream ${i} transport closed`),N.Ko())}),k(y,Vu.EventType.ERROR,R=>{S||(S=!0,yc(Wn,`RPC '${e}' stream ${i} transport errored:`,R),N.Ko(new Le(oe.UNAVAILABLE,"The operation could not be completed")))}),k(y,Vu.EventType.MESSAGE,R=>{var x;if(!S){const L=R.data[0];Rt(!!L);const V=L,j=(V==null?void 0:V.error)||((x=V[0])===null||x===void 0?void 0:x.error);if(j){Ne(Wn,`RPC '${e}' stream ${i} received error:`,j);const q=j.status;let G=function(P){const M=cn[P];if(M!==void 0)return EN(M)}(q),C=j.message;G===void 0&&(G=oe.INTERNAL,C="Unknown error status: "+q+" with message "+j.message),S=!0,N.Ko(new Le(G,C)),y.close()}else Ne(Wn,`RPC '${e}' stream ${i} received:`,L),N.Uo(L)}}),k(u,jR.STAT_EVENT,R=>{R.stat===Jy.PROXY?Ne(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Jy.NOPROXY&&Ne(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n){return new Wj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="PersistentStream";class MN{constructor(e,t,r,i,a,l,u,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new LN(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Ls(t.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Le(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ne(mS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ne(mS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B3 extends MN{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Gj(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?Gi(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=lv(this.serializer),t.addTarget=function(a,l){let u;const f=l.target;if(u=nv(f)?{documents:Xj(a,f)}:{query:Jj(a,f).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=SN(a,l.resumeToken);const p=sv(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){u.readTime=Jh(a,l.snapshotVersion.toTimestamp());const p=sv(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=e3(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=lv(this.serializer),t.removeTarget=e,this.I_(t)}}class H3 extends MN{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Yj(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=lv(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Qj(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{}class W3 extends z3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Le(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,ov(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(oe.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,ov(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(oe.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class q3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ls(t),this.N_=!1):Ne("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class K3{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ja(this)&&(Ne(ja,"Restarting streams for network reachability change."),await async function(f){const p=rt(f);p.W_.add(4),await Dd(p),p.j_.set("Unknown"),p.W_.delete(4),await jp(p)}(this))})}),this.j_=new q3(r,i)}}async function jp(n){if(Ja(n))for(const e of n.G_)await e(!0)}async function Dd(n){for(const e of n.G_)await e(!1)}function VN(n,e){const t=rt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),z_(t)?H_(t):Bc(t).c_()&&B_(t,e))}function j_(n,e){const t=rt(n),r=Bc(t);t.U_.delete(e),r.c_()&&UN(t,e),t.U_.size===0&&(r.c_()?r.P_():Ja(t)&&t.j_.set("Unknown"))}function B_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bc(n).y_(e)}function UN(n,e){n.H_.Ne(e),Bc(n).w_(e)}function H_(n){n.H_=new jj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Bc(n).start(),n.j_.B_()}function z_(n){return Ja(n)&&!Bc(n).u_()&&n.U_.size>0}function Ja(n){return rt(n).W_.size===0}function $N(n){n.H_=void 0}async function G3(n){n.j_.set("Online")}async function Q3(n){n.U_.forEach((e,t)=>{B_(n,e)})}async function Y3(n,e){$N(n),z_(n)?(n.j_.q_(e),H_(n)):n.j_.set("Unknown")}async function X3(n,e,t){if(n.j_.set("Online"),e instanceof IN&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){Ne(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ep(n,r)}else if(e instanceof Ch?n.H_.We(e):e instanceof TN?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await ON(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.U_.get(p);m&&a.U_.set(p,m.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,p)=>{const m=a.U_.get(f);if(!m)return;a.U_.set(f,m.withResumeToken(Vn.EMPTY_BYTE_STRING,m.snapshotVersion)),UN(a,f);const y=new Ao(m.target,f,p,m.sequenceNumber);B_(a,y)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){Ne(ja,"Failed to raise snapshot:",r),await ep(n,r)}}async function ep(n,e,t){if(!jc(e))throw e;n.W_.add(1),await Dd(n),n.j_.set("Offline"),t||(t=()=>ON(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ne(ja,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await jp(n)})}function FN(n,e){return e().catch(t=>ep(n,t,e))}async function Bp(n){const e=rt(n),t=jo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:b_;for(;J3(e);)try{const i=await x3(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Z3(e,i)}catch(i){await ep(e,i)}jN(e)&&BN(e)}function J3(n){return Ja(n)&&n.K_.length<10}function Z3(n,e){n.K_.push(e);const t=jo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function jN(n){return Ja(n)&&!jo(n).u_()&&n.K_.length>0}function BN(n){jo(n).start()}async function eB(n){jo(n).C_()}async function tB(n){const e=jo(n);for(const t of n.K_)e.b_(t.mutations)}async function nB(n,e,t){const r=n.K_.shift(),i=O_.from(r,e,t);await FN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Bp(n)}async function rB(n,e){e&&jo(n).S_&&await async function(r,i){if(function(l){return Uj(l)&&l!==oe.ABORTED}(i.code)){const a=r.K_.shift();jo(r).h_(),await FN(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Bp(r)}}(n,e),jN(n)&&BN(n)}async function gS(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Ne(ja,"RemoteStore received new credentials");const r=Ja(t);t.W_.add(3),await Dd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await jp(t)}async function iB(n,e){const t=rt(n);e?(t.W_.delete(2),await jp(t)):e||(t.W_.add(2),await Dd(t),t.j_.set("Unknown"))}function Bc(n){return n.J_||(n.J_=function(t,r,i){const a=rt(t);return a.M_(),new B3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:G3.bind(null,n),No:Q3.bind(null,n),Lo:Y3.bind(null,n),p_:X3.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),z_(n)?H_(n):n.j_.set("Unknown")):(await n.J_.stop(),$N(n))})),n.J_}function jo(n){return n.Y_||(n.Y_=function(t,r,i){const a=rt(t);return a.M_(),new H3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:eB.bind(null,n),Lo:rB.bind(null,n),D_:tB.bind(null,n),v_:nB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Bp(n)):(await n.Y_.stop(),n.K_.length>0&&(Ne(ja,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new W_(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(n,e){if(Ls("AsyncQueue",`${e}: ${n}`),jc(n))return new Le(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Uu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.Z_=new Yt(He.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sc{constructor(e,t,r,i,a,l,u,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Sc(e,t,Zl.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class oB{constructor(){this.queries=vS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=rt(t),a=i.queries;i.queries=vS(),a.forEach((l,u)=>{for(const f of u.ta)f.onError(r)})})(this,new Le(oe.ABORTED,"Firestore shutting down"))}}function vS(){return new Xa(n=>cN(n),Lp)}async function K_(n,e){const t=rt(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new sB,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=q_(l,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Q_(t)}async function G_(n,e){const t=rt(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function aB(n,e){const t=rt(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&Q_(t)}function lB(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function Q_(n){n.ia.forEach(e=>{e.next()})}var dv,_S;(_S=dv||(dv={}))._a="default",_S.Cache="cache";class Y_{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==dv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.key=e}}class zN{constructor(e){this.key=e}}class cB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=mt(),this.mutatedKeys=mt(),this.ya=uN(e),this.wa=new Zl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new yS,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const T=i.get(m),S=Mp(this.query,y)?y:null,N=!!T&&this.mutatedKeys.has(T.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;T&&S?T.data.isEqual(S.data)?N!==k&&(r.track({type:3,doc:S}),R=!0):this.va(T,S)||(r.track({type:2,doc:S}),R=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(u=!0)):!T&&S?(r.track({type:0,doc:S}),R=!0):T&&!S&&(r.track({type:1,doc:T}),R=!0,(f||p)&&(u=!0)),R&&(S?(l=l.add(S),a=k?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,y)=>function(S,N){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return k(S)-k(N)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Sc(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=mt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new zN(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new HN(r))}),t}Oa(e){this.fa=e.gs,this.pa=mt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Sc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const X_="SyncEngine";class uB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dB{constructor(e){this.key=e,this.Ba=!1}}class fB{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Xa(u=>cN(u),Lp),this.qa=new Map,this.Qa=new Set,this.$a=new Yt(He.comparator),this.Ka=new Map,this.Ua=new V_,this.Wa={},this.Ga=new Map,this.za=Ic.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hB(n,e,t=!0){const r=YN(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await WN(r,e,t,!0),i}async function pB(n,e){const t=YN(n);await WN(t,e,!0,!1)}async function WN(n,e,t,r){const i=await O3(n.localStore,Ki(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await mB(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&VN(n.remoteStore,i),u}async function mB(n,e,t,r,i){n.Ha=(y,T,S)=>async function(k,R,x,L){let V=R.view.ba(x);V.ls&&(V=await dS(k.localStore,R.query,!1).then(({documents:C})=>R.view.ba(C,V)));const j=L&&L.targetChanges.get(R.targetId),q=L&&L.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(V,k.isPrimaryClient,j,q);return ES(k,R.targetId,G.Ma),G.snapshot}(n,y,T,S);const a=await dS(n.localStore,e,!0),l=new cB(e,a.gs),u=l.ba(a.documents),f=Pd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,f);ES(n,t,p.Ma);const m=new uB(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function gB(n,e,t){const r=rt(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!Lp(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&j_(r.remoteStore,i.targetId),fv(r,i.targetId)}).catch(Fc)):(fv(r,i.targetId),await cv(r.localStore,i.targetId,!0))}async function yB(n,e){const t=rt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),j_(t.remoteStore,r.targetId))}async function vB(n,e,t){const r=CB(n);try{const i=await function(l,u){const f=rt(l),p=yn.now(),m=u.reduce((S,N)=>S.add(N.key),mt());let y,T;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let N=Ms(),k=mt();return f.ds.getEntries(S,m).next(R=>{N=R,N.forEach((x,L)=>{L.isValidDocument()||(k=k.add(x))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,N)).next(R=>{y=R;const x=[];for(const L of u){const V=xj(L,y.get(L.key).overlayedDocument);V!=null&&x.push(new Go(L.key,V,tN(V.value.mapValue),Si.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,x,u)}).next(R=>{T=R;const x=R.applyToLocalDocumentSet(y,k);return f.documentOverlayCache.saveOverlays(S,R.batchId,x)})}).then(()=>({batchId:T.batchId,changes:fN(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new Yt(vt)),p=p.insert(u,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await xd(r,i.changes),await Bp(r.remoteStore)}catch(i){const a=q_(i,"Failed to persist write");t.reject(a)}}async function qN(n,e){const t=rt(n);try{const r=await P3(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Rt(l.Ba):i.removedDocuments.size>0&&(Rt(l.Ba),l.Ba=!1))}),await xd(t,r,e)}catch(r){await Fc(r)}}function wS(n,e,t){const r=rt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=rt(l);f.onlineState=u;let p=!1;f.queries.forEach((m,y)=>{for(const T of y.ta)T.sa(u)&&(p=!0)}),p&&Q_(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _B(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new Yt(He.comparator);l=l.insert(a,Kn.newNoDocument(a,tt.min()));const u=mt().add(a),f=new $p(tt.min(),new Map,new Yt(vt),l,u);await qN(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),J_(r)}else await cv(r.localStore,e,!1).then(()=>fv(r,e,t)).catch(Fc)}async function wB(n,e){const t=rt(n),r=e.batch.batchId;try{const i=await k3(t.localStore,e);GN(t,r,null),KN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await xd(t,i)}catch(i){await Fc(i)}}async function EB(n,e,t){const r=rt(n);try{const i=await function(l,u){const f=rt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return f.mutationQueue.lookupMutationBatch(p,u).next(y=>(Rt(y!==null),m=y.keys(),f.mutationQueue.removeMutationBatch(p,y))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>f.localDocuments.getDocuments(p,m))})}(r.localStore,e);GN(r,e,t),KN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await xd(r,i)}catch(i){await Fc(i)}}function KN(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function GN(n,e,t){const r=rt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function fv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||QN(n,r)})}function QN(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(j_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),J_(n))}function ES(n,e,t){for(const r of t)r instanceof HN?(n.Ua.addReference(r.key,e),TB(n,r)):r instanceof zN?(Ne(X_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||QN(n,r.key)):Xe()}function TB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Ne(X_,"New document in limbo: "+t),n.Qa.add(r),J_(n))}function J_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new He(Ft.fromString(e)),r=n.za.next();n.Ka.set(r,new dB(t)),n.$a=n.$a.insert(t,r),VN(n.remoteStore,new Ao(Ki(Op(t.path)),r,"TargetPurposeLimboResolution",Pp.ae))}}async function xd(n,e,t){const r=rt(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,f)=>{l.push(r.Ha(f,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){i.push(p);const y=$_.Yi(f.targetId,p);a.push(y)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const m=rt(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>se.forEach(p,T=>se.forEach(T.Hi,S=>m.persistence.referenceDelegate.addReference(y,T.targetId,S)).next(()=>se.forEach(T.Ji,S=>m.persistence.referenceDelegate.removeReference(y,T.targetId,S)))))}catch(y){if(!jc(y))throw y;Ne(F_,"Failed to update sequence numbers: "+y)}for(const y of p){const T=y.targetId;if(!y.fromCache){const S=m.Ts.get(T),N=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(N);m.Ts=m.Ts.insert(T,k)}}}(r.localStore,a))}async function IB(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Ne(X_,"User change. New user:",e.toKey());const r=await xN(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(u=>{u.forEach(f=>{f.reject(new Le(oe.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xd(t,r.Rs)}}function SB(n,e){const t=rt(n),r=t.Ka.get(e);if(r&&r.Ba)return mt().add(r.key);{let i=mt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}function YN(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_B.bind(null,e),e.La.p_=aB.bind(null,e.eventManager),e.La.Ja=lB.bind(null,e.eventManager),e}function CB(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EB.bind(null,e),e}class tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return N3(this.persistence,new b3,e.initialUser,this.serializer)}Xa(e){return new DN(U_.ri,this.serializer)}Za(e){return new M3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tp.provider={build:()=>new tp};class bB extends tp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Rt(this.persistence.referenceDelegate instanceof Zh);const r=this.persistence.referenceDelegate.garbageCollector;return new d3(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new DN(r=>Zh.ri(r,t),this.serializer)}}class hv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IB.bind(null,this.syncEngine),await iB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oB}()}createDatastore(e){const t=Fp(e.databaseInfo.databaseId),r=function(a){return new j3(a)}(e.databaseInfo);return function(a,l,u,f){return new W3(a,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new K3(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>wS(this.syncEngine,t,0),function(){return pS.D()?new pS:new V3}())}createSyncEngine(e,t){return function(i,a,l,u,f,p,m){const y=new fB(i,a,l,u,f,p);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=rt(i);Ne(ja,"RemoteStore shutting down."),a.W_.add(5),await Dd(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}hv.provider={build:()=>new hv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="FirestoreClient";class AB{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=WR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{Ne(Bo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Ne(Bo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=q_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function my(n,e){n.asyncQueue.verifyOperationInProgress(),Ne(Bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function TS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RB(n);Ne(Bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>gS(e.remoteStore,i)),n._onlineComponents=e}async function RB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne(Bo,"Using user provided OfflineComponentProvider");try{await my(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;yc("Error using user provided cache. Falling back to memory cache: "+t),await my(n,new tp)}}else Ne(Bo,"Using default OfflineComponentProvider"),await my(n,new bB(void 0));return n._offlineComponents}async function XN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne(Bo,"Using user provided OnlineComponentProvider"),await TS(n,n._uninitializedComponentsProvider._online)):(Ne(Bo,"Using default OnlineComponentProvider"),await TS(n,new hv))),n._onlineComponents}function NB(n){return XN(n).then(e=>e.syncEngine)}async function np(n){const e=await XN(n),t=e.eventManager;return t.onListen=hB.bind(null,e.syncEngine),t.onUnlisten=gB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yB.bind(null,e.syncEngine),t}function kB(n,e,t={}){const r=new As;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,p){const m=new Z_({next:T=>{m.su(),l.enqueueAndForget(()=>G_(a,y));const S=T.docs.has(u);!S&&T.fromCache?p.reject(new Le(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&f&&f.source==="server"?p.reject(new Le(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),y=new Y_(Op(u.path),m,{includeMetadataChanges:!0,Ta:!0});return K_(a,y)}(await np(n),n.asyncQueue,e,t,r)),r.promise}function PB(n,e,t={}){const r=new As;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,p){const m=new Z_({next:T=>{m.su(),l.enqueueAndForget(()=>G_(a,y)),T.fromCache&&f.source==="server"?p.reject(new Le(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),y=new Y_(u,m,{includeMetadataChanges:!0,Ta:!0});return K_(a,y)}(await np(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n,e,t){if(!t)throw new Le(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DB(n,e,t,r){if(e===!0&&r===!0)throw new Le(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SS(n){if(!He.isDocumentKey(n))throw new Le(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CS(n){if(He.isDocumentKey(n))throw new Le(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe()}function Ur(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hp(n);throw new Le(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="firestore.googleapis.com",bS=!0;class AS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ek,this.ssl=bS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:bS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c3)throw new Le(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FF;switch(r.type){case"firstParty":return new zF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=IS.get(t);r&&(Ne("ComponentProvider","Removing Datastore"),IS.delete(t),r.terminate())}(this),Promise.resolve()}}function xB(n,e,t,r={}){var i;const a=(n=Ur(n,zp))._getSettings(),l=`${e}:${t}`;if(a.host!==ek&&a.host!==l&&yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=qn.MOCK_USER;else{u=h4(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Le(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qn(p)}n._authCredentials=new jF(new zR(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class Gn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class xo extends Za{constructor(e,t,r){super(e,t,Op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new He(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function Pa(n,e,...t){if(n=An(n),ZN("collection","path",e),n instanceof zp){const r=Ft.fromString(e,...t);return CS(r),new xo(n,null,r)}{if(!(n instanceof Gn||n instanceof xo))throw new Le(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return CS(r),new xo(n.firestore,null,r)}}function fn(n,e,...t){if(n=An(n),arguments.length===1&&(e=WR.newId()),ZN("doc","path",e),n instanceof zp){const r=Ft.fromString(e,...t);return SS(r),new Gn(n,null,new He(r))}{if(!(n instanceof Gn||n instanceof xo))throw new Le(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return SS(r),new Gn(n.firestore,n instanceof xo?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="AsyncQueue";class NS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new LN(this,"async_queue_retry"),this.Su=()=>{const r=py();r&&Ne(RS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=py();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=py();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new As;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!jc(e))throw e;Ne(RS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Ls("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=W_.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function kS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ho extends zp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new NS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NS(e),this._firestoreClient=void 0,await e}}}function OB(n,e){const t=typeof n=="object"?n:LR(),r=typeof n=="string"?n:Kh,i=S_(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=d4("firestore");a&&xB(i,...a)}return i}function Wp(n){if(n._terminated)throw new Le(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LB(n),n._firestoreClient}function LB(n){var e,t,r;const i=n._freezeSettings(),a=function(u,f,p,m){return new ij(u,f,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,JN(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new AB(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cc(Vn.fromBase64String(e))}catch(t){throw new Le(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cc(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Le(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=/^__.*__$/;class VB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,t,this.fieldTransforms):new kd(e,this.data,t,this.fieldTransforms)}}class tk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Go(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class Kp{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return rp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(nk(this.Lu)&&MB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fp(e)}ju(e,t,r,i=!1){return new Kp({Lu:e,methodName:t,zu:r,path:Ln.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nw(n){const e=n._freezeSettings(),t=Fp(n._databaseId);return new UB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $B(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);ow("Data must be an object, but it was:",l,r);const u=ik(r,l);let f,p;if(a.merge)f=new Mr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const T=pv(e,y,t);if(!l.contains(T))throw new Le(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ok(m,T)||m.push(T)}f=new Mr(m),p=l.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,p=l.fieldTransforms;return new VB(new Ir(u),f,p)}class Gp extends Hc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gp}}function rk(n,e,t){return new Kp({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rw extends Hc{_toFieldTransform(e){return new D_(e.path,new ad)}isEqual(e){return e instanceof rw}}class iw extends Hc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=rk(this,e,!0),r=this.Hu.map(a=>el(a,t)),i=new Ec(r);return new D_(e.path,i)}isEqual(e){return e instanceof iw&&mc(this.Hu,e.Hu)}}class sw extends Hc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=rk(this,e,!0),r=this.Hu.map(a=>el(a,t)),i=new Tc(r);return new D_(e.path,i)}isEqual(e){return e instanceof sw&&mc(this.Hu,e.Hu)}}function FB(n,e,t,r){const i=n.ju(1,e,t);ow("Data must be an object, but it was:",i,r);const a=[],l=Ir.empty();Ko(r,(f,p)=>{const m=aw(e,f,t);p=An(p);const y=i.Ku(m);if(p instanceof Gp)a.push(m);else{const T=el(p,y);T!=null&&(a.push(m),l.set(m,T))}});const u=new Mr(a);return new tk(l,u,i.fieldTransforms)}function jB(n,e,t,r,i,a){const l=n.ju(1,e,t),u=[pv(e,r,t)],f=[i];if(a.length%2!=0)throw new Le(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)u.push(pv(e,a[T])),f.push(a[T+1]);const p=[],m=Ir.empty();for(let T=u.length-1;T>=0;--T)if(!ok(p,u[T])){const S=u[T];let N=f[T];N=An(N);const k=l.Ku(S);if(N instanceof Gp)p.push(S);else{const R=el(N,k);R!=null&&(p.push(S),m.set(S,R))}}const y=new Mr(p);return new tk(m,y,l.fieldTransforms)}function BB(n,e,t,r=!1){return el(t,n.ju(r?4:3,e))}function el(n,e){if(sk(n=An(n)))return ow("Unsupported field value:",e,n),ik(n,e);if(n instanceof Hc)return function(r,i){if(!nk(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let f=el(u,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Aj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=yn.fromDate(r);return{timestampValue:Jh(i.serializer,a)}}if(r instanceof yn){const a=new yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,a)}}if(r instanceof ew)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cc)return{bytesValue:SN(i.serializer,r._byteString)};if(r instanceof Gn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:M_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tw)return function(l,u){return{mapValue:{fields:{[ZR]:{stringValue:eN},[Gh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Wu("VectorValues must only contain numeric values.");return P_(u.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Hp(r)}`)}(n,e)}function ik(n,e){const t={};return KR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(n,(r,i)=>{const a=el(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function sk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof ew||n instanceof Cc||n instanceof Gn||n instanceof Hc||n instanceof tw)}function ow(n,e,t){if(!sk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Hp(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function pv(n,e,t){if((e=An(e))instanceof qp)return e._internalPath;if(typeof e=="string")return aw(n,e);throw rp("Field path arguments must be of type string or ",n,!1,void 0,t)}const HB=new RegExp("[~\\*/\\[\\]]");function aw(n,e,t){if(e.search(HB)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qp(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rp(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Le(oe.INVALID_ARGUMENT,u+n+f)}function ok(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zB extends ak{data(){return super.data()}}function lw(n,e){return typeof e=="string"?aw(n,e):e instanceof qp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Le(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cw{}class WB extends cw{}function qB(n,e,...t){let r=[];e instanceof cw&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof uw).length,u=a.filter(f=>f instanceof Qp).length;if(l>1||l>0&&u>0)throw new Le(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Qp extends WB{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Qp(e,t,r)}_apply(e){const t=this._parse(e);return ck(e._query,t),new Za(e.firestore,e.converter,rv(e._query,t))}_parse(e){const t=nw(e.firestore);return function(a,l,u,f,p,m,y){let T;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Le(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){DS(y,m);const N=[];for(const k of y)N.push(PS(f,a,k));T={arrayValue:{values:N}}}else T=PS(f,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||DS(y,m),T=BB(u,l,y,m==="in"||m==="not-in");return dn.create(p,m,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function KB(n,e,t){const r=e,i=lw("where",n);return Qp._create(i,r,t)}class uw extends cw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)ck(l,f),l=rv(l,f)}(e._query,t),new Za(e.firestore,e.converter,rv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PS(n,e,t){if(typeof(t=An(t))=="string"){if(t==="")throw new Le(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lN(e)&&t.indexOf("/")!==-1)throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ft.fromString(t));if(!He.isDocumentKey(r))throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qI(n,new He(r))}if(t instanceof Gn)return qI(n,t._key);throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(t)}.`)}function DS(n,e){if(!Array.isArray(n)||n.length===0)throw new Le(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ck(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Le(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GB{convertValue(e,t="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ko(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Gh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>nn(l.doubleValue));return new tw(a)}convertGeoPoint(e){return new ew(nn(e.latitude),nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const t=Uo(e);return new yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ft.fromString(e);Rt(kN(r));const i=new sd(r.get(1),r.get(3)),a=new He(r.popFirst(5));return i.isEqual(t)||Ls(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uk extends ak{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bh extends uk{data(e={}){return super.data(e)}}class dk{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bh(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new bh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new bh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:YB(u.type),doc:f,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n){n=Ur(n,Gn);const e=Ur(n.firestore,Ho);return kB(Wp(e),n._key).then(t=>hk(e,n,t))}class dw extends GB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}}function mv(n){n=Ur(n,Za);const e=Ur(n.firestore,Ho),t=Wp(e),r=new dw(e);return lk(n._query),PB(t,n._query).then(i=>new dk(e,r,n,i))}function Ns(n,e,t){n=Ur(n,Gn);const r=Ur(n.firestore,Ho),i=QB(n.converter,e);return fw(r,[$B(nw(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Si.none())])}function Wi(n,e,t,...r){n=Ur(n,Gn);const i=Ur(n.firestore,Ho),a=nw(i);let l;return l=typeof(e=An(e))=="string"||e instanceof qp?jB(a,"updateDoc",n._key,e,t,r):FB(a,"updateDoc",n._key,e),fw(i,[l.toMutation(n._key,Si.exists(!0))])}function XB(n){return fw(Ur(n.firestore,Ho),[new x_(n._key,Si.none())])}function fk(n,...e){var t,r,i;n=An(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||kS(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(kS(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let f,p,m;if(n instanceof Gn)p=Ur(n.firestore,Ho),m=Op(n._key.path),f={next:y=>{e[l]&&e[l](hk(p,n,y))},error:e[l+1],complete:e[l+2]};else{const y=Ur(n,Za);p=Ur(y.firestore,Ho),m=y._query;const T=new dw(p);f={next:S=>{e[l]&&e[l](new dk(p,T,y,S))},error:e[l+1],complete:e[l+2]},lk(n._query)}return function(T,S,N,k){const R=new Z_(k),x=new Y_(S,R,N);return T.asyncQueue.enqueueAndForget(async()=>K_(await np(T),x)),()=>{R.su(),T.asyncQueue.enqueueAndForget(async()=>G_(await np(T),x))}}(Wp(p),m,u,f)}function fw(n,e){return function(r,i){const a=new As;return r.asyncQueue.enqueueAndForget(async()=>vB(await NB(r),i,a)),a.promise}(Wp(n),e)}function hk(n,e,t){const r=t.docs.get(e._key),i=new dw(n);return new uk(n,i,e._key,r,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}function hw(){return new rw("serverTimestamp")}function bc(...n){return new iw("arrayUnion",n)}function gy(...n){return new sw("arrayRemove",n)}(function(e,t=!0){(function(i){$c=i})(Uc),gc(new $a("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Ho(new BF(r.getProvider("auth-internal")),new WF(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Le(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(p.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Po(LI,MI,e),Po(LI,MI,"esm2017")})();function pw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function pk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JB=pk,mk=new Ad("auth","Firebase",pk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new T_("@firebase/auth");function ZB(n,...e){ip.logLevel<=pt.WARN&&ip.warn(`Auth (${Uc}): ${n}`,...e)}function Ah(n,...e){ip.logLevel<=pt.ERROR&&ip.error(`Auth (${Uc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,...e){throw mw(n,...e)}function Qi(n,...e){return mw(n,...e)}function gk(n,e,t){const r=Object.assign(Object.assign({},JB()),{[e]:t});return new Ad("auth","Firebase",r).create(e,{appName:n.name})}function ks(n){return gk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mk.create(n,...e)}function Ye(n,e,...t){if(!n)throw mw(e,...t)}function ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ah(e),new Error(e)}function Vs(n,e){n||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function e9(){return xS()==="http:"||xS()==="https:"}function xS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e9()||y4()||"connection"in navigator)?navigator.onLine:!0}function n9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vs(t>e,"Short delay should be less than long delay!"),this.isMobile=p4()||v4()}get(){return t9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n,e){Vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new Od(3e4,6e4);function Qo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yo(n,e,t,r,i={}){return vk(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Rd(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return g4()||(p.referrerPolicy="no-referrer"),yk.fetch()(_k(n,n.config.apiHost,t,u),p)})}async function vk(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},r9),e);try{const i=new o9(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw fh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,p]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw fh(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw fh(n,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gk(n,m,p);bi(n,m)}}catch(i){if(i instanceof zs)throw i;bi(n,"network-request-failed",{message:String(i)})}}async function Ld(n,e,t,r,i={}){const a=await Yo(n,e,t,r,i);return"mfaPendingCredential"in a&&bi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function _k(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?gw(n.config,i):`${n.config.apiScheme}://${i}`}function s9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),i9.get())})}}function fh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Qi(n,e,r);return i.customData._tokenResponse=t,i}function OS(n){return n!==void 0&&n.enterprise!==void 0}class a9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return s9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l9(n,e){return Yo(n,"GET","/v2/recaptchaConfig",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(n,e){return Yo(n,"POST","/v1/accounts:delete",e)}async function wk(n,e){return Yo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u9(n,e=!1){const t=An(n),r=await t.getIdToken(e),i=yw(r);Ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Gu(yy(i.auth_time)),issuedAtTime:Gu(yy(i.iat)),expirationTime:Gu(yy(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yy(n){return Number(n)*1e3}function yw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const i=RR(t);return i?JSON.parse(i):(Ah("Failed to decode base64 JWT payload"),null)}catch(i){return Ah("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LS(n){const e=yw(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zs&&d9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function d9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ld(n,wk(t,{idToken:r}));Ye(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Ek(a.providerUserInfo):[],u=p9(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),m=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new yv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function h9(n){const e=An(n);await sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ek(n){return n.map(e=>{var{providerId:t}=e,r=pw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(n,e){const t=await vk(n,{},async()=>{const r=Rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=_k(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",yk.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function g9(n,e){return Yo(n,"POST","/v2/accounts:revokeToken",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const t=LS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await m9(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new ec;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ye(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(n,e){Ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Es{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=pw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new yv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ld(this,this.stsTokenManager.getToken(this.auth,e));return Ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return u9(this,e)}reload(){return h9(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await sp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await ld(this,c9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,u,f,p,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(l=t.photoURL)!==null&&l!==void 0?l:void 0,k=(u=t.tenantId)!==null&&u!==void 0?u:void 0,R=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,x=(p=t.createdAt)!==null&&p!==void 0?p:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:j,isAnonymous:q,providerData:G,stsTokenManager:C}=t;Ye(V&&C,e,"internal-error");const b=ec.fromJSON(this.name,C);Ye(typeof V=="string",e,"internal-error"),yo(y,e.name),yo(T,e.name),Ye(typeof j=="boolean",e,"internal-error"),Ye(typeof q=="boolean",e,"internal-error"),yo(S,e.name),yo(N,e.name),yo(k,e.name),yo(R,e.name),yo(x,e.name),yo(L,e.name);const P=new Es({uid:V,auth:e,email:T,emailVerified:j,displayName:y,isAnonymous:q,photoURL:N,phoneNumber:S,tenantId:k,stsTokenManager:b,createdAt:x,lastLoginAt:L});return G&&Array.isArray(G)&&(P.providerData=G.map(M=>Object.assign({},M))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new ec;i.updateFromServerResponse(t);const a=new Es({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sp(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ye(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Ek(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new ec;u.updateFromIdToken(r);const f=new Es({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new yv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=new Map;function Ts(n){Vs(n instanceof Function,"Expected a class definition");let e=MS.get(n);return e?(Vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,MS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Tk.type="NONE";const VS=Tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n,e,t){return`firebase:${n}:${e}:${t}`}class tc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Rh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Rh("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new tc(Ts(VS),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Ts(VS);const l=Rh(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){const y=Es._fromJSON(e,m);p!==a&&(u=y),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new tc(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new tc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ik(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rk(e))return"Blackberry";if(Nk(e))return"Webos";if(Sk(e))return"Safari";if((e.includes("chrome/")||Ck(e))&&!e.includes("edge/"))return"Chrome";if(Ak(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ik(n=Qn()){return/firefox\//i.test(n)}function Sk(n=Qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ck(n=Qn()){return/crios\//i.test(n)}function bk(n=Qn()){return/iemobile/i.test(n)}function Ak(n=Qn()){return/android/i.test(n)}function Rk(n=Qn()){return/blackberry/i.test(n)}function Nk(n=Qn()){return/webos/i.test(n)}function vw(n=Qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function y9(n=Qn()){var e;return vw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v9(){return _4()&&document.documentMode===10}function kk(n=Qn()){return vw(n)||Ak(n)||Nk(n)||Rk(n)||/windows phone/i.test(n)||bk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n,e=[]){let t;switch(n){case"Browser":t=US(Qn());break;case"Worker":t=`${US(Qn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(n,e={}){return Yo(n,"GET","/v2/passwordPolicy",Qo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=6;class T9{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:E9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $S(this),this.idTokenSubscription=new $S(this),this.beforeStateQueue=new _9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ts(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wk(this,{idToken:e}),r=await Es._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ni(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(ks(this));const t=e?An(e):null;return t&&Ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w9(this),t=new T9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await g9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ts(e)||this._popupRedirectResolver;Ye(t,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[Ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function tl(n){return An(n)}class $S{constructor(e){this.auth=e,this.observer=null,this.addObserver=A4(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S9(n){Yp=n}function Dk(n){return Yp.loadJS(n)}function C9(){return Yp.recaptchaEnterpriseScript}function b9(){return Yp.gapiScript}function A9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class R9{constructor(){this.enterprise=new N9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class N9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const k9="recaptcha-enterprise",xk="NO_RECAPTCHA";class P9{constructor(e){this.type=k9,this.auth=tl(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{l9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new a9(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{u(f)})})}function i(a,l,u){const f=window.grecaptcha;OS(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(xk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R9().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&OS(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=C9();f.length!==0&&(f+=u),Dk(f).then(()=>{i(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function FS(n,e,t,r=!1,i=!1){const a=new P9(n);let l;if(i)l=xk;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function vv(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await FS(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await FS(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n,e){const t=S_(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(mc(a,e??{}))return i;bi(i,"already-initialized")}return t.initialize({options:e})}function x9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ts);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O9(n,e,t){const r=tl(n);Ye(r._canInitEmulator,r,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Ok(e),{host:l,port:u}=L9(e),f=u===null?"":`:${u}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),M9()}function Ok(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function L9(n){const e=Ok(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:jS(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:jS(l)}}}function jS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function M9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,t){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function V9(n,e){return Yo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(n,e){return Ld(n,"POST","/v1/accounts:signInWithPassword",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(n,e){return Ld(n,"POST","/v1/accounts:signInWithEmailLink",Qo(n,e))}async function F9(n,e){return Ld(n,"POST","/v1/accounts:signInWithEmailLink",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends _w{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vv(e,t,"signInWithPassword",U9);case"emailLink":return $9(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vv(e,r,"signUpPassword",V9);case"emailLink":return F9(e,{idToken:t,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(n,e){return Ld(n,"POST","/v1/accounts:signInWithIdp",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="http://localhost";class Ba extends _w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=pw(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ba(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return nc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,nc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nc(e,t)}buildRequest(){const e={requestUri:j9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H9(n){const e=Lu(Mu(n)).link,t=e?Lu(Mu(e)).deep_link_id:null,r=Lu(Mu(n)).deep_link_id;return(r?Lu(Mu(r)).link:null)||r||t||e||n}class ww{constructor(e){var t,r,i,a,l,u;const f=Lu(Mu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,y=B9((i=f.mode)!==null&&i!==void 0?i:null);Ye(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=H9(e);try{return new ww(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.providerId=zc.PROVIDER_ID}static credential(e,t){return cd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ww.parseLink(t);return Ye(r,"argument-error"),cd._fromEmailAndCode(e,r.code,r.tenantId)}}zc.PROVIDER_ID="password";zc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends Lk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Md{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Md{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ba._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Eo.credential(t,r)}catch{return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com";Eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Md{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.GITHUB_SIGN_IN_METHOD="github.com";To.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Md{constructor(){super("twitter.com")}static credential(e,t){return Ba._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Io.credential(t,r)}catch{return null}}}Io.TWITTER_SIGN_IN_METHOD="twitter.com";Io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(n,e){return Ld(n,"POST","/v1/accounts:signUp",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Es._fromIdTokenResponse(e,r,i),l=BS(r);return new Ha({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=BS(r);return new Ha({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function BS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends zs{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,op.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new op(e,t,r,i)}}function Mk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?op._fromErrorAndOperation(n,a,e,r):a})}async function W9(n,e,t=!1){const r=await ld(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ha._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(n,e,t=!1){const{auth:r}=n;if(ni(r.app))return Promise.reject(ks(r));const i="reauthenticate";try{const a=await ld(n,Mk(r,i,e,n),t);Ye(a.idToken,r,"internal-error");const l=yw(a.idToken);Ye(l,r,"internal-error");const{sub:u}=l;return Ye(n.uid===u,r,"user-mismatch"),Ha._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(n,e,t=!1){if(ni(n.app))return Promise.reject(ks(n));const r="signIn",i=await Mk(n,r,e),a=await Ha._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function K9(n,e){return Vk(tl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(n){const e=tl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G9(n,e,t){if(ni(n.app))return Promise.reject(ks(n));const r=tl(n),l=await vv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z9).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Uk(n),f}),u=await Ha._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Q9(n,e,t){return ni(n.app)?Promise.reject(ks(n)):K9(An(n),zc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Uk(n),r})}function Y9(n,e,t,r){return An(n).onIdTokenChanged(e,t,r)}function X9(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function Ew(n,e,t,r){return An(n).onAuthStateChanged(e,t,r)}const ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1e3,Z9=10;class Fk extends $k{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);v9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},J9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fk.type="LOCAL";const e6=Fk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk extends $k{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jk.type="SESSION";const Bk=jk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Xp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,a)),f=await t6(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const p=Tw("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const T=y;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(T.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function r6(n){Yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function i6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function o6(){return Hk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="firebaseLocalStorageDb",a6=1,lp="firebaseLocalStorage",Wk="fbase_key";class Vd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jp(n,e){return n.transaction([lp],e?"readwrite":"readonly").objectStore(lp)}function l6(){const n=indexedDB.deleteDatabase(zk);return new Vd(n).toPromise()}function _v(){const n=indexedDB.open(zk,a6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(lp,{keyPath:Wk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(lp)?e(r):(r.close(),await l6(),e(await _v()))})})}async function HS(n,e,t){const r=Jp(n,!0).put({[Wk]:e,value:t});return new Vd(r).toPromise()}async function c6(n,e){const t=Jp(n,!1).get(e),r=await new Vd(t).toPromise();return r===void 0?null:r.value}function zS(n,e){const t=Jp(n,!0).delete(e);return new Vd(t).toPromise()}const u6=800,d6=3;class qk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _v(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>d6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xp._getInstance(o6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await i6(),!this.activeServiceWorker)return;this.sender=new n6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _v();return await HS(e,ap,"1"),await zS(e,ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>HS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>c6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Jp(i,!1).getAll();return new Vd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qk.type="LOCAL";const f6=qk;new Od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n,e){return e?Ts(e):(Ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends _w{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function p6(n){return Vk(n.auth,new Iw(n),n.bypassAuthState)}function m6(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),q9(t,new Iw(n),n.bypassAuthState)}async function g6(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),W9(t,new Iw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p6;case"linkViaPopup":case"linkViaRedirect":return g6;case"reauthViaPopup":case"reauthViaRedirect":return m6;default:bi(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new Od(2e3,1e4);class Xl extends Kk{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Xl.currentPopupAction&&Xl.currentPopupAction.cancel(),Xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=Tw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y6.get())};e()}}Xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="pendingRedirect",Nh=new Map;class _6 extends Kk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const r=await w6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w6(n,e){const t=I6(e),r=T6(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function E6(n,e){Nh.set(n._key(),e)}function T6(n){return Ts(n._redirectPersistence)}function I6(n){return Rh(v6,n.config.apiKey,n.name)}async function S6(n,e,t=!1){if(ni(n.app))return Promise.reject(ks(n));const r=tl(n),i=h6(r,e),l=await new _6(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=10*60*1e3;class b6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Gk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C6&&this.cachedEventUids.clear(),this.cachedEventUids.has(WS(e))}saveEventToCache(e){this.cachedEventUids.add(WS(e)),this.lastProcessedEventTime=Date.now()}}function WS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Gk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(n,e={}){return Yo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k6=/^https?/;async function P6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await R6(n);for(const t of e)try{if(D6(t))return}catch{}bi(n,"unauthorized-domain")}function D6(n){const e=gv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!k6.test(t))return!1;if(N6.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Od(3e4,6e4);function qS(){const n=Yi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O6(n){return new Promise((e,t)=>{var r,i,a;function l(){qS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qS(),t(Qi(n,"network-request-failed"))},timeout:x6.get()})}if(!((i=(r=Yi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Yi().gapi)===null||a===void 0)&&a.load)l();else{const u=A9("iframefcb");return Yi()[u]=()=>{gapi.load?l():t(Qi(n,"network-request-failed"))},Dk(`${b9()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw kh=null,e})}let kh=null;function L6(n){return kh=kh||O6(n),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Od(5e3,15e3),V6="__/auth/iframe",U6="emulator/auth/iframe",$6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j6(n){const e=n.config;Ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gw(e,U6):`https://${n.config.authDomain}/${V6}`,r={apiKey:e.apiKey,appName:n.name,v:Uc},i=F6.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Rd(r).slice(1)}`}async function B6(n){const e=await L6(n),t=Yi().gapi;return Ye(t,n,"internal-error"),e.open({where:document.body,url:j6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$6,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Qi(n,"network-request-failed"),u=Yi().setTimeout(()=>{a(l)},M6.get());function f(){Yi().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z6=500,W6=600,q6="_blank",K6="http://localhost";class KS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G6(n,e,t,r=z6,i=W6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},H6),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Qn().toLowerCase();t&&(u=Ck(p)?q6:t),Ik(p)&&(e=e||K6,f.scrollbars="yes");const m=Object.entries(f).reduce((T,[S,N])=>`${T}${S}=${N},`,"");if(y9(p)&&u!=="_self")return Q6(e||"",u),new KS(null);const y=window.open(e||"",u,m);Ye(y,n,"popup-blocked");try{y.focus()}catch{}return new KS(y)}function Q6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="__/auth/handler",X6="emulator/auth/handler",J6=encodeURIComponent("fac");async function GS(n,e,t,r,i,a){Ye(n.config.authDomain,n,"auth-domain-config-required"),Ye(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Uc,eventId:i};if(e instanceof Lk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",b4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Md){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),p=f?`#${J6}=${encodeURIComponent(f)}`:"";return`${Z6(n)}?${Rd(u).slice(1)}${p}`}function Z6({config:n}){return n.emulator?gw(n,X6):`https://${n.authDomain}/${Y6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="webStorageSupport";class e5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bk,this._completeRedirectFn=S6,this._overrideRedirectResult=E6}async _openPopup(e,t,r,i){var a;Vs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await GS(e,t,r,gv(),i);return G6(e,l,Tw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await GS(e,t,r,gv(),i);return r6(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Vs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await B6(e),r=new b6(e);return t.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vy,{type:vy},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[vy];l!==void 0&&t(!!l),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kk()||Sk()||vw()}}const t5=e5;var QS="@firebase/auth",YS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i5(n){gc(new $a("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ye(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pk(n)},p=new I9(r,i,a,f);return x9(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gc(new $a("auth-internal",e=>{const t=tl(e.getProvider("auth").getImmediate());return(r=>new n5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Po(QS,YS,r5(n)),Po(QS,YS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=5*60,o5=PR("authIdTokenMaxAge")||s5;let XS=null;const a5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>o5)return;const i=t==null?void 0:t.token;XS!==i&&(XS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l5(n=LR()){const e=S_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=D9(n,{popupRedirectResolver:t5,persistence:[f6,e6,Bk]}),r=PR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=a5(a.toString());X9(t,l,()=>l(t.currentUser)),Y9(t,u=>l(u))}}const i=NR("auth");return i&&O9(t,`http://${i}`),t}function c5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}S9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Qi("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",c5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i5("Browser");const u5={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"},Qk=OR(u5),ei=l5(Qk),rn=OB(Qk);async function d5(n,e){if(!n||!e)return;const t=Pa(rn,"chats"),r=Pa(rn,"userchats"),i=fn(r,e),a=fn(r,n);try{const[l,u]=await Promise.all([Rs(i),Rs(a)]);l.exists()||await Ns(i,{chats:[]}),u.exists()||await Ns(a,{chats:[]});const f=l.exists()?l.data().chats||[]:[],p=u.exists()?u.data().chats||[]:[],m=f.some(N=>N.receiverId===n),y=p.some(N=>N.receiverId===e);if(m||y)throw new Error("User already added!");const T=fn(t);await Ns(T,{createdAt:hw(),messages:[]});const S={chatId:T.id,lastMessage:"",receiverId:n,updatedAt:Date.now()};return await Wi(i,{chats:bc(S)}),await Wi(a,{chats:bc({...S,receiverId:e})}),T.id}catch(l){throw console.error("Add User Error:",l),new Error("An error occurred while adding the user.")}}const Yk=E.createContext(void 0),f5=({children:n})=>{const e=h5();return w(Yk.Provider,{value:e,children:n})};function h5(){const[n,e]=E.useState(),[t,r]=E.useState();return E.useEffect(()=>{(async()=>{try{const a=await m_();if(a){e(a);const{userdb:l}=await Ua(a.$id);r(l)}else e(void 0)}catch(a){console.error("Failed to fetch user data:",a)}})()},[Ya().pathname]),{userData:n,userdb:t}}function Xo(){const n=E.useContext(Yk);if(!n)throw new Error("⚠️ userInfo() is being used outside of UserProvider.");return n}const Zp=({children:n})=>{const{session:e,logOut:t}=Zu(),r=li(),{userData:i}=Xo();async function a(){await t(),await ei.signOut(),r("/")}return w(zt,{children:X("div",{className:"body",children:[w(rh,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:X(Zi,{children:[X(rh.Brand,{href:"#/Home",children:[w("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),w(rh.Toggle,{"aria-controls":"basic-navbar-nav"}),w(rh.Collapse,{className:"justify-content-end flex-grow-1",children:w(Vr,{children:X(Ei,{className:"me-auto",children:[w(Ei.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),X(Cu,{title:(i==null?void 0:i.name)||"User",id:"basic-nav-dropdown",align:"end",children:[w(Cu.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),w(Cu.Divider,{}),e?w(Cu.Item,{className:"logout-nav",onClick:a,children:"Logout"}):w(Cu.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),w("main",{children:n})]})})};function Xk({show:n,onHide:e}){const t=E.useRef(null),r=E.useRef(null),i=E.useRef(null),a=E.useRef(null),l=u=>{u.current.scrollIntoView({behavior:"smooth",block:"start"})};return w(zt,{children:X(rr,{show:n,onHide:e,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[w(rr.Header,{closeButton:!0,children:w(rr.Title,{children:"First Time?"})}),w(rr.Body,{children:X(Vr,{className:"mt-2",children:[w(Mn,{sm:3,children:X(Ei,{variant:"pills",className:"flex-column",children:[w(Ei.Item,{children:w(Ei.Link,{onClick:()=>l(t),children:"Trading"})}),w(Ei.Item,{children:w(Ei.Link,{onClick:()=>l(r),children:"Upload"})}),w(Ei.Item,{children:w(Ei.Link,{onClick:()=>l(i),children:"Account Issues"})}),w(Ei.Item,{children:w(Ei.Link,{onClick:()=>l(a),children:"Finish"})})]})}),w(Mn,{sm:9,children:X(Zi,{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ccc",padding:"15px",borderRadius:"10px",backgroundColor:"#f8f9fa"},children:[X("div",{ref:t,className:"mb-4",children:[w("h4",{children:"Trading"}),X(xr,{children:[X(xr.Item,{children:[w("strong",{children:"How does trading work?"}),w("p",{children:"You can list an item, find a match, and confirm a trade."})]}),X(xr.Item,{children:[w("strong",{children:"Is trading free?"}),w("p",{children:"Yes! Our platform only facilitates item exchanges without any money involved."})]})]})]}),X("div",{ref:r,className:"mb-4",children:[w("h4",{children:"Upload"}),X(xr,{children:[X(xr.Item,{children:[w("strong",{children:"How do I upload an item?"}),w("p",{children:'Go to your dashboard, click "Upload Item," and fill in the details.'})]}),X(xr.Item,{children:[w("strong",{children:"What types of files are supported?"}),w("p",{children:"We support images in JPG, PNG, and GIF formats."})]})]})]}),X("div",{ref:i,className:"mb-4",children:[w("h4",{children:"FAQ"}),X(xr,{children:[X(xr.Item,{children:[w("strong",{children:"How do I reset my password?"}),w("p",{children:'Go to the login page, click "Forgot Password," and follow the instructions.'})]}),X(xr.Item,{children:[w("strong",{children:"Why was my account suspended?"}),w("p",{children:"Check your email for details or contact support for further assistance."})]}),X(xr.Item,{children:[w("strong",{children:"Why is my post not showing in the HomePage?"}),w("p",{children:"Your post is probably not yet accepted by Admins."})]})]})]}),X("div",{ref:a,className:"mb-4",children:[w("h4",{children:"You're Done!"}),X(xr,{children:[X(xr.Item,{children:[w("strong",{children:"Since you're new to Tradery"}),w("p",{children:"Before you start Trading, We recommend you customize your profile first and change how people will see your profile. By clicking Done, this will redirect you to your profile in your dashboard where you can start editing."})]}),X(xr.Item,{children:[w("strong",{children:"Wanna read this again?"}),w("p",{children:"You can access this menu by going to the User Dashboard and clicking the Question button on the top right corner of the navigation bar."})]})]})]})]})})]})}),w(rr.Footer,{children:w(en,{variant:"primary",onClick:e,children:"Done"})})]})})}const p5=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!1),[i,a]=E.useState({}),[l,u]=E.useState(),f=li(),{userData:p}=Xo(),[m,y]=E.useState(!1),T=()=>{y(!1),f("/Dashboard/Profile")};E.useEffect(()=>{(async function(){try{const{items:L}=await q$();e(L);const V={};if(await Promise.all(L.map(async q=>{if(!V[q.authorID]){const{userdb:G}=await Ua(q.authorID);V[q.authorID]=G}})),a(V),!p)return;const j=await t4(p.$id);if(console.log("User Exists? ",j),j||(y(!0),await J$(p.$id,{userId:p.$id,profileImageId:"",profileSummary:null,profileImageWidth:100,profileImageHeight:100,displayName:p.name,defaultName:p.name,userEmail:p.email,firebaseId:""}),console.log("New profile created.")),p.$id)try{const{userdb:q}=await Ua(p.$id);if(u(q),q.firebaseId)console.log("User exists, logging in..."),await Q9(ei,q.userEmail,q.userId),console.log("login successful");else{if(console.log("User does not exist, creating account..."),await G9(ei,q.userEmail,q.userId),await new Promise(G=>Ew(ei,C=>C&&G(C))),!ei.currentUser){console.error("User is not authenticated!");return}await Ns(fn(rn,"users",ei.currentUser.uid),{username:q.defaultName,email:q.userEmail,id:ei.currentUser.uid,blocked:[]}),await Ns(fn(rn,"userchats",ei.currentUser.uid),{chats:[]}),await Wy(q.userId,{...q,firebaseId:ei.currentUser.uid})}}catch(q){console.error("Login error:",q)}}catch(L){console.error("Error fetching items:",L)}})()},[]);async function S(x){const{items:L}=await G$(x);e(L)}async function N(){window.location.reload(),r(!1)}async function k(x){x.preventDefault(),r(!0);const L=x.target;try{const{items:V}=await K$(L.ItemSearch.value);e(V)}catch(V){console.error("Error finding Item:",V)}}const R={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Fashion Accessories",color:"info"},f:{name:"Sports & Outdoor",color:"dark"}};return X(Zp,{children:[w(Xk,{show:m,onHide:T}),w("div",{className:"home",children:X("div",{className:"container",id:"pagewrap",children:[w("div",{className:"searchinput",children:X("form",{className:"search",onSubmit:k,autoComplete:"off",children:[w("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),t&&w(Oc,{className:"clear-btn",onClick:N}),w("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),w("div",{className:"categories",children:w(Co,{defaultActiveKey:"0",children:X(Co.Item,{eventKey:"0",children:[w(Co.Header,{children:"Filter by Categories"}),w(Co.Body,{children:w(Vr,{children:X(Mn,{children:[w(en,{variant:"outline-danger",onClick:N,children:"Clear Filter"}),Object.entries(R).map(([x,L])=>w(en,{variant:`outline-${L.color}`,onClick:()=>S(x),children:L.name},x))]})})})]})})}),w("div",{className:"items container",children:w(Vr,{children:n.length>0?n.map(x=>{var q;const V={url:x.imageFileId&&bd(x.imageFileId),height:x.imageHeight,width:x.imageWidth},j=i[x.authorID];return w(Mn,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:X("a",{className:"itemLink",href:`#/Item/${x.$id}`,children:[w("div",{className:"itemLabel",children:w("span",{className:"Label",children:((q=R[x.itemCategory])==null?void 0:q.name)||"Uncategorized"})}),j?w(Np,{image:V,name:x.name,date:x.date,author:j.displayName||j.defaultName}):w("div",{className:"card placeholder-glow",children:X("div",{className:"card-body",children:[w("h5",{className:"card-title placeholder-glow",children:w("span",{className:"placeholder col-6"})}),X("p",{className:"card-text placeholder-glow",children:[w("span",{className:"placeholder col-7"}),w("span",{className:"placeholder col-4"}),w("span",{className:"placeholder col-4"}),w("span",{className:"placeholder col-6"}),w("span",{className:"placeholder col-8"})]})]})})]})},x.$id)}):w(Zi,{children:X(dc,{variant:"warning",children:["No Items are currently posted, ",w(dc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})]})};function wa(){const n=TR();return console.error(n),w("div",{id:"error-page",children:X("div",{class:"error",children:[X("a",{class:"HomeButton",href:"#/Home",children:[w("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:w("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),w("div",{class:"background-wrapper",children:w("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),w("p",{class:"errorText",children:"The page you’re looking for does not exist."}),w("p",{children:w("i",{children:n.statusText||n.message})})]})})}function m5(){const n=li(),[e,t]=E.useState(!1);return X(zt,{children:[w(Xk,{show:e,onHide:()=>{t(!1),n("/Dashboard/Profile")}}),X(zt,{children:[X("div",{className:"uWholeBox",children:[X("a",{className:"HomeButton",href:"#/Home",children:[w("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:w("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),w("div",{className:"uLooks",children:" Dashboard "})]}),X("div",{className:"NaviBar",children:[X("ul",{children:[w("li",{children:w(Nu,{to:"/Dashboard/Post",children:"Post"})}),w("li",{children:w(Nu,{to:"/Dashboard/Items",children:"Your Items"})}),w("li",{children:w(Nu,{to:"/Dashboard/Requests",children:"Requests"})}),w("li",{children:w(Nu,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),w("li",{children:w(Nu,{to:"/Dashboard/Profile",children:"Profile"})})]}),w(g$,{})]}),w(en,{variant:"outline-success",onClick:()=>t(!0),className:"tutorial",children:"?"})]})]})}const g5=()=>{const[n,e]=E.useState(),[t,r]=E.useState(!1),[i,a]=E.useState(),[l,u]=E.useState(null),[f,p]=E.useState(!1),[m,y]=E.useState(""),[T,S]=E.useState(""),[N,k]=E.useState(null),{userData:R,userdb:x}=Xo();E.useEffect(()=>{(async()=>{try{e(R),R&&(u(x!=null&&x.profileImageId?wh(x.profileImageId):null),y((x==null?void 0:x.displayName)||(R==null?void 0:R.name)||""),S((x==null?void 0:x.profileSummary)||""))}catch(b){console.error("Error fetching user: ",b)}})()},[]);const L=()=>r(!0),V=C=>{const b=C.target.value.replace(/[^a-zA-Z0-9 ]/g,"");y(b)},j=C=>{const b=C.target.value.replace(/[^a-zA-Z0-9 .,!?]/g,"");S(b)},q=C=>{if(!C.target.files||C.target.files.length===0)return;const b=C.target.files[0];if(b.size>5*1024*1024){k("File size exceeds 5MB limit.");return}else k(null);const P=document.createElement("img");P.onload=function(){a({height:P.height,file:b,width:P.width})},P.src=URL.createObjectURL(b),u(URL.createObjectURL(b))},G=async C=>{if(C.preventDefault(),p(!0),!m.trim()||!T.trim()){alert("Please fill in all fields."),p(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),p(!1);return}let b=(x==null?void 0:x.profileImageId)||"";if((x==null?void 0:x.displayName)!==m&&await e4(m)){alert("The username already exists. Try another one."),p(!1);return}if(await Wy(n.$id,{profileImageId:"",profileSummary:T,profileImageWidth:(i==null?void 0:i.width)??(x==null?void 0:x.profileImageWidth)??100,profileImageHeight:(i==null?void 0:i.height)??(x==null?void 0:x.profileImageHeight)??100,displayName:m,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:x==null?void 0:x.firebaseId}),i!=null&&i.file){b&&b!=="default"&&await W$(b);const P=await z$(n.$id,i.file);P!=null&&P.$id&&(b=P.$id)}await Wy(n.$id,{profileImageId:b,profileSummary:T,profileImageWidth:(i==null?void 0:i.width)??(x==null?void 0:x.profileImageWidth)??100,profileImageHeight:(i==null?void 0:i.height)??(x==null?void 0:x.profileImageHeight)??100,displayName:m,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:x==null?void 0:x.firebaseId}),u(b?wh(b):x!=null&&x.profileImageId?wh(x.profileImageId):null),y(m),S(T),console.log("✅ Profile updated.")}catch(b){console.error("Failed to update profile:",b)}finally{p(!1),r(!1)}};return w(Zi,{className:"d-flex justify-content-center align-items-center min-vh-100",children:X(gs,{className:"profile-card shadow-lg",children:[f&&X("div",{className:"overlay",children:[w(rR,{animation:"border"}),w("p",{className:"mt-2",children:"Updating User Profile..."})]}),w(gs.Body,{className:"text-center",children:t?X(zt,{children:[w("h2",{children:"Edit Profile"}),X("form",{onSubmit:G,className:"mt-3",children:[X("div",{className:"profile-image-upload",children:[w("input",{type:"file",accept:".png, .jpg",onChange:q}),w(Xu,{src:l||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),w("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),N&&w("p",{className:"text-danger",children:N})]}),X(At.Group,{className:"mb-3",children:[w(At.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:m,onChange:V}),X("small",{className:"text-muted",children:[m.length,"/20"]})]}),X(At.Group,{className:"mb-3",children:[w(At.Label,{children:"Profile Summary"}),w(At.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:T,onChange:j}),X("small",{className:"text-muted",children:[T.length,"/500"]})]}),w(en,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):X(zt,{children:[w(Xu,{src:l||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),w("h2",{className:"display-name",children:m||"Username"}),w("p",{className:"account-name",children:n==null?void 0:n.name}),w("p",{className:"text-muted",children:T??"No profile description provided"}),w(en,{className:"btn-lg mt-3",onClick:L,children:"Edit Profile"})]})})]})})},y5="_chat_9dxnd_1",v5="_top_9dxnd_9",_5="_user_9dxnd_17",w5="_userButton_9dxnd_22",E5="_texts_9dxnd_29",T5="_center_9dxnd_58",I5="_message_9dxnd_72",S5="_own_9dxnd_98",C5="_bottom_9dxnd_148",b5="_sendButton_9dxnd_189",A5="_cooldown_9dxnd_203",R5="_backButton_9dxnd_241",Zr={chat:y5,top:v5,user:_5,userButton:w5,texts:E5,center:T5,message:I5,own:S5,bottom:C5,sendButton:b5,cooldown:A5,backButton:R5},JS=n=>{let e;const t=new Set,r=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const T=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(S=>S(e,T))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(r,i,u);return u},N5=n=>n?JS(n):JS,k5=n=>n;function P5(n,e=k5){const t=nt.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return nt.useDebugValue(t),t}const ZS=n=>{const e=N5(n),t=r=>P5(e,r);return Object.assign(t,e),t},Jk=n=>n?ZS(n):ZS,nl=Jk(n=>({currentUser:null,isLoading:!0,fetchUserInfo:async e=>{if(!e)return n({currentUser:null,isLoading:!1});try{const t=fn(rn,"users",e),r=await Rs(t);r.exists()?n({currentUser:r.data(),isLoading:!1}):n({currentUser:null,isLoading:!1})}catch(t){return console.log(t),n({currentUser:null,isLoading:!1})}}})),ud=Jk(n=>({chatId:null,user:null,isCurrentUserBlocked:!1,isReceiverBlocked:!1,changeChat:(e,t)=>{const r=nl.getState().currentUser;return t.blocked.includes(r.id)?n({chatId:e,user:null,isCurrentUserBlocked:!0,isReceiverBlocked:!1}):r.blocked.includes(t.id)?n({chatId:e,user:t,isCurrentUserBlocked:!1,isReceiverBlocked:!0}):n({chatId:e,user:t,isCurrentUserBlocked:!1,isReceiverBlocked:!1})},changeBlock:()=>{n(e=>({...e,isReceiverBlocked:!e.isReceiverBlocked}))}})),D5=({openDetail:n,goBackToChatList:e})=>{var L;const[t,r]=E.useState(),[i,a]=E.useState(!1),[l,u]=E.useState(""),[f,p]=E.useState(!1),{currentUser:m}=nl(),{chatId:y,user:T,isCurrentUserBlocked:S,isReceiverBlocked:N}=ud(),k=E.useRef(null),R=E.useRef(null);E.useEffect(()=>{var V;(V=k.current)==null||V.scrollIntoView({behavior:"smooth"})},[t==null?void 0:t.messages]),E.useEffect(()=>{if(r(null),!y)return;const V=fk(fn(rn,"chats",y),j=>{r(j.data())});return()=>V()},[y]),E.useEffect(()=>{const V=j=>{R.current&&!R.current.contains(j.target)&&a(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const x=async()=>{if(!(l===""||f))try{await Wi(fn(rn,"chats",y),{messages:bc({senderId:m.id,text:l,createdAt:new Date})}),u("")}catch(V){console.log(V)}};return X("div",{className:Zr.chat,children:[w("div",{className:Zr.top,children:X("div",{className:Zr.user,children:[w(en,{variant:"link",onClick:n,className:Zr.userButton,children:T==null?void 0:T.username}),w(en,{variant:"secondary",onClick:e,className:`${Zr.backButton} d-md-none`,children:"Back"})]})}),X("div",{className:Zr.center,children:[(L=t==null?void 0:t.messages)==null?void 0:L.map((V,j)=>{var q;return w("div",{className:`${Zr.message} ${V.senderId===m.id?Zr.own:""}`,children:X("div",{className:Zr.texts,children:[w("p",{children:V.text}),w("span",{children:(q=V.createdAt)!=null&&q.seconds?new Date(V.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Unknown Time"})]})},j)}),w("div",{ref:k})]}),X("div",{className:Zr.bottom,children:[w("input",{type:"text",placeholder:"Type a message...",value:l,onChange:V=>u(V.target.value),onKeyDown:V=>V.key==="Enter"&&x(),className:f?Zr.cooldown:""}),w("button",{className:`${Zr.sendButton} d-none d-md-block`,onClick:x,children:"Send"})]})]})},x5="_detail_168xd_1",O5="_user_168xd_7",L5="_info_168xd_23",M5="_report_168xd_72",V5="_reportPopup_168xd_81",U5="_popupContent_168xd_93",$5="_closeButton_168xd_102",F5="_deleteChat_168xd_142",ms={detail:x5,user:O5,info:L5,report:M5,reportPopup:V5,popupContent:U5,closeButton:$5,deleteChat:F5},j5=()=>{const{chatId:n,user:e,isCurrentUserBlocked:t,isReceiverBlocked:r,changeBlock:i}=ud(),{currentUser:a}=nl(),[l,u]=E.useState(!1),[f,p]=E.useState(""),m=li(),y=async()=>{if(!e)return;const N=fn(rn,"users",a.id);try{await Wi(N,{blocked:r?gy(e.id):bc(e.id)}),i()}catch(k){console.log(k)}},T=async N=>{if(N.preventDefault(),!!f.trim())try{const k=fn(rn,"reports",`${a.id}_${e.id}`);await Ns(k,{reporterUsername:a.username,reportedUsername:e.username,reporterId:a.id,reportedUserId:e.id,reason:f,timestamp:hw()}),u(!1),p(""),console.log("Report submitted")}catch(k){console.log("Error submitting report:",k)}},S=async()=>{if(!e||!n)return;const N=fn(rn,"userchats",a.id),k=fn(rn,"userchats",e.id),R=fn(rn,"chats",n);try{const x=await Rs(N);if(!x.exists()){console.log("Current user chat not found.");return}const V=(x.data().chats||[]).find(G=>G.chatId===n);if(!V){console.log("Chat not found in current user's list.");return}await Wi(N,{chats:gy(V)});const j=await Rs(k);if(j.exists()){const C=(j.data().chats||[]).find(b=>b.chatId===n);C&&await Wi(k,{chats:gy(C)})}(await Rs(R)).exists()&&(console.log("Deleting chat document..."),await Wi(R,{messages:[]})),ud.setState({chatId:null,user:null}),console.log("Chat successfully deleted for both users!")}catch(x){console.log("Error deleting chat:",x)}};return X("div",{className:ms.detail,children:[(a==null?void 0:a.email)==="bagus.anselliam@ue.edu.ph"&&w("button",{className:ms.adminButton,onClick:()=>m("/Admin-Chat"),children:"Admin Panel"}),w("div",{className:ms.user,children:w("h2",{children:e==null?void 0:e.username})}),X("div",{className:ms.info,children:[w("button",{onClick:y,children:t?"You are Blocked!":r?"Unblock User":"Block User"}),w("button",{className:ms.report,onClick:()=>u(!0),children:"Report"}),w("button",{className:ms.deleteChat,onClick:S,children:"Delete Chat"})]}),l&&w("div",{className:ms.reportPopup,children:X("div",{className:ms.popupContent,children:[w("button",{className:ms.closeButton,onClick:()=>u(!1),children:"X"}),X("h2",{children:["Report ",e==null?void 0:e.username]}),X("form",{onSubmit:T,children:[w("textarea",{placeholder:"Enter the reason...",value:f,onChange:N=>p(N.target.value),required:!0}),w("button",{type:"submit",children:"Submit Report"})]})]})})]})},B5="_chatList_1usl9_1",H5="_search_1usl9_8",z5="_searchBar_1usl9_14",W5="_add_1usl9_36",q5="_item_1usl9_47",K5="_texts_1usl9_62",Bl={chatList:B5,search:H5,searchBar:z5,add:W5,item:q5,texts:K5},G5="_addUser_1pkaj_1",Q5="_user_1pkaj_35",Y5="_detail_1pkaj_41",_y={addUser:G5,user:Q5,detail:Y5},X5=()=>{const[n,e]=E.useState(null),[t,r]=E.useState(!1),[i,a]=E.useState(!1),[l,u]=E.useState(null),{currentUser:f}=nl(),p=async y=>{y.preventDefault(),u(null);const S=new FormData(y.target).get("username");try{const N=Pa(rn,"users"),k=qB(N,KB("username","==",S)),R=await mv(k);if(R.empty)u("User not found!"),e(null);else{const x=R.docs[0].data();if(x.id===f.id){u("You cannot add yourself!"),e(null);return}e(x),r(!1)}}catch(N){console.log(N),u("An error occurred while searching.")}},m=async()=>{if(!n||t||i)return;a(!0),u(null);const y=Pa(rn,"chats"),T=Pa(rn,"userchats"),S=fn(T,f.id),N=fn(T,n.id);try{const[k,R]=await Promise.all([Rs(S),Rs(N)]);k.exists()||await Ns(S,{chats:[]}),R.exists()||await Ns(N,{chats:[]});const x=k.exists()?k.data().chats||[]:[],L=R.exists()?R.data().chats||[]:[],V=x.some(C=>C.receiverId===n.id),j=L.some(C=>C.receiverId===f.id);if(V||j){u("User already added!"),a(!1);return}const q=fn(y);await Ns(q,{createdAt:hw(),messages:[]});const G={chatId:q.id,lastMessage:"",receiverId:n.id,updatedAt:Date.now()};await Wi(S,{chats:bc(G)}),await Wi(N,{chats:bc({...G,receiverId:f.id})}),console.log("Chat created:",q.id),r(!0),setTimeout(()=>e(null),1e3)}catch(k){console.error(k),u("An error occurred while adding the user.")}finally{a(!1)}};return X("div",{className:_y.addUser,children:[X("form",{onSubmit:p,children:[w("input",{type:"text",placeholder:"Username",name:"username"}),w("button",{type:"submit",children:"Search"})]}),n&&X("div",{className:_y.user,children:[w("div",{className:_y.detail,children:w("span",{children:n.username})}),!t&&!l&&w("button",{onClick:m,disabled:i,children:i?"Adding...":"Add User"}),t&&w("span",{children:"User Added ✅"})]}),l&&w("span",{style:{color:"red"},children:l})]})},J5=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!1),[i,a]=E.useState(""),{currentUser:l}=nl(),{changeChat:u}=ud();E.useEffect(()=>{if(!(l!=null&&l.id))return;const m=fk(fn(rn,"userchats",l.id),async y=>{var k;const S=((k=y.data())==null?void 0:k.chats).map(async R=>{const x=fn(rn,"users",R.receiverId),V=(await Rs(x)).data();return{...R,user:V}}),N=await Promise.all(S);e(N.sort((R,x)=>x.updatedAt-R.updatedAt))});return()=>{m()}},[l.id]);const f=async m=>{const y=n.map(N=>{const{user:k,...R}=N;return R}),T=y.findIndex(N=>N.chatId===m.chatId);y[T].isSeen=!0;const S=fn(rn,"userchats",l.id);try{await Wi(S,{chats:y}),u(m.chatId,m.user)}catch(N){console.log(N)}},p=n.filter(m=>m.user.username.toLowerCase().includes(i.toLowerCase()));return X("div",{className:Bl.chatList,children:[X("div",{className:Bl.search,children:[X("div",{className:Bl.searchBar,children:[w("img",{src:"./search.png",alt:""}),w("input",{type:"text",placeholder:"Search",onChange:m=>a(m.target.value)})]}),w("img",{src:t?"./minus.png":"./plus.png",alt:"",className:Bl.add,onClick:()=>r(m=>!m)})]}),p.map(m=>w("div",{className:Bl.item,onClick:()=>f(m),style:{backgroundColor:m!=null&&m.isSeen?"transparent":"#5183fe"},children:X("div",{className:Bl.texts,children:[w("span",{children:m.user.blocked.includes(l.id)?"User":m.user.username}),w("p",{children:m.lastMessage})]})},m.chatId)),t&&w(X5,{})]})},Z5="_list_1vwb7_1",eH={list:Z5},tH="_userInfo_e98oz_1",nH="_user_e98oz_1",eC={userInfo:tH,user:nH},rH=()=>{const{currentUser:n}=nl();return w("div",{className:eC.userInfo,children:w("div",{className:eC.user,children:X("h2",{children:[n.username," "]})})})},iH=({onChatSelect:n})=>w("div",{className:eH.list,children:n&&X(zt,{children:[w(rH,{}),w(J5,{})]})});function Zk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Zk(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Da(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Zk(n))&&(r&&(r+=" "),r+=e);return r}function sH(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}sH(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ud=n=>typeof n=="number"&&!isNaN(n),za=n=>typeof n=="string",Us=n=>typeof n=="function",oH=n=>za(n)||Ud(n),wv=n=>za(n)||Us(n)?n:null,aH=(n,e)=>n===!1||Ud(n)&&n>0?n:e,Ev=n=>E.isValidElement(n)||za(n)||Us(n)||Ud(n);function lH(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function cH({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:l,preventExitTransition:u,done:f,nodeRef:p,isIn:m,playToast:y}){let T=t?`${n}--${l}`:n,S=t?`${e}--${l}`:e,N=E.useRef(0);return E.useLayoutEffect(()=>{let k=p.current,R=T.split(" "),x=L=>{L.target===p.current&&(y(),k.removeEventListener("animationend",x),k.removeEventListener("animationcancel",x),N.current===0&&L.type!=="animationcancel"&&k.classList.remove(...R))};k.classList.add(...R),k.addEventListener("animationend",x),k.addEventListener("animationcancel",x)},[]),E.useEffect(()=>{let k=p.current,R=()=>{k.removeEventListener("animationend",R),r?lH(k,f,i):f()};m||(u?R():(N.current=1,k.className+=` ${S}`,k.addEventListener("animationend",R)))},[m]),nt.createElement(nt.Fragment,null,a)}}function tC(n,e){return{content:e1(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function e1(n,e,t=!1){return E.isValidElement(n)&&!za(n.type)?E.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Us(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function uH({closeToast:n,theme:e,ariaLabel:t="close"}){return nt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},nt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},nt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dH({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:a,controlledProgress:l,progress:u,rtl:f,isIn:p,theme:m}){let y=i||l&&u===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(T.transform=`scaleX(${u})`);let S=Da("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),N=Us(a)?a({rtl:f,type:r,defaultClassName:S}):Da(S,a),k={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{p&&t()}};return nt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},nt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),nt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:N,style:T,...k}))}var fH=1,t1=()=>`${fH++}`;function hH(n,e,t){let r=1,i=0,a=[],l=[],u=e,f=new Map,p=new Set,m=L=>(p.add(L),()=>p.delete(L)),y=()=>{l=Array.from(f.values()),p.forEach(L=>L())},T=({containerId:L,toastId:V,updateId:j})=>{let q=L?L!==n:n!==1,G=f.has(V)&&j==null;return q||G},S=(L,V)=>{f.forEach(j=>{var q;(V==null||V===j.props.toastId)&&((q=j.toggle)==null||q.call(j,L))})},N=L=>{var V,j;(j=(V=L.props)==null?void 0:V.onClose)==null||j.call(V,L.removalReason),L.isActive=!1},k=L=>{if(L==null)f.forEach(N);else{let V=f.get(L);V&&N(V)}y()},R=()=>{i-=a.length,a=[]},x=L=>{var V,j;let{toastId:q,updateId:G}=L.props,C=G==null;L.staleId&&f.delete(L.staleId),L.isActive=!0,f.set(q,L),y(),t(tC(L,C?"added":"updated")),C&&((j=(V=L.props).onOpen)==null||j.call(V))};return{id:n,props:u,observe:m,toggle:S,removeToast:k,toasts:f,clearQueue:R,buildToast:(L,V)=>{if(T(V))return;let{toastId:j,updateId:q,data:G,staleId:C,delay:b}=V,P=q==null;P&&i++;let M={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(V).filter(([F,O])=>O!=null)),toastId:j,updateId:q,data:G,isIn:!1,className:wv(V.className||u.toastClassName),progressClassName:wv(V.progressClassName||u.progressClassName),autoClose:V.isLoading?!1:aH(V.autoClose,u.autoClose),closeToast(F){f.get(j).removalReason=F,k(j)},deleteToast(){let F=f.get(j);if(F!=null){if(t(tC(F,"removed")),f.delete(j),i--,i<0&&(i=0),a.length>0){x(a.shift());return}y()}}};M.closeButton=u.closeButton,V.closeButton===!1||Ev(V.closeButton)?M.closeButton=V.closeButton:V.closeButton===!0&&(M.closeButton=Ev(u.closeButton)?u.closeButton:!0);let U={content:L,props:M,staleId:C};u.limit&&u.limit>0&&i>u.limit&&P?a.push(U):Ud(b)?setTimeout(()=>{x(U)},b):x(U)},setProps(L){u=L},setToggle:(L,V)=>{let j=f.get(L);j&&(j.toggle=V)},isToastActive:L=>{var V;return(V=f.get(L))==null?void 0:V.isActive},getSnapshot:()=>l}}var sr=new Map,dd=[],Tv=new Set,pH=n=>Tv.forEach(e=>e(n)),n1=()=>sr.size>0;function mH(){dd.forEach(n=>i1(n.content,n.options)),dd=[]}var gH=(n,{containerId:e})=>{var t;return(t=sr.get(e||1))==null?void 0:t.toasts.get(n)};function r1(n,e){var t;if(e)return!!((t=sr.get(e))!=null&&t.isToastActive(n));let r=!1;return sr.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function yH(n){if(!n1()){dd=dd.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||oH(n))sr.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=sr.get(n.containerId);e?e.removeToast(n.id):sr.forEach(t=>{t.removeToast(n.id)})}}var vH=(n={})=>{sr.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function i1(n,e){Ev(n)&&(n1()||dd.push({content:n,options:e}),sr.forEach(t=>{t.buildToast(n,e)}))}function _H(n){var e;(e=sr.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function s1(n,e){sr.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function wH(n){let e=n.containerId||1;return{subscribe(t){let r=hH(e,n,pH);sr.set(e,r);let i=r.observe(t);return mH(),()=>{i(),sr.delete(e)}},setProps(t){var r;(r=sr.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=sr.get(e))==null?void 0:t.getSnapshot()}}}function EH(n){return Tv.add(n),()=>{Tv.delete(n)}}function TH(n){return n&&(za(n.toastId)||Ud(n.toastId))?n.toastId:t1()}function $d(n,e){return i1(n,e),e.toastId}function em(n,e){return{...e,type:e&&e.type||n,toastId:TH(e)}}function tm(n){return(e,t)=>$d(e,em(n,t))}function Ot(n,e){return $d(n,em("default",e))}Ot.loading=(n,e)=>$d(n,em("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function IH(n,{pending:e,error:t,success:r},i){let a;e&&(a=za(e)?Ot.loading(e,i):Ot.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,m,y)=>{if(m==null){Ot.dismiss(a);return}let T={type:p,...l,...i,data:y},S=za(m)?{render:m}:m;return a?Ot.update(a,{...T,...S}):Ot(S.render,{...T,...S}),y},f=Us(n)?n():n;return f.then(p=>u("success",r,p)).catch(p=>u("error",t,p)),f}Ot.promise=IH;Ot.success=tm("success");Ot.info=tm("info");Ot.error=tm("error");Ot.warning=tm("warning");Ot.warn=Ot.warning;Ot.dark=(n,e)=>$d(n,em("default",{theme:"dark",...e}));function SH(n){yH(n)}Ot.dismiss=SH;Ot.clearWaitingQueue=vH;Ot.isActive=r1;Ot.update=(n,e={})=>{let t=gH(n,e);if(t){let{props:r,content:i}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:t1()};a.toastId!==n&&(a.staleId=n);let l=a.render||i;delete a.render,$d(l,a)}};Ot.done=n=>{Ot.update(n,{progress:1})};Ot.onChange=EH;Ot.play=n=>s1(!0,n);Ot.pause=n=>s1(!1,n);function CH(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=E.useRef(wH(n)).current;i(n);let a=(e=E.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(u){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:m}=p.props;f.has(m)||f.set(m,[]),f.get(m).push(p)}),Array.from(f,p=>u(p[0],p[1]))}return{getToastToRender:l,isToastActive:r1,count:a==null?void 0:a.length}}function bH(n){let[e,t]=E.useState(!1),[r,i]=E.useState(!1),a=E.useRef(null),l=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:f,closeToast:p,onClick:m,closeOnClick:y}=n;_H({id:n.toastId,containerId:n.containerId,fn:t}),E.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{S()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||x(),window.addEventListener("focus",R),window.addEventListener("blur",x)}function S(){window.removeEventListener("focus",R),window.removeEventListener("blur",x)}function N(C){if(n.draggable===!0||n.draggable===C.pointerType){L();let b=a.current;l.canCloseOnClick=!0,l.canDrag=!0,b.style.transition="none",n.draggableDirection==="x"?(l.start=C.clientX,l.removalDistance=b.offsetWidth*(n.draggablePercent/100)):(l.start=C.clientY,l.removalDistance=b.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function k(C){let{top:b,bottom:P,left:M,right:U}=a.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&n.pauseOnHover&&C.clientX>=M&&C.clientX<=U&&C.clientY>=b&&C.clientY<=P?x():R()}function R(){t(!0)}function x(){t(!1)}function L(){l.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",q)}function V(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",q)}function j(C){let b=a.current;if(l.canDrag&&b){l.didMove=!0,e&&x(),n.draggableDirection==="x"?l.delta=C.clientX-l.start:l.delta=C.clientY-l.start,l.start!==C.clientX&&(l.canCloseOnClick=!1);let P=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;b.style.transform=`translate3d(${P},0)`,b.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function q(){V();let C=a.current;if(l.canDrag&&l.didMove&&C){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let G={onPointerDown:N,onPointerUp:k};return u&&f&&(G.onMouseEnter=x,n.stacked||(G.onMouseLeave=R)),y&&(G.onClick=C=>{m&&m(C),l.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:x,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:G}}var AH=typeof window<"u"?E.useLayoutEffect:E.useEffect,nm=({theme:n,type:e,isLoading:t,...r})=>nt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function RH(n){return nt.createElement(nm,{...n},nt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function NH(n){return nt.createElement(nm,{...n},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kH(n){return nt.createElement(nm,{...n},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PH(n){return nt.createElement(nm,{...n},nt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function DH(){return nt.createElement("div",{className:"Toastify__spinner"})}var Iv={info:NH,warning:RH,success:kH,error:PH,spinner:DH},xH=n=>n in Iv;function OH({theme:n,type:e,isLoading:t,icon:r}){let i=null,a={theme:n,type:e};return r===!1||(Us(r)?i=r({...a,isLoading:t}):E.isValidElement(r)?i=E.cloneElement(r,a):t?i=Iv.spinner():xH(e)&&(i=Iv[e](a))),i}var LH=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:a}=bH(n),{closeButton:l,children:u,autoClose:f,onClick:p,type:m,hideProgressBar:y,closeToast:T,transition:S,position:N,className:k,style:R,progressClassName:x,updateId:L,role:V,progress:j,rtl:q,toastId:G,deleteToast:C,isIn:b,isLoading:P,closeOnClick:M,theme:U,ariaLabel:F}=n,O=Da("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":q},{"Toastify__toast--close-on-click":M}),we=Us(k)?k({rtl:q,position:N,type:m,defaultClassName:O}):Da(O,k),ke=OH(n),je=!!j||!f,Se={closeToast:T,type:m,theme:U},re=null;return l===!1||(Us(l)?re=l(Se):E.isValidElement(l)?re=E.cloneElement(l,Se):re=uH(Se)),nt.createElement(S,{isIn:b,done:C,position:N,preventExitTransition:t,nodeRef:r,playToast:a},nt.createElement("div",{id:G,tabIndex:0,onClick:p,"data-in":b,className:we,...i,style:R,ref:r,...b&&{role:V,"aria-label":F}},ke!=null&&nt.createElement("div",{className:Da("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},ke),e1(u,n,!e),re,!n.customProgressBar&&nt.createElement(dH,{...L&&!je?{key:`p-${L}`}:{},rtl:q,theme:U,delay:f,isRunning:e,isIn:b,closeToast:T,hide:y,type:m,className:x,controlledProgress:je,progress:j||0})))},MH=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),VH=cH(MH("bounce",!0)),UH={position:"top-right",transition:VH,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function $H(n){let e={...UH,...n},t=n.stacked,[r,i]=E.useState(!0),a=E.useRef(null),{getToastToRender:l,isToastActive:u,count:f}=CH(e),{className:p,style:m,rtl:y,containerId:T,hotKeys:S}=e;function N(R){let x=Da("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":y});return Us(p)?p({position:R,rtl:y,defaultClassName:x}):Da(x,wv(p))}function k(){t&&(i(!0),Ot.play())}return AH(()=>{var R;if(t){let x=a.current.querySelectorAll('[data-in="true"]'),L=12,V=(R=e.position)==null?void 0:R.includes("top"),j=0,q=0;Array.from(x).reverse().forEach((G,C)=>{let b=G;b.classList.add("Toastify__toast--stacked"),C>0&&(b.dataset.collapsed=`${r}`),b.dataset.pos||(b.dataset.pos=V?"top":"bot");let P=j*(r?.2:1)+(r?0:L*C);b.style.setProperty("--y",`${V?P:P*-1}px`),b.style.setProperty("--g",`${L}`),b.style.setProperty("--s",`${1-(r?q:0)}`),j+=b.offsetHeight,q+=.025})}},[r,f,t]),E.useEffect(()=>{function R(x){var L;let V=a.current;S(x)&&((L=V.querySelector('[tabIndex="0"]'))==null||L.focus(),i(!1),Ot.pause()),x.key==="Escape"&&(document.activeElement===V||V!=null&&V.contains(document.activeElement))&&(i(!0),Ot.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[S]),nt.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(i(!1),Ot.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,x)=>{let L=x.length?{...m}:{...m,pointerEvents:"none"};return nt.createElement("div",{tabIndex:-1,className:N(R),"data-stacked":t,style:L,key:`c-${R}`},x.map(({content:V,props:j})=>nt.createElement(LH,{...j,stacked:t,collapseAll:k,isIn:u(j.toastId,j.containerId),key:`t-${j.key}`},V)))}))}const FH=()=>w("div",{className:"",children:w($H,{position:"bottm-right"})}),jH="_loading_1ahbc_31",BH="_appContainer_1ahbc_40",HH="_appContent_1ahbc_49",zH="_listContainer_1ahbc_59",WH="_chatContainer_1ahbc_68",ku={loading:jH,appContainer:BH,appContent:HH,listContainer:zH,chatContainer:WH};function qH(){const{currentUser:n,isLoading:e,fetchUserInfo:t}=nl(),{chatId:r,changeChat:i}=ud(),[a,l]=E.useState(!1),[u,f]=E.useState(!0);return E.useEffect(()=>{const p=Ew(ei,async m=>{m?t(m.uid):console.log("No user is signed in.")});return()=>p()},[t]),e?w("div",{className:ku.loading,children:"Loading..."}):w(Zi,{fluid:!0,className:ku.appContainer,children:X(Vr,{className:ku.appContent,children:[n&&X(zt,{children:[u&&w(Mn,{xs:12,md:4,className:ku.listContainer,children:w(iH,{onChatSelect:()=>f(!1)})}),r&&w(Mn,{xs:12,md:8,className:ku.chatContainer,children:w(D5,{openDetail:()=>l(!0),goBackToChatList:()=>f(!0)})}),X(rr,{show:a,onHide:()=>l(!1),centered:!0,children:[w(rr.Header,{children:w(Oc,{onClick:()=>l(!1)})}),w(rr.Body,{children:w(j5,{})})]})]}),w(FH,{})]})})}const KH=()=>w("div",{className:"messages-container",children:w(qH,{})}),GH=()=>{const n=li(),[e,t]=E.useState(null),[r,i]=E.useState(!1),[a,l]=E.useState(""),[u,f]=E.useState(""),[p,m]=E.useState(null),[y,T]=E.useState({color:"",weight:"",height:"",width:"",brand:"",condition:"New"});function S(x){if(!x.target.files||x.target.files.length===0)return;const L=x.target.files[0];if(L.size>5*1024*1024){m("File size must be 5MB or less.");return}m(null);const V=new window.Image,j=URL.createObjectURL(L);V.onload=function(){t({height:V.height,file:L,width:V.width,previewUrl:j})},V.src=j}const N=async x=>{x.preventDefault(),i(!0);const V=new FormData(x.currentTarget).get("itemCategory"),j=`
Color: ${y.color}
Weight: ${y.weight} kg
Height: ${y.height} cm
Width: ${y.width} cm
Brand: ${y.brand}
Condition: ${y.condition}
  `.trim();if(!a||!u||!V||!e){m("Please fill in all fields."),i(!1);return}try{const q=await JV();if(!q){console.log("User data is still loading. Please wait."),i(!1);return}const G=await X$({name:a,authorID:q.$id,description:j+`

`+u,date:new Date().toISOString(),imageHeight:e.height,imageFileId:"",imageWidth:e.width,isApproved:!1,itemCategory:V});if(!G||!G.items||!G.items.$id)throw new Error("Failed to create item. No ID returned.");let C="";if(e.file){console.log("Uploading image...");const b=await B$(e.file);if(!b||!b.$id)throw new Error("Image upload failed.");C=b.$id}await CR(G.items.$id,{imageFileId:C,imageHeight:e.height,imageWidth:e.width,name:a,description:j+`

`+u,authorID:q.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:V}),console.log("Item created and updated successfully."),n(`/Item/${G.items.$id}`)}catch(q){console.error("Error creating or updating item:",q),alert("Failed to create item. Please try again.")}finally{i(!1)}},k=x=>w(p_,{id:"tooltip",children:x}),R=x=>{T({...y,[x.target.name]:x.target.value})};return X(Zi,{className:"mt-4",children:[r&&w("div",{className:"overlay",children:w("div",{className:"overlay-content",children:w("p",{children:"Please wait... Creating Tradery Item"})})}),X(gs,{className:"p-4 shadow",children:[w("h1",{className:"text-center",children:"Post Item"}),p&&w("p",{className:"text-danger",children:p}),X("form",{onSubmit:N,autoComplete:"off",children:[X(At.Group,{controlId:"formFileLg",className:"mb-3",children:[w(At.Label,{children:"Import Image (Max: 5MB)"}),w(At.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:S,required:!0})]}),e&&w(Xu,{src:e.previewUrl,alt:"Preview",className:"mb-3",fluid:!0,rounded:!0}),w(o_,{controlId:"floatingSelect",label:"Category",children:X(At.Select,{id:"itemCategory",name:"itemCategory",required:!0,children:[w("option",{value:"",disabled:!0,children:"Select a Category..."}),w("option",{value:"a",children:"School Supplies"}),w("option",{value:"b",children:"Clothing"}),w("option",{value:"c",children:"Entertainment/Hobbies"}),w("option",{value:"d",children:"Gaming/Technology"}),w("option",{value:"e",children:"Fashion Accessories"}),w("option",{value:"f",children:"Sports & Outdoor"})]})}),w(At.Control,{className:"mt-3",id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:a,onChange:x=>l(x.target.value),required:!0}),X(Vr,{children:[w(Mn,{md:6,children:X(At.Group,{className:"mb-3",children:[w(At.Label,{children:w(Ea,{placement:"right",overlay:k("Specify the item's primary color."),children:w("span",{children:"Color 🎨"})})}),w(At.Control,{type:"text",name:"color",value:y.color,onChange:R,required:!0})]})}),w(Mn,{md:6,children:X(At.Group,{className:"mb-3",children:[w(At.Label,{children:w(Ea,{placement:"right",overlay:k("Enter the item's weight in kilograms."),children:w("span",{children:"Weight (kg) ⚖️"})})}),w(At.Control,{type:"number",step:"0.1",name:"weight",value:y.weight,onChange:R,required:!0})]})})]}),X(Vr,{children:[w(Mn,{md:6,children:X(At.Group,{className:"mb-3",children:[w(At.Label,{children:w(Ea,{placement:"right",overlay:k("Enter the item's height in centimeters."),children:w("span",{children:"Height (cm) 📏"})})}),w(At.Control,{type:"number",name:"height",value:y.height,onChange:R,required:!0})]})}),w(Mn,{md:6,children:X(At.Group,{className:"mb-3",children:[w(At.Label,{children:w(Ea,{placement:"right",overlay:k("Enter the item's width in centimeters."),children:w("span",{children:"Width (cm) 📐"})})}),w(At.Control,{type:"number",name:"width",value:y.width,onChange:R,required:!0})]})})]}),X(At.Group,{className:"mb-3",children:[w(At.Label,{children:w(Ea,{placement:"right",overlay:k("Enter the item's brand name (e.g., Nike, Samsung)."),children:w("span",{children:"Brand 🏷️"})})}),w(At.Control,{type:"text",name:"brand",value:y.brand,onChange:R,required:!0})]}),X(At.Group,{className:"mb-3",children:[w(At.Label,{children:w(Ea,{placement:"right",overlay:k("Select the item's condition (New, Used, etc.)."),children:w("span",{children:"Condition 🔄"})})}),X(At.Select,{name:"condition",value:y.condition,onChange:R,children:[w("option",{value:"New",children:"New"}),w("option",{value:"Used",children:"Used"}),w("option",{value:"Damaged",children:"Damaged"})]})]}),w(At.Control,{className:"mt-3",as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:u,onChange:x=>f(x.target.value),required:!0}),w("p",{className:"text-muted",children:"Posting items that are harmful, sensual or offensive will lead to an unapproved item. Repeated offense may cause in a ban to the account."}),w(en,{className:"w-100 mt-3",type:"submit",disabled:r,children:"Submit"})]})]})]})},QH=()=>{const[n,e]=E.useState([]),[t,r]=E.useState({}),{userData:i}=Xo();E.useEffect(()=>{(async function(){if(!i){console.log("User data is still loading. Please wait.");return}const{items:u}=await E_(i.$id);e(u);const f={};await Promise.all(u.map(async p=>{if(!f[p.authorID]){const{userdb:m}=await Ua(p.authorID);f[p.authorID]=m}})),r(f)})()},[]);const a={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Fashion Accessories",color:"info"},f:{name:"Sports & Outdoor",color:"dark"}};return w("div",{className:"home",children:w("div",{className:"container",id:"pagewrap",children:w("div",{className:"items container",children:w(Vr,{children:n.length>0?n.map(l=>{var m;const f={url:l.imageFileId&&bd(l.imageFileId),height:l.imageHeight,width:l.imageWidth},p=t[l.authorID];return w(Mn,{xs:12,md:3,style:{paddingBottom:"20px"},children:X("a",{className:"itemLink",href:`#/Item/${l.$id}`,children:[w("div",{className:"itemLabel",children:w("span",{className:"Label",children:((m=a[l.itemCategory])==null?void 0:m.name)||"Uncategorized"})}),p?w(Np,{image:f,name:l.name,date:l.date,author:p.displayName||p.defaultName}):w("div",{className:"card placeholder-glow",children:X("div",{className:"card-body",children:[w("h5",{className:"card-title placeholder-glow",children:w("span",{className:"placeholder col-6"})}),X("p",{className:"card-text placeholder-glow",children:[w("span",{className:"placeholder col-7"}),w("span",{className:"placeholder col-4"}),w("span",{className:"placeholder col-4"}),w("span",{className:"placeholder col-6"}),w("span",{className:"placeholder col-8"})]})]})})]})},l.$id)}):w(Zi,{children:X(dc,{variant:"warning",children:["No Items are currently posted, ",w(dc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})},YH=({name:n,userId:e,eventKey:t,itemData:r})=>{const[i,a]=E.useState([]),{userdb:l}=Xo();if(!l)throw new Error("User data is not available");const u=li();E.useEffect(()=>{(async function(){if(!e||e.length===0)return;const y=await Promise.all(e.map(async T=>{try{const{userdb:S}=await Ua(T),N=(S==null?void 0:S.displayName)||(S==null?void 0:S.defaultName)||"",k=(S==null?void 0:S.defaultName)||"",R=(S==null?void 0:S.firebaseId)||null,x=(S==null?void 0:S.userId)||null;return N||k?{displayName:N,appwriteName:k,firebaseId:R,traderId:x}:null}catch(S){return console.error("Error fetching user data:",S),null}}));a(y.filter(T=>T!==null))})()},[e]);async function f(m,y,T,S){try{await d5(y,S);const k=(m.requests??[]).filter(R=>R!==T);await Hh(m.$id,{...m,isApproved:!0,requests:k}),console.log("Done")}catch{console.log("Failed to add chat")}finally{u("/Dashboard/Messages#view-messages")}}async function p(m,y){try{const S=(m.requests??[]).filter(N=>N!==y);await Hh(m.$id,{...m,isApproved:!0,requests:S}),console.log("Trade request denied")}catch(T){console.error("Error removing request:",T)}finally{u("/Dashboard/Items")}}return X(Co.Item,{eventKey:t,children:[w(Co.Header,{children:n}),w(Co.Body,{children:i.length>0?i.map((m,y)=>X("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[X("p",{className:"mb-0",children:[w("strong",{children:m.displayName})," wants to trade. The default username is ",w("a",{href:`#/User/${m.displayName}`,className:"profile-link",children:w("strong",{children:m.appwriteName})}),", You can click on the name to view their profile."]}),X("div",{className:"btnCont",children:[w(en,{variant:"primary",size:"sm",onClick:()=>{m.firebaseId&&l.firebaseId&&m.traderId?f(r,m.firebaseId,m.traderId,l.firebaseId):console.error("Invalid user IDs")},children:"Accept"}),w(en,{variant:"primary",size:"sm",onClick:()=>{t&&m.traderId?p(r,m.traderId):console.error("Invalid user IDs")},children:"Deny"})]})]},y)):w("p",{children:"No trade requests yet."})})]})},XH=()=>{const[n,e]=E.useState([]),{userData:t}=Xo();return E.useEffect(()=>{(async function(){if(!t){console.log("User data is still loading. Please wait.");return}const{items:i}=await E_(t.$id),a=i.filter(l=>l.requests&&l.requests.length>0);e(a)})()},[]),X("div",{className:"container",children:[w("h1",{children:"Your Items with Requests"}),n.length>0?X(Co,{alwaysOpen:!0,children:[" ",n.map((r,i)=>w(YH,{name:r.name,userId:r.requests,eventKey:String(i),itemData:r},r.$id))]}):w("p",{children:"No items with requests found."})]})};function JH({params:n=vR()}){const[e,t]=E.useState(),[r,i]=E.useState(),a=li(),[l,u]=E.useState(!1),[f,p]=E.useState(!1),{isAdmin:m}=Zu(),{userData:y}=Xo(),S={url:(e==null?void 0:e.imageFileId)&&bd(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};E.useEffect(()=>{(async function(){var q;if(!n.itemsId)return;const{items:V}=await zy(n.itemsId);if(t(V),(y==null?void 0:y.$id)===(V==null?void 0:V.authorID)&&u(!0),y&&p(((q=V.requests)==null?void 0:q.includes(y.$id))??!1),V){const{userdb:G}=await Ua(V.authorID);i(G)}})()},[n.itemsId]);async function N(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{const L=e.requests??[];if(L.includes(y.$id)){p(!0);return}const V=[...L,y.$id];t(j=>j&&{...j,requests:V}),p(!0),await Hh(n.itemsId,{...e,isApproved:!0,requests:V}),console.log("Trade request successful")}catch(L){console.error("Error requesting trade:",L)}}}async function k(){return e!=null&&e.$id&&(await Y$(e.$id),console.log("Item deleted successfully")),a(-1)}async function R(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{await CR(n.itemsId,{...e,isApproved:!0});const{items:L}=await zy(n.itemsId);console.log("✅ Approved Post Data from Appwrite:",L),t(L),a(-1)}catch(L){console.error("Error approving post:",L)}}}async function x(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{const L=e.requests??[];if(!L.includes(y.$id)){p(!1);return}const V=L.filter(j=>j!==y.$id);t(j=>j&&{...j,requests:V}),p(!1),await Hh(n.itemsId,{...e,isApproved:!0,requests:V}),console.log("Trade request removed")}catch(L){console.error("Error removing request:",L)}}}return X(Zp,{children:[X("a",{className:"HomeItem",href:"#/Home",children:[w("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:w("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),w("div",{className:"container",children:e&&X(zt,{children:[!e.isApproved&&w(dc,{variant:"warning",style:{margin:"20px"},children:"Post is waiting to be approved by the moderators."},"warning"),X("div",{className:"itemheading",children:[w("div",{children:w("h1",{children:e.name})}),r&&w("a",{href:`#/User/${r.displayName}`,className:"profile-link",children:r.displayName||r.defaultName}),X("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!m&&X("div",{className:"Tradecont",children:[l&&w(en,{className:"Tradereq",variant:"primary",onClick:k,children:"Delete Item"}),!l&&w(zt,{children:f?w(en,{className:"Tradereq",variant:"danger",onClick:x,children:"Remove Trade Request"}):w(en,{className:"Tradereq",variant:"primary",onClick:N,children:"Request a Trade"})})]}),m&&X("div",{className:"Tradecont",children:[w(en,{className:"Tradereq",variant:"primary",onClick:k,children:"Delete Item"}),w(en,{className:"Tradereq",variant:"primary",onClick:R,children:"Approve Item"})]}),w("div",{className:"itemimg",children:w(PT,{className:"image-carousel",controls:!1,children:w(PT.Item,{children:w("img",{className:"thumbnail",src:S.url?String(S.url):"./images/favicon",alt:"Item"})})})}),w("div",{className:"description",children:w("p",{style:{whiteSpace:"pre-line"},children:e.description})})]})})]})}function ZH({params:n=vR()}){const[e,t]=E.useState(null),[r,i]=E.useState([]);E.useEffect(()=>{(async function(){try{const{userdb:u}=await Z$(n.profileName);u.map(async f=>{const{items:p}=await E_(f.userId);i(p),t(f)})}catch(u){console.error("Error fetching profile data:",u)}})()},[n.profileName]);const a={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Fashion Accessories",color:"info"},f:{name:"Sports & Outdoor",color:"dark"}};return w(Zp,{children:X(Zi,{className:"mt-5",id:"pagewrap",children:[w(Vr,{className:"justify-content-center text-center",children:w(Mn,{md:6,lg:4,children:X("div",{className:"profile-container p-4 bg-light rounded shadow",children:[w(Xu,{src:e!=null&&e.profileImageId?wh(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),w("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),w("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),w("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),w(Vr,{className:"mt-5",children:X(Mn,{children:[w("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?w(Vr,{className:"g-4",children:r.map(l=>{var p;const f={url:l.imageFileId&&bd(l.imageFileId),height:l.imageHeight,width:l.imageWidth};return w(Mn,{xs:12,md:3,style:{paddingBottom:"20px"},children:X("a",{className:"itemLink",href:`#/Item/${l.$id}`,children:[w("div",{className:"itemLabel",children:w("span",{className:"Label",children:((p=a[l.itemCategory])==null?void 0:p.name)||"Uncategorized"})}),e!=null&&e.displayName&&(e!=null&&e.defaultName)?w(Np,{image:f,name:l.name,date:l.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"}):w("div",{className:"card placeholder-glow",children:X("div",{className:"card-body",children:[w("h5",{className:"card-title placeholder-glow",children:w("span",{className:"placeholder col-6"})}),X("p",{className:"card-text placeholder-glow",children:[w("span",{className:"placeholder col-7"}),w("span",{className:"placeholder col-4"}),w("span",{className:"placeholder col-4"}),w("span",{className:"placeholder col-6"}),w("span",{className:"placeholder col-8"})]})]})})]})},l.$id)})}):w("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function ez(){const{isAdmin:n,logInAdmin:e}=Zu(),[t,r]=E.useState([]),[i,a]=E.useState({}),l=async u=>{u.preventDefault();const f=u.target;await e(f.email.value,f.password.value),window.location.reload()};return E.useEffect(()=>{(async function(){const{items:f}=await Q$();r(f);const p={};await Promise.all(f.map(async m=>{if(!p[m.authorID]){const{userdb:y}=await Ua(m.authorID);p[m.authorID]=y}})),a(p)})()},[]),X(zt,{children:[!n&&w("div",{className:"RegAdminContainer",children:w("div",{className:"login-register-container",children:X("form",{onSubmit:l,autoComplete:"off",children:[X("div",{className:"form-field-wrapper",children:[w("label",{children:"Email:"}),w("input",{required:!0,className:"AdminInput",type:"email",name:"email",placeholder:"Enter email..."})]}),X("div",{className:"form-field-wrapper",children:[w("label",{children:"Password:"}),w(At.Control,{className:"AdminInput",type:"password",name:"password",placeholder:"Enter password..."})]}),w("div",{className:"form-field-wrapper",children:w(en,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&w(Zp,{children:w("div",{className:"home",children:X("div",{className:"container",id:"pagewrap",children:[w("h1",{children:"UNAPPROVED ITEMS"}),w("div",{className:"items container",children:w(Vr,{children:t.length>0?t.map(u=>{const p={url:u.imageFileId&&bd(u.imageFileId),height:u.imageHeight,width:u.imageWidth},m=i[u.authorID];return w(Mn,{xs:12,md:3,style:{paddingBottom:"20px"},children:w("a",{className:"itemLink",href:`#/Item/${u.$id}`,children:w(Np,{image:p,name:u.name,date:u.date,author:m?m.displayName||m.defaultName:"Unknown Author"})})},u.$id)}):w(Zi,{children:w(dc,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const tz="bagus.anselliam@ue.edu.ph",nz=({children:n})=>{const[e,t]=E.useState(null),[r,i]=E.useState(!0),a=li();return E.useEffect(()=>{const l=Ew(ei,async u=>{if(u){const f=await m_();f&&f.email===tz?t(!0):t(!1)}else t(!1);i(!1)});return()=>l()},[]),r?w("p",{children:"Loading..."}):e?n:a("/Home")},rz="_adminContainer_1hm91_1",iz="_userList_1hm91_19",sz="_reportsList_1hm91_54",oz="_reportItem_1hm91_71",az="_adminButtons_1hm91_106",lz="_backButton_1hm91_115",cz="_logout_1hm91_115",uz="_readMore_1hm91_169",dz="_modal_1hm91_185",fz="_modalContent_1hm91_197",hz="_closeModal_1hm91_216",pz="_showAllReports_1hm91_230",Or={adminContainer:rz,userList:iz,reportsList:sz,reportItem:oz,adminButtons:az,backButton:lz,logout:cz,readMore:uz,modal:dz,modalContent:fz,closeModal:hz,showAllReports:pz},mz=()=>{var T;const[n,e]=E.useState([]),[t,r]=E.useState([]),[i,a]=E.useState([]),[l,u]=E.useState(!0),[f,p]=E.useState(null),m=li();E.useEffect(()=>{(async()=>{try{const N=await mv(Pa(rn,"users")),k=await mv(Pa(rn,"reports"));e(N.docs.map(x=>({id:x.id,...x.data()})));const R=k.docs.map(x=>({id:x.id,...x.data()}));r(R),a(R)}catch(N){console.error("Error fetching data:",N)}finally{u(!1)}})()},[]);const y=async S=>{try{await XB(fn(rn,"reports",S)),r(N=>N.filter(k=>k.id!==S)),a(N=>N.filter(k=>k.id!==S))}catch(N){console.error("Error deleting report:",N)}};return X("div",{className:Or.adminContainer,children:[w("h1",{children:"Admin Panel"}),w("p",{children:"Welcome, Admin! Here you can manage users and view reports."}),X("div",{className:Or.adminButtons,children:[w("button",{className:Or.backButton,onClick:()=>m("/Dashboard/Messages"),children:"Back to Chat"}),w("button",{className:Or.logout,onClick:()=>ei.signOut(),children:"Logout"})]}),l?w("p",{children:"Loading data..."}):X(zt,{children:[X("div",{className:Or.userList,children:[w("h2",{children:"Registered Users"}),w("ul",{children:n.map(S=>X("li",{className:Or.userItem,children:[w("strong",{children:S.username})," - ",S.email,w("button",{onClick:()=>a(t.filter(N=>N.reportedUserId===S.id)),children:"View Reports"})]},S.id))}),w("button",{className:Or.showAllReports,onClick:()=>a(t),children:"Show All Reported Users"})]}),X("div",{className:Or.reportsList,children:[w("h2",{children:"Reported Users"}),i.length===0?w("p",{children:"No reports available."}):w("ul",{children:i.map(S=>{var k;const N=(k=S.timestamp)!=null&&k.seconds?new Date(S.timestamp.seconds*1e3).toLocaleString():"Unknown";return X("li",{className:Or.reportItem,children:[X("p",{children:[w("strong",{children:"Reporter:"})," ",S.reporterUsername]}),X("p",{children:[w("strong",{children:"Reporter ID:"})," ",S.reporterId]}),X("p",{children:[w("strong",{children:"Reported User:"})," ",S.reportedUsername]}),X("p",{children:[w("strong",{children:"Reported ID:"})," ",S.reportedUserId]}),X("p",{children:[w("strong",{children:"Reason:"})," ",S.reason.length>10?X(zt,{children:[S.reason.substring(0,10),"...",w("button",{className:Or.readMore,onClick:()=>p(S),children:"Read More"})]}):S.reason]}),X("p",{children:[w("strong",{children:"Timestamp:"})," ",N]}),w("button",{onClick:()=>y(S.id),children:"Delete"})]},S.id)})})]}),f&&w("div",{className:Or.modal,children:X("div",{className:Or.modalContent,children:[w("h2",{children:"Full Report"}),X("p",{children:[w("strong",{children:"Reporter:"})," ",f.reporterUsername]}),X("p",{children:[w("strong",{children:"Reporter ID:"})," ",f.reporterId]}),X("p",{children:[w("strong",{children:"Reported User:"})," ",f.reportedUsername]}),X("p",{children:[w("strong",{children:"Reported ID:"})," ",f.reportedUserId]}),X("p",{children:[w("strong",{children:"Reason:"})," ",f.reason]}),X("p",{children:[w("strong",{children:"Timestamp:"})," ",new Date(((T=f.timestamp)==null?void 0:T.seconds)*1e3).toLocaleString()]}),w("button",{className:Or.closeModal,onClick:()=>p(null),children:"Close"})]})})]})]})},hh=({children:n})=>{const{userData:e}=Xo();return e?w(zt,{children:n}):w(m$,{to:"/",replace:!0})},gz=S$([{path:"/",element:w(j$,{}),errorElement:w(wa,{})},{path:"/Admin",element:w(ez,{}),errorElement:w(wa,{})},{path:"/Admin-Chat",element:w(nz,{children:w(mz,{})}),errorElement:w(wa,{})},{path:"/Home",element:w(hh,{children:w(p5,{})}),errorElement:w(wa,{})},{path:"/Item/:itemsId",element:w(hh,{children:w(JH,{})}),errorElement:w(wa,{})},{path:"/User/:profileName",element:w(hh,{children:w(ZH,{})}),errorElement:w(wa,{})},{path:"/Dashboard",element:w(hh,{children:w(m5,{})}),errorElement:w(wa,{}),children:[{path:"/Dashboard/Post",element:w(GH,{})},{path:"/Dashboard/Profile",element:w(g5,{})},{path:"/Dashboard/Items",element:w(QH,{})},{path:"/Dashboard/Requests",element:w(XH,{})},{path:"/Dashboard/Messages",element:w(KH,{})}]}]);mP.createRoot(document.getElementById("root")).render(w(E.StrictMode,{children:w(tU,{children:w(f5,{children:w(D$,{router:gz})})})}));
