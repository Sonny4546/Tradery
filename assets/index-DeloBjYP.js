function mk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ol(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cT={exports:{}},Nd={},dT={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),gk=Symbol.for("react.portal"),vk=Symbol.for("react.fragment"),yk=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),Ek=Symbol.for("react.provider"),wk=Symbol.for("react.context"),Tk=Symbol.for("react.forward_ref"),Ik=Symbol.for("react.suspense"),Sk=Symbol.for("react.memo"),Ck=Symbol.for("react.lazy"),s_=Symbol.iterator;function Ak(t){return t===null||typeof t!="object"?null:(t=s_&&t[s_]||t["@@iterator"],typeof t=="function"?t:null)}var hT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fT=Object.assign,pT={};function jo(t,e,n){this.props=t,this.context=e,this.refs=pT,this.updater=n||hT}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mT(){}mT.prototype=jo.prototype;function Um(t,e,n){this.props=t,this.context=e,this.refs=pT,this.updater=n||hT}var Fm=Um.prototype=new mT;Fm.constructor=Um;fT(Fm,jo.prototype);Fm.isPureReactComponent=!0;var o_=Array.isArray,gT=Object.prototype.hasOwnProperty,Bm={current:null},vT={key:!0,ref:!0,__self:!0,__source:!0};function yT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gT.call(e,r)&&!vT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dl,type:t,key:s,ref:o,props:i,_owner:Bm.current}}function Rk(t,e){return{$$typeof:Dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dl}function bk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a_=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bk(""+t.key):e.toString(36)}function tc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dl:case gk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jh(o,0):r,o_(i)?(n="",t!=null&&(n=t.replace(a_,"$&/")+"/"),tc(i,e,n,"",function(c){return c})):i!=null&&(zm(i)&&(i=Rk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(a_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",o_(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Jh(s,a);o+=tc(s,e,n,u,i)}else if(u=Ak(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Jh(s,a++),o+=tc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wu(t,e,n){if(t==null)return t;var r=[],i=0;return tc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},nc={transition:null},Pk={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:nc,ReactCurrentOwner:Bm};function _T(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:wu,forEach:function(t,e,n){wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wu(t,function(){e++}),e},toArray:function(t){return wu(t,function(e){return e})||[]},only:function(t){if(!zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=jo;fe.Fragment=vk;fe.Profiler=_k;fe.PureComponent=Um;fe.StrictMode=yk;fe.Suspense=Ik;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pk;fe.act=_T;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)gT.call(e,u)&&!vT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dl,type:t.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:wk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ek,_context:t},t.Consumer=t};fe.createElement=yT;fe.createFactory=function(t){var e=yT.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Tk,render:t}};fe.isValidElement=zm;fe.lazy=function(t){return{$$typeof:Ck,_payload:{_status:-1,_result:t},_init:kk}};fe.memo=function(t,e){return{$$typeof:Sk,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=nc.transition;nc.transition={};try{t()}finally{nc.transition=e}};fe.unstable_act=_T;fe.useCallback=function(t,e){return Pt.current.useCallback(t,e)};fe.useContext=function(t){return Pt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Pt.current.useEffect(t,e)};fe.useId=function(){return Pt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Pt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};fe.useRef=function(t){return Pt.current.useRef(t)};fe.useState=function(t){return Pt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Pt.current.useTransition()};fe.version="18.3.1";dT.exports=fe;var g=dT.exports;const ct=Ol(g),ET=mk({__proto__:null,default:ct},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk=g,xk=Symbol.for("react.element"),Ok=Symbol.for("react.fragment"),Dk=Object.prototype.hasOwnProperty,Lk=Nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mk={key:!0,ref:!0,__self:!0,__source:!0};function wT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Dk.call(e,r)&&!Mk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xk,type:t,key:s,ref:o,props:i,_owner:Lk.current}}Nd.Fragment=Ok;Nd.jsx=wT;Nd.jsxs=wT;cT.exports=Nd;var v=cT.exports,TT={exports:{}},Zt={},IT={exports:{}},ST={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,W){var G=$.length;$.push(W);e:for(;0<G;){var ue=G-1>>>1,le=$[ue];if(0<i(le,W))$[ue]=W,$[G]=le,G=ue;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],G=$.pop();if(G!==W){$[0]=G;e:for(var ue=0,le=$.length,ce=le>>>1;ue<ce;){var he=2*(ue+1)-1,Ce=$[he],_e=he+1,nt=$[_e];if(0>i(Ce,G))_e<le&&0>i(nt,Ce)?($[ue]=nt,$[_e]=G,ue=_e):($[ue]=Ce,$[he]=G,ue=he);else if(_e<le&&0>i(nt,G))$[ue]=nt,$[_e]=G,ue=_e;else break e}}return W}function i($,W){var G=$.sortIndex-W.sortIndex;return G!==0?G:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,_=!1,C=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=$)r(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(c)}}function x($){if(R=!1,S($),!C)if(n(u)!==null)C=!0,ge(M);else{var W=n(c);W!==null&&ae(x,W.startTime-$)}}function M($,W){C=!1,R&&(R=!1,T(y),y=-1),_=!0;var G=m;try{for(S(W),f=n(u);f!==null&&(!(f.expirationTime>W)||$&&!N());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,m=f.priorityLevel;var le=ue(f.expirationTime<=W);W=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(u)&&r(u),S(W)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var he=n(c);he!==null&&ae(x,he.startTime-W),ce=!1}return ce}finally{f=null,m=G,_=!1}}var L=!1,I=null,y=-1,A=5,P=-1;function N(){return!(t.unstable_now()-P<A)}function O(){if(I!==null){var $=t.unstable_now();P=$;var W=!0;try{W=I(!0,$)}finally{W?k():(L=!1,I=null)}}else L=!1}var k;if(typeof E=="function")k=function(){E(O)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ie=de.port2;de.port1.onmessage=O,k=function(){Ie.postMessage(null)}}else k=function(){b(O,0)};function ge($){I=$,L||(L=!0,k())}function ae($,W){y=b(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,ge(M))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var G=m;m=W;try{return $()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=m;m=$;try{return W()}finally{m=G}},t.unstable_scheduleCallback=function($,W,G){var ue=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ue+G:ue):G=ue,$){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=G+le,$={id:d++,callback:W,priorityLevel:$,startTime:G,expirationTime:le,sortIndex:-1},G>ue?($.sortIndex=G,e(c,$),n(u)===null&&$===n(c)&&(R?(T(y),y=-1):R=!0,ae(x,G-ue))):($.sortIndex=le,e(u,$),C||_||(C=!0,ge(M))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var W=m;return function(){var G=m;m=W;try{return $.apply(this,arguments)}finally{m=G}}}})(ST);IT.exports=ST;var Vk=IT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk=g,Qt=Vk;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CT=new Set,tl={};function us(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(tl[t]=e,t=0;t<e.length;t++)CT.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=Object.prototype.hasOwnProperty,$k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l_={},u_={};function Uk(t){return op.call(u_,t)?!0:op.call(l_,t)?!1:$k.test(t)?u_[t]=!0:(l_[t]=!0,!1)}function Fk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bk(t,e,n,r){if(e===null||typeof e>"u"||Fk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hm=/[\-:]([a-z])/g;function Wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hm,Wm);ht[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hm,Wm);ht[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hm,Wm);ht[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Km(t,e,n,r){var i=ht.hasOwnProperty(e)?ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bk(e,n,i,r)&&(n=null),r||i===null?Uk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var br=jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),AT=Symbol.for("react.provider"),RT=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),up=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),bT=Symbol.for("react.offscreen"),c_=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=c_&&t[c_]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,Zh;function ba(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ef=!1;function tf(t,e){if(!t||ef)return"";ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ba(t):""}function zk(t){switch(t.tag){case 5:return ba(t.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return t=tf(t.type,!1),t;case 11:return t=tf(t.type.render,!1),t;case 1:return t=tf(t.type,!0),t;default:return""}}function cp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case $s:return"Portal";case ap:return"Profiler";case qm:return"StrictMode";case lp:return"Suspense";case up:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RT:return(t.displayName||"Context")+".Consumer";case AT:return(t._context.displayName||"Context")+".Provider";case Gm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qm:return e=t.displayName||null,e!==null?e:cp(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return cp(t(e))}catch{}}return null}function Hk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cp(e);case 8:return e===qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wk(t){var e=kT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Iu(t){t._valueTracker||(t._valueTracker=Wk(t))}function PT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dp(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NT(t,e){e=e.checked,e!=null&&Km(t,"checked",e,!1)}function hp(t,e){NT(t,e);var n=pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fp(t,e.type,n):e.hasOwnProperty("defaultValue")&&fp(t,e.type,pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function h_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fp(t,e,n){(e!=="number"||Ac(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ka=Array.isArray;function Zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function f_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ka(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pi(n)}}function xT(t,e){var n=pi(e.value),r=pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function p_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Su,DT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Su=Su||document.createElement("div"),Su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kk=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(t){Kk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ja[e]=ja[t]})});function LT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ja.hasOwnProperty(t)&&ja[t]?(""+e).trim():e+"px"}function MT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qk=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(t,e){if(e){if(qk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function vp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=null;function Ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _p=null,eo=null,to=null;function m_(t){if(t=Vl(t)){if(typeof _p!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Md(e),_p(t.stateNode,t.type,e))}}function VT(t){eo?to?to.push(t):to=[t]:eo=t}function jT(){if(eo){var t=eo,e=to;if(to=eo=null,m_(t),e)for(t=0;t<e.length;t++)m_(e[t])}}function $T(t,e){return t(e)}function UT(){}var nf=!1;function FT(t,e,n){if(nf)return t(e,n);nf=!0;try{return $T(t,e,n)}finally{nf=!1,(eo!==null||to!==null)&&(UT(),jT())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var r=Md(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Ep=!1;if(gr)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Ep=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Ep=!1}function Gk(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var $a=!1,Rc=null,bc=!1,wp=null,Qk={onError:function(t){$a=!0,Rc=t}};function Yk(t,e,n,r,i,s,o,a,u){$a=!1,Rc=null,Gk.apply(Qk,arguments)}function Xk(t,e,n,r,i,s,o,a,u){if(Yk.apply(this,arguments),$a){if($a){var c=Rc;$a=!1,Rc=null}else throw Error(B(198));bc||(bc=!0,wp=c)}}function cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g_(t){if(cs(t)!==t)throw Error(B(188))}function Jk(t){var e=t.alternate;if(!e){if(e=cs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return g_(i),t;if(s===r)return g_(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function zT(t){return t=Jk(t),t!==null?HT(t):null}function HT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HT(t);if(e!==null)return e;t=t.sibling}return null}var WT=Qt.unstable_scheduleCallback,v_=Qt.unstable_cancelCallback,Zk=Qt.unstable_shouldYield,eP=Qt.unstable_requestPaint,We=Qt.unstable_now,tP=Qt.unstable_getCurrentPriorityLevel,Xm=Qt.unstable_ImmediatePriority,KT=Qt.unstable_UserBlockingPriority,kc=Qt.unstable_NormalPriority,nP=Qt.unstable_LowPriority,qT=Qt.unstable_IdlePriority,xd=null,jn=null;function rP(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(xd,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:oP,iP=Math.log,sP=Math.LN2;function oP(t){return t>>>=0,t===0?32:31-(iP(t)/sP|0)|0}var Cu=64,Au=4194304;function Pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Pa(a):(s&=o,s!==0&&(r=Pa(s)))}else o=n&~i,o!==0?r=Pa(o):s!==0&&(r=Pa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),i=1<<n,r|=t[n],e&=~i;return r}function aP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=aP(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Tp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GT(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function uP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function QT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YT,Zm,XT,JT,ZT,Ip=!1,Ru=[],Zr=null,ei=null,ti=null,il=new Map,sl=new Map,zr=[],cP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y_(t,e){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(e.pointerId)}}function va(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Vl(e),e!==null&&Zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dP(t,e,n,r,i){switch(e){case"focusin":return Zr=va(Zr,t,e,n,r,i),!0;case"dragenter":return ei=va(ei,t,e,n,r,i),!0;case"mouseover":return ti=va(ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return il.set(s,va(il.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sl.set(s,va(sl.get(s)||null,t,e,n,r,i)),!0}return!1}function eI(t){var e=$i(t.target);if(e!==null){var n=cs(e);if(n!==null){if(e=n.tag,e===13){if(e=BT(n),e!==null){t.blockedOn=e,ZT(t.priority,function(){XT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yp=r,n.target.dispatchEvent(r),yp=null}else return e=Vl(n),e!==null&&Zm(e),t.blockedOn=n,!1;e.shift()}return!0}function __(t,e,n){rc(t)&&n.delete(e)}function hP(){Ip=!1,Zr!==null&&rc(Zr)&&(Zr=null),ei!==null&&rc(ei)&&(ei=null),ti!==null&&rc(ti)&&(ti=null),il.forEach(__),sl.forEach(__)}function ya(t,e){t.blockedOn===e&&(t.blockedOn=null,Ip||(Ip=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,hP)))}function ol(t){function e(i){return ya(i,t)}if(0<Ru.length){ya(Ru[0],t);for(var n=1;n<Ru.length;n++){var r=Ru[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zr!==null&&ya(Zr,t),ei!==null&&ya(ei,t),ti!==null&&ya(ti,t),il.forEach(e),sl.forEach(e),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)eI(n),n.blockedOn===null&&zr.shift()}var no=br.ReactCurrentBatchConfig,Nc=!0;function fP(t,e,n,r){var i=Re,s=no.transition;no.transition=null;try{Re=1,eg(t,e,n,r)}finally{Re=i,no.transition=s}}function pP(t,e,n,r){var i=Re,s=no.transition;no.transition=null;try{Re=4,eg(t,e,n,r)}finally{Re=i,no.transition=s}}function eg(t,e,n,r){if(Nc){var i=Sp(t,e,n,r);if(i===null)pf(t,e,r,xc,n),y_(t,r);else if(dP(i,t,e,n,r))r.stopPropagation();else if(y_(t,r),e&4&&-1<cP.indexOf(t)){for(;i!==null;){var s=Vl(i);if(s!==null&&YT(s),s=Sp(t,e,n,r),s===null&&pf(t,e,r,xc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pf(t,e,r,null,n)}}var xc=null;function Sp(t,e,n,r){if(xc=null,t=Ym(r),t=$i(t),t!==null)if(e=cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xc=t,null}function tI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tP()){case Xm:return 1;case KT:return 4;case kc:case nP:return 16;case qT:return 536870912;default:return 16}default:return 16}}var Gr=null,tg=null,ic=null;function nI(){if(ic)return ic;var t,e=tg,n=e.length,r,i="value"in Gr?Gr.value:Gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ic=i.slice(t,1<r?1-r:void 0)}function sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bu(){return!0}function E_(){return!1}function en(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bu:E_,this.isPropagationStopped=E_,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ng=en($o),Ml=Me({},$o,{view:0,detail:0}),mP=en(Ml),sf,of,_a,Od=Me({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(sf=t.screenX-_a.screenX,of=t.screenY-_a.screenY):of=sf=0,_a=t),sf)},movementY:function(t){return"movementY"in t?t.movementY:of}}),w_=en(Od),gP=Me({},Od,{dataTransfer:0}),vP=en(gP),yP=Me({},Ml,{relatedTarget:0}),af=en(yP),_P=Me({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),EP=en(_P),wP=Me({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TP=en(wP),IP=Me({},$o,{data:0}),T_=en(IP),SP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AP[t])?!!e[t]:!1}function rg(){return RP}var bP=Me({},Ml,{key:function(t){if(t.key){var e=SP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rg,charCode:function(t){return t.type==="keypress"?sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kP=en(bP),PP=Me({},Od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I_=en(PP),NP=Me({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rg}),xP=en(NP),OP=Me({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),DP=en(OP),LP=Me({},Od,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MP=en(LP),VP=[9,13,27,32],ig=gr&&"CompositionEvent"in window,Ua=null;gr&&"documentMode"in document&&(Ua=document.documentMode);var jP=gr&&"TextEvent"in window&&!Ua,rI=gr&&(!ig||Ua&&8<Ua&&11>=Ua),S_=" ",C_=!1;function iI(t,e){switch(t){case"keyup":return VP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fs=!1;function $P(t,e){switch(t){case"compositionend":return sI(e);case"keypress":return e.which!==32?null:(C_=!0,S_);case"textInput":return t=e.data,t===S_&&C_?null:t;default:return null}}function UP(t,e){if(Fs)return t==="compositionend"||!ig&&iI(t,e)?(t=nI(),ic=tg=Gr=null,Fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rI&&e.locale!=="ko"?null:e.data;default:return null}}var FP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FP[t.type]:e==="textarea"}function oI(t,e,n,r){VT(r),e=Oc(e,"onChange"),0<e.length&&(n=new ng("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fa=null,al=null;function BP(t){vI(t,0)}function Dd(t){var e=Hs(t);if(PT(e))return t}function zP(t,e){if(t==="change")return e}var aI=!1;if(gr){var lf;if(gr){var uf="oninput"in document;if(!uf){var R_=document.createElement("div");R_.setAttribute("oninput","return;"),uf=typeof R_.oninput=="function"}lf=uf}else lf=!1;aI=lf&&(!document.documentMode||9<document.documentMode)}function b_(){Fa&&(Fa.detachEvent("onpropertychange",lI),al=Fa=null)}function lI(t){if(t.propertyName==="value"&&Dd(al)){var e=[];oI(e,al,t,Ym(t)),FT(BP,e)}}function HP(t,e,n){t==="focusin"?(b_(),Fa=e,al=n,Fa.attachEvent("onpropertychange",lI)):t==="focusout"&&b_()}function WP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dd(al)}function KP(t,e){if(t==="click")return Dd(e)}function qP(t,e){if(t==="input"||t==="change")return Dd(e)}function GP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:GP;function ll(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!op.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function k_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P_(t,e){var n=k_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k_(n)}}function uI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cI(){for(var t=window,e=Ac();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ac(t.document)}return e}function sg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QP(t){var e=cI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uI(n.ownerDocument.documentElement,n)){if(r!==null&&sg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=P_(n,s);var o=P_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YP=gr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Cp=null,Ba=null,Ap=!1;function N_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ap||Bs==null||Bs!==Ac(r)||(r=Bs,"selectionStart"in r&&sg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ba&&ll(Ba,r)||(Ba=r,r=Oc(Cp,"onSelect"),0<r.length&&(e=new ng("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},cf={},dI={};gr&&(dI=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Ld(t){if(cf[t])return cf[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dI)return cf[t]=e[n];return t}var hI=Ld("animationend"),fI=Ld("animationiteration"),pI=Ld("animationstart"),mI=Ld("transitionend"),gI=new Map,x_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(t,e){gI.set(t,e),us(e,[t])}for(var df=0;df<x_.length;df++){var hf=x_[df],XP=hf.toLowerCase(),JP=hf[0].toUpperCase()+hf.slice(1);Ci(XP,"on"+JP)}Ci(hI,"onAnimationEnd");Ci(fI,"onAnimationIteration");Ci(pI,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(mI,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function O_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Xk(r,e,void 0,t),t.currentTarget=null}function vI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;O_(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;O_(i,a,c),s=u}}}if(bc)throw t=wp,bc=!1,wp=null,t}function Ne(t,e){var n=e[Np];n===void 0&&(n=e[Np]=new Set);var r=t+"__bubble";n.has(r)||(yI(e,t,2,!1),n.add(r))}function ff(t,e,n){var r=0;e&&(r|=4),yI(n,t,r,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[Pu]){t[Pu]=!0,CT.forEach(function(n){n!=="selectionchange"&&(ZP.has(n)||ff(n,!1,t),ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,ff("selectionchange",!1,e))}}function yI(t,e,n,r){switch(tI(e)){case 1:var i=fP;break;case 4:i=pP;break;default:i=eg}n=i.bind(null,e,n,t),i=void 0,!Ep||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$i(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FT(function(){var c=s,d=Ym(n),f=[];e:{var m=gI.get(t);if(m!==void 0){var _=ng,C=t;switch(t){case"keypress":if(sc(n)===0)break e;case"keydown":case"keyup":_=kP;break;case"focusin":C="focus",_=af;break;case"focusout":C="blur",_=af;break;case"beforeblur":case"afterblur":_=af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=w_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=vP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=xP;break;case hI:case fI:case pI:_=EP;break;case mI:_=DP;break;case"scroll":_=mP;break;case"wheel":_=MP;break;case"copy":case"cut":case"paste":_=TP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=I_}var R=(e&4)!==0,b=!R&&t==="scroll",T=R?m!==null?m+"Capture":null:m;R=[];for(var E=c,S;E!==null;){S=E;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,T!==null&&(x=rl(E,T),x!=null&&R.push(cl(E,x,S)))),b)break;E=E.return}0<R.length&&(m=new _(m,C,null,n,d),f.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==yp&&(C=n.relatedTarget||n.fromElement)&&($i(C)||C[vr]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=c,C=C?$i(C):null,C!==null&&(b=cs(C),C!==b||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=c),_!==C)){if(R=w_,x="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(R=I_,x="onPointerLeave",T="onPointerEnter",E="pointer"),b=_==null?m:Hs(_),S=C==null?m:Hs(C),m=new R(x,E+"leave",_,n,d),m.target=b,m.relatedTarget=S,x=null,$i(d)===c&&(R=new R(T,E+"enter",C,n,d),R.target=S,R.relatedTarget=b,x=R),b=x,_&&C)t:{for(R=_,T=C,E=0,S=R;S;S=As(S))E++;for(S=0,x=T;x;x=As(x))S++;for(;0<E-S;)R=As(R),E--;for(;0<S-E;)T=As(T),S--;for(;E--;){if(R===T||T!==null&&R===T.alternate)break t;R=As(R),T=As(T)}R=null}else R=null;_!==null&&D_(f,m,_,R,!1),C!==null&&b!==null&&D_(f,b,C,R,!0)}}e:{if(m=c?Hs(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var M=zP;else if(A_(m))if(aI)M=qP;else{M=WP;var L=HP}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=KP);if(M&&(M=M(t,c))){oI(f,M,n,d);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&fp(m,"number",m.value)}switch(L=c?Hs(c):window,t){case"focusin":(A_(L)||L.contentEditable==="true")&&(Bs=L,Cp=c,Ba=null);break;case"focusout":Ba=Cp=Bs=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,N_(f,n,d);break;case"selectionchange":if(YP)break;case"keydown":case"keyup":N_(f,n,d)}var I;if(ig)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Fs?iI(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(rI&&n.locale!=="ko"&&(Fs||y!=="onCompositionStart"?y==="onCompositionEnd"&&Fs&&(I=nI()):(Gr=d,tg="value"in Gr?Gr.value:Gr.textContent,Fs=!0)),L=Oc(c,y),0<L.length&&(y=new T_(y,t,null,n,d),f.push({event:y,listeners:L}),I?y.data=I:(I=sI(n),I!==null&&(y.data=I)))),(I=jP?$P(t,n):UP(t,n))&&(c=Oc(c,"onBeforeInput"),0<c.length&&(d=new T_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=I))}vI(f,e)})}function cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rl(t,n),s!=null&&r.unshift(cl(t,s,i)),s=rl(t,e),s!=null&&r.push(cl(t,s,i))),t=t.return}return r}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=rl(n,s),u!=null&&o.unshift(cl(n,u,a))):i||(u=rl(n,s),u!=null&&o.push(cl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(eN,`
`).replace(tN,"")}function Nu(t,e,n){if(e=L_(e),L_(t)!==e&&n)throw Error(B(425))}function Dc(){}var Rp=null,bp=null;function kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(t){return M_.resolve(null).then(t).catch(iN)}:Pp;function iN(t){setTimeout(function(){throw t})}function mf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ol(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function V_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Uo,dl="__reactProps$"+Uo,vr="__reactContainer$"+Uo,Np="__reactEvents$"+Uo,sN="__reactListeners$"+Uo,oN="__reactHandles$"+Uo;function $i(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=V_(t);t!==null;){if(n=t[Vn])return n;t=V_(t)}return e}t=n,n=t.parentNode}return null}function Vl(t){return t=t[Vn]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Md(t){return t[dl]||null}var xp=[],Ws=-1;function Ai(t){return{current:t}}function xe(t){0>Ws||(t.current=xp[Ws],xp[Ws]=null,Ws--)}function ke(t,e){Ws++,xp[Ws]=t.current,t.current=e}var mi={},It=Ai(mi),jt=Ai(!1),Xi=mi;function ho(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function Lc(){xe(jt),xe(It)}function j_(t,e,n){if(It.current!==mi)throw Error(B(168));ke(It,e),ke(jt,n)}function _I(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,Hk(t)||"Unknown",i));return Me({},n,r)}function Mc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,Xi=It.current,ke(It,t),ke(jt,jt.current),!0}function $_(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=_I(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,xe(jt),xe(It),ke(It,t)):xe(jt),ke(jt,n)}var nr=null,Vd=!1,gf=!1;function EI(t){nr===null?nr=[t]:nr.push(t)}function aN(t){Vd=!0,EI(t)}function Ri(){if(!gf&&nr!==null){gf=!0;var t=0,e=Re;try{var n=nr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,Vd=!1}catch(i){throw nr!==null&&(nr=nr.slice(t+1)),WT(Xm,Ri),i}finally{Re=e,gf=!1}}return null}var Ks=[],qs=0,Vc=null,jc=0,on=[],an=0,Ji=null,or=1,ar="";function Mi(t,e){Ks[qs++]=jc,Ks[qs++]=Vc,Vc=t,jc=e}function wI(t,e,n){on[an++]=or,on[an++]=ar,on[an++]=Ji,Ji=t;var r=or;t=ar;var i=32-Rn(r)-1;r&=~(1<<i),n+=1;var s=32-Rn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,or=1<<32-Rn(e)+i|n<<i|r,ar=s+t}else or=1<<s|n<<i|r,ar=t}function og(t){t.return!==null&&(Mi(t,1),wI(t,1,0))}function ag(t){for(;t===Vc;)Vc=Ks[--qs],Ks[qs]=null,jc=Ks[--qs],Ks[qs]=null;for(;t===Ji;)Ji=on[--an],on[an]=null,ar=on[--an],on[an]=null,or=on[--an],on[an]=null}var Gt=null,qt=null,Oe=!1,In=null;function TI(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function U_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,qt=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ji!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,qt=null,!0):!1;default:return!1}}function Op(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dp(t){if(Oe){var e=qt;if(e){var n=e;if(!U_(t,e)){if(Op(t))throw Error(B(418));e=ni(n.nextSibling);var r=Gt;e&&U_(t,e)?TI(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Gt=t)}}else{if(Op(t))throw Error(B(418));t.flags=t.flags&-4097|2,Oe=!1,Gt=t}}}function F_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function xu(t){if(t!==Gt)return!1;if(!Oe)return F_(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kp(t.type,t.memoizedProps)),e&&(e=qt)){if(Op(t))throw II(),Error(B(418));for(;e;)TI(t,e),e=ni(e.nextSibling)}if(F_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Gt?ni(t.stateNode.nextSibling):null;return!0}function II(){for(var t=qt;t;)t=ni(t.nextSibling)}function fo(){qt=Gt=null,Oe=!1}function lg(t){In===null?In=[t]:In.push(t)}var lN=br.ReactCurrentBatchConfig;function Ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ou(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B_(t){var e=t._init;return e(t._payload)}function SI(t){function e(T,E){if(t){var S=T.deletions;S===null?(T.deletions=[E],T.flags|=16):S.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function i(T,E){return T=oi(T,E),T.index=0,T.sibling=null,T}function s(T,E,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<E?(T.flags|=2,E):S):(T.flags|=2,E)):(T.flags|=1048576,E)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,E,S,x){return E===null||E.tag!==6?(E=If(S,T.mode,x),E.return=T,E):(E=i(E,S),E.return=T,E)}function u(T,E,S,x){var M=S.type;return M===Us?d(T,E,S.props.children,x,S.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ur&&B_(M)===E.type)?(x=i(E,S.props),x.ref=Ea(T,E,S),x.return=T,x):(x=hc(S.type,S.key,S.props,null,T.mode,x),x.ref=Ea(T,E,S),x.return=T,x)}function c(T,E,S,x){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Sf(S,T.mode,x),E.return=T,E):(E=i(E,S.children||[]),E.return=T,E)}function d(T,E,S,x,M){return E===null||E.tag!==7?(E=Gi(S,T.mode,x,M),E.return=T,E):(E=i(E,S),E.return=T,E)}function f(T,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=If(""+E,T.mode,S),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Tu:return S=hc(E.type,E.key,E.props,null,T.mode,S),S.ref=Ea(T,null,E),S.return=T,S;case $s:return E=Sf(E,T.mode,S),E.return=T,E;case Ur:var x=E._init;return f(T,x(E._payload),S)}if(ka(E)||ma(E))return E=Gi(E,T.mode,S,null),E.return=T,E;Ou(T,E)}return null}function m(T,E,S,x){var M=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:a(T,E,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tu:return S.key===M?u(T,E,S,x):null;case $s:return S.key===M?c(T,E,S,x):null;case Ur:return M=S._init,m(T,E,M(S._payload),x)}if(ka(S)||ma(S))return M!==null?null:d(T,E,S,x,null);Ou(T,S)}return null}function _(T,E,S,x,M){if(typeof x=="string"&&x!==""||typeof x=="number")return T=T.get(S)||null,a(E,T,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tu:return T=T.get(x.key===null?S:x.key)||null,u(E,T,x,M);case $s:return T=T.get(x.key===null?S:x.key)||null,c(E,T,x,M);case Ur:var L=x._init;return _(T,E,S,L(x._payload),M)}if(ka(x)||ma(x))return T=T.get(S)||null,d(E,T,x,M,null);Ou(E,x)}return null}function C(T,E,S,x){for(var M=null,L=null,I=E,y=E=0,A=null;I!==null&&y<S.length;y++){I.index>y?(A=I,I=null):A=I.sibling;var P=m(T,I,S[y],x);if(P===null){I===null&&(I=A);break}t&&I&&P.alternate===null&&e(T,I),E=s(P,E,y),L===null?M=P:L.sibling=P,L=P,I=A}if(y===S.length)return n(T,I),Oe&&Mi(T,y),M;if(I===null){for(;y<S.length;y++)I=f(T,S[y],x),I!==null&&(E=s(I,E,y),L===null?M=I:L.sibling=I,L=I);return Oe&&Mi(T,y),M}for(I=r(T,I);y<S.length;y++)A=_(I,T,y,S[y],x),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?y:A.key),E=s(A,E,y),L===null?M=A:L.sibling=A,L=A);return t&&I.forEach(function(N){return e(T,N)}),Oe&&Mi(T,y),M}function R(T,E,S,x){var M=ma(S);if(typeof M!="function")throw Error(B(150));if(S=M.call(S),S==null)throw Error(B(151));for(var L=M=null,I=E,y=E=0,A=null,P=S.next();I!==null&&!P.done;y++,P=S.next()){I.index>y?(A=I,I=null):A=I.sibling;var N=m(T,I,P.value,x);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(T,I),E=s(N,E,y),L===null?M=N:L.sibling=N,L=N,I=A}if(P.done)return n(T,I),Oe&&Mi(T,y),M;if(I===null){for(;!P.done;y++,P=S.next())P=f(T,P.value,x),P!==null&&(E=s(P,E,y),L===null?M=P:L.sibling=P,L=P);return Oe&&Mi(T,y),M}for(I=r(T,I);!P.done;y++,P=S.next())P=_(I,T,y,P.value,x),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?y:P.key),E=s(P,E,y),L===null?M=P:L.sibling=P,L=P);return t&&I.forEach(function(O){return e(T,O)}),Oe&&Mi(T,y),M}function b(T,E,S,x){if(typeof S=="object"&&S!==null&&S.type===Us&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Tu:e:{for(var M=S.key,L=E;L!==null;){if(L.key===M){if(M=S.type,M===Us){if(L.tag===7){n(T,L.sibling),E=i(L,S.props.children),E.return=T,T=E;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ur&&B_(M)===L.type){n(T,L.sibling),E=i(L,S.props),E.ref=Ea(T,L,S),E.return=T,T=E;break e}n(T,L);break}else e(T,L);L=L.sibling}S.type===Us?(E=Gi(S.props.children,T.mode,x,S.key),E.return=T,T=E):(x=hc(S.type,S.key,S.props,null,T.mode,x),x.ref=Ea(T,E,S),x.return=T,T=x)}return o(T);case $s:e:{for(L=S.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(T,E.sibling),E=i(E,S.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=Sf(S,T.mode,x),E.return=T,T=E}return o(T);case Ur:return L=S._init,b(T,E,L(S._payload),x)}if(ka(S))return C(T,E,S,x);if(ma(S))return R(T,E,S,x);Ou(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(T,E.sibling),E=i(E,S),E.return=T,T=E):(n(T,E),E=If(S,T.mode,x),E.return=T,T=E),o(T)):n(T,E)}return b}var po=SI(!0),CI=SI(!1),$c=Ai(null),Uc=null,Gs=null,ug=null;function cg(){ug=Gs=Uc=null}function dg(t){var e=$c.current;xe($c),t._currentValue=e}function Lp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){Uc=t,ug=Gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(ug!==t)if(t={context:t,memoizedValue:e,next:null},Gs===null){if(Uc===null)throw Error(B(308));Gs=t,Uc.dependencies={lanes:0,firstContext:t}}else Gs=Gs.next=t;return e}var Ui=null;function hg(t){Ui===null?Ui=[t]:Ui.push(t)}function AI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hg(e)):(n.next=i.next,i.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function fg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yr(t,n)}return i=r.interleaved,i===null?(e.next=e,hg(r)):(e.next=i.next,i.next=e),r.interleaved=e,yr(t,n)}function oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jm(t,n)}}function z_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fc(t,e,n,r){var i=t.updateQueue;Fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,_=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,R=a;switch(m=e,_=n,R.tag){case 1:if(C=R.payload,typeof C=="function"){f=C.call(_,f,m);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=R.payload,m=typeof C=="function"?C.call(_,f,m):C,m==null)break e;f=Me({},f,m);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else _={eventTime:_,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=_,u=f):d=d.next=_,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=f}}function H_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var jl={},$n=Ai(jl),hl=Ai(jl),fl=Ai(jl);function Fi(t){if(t===jl)throw Error(B(174));return t}function pg(t,e){switch(ke(fl,e),ke(hl,t),ke($n,jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mp(e,t)}xe($n),ke($n,e)}function mo(){xe($n),xe(hl),xe(fl)}function bI(t){Fi(fl.current);var e=Fi($n.current),n=mp(e,t.type);e!==n&&(ke(hl,t),ke($n,n))}function mg(t){hl.current===t&&(xe($n),xe(hl))}var De=Ai(0);function Bc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vf=[];function gg(){for(var t=0;t<vf.length;t++)vf[t]._workInProgressVersionPrimary=null;vf.length=0}var ac=br.ReactCurrentDispatcher,yf=br.ReactCurrentBatchConfig,Zi=0,Le=null,Xe=null,it=null,zc=!1,za=!1,pl=0,uN=0;function gt(){throw Error(B(321))}function vg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function yg(t,e,n,r,i,s){if(Zi=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ac.current=t===null||t.memoizedState===null?fN:pN,t=n(r,i),za){s=0;do{if(za=!1,pl=0,25<=s)throw Error(B(301));s+=1,it=Xe=null,e.updateQueue=null,ac.current=mN,t=n(r,i)}while(za)}if(ac.current=Hc,e=Xe!==null&&Xe.next!==null,Zi=0,it=Xe=Le=null,zc=!1,e)throw Error(B(300));return t}function _g(){var t=pl!==0;return pl=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Le.memoizedState=it=t:it=it.next=t,it}function mn(){if(Xe===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=it===null?Le.memoizedState:it.next;if(e!==null)it=e,Xe=t;else{if(t===null)throw Error(B(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},it===null?Le.memoizedState=it=t:it=it.next=t}return it}function ml(t,e){return typeof e=="function"?e(t):e}function _f(t){var e=mn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((Zi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Le.lanes|=d,es|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Pn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,es|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ef(t){var e=mn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(Vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kI(){}function PI(t,e){var n=Le,r=mn(),i=e(),s=!Pn(r.memoizedState,i);if(s&&(r.memoizedState=i,Vt=!0),r=r.queue,Eg(OI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,gl(9,xI.bind(null,n,r,i,e),void 0,null),st===null)throw Error(B(349));Zi&30||NI(n,e,i)}return i}function NI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xI(t,e,n,r){e.value=n,e.getSnapshot=r,DI(e)&&LI(t)}function OI(t,e,n){return n(function(){DI(e)&&LI(t)})}function DI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function LI(t){var e=yr(t,1);e!==null&&bn(e,t,1,-1)}function W_(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},e.queue=t,t=t.dispatch=hN.bind(null,Le,t),[e.memoizedState,t]}function gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MI(){return mn().memoizedState}function lc(t,e,n,r){var i=Ln();Le.flags|=t,i.memoizedState=gl(1|e,n,void 0,r===void 0?null:r)}function jd(t,e,n,r){var i=mn();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&vg(r,o.deps)){i.memoizedState=gl(e,n,s,r);return}}Le.flags|=t,i.memoizedState=gl(1|e,n,s,r)}function K_(t,e){return lc(8390656,8,t,e)}function Eg(t,e){return jd(2048,8,t,e)}function VI(t,e){return jd(4,2,t,e)}function jI(t,e){return jd(4,4,t,e)}function $I(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UI(t,e,n){return n=n!=null?n.concat([t]):null,jd(4,4,$I.bind(null,e,t),n)}function wg(){}function FI(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function BI(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zI(t,e,n){return Zi&21?(Pn(n,e)||(n=GT(),Le.lanes|=n,es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function cN(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=yf.transition;yf.transition={};try{t(!1),e()}finally{Re=n,yf.transition=r}}function HI(){return mn().memoizedState}function dN(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WI(t))KI(e,n);else if(n=AI(t,e,n,r),n!==null){var i=Rt();bn(n,t,r,i),qI(n,e,r)}}function hN(t,e,n){var r=si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WI(t))KI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,o)){var u=e.interleaved;u===null?(i.next=i,hg(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=AI(t,e,i,r),n!==null&&(i=Rt(),bn(n,t,r,i),qI(n,e,r))}}function WI(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function KI(t,e){za=zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jm(t,n)}}var Hc={readContext:pn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},fN={readContext:pn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:K_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lc(4194308,4,$I.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return lc(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dN.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:W_,useDebugValue:wg,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=W_(!1),e=t[0];return t=cN.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Ln();if(Oe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),st===null)throw Error(B(349));Zi&30||NI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,K_(OI.bind(null,r,s,t),[t]),r.flags|=2048,gl(9,xI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=st.identifierPrefix;if(Oe){var n=ar,r=or;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pN={readContext:pn,useCallback:FI,useContext:pn,useEffect:Eg,useImperativeHandle:UI,useInsertionEffect:VI,useLayoutEffect:jI,useMemo:BI,useReducer:_f,useRef:MI,useState:function(){return _f(ml)},useDebugValue:wg,useDeferredValue:function(t){var e=mn();return zI(e,Xe.memoizedState,t)},useTransition:function(){var t=_f(ml)[0],e=mn().memoizedState;return[t,e]},useMutableSource:kI,useSyncExternalStore:PI,useId:HI,unstable_isNewReconciler:!1},mN={readContext:pn,useCallback:FI,useContext:pn,useEffect:Eg,useImperativeHandle:UI,useInsertionEffect:VI,useLayoutEffect:jI,useMemo:BI,useReducer:Ef,useRef:MI,useState:function(){return Ef(ml)},useDebugValue:wg,useDeferredValue:function(t){var e=mn();return Xe===null?e.memoizedState=t:zI(e,Xe.memoizedState,t)},useTransition:function(){var t=Ef(ml)[0],e=mn().memoizedState;return[t,e]},useMutableSource:kI,useSyncExternalStore:PI,useId:HI,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $d={isMounted:function(t){return(t=t._reactInternals)?cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=si(t),s=dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(bn(e,t,i,r),oc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=si(t),s=dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(bn(e,t,i,r),oc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=si(t),i=dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ri(t,i,r),e!==null&&(bn(e,t,r,n),oc(e,t,r))}};function q_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(i,s):!0}function GI(t,e,n){var r=!1,i=mi,s=e.contextType;return typeof s=="object"&&s!==null?s=pn(s):(i=$t(e)?Xi:It.current,r=e.contextTypes,s=(r=r!=null)?ho(t,i):mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$d,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function G_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$d.enqueueReplaceState(e,e.state,null)}function Vp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pn(s):(s=$t(e)?Xi:It.current,i.context=ho(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$d.enqueueReplaceState(i,i.state,null),Fc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function go(t,e){try{var n="",r=e;do n+=zk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gN=typeof WeakMap=="function"?WeakMap:Map;function QI(t,e,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kc||(Kc=!0,Gp=r),jp(t,e)},n}function YI(t,e,n){n=dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jp(t,e),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Q_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=PN.bind(null,t,e,n),e.then(t,t))}function Y_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function X_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dr(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var vN=br.ReactCurrentOwner,Vt=!1;function At(t,e,n,r){e.child=t===null?CI(e,null,n,r):po(e,t.child,n,r)}function J_(t,e,n,r,i){n=n.render;var s=e.ref;return ro(e,i),r=yg(t,e,n,r,s,i),n=_g(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(Oe&&n&&og(e),e.flags|=1,At(t,e,r,i),e.child)}function Z_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,XI(t,e,s,r,i)):(t=hc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(o,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=oi(s,r),t.ref=e.ref,t.return=e,e.child=t}function XI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ll(s,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return $p(t,e,n,r,i)}function JI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Ys,Kt),Kt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Ys,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Ys,Kt),Kt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(Ys,Kt),Kt|=r;return At(t,e,i,n),e.child}function ZI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $p(t,e,n,r,i){var s=$t(n)?Xi:It.current;return s=ho(e,s),ro(e,i),n=yg(t,e,n,r,s,i),r=_g(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(Oe&&r&&og(e),e.flags|=1,At(t,e,n,i),e.child)}function eE(t,e,n,r,i){if($t(n)){var s=!0;Mc(e)}else s=!1;if(ro(e,i),e.stateNode===null)uc(t,e),GI(e,n,r),Vp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pn(c):(c=$t(n)?Xi:It.current,c=ho(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&G_(e,o,r,c),Fr=!1;var m=e.memoizedState;o.state=m,Fc(e,r,o,i),u=e.memoizedState,a!==r||m!==u||jt.current||Fr?(typeof d=="function"&&(Mp(e,n,d,r),u=e.memoizedState),(a=Fr||q_(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,RI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=$t(n)?Xi:It.current,u=ho(e,u));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&G_(e,o,r,u),Fr=!1,m=e.memoizedState,o.state=m,Fc(e,r,o,i);var C=e.memoizedState;a!==f||m!==C||jt.current||Fr?(typeof _=="function"&&(Mp(e,n,_,r),C=e.memoizedState),(c=Fr||q_(e,n,c,r,m,C,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Up(t,e,n,r,s,i)}function Up(t,e,n,r,i,s){ZI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$_(e,n,!1),_r(t,e,s);r=e.stateNode,vN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=po(e,t.child,null,s),e.child=po(e,null,a,s)):At(t,e,a,s),e.memoizedState=r.state,i&&$_(e,n,!0),e.child}function eS(t){var e=t.stateNode;e.pendingContext?j_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j_(t,e.context,!1),pg(t,e.containerInfo)}function tE(t,e,n,r,i){return fo(),lg(i),e.flags|=256,At(t,e,n,r),e.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Bp(t){return{baseLanes:t,cachePool:null,transitions:null}}function tS(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(De,i&1),t===null)return Dp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bd(o,r,0,null),t=Gi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bp(n),e.memoizedState=Fp,t):Tg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=oi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oi(a,s):(s=Gi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Bp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fp,r}return s=t.child,t=s.sibling,r=oi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tg(t,e){return e=Bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Du(t,e,n,r){return r!==null&&lg(r),po(e,t.child,null,n),t=Tg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wf(Error(B(422))),Du(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bd({mode:"visible",children:r.children},i,0,null),s=Gi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&po(e,t.child,null,o),e.child.memoizedState=Bp(o),e.memoizedState=Fp,s);if(!(e.mode&1))return Du(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=wf(s,r,void 0),Du(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vt||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yr(t,i),bn(r,t,i,-1))}return bg(),r=wf(Error(B(421))),Du(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=ni(i.nextSibling),Gt=e,Oe=!0,In=null,t!==null&&(on[an++]=or,on[an++]=ar,on[an++]=Ji,or=t.id,ar=t.overflow,Ji=e),e=Tg(e,r.children),e.flags|=4096,e)}function nE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lp(t.return,e,n)}function Tf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(At(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nE(t,n,e);else if(t.tag===19)nE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tf(e,!0,n,null,s);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _N(t,e,n){switch(e.tag){case 3:eS(e),fo();break;case 5:bI(e);break;case 1:$t(e.type)&&Mc(e);break;case 4:pg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke($c,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?tS(t,e,n):(ke(De,De.current&1),t=_r(t,e,n),t!==null?t.sibling:null);ke(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,JI(t,e,n)}return _r(t,e,n)}var rS,zp,iS,sS;rS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zp=function(){};iS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fi($n.current);var s=null;switch(n){case"input":i=dp(t,i),r=dp(t,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=pp(t,i),r=pp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dc)}gp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ne("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};sS=function(t,e,n,r){n!==r&&(e.flags|=4)};function wa(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EN(t,e,n){var r=e.pendingProps;switch(ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return $t(e.type)&&Lc(),vt(e),null;case 3:return r=e.stateNode,mo(),xe(jt),xe(It),gg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(Xp(In),In=null))),zp(t,e),vt(e),null;case 5:mg(e);var i=Fi(fl.current);if(n=e.type,t!==null&&e.stateNode!=null)iS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return vt(e),null}if(t=Fi($n.current),xu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vn]=e,r[dl]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Na.length;i++)Ne(Na[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":d_(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":f_(r,s),Ne("invalid",r)}gp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",""+a]):tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Iu(r),h_(r,s,!0);break;case"textarea":Iu(r),p_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Dc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vn]=e,t[dl]=r,rS(t,e,!1,!1),e.stateNode=t;e:{switch(o=vp(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Na.length;i++)Ne(Na[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":d_(t,r),i=dp(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":f_(t,r),i=pp(t,r),Ne("invalid",t);break;default:i=r}gp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?MT(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&DT(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&nl(t,u):typeof u=="number"&&nl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ne("scroll",t):u!=null&&Km(t,s,u,o))}switch(n){case"input":Iu(t),h_(t,r,!1);break;case"textarea":Iu(t),p_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Dc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)sS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Fi(fl.current),Fi($n.current),xu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:Nu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return vt(e),null;case 13:if(xe(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&qt!==null&&e.mode&1&&!(e.flags&128))II(),fo(),e.flags|=98560,s=!1;else if(s=xu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Vn]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else In!==null&&(Xp(In),In=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Ze===0&&(Ze=3):bg())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return mo(),zp(t,e),t===null&&ul(e.stateNode.containerInfo),vt(e),null;case 10:return dg(e.type._context),vt(e),null;case 17:return $t(e.type)&&Lc(),vt(e),null;case 19:if(xe(De),s=e.memoizedState,s===null)return vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)wa(s,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bc(t),o!==null){for(e.flags|=128,wa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>vo&&(e.flags|=128,r=!0,wa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Bc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return vt(e),null}else 2*We()-s.renderingStartTime>vo&&n!==1073741824&&(e.flags|=128,r=!0,wa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=De.current,ke(De,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Rg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function wN(t,e){switch(ag(e),e.tag){case 1:return $t(e.type)&&Lc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mo(),xe(jt),xe(It),gg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mg(e),null;case 13:if(xe(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(De),null;case 4:return mo(),null;case 10:return dg(e.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var Lu=!1,Et=!1,TN=typeof WeakSet=="function"?WeakSet:Set,q=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function Hp(t,e,n){try{n()}catch(r){$e(t,e,r)}}var rE=!1;function IN(t,e){if(Rp=Nc,t=cI(),sg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)m=f,f=_;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(u=o),(_=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=_}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bp={focusedElem:t,selectionRange:n},Nc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var R=C.memoizedProps,b=C.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?R:wn(e.type,R),b);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){$e(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return C=rE,rE=!1,C}function Ha(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Hp(e,n,s)}i=i.next}while(i!==r)}}function Ud(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oS(t){var e=t.alternate;e!==null&&(t.alternate=null,oS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[dl],delete e[Np],delete e[sN],delete e[oN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aS(t){return t.tag===5||t.tag===3||t.tag===4}function iE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dc));else if(r!==4&&(t=t.child,t!==null))for(Kp(t,e,n),t=t.sibling;t!==null;)Kp(t,e,n),t=t.sibling}function qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qp(t,e,n),t=t.sibling;t!==null;)qp(t,e,n),t=t.sibling}var at=null,Tn=!1;function Vr(t,e,n){for(n=n.child;n!==null;)lS(t,e,n),n=n.sibling}function lS(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(xd,n)}catch{}switch(n.tag){case 5:Et||Qs(n,e);case 6:var r=at,i=Tn;at=null,Vr(t,e,n),at=r,Tn=i,at!==null&&(Tn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(Tn?(t=at,n=n.stateNode,t.nodeType===8?mf(t.parentNode,n):t.nodeType===1&&mf(t,n),ol(t)):mf(at,n.stateNode));break;case 4:r=at,i=Tn,at=n.stateNode.containerInfo,Tn=!0,Vr(t,e,n),at=r,Tn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Hp(n,e,o),i=i.next}while(i!==r)}Vr(t,e,n);break;case 1:if(!Et&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Vr(t,e,n),Et=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function sE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TN),e.forEach(function(r){var i=xN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,Tn=!1;break e;case 3:at=a.stateNode.containerInfo,Tn=!0;break e;case 4:at=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(at===null)throw Error(B(160));lS(s,o,i),at=null,Tn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){$e(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uS(e,t),e=e.sibling}function uS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Dn(t),r&4){try{Ha(3,t,t.return),Ud(3,t)}catch(R){$e(t,t.return,R)}try{Ha(5,t,t.return)}catch(R){$e(t,t.return,R)}}break;case 1:En(e,t),Dn(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(En(e,t),Dn(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var i=t.stateNode;try{nl(i,"")}catch(R){$e(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NT(i,s),vp(a,o);var c=vp(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?MT(i,f):d==="dangerouslySetInnerHTML"?DT(i,f):d==="children"?nl(i,f):Km(i,d,f,c)}switch(a){case"input":hp(i,s);break;case"textarea":xT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Zs(i,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?Zs(i,!!s.multiple,s.defaultValue,!0):Zs(i,!!s.multiple,s.multiple?[]:"",!1))}i[dl]=s}catch(R){$e(t,t.return,R)}}break;case 6:if(En(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){$e(t,t.return,R)}}break;case 3:if(En(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ol(e.containerInfo)}catch(R){$e(t,t.return,R)}break;case 4:En(e,t),Dn(t);break;case 13:En(e,t),Dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cg=We())),r&4&&sE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(c=Et)||d,En(e,t),Et=c):En(e,t),Dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(f=q=d;q!==null;){switch(m=q,_=m.child,m.tag){case 0:case 11:case 14:case 15:Ha(4,m,m.return);break;case 1:Qs(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(R){$e(r,n,R)}}break;case 5:Qs(m,m.return);break;case 22:if(m.memoizedState!==null){aE(f);continue}}_!==null?(_.return=m,q=_):aE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=LT("display",o))}catch(R){$e(t,t.return,R)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(R){$e(t,t.return,R)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(e,t),Dn(t),r&4&&sE(t);break;case 21:break;default:En(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nl(i,""),r.flags&=-33);var s=iE(t);qp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=iE(t);Kp(t,a,o);break;default:throw Error(B(161))}}catch(u){$e(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SN(t,e,n){q=t,cS(t)}function cS(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Lu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Et;a=Lu;var c=Et;if(Lu=o,(Et=u)&&!c)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?lE(i):u!==null?(u.return=o,q=u):lE(i);for(;s!==null;)q=s,cS(s),s=s.sibling;q=i,Lu=a,Et=c}oE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):oE(t)}}function oE(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Ud(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&H_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}H_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ol(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Et||e.flags&512&&Wp(e)}catch(m){$e(e,e.return,m)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function aE(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function lE(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ud(4,e)}catch(u){$e(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){$e(e,i,u)}}var s=e.return;try{Wp(e)}catch(u){$e(e,s,u)}break;case 5:var o=e.return;try{Wp(e)}catch(u){$e(e,o,u)}}}catch(u){$e(e,e.return,u)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var CN=Math.ceil,Wc=br.ReactCurrentDispatcher,Ig=br.ReactCurrentOwner,dn=br.ReactCurrentBatchConfig,we=0,st=null,Ge=null,dt=0,Kt=0,Ys=Ai(0),Ze=0,vl=null,es=0,Fd=0,Sg=0,Wa=null,Dt=null,Cg=0,vo=1/0,tr=null,Kc=!1,Gp=null,ii=null,Mu=!1,Qr=null,qc=0,Ka=0,Qp=null,cc=-1,dc=0;function Rt(){return we&6?We():cc!==-1?cc:cc=We()}function si(t){return t.mode&1?we&2&&dt!==0?dt&-dt:lN.transition!==null?(dc===0&&(dc=GT()),dc):(t=Re,t!==0||(t=window.event,t=t===void 0?16:tI(t.type)),t):1}function bn(t,e,n,r){if(50<Ka)throw Ka=0,Qp=null,Error(B(185));Ll(t,n,r),(!(we&2)||t!==st)&&(t===st&&(!(we&2)&&(Fd|=n),Ze===4&&Hr(t,dt)),Ut(t,r),n===1&&we===0&&!(e.mode&1)&&(vo=We()+500,Vd&&Ri()))}function Ut(t,e){var n=t.callbackNode;lP(t,e);var r=Pc(t,t===st?dt:0);if(r===0)n!==null&&v_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v_(n),e===1)t.tag===0?aN(uE.bind(null,t)):EI(uE.bind(null,t)),rN(function(){!(we&6)&&Ri()}),n=null;else{switch(QT(r)){case 1:n=Xm;break;case 4:n=KT;break;case 16:n=kc;break;case 536870912:n=qT;break;default:n=kc}n=yS(n,dS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dS(t,e){if(cc=-1,dc=0,we&6)throw Error(B(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=Pc(t,t===st?dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gc(t,r);else{e=r;var i=we;we|=2;var s=fS();(st!==t||dt!==e)&&(tr=null,vo=We()+500,qi(t,e));do try{bN();break}catch(a){hS(t,a)}while(!0);cg(),Wc.current=s,we=i,Ge!==null?e=0:(st=null,dt=0,e=Ze)}if(e!==0){if(e===2&&(i=Tp(t),i!==0&&(r=i,e=Yp(t,i))),e===1)throw n=vl,qi(t,0),Hr(t,r),Ut(t,We()),n;if(e===6)Hr(t,r);else{if(i=t.current.alternate,!(r&30)&&!AN(i)&&(e=Gc(t,r),e===2&&(s=Tp(t),s!==0&&(r=s,e=Yp(t,s))),e===1))throw n=vl,qi(t,0),Hr(t,r),Ut(t,We()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Vi(t,Dt,tr);break;case 3:if(Hr(t,r),(r&130023424)===r&&(e=Cg+500-We(),10<e)){if(Pc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pp(Vi.bind(null,t,Dt,tr),e);break}Vi(t,Dt,tr);break;case 4:if(Hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CN(r/1960))-r,10<r){t.timeoutHandle=Pp(Vi.bind(null,t,Dt,tr),r);break}Vi(t,Dt,tr);break;case 5:Vi(t,Dt,tr);break;default:throw Error(B(329))}}}return Ut(t,We()),t.callbackNode===n?dS.bind(null,t):null}function Yp(t,e){var n=Wa;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=Gc(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&Xp(e)),t}function Xp(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function AN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~Sg,e&=~Fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function uE(t){if(we&6)throw Error(B(327));io();var e=Pc(t,0);if(!(e&1))return Ut(t,We()),null;var n=Gc(t,e);if(t.tag!==0&&n===2){var r=Tp(t);r!==0&&(e=r,n=Yp(t,r))}if(n===1)throw n=vl,qi(t,0),Hr(t,e),Ut(t,We()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vi(t,Dt,tr),Ut(t,We()),null}function Ag(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(vo=We()+500,Vd&&Ri())}}function ts(t){Qr!==null&&Qr.tag===0&&!(we&6)&&io();var e=we;we|=1;var n=dn.transition,r=Re;try{if(dn.transition=null,Re=1,t)return t()}finally{Re=r,dn.transition=n,we=e,!(we&6)&&Ri()}}function Rg(){Kt=Ys.current,xe(Ys)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nN(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lc();break;case 3:mo(),xe(jt),xe(It),gg();break;case 5:mg(r);break;case 4:mo();break;case 13:xe(De);break;case 19:xe(De);break;case 10:dg(r.type._context);break;case 22:case 23:Rg()}n=n.return}if(st=t,Ge=t=oi(t.current,null),dt=Kt=e,Ze=0,vl=null,Sg=Fd=es=0,Dt=Wa=null,Ui!==null){for(e=0;e<Ui.length;e++)if(n=Ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ui=null}return t}function hS(t,e){do{var n=Ge;try{if(cg(),ac.current=Hc,zc){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zc=!1}if(Zi=0,it=Xe=Le=null,za=!1,pl=0,Ig.current=null,n===null||n.return===null){Ze=1,vl=e,Ge=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=dt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Y_(o);if(_!==null){_.flags&=-257,X_(_,o,a,s,e),_.mode&1&&Q_(s,c,e),e=_,u=c;var C=e.updateQueue;if(C===null){var R=new Set;R.add(u),e.updateQueue=R}else C.add(u);break e}else{if(!(e&1)){Q_(s,c,e),bg();break e}u=Error(B(426))}}else if(Oe&&a.mode&1){var b=Y_(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),X_(b,o,a,s,e),lg(go(u,a));break e}}s=u=go(u,a),Ze!==4&&(Ze=2),Wa===null?Wa=[s]:Wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=QI(s,u,e);z_(s,T);break e;case 1:a=u;var E=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ii===null||!ii.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=YI(s,a,e);z_(s,x);break e}}s=s.return}while(s!==null)}mS(n)}catch(M){e=M,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function fS(){var t=Wc.current;return Wc.current=Hc,t===null?Hc:t}function bg(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),st===null||!(es&268435455)&&!(Fd&268435455)||Hr(st,dt)}function Gc(t,e){var n=we;we|=2;var r=fS();(st!==t||dt!==e)&&(tr=null,qi(t,e));do try{RN();break}catch(i){hS(t,i)}while(!0);if(cg(),we=n,Wc.current=r,Ge!==null)throw Error(B(261));return st=null,dt=0,Ze}function RN(){for(;Ge!==null;)pS(Ge)}function bN(){for(;Ge!==null&&!Zk();)pS(Ge)}function pS(t){var e=vS(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?mS(t):Ge=e,Ig.current=null}function mS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wN(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Ge=null;return}}else if(n=EN(n,e,Kt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Ze===0&&(Ze=5)}function Vi(t,e,n){var r=Re,i=dn.transition;try{dn.transition=null,Re=1,kN(t,e,n,r)}finally{dn.transition=i,Re=r}return null}function kN(t,e,n,r){do io();while(Qr!==null);if(we&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uP(t,s),t===st&&(Ge=st=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mu||(Mu=!0,yS(kc,function(){return io(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=Re;Re=1;var a=we;we|=4,Ig.current=null,IN(t,n),uS(n,t),QP(bp),Nc=!!Rp,bp=Rp=null,t.current=n,SN(n),eP(),we=a,Re=o,dn.transition=s}else t.current=n;if(Mu&&(Mu=!1,Qr=t,qc=i),s=t.pendingLanes,s===0&&(ii=null),rP(n.stateNode),Ut(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,t=Gp,Gp=null,t;return qc&1&&t.tag!==0&&io(),s=t.pendingLanes,s&1?t===Qp?Ka++:(Ka=0,Qp=t):Ka=0,Ri(),null}function io(){if(Qr!==null){var t=QT(qc),e=dn.transition,n=Re;try{if(dn.transition=null,Re=16>t?16:t,Qr===null)var r=!1;else{if(t=Qr,Qr=null,qc=0,we&6)throw Error(B(331));var i=we;for(we|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(q=c;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Ha(8,d,s)}var f=d.child;if(f!==null)f.return=d,q=f;else for(;q!==null;){d=q;var m=d.sibling,_=d.return;if(oS(d),d===c){q=null;break}if(m!==null){m.return=_,q=m;break}q=_}}}var C=s.alternate;if(C!==null){var R=C.child;if(R!==null){C.child=null;do{var b=R.sibling;R.sibling=null,R=b}while(R!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ha(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,q=T;break e}q=s.return}}var E=t.current;for(q=E;q!==null;){o=q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,q=S;else e:for(o=E;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ud(9,a)}}catch(M){$e(a,a.return,M)}if(a===o){q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,q=x;break e}q=a.return}}if(we=i,Ri(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(xd,t)}catch{}r=!0}return r}finally{Re=n,dn.transition=e}}return!1}function cE(t,e,n){e=go(n,e),e=QI(t,e,1),t=ri(t,e,1),e=Rt(),t!==null&&(Ll(t,1,e),Ut(t,e))}function $e(t,e,n){if(t.tag===3)cE(t,t,n);else for(;e!==null;){if(e.tag===3){cE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){t=go(n,t),t=YI(e,t,1),e=ri(e,t,1),t=Rt(),e!==null&&(Ll(e,1,t),Ut(e,t));break}}e=e.return}}function PN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(dt&n)===n&&(Ze===4||Ze===3&&(dt&130023424)===dt&&500>We()-Cg?qi(t,0):Sg|=n),Ut(t,e)}function gS(t,e){e===0&&(t.mode&1?(e=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):e=1);var n=Rt();t=yr(t,e),t!==null&&(Ll(t,e,n),Ut(t,n))}function NN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gS(t,n)}function xN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),gS(t,n)}var vS;vS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,_N(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Oe&&e.flags&1048576&&wI(e,jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uc(t,e),t=e.pendingProps;var i=ho(e,It.current);ro(e,n),i=yg(null,e,r,t,i,n);var s=_g();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(s=!0,Mc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fg(e),i.updater=$d,e.stateNode=i,i._reactInternals=e,Vp(e,r,t,n),e=Up(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&og(e),At(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DN(r),t=wn(r,t),i){case 0:e=$p(null,e,r,t,n);break e;case 1:e=eE(null,e,r,t,n);break e;case 11:e=J_(null,e,r,t,n);break e;case 14:e=Z_(null,e,r,wn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),$p(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),eE(t,e,r,i,n);case 3:e:{if(eS(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,RI(t,e),Fc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=go(Error(B(423)),e),e=tE(t,e,r,n,i);break e}else if(r!==i){i=go(Error(B(424)),e),e=tE(t,e,r,n,i);break e}else for(qt=ni(e.stateNode.containerInfo.firstChild),Gt=e,Oe=!0,In=null,n=CI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===i){e=_r(t,e,n);break e}At(t,e,r,n)}e=e.child}return e;case 5:return bI(e),t===null&&Dp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kp(r,i)?o=null:s!==null&&kp(r,s)&&(e.flags|=32),ZI(t,e),At(t,e,o,n),e.child;case 6:return t===null&&Dp(e),null;case 13:return tS(t,e,n);case 4:return pg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):At(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),J_(t,e,r,i,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke($c,r._currentValue),r._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!jt.current){e=_r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=dr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Lp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}At(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ro(e,n),i=pn(i),r=r(i),e.flags|=1,At(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),Z_(t,e,r,i,n);case 15:return XI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),uc(t,e),e.tag=1,$t(r)?(t=!0,Mc(e)):t=!1,ro(e,n),GI(e,r,i),Vp(e,r,i,n),Up(null,e,r,!0,t,n);case 19:return nS(t,e,n);case 22:return JI(t,e,n)}throw Error(B(156,e.tag))};function yS(t,e){return WT(t,e)}function ON(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new ON(t,e,n,r)}function kg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DN(t){if(typeof t=="function")return kg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gm)return 11;if(t===Qm)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Us:return Gi(n.children,i,s,e);case qm:o=8,i|=8;break;case ap:return t=cn(12,n,e,i|2),t.elementType=ap,t.lanes=s,t;case lp:return t=cn(13,n,e,i),t.elementType=lp,t.lanes=s,t;case up:return t=cn(19,n,e,i),t.elementType=up,t.lanes=s,t;case bT:return Bd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AT:o=10;break e;case RT:o=9;break e;case Gm:o=11;break e;case Qm:o=14;break e;case Ur:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Gi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Bd(t,e,n,r){return t=cn(22,t,r,e),t.elementType=bT,t.lanes=n,t.stateNode={isHidden:!1},t}function If(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Sf(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pg(t,e,n,r,i,s,o,a,u){return t=new LN(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fg(s),t}function MN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _S(t){if(!t)return mi;t=t._reactInternals;e:{if(cs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if($t(n))return _I(t,n,e)}return e}function ES(t,e,n,r,i,s,o,a,u){return t=Pg(n,r,!0,t,i,s,o,a,u),t.context=_S(null),n=t.current,r=Rt(),i=si(n),s=dr(r,i),s.callback=e??null,ri(n,s,i),t.current.lanes=i,Ll(t,i,r),Ut(t,r),t}function zd(t,e,n,r){var i=e.current,s=Rt(),o=si(i);return n=_S(n),e.context===null?e.context=n:e.pendingContext=n,e=dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(i,e,o),t!==null&&(bn(t,i,o,s),oc(t,i,o)),o}function Qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ng(t,e){dE(t,e),(t=t.alternate)&&dE(t,e)}function VN(){return null}var wS=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}Hd.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));zd(t,e,null,null)};Hd.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){zd(null,t,null,null)}),e[vr]=null}};function Hd(t){this._internalRoot=t}Hd.prototype.unstable_scheduleHydration=function(t){if(t){var e=JT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zr.length&&e!==0&&e<zr[n].priority;n++);zr.splice(n,0,t),n===0&&eI(t)}};function Og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hE(){}function jN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Qc(o);s.call(c)}}var o=ES(e,r,t,0,null,!1,!1,"",hE);return t._reactRootContainer=o,t[vr]=o.current,ul(t.nodeType===8?t.parentNode:t),ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Qc(u);a.call(c)}}var u=Pg(t,0,!1,null,null,!1,!1,"",hE);return t._reactRootContainer=u,t[vr]=u.current,ul(t.nodeType===8?t.parentNode:t),ts(function(){zd(e,u,n,r)}),u}function Kd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Qc(o);a.call(u)}}zd(e,o,t,i)}else o=jN(n,e,t,i,r);return Qc(o)}YT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pa(e.pendingLanes);n!==0&&(Jm(e,n|1),Ut(e,We()),!(we&6)&&(vo=We()+500,Ri()))}break;case 13:ts(function(){var r=yr(t,1);if(r!==null){var i=Rt();bn(r,t,1,i)}}),Ng(t,1)}};Zm=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Rt();bn(e,t,134217728,n)}Ng(t,134217728)}};XT=function(t){if(t.tag===13){var e=si(t),n=yr(t,e);if(n!==null){var r=Rt();bn(n,t,e,r)}Ng(t,e)}};JT=function(){return Re};ZT=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};_p=function(t,e,n){switch(e){case"input":if(hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Md(r);if(!i)throw Error(B(90));PT(r),hp(r,i)}}}break;case"textarea":xT(t,n);break;case"select":e=n.value,e!=null&&Zs(t,!!n.multiple,e,!1)}};$T=Ag;UT=ts;var $N={usingClientEntryPoint:!1,Events:[Vl,Hs,Md,VT,jT,Ag]},Ta={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UN={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||VN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{xd=Vu.inject(UN),jn=Vu}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$N;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(e))throw Error(B(200));return MN(t,e,null,n)};Zt.createRoot=function(t,e){if(!Og(t))throw Error(B(299));var n=!1,r="",i=wS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pg(t,1,!1,null,null,n,!1,r,i),t[vr]=e.current,ul(t.nodeType===8?t.parentNode:t),new xg(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=zT(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return ts(t)};Zt.hydrate=function(t,e,n){if(!Wd(e))throw Error(B(200));return Kd(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!Og(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ES(e,null,t,1,n??null,i,!1,s,o),t[vr]=e.current,ul(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hd(e)};Zt.render=function(t,e,n){if(!Wd(e))throw Error(B(200));return Kd(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Wd(t))throw Error(B(40));return t._reactRootContainer?(ts(function(){Kd(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};Zt.unstable_batchedUpdates=Ag;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Kd(t,e,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(t){console.error(t)}}TS(),TT.exports=Zt;var IS=TT.exports;const Xs=Ol(IS);var SS,fE=IS;SS=fE.createRoot,fE.hydrateRoot;var bt="top",Yt="bottom",Xt="right",kt="left",qd="auto",Fo=[bt,Yt,Xt,kt],ns="start",yo="end",CS="clippingParents",Dg="viewport",xs="popper",AS="reference",Jp=Fo.reduce(function(t,e){return t.concat([e+"-"+ns,e+"-"+yo])},[]),Lg=[].concat(Fo,[qd]).reduce(function(t,e){return t.concat([e,e+"-"+ns,e+"-"+yo])},[]),RS="beforeRead",bS="read",kS="afterRead",PS="beforeMain",NS="main",xS="afterMain",OS="beforeWrite",DS="write",LS="afterWrite",MS=[RS,bS,kS,PS,NS,xS,OS,DS,LS];function Hn(t){return t?(t.nodeName||"").toLowerCase():null}function Jt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function rs(t){var e=Jt(t).Element;return t instanceof e||t instanceof Element}function hn(t){var e=Jt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Mg(t){if(typeof ShadowRoot>"u")return!1;var e=Jt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function FN(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!hn(s)||!Hn(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function BN(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(u,c){return u[c]="",u},{});!hn(i)||!Hn(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const Vg={name:"applyStyles",enabled:!0,phase:"write",fn:FN,effect:BN,requires:["computeStyles"]};function Un(t){return t.split("-")[0]}var Qi=Math.max,Yc=Math.min,_o=Math.round;function Zp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function VS(){return!/^((?!chrome|android).)*safari/i.test(Zp())}function Eo(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&hn(t)&&(i=t.offsetWidth>0&&_o(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&_o(r.height)/t.offsetHeight||1);var o=rs(t)?Jt(t):window,a=o.visualViewport,u=!VS()&&n,c=(r.left+(u&&a?a.offsetLeft:0))/i,d=(r.top+(u&&a?a.offsetTop:0))/s,f=r.width/i,m=r.height/s;return{width:f,height:m,top:d,right:c+f,bottom:d+m,left:c,x:c,y:d}}function jg(t){var e=Eo(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function jS(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Mg(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Er(t){return Jt(t).getComputedStyle(t)}function zN(t){return["table","td","th"].indexOf(Hn(t))>=0}function bi(t){return((rs(t)?t.ownerDocument:t.document)||window.document).documentElement}function Gd(t){return Hn(t)==="html"?t:t.assignedSlot||t.parentNode||(Mg(t)?t.host:null)||bi(t)}function pE(t){return!hn(t)||Er(t).position==="fixed"?null:t.offsetParent}function HN(t){var e=/firefox/i.test(Zp()),n=/Trident/i.test(Zp());if(n&&hn(t)){var r=Er(t);if(r.position==="fixed")return null}var i=Gd(t);for(Mg(i)&&(i=i.host);hn(i)&&["html","body"].indexOf(Hn(i))<0;){var s=Er(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function $l(t){for(var e=Jt(t),n=pE(t);n&&zN(n)&&Er(n).position==="static";)n=pE(n);return n&&(Hn(n)==="html"||Hn(n)==="body"&&Er(n).position==="static")?e:n||HN(t)||e}function $g(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function qa(t,e,n){return Qi(t,Yc(e,n))}function WN(t,e,n){var r=qa(t,e,n);return r>n?n:r}function $S(){return{top:0,right:0,bottom:0,left:0}}function US(t){return Object.assign({},$S(),t)}function FS(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var KN=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,US(typeof e!="number"?e:FS(e,Fo))};function qN(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Un(n.placement),u=$g(a),c=[kt,Xt].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var f=KN(i.padding,n),m=jg(s),_=u==="y"?bt:kt,C=u==="y"?Yt:Xt,R=n.rects.reference[d]+n.rects.reference[u]-o[u]-n.rects.popper[d],b=o[u]-n.rects.reference[u],T=$l(s),E=T?u==="y"?T.clientHeight||0:T.clientWidth||0:0,S=R/2-b/2,x=f[_],M=E-m[d]-f[C],L=E/2-m[d]/2+S,I=qa(x,L,M),y=u;n.modifiersData[r]=(e={},e[y]=I,e.centerOffset=I-L,e)}}function GN(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||jS(e.elements.popper,i)&&(e.elements.arrow=i))}const Ug={name:"arrow",enabled:!0,phase:"main",fn:qN,effect:GN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wo(t){return t.split("-")[1]}var QN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function YN(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:_o(n*i)/i||0,y:_o(r*i)/i||0}}function mE(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,u=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,m=o.x,_=m===void 0?0:m,C=o.y,R=C===void 0?0:C,b=typeof d=="function"?d({x:_,y:R}):{x:_,y:R};_=b.x,R=b.y;var T=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),S=kt,x=bt,M=window;if(c){var L=$l(n),I="clientHeight",y="clientWidth";if(L===Jt(n)&&(L=bi(n),Er(L).position!=="static"&&a==="absolute"&&(I="scrollHeight",y="scrollWidth")),L=L,i===bt||(i===kt||i===Xt)&&s===yo){x=Yt;var A=f&&L===M&&M.visualViewport?M.visualViewport.height:L[I];R-=A-r.height,R*=u?1:-1}if(i===kt||(i===bt||i===Yt)&&s===yo){S=Xt;var P=f&&L===M&&M.visualViewport?M.visualViewport.width:L[y];_-=P-r.width,_*=u?1:-1}}var N=Object.assign({position:a},c&&QN),O=d===!0?YN({x:_,y:R},Jt(n)):{x:_,y:R};if(_=O.x,R=O.y,u){var k;return Object.assign({},N,(k={},k[x]=E?"0":"",k[S]=T?"0":"",k.transform=(M.devicePixelRatio||1)<=1?"translate("+_+"px, "+R+"px)":"translate3d("+_+"px, "+R+"px, 0)",k))}return Object.assign({},N,(e={},e[x]=E?R+"px":"",e[S]=T?_+"px":"",e.transform="",e))}function XN(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,u=a===void 0?!0:a,c={placement:Un(e.placement),variation:wo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mE(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mE(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Qd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:XN,data:{}};var ju={passive:!0};function JN(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,u=Jt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,ju)}),a&&u.addEventListener("resize",n.update,ju),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,ju)}),a&&u.removeEventListener("resize",n.update,ju)}}const Yd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:JN,data:{}};var ZN={left:"right",right:"left",bottom:"top",top:"bottom"};function fc(t){return t.replace(/left|right|bottom|top/g,function(e){return ZN[e]})}var ex={start:"end",end:"start"};function gE(t){return t.replace(/start|end/g,function(e){return ex[e]})}function Fg(t){var e=Jt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Bg(t){return Eo(bi(t)).left+Fg(t).scrollLeft}function tx(t,e){var n=Jt(t),r=bi(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;var c=VS();(c||!c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a+Bg(t),y:u}}function nx(t){var e,n=bi(t),r=Fg(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Qi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Qi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Bg(t),u=-r.scrollTop;return Er(i||n).direction==="rtl"&&(a+=Qi(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:u}}function zg(t){var e=Er(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function BS(t){return["html","body","#document"].indexOf(Hn(t))>=0?t.ownerDocument.body:hn(t)&&zg(t)?t:BS(Gd(t))}function Ga(t,e){var n;e===void 0&&(e=[]);var r=BS(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Jt(r),o=i?[s].concat(s.visualViewport||[],zg(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ga(Gd(o)))}function em(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rx(t,e){var n=Eo(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function vE(t,e,n){return e===Dg?em(tx(t,n)):rs(e)?rx(e,n):em(nx(bi(t)))}function ix(t){var e=Ga(Gd(t)),n=["absolute","fixed"].indexOf(Er(t).position)>=0,r=n&&hn(t)?$l(t):t;return rs(r)?e.filter(function(i){return rs(i)&&jS(i,r)&&Hn(i)!=="body"}):[]}function sx(t,e,n,r){var i=e==="clippingParents"?ix(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(u,c){var d=vE(t,c,r);return u.top=Qi(d.top,u.top),u.right=Yc(d.right,u.right),u.bottom=Yc(d.bottom,u.bottom),u.left=Qi(d.left,u.left),u},vE(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zS(t){var e=t.reference,n=t.element,r=t.placement,i=r?Un(r):null,s=r?wo(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,u;switch(i){case bt:u={x:o,y:e.y-n.height};break;case Yt:u={x:o,y:e.y+e.height};break;case Xt:u={x:e.x+e.width,y:a};break;case kt:u={x:e.x-n.width,y:a};break;default:u={x:e.x,y:e.y}}var c=i?$g(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case ns:u[c]=u[c]-(e[d]/2-n[d]/2);break;case yo:u[c]=u[c]+(e[d]/2-n[d]/2);break}}return u}function To(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,u=a===void 0?CS:a,c=n.rootBoundary,d=c===void 0?Dg:c,f=n.elementContext,m=f===void 0?xs:f,_=n.altBoundary,C=_===void 0?!1:_,R=n.padding,b=R===void 0?0:R,T=US(typeof b!="number"?b:FS(b,Fo)),E=m===xs?AS:xs,S=t.rects.popper,x=t.elements[C?E:m],M=sx(rs(x)?x:x.contextElement||bi(t.elements.popper),u,d,o),L=Eo(t.elements.reference),I=zS({reference:L,element:S,strategy:"absolute",placement:i}),y=em(Object.assign({},S,I)),A=m===xs?y:L,P={top:M.top-A.top+T.top,bottom:A.bottom-M.bottom+T.bottom,left:M.left-A.left+T.left,right:A.right-M.right+T.right},N=t.modifiersData.offset;if(m===xs&&N){var O=N[i];Object.keys(P).forEach(function(k){var de=[Xt,Yt].indexOf(k)>=0?1:-1,Ie=[bt,Yt].indexOf(k)>=0?"y":"x";P[k]+=O[Ie]*de})}return P}function ox(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?Lg:u,d=wo(r),f=d?a?Jp:Jp.filter(function(C){return wo(C)===d}):Fo,m=f.filter(function(C){return c.indexOf(C)>=0});m.length===0&&(m=f);var _=m.reduce(function(C,R){return C[R]=To(t,{placement:R,boundary:i,rootBoundary:s,padding:o})[Un(R)],C},{});return Object.keys(_).sort(function(C,R){return _[C]-_[R]})}function ax(t){if(Un(t)===qd)return[];var e=fc(t);return[gE(t),e,gE(e)]}function lx(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,u=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,m=n.altBoundary,_=n.flipVariations,C=_===void 0?!0:_,R=n.allowedAutoPlacements,b=e.options.placement,T=Un(b),E=T===b,S=u||(E||!C?[fc(b)]:ax(b)),x=[b].concat(S).reduce(function(he,Ce){return he.concat(Un(Ce)===qd?ox(e,{placement:Ce,boundary:d,rootBoundary:f,padding:c,flipVariations:C,allowedAutoPlacements:R}):Ce)},[]),M=e.rects.reference,L=e.rects.popper,I=new Map,y=!0,A=x[0],P=0;P<x.length;P++){var N=x[P],O=Un(N),k=wo(N)===ns,de=[bt,Yt].indexOf(O)>=0,Ie=de?"width":"height",ge=To(e,{placement:N,boundary:d,rootBoundary:f,altBoundary:m,padding:c}),ae=de?k?Xt:kt:k?Yt:bt;M[Ie]>L[Ie]&&(ae=fc(ae));var $=fc(ae),W=[];if(s&&W.push(ge[O]<=0),a&&W.push(ge[ae]<=0,ge[$]<=0),W.every(function(he){return he})){A=N,y=!1;break}I.set(N,W)}if(y)for(var G=C?3:1,ue=function(Ce){var _e=x.find(function(nt){var Qe=I.get(nt);if(Qe)return Qe.slice(0,Ce).every(function(tn){return tn})});if(_e)return A=_e,"break"},le=G;le>0;le--){var ce=ue(le);if(ce==="break")break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}}const Hg={name:"flip",enabled:!0,phase:"main",fn:lx,requiresIfExists:["offset"],data:{_skip:!1}};function yE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function _E(t){return[bt,Xt,Yt,kt].some(function(e){return t[e]>=0})}function ux(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=To(e,{elementContext:"reference"}),a=To(e,{altBoundary:!0}),u=yE(o,r),c=yE(a,i,s),d=_E(u),f=_E(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const Wg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ux};function cx(t,e,n){var r=Un(t),i=[kt,bt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[kt,Xt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function dx(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Lg.reduce(function(d,f){return d[f]=cx(f,e.rects,s),d},{}),a=o[e.placement],u=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const Kg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dx};function hx(t){var e=t.state,n=t.name;e.modifiersData[n]=zS({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Xd={name:"popperOffsets",enabled:!0,phase:"read",fn:hx,data:{}};function fx(t){return t==="x"?"y":"x"}function px(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,u=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,m=n.tether,_=m===void 0?!0:m,C=n.tetherOffset,R=C===void 0?0:C,b=To(e,{boundary:u,rootBoundary:c,padding:f,altBoundary:d}),T=Un(e.placement),E=wo(e.placement),S=!E,x=$g(T),M=fx(x),L=e.modifiersData.popperOffsets,I=e.rects.reference,y=e.rects.popper,A=typeof R=="function"?R(Object.assign({},e.rects,{placement:e.placement})):R,P=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(L){if(s){var k,de=x==="y"?bt:kt,Ie=x==="y"?Yt:Xt,ge=x==="y"?"height":"width",ae=L[x],$=ae+b[de],W=ae-b[Ie],G=_?-y[ge]/2:0,ue=E===ns?I[ge]:y[ge],le=E===ns?-y[ge]:-I[ge],ce=e.elements.arrow,he=_&&ce?jg(ce):{width:0,height:0},Ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$S(),_e=Ce[de],nt=Ce[Ie],Qe=qa(0,I[ge],he[ge]),tn=S?I[ge]/2-G-Qe-_e-P.mainAxis:ue-Qe-_e-P.mainAxis,Ft=S?-I[ge]/2+G+Qe+nt+P.mainAxis:le+Qe+nt+P.mainAxis,Be=e.elements.arrow&&$l(e.elements.arrow),Ye=Be?x==="y"?Be.clientTop||0:Be.clientLeft||0:0,xt=(k=N==null?void 0:N[x])!=null?k:0,Bt=ae+tn-xt-Ye,ve=ae+Ft-xt,xn=qa(_?Yc($,Bt):$,ae,_?Qi(W,ve):W);L[x]=xn,O[x]=xn-ae}if(a){var On,ta=x==="x"?bt:kt,_s=x==="x"?Yt:Xt,zt=L[M],Qn=M==="y"?"height":"width",Es=zt+b[ta],Yn=zt-b[_s],nn=[bt,kt].indexOf(T)!==-1,Or=(On=N==null?void 0:N[M])!=null?On:0,ze=nn?Es:zt-I[Qn]-y[Qn]-Or+P.altAxis,Ke=nn?zt+I[Qn]+y[Qn]-Or-P.altAxis:Yn,Xn=_&&nn?WN(ze,zt,Ke):qa(_?ze:Es,zt,_?Ke:Yn);L[M]=Xn,O[M]=Xn-zt}e.modifiersData[r]=O}}const qg={name:"preventOverflow",enabled:!0,phase:"main",fn:px,requiresIfExists:["offset"]};function mx(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function gx(t){return t===Jt(t)||!hn(t)?Fg(t):mx(t)}function vx(t){var e=t.getBoundingClientRect(),n=_o(e.width)/t.offsetWidth||1,r=_o(e.height)/t.offsetHeight||1;return n!==1||r!==1}function yx(t,e,n){n===void 0&&(n=!1);var r=hn(e),i=hn(e)&&vx(e),s=bi(e),o=Eo(t,i,n),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Hn(e)!=="body"||zg(s))&&(a=gx(e)),hn(e)?(u=Eo(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=Bg(s))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function _x(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var u=e.get(a);u&&i(u)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Ex(t){var e=_x(t);return MS.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function wx(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Tx(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var EE={placement:"bottom",modifiers:[],strategy:"absolute"};function wE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ul(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?EE:i;return function(a,u,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},EE,s),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},f=[],m=!1,_={state:d,setOptions:function(T){var E=typeof T=="function"?T(d.options):T;R(),d.options=Object.assign({},s,d.options,E),d.scrollParents={reference:rs(a)?Ga(a):a.contextElement?Ga(a.contextElement):[],popper:Ga(u)};var S=Ex(Tx([].concat(r,d.options.modifiers)));return d.orderedModifiers=S.filter(function(x){return x.enabled}),C(),_.update()},forceUpdate:function(){if(!m){var T=d.elements,E=T.reference,S=T.popper;if(wE(E,S)){d.rects={reference:yx(E,$l(S),d.options.strategy==="fixed"),popper:jg(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var x=0;x<d.orderedModifiers.length;x++){if(d.reset===!0){d.reset=!1,x=-1;continue}var M=d.orderedModifiers[x],L=M.fn,I=M.options,y=I===void 0?{}:I,A=M.name;typeof L=="function"&&(d=L({state:d,options:y,name:A,instance:_})||d)}}}},update:wx(function(){return new Promise(function(b){_.forceUpdate(),b(d)})}),destroy:function(){R(),m=!0}};if(!wE(a,u))return _;_.setOptions(c).then(function(b){!m&&c.onFirstUpdate&&c.onFirstUpdate(b)});function C(){d.orderedModifiers.forEach(function(b){var T=b.name,E=b.options,S=E===void 0?{}:E,x=b.effect;if(typeof x=="function"){var M=x({state:d,name:T,instance:_,options:S}),L=function(){};f.push(M||L)}})}function R(){f.forEach(function(b){return b()}),f=[]}return _}}var Ix=Ul(),Sx=[Yd,Xd,Qd,Vg],Cx=Ul({defaultModifiers:Sx}),Ax=[Yd,Xd,Qd,Vg,Kg,Hg,qg,Ug,Wg],Gg=Ul({defaultModifiers:Ax});const HS=Object.freeze(Object.defineProperty({__proto__:null,afterMain:xS,afterRead:kS,afterWrite:LS,applyStyles:Vg,arrow:Ug,auto:qd,basePlacements:Fo,beforeMain:PS,beforeRead:RS,beforeWrite:OS,bottom:Yt,clippingParents:CS,computeStyles:Qd,createPopper:Gg,createPopperBase:Ix,createPopperLite:Cx,detectOverflow:To,end:yo,eventListeners:Yd,flip:Hg,hide:Wg,left:kt,main:NS,modifierPhases:MS,offset:Kg,placements:Lg,popper:xs,popperGenerator:Ul,popperOffsets:Xd,preventOverflow:qg,read:bS,reference:AS,right:Xt,start:ns,top:bt,variationPlacements:Jp,viewport:Dg,write:DS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const jr=new Map,Cf={set(t,e,n){jr.has(t)||jr.set(t,new Map);const r=jr.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get(t,e){return jr.has(t)&&jr.get(t).get(e)||null},remove(t,e){if(!jr.has(t))return;const n=jr.get(t);n.delete(e),n.size===0&&jr.delete(t)}},Rx=1e6,bx=1e3,tm="transitionend",WS=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),kx=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Px=t=>{do t+=Math.floor(Math.random()*Rx);while(document.getElementById(t));return t},Nx=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return!r&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*bx)},KS=t=>{t.dispatchEvent(new Event(tm))},hr=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),gi=t=>hr(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(WS(t)):null,Bo=t=>{if(!hr(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const r=t.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return e},vi=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",qS=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?qS(t.parentNode):null},Xc=()=>{},Fl=t=>{t.offsetHeight},GS=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Af=[],xx=t=>{document.readyState==="loading"?(Af.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Af)e()}),Af.push(t)):t()},gn=()=>document.documentElement.dir==="rtl",yn=t=>{xx(()=>{const e=GS();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},Lt=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,QS=(t,e,n=!0)=>{if(!n){Lt(t);return}const i=Nx(e)+5;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener(tm,o),Lt(t))};e.addEventListener(tm,o),setTimeout(()=>{s||KS(e)},i)},Qg=(t,e,n,r)=>{const i=t.length;let s=t.indexOf(e);return s===-1?!n&&r?t[i-1]:t[0]:(s+=n?1:-1,r&&(s=(s+i)%i),t[Math.max(0,Math.min(s,i-1))])},Ox=/[^.]*(?=\..*)\.|.*/,Dx=/\..*/,Lx=/::\d+$/,Rf={};let TE=1;const YS={mouseenter:"mouseover",mouseleave:"mouseout"},Mx=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function XS(t,e){return e&&`${e}::${TE++}`||t.uidEvent||TE++}function JS(t){const e=XS(t);return t.uidEvent=e,Rf[e]=Rf[e]||{},Rf[e]}function Vx(t,e){return function n(r){return Yg(r,{delegateTarget:t}),n.oneOff&&U.off(t,r.type,e),e.apply(t,[r])}}function jx(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return Yg(i,{delegateTarget:o}),r.oneOff&&U.off(t,i.type,e,n),n.apply(o,[i])}}function ZS(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function eC(t,e,n){const r=typeof e=="string",i=r?n:e||n;let s=tC(t);return Mx.has(s)||(s=t),[r,i,s]}function IE(t,e,n,r,i){if(typeof e!="string"||!t)return;let[s,o,a]=eC(e,n,r);e in YS&&(o=(C=>function(R){if(!R.relatedTarget||R.relatedTarget!==R.delegateTarget&&!R.delegateTarget.contains(R.relatedTarget))return C.call(this,R)})(o));const u=JS(t),c=u[a]||(u[a]={}),d=ZS(c,o,s?n:null);if(d){d.oneOff=d.oneOff&&i;return}const f=XS(o,e.replace(Ox,"")),m=s?jx(t,n,o):Vx(t,o);m.delegationSelector=s?n:null,m.callable=o,m.oneOff=i,m.uidEvent=f,c[f]=m,t.addEventListener(a,m,s)}function nm(t,e,n,r,i){const s=ZS(e[n],r,i);s&&(t.removeEventListener(n,s,!!i),delete e[n][s.uidEvent])}function $x(t,e,n,r){const i=e[n]||{};for(const[s,o]of Object.entries(i))s.includes(r)&&nm(t,e,n,o.callable,o.delegationSelector)}function tC(t){return t=t.replace(Dx,""),YS[t]||t}const U={on(t,e,n,r){IE(t,e,n,r,!1)},one(t,e,n,r){IE(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,o]=eC(e,n,r),a=o!==e,u=JS(t),c=u[o]||{},d=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;nm(t,u,o,s,i?n:null);return}if(d)for(const f of Object.keys(u))$x(t,u,f,e.slice(1));for(const[f,m]of Object.entries(c)){const _=f.replace(Lx,"");(!a||e.includes(_))&&nm(t,u,o,m.callable,m.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=GS(),i=tC(e),s=e!==i;let o=null,a=!0,u=!0,c=!1;s&&r&&(o=r.Event(e,n),r(t).trigger(o),a=!o.isPropagationStopped(),u=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const d=Yg(new Event(e,{bubbles:a,cancelable:!0}),n);return c&&d.preventDefault(),u&&t.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function Yg(t,e={}){for(const[n,r]of Object.entries(e))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}function SE(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function bf(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const fr={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${bf(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${bf(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=SE(t.dataset[r])}return e},getDataAttribute(t,e){return SE(t.getAttribute(`data-bs-${bf(e)}`))}};class Bl{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const r=hr(n)?fr.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...hr(n)?fr.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const s=e[r],o=hr(s)?"element":kx(s);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)}}}const Ux="5.3.3";class Nn extends Bl{constructor(e,n){super(),e=gi(e),e&&(this._element=e,this._config=this._getConfig(n),Cf.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cf.remove(this._element,this.constructor.DATA_KEY),U.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){QS(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Cf.get(gi(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Ux}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const kf=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>WS(n)).join(","):null},X={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!vi(n)&&Bo(n))},getSelectorFromElement(t){const e=kf(t);return e&&X.findOne(e)?e:null},getElementFromSelector(t){const e=kf(t);return e?X.findOne(e):null},getMultipleElementsFromSelector(t){const e=kf(t);return e?X.find(e):[]}},Jd=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;U.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),vi(this))return;const s=X.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(s)[e]()})},Fx="alert",Bx="bs.alert",nC=`.${Bx}`,zx=`close${nC}`,Hx=`closed${nC}`,Wx="fade",Kx="show";let rC=class iC extends Nn{static get NAME(){return Fx}close(){if(U.trigger(this._element,zx).defaultPrevented)return;this._element.classList.remove(Kx);const n=this._element.classList.contains(Wx);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),U.trigger(this._element,Hx),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=iC.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};Jd(rC,"close");yn(rC);const qx="button",Gx="bs.button",Qx=`.${Gx}`,Yx=".data-api",Xx="active",CE='[data-bs-toggle="button"]',Jx=`click${Qx}${Yx}`;let sC=class oC extends Nn{static get NAME(){return qx}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Xx))}static jQueryInterface(e){return this.each(function(){const n=oC.getOrCreateInstance(this);e==="toggle"&&n[e]()})}};U.on(document,Jx,CE,t=>{t.preventDefault();const e=t.target.closest(CE);sC.getOrCreateInstance(e).toggle()});yn(sC);const Zx="swipe",zo=".bs.swipe",eO=`touchstart${zo}`,tO=`touchmove${zo}`,nO=`touchend${zo}`,rO=`pointerdown${zo}`,iO=`pointerup${zo}`,sO="touch",oO="pen",aO="pointer-event",lO=40,uO={endCallback:null,leftCallback:null,rightCallback:null},cO={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Jc extends Bl{constructor(e,n){super(),this._element=e,!(!e||!Jc.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return uO}static get DefaultType(){return cO}static get NAME(){return Zx}dispose(){U.off(this._element,zo)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Lt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=lO)return;const n=e/this._deltaX;this._deltaX=0,n&&Lt(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(U.on(this._element,rO,e=>this._start(e)),U.on(this._element,iO,e=>this._end(e)),this._element.classList.add(aO)):(U.on(this._element,eO,e=>this._start(e)),U.on(this._element,tO,e=>this._move(e)),U.on(this._element,nO,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===oO||e.pointerType===sO)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const dO="carousel",hO="bs.carousel",ki=`.${hO}`,aC=".data-api",fO="ArrowLeft",pO="ArrowRight",mO=500,Ia="next",Rs="prev",Os="left",pc="right",gO=`slide${ki}`,Pf=`slid${ki}`,vO=`keydown${ki}`,yO=`mouseenter${ki}`,_O=`mouseleave${ki}`,EO=`dragstart${ki}`,wO=`load${ki}${aC}`,TO=`click${ki}${aC}`,lC="carousel",$u="active",IO="slide",SO="carousel-item-end",CO="carousel-item-start",AO="carousel-item-next",RO="carousel-item-prev",uC=".active",cC=".carousel-item",bO=uC+cC,kO=".carousel-item img",PO=".carousel-indicators",NO="[data-bs-slide], [data-bs-slide-to]",xO='[data-bs-ride="carousel"]',OO={[fO]:pc,[pO]:Os},DO={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},LO={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Xg=class dC extends Nn{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=X.findOne(PO,this._element),this._addEventListeners(),this._config.ride===lC&&this.cycle()}static get Default(){return DO}static get DefaultType(){return LO}static get NAME(){return dO}next(){this._slide(Ia)}nextWhenVisible(){!document.hidden&&Bo(this._element)&&this.next()}prev(){this._slide(Rs)}pause(){this._isSliding&&KS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){U.one(this._element,Pf,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){U.one(this._element,Pf,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Ia:Rs;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&U.on(this._element,vO,e=>this._keydown(e)),this._config.pause==="hover"&&(U.on(this._element,yO,()=>this.pause()),U.on(this._element,_O,()=>this._maybeEnableCycle())),this._config.touch&&Jc.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of X.find(kO,this._element))U.on(r,EO,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Os)),rightCallback:()=>this._slide(this._directionToOrder(pc)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),mO+this._config.interval))}};this._swipeHelper=new Jc(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=OO[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=X.findOne(uC,this._indicatorsElement);n.classList.remove($u),n.removeAttribute("aria-current");const r=X.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add($u),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const r=this._getActive(),i=e===Ia,s=n||Qg(this._getItems(),r,i,this._config.wrap);if(s===r)return;const o=this._getItemIndex(s),a=_=>U.trigger(this._element,_,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:o});if(a(gO).defaultPrevented||!r||!s)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const d=i?CO:SO,f=i?AO:RO;s.classList.add(f),Fl(s),r.classList.add(d),s.classList.add(d);const m=()=>{s.classList.remove(d,f),s.classList.add($u),r.classList.remove($u,f,d),this._isSliding=!1,a(Pf)};this._queueCallback(m,r,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(IO)}_getActive(){return X.findOne(bO,this._element)}_getItems(){return X.find(cC,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return gn()?e===Os?Rs:Ia:e===Os?Ia:Rs}_orderToDirection(e){return gn()?e===Rs?Os:pc:e===Rs?pc:Os}static jQueryInterface(e){return this.each(function(){const n=dC.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}};U.on(document,TO,NO,function(t){const e=X.getElementFromSelector(this);if(!e||!e.classList.contains(lC))return;t.preventDefault();const n=Xg.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(fr.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});U.on(window,wO,()=>{const t=X.find(xO);for(const e of t)Xg.getOrCreateInstance(e)});yn(Xg);const MO="collapse",VO="bs.collapse",zl=`.${VO}`,jO=".data-api",$O=`show${zl}`,UO=`shown${zl}`,FO=`hide${zl}`,BO=`hidden${zl}`,zO=`click${zl}${jO}`,Nf="show",Js="collapse",Uu="collapsing",HO="collapsed",WO=`:scope .${Js} .${Js}`,KO="collapse-horizontal",qO="width",GO="height",QO=".collapse.show, .collapse.collapsing",rm='[data-bs-toggle="collapse"]',YO={parent:null,toggle:!0},XO={parent:"(null|element)",toggle:"boolean"};let hC=class im extends Nn{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const r=X.find(rm);for(const i of r){const s=X.getSelectorFromElement(i),o=X.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return YO}static get DefaultType(){return XO}static get NAME(){return MO}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(QO).filter(a=>a!==this._element).map(a=>im.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||U.trigger(this._element,$O).defaultPrevented)return;for(const a of e)a.hide();const r=this._getDimension();this._element.classList.remove(Js),this._element.classList.add(Uu),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Uu),this._element.classList.add(Js,Nf),this._element.style[r]="",U.trigger(this._element,UO)},o=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||U.trigger(this._element,FO).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Fl(this._element),this._element.classList.add(Uu),this._element.classList.remove(Js,Nf);for(const i of this._triggerArray){const s=X.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Uu),this._element.classList.add(Js),U.trigger(this._element,BO)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Nf)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=gi(e.parent),e}_getDimension(){return this._element.classList.contains(KO)?qO:GO}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(rm);for(const n of e){const r=X.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){const n=X.find(WO,this._config.parent);return X.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const r of e)r.classList.toggle(HO,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const r=im.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};U.on(document,zO,rm,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of X.getMultipleElementsFromSelector(this))hC.getOrCreateInstance(e,{toggle:!1}).toggle()});yn(hC);const AE="dropdown",JO="bs.dropdown",ds=`.${JO}`,Jg=".data-api",ZO="Escape",RE="Tab",eD="ArrowUp",bE="ArrowDown",tD=2,nD=`hide${ds}`,rD=`hidden${ds}`,iD=`show${ds}`,sD=`shown${ds}`,fC=`click${ds}${Jg}`,pC=`keydown${ds}${Jg}`,oD=`keyup${ds}${Jg}`,Ds="show",aD="dropup",lD="dropend",uD="dropstart",cD="dropup-center",dD="dropdown-center",Bi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',hD=`${Bi}.${Ds}`,mc=".dropdown-menu",fD=".navbar",pD=".navbar-nav",mD=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",gD=gn()?"top-end":"top-start",vD=gn()?"top-start":"top-end",yD=gn()?"bottom-end":"bottom-start",_D=gn()?"bottom-start":"bottom-end",ED=gn()?"left-start":"right-start",wD=gn()?"right-start":"left-start",TD="top",ID="bottom",SD={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},CD={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let Ho=class gc extends Nn{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=X.next(this._element,mc)[0]||X.prev(this._element,mc)[0]||X.findOne(mc,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return SD}static get DefaultType(){return CD}static get NAME(){return AE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(vi(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!U.trigger(this._element,iD,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(pD))for(const r of[].concat(...document.body.children))U.on(r,"mouseover",Xc);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ds),this._element.classList.add(Ds),U.trigger(this._element,sD,e)}}hide(){if(vi(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!U.trigger(this._element,nD,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))U.off(r,"mouseover",Xc);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ds),this._element.classList.remove(Ds),this._element.setAttribute("aria-expanded","false"),fr.removeDataAttribute(this._menu,"popper"),U.trigger(this._element,rD,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!hr(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${AE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof HS>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:hr(this._config.reference)?e=gi(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Gg(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Ds)}_getPlacement(){const e=this._parent;if(e.classList.contains(lD))return ED;if(e.classList.contains(uD))return wD;if(e.classList.contains(cD))return TD;if(e.classList.contains(dD))return ID;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(aD)?n?vD:gD:n?_D:yD}_detectNavbar(){return this._element.closest(fD)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(fr.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Lt(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const r=X.find(mD,this._menu).filter(i=>Bo(i));r.length&&Qg(r,n,e===bE,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=gc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===tD||e.type==="keyup"&&e.key!==RE)return;const n=X.find(hD);for(const r of n){const i=gc.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=e.composedPath(),o=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===RE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),r=e.key===ZO,i=[eD,bE].includes(e.key);if(!i&&!r||n&&!r)return;e.preventDefault();const s=this.matches(Bi)?this:X.prev(this,Bi)[0]||X.next(this,Bi)[0]||X.findOne(Bi,e.delegateTarget.parentNode),o=gc.getOrCreateInstance(s);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}};U.on(document,pC,Bi,Ho.dataApiKeydownHandler);U.on(document,pC,mc,Ho.dataApiKeydownHandler);U.on(document,fC,Ho.clearMenus);U.on(document,oD,Ho.clearMenus);U.on(document,fC,Bi,function(t){t.preventDefault(),Ho.getOrCreateInstance(this).toggle()});yn(Ho);const mC="backdrop",AD="fade",kE="show",PE=`mousedown.bs.${mC}`,RD={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},bD={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gC extends Bl{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return RD}static get DefaultType(){return bD}static get NAME(){return mC}show(e){if(!this._config.isVisible){Lt(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Fl(n),n.classList.add(kE),this._emulateAnimation(()=>{Lt(e)})}hide(e){if(!this._config.isVisible){Lt(e);return}this._getElement().classList.remove(kE),this._emulateAnimation(()=>{this.dispose(),Lt(e)})}dispose(){this._isAppended&&(U.off(this._element,PE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(AD),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=gi(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),U.on(e,PE,()=>{Lt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){QS(e,this._getElement(),this._config.isAnimated)}}const kD="focustrap",PD="bs.focustrap",Zc=`.${PD}`,ND=`focusin${Zc}`,xD=`keydown.tab${Zc}`,OD="Tab",DD="forward",NE="backward",LD={autofocus:!0,trapElement:null},MD={autofocus:"boolean",trapElement:"element"};class vC extends Bl{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return LD}static get DefaultType(){return MD}static get NAME(){return kD}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),U.off(document,Zc),U.on(document,ND,e=>this._handleFocusin(e)),U.on(document,xD,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,U.off(document,Zc))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const r=X.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===NE?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===OD&&(this._lastTabNavDirection=e.shiftKey?NE:DD)}}const xE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",OE=".sticky-top",Fu="padding-right",DE="margin-right";class sm{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Fu,n=>n+e),this._setElementAttributes(xE,Fu,n=>n+e),this._setElementAttributes(OE,DE,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Fu),this._resetElementAttributes(xE,Fu),this._resetElementAttributes(OE,DE)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){const i=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const r=e.style.getPropertyValue(n);r&&fr.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){const r=i=>{const s=fr.getDataAttribute(i,n);if(s===null){i.style.removeProperty(n);return}fr.removeDataAttribute(i,n),i.style.setProperty(n,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,n){if(hr(e)){n(e);return}for(const r of X.find(e,this._element))n(r)}}const VD="modal",jD="bs.modal",vn=`.${jD}`,$D=".data-api",UD="Escape",FD=`hide${vn}`,BD=`hidePrevented${vn}`,yC=`hidden${vn}`,_C=`show${vn}`,zD=`shown${vn}`,HD=`resize${vn}`,WD=`click.dismiss${vn}`,KD=`mousedown.dismiss${vn}`,qD=`keydown.dismiss${vn}`,GD=`click${vn}${$D}`,LE="modal-open",QD="fade",ME="show",xf="modal-static",YD=".modal.show",XD=".modal-dialog",JD=".modal-body",ZD='[data-bs-toggle="modal"]',eL={backdrop:!0,focus:!0,keyboard:!0},tL={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let ed=class EC extends Nn{constructor(e,n){super(e,n),this._dialog=X.findOne(XD,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new sm,this._addEventListeners()}static get Default(){return eL}static get DefaultType(){return tL}static get NAME(){return VD}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||U.trigger(this._element,_C,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(LE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||U.trigger(this._element,FD).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ME),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){U.off(window,vn),U.off(this._dialog,vn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gC({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new vC({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=X.findOne(JD,this._dialog);n&&(n.scrollTop=0),Fl(this._element),this._element.classList.add(ME);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,U.trigger(this._element,zD,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){U.on(this._element,qD,e=>{if(e.key===UD){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),U.on(window,HD,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),U.on(this._element,KD,e=>{U.one(this._element,WD,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(LE),this._resetAdjustments(),this._scrollBar.reset(),U.trigger(this._element,yC)})}_isAnimated(){return this._element.classList.contains(QD)}_triggerBackdropTransition(){if(U.trigger(this._element,BD).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(xf)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(xf),this._queueCallback(()=>{this._element.classList.remove(xf),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){const i=gn()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&e){const i=gn()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const r=EC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}};U.on(document,GD,ZD,function(t){const e=X.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),U.one(e,_C,i=>{i.defaultPrevented||U.one(e,yC,()=>{Bo(this)&&this.focus()})});const n=X.findOne(YD);n&&ed.getInstance(n).hide(),ed.getOrCreateInstance(e).toggle(this)});Jd(ed);yn(ed);const nL="offcanvas",rL="bs.offcanvas",kr=`.${rL}`,wC=".data-api",iL=`load${kr}${wC}`,sL="Escape",VE="show",jE="showing",$E="hiding",oL="offcanvas-backdrop",TC=".offcanvas.show",aL=`show${kr}`,lL=`shown${kr}`,uL=`hide${kr}`,UE=`hidePrevented${kr}`,IC=`hidden${kr}`,cL=`resize${kr}`,dL=`click${kr}${wC}`,hL=`keydown.dismiss${kr}`,fL='[data-bs-toggle="offcanvas"]',pL={backdrop:!0,keyboard:!0,scroll:!1},mL={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Io=class SC extends Nn{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return pL}static get DefaultType(){return mL}static get NAME(){return nL}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||U.trigger(this._element,aL,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new sm().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jE);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(VE),this._element.classList.remove(jE),U.trigger(this._element,lL,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||U.trigger(this._element,uL).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add($E),this._backdrop.hide();const n=()=>{this._element.classList.remove(VE,$E),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new sm().reset(),U.trigger(this._element,IC)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){U.trigger(this._element,UE);return}this.hide()},n=!!this._config.backdrop;return new gC({className:oL,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new vC({trapElement:this._element})}_addEventListeners(){U.on(this._element,hL,e=>{if(e.key===sL){if(this._config.keyboard){this.hide();return}U.trigger(this._element,UE)}})}static jQueryInterface(e){return this.each(function(){const n=SC.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}};U.on(document,dL,fL,function(t){const e=X.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),vi(this))return;U.one(e,IC,()=>{Bo(this)&&this.focus()});const n=X.findOne(TC);n&&n!==e&&Io.getInstance(n).hide(),Io.getOrCreateInstance(e).toggle(this)});U.on(window,iL,()=>{for(const t of X.find(TC))Io.getOrCreateInstance(t).show()});U.on(window,cL,()=>{for(const t of X.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Io.getOrCreateInstance(t).hide()});Jd(Io);yn(Io);const gL=/^aria-[\w-]*$/i,CC={"*":["class","dir","id","lang","role",gL],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},vL=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),yL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,_L=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?vL.has(n)?!!yL.test(t.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function EL(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const u=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const d of u)_L(d,c)||o.removeAttribute(d.nodeName)}return i.body.innerHTML}const wL="TemplateFactory",TL={allowList:CC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},IL={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},SL={entry:"(string|element|function|null)",selector:"(string|element)"};class CL extends Bl{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return TL}static get DefaultType(){return IL}static get NAME(){return wL}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);const n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},SL)}_setContent(e,n,r){const i=X.findOne(r,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(hr(n)){this._putElementInTemplate(gi(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?EL(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Lt(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const AL="tooltip",RL=new Set(["sanitize","allowList","sanitizeFn"]),Of="fade",bL="modal",Bu="show",kL=".tooltip-inner",FE=`.${bL}`,BE="hide.bs.modal",Sa="hover",Df="focus",PL="click",NL="manual",xL="hide",OL="hidden",DL="show",LL="shown",ML="inserted",VL="click",jL="focusin",$L="focusout",UL="mouseenter",FL="mouseleave",BL={AUTO:"auto",TOP:"top",RIGHT:gn()?"left":"right",BOTTOM:"bottom",LEFT:gn()?"right":"left"},zL={allowList:CC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},HL={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Wo extends Nn{constructor(e,n){if(typeof HS>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return zL}static get DefaultType(){return HL}static get NAME(){return AL}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),U.off(this._element.closest(FE),BE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=U.trigger(this._element,this.constructor.eventName(DL)),r=(qS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),U.trigger(this._element,this.constructor.eventName(ML))),this._popper=this._createPopper(i),i.classList.add(Bu),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))U.on(a,"mouseover",Xc);const o=()=>{U.trigger(this._element,this.constructor.eventName(LL)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||U.trigger(this._element,this.constructor.eventName(xL)).defaultPrevented)return;if(this._getTipElement().classList.remove(Bu),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))U.off(i,"mouseover",Xc);this._activeTrigger[PL]=!1,this._activeTrigger[Df]=!1,this._activeTrigger[Sa]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),U.trigger(this._element,this.constructor.eventName(OL)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Of,Bu),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=Px(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(Of),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new CL({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[kL]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Of)}_isShown(){return this.tip&&this.tip.classList.contains(Bu)}_createPopper(e){const n=Lt(this._config.placement,[this,e,this._element]),r=BL[n.toUpperCase()];return Gg(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Lt(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...Lt(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")U.on(this._element,this.constructor.eventName(VL),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==NL){const r=n===Sa?this.constructor.eventName(UL):this.constructor.eventName(jL),i=n===Sa?this.constructor.eventName(FL):this.constructor.eventName($L);U.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?Df:Sa]=!0,o._enter()}),U.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?Df:Sa]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},U.on(this._element.closest(FE),BE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=fr.getDataAttributes(this._element);for(const r of Object.keys(n))RL.has(r)&&delete n[r];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:gi(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(e[n]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Wo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}yn(Wo);const WL="popover",KL=".popover-header",qL=".popover-body",GL={...Wo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},QL={...Wo.DefaultType,content:"(null|string|element|function)"};class Zg extends Wo{static get Default(){return GL}static get DefaultType(){return QL}static get NAME(){return WL}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[KL]:this._getTitle(),[qL]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Zg.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}yn(Zg);const YL="scrollspy",XL="bs.scrollspy",ev=`.${XL}`,JL=".data-api",ZL=`activate${ev}`,zE=`click${ev}`,eM=`load${ev}${JL}`,tM="dropdown-item",bs="active",nM='[data-bs-spy="scroll"]',Lf="[href]",rM=".nav, .list-group",HE=".nav-link",iM=".nav-item",sM=".list-group-item",oM=`${HE}, ${iM} > ${HE}, ${sM}`,aM=".dropdown",lM=".dropdown-toggle",uM={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cM={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Zd extends Nn{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return uM}static get DefaultType(){return cM}static get NAME(){return YL}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=gi(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(U.off(this._config.target,zE),U.on(this._config.target,zE,Lf,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),r=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(r(o),!i)return;continue}!s&&!a&&r(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=X.find(Lf,this._config.target);for(const n of e){if(!n.hash||vi(n))continue;const r=X.findOne(decodeURI(n.hash),this._element);Bo(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(bs),this._activateParents(e),U.trigger(this._element,ZL,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(tM)){X.findOne(lM,e.closest(aM)).classList.add(bs);return}for(const n of X.parents(e,rM))for(const r of X.prev(n,oM))r.classList.add(bs)}_clearActiveClass(e){e.classList.remove(bs);const n=X.find(`${Lf}.${bs}`,e);for(const r of n)r.classList.remove(bs)}static jQueryInterface(e){return this.each(function(){const n=Zd.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}U.on(window,eM,()=>{for(const t of X.find(nM))Zd.getOrCreateInstance(t)});yn(Zd);const dM="tab",hM="bs.tab",hs=`.${hM}`,fM=`hide${hs}`,pM=`hidden${hs}`,mM=`show${hs}`,gM=`shown${hs}`,vM=`click${hs}`,yM=`keydown${hs}`,_M=`load${hs}`,EM="ArrowLeft",WE="ArrowRight",wM="ArrowUp",KE="ArrowDown",Mf="Home",qE="End",zi="active",GE="fade",Vf="show",TM="dropdown",AC=".dropdown-toggle",IM=".dropdown-menu",jf=`:not(${AC})`,SM='.list-group, .nav, [role="tablist"]',CM=".nav-item, .list-group-item",AM=`.nav-link${jf}, .list-group-item${jf}, [role="tab"]${jf}`,RC='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',$f=`${AM}, ${RC}`,RM=`.${zi}[data-bs-toggle="tab"], .${zi}[data-bs-toggle="pill"], .${zi}[data-bs-toggle="list"]`;class So extends Nn{constructor(e){super(e),this._parent=this._element.closest(SM),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),U.on(this._element,yM,n=>this._keydown(n)))}static get NAME(){return dM}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),r=n?U.trigger(n,fM,{relatedTarget:e}):null;U.trigger(e,mM,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(zi),this._activate(X.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Vf);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),U.trigger(e,gM,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(GE))}_deactivate(e,n){if(!e)return;e.classList.remove(zi),e.blur(),this._deactivate(X.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Vf);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),U.trigger(e,pM,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(GE))}_keydown(e){if(![EM,WE,wM,KE,Mf,qE].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!vi(i));let r;if([Mf,qE].includes(e.key))r=n[e.key===Mf?0:n.length-1];else{const i=[WE,KE].includes(e.key);r=Qg(n,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),So.getOrCreateInstance(r).show())}_getChildren(){return X.find($f,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=X.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const r=this._getOuterElement(e);if(!r.classList.contains(TM))return;const i=(s,o)=>{const a=X.findOne(s,r);a&&a.classList.toggle(o,n)};i(AC,zi),i(IM,Vf),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(zi)}_getInnerElement(e){return e.matches($f)?e:X.findOne($f,e)}_getOuterElement(e){return e.closest(CM)||e}static jQueryInterface(e){return this.each(function(){const n=So.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}U.on(document,vM,RC,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!vi(this)&&So.getOrCreateInstance(this).show()});U.on(window,_M,()=>{for(const t of X.find(RM))So.getOrCreateInstance(t)});yn(So);const bM="toast",kM="bs.toast",Pi=`.${kM}`,PM=`mouseover${Pi}`,NM=`mouseout${Pi}`,xM=`focusin${Pi}`,OM=`focusout${Pi}`,DM=`hide${Pi}`,LM=`hidden${Pi}`,MM=`show${Pi}`,VM=`shown${Pi}`,jM="fade",QE="hide",zu="show",Hu="showing",$M={animation:"boolean",autohide:"boolean",delay:"number"},UM={animation:!0,autohide:!0,delay:5e3};class eh extends Nn{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return UM}static get DefaultType(){return $M}static get NAME(){return bM}show(){if(U.trigger(this._element,MM).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(jM);const n=()=>{this._element.classList.remove(Hu),U.trigger(this._element,VM),this._maybeScheduleHide()};this._element.classList.remove(QE),Fl(this._element),this._element.classList.add(zu,Hu),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||U.trigger(this._element,DM).defaultPrevented)return;const n=()=>{this._element.classList.add(QE),this._element.classList.remove(Hu,zu),U.trigger(this._element,LM)};this._element.classList.add(Hu),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(zu),super.dispose()}isShown(){return this._element.classList.contains(zu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){U.on(this._element,PM,e=>this._onInteraction(e,!0)),U.on(this._element,NM,e=>this._onInteraction(e,!1)),U.on(this._element,xM,e=>this._onInteraction(e,!0)),U.on(this._element,OM,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=eh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Jd(eh);yn(eh);var bC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(bC);var FM=bC.exports;const Q=Ol(FM);function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(null,arguments)}function kC(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function YE(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function BM(t){var e=zM(t,"string");return typeof e=="symbol"?e:String(e)}function zM(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HM(t,e,n){var r=g.useRef(t!==void 0),i=g.useState(e),s=i[0],o=i[1],a=t!==void 0,u=r.current;return r.current=a,!a&&u&&s!==e&&o(e),[a?t:s,g.useCallback(function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),m=1;m<d;m++)f[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(f)),o(c)},[n])]}function Hl(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[YE(r)],a=s[r],u=kC(s,[YE(r),r].map(BM)),c=e[r],d=HM(a,o,t[c]),f=d[0],m=d[1];return om({},u,(i={},i[r]=f,i[c]=m,i))},t)}function am(t,e){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},am(t,e)}function WM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,am(t,e)}const KM=["xxl","xl","lg","md","sm","xs"],qM="xs",th=g.createContext({prefixes:{},breakpoints:KM,minBreakpoint:qM});function J(t,e){const{prefixes:n}=g.useContext(th);return t||n[e]||e}function PC(){const{breakpoints:t}=g.useContext(th);return t}function NC(){const{minBreakpoint:t}=g.useContext(th);return t}function xC(){const{dir:t}=g.useContext(th);return t==="rtl"}function nh(t){return t&&t.ownerDocument||document}function GM(t){var e=nh(t);return e&&e.defaultView||window}function QM(t,e){return GM(t).getComputedStyle(t,e)}var YM=/([A-Z])/g;function XM(t){return t.replace(YM,"-$1").toLowerCase()}var JM=/^ms-/;function Wu(t){return XM(t).replace(JM,"-ms-")}var ZM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function eV(t){return!!(t&&ZM.test(t))}function pr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Wu(e))||QM(t).getPropertyValue(Wu(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Wu(i)):eV(i)?r+=i+"("+s+") ":n+=Wu(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var OC={exports:{}},tV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nV=tV,rV=nV;function DC(){}function LC(){}LC.resetWarningCache=DC;var iV=function(){function t(r,i,s,o,a,u){if(u!==rV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LC,resetWarningCache:DC};return n.PropTypes=n,n};OC.exports=iV();var sV=OC.exports;const Mt=Ol(sV),XE={disabled:!1},MC=ct.createContext(null);var oV=function(e){return e.scrollTop},xa="unmounted",Br="exited",Sn="entering",ir="entered",yl="exiting",Pr=function(t){WM(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=Br,s.appearStatus=Sn):u=ir:r.unmountOnExit||r.mountOnEnter?u=xa:u=Br,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===xa?{status:Br}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Sn&&o!==ir&&(s=Sn):(o===Sn||o===ir)&&(s=yl)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Sn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Xs.findDOMNode(this);o&&oV(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Br&&this.setState({status:xa})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[Xs.findDOMNode(this),a],c=u[0],d=u[1],f=this.getTimeouts(),m=a?f.appear:f.enter;if(!i&&!o||XE.disabled){this.safeSetState({status:ir},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Sn},function(){s.props.onEntering(c,d),s.onTransitionEnd(m,function(){s.safeSetState({status:ir},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Xs.findDOMNode(this);if(!s||XE.disabled){this.safeSetState({status:Br},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:yl},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Br},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Xs.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],d=u[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===xa)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=kC(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(MC.Provider,{value:null},typeof o=="function"?o(i,a):ct.cloneElement(ct.Children.only(o),a))},e}(ct.Component);Pr.contextType=MC;Pr.propTypes={};function ks(){}Pr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ks,onEntering:ks,onEntered:ks,onExit:ks,onExiting:ks,onExited:ks};Pr.UNMOUNTED=xa;Pr.EXITED=Br;Pr.ENTERING=Sn;Pr.ENTERED=ir;Pr.EXITING=yl;function aV(t){return t.code==="Escape"||t.keyCode===27}function lV(){const t=g.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function rh(t){if(!t||typeof t=="function")return null;const{major:e}=lV();return e>=19?t.props.ref:t.ref}const ih=!!(typeof window<"u"&&window.document&&window.document.createElement);var lm=!1,um=!1;try{var Uf={get passive(){return lm=!0},get once(){return um=lm=!0}};ih&&(window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,!0))}catch{}function VC(t,e,n,r){if(r&&typeof r!="boolean"&&!um){var i=r.once,s=r.capture,o=n;!um&&i&&(o=n.__once||function a(u){this.removeEventListener(e,a,s),n.call(this,u)},n.__once=o),t.addEventListener(e,o,lm?r:s)}t.addEventListener(e,n,r)}function uV(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Yr(t,e,n,r){return VC(t,e,n,r),function(){uV(t,e,n,r)}}function cV(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function dV(t){var e=pr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function hV(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||cV(t,"transitionend",!0)},e+n),s=Yr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function fV(t,e,n,r){n==null&&(n=dV(t)||0);var i=hV(t,n,r),s=Yr(t,"transitionend",e);return function(){i(),s()}}function JE(t,e){const n=pr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function sh(t,e){const n=JE(t,"transitionDuration"),r=JE(t,"transitionDelay"),i=fV(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Ca(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function tv(t){t.offsetHeight}const ZE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function pV(t,e){const n=ZE(t),r=ZE(e);return i=>{n&&n(i),r&&r(i)}}function nv(t,e){return g.useMemo(()=>pV(t,e),[t,e])}function mV(t){return t&&"setState"in t?Xs.findDOMNode(t):t??null}const oh=ct.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:u,...c},d)=>{const f=g.useRef(null),m=nv(f,u),_=L=>{m(mV(L))},C=L=>I=>{L&&f.current&&L(f.current,I)},R=g.useCallback(C(t),[t]),b=g.useCallback(C(e),[e]),T=g.useCallback(C(n),[n]),E=g.useCallback(C(r),[r]),S=g.useCallback(C(i),[i]),x=g.useCallback(C(s),[s]),M=g.useCallback(C(o),[o]);return v.jsx(Pr,{ref:d,...c,onEnter:R,onEntered:T,onEntering:b,onExit:E,onExited:x,onExiting:S,addEndListener:M,nodeRef:f,children:typeof a=="function"?(L,I)=>a(L,{...I,ref:_}):ct.cloneElement(a,{ref:_})})}),gV={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function vV(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=gV[t];return r+parseInt(pr(e,i[0]),10)+parseInt(pr(e,i[1]),10)}const yV={[Br]:"collapse",[yl]:"collapsing",[Sn]:"collapsing",[ir]:"collapse show"},_V=ct.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:u=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:m=!1,getDimensionValue:_=vV,...C},R)=>{const b=typeof a=="function"?a():a,T=g.useMemo(()=>Ca(L=>{L.style[b]="0"},t),[b,t]),E=g.useMemo(()=>Ca(L=>{const I=`scroll${b[0].toUpperCase()}${b.slice(1)}`;L.style[b]=`${L[I]}px`},e),[b,e]),S=g.useMemo(()=>Ca(L=>{L.style[b]=null},n),[b,n]),x=g.useMemo(()=>Ca(L=>{L.style[b]=`${_(b,L)}px`,tv(L)},r),[r,_,b]),M=g.useMemo(()=>Ca(L=>{L.style[b]=null},i),[b,i]);return v.jsx(oh,{ref:R,addEndListener:sh,...C,"aria-expanded":C.role?u:null,onEnter:T,onEntering:E,onEntered:S,onExit:x,onExiting:M,childRef:rh(o),in:u,timeout:c,mountOnEnter:d,unmountOnExit:f,appear:m,children:(L,I)=>ct.cloneElement(o,{...I,className:Q(s,o.props.className,yV[L],b==="width"&&"collapse-horizontal")})})});function jC(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t},[t]),e}function yi(t){const e=jC(t);return g.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const ah=t=>g.forwardRef((e,n)=>v.jsx("div",{...e,ref:n,className:Q(e.className,t)})),$C=ah("h4");$C.displayName="DivStyledAsH4";const UC=g.forwardRef(({className:t,bsPrefix:e,as:n=$C,...r},i)=>(e=J(e,"alert-heading"),v.jsx(n,{ref:i,className:Q(t,e),...r})));UC.displayName="AlertHeading";function EV(){return g.useState(null)}function wV(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t},[t]),e}function Tt(t){const e=wV(t);return g.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function TV(t,e,n,r=!1){const i=Tt(n);g.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function FC(){const t=g.useRef(!0),e=g.useRef(()=>t.current);return g.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function BC(t){const e=g.useRef(null);return g.useEffect(()=>{e.current=t}),e.current}const IV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",SV=typeof document<"u",ew=SV||IV?g.useLayoutEffect:g.useEffect,CV=["as","disabled"];function AV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RV(t){return!t||t.trim()==="#"}function rv({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:u}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const d=m=>{if((e||t==="a"&&RV(n))&&m.preventDefault(),e){m.stopPropagation();return}o==null||o(m)},f=m=>{m.key===" "&&(m.preventDefault(),d(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:d,onKeyDown:f},c]}const iv=g.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=AV(t,CV);const[s,{tagName:o}]=rv(Object.assign({tagName:n,disabled:r},i));return v.jsx(o,Object.assign({},i,s,{ref:e}))});iv.displayName="Button";const bV=["onKeyDown"];function kV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PV(t){return!t||t.trim()==="#"}const Co=g.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=kV(t,bV);const[i]=rv(Object.assign({tagName:"a"},r)),s=Tt(o=>{i.onKeyDown(o),n==null||n(o)});return PV(r.href)||r.role==="button"?v.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):v.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Co.displayName="Anchor";const zC=g.forwardRef(({className:t,bsPrefix:e,as:n=Co,...r},i)=>(e=J(e,"alert-link"),v.jsx(n,{ref:i,className:Q(t,e),...r})));zC.displayName="AlertLink";const NV={[Sn]:"show",[ir]:"show"},td=g.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=g.useCallback((u,c)=>{tv(u),r==null||r(u,c)},[r]);return v.jsx(oh,{ref:s,addEndListener:sh,...o,onEnter:a,childRef:rh(e),children:(u,c)=>g.cloneElement(e,{...c,className:Q("fade",t,e.props.className,NV[u],n[u])})})});td.displayName="Fade";const xV={"aria-label":Mt.string,onClick:Mt.func,variant:Mt.oneOf(["white"])},Wl=g.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>v.jsx("button",{ref:i,type:"button",className:Q("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Wl.displayName="CloseButton";Wl.propTypes=xV;const HC=g.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:u="primary",onClose:c,dismissible:d,transition:f=td,...m}=Hl(t,{show:"onClose"}),_=J(n,"alert"),C=yi(T=>{c&&c(!1,T)}),R=f===!0?td:f,b=v.jsxs("div",{role:"alert",...R?void 0:m,ref:e,className:Q(o,_,u&&`${_}-${u}`,d&&`${_}-dismissible`),children:[d&&v.jsx(Wl,{onClick:C,"aria-label":i,variant:s}),a]});return R?v.jsx(R,{unmountOnExit:!0,...m,ref:void 0,in:r,children:b}):r?b:null});HC.displayName="Alert";const nd=Object.assign(HC,{Link:zC,Heading:UC}),wr=g.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},u)=>{const c=J(e,"btn"),[d,{tagName:f}]=rv({tagName:t,disabled:s,...a}),m=f;return v.jsx(m,{...d,...a,ref:u,disabled:s,className:Q(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});wr.displayName="Button";const sv=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=J(e,"card-body"),v.jsx(n,{ref:i,className:Q(t,e),...r})));sv.displayName="CardBody";const WC=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=J(e,"card-footer"),v.jsx(n,{ref:i,className:Q(t,e),...r})));WC.displayName="CardFooter";const ov=g.createContext(null);ov.displayName="CardHeaderContext";const KC=g.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=J(t,"card-header"),o=g.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return v.jsx(ov.Provider,{value:o,children:v.jsx(n,{ref:i,...r,className:Q(e,s)})})});KC.displayName="CardHeader";const qC=g.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=J(t,"card-img");return v.jsx(r,{ref:s,className:Q(n?`${o}-${n}`:o,e),...i})});qC.displayName="CardImg";const GC=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=J(e,"card-img-overlay"),v.jsx(n,{ref:i,className:Q(t,e),...r})));GC.displayName="CardImgOverlay";const QC=g.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=J(e,"card-link"),v.jsx(n,{ref:i,className:Q(t,e),...r})));QC.displayName="CardLink";const OV=ah("h6"),YC=g.forwardRef(({className:t,bsPrefix:e,as:n=OV,...r},i)=>(e=J(e,"card-subtitle"),v.jsx(n,{ref:i,className:Q(t,e),...r})));YC.displayName="CardSubtitle";const XC=g.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=J(e,"card-text"),v.jsx(n,{ref:i,className:Q(t,e),...r})));XC.displayName="CardText";const DV=ah("h5"),JC=g.forwardRef(({className:t,bsPrefix:e,as:n=DV,...r},i)=>(e=J(e,"card-title"),v.jsx(n,{ref:i,className:Q(t,e),...r})));JC.displayName="CardTitle";const ZC=g.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...u},c)=>{const d=J(t,"card");return v.jsx(a,{ref:c,...u,className:Q(e,d,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?v.jsx(sv,{children:o}):o})});ZC.displayName="Card";const Ps=Object.assign(ZC,{Img:qC,Title:JC,Subtitle:YC,Body:sv,Link:QC,Text:XC,Header:KC,Footer:WC,ImgOverlay:GC});function LV(t,e){const n=g.useRef(!0);g.useEffect(()=>{if(n.current){n.current=!1;return}return t()},e)}function MV(){const t=g.useRef(!0),e=g.useRef(()=>t.current);return g.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function VV(t){const e=g.useRef(t);return e.current=t,e}function jV(t){const e=VV(t);g.useEffect(()=>()=>e.current(),[])}const cm=2**31-1;function eA(t,e,n){const r=n-Date.now();t.current=r<=cm?setTimeout(e,r):setTimeout(()=>eA(t,e,n),cm)}function $V(){const t=MV(),e=g.useRef();return jV(()=>clearTimeout(e.current)),g.useMemo(()=>{const n=()=>clearTimeout(e.current);function r(i,s=0){t()&&(n(),s<=cm?e.current=setTimeout(i,s):eA(e,i,Date.now()+s))}return{set:r,clear:n,handleRef:e}},[])}const tA=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=J(e,"carousel-caption"),v.jsx(n,{ref:i,className:Q(t,e),...r})));tA.displayName="CarouselCaption";const nA=g.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const s=Q(n,J(e,"carousel-item"));return v.jsx(t,{ref:i,...r,className:s})});nA.displayName="CarouselItem";function tw(t,e){let n=0;return g.Children.map(t,r=>g.isValidElement(r)?e(r,n++):r)}function UV(t,e){let n=0;g.Children.forEach(t,r=>{g.isValidElement(r)&&e(r,n++)})}function FV(t,e){return g.Children.toArray(t).some(n=>g.isValidElement(n)&&n.type===e)}const BV=40;function zV(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const rA=g.forwardRef(({defaultActiveIndex:t=0,...e},n)=>{const{as:r="div",bsPrefix:i,slide:s=!0,fade:o=!1,controls:a=!0,indicators:u=!0,indicatorLabels:c=[],activeIndex:d,onSelect:f,onSlide:m,onSlid:_,interval:C=5e3,keyboard:R=!0,onKeyDown:b,pause:T="hover",onMouseOver:E,onMouseOut:S,wrap:x=!0,touch:M=!0,onTouchStart:L,onTouchMove:I,onTouchEnd:y,prevIcon:A=v.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:P="Previous",nextIcon:N=v.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:O="Next",variant:k,className:de,children:Ie,...ge}=Hl({defaultActiveIndex:t,...e},{activeIndex:"onSelect"}),ae=J(i,"carousel"),$=xC(),W=g.useRef(null),[G,ue]=g.useState("next"),[le,ce]=g.useState(!1),[he,Ce]=g.useState(!1),[_e,nt]=g.useState(d||0);g.useEffect(()=>{!he&&d!==_e&&(W.current?ue(W.current):ue((d||0)>_e?"next":"prev"),s&&Ce(!0),nt(d||0))},[d,he,_e,s]),g.useEffect(()=>{W.current&&(W.current=null)});let Qe=0,tn;UV(Ie,(te,Ae)=>{++Qe,Ae===d&&(tn=te.props.interval)});const Ft=jC(tn),Be=g.useCallback(te=>{if(he)return;let Ae=_e-1;if(Ae<0){if(!x)return;Ae=Qe-1}W.current="prev",f==null||f(Ae,te)},[he,_e,f,x,Qe]),Ye=yi(te=>{if(he)return;let Ae=_e+1;if(Ae>=Qe){if(!x)return;Ae=0}W.current="next",f==null||f(Ae,te)}),xt=g.useRef();g.useImperativeHandle(n,()=>({element:xt.current,prev:Be,next:Ye}));const Bt=yi(()=>{!document.hidden&&zV(xt.current)&&($?Be():Ye())}),ve=G==="next"?"start":"end";LV(()=>{s||(m==null||m(_e,ve),_==null||_(_e,ve))},[_e]);const xn=`${ae}-item-${G}`,On=`${ae}-item-${ve}`,ta=g.useCallback(te=>{tv(te),m==null||m(_e,ve)},[m,_e,ve]),_s=g.useCallback(()=>{Ce(!1),_==null||_(_e,ve)},[_,_e,ve]),zt=g.useCallback(te=>{if(R&&!/input|textarea/i.test(te.target.tagName))switch(te.key){case"ArrowLeft":te.preventDefault(),$?Ye(te):Be(te);return;case"ArrowRight":te.preventDefault(),$?Be(te):Ye(te);return}b==null||b(te)},[R,b,Be,Ye,$]),Qn=g.useCallback(te=>{T==="hover"&&ce(!0),E==null||E(te)},[T,E]),Es=g.useCallback(te=>{ce(!1),S==null||S(te)},[S]),Yn=g.useRef(0),nn=g.useRef(0),Or=$V(),ze=g.useCallback(te=>{Yn.current=te.touches[0].clientX,nn.current=0,T==="hover"&&ce(!0),L==null||L(te)},[T,L]),Ke=g.useCallback(te=>{te.touches&&te.touches.length>1?nn.current=0:nn.current=te.touches[0].clientX-Yn.current,I==null||I(te)},[I]),Xn=g.useCallback(te=>{if(M){const Ae=nn.current;Math.abs(Ae)>BV&&(Ae>0?Be(te):Ye(te))}T==="hover"&&Or.set(()=>{ce(!1)},C||void 0),y==null||y(te)},[M,T,Be,Ye,Or,C,y]),na=C!=null&&!le&&!he,ws=g.useRef();g.useEffect(()=>{var te,Ae;if(!na)return;const rn=$?Be:Ye;return ws.current=window.setInterval(document.visibilityState?Bt:rn,(te=(Ae=Ft.current)!=null?Ae:C)!=null?te:void 0),()=>{ws.current!==null&&clearInterval(ws.current)}},[na,Be,Ye,Ft,C,Bt,$]);const su=g.useMemo(()=>u&&Array.from({length:Qe},(te,Ae)=>rn=>{f==null||f(Ae,rn)}),[u,Qe,f]);return v.jsxs(r,{ref:xt,...ge,onKeyDown:zt,onMouseOver:Qn,onMouseOut:Es,onTouchStart:ze,onTouchMove:Ke,onTouchEnd:Xn,className:Q(de,ae,s&&"slide",o&&`${ae}-fade`,k&&`${ae}-${k}`),children:[u&&v.jsx("div",{className:`${ae}-indicators`,children:tw(Ie,(te,Ae)=>v.jsx("button",{type:"button","data-bs-target":"","aria-label":c!=null&&c.length?c[Ae]:`Slide ${Ae+1}`,className:Ae===_e?"active":void 0,onClick:su?su[Ae]:void 0,"aria-current":Ae===_e},Ae))}),v.jsx("div",{className:`${ae}-inner`,children:tw(Ie,(te,Ae)=>{const rn=Ae===_e;return s?v.jsx(oh,{in:rn,onEnter:rn?ta:void 0,onEntered:rn?_s:void 0,addEndListener:sh,children:(Jn,Mh)=>g.cloneElement(te,{...Mh,className:Q(te.props.className,rn&&Jn!=="entered"&&xn,(Jn==="entered"||Jn==="exiting")&&"active",(Jn==="entering"||Jn==="exiting")&&On)})}):g.cloneElement(te,{className:Q(te.props.className,rn&&"active")})})}),a&&v.jsxs(v.Fragment,{children:[(x||d!==0)&&v.jsxs(Co,{className:`${ae}-control-prev`,onClick:Be,children:[A,P&&v.jsx("span",{className:"visually-hidden",children:P})]}),(x||d!==Qe-1)&&v.jsxs(Co,{className:`${ae}-control-next`,onClick:Ye,children:[N,O&&v.jsx("span",{className:"visually-hidden",children:O})]})]})]})});rA.displayName="Carousel";const nw=Object.assign(rA,{Caption:tA,Item:nA});function HV({as:t,bsPrefix:e,className:n,...r}){e=J(e,"col");const i=PC(),s=NC(),o=[],a=[];return i.forEach(u=>{const c=r[u];delete r[u];let d,f,m;typeof c=="object"&&c!=null?{span:d,offset:f,order:m}=c:d=c;const _=u!==s?`-${u}`:"";d&&o.push(d===!0?`${e}${_}`:`${e}${_}-${d}`),m!=null&&a.push(`order${_}-${m}`),f!=null&&a.push(`offset${_}-${f}`)}),[{...r,className:Q(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const lh=g.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=HV(t);return v.jsx(i,{...r,ref:e,className:Q(n,!o.length&&s)})});lh.displayName="Col";const uh=g.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=J(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return v.jsx(n,{ref:s,...i,className:Q(r,e?`${o}${a}`:o)})});uh.displayName="Container";var WV=Function.prototype.bind.call(Function.prototype.call,[].slice);function rr(t,e){return WV(t.querySelectorAll(e))}function KV(t,e,n){const r=g.useRef(t!==void 0),[i,s]=g.useState(e),o=t!==void 0,a=r.current;return r.current=o,!o&&a&&i!==e&&s(e),[o?t:i,g.useCallback((...u)=>{const[c,...d]=u;let f=n==null?void 0:n(c,...d);return s(c),f},[n])]}function iA(){const[,t]=g.useReducer(e=>e+1,0);return t}const ch=g.createContext(null);var rw=Object.prototype.hasOwnProperty;function iw(t,e,n){for(n of t.keys())if(Qa(n,e))return n}function Qa(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Qa(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=iw(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=iw(e,i),!i)||!Qa(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(rw.call(t,n)&&++r&&!rw.call(e,n)||!(n in e)||!Qa(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function qV(t){const e=FC();return[t[0],g.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}const GV=Ul({defaultModifiers:[Wg,Xd,Qd,Yd,Kg,Hg,qg,Ug]}),QV=["enabled","placement","strategy","modifiers"];function YV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const XV={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},JV={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},ZV=[];function e2(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=ZV}=n,a=YV(n,QV);const u=g.useRef(o),c=g.useRef(),d=g.useCallback(()=>{var b;(b=c.current)==null||b.update()},[]),f=g.useCallback(()=>{var b;(b=c.current)==null||b.forceUpdate()},[]),[m,_]=qV(g.useState({placement:i,update:d,forceUpdate:f,attributes:{},styles:{popper:{},arrow:{}}})),C=g.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const T={},E={};Object.keys(b.elements).forEach(S=>{T[S]=b.styles[S],E[S]=b.attributes[S]}),_({state:b,styles:T,attributes:E,update:d,forceUpdate:f,placement:b.placement})}}),[d,f,_]),R=g.useMemo(()=>(Qa(u.current,o)||(u.current=o),u.current),[o]);return g.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...R,C,XV]})},[s,i,C,r,R]),g.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=GV(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...R,JV,C]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,_(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function rd(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var t2=function(){},n2=t2;const r2=Ol(n2),sw=()=>{};function i2(t){return t.button===0}function s2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Ff=t=>t&&("current"in t?t.current:t),ow={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function o2(t,e=sw,{disabled:n,clickTrigger:r="click"}={}){const i=g.useRef(!1),s=g.useRef(!1),o=g.useCallback(c=>{const d=Ff(t);r2(!!d,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!d||s2(c)||!i2(c)||!!rd(d,c.target)||s.current,s.current=!1},[t]),a=Tt(c=>{const d=Ff(t);d&&rd(d,c.target)?s.current=!0:s.current=!1}),u=Tt(c=>{i.current||e(c)});g.useEffect(()=>{var c,d;if(n||t==null)return;const f=nh(Ff(t)),m=f.defaultView||window;let _=(c=m.event)!=null?c:(d=m.parent)==null?void 0:d.event,C=null;ow[r]&&(C=Yr(f,ow[r],a,!0));const R=Yr(f,r,o,!0),b=Yr(f,r,E=>{if(E===_){_=void 0;return}u(E)});let T=[];return"ontouchstart"in f.documentElement&&(T=[].slice.call(f.body.children).map(E=>Yr(E,"mousemove",sw))),()=>{C==null||C(),R(),b(),T.forEach(E=>E())}},[t,n,r,o,a,u])}function a2(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function l2(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function u2({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:u={}}){var c,d,f,m,_;const C=a2(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:s?"fixed":u.strategy,modifiers:l2(Object.assign({},C,{eventListeners:{enabled:e,options:(c=C.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},C.preventOverflow,{options:o?Object.assign({padding:o},(d=C.preventOverflow)==null?void 0:d.options):(f=C.preventOverflow)==null?void 0:f.options}),offset:{options:Object.assign({offset:i},(m=C.offset)==null?void 0:m.options)},arrow:Object.assign({},C.arrow,{enabled:!!a,options:Object.assign({},(_=C.arrow)==null?void 0:_.options,{element:a})}),flip:Object.assign({enabled:!!r},C.flip)}))})}const c2=["children","usePopper"];function d2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const h2=()=>{};function sA(t={}){const e=g.useContext(ch),[n,r]=EV(),i=g.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:u=!1,placement:c,popperConfig:d={},enableEventListeners:f=!0,usePopper:m=!!e}=t,_=(e==null?void 0:e.show)==null?!!t.show:e.show;_&&!i.current&&(i.current=!0);const C=L=>{e==null||e.toggle(!1,L)},{placement:R,setMenu:b,menuElement:T,toggleElement:E}=e||{},S=e2(E,T,u2({placement:c||R||"bottom-start",enabled:m,enableEvents:f??_,offset:o,flip:s,fixed:u,arrowElement:n,popperConfig:d})),x=Object.assign({ref:b||h2,"aria-labelledby":E==null?void 0:E.id},S.attributes.popper,{style:S.styles.popper}),M={show:_,placement:R,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?S:null,arrowProps:m?Object.assign({ref:r},S.attributes.arrow,{style:S.styles.arrow}):{}};return o2(T,C,{clickTrigger:a,disabled:!_}),[x,M]}function oA(t){let{children:e,usePopper:n=!0}=t,r=d2(t,c2);const[i,s]=sA(Object.assign({},r,{usePopper:n}));return v.jsx(v.Fragment,{children:e(i,s)})}oA.displayName="DropdownMenu";const id={prefix:String(Math.round(Math.random()*1e10)),current:0},aA=ct.createContext(id),f2=ct.createContext(!1);let p2=!!(typeof window<"u"&&window.document&&window.document.createElement),Bf=new WeakMap;function m2(t=!1){let e=g.useContext(aA),n=g.useRef(null);if(n.current===null&&!t){var r,i;let s=(i=ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let o=Bf.get(s);o==null?Bf.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,Bf.delete(s))}n.current=++e.current}return n.current}function g2(t){let e=g.useContext(aA);e===id&&!p2&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=m2(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function v2(t){let e=ct.useId(),[n]=g.useState(T2()),r=n?"react-aria":`react-aria${id.prefix}`;return t||`${r}-${e}`}const y2=typeof ct.useId=="function"?v2:g2;function _2(){return!1}function E2(){return!0}function w2(t){return()=>{}}function T2(){return typeof ct.useSyncExternalStore=="function"?ct.useSyncExternalStore(w2,_2,E2):g.useContext(f2)}const lA=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},aw=()=>{};function uA(){const t=y2(),{show:e=!1,toggle:n=aw,setToggle:r,menuElement:i}=g.useContext(ch)||{},s=g.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||aw,onClick:s,"aria-expanded":!!e};return i&&lA(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function cA({children:t}){const[e,n]=uA();return v.jsx(v.Fragment,{children:t(e,n)})}cA.displayName="DropdownToggle";const is=g.createContext(null),_l=(t,e=null)=>t!=null?String(t):e||null,dh=g.createContext(null);dh.displayName="NavContext";const I2="data-rr-ui-",S2="rrUi";function Ko(t){return`${I2}${t}`}function C2(t){return`${S2}${t}`}const A2=["eventKey","disabled","onClick","active","as"];function R2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dA({key:t,href:e,active:n,disabled:r,onClick:i}){const s=g.useContext(is),o=g.useContext(dh),{activeKey:a}=o||{},u=_l(t,e),c=n==null&&t!=null?_l(a)===u:n;return[{onClick:Tt(f=>{r||(i==null||i(f),s&&!f.isPropagationStopped()&&s(u,f))}),"aria-disabled":r||void 0,"aria-selected":c,[Ko("dropdown-item")]:""},{isActive:c}]}const hA=g.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=iv}=t,a=R2(t,A2);const[u]=dA({key:n,href:a.href,disabled:r,onClick:i,active:s});return v.jsx(o,Object.assign({},a,{ref:e},u))});hA.displayName="DropdownItem";const fA=g.createContext(ih?window:void 0);fA.Provider;function hh(){return g.useContext(fA)}function lw(){const t=iA(),e=g.useRef(null),n=g.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function Kl({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ko("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const u=hh(),[c,d]=KV(e,t,r),[f,m]=lw(),_=f.current,[C,R]=lw(),b=C.current,T=BC(c),E=g.useRef(null),S=g.useRef(!1),x=g.useContext(is),M=g.useCallback((N,O,k=O==null?void 0:O.type)=>{d(N,{originalEvent:O,source:k})},[d]),L=Tt((N,O)=>{n==null||n(N,O),M(!1,O,"select"),O.isPropagationStopped()||x==null||x(N,O)}),I=g.useMemo(()=>({toggle:M,placement:o,show:c,menuElement:_,toggleElement:b,setMenu:m,setToggle:R}),[M,o,c,_,b,m,R]);_&&T&&!c&&(S.current=_.contains(_.ownerDocument.activeElement));const y=Tt(()=>{b&&b.focus&&b.focus()}),A=Tt(()=>{const N=E.current;let O=s;if(O==null&&(O=f.current&&lA(f.current)?"keyboard":!1),O===!1||O==="keyboard"&&!/^key.+$/.test(N))return;const k=rr(f.current,i)[0];k&&k.focus&&k.focus()});g.useEffect(()=>{c?A():S.current&&(S.current=!1,y())},[c,S,y,A]),g.useEffect(()=>{E.current=null});const P=(N,O)=>{if(!f.current)return null;const k=rr(f.current,i);let de=k.indexOf(N)+O;return de=Math.max(0,Math.min(de,k.length)),k[de]};return TV(g.useCallback(()=>u.document,[u]),"keydown",N=>{var O,k;const{key:de}=N,Ie=N.target,ge=(O=f.current)==null?void 0:O.contains(Ie),ae=(k=C.current)==null?void 0:k.contains(Ie);if(/input|textarea/i.test(Ie.tagName)&&(de===" "||de!=="Escape"&&ge||de==="Escape"&&Ie.type==="search")||!ge&&!ae||de==="Tab"&&(!f.current||!c))return;E.current=N.type;const W={originalEvent:N,source:N.type};switch(de){case"ArrowUp":{const G=P(Ie,-1);G&&G.focus&&G.focus(),N.preventDefault();return}case"ArrowDown":if(N.preventDefault(),!c)d(!0,W);else{const G=P(Ie,1);G&&G.focus&&G.focus()}return;case"Tab":VC(Ie.ownerDocument,"keyup",G=>{var ue;(G.key==="Tab"&&!G.target||!((ue=f.current)!=null&&ue.contains(G.target)))&&d(!1,W)},{once:!0});break;case"Escape":de==="Escape"&&(N.preventDefault(),N.stopPropagation()),d(!1,W);break}}),v.jsx(is.Provider,{value:L,children:v.jsx(ch.Provider,{value:I,children:a})})}Kl.displayName="Dropdown";Kl.Menu=oA;Kl.Toggle=cA;Kl.Item=hA;const av=g.createContext({});av.displayName="DropdownContext";const pA=g.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=J(e,"dropdown-divider"),v.jsx(n,{ref:s,className:Q(t,e),role:r,...i})));pA.displayName="DropdownDivider";const mA=g.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=J(e,"dropdown-header"),v.jsx(n,{ref:s,className:Q(t,e),role:r,...i})));mA.displayName="DropdownHeader";const gA=g.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=Co,...a},u)=>{const c=J(t,"dropdown-item"),[d,f]=dA({key:n,href:a.href,disabled:r,onClick:i,active:s});return v.jsx(o,{...a,...d,ref:u,className:Q(e,c,f.isActive&&"active",r&&"disabled")})});gA.displayName="DropdownItem";const vA=g.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=J(e,"dropdown-item-text"),v.jsx(n,{ref:i,className:Q(t,e),...r})));vA.displayName="DropdownItemText";const b2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",k2=typeof document<"u",yA=k2||b2?g.useLayoutEffect:g.useEffect,lv=g.createContext(null);lv.displayName="InputGroupContext";const fs=g.createContext(null);fs.displayName="NavbarContext";function _A(t,e){return t}function EA(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",u=n?"right-end":"left-end",c=n?"left-start":"right-start",d=n?"left-end":"right-end";let f=t?o:s;return e==="up"?f=t?i:r:e==="end"?f=t?d:c:e==="start"?f=t?u:a:e==="down-centered"?f="bottom":e==="up-centered"&&(f="top"),f}const wA=g.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:a="div",popperConfig:u,variant:c,...d},f)=>{let m=!1;const _=g.useContext(fs),C=J(t,"dropdown-menu"),{align:R,drop:b,isRTL:T}=g.useContext(av);n=n||R;const E=g.useContext(lv),S=[];if(n)if(typeof n=="object"){const N=Object.keys(n);if(N.length){const O=N[0],k=n[O];m=k==="start",S.push(`${C}-${O}-${k}`)}}else n==="end"&&(m=!0);const x=EA(m,b,T),[M,{hasShown:L,popper:I,show:y,toggle:A}]=sA({flip:i,rootCloseEvent:r,show:s,usePopper:!_&&S.length===0,offset:[0,2],popperConfig:u,placement:x});if(M.ref=nv(_A(f),M.ref),yA(()=>{y&&(I==null||I.update())},[y]),!L&&!o&&!E)return null;typeof a!="string"&&(M.show=y,M.close=()=>A==null?void 0:A(!1),M.align=n);let P=d.style;return I!=null&&I.placement&&(P={...d.style,...M.style},d["x-placement"]=I.placement),v.jsx(a,{...d,...M,style:P,...(S.length||_)&&{"data-bs-popper":"static"},className:Q(e,C,y&&"show",m&&`${C}-end`,c&&`${C}-${c}`,...S)})});wA.displayName="DropdownMenu";const TA=g.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=wr,...s},o)=>{const a=J(t,"dropdown-toggle"),u=g.useContext(ch);r!==void 0&&(s.bsPrefix=r);const[c]=uA();return c.ref=nv(c.ref,_A(o)),v.jsx(i,{className:Q(n,a,e&&`${a}-split`,(u==null?void 0:u.show)&&"show"),...c,...s})});TA.displayName="DropdownToggle";const IA=g.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:a,onToggle:u,focusFirstItemOnShow:c,as:d="div",navbar:f,autoClose:m=!0,..._}=Hl(t,{show:"onToggle"}),C=g.useContext(lv),R=J(n,"dropdown"),b=xC(),T=I=>m===!1?I==="click":m==="inside"?I!=="rootClose":m==="outside"?I!=="select":!0,E=yi((I,y)=>{var A;!((A=y.originalEvent)==null||(A=A.target)==null)&&A.classList.contains("dropdown-toggle")&&y.source==="mousedown"||(y.originalEvent.currentTarget===document&&(y.source!=="keydown"||y.originalEvent.key==="Escape")&&(y.source="rootClose"),T(y.source)&&(u==null||u(I,y)))}),x=EA(o==="end",r,b),M=g.useMemo(()=>({align:o,drop:r,isRTL:b}),[o,r,b]),L={down:R,"down-centered":`${R}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return v.jsx(av.Provider,{value:M,children:v.jsx(Kl,{placement:x,show:i,onSelect:a,onToggle:E,focusFirstItemOnShow:c,itemSelector:`.${R}-item:not(.disabled):not(:disabled)`,children:C?_.children:v.jsx(d,{..._,ref:e,className:Q(s,i&&"show",L[r])})})})});IA.displayName="Dropdown";const Hi=Object.assign(IA,{Toggle:TA,Menu:wA,Item:gA,ItemText:vA,Divider:pA,Header:mA});Mt.string,Mt.bool,Mt.bool,Mt.bool,Mt.bool;const SA=g.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:s=!1,...o},a)=>(t=J(t,"img"),v.jsx("img",{ref:a,...o,className:Q(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));SA.displayName="Image";const P2={type:Mt.string,tooltip:Mt.bool,as:Mt.elementType},fh=g.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>v.jsx(t,{...i,ref:s,className:Q(e,`${n}-${r?"tooltip":"feedback"}`)}));fh.displayName="Feedback";fh.propTypes=P2;const Tr=g.createContext({}),uv=g.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},u)=>{const{controlId:c}=g.useContext(Tr);return e=J(e,"form-check-input"),v.jsx(o,{...a,ref:u,type:r,id:t||c,className:Q(n,e,i&&"is-valid",s&&"is-invalid")})});uv.displayName="FormCheckInput";const sd=g.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=g.useContext(Tr);return t=J(t,"form-check-label"),v.jsx("label",{...r,ref:i,htmlFor:n||s,className:Q(e,t)})});sd.displayName="FormCheckLabel";const CA=g.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:u=!1,feedback:c,feedbackType:d,className:f,style:m,title:_="",type:C="checkbox",label:R,children:b,as:T="input",...E},S)=>{e=J(e,"form-check"),n=J(n,"form-switch");const{controlId:x}=g.useContext(Tr),M=g.useMemo(()=>({controlId:t||x}),[x,t]),L=!b&&R!=null&&R!==!1||FV(b,sd),I=v.jsx(uv,{...E,type:C==="switch"?"checkbox":C,ref:S,isValid:o,isInvalid:a,disabled:s,as:T});return v.jsx(Tr.Provider,{value:M,children:v.jsx("div",{style:m,className:Q(f,L&&e,r&&`${e}-inline`,i&&`${e}-reverse`,C==="switch"&&n),children:b||v.jsxs(v.Fragment,{children:[I,L&&v.jsx(sd,{title:_,children:R}),c&&v.jsx(fh,{type:d,tooltip:u,children:c})]})})})});CA.displayName="FormCheck";const od=Object.assign(CA,{Input:uv,Label:sd}),AA=g.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:u,readOnly:c,as:d="input",...f},m)=>{const{controlId:_}=g.useContext(Tr);return t=J(t,"form-control"),v.jsx(d,{...f,type:e,size:r,ref:m,readOnly:c,id:i||_,className:Q(s,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});AA.displayName="FormControl";const N2=Object.assign(AA,{Feedback:fh}),RA=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=J(e,"form-floating"),v.jsx(n,{ref:i,className:Q(t,e),...r})));RA.displayName="FormFloating";const cv=g.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=g.useMemo(()=>({controlId:t}),[t]);return v.jsx(Tr.Provider,{value:i,children:v.jsx(e,{...n,ref:r})})});cv.displayName="FormGroup";const bA=g.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:u}=g.useContext(Tr);e=J(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const d=Q(i,e,r&&"visually-hidden",n&&c);return s=s||u,n?v.jsx(lh,{ref:a,as:"label",className:d,htmlFor:s,...o}):v.jsx(t,{ref:a,className:d,htmlFor:s,...o})});bA.displayName="FormLabel";const kA=g.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=g.useContext(Tr);return t=J(t,"form-range"),v.jsx("input",{...r,type:"range",ref:i,className:Q(e,t),id:n||s})});kA.displayName="FormRange";const PA=g.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},u)=>{const{controlId:c}=g.useContext(Tr);return t=J(t,"form-select"),v.jsx("select",{...a,size:n,ref:u,className:Q(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});PA.displayName="FormSelect";const NA=g.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=J(t,"form-text"),v.jsx(n,{...i,ref:s,className:Q(e,t,r&&"text-muted")})));NA.displayName="FormText";const xA=g.forwardRef((t,e)=>v.jsx(od,{...t,ref:e,type:"switch"}));xA.displayName="Switch";const x2=Object.assign(xA,{Input:od.Input,Label:od.Label}),OA=g.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=J(t,"form-floating"),v.jsxs(cv,{ref:o,className:Q(e,t),controlId:r,...s,children:[n,v.jsx("label",{htmlFor:r,children:i})]})));OA.displayName="FloatingLabel";const O2={_ref:Mt.any,validated:Mt.bool,as:Mt.elementType},dv=g.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>v.jsx(n,{...r,ref:i,className:Q(t,e&&"was-validated")}));dv.displayName="Form";dv.propTypes=O2;const sn=Object.assign(dv,{Group:cv,Control:N2,Floating:RA,Check:od,Switch:x2,Label:bA,Text:NA,Range:kA,Select:PA,FloatingLabel:OA}),uw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function D2(t,e){const n=uw(t),r=uw(e);return i=>{n&&n(i),r&&r(i)}}function ph(t,e){return g.useMemo(()=>D2(t,e),[t,e])}const DA=g.createContext(null),L2=["as","active","eventKey"];function M2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LA({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=g.useContext(is),a=g.useContext(dh),u=g.useContext(DA);let c=n;const d={role:i};if(a){!i&&a.role==="tablist"&&(d.role="tab");const f=a.getControllerId(t??null),m=a.getControlledId(t??null);d[Ko("event-key")]=t,d.id=f||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(d["aria-controls"]=m)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Tt(f=>{s||(e==null||e(f),t!=null&&o&&!f.isPropagationStopped()&&o(t,f))}),[d,{isActive:c}]}const MA=g.forwardRef((t,e)=>{let{as:n=iv,active:r,eventKey:i}=t,s=M2(t,L2);const[o,a]=LA(Object.assign({key:_l(i,s.href),active:r},s));return o[Ko("active")]=a.isActive,v.jsx(n,Object.assign({},s,o,{ref:e}))});MA.displayName="NavItem";const V2=["as","onSelect","activeKey","role","onKeyDown"];function j2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const cw=()=>{},dw=Ko("event-key"),VA=g.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=j2(t,V2);const u=iA(),c=g.useRef(!1),d=g.useContext(is),f=g.useContext(DA);let m,_;f&&(s=s||"tablist",i=f.activeKey,m=f.getControlledId,_=f.getControllerId);const C=g.useRef(null),R=S=>{const x=C.current;if(!x)return null;const M=rr(x,`[${dw}]:not([aria-disabled=true])`),L=x.querySelector("[aria-selected=true]");if(!L||L!==document.activeElement)return null;const I=M.indexOf(L);if(I===-1)return null;let y=I+S;return y>=M.length&&(y=0),y<0&&(y=M.length-1),M[y]},b=(S,x)=>{S!=null&&(r==null||r(S,x),d==null||d(S,x))},T=S=>{if(o==null||o(S),!f)return;let x;switch(S.key){case"ArrowLeft":case"ArrowUp":x=R(-1);break;case"ArrowRight":case"ArrowDown":x=R(1);break;default:return}x&&(S.preventDefault(),b(x.dataset[C2("EventKey")]||null,S),c.current=!0,u())};g.useEffect(()=>{if(C.current&&c.current){const S=C.current.querySelector(`[${dw}][aria-selected=true]`);S==null||S.focus()}c.current=!1});const E=ph(e,C);return v.jsx(is.Provider,{value:b,children:v.jsx(dh.Provider,{value:{role:s,activeKey:_l(i),getControlledId:m||cw,getControllerId:_||cw},children:v.jsx(n,Object.assign({},a,{onKeyDown:T,ref:E,role:s}))})})});VA.displayName="Nav";const $2=Object.assign(VA,{Item:MA});function zf(t){t===void 0&&(t=nh());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function U2(t){const e=g.useRef(t);return e.current=t,e}function F2(t){const e=U2(t);g.useEffect(()=>()=>e.current(),[])}function B2(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const hw=Ko("modal-open");class hv{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return B2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(pr(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(hw,""),pr(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(hw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Hf=(t,e)=>ih?t==null?(e||nh()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function z2(t,e){const n=hh(),[r,i]=g.useState(()=>Hf(t,n==null?void 0:n.document));if(!r){const s=Hf(t);s&&i(s)}return g.useEffect(()=>{},[e,r]),g.useEffect(()=>{const s=Hf(t);s!==r&&i(s)},[t,r]),r}function H2({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=g.useRef(null),o=g.useRef(e),a=Tt(n);g.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const u=ph(s,t.ref),c=g.cloneElement(t,{ref:u});return e?c:i||!o.current&&r?null:c}const W2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function K2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q2(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:u}=t,c=K2(t,W2);const d=g.useRef(null),f=ph(d,rh(u)),m=x=>M=>{x&&d.current&&x(d.current,M)},_=g.useCallback(m(e),[e]),C=g.useCallback(m(n),[n]),R=g.useCallback(m(r),[r]),b=g.useCallback(m(i),[i]),T=g.useCallback(m(s),[s]),E=g.useCallback(m(o),[o]),S=g.useCallback(m(a),[a]);return Object.assign({},c,{nodeRef:d},e&&{onEnter:_},n&&{onEntering:C},r&&{onEntered:R},i&&{onExit:b},s&&{onExiting:T},o&&{onExited:E},a&&{addEndListener:S},{children:typeof u=="function"?(x,M)=>u(x,Object.assign({},M,{ref:f})):g.cloneElement(u,{ref:f})})}const G2=["component"];function Q2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Y2=g.forwardRef((t,e)=>{let{component:n}=t,r=Q2(t,G2);const i=q2(r);return v.jsx(n,Object.assign({ref:e},i))});function X2({in:t,onTransition:e}){const n=g.useRef(null),r=g.useRef(!0),i=Tt(e);return ew(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),ew(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function J2({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=g.useState(!e);e&&s&&o(!1);const a=X2({in:!!e,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(d,f=>{throw c.in||o(!0),f})}}),u=ph(a,t.ref);return s&&!e?null:g.cloneElement(t,{ref:u})}function fw(t,e,n){return t?v.jsx(Y2,Object.assign({},n,{component:t})):e?v.jsx(J2,Object.assign({},n,{transition:e})):v.jsx(H2,Object.assign({},n))}const Z2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ej(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Wf;function tj(t){return Wf||(Wf=new hv({ownerDocument:t==null?void 0:t.document})),Wf}function nj(t){const e=hh(),n=t||tj(e),r=g.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:g.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:g.useCallback(i=>{r.current.backdrop=i},[])})}const jA=g.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:f,runTransition:m,backdropTransition:_,runBackdropTransition:C,autoFocus:R=!0,enforceFocus:b=!0,restoreFocus:T=!0,restoreFocusOptions:E,renderDialog:S,renderBackdrop:x=ve=>v.jsx("div",Object.assign({},ve)),manager:M,container:L,onShow:I,onHide:y=()=>{},onExit:A,onExited:P,onExiting:N,onEnter:O,onEntering:k,onEntered:de}=t,Ie=ej(t,Z2);const ge=hh(),ae=z2(L),$=nj(M),W=FC(),G=BC(n),[ue,le]=g.useState(!n),ce=g.useRef(null);g.useImperativeHandle(e,()=>$,[$]),ih&&!G&&n&&(ce.current=zf(ge==null?void 0:ge.document)),n&&ue&&le(!1);const he=Tt(()=>{if($.add(),Ft.current=Yr(document,"keydown",Qe),tn.current=Yr(document,"focus",()=>setTimeout(_e),!0),I&&I(),R){var ve,xn;const On=zf((ve=(xn=$.dialog)==null?void 0:xn.ownerDocument)!=null?ve:ge==null?void 0:ge.document);$.dialog&&On&&!rd($.dialog,On)&&(ce.current=On,$.dialog.focus())}}),Ce=Tt(()=>{if($.remove(),Ft.current==null||Ft.current(),tn.current==null||tn.current(),T){var ve;(ve=ce.current)==null||ve.focus==null||ve.focus(E),ce.current=null}});g.useEffect(()=>{!n||!ae||he()},[n,ae,he]),g.useEffect(()=>{ue&&Ce()},[ue,Ce]),F2(()=>{Ce()});const _e=Tt(()=>{if(!b||!W()||!$.isTopModal())return;const ve=zf(ge==null?void 0:ge.document);$.dialog&&ve&&!rd($.dialog,ve)&&$.dialog.focus()}),nt=Tt(ve=>{ve.target===ve.currentTarget&&(c==null||c(ve),a===!0&&y())}),Qe=Tt(ve=>{u&&aV(ve)&&$.isTopModal()&&(d==null||d(ve),ve.defaultPrevented||y())}),tn=g.useRef(),Ft=g.useRef(),Be=(...ve)=>{le(!0),P==null||P(...ve)};if(!ae)return null;const Ye=Object.assign({role:r,ref:$.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ie,{style:s,className:i,tabIndex:-1});let xt=S?S(Ye):v.jsx("div",Object.assign({},Ye,{children:g.cloneElement(o,{role:"document"})}));xt=fw(f,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:A,onExiting:N,onExited:Be,onEnter:O,onEntering:k,onEntered:de,children:xt});let Bt=null;return a&&(Bt=x({ref:$.setBackdropRef,onClick:nt}),Bt=fw(_,C,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Bt})),v.jsx(v.Fragment,{children:Xs.createPortal(v.jsxs(v.Fragment,{children:[Bt,xt]}),ae)})});jA.displayName="Modal";const rj=Object.assign(jA,{Manager:hv});function ij(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function sj(t,e){t.classList?t.classList.add(e):ij(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function pw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function oj(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=pw(t.className,e):t.setAttribute("class",pw(t.className&&t.className.baseVal||"",e))}const Ns={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class $A extends hv{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,pr(n,{[e]:`${parseFloat(pr(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],pr(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(sj(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";rr(n,Ns.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),rr(n,Ns.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),rr(n,Ns.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();oj(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";rr(n,Ns.FIXED_CONTENT).forEach(s=>this.restore(r,s)),rr(n,Ns.STICKY_CONTENT).forEach(s=>this.restore(i,s)),rr(n,Ns.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Kf;function aj(t){return Kf||(Kf=new $A(t)),Kf}const UA=g.createContext({onHide(){}}),lj=g.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=g.useContext(UA),u=yi(()=>{a==null||a.onHide(),r==null||r()});return v.jsxs("div",{ref:o,...s,children:[i,n&&v.jsx(Wl,{"aria-label":t,variant:e,onClick:u})]})}),FA=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=J(e,"nav-item"),v.jsx(n,{ref:i,className:Q(t,e),...r})));FA.displayName="NavItem";const fv=g.forwardRef(({bsPrefix:t,className:e,as:n=Co,active:r,eventKey:i,disabled:s=!1,...o},a)=>{t=J(t,"nav-link");const[u,c]=LA({key:_l(i,o.href),active:r,disabled:s,...o});return v.jsx(n,{...o,...u,ref:a,disabled:s,className:Q(e,t,s&&"disabled",c.isActive&&"active")})});fv.displayName="NavLink";const BA=g.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:u,className:c,activeKey:d,...f}=Hl(t,{activeKey:"onSelect"}),m=J(r,"nav");let _,C,R=!1;const b=g.useContext(fs),T=g.useContext(ov);return b?(_=b.bsPrefix,R=a??!0):T&&({cardHeaderBsPrefix:C}=T),v.jsx($2,{as:n,ref:e,activeKey:d,className:Q(c,{[m]:!R,[`${_}-nav`]:R,[`${_}-nav-scroll`]:R&&u,[`${C}-${i}`]:!!C,[`${m}-${i}`]:!!i,[`${m}-fill`]:s,[`${m}-justified`]:o}),...f})});BA.displayName="Nav";const mw=Object.assign(BA,{Item:FA,Link:fv}),zA=g.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=J(t,"navbar-brand");const s=n||(r.href?"a":"span");return v.jsx(s,{...r,ref:i,className:Q(e,t)})});zA.displayName="NavbarBrand";const HA=g.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=J(e,"navbar-collapse");const i=g.useContext(fs);return v.jsx(_V,{in:!!(i&&i.expanded),...n,children:v.jsx("div",{ref:r,className:e,children:t})})});HA.displayName="NavbarCollapse";const WA=g.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{t=J(t,"navbar-toggler");const{onToggle:u,expanded:c}=g.useContext(fs)||{},d=yi(f=>{s&&s(f),u&&u()});return i==="button"&&(o.type="button"),v.jsx(i,{...o,ref:a,onClick:d,"aria-label":r,className:Q(e,t,!c&&"collapsed"),children:n||v.jsx("span",{className:`${t}-icon`})})});WA.displayName="NavbarToggle";const dm=new WeakMap,gw=(t,e)=>{if(!t||!e)return;const n=dm.get(e)||new Map;dm.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function uj(t,e=typeof window>"u"?void 0:window){const n=gw(t,e),[r,i]=g.useState(()=>n?n.matches:!1);return yA(()=>{let s=gw(t,e);if(!s)return i(!1);let o=dm.get(e);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function cj(t){const e=Object.keys(t);function n(a,u){return a===u?u:a?`${a} and ${u}`:u}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){const u=r(a);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(a){let u=t[a];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function o(a,u,c){let d;typeof a=="object"?(d=a,c=u,u=!0):(u=u||!0,d={[a]:u});let f=g.useMemo(()=>Object.entries(d).reduce((m,[_,C])=>((C==="up"||C===!0)&&(m=n(m,s(_))),(C==="down"||C===!0)&&(m=n(m,i(_))),m),""),[JSON.stringify(d)]);return uj(f,c)}return o}const dj=cj({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),KA=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=J(e,"offcanvas-body"),v.jsx(n,{ref:i,className:Q(t,e),...r})));KA.displayName="OffcanvasBody";const hj={[Sn]:"show",[ir]:"show"},qA=g.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},u)=>(t=J(t,"offcanvas"),v.jsx(oh,{ref:u,addEndListener:sh,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:rh(n),children:(c,d)=>g.cloneElement(n,{...d,className:Q(e,n.props.className,(c===Sn||c===yl)&&`${t}-toggling`,hj[c])})})));qA.displayName="OffcanvasToggling";const GA=g.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=J(t,"offcanvas-header"),v.jsx(lj,{ref:s,...i,className:Q(e,t),closeLabel:n,closeButton:r})));GA.displayName="OffcanvasHeader";const fj=ah("h5"),QA=g.forwardRef(({className:t,bsPrefix:e,as:n=fj,...r},i)=>(e=J(e,"offcanvas-title"),v.jsx(n,{ref:i,className:Q(t,e),...r})));QA.displayName="OffcanvasTitle";function pj(t){return v.jsx(qA,{...t})}function mj(t){return v.jsx(td,{...t})}const YA=g.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:f,onHide:m,container:_,autoFocus:C=!0,enforceFocus:R=!0,restoreFocus:b=!0,restoreFocusOptions:T,onEntered:E,onExit:S,onExiting:x,onEnter:M,onEntering:L,onExited:I,backdropClassName:y,manager:A,renderStaticNode:P=!1,...N},O)=>{const k=g.useRef();t=J(t,"offcanvas");const[de,Ie]=g.useState(!1),ge=yi(m),ae=dj(s||"xs","up");g.useEffect(()=>{Ie(s?o&&!ae:o)},[o,s,ae]);const $=g.useMemo(()=>({onHide:ge}),[ge]);function W(){return A||(c?(k.current||(k.current=new $A({handleContainerOverflow:!1})),k.current):aj())}const G=(he,...Ce)=>{he&&(he.style.visibility="visible"),M==null||M(he,...Ce)},ue=(he,...Ce)=>{he&&(he.style.visibility=""),I==null||I(...Ce)},le=g.useCallback(he=>v.jsx("div",{...he,className:Q(`${t}-backdrop`,y)}),[y,t]),ce=he=>v.jsx("div",{...he,...N,className:Q(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return v.jsxs(v.Fragment,{children:[!de&&(s||P)&&ce({}),v.jsx(UA.Provider,{value:$,children:v.jsx(rj,{show:de,ref:O,backdrop:a,container:_,keyboard:u,autoFocus:C,enforceFocus:R&&!c,restoreFocus:b,restoreFocusOptions:T,onEscapeKeyDown:d,onShow:f,onHide:ge,onEnter:G,onEntering:L,onEntered:E,onExit:S,onExiting:x,onExited:ue,manager:W(),transition:pj,backdropTransition:mj,renderBackdrop:le,renderDialog:ce})})]})});YA.displayName="Offcanvas";const gj=Object.assign(YA,{Body:KA,Header:GA,Title:QA}),XA=g.forwardRef(({onHide:t,...e},n)=>{const r=g.useContext(fs),i=yi(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return v.jsx(gj,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});XA.displayName="NavbarOffcanvas";const JA=g.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=J(e,"navbar-text"),v.jsx(n,{ref:i,className:Q(t,e),...r})));JA.displayName="NavbarText";const ZA=g.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:u,as:c="nav",expanded:d,onToggle:f,onSelect:m,collapseOnSelect:_=!1,...C}=Hl(t,{expanded:"onToggle"}),R=J(n,"navbar"),b=g.useCallback((...S)=>{m==null||m(...S),_&&d&&(f==null||f(!1))},[m,_,d,f]);C.role===void 0&&c!=="nav"&&(C.role="navigation");let T=`${R}-expand`;typeof r=="string"&&(T=`${T}-${r}`);const E=g.useMemo(()=>({onToggle:()=>f==null?void 0:f(!d),bsPrefix:R,expanded:!!d,expand:r}),[R,d,r,f]);return v.jsx(fs.Provider,{value:E,children:v.jsx(is.Provider,{value:b,children:v.jsx(c,{ref:e,...C,className:Q(u,R,r&&T,i&&`${R}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});ZA.displayName="Navbar";const Ku=Object.assign(ZA,{Brand:zA,Collapse:HA,Offcanvas:XA,Text:JA,Toggle:WA}),eR=g.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:u,renderMenuOnMount:c,menuVariant:d,...f},m)=>{const _=J(void 0,"nav-item");return v.jsxs(Hi,{ref:m,...f,className:Q(i,_),children:[v.jsx(Hi.Toggle,{id:t,eventKey:null,active:u,disabled:a,childBsPrefix:r,as:fv,children:e}),v.jsx(Hi.Menu,{role:o,renderOnMount:c,rootCloseEvent:s,variant:d,children:n})]})});eR.displayName="NavDropdown";const Aa=Object.assign(eR,{Item:Hi.Item,ItemText:Hi.ItemText,Divider:Hi.Divider,Header:Hi.Header}),mh=g.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=J(t,"row"),o=PC(),a=NC(),u=`${s}-cols`,c=[];return o.forEach(d=>{const f=r[d];delete r[d];let m;f!=null&&typeof f=="object"?{cols:m}=f:m=f;const _=d!==a?`-${d}`:"";m!=null&&c.push(`${u}${_}-${m}`)}),v.jsx(n,{ref:i,...r,className:Q(e,s,...c)})});mh.displayName="Row";function Y(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(t,[])).next())})}function vj(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let ne=class{constructor(e,n,r){this.method=e,this.attribute=n,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};ne.equal=(t,e)=>new ne("equal",t,e).toString();ne.notEqual=(t,e)=>new ne("notEqual",t,e).toString();ne.lessThan=(t,e)=>new ne("lessThan",t,e).toString();ne.lessThanEqual=(t,e)=>new ne("lessThanEqual",t,e).toString();ne.greaterThan=(t,e)=>new ne("greaterThan",t,e).toString();ne.greaterThanEqual=(t,e)=>new ne("greaterThanEqual",t,e).toString();ne.isNull=t=>new ne("isNull",t).toString();ne.isNotNull=t=>new ne("isNotNull",t).toString();ne.between=(t,e,n)=>new ne("between",t,[e,n]).toString();ne.startsWith=(t,e)=>new ne("startsWith",t,e).toString();ne.endsWith=(t,e)=>new ne("endsWith",t,e).toString();ne.select=t=>new ne("select",void 0,t).toString();ne.search=(t,e)=>new ne("search",t,e).toString();ne.orderDesc=t=>new ne("orderDesc",t).toString();ne.orderAsc=t=>new ne("orderAsc",t).toString();ne.cursorAfter=t=>new ne("cursorAfter",void 0,t).toString();ne.cursorBefore=t=>new ne("cursorBefore",void 0,t).toString();ne.limit=t=>new ne("limit",void 0,t).toString();ne.offset=t=>new ne("offset",void 0,t).toString();ne.contains=(t,e)=>new ne("contains",t,e).toString();ne.or=t=>new ne("or",void 0,t.map(e=>JSON.parse(e))).toString();ne.and=t=>new ne("and",void 0,t.map(e=>JSON.parse(e))).toString();class z extends Error{constructor(e,n=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=n,this.type=r,this.response=i}}class ln{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,n,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(o=>{i.append("channels[]",o)});const s=this.config.endpointRealtime+"/realtime?"+i.toString();(s!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=s,this.realtime.socket=new WebSocket(s),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",o=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",o=>{var a,u,c;if(!this.realtime.reconnect||((u=(a=this.realtime)===null||a===void 0?void 0:a.lastMessage)===null||u===void 0?void 0:u.type)==="error"&&((c=this.realtime)===null||c===void 0?void 0:c.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const d=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${d/1e3} seconds.`,o.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},d)}))},onMessage:e=>{var n,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const s=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}"),o=s==null?void 0:s[`a_session_${this.config.project}`],a=i.data;o&&!a.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:o}})));break;case"event":let u=i.data;if(u!=null&&u.channels){if(!u.channels.some(d=>this.realtime.channels.has(d)))return;this.realtime.subscriptions.forEach(d=>{u.channels.some(f=>d.channels.includes(f))&&setTimeout(()=>d.callback(u))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(n=>{e.includes(n)&&(Array.from(this.realtime.subscriptions).some(([i,s])=>s.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,n){let r=typeof e=="string"?[e]:e;r.forEach(s=>this.realtime.channels.add(s));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,n,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const o=window.localStorage.getItem("cookieFallback");o&&(r["X-Fallback-Cookies"]=o)}let s={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[o,a]of Object.entries(ln.flatten(i)))n.searchParams.append(o,a);else switch(r["content-type"]){case"application/json":s.body=JSON.stringify(i);break;case"multipart/form-data":const o=new FormData;for(const[a,u]of Object.entries(i))if(u instanceof File)o.append(a,u,u.name);else if(Array.isArray(u))for(const c of u)o.append(`${a}[]`,c);else o.append(a,u);s.body=o,delete r["content-type"];break}return{uri:n.toString(),options:s}}chunkedUpload(e,n,r={},i={},s){return Y(this,void 0,void 0,function*(){const o=Object.values(i).find(c=>c instanceof File);if(o.size<=ln.CHUNK_SIZE)return yield this.call(e,n,r,i);let a=0,u=null;for(;a<o.size;){let c=a+ln.CHUNK_SIZE;c>=o.size&&(c=o.size),r["content-range"]=`bytes ${a}-${c-1}/${o.size}`;const d=o.slice(a,c);let f=Object.assign(Object.assign({},i),{file:new File([d],o.name)});u=yield this.call(e,n,r,f),s&&typeof s=="function"&&s({$id:u.$id,progress:Math.round(c/o.size*100),sizeUploaded:c,chunksTotal:Math.ceil(o.size/ln.CHUNK_SIZE),chunksUploaded:Math.ceil(c/ln.CHUNK_SIZE)}),u&&u.$id&&(r["x-appwrite-id"]=u.$id),a=c}return u})}ping(){return Y(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,n,r={},i={},s="json"){var o;return Y(this,void 0,void 0,function*(){const{uri:a,options:u}=this.prepareRequest(e,n,r,i);let c=null;const d=yield fetch(a,u),f=d.headers.get("x-appwrite-warning");if(f&&f.split(";").forEach(_=>console.warn("Warning: "+_)),!((o=d.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")?c=yield d.json():s==="arrayBuffer"?c=yield d.arrayBuffer():c={message:yield d.text()},400<=d.status)throw new z(c==null?void 0:c.message,d.status,c==null?void 0:c.type,c);const m=d.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&m&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",m)),c})}static flatten(e,n=""){let r={};for(const[i,s]of Object.entries(e)){let o=n?n+"["+i+"]":i;Array.isArray(s)?r=Object.assign(Object.assign({},r),ln.flatten(s,o)):r[o]=s}return r}}ln.CHUNK_SIZE=1024*1024*5;class ai{constructor(e){this.client=e}static flatten(e,n=""){let r={};for(const[i,s]of Object.entries(e)){let o=n?n+"["+i+"]":i;Array.isArray(s)?r=Object.assign(Object.assign({},r),ai.flatten(s,o)):r[o]=s}return r}}ai.CHUNK_SIZE=5*1024*1024;class yj{constructor(e){this.client=e}get(){return Y(this,void 0,void 0,function*(){const e="/account",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,n)})}create(e,n,r,i){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "email"');if(typeof r>"u")throw new z('Missing required parameter: "password"');const s="/account",o={};typeof e<"u"&&(o.userId=e),typeof n<"u"&&(o.email=n),typeof r<"u"&&(o.password=r),typeof i<"u"&&(o.name=i);const a=new URL(this.client.config.endpoint+s),u={"content-type":"application/json"};return yield this.client.call("post",a,u,o)})}updateEmail(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "email"');if(typeof n>"u")throw new z('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof n<"u"&&(i.password=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("patch",s,o,i)})}listIdentities(e){return Y(this,void 0,void 0,function*(){const n="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("get",i,s,r)})}deleteIdentity(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "identityId"');const n="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("delete",i,s,r)})}createJWT(){return Y(this,void 0,void 0,function*(){const e="/account/jwts",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,n)})}listLogs(e){return Y(this,void 0,void 0,function*(){const n="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("get",i,s,r)})}updateMFA(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "mfa"');const n="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("patch",i,s,r)})}createMfaAuthenticator(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "type"');const n="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("post",i,s,r)})}updateMfaAuthenticator(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "type"');if(typeof n>"u")throw new z('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof n<"u"&&(i.otp=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("put",s,o,i)})}deleteMfaAuthenticator(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "type"');const n="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("delete",i,s,r)})}createMfaChallenge(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "factor"');const n="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("post",i,s,r)})}updateMfaChallenge(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "challengeId"');if(typeof n>"u")throw new z('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof n<"u"&&(i.otp=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("put",s,o,i)})}listMfaFactors(){return Y(this,void 0,void 0,function*(){const e="/account/mfa/factors",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,n)})}getMfaRecoveryCodes(){return Y(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,n)})}createMfaRecoveryCodes(){return Y(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,n)})}updateMfaRecoveryCodes(){return Y(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,n)})}updateName(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "name"');const n="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("patch",i,s,r)})}updatePassword(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof n<"u"&&(i.oldPassword=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("patch",s,o,i)})}updatePhone(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "phone"');if(typeof n>"u")throw new z('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof n<"u"&&(i.password=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("patch",s,o,i)})}getPrefs(){return Y(this,void 0,void 0,function*(){const e="/account/prefs",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,n)})}updatePrefs(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "prefs"');const n="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("patch",i,s,r)})}createRecovery(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "email"');if(typeof n>"u")throw new z('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof n<"u"&&(i.url=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("post",s,o,i)})}updateRecovery(e,n,r){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "secret"');if(typeof r>"u")throw new z('Missing required parameter: "password"');const i="/account/recovery",s={};typeof e<"u"&&(s.userId=e),typeof n<"u"&&(s.secret=n),typeof r<"u"&&(s.password=r);const o=new URL(this.client.config.endpoint+i),a={"content-type":"application/json"};return yield this.client.call("put",o,a,s)})}listSessions(){return Y(this,void 0,void 0,function*(){const e="/account/sessions",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,n)})}deleteSessions(){return Y(this,void 0,void 0,function*(){const e="/account/sessions",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,n)})}createAnonymousSession(){return Y(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,n)})}createEmailPasswordSession(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "email"');if(typeof n>"u")throw new z('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof n<"u"&&(i.password=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("post",s,o,i)})}updateMagicURLSession(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof n<"u"&&(i.secret=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("put",s,o,i)})}createOAuth2Session(e,n,r,i){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "provider"');const s="/account/sessions/oauth2/{provider}".replace("{provider}",e),o={};typeof n<"u"&&(o.success=n),typeof r<"u"&&(o.failure=r),typeof i<"u"&&(o.scopes=i);const a=new URL(this.client.config.endpoint+s);o.project=this.client.config.project;for(const[u,c]of Object.entries(ai.flatten(o)))a.searchParams.append(u,c);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=a.toString();return}else return a.toString()})}updatePhoneSession(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof n<"u"&&(i.secret=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("put",s,o,i)})}createSession(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof n<"u"&&(i.secret=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("post",s,o,i)})}getSession(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "sessionId"');const n="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("get",i,s,r)})}updateSession(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "sessionId"');const n="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("patch",i,s,r)})}deleteSession(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "sessionId"');const n="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("delete",i,s,r)})}updateStatus(){return Y(this,void 0,void 0,function*(){const e="/account/status",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,n)})}createPushTarget(e,n,r){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "targetId"');if(typeof n>"u")throw new z('Missing required parameter: "identifier"');const i="/account/targets/push",s={};typeof e<"u"&&(s.targetId=e),typeof n<"u"&&(s.identifier=n),typeof r<"u"&&(s.providerId=r);const o=new URL(this.client.config.endpoint+i),a={"content-type":"application/json"};return yield this.client.call("post",o,a,s)})}updatePushTarget(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "targetId"');if(typeof n>"u")throw new z('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof n<"u"&&(i.identifier=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("put",s,o,i)})}deletePushTarget(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "targetId"');const n="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("delete",i,s,r)})}createEmailToken(e,n,r){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "email"');const i="/account/tokens/email",s={};typeof e<"u"&&(s.userId=e),typeof n<"u"&&(s.email=n),typeof r<"u"&&(s.phrase=r);const o=new URL(this.client.config.endpoint+i),a={"content-type":"application/json"};return yield this.client.call("post",o,a,s)})}createMagicURLToken(e,n,r,i){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "email"');const s="/account/tokens/magic-url",o={};typeof e<"u"&&(o.userId=e),typeof n<"u"&&(o.email=n),typeof r<"u"&&(o.url=r),typeof i<"u"&&(o.phrase=i);const a=new URL(this.client.config.endpoint+s),u={"content-type":"application/json"};return yield this.client.call("post",a,u,o)})}createOAuth2Token(e,n,r,i){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "provider"');const s="/account/tokens/oauth2/{provider}".replace("{provider}",e),o={};typeof n<"u"&&(o.success=n),typeof r<"u"&&(o.failure=r),typeof i<"u"&&(o.scopes=i);const a=new URL(this.client.config.endpoint+s);o.project=this.client.config.project;for(const[u,c]of Object.entries(ai.flatten(o)))a.searchParams.append(u,c);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=a.toString();return}else return a.toString()})}createPhoneToken(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof n<"u"&&(i.phone=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("post",s,o,i)})}createVerification(e){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "url"');const n="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("post",i,s,r)})}updateVerification(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof n<"u"&&(i.secret=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("put",s,o,i)})}createPhoneVerification(){return Y(this,void 0,void 0,function*(){const e="/account/verification/phone",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,n)})}updatePhoneVerification(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "userId"');if(typeof n>"u")throw new z('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof n<"u"&&(i.secret=n);const s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("put",s,o,i)})}}class _j{constructor(e){this.client=e}listDocuments(e,n,r){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "databaseId"');if(typeof n>"u")throw new z('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",n),s={};typeof r<"u"&&(s.queries=r);const o=new URL(this.client.config.endpoint+i),a={"content-type":"application/json"};return yield this.client.call("get",o,a,s)})}createDocument(e,n,r,i,s){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "databaseId"');if(typeof n>"u")throw new z('Missing required parameter: "collectionId"');if(typeof r>"u")throw new z('Missing required parameter: "documentId"');if(typeof i>"u")throw new z('Missing required parameter: "data"');const o="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",n),a={};typeof r<"u"&&(a.documentId=r),typeof i<"u"&&(a.data=i),typeof s<"u"&&(a.permissions=s);const u=new URL(this.client.config.endpoint+o),c={"content-type":"application/json"};return yield this.client.call("post",u,c,a)})}getDocument(e,n,r,i){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "databaseId"');if(typeof n>"u")throw new z('Missing required parameter: "collectionId"');if(typeof r>"u")throw new z('Missing required parameter: "documentId"');const s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",n).replace("{documentId}",r),o={};typeof i<"u"&&(o.queries=i);const a=new URL(this.client.config.endpoint+s),u={"content-type":"application/json"};return yield this.client.call("get",a,u,o)})}updateDocument(e,n,r,i,s){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "databaseId"');if(typeof n>"u")throw new z('Missing required parameter: "collectionId"');if(typeof r>"u")throw new z('Missing required parameter: "documentId"');const o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",n).replace("{documentId}",r),a={};typeof i<"u"&&(a.data=i),typeof s<"u"&&(a.permissions=s);const u=new URL(this.client.config.endpoint+o),c={"content-type":"application/json"};return yield this.client.call("patch",u,c,a)})}deleteDocument(e,n,r){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "databaseId"');if(typeof n>"u")throw new z('Missing required parameter: "collectionId"');if(typeof r>"u")throw new z('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",n).replace("{documentId}",r),s={},o=new URL(this.client.config.endpoint+i),a={"content-type":"application/json"};return yield this.client.call("delete",o,a,s)})}}class Ej{constructor(e){this.client=e}listFiles(e,n,r){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),s={};typeof n<"u"&&(s.queries=n),typeof r<"u"&&(s.search=r);const o=new URL(this.client.config.endpoint+i),a={"content-type":"application/json"};return yield this.client.call("get",o,a,s)})}createFile(e,n,r,i,s=o=>{}){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "bucketId"');if(typeof n>"u")throw new z('Missing required parameter: "fileId"');if(typeof r>"u")throw new z('Missing required parameter: "file"');const o="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof n<"u"&&(a.fileId=n),typeof r<"u"&&(a.file=r),typeof i<"u"&&(a.permissions=i);const u=new URL(this.client.config.endpoint+o),c={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",u,c,a,s)})}getFile(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "bucketId"');if(typeof n>"u")throw new z('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",n),i={},s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("get",s,o,i)})}updateFile(e,n,r,i){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "bucketId"');if(typeof n>"u")throw new z('Missing required parameter: "fileId"');const s="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",n),o={};typeof r<"u"&&(o.name=r),typeof i<"u"&&(o.permissions=i);const a=new URL(this.client.config.endpoint+s),u={"content-type":"application/json"};return yield this.client.call("put",a,u,o)})}deleteFile(e,n){return Y(this,void 0,void 0,function*(){if(typeof e>"u")throw new z('Missing required parameter: "bucketId"');if(typeof n>"u")throw new z('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",n),i={},s=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("delete",s,o,i)})}getFileDownload(e,n){if(typeof e>"u")throw new z('Missing required parameter: "bucketId"');if(typeof n>"u")throw new z('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",n),i={},s=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[o,a]of Object.entries(ai.flatten(i)))s.searchParams.append(o,a);i.project=this.client.config.project;for(const[o,a]of Object.entries(ln.flatten(i)))s.searchParams.append(o,a);return s.toString()}getFilePreview(e,n,r,i,s,o,a,u,c,d,f,m,_){if(typeof e>"u")throw new z('Missing required parameter: "bucketId"');if(typeof n>"u")throw new z('Missing required parameter: "fileId"');const C="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",n),R={};typeof r<"u"&&(R.width=r),typeof i<"u"&&(R.height=i),typeof s<"u"&&(R.gravity=s),typeof o<"u"&&(R.quality=o),typeof a<"u"&&(R.borderWidth=a),typeof u<"u"&&(R.borderColor=u),typeof c<"u"&&(R.borderRadius=c),typeof d<"u"&&(R.opacity=d),typeof f<"u"&&(R.rotation=f),typeof m<"u"&&(R.background=m),typeof _<"u"&&(R.output=_);const b=new URL(this.client.config.endpoint+C);R.project=this.client.config.project;for(const[T,E]of Object.entries(ai.flatten(R)))b.searchParams.append(T,E);R.project=this.client.config.project;for(const[T,E]of Object.entries(ln.flatten(R)))b.searchParams.append(T,E);return b.toString()}getFileView(e,n){if(typeof e>"u")throw new z('Missing required parameter: "bucketId"');if(typeof n>"u")throw new z('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",n),i={},s=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[o,a]of Object.entries(ai.flatten(i)))s.searchParams.append(o,a);i.project=this.client.config.project;for(const[o,a]of Object.entries(ln.flatten(i)))s.searchParams.append(o,a);return s.toString()}}var tR,nR;class Ao{static custom(e){return e}static unique(e=7){const n=vj(Ao,tR,"m",nR).call(Ao);let r="";for(let i=0;i<e;i++){const s=Math.floor(Math.random()*16).toString(16);r+=s}return n+r}}tR=Ao,nR=function(){const e=new Date,n=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return n.toString(16)+r.toString(16).padStart(5,"0")};var vw;(function(t){t.Totp="totp"})(vw||(vw={}));var yw;(function(t){t.Email="email",t.Phone="phone",t.Totp="totp",t.Recoverycode="recoverycode"})(yw||(yw={}));var hm;(function(t){t.Amazon="amazon",t.Apple="apple",t.Auth0="auth0",t.Authentik="authentik",t.Autodesk="autodesk",t.Bitbucket="bitbucket",t.Bitly="bitly",t.Box="box",t.Dailymotion="dailymotion",t.Discord="discord",t.Disqus="disqus",t.Dropbox="dropbox",t.Etsy="etsy",t.Facebook="facebook",t.Github="github",t.Gitlab="gitlab",t.Google="google",t.Linkedin="linkedin",t.Microsoft="microsoft",t.Notion="notion",t.Oidc="oidc",t.Okta="okta",t.Paypal="paypal",t.PaypalSandbox="paypalSandbox",t.Podio="podio",t.Salesforce="salesforce",t.Slack="slack",t.Spotify="spotify",t.Stripe="stripe",t.Tradeshift="tradeshift",t.TradeshiftBox="tradeshiftBox",t.Twitch="twitch",t.Wordpress="wordpress",t.Yahoo="yahoo",t.Yammer="yammer",t.Yandex="yandex",t.Zoho="zoho",t.Zoom="zoom",t.Mock="mock"})(hm||(hm={}));var _w;(function(t){t.AvantBrowser="aa",t.AndroidWebViewBeta="an",t.GoogleChrome="ch",t.GoogleChromeIOS="ci",t.GoogleChromeMobile="cm",t.Chromium="cr",t.MozillaFirefox="ff",t.Safari="sf",t.MobileSafari="mf",t.MicrosoftEdge="ps",t.MicrosoftEdgeIOS="oi",t.OperaMini="om",t.Opera="op",t.OperaNext="on"})(_w||(_w={}));var Ew;(function(t){t.AmericanExpress="amex",t.Argencard="argencard",t.Cabal="cabal",t.Cencosud="cencosud",t.DinersClub="diners",t.Discover="discover",t.Elo="elo",t.Hipercard="hipercard",t.JCB="jcb",t.Mastercard="mastercard",t.Naranja="naranja",t.TarjetaShopping="targeta-shopping",t.UnionChinaPay="union-china-pay",t.Visa="visa",t.MIR="mir",t.Maestro="maestro"})(Ew||(Ew={}));var ww;(function(t){t.Afghanistan="af",t.Angola="ao",t.Albania="al",t.Andorra="ad",t.UnitedArabEmirates="ae",t.Argentina="ar",t.Armenia="am",t.AntiguaAndBarbuda="ag",t.Australia="au",t.Austria="at",t.Azerbaijan="az",t.Burundi="bi",t.Belgium="be",t.Benin="bj",t.BurkinaFaso="bf",t.Bangladesh="bd",t.Bulgaria="bg",t.Bahrain="bh",t.Bahamas="bs",t.BosniaAndHerzegovina="ba",t.Belarus="by",t.Belize="bz",t.Bolivia="bo",t.Brazil="br",t.Barbados="bb",t.BruneiDarussalam="bn",t.Bhutan="bt",t.Botswana="bw",t.CentralAfricanRepublic="cf",t.Canada="ca",t.Switzerland="ch",t.Chile="cl",t.China="cn",t.CoteDIvoire="ci",t.Cameroon="cm",t.DemocraticRepublicOfTheCongo="cd",t.RepublicOfTheCongo="cg",t.Colombia="co",t.Comoros="km",t.CapeVerde="cv",t.CostaRica="cr",t.Cuba="cu",t.Cyprus="cy",t.CzechRepublic="cz",t.Germany="de",t.Djibouti="dj",t.Dominica="dm",t.Denmark="dk",t.DominicanRepublic="do",t.Algeria="dz",t.Ecuador="ec",t.Egypt="eg",t.Eritrea="er",t.Spain="es",t.Estonia="ee",t.Ethiopia="et",t.Finland="fi",t.Fiji="fj",t.France="fr",t.MicronesiaFederatedStatesOf="fm",t.Gabon="ga",t.UnitedKingdom="gb",t.Georgia="ge",t.Ghana="gh",t.Guinea="gn",t.Gambia="gm",t.GuineaBissau="gw",t.EquatorialGuinea="gq",t.Greece="gr",t.Grenada="gd",t.Guatemala="gt",t.Guyana="gy",t.Honduras="hn",t.Croatia="hr",t.Haiti="ht",t.Hungary="hu",t.Indonesia="id",t.India="in",t.Ireland="ie",t.IranIslamicRepublicOf="ir",t.Iraq="iq",t.Iceland="is",t.Israel="il",t.Italy="it",t.Jamaica="jm",t.Jordan="jo",t.Japan="jp",t.Kazakhstan="kz",t.Kenya="ke",t.Kyrgyzstan="kg",t.Cambodia="kh",t.Kiribati="ki",t.SaintKittsAndNevis="kn",t.SouthKorea="kr",t.Kuwait="kw",t.LaoPeopleSDemocraticRepublic="la",t.Lebanon="lb",t.Liberia="lr",t.Libya="ly",t.SaintLucia="lc",t.Liechtenstein="li",t.SriLanka="lk",t.Lesotho="ls",t.Lithuania="lt",t.Luxembourg="lu",t.Latvia="lv",t.Morocco="ma",t.Monaco="mc",t.Moldova="md",t.Madagascar="mg",t.Maldives="mv",t.Mexico="mx",t.MarshallIslands="mh",t.NorthMacedonia="mk",t.Mali="ml",t.Malta="mt",t.Myanmar="mm",t.Montenegro="me",t.Mongolia="mn",t.Mozambique="mz",t.Mauritania="mr",t.Mauritius="mu",t.Malawi="mw",t.Malaysia="my",t.Namibia="na",t.Niger="ne",t.Nigeria="ng",t.Nicaragua="ni",t.Netherlands="nl",t.Norway="no",t.Nepal="np",t.Nauru="nr",t.NewZealand="nz",t.Oman="om",t.Pakistan="pk",t.Panama="pa",t.Peru="pe",t.Philippines="ph",t.Palau="pw",t.PapuaNewGuinea="pg",t.Poland="pl",t.FrenchPolynesia="pf",t.NorthKorea="kp",t.Portugal="pt",t.Paraguay="py",t.Qatar="qa",t.Romania="ro",t.Russia="ru",t.Rwanda="rw",t.SaudiArabia="sa",t.Sudan="sd",t.Senegal="sn",t.Singapore="sg",t.SolomonIslands="sb",t.SierraLeone="sl",t.ElSalvador="sv",t.SanMarino="sm",t.Somalia="so",t.Serbia="rs",t.SouthSudan="ss",t.SaoTomeAndPrincipe="st",t.Suriname="sr",t.Slovakia="sk",t.Slovenia="si",t.Sweden="se",t.Eswatini="sz",t.Seychelles="sc",t.Syria="sy",t.Chad="td",t.Togo="tg",t.Thailand="th",t.Tajikistan="tj",t.Turkmenistan="tm",t.TimorLeste="tl",t.Tonga="to",t.TrinidadAndTobago="tt",t.Tunisia="tn",t.Turkey="tr",t.Tuvalu="tv",t.Tanzania="tz",t.Uganda="ug",t.Ukraine="ua",t.Uruguay="uy",t.UnitedStates="us",t.Uzbekistan="uz",t.VaticanCity="va",t.SaintVincentAndTheGrenadines="vc",t.Venezuela="ve",t.Vietnam="vn",t.Vanuatu="vu",t.Samoa="ws",t.Yemen="ye",t.SouthAfrica="za",t.Zambia="zm",t.Zimbabwe="zw"})(ww||(ww={}));var Tw;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS"})(Tw||(Tw={}));var Iw;(function(t){t.Center="center",t.Topleft="top-left",t.Top="top",t.Topright="top-right",t.Left="left",t.Right="right",t.Bottomleft="bottom-left",t.Bottom="bottom",t.Bottomright="bottom-right"})(Iw||(Iw={}));var Sw;(function(t){t.Jpg="jpg",t.Jpeg="jpeg",t.Gif="gif",t.Png="png",t.Webp="webp",t.Avif="avif"})(Sw||(Sw={}));const gh=new ln;gh.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const pv=new Ej(gh),El=new yj(gh),qo=new _j(gh);async function wj(){return{session:await El.getSession("current")}}const mv=async()=>{try{return await El.get()}catch(t){console.error(t)}};async function Tj(){await El.deleteSession("current"),console.log("account session deleted!")}const rR=g.createContext(void 0),Ij=({children:t})=>{const e=Sj();return v.jsx(rR.Provider,{value:e,children:t})};function Sj(){const[t,e]=g.useState();g.useEffect(()=>{(async function(){const o=await wj();e(o.session)})()},[]);async function n(){try{await El.createOAuth2Session(hm.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery")}catch(s){console.error(s)}}async function r(s,o){try{await El.createEmailPasswordSession(s,o)}catch(a){console.error(a)}}async function i(){await Tj(),e(void 0)}return{session:t,logOut:i,logIn:n,logInAdmin:r}}function Ir(){const t=g.useContext(rR);if(!t)throw new Error("useAuth cant be used outside");return t}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}var Xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xr||(Xr={}));const Cw="popstate";function Cj(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=ps(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fm("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:ad(s))}function r(i,s){gv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Rj(e,n,r,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Aj(){return Math.random().toString(36).substr(2,8)}function Aw(t,e){return{usr:t.state,key:t.key,idx:e}}function fm(t,e,n,r){return n===void 0&&(n=null),wl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ps(e):e,{state:n,key:e&&e.key||r||Aj()})}function ad(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ps(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Rj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Xr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(wl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Xr.Pop;let b=d(),T=b==null?null:b-c;c=b,u&&u({action:a,location:R.location,delta:T})}function m(b,T){a=Xr.Push;let E=fm(R.location,b,T);n&&n(E,b),c=d()+1;let S=Aw(E,c),x=R.createHref(E);try{o.pushState(S,"",x)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(x)}s&&u&&u({action:a,location:R.location,delta:1})}function _(b,T){a=Xr.Replace;let E=fm(R.location,b,T);n&&n(E,b),c=d();let S=Aw(E,c),x=R.createHref(E);o.replaceState(S,"",x),s&&u&&u({action:a,location:R.location,delta:0})}function C(b){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof b=="string"?b:ad(b);return E=E.replace(/ $/,"%20"),Fe(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let R={get action(){return a},get location(){return t(i,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Cw,f),u=b,()=>{i.removeEventListener(Cw,f),u=null}},createHref(b){return e(i,b)},createURL:C,encodeLocation(b){let T=C(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:_,go(b){return o.go(b)}};return R}var Rw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rw||(Rw={}));function bj(t,e,n){return n===void 0&&(n="/"),kj(t,e,n,!1)}function kj(t,e,n,r){let i=typeof e=="string"?ps(e):e,s=Ro(i.pathname||"/",n);if(s==null)return null;let o=iR(t);Pj(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Fj(s);a=$j(o[u],c,r)}return a}function iR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Fe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=li([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Fe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),iR(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Vj(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of sR(s.path))i(s,o,u)}),e}function sR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sR(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Pj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nj=/^:[\w-]+$/,xj=3,Oj=2,Dj=1,Lj=10,Mj=-2,bw=t=>t==="*";function Vj(t,e){let n=t.split("/"),r=n.length;return n.some(bw)&&(r+=Mj),e&&(r+=Oj),n.filter(i=>!bw(i)).reduce((i,s)=>i+(Nj.test(s)?xj:s===""?Dj:Lj),r)}function jj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $j(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=ld({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=ld({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:li([s,f.pathname]),pathnameBase:Wj(li([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=li([s,f.pathnameBase]))}return o}function ld(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Uj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:_}=d;if(m==="*"){let R=a[f]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const C=a[f];return _&&!C?c[m]=void 0:c[m]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Uj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Fj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ro(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Bj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ps(t):t;return{pathname:n?n.startsWith("/")?n:zj(n,e):e,search:Kj(r),hash:qj(i)}}function zj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oR(t,e){let n=Hj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function aR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ps(t):(i=wl({},t),Fe(!i.pathname||!i.pathname.includes("?"),qf("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),qf("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),qf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=Bj(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const li=t=>t.join("/").replace(/\/\/+/g,"/"),Wj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lR=["post","put","patch","delete"];new Set(lR);const Qj=["get",...lR];new Set(Qj);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}const vh=g.createContext(null),uR=g.createContext(null),Ni=g.createContext(null),yh=g.createContext(null),Nr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),cR=g.createContext(null);function Yj(t,e){let{relative:n}=e===void 0?{}:e;ql()||Fe(!1);let{basename:r,navigator:i}=g.useContext(Ni),{hash:s,pathname:o,search:a}=_h(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:li([r,o])),i.createHref({pathname:u,search:a,hash:s})}function ql(){return g.useContext(yh)!=null}function Gl(){return ql()||Fe(!1),g.useContext(yh).location}function dR(t){g.useContext(Ni).static||g.useLayoutEffect(t)}function Go(){let{isDataRoute:t}=g.useContext(Nr);return t?d$():Xj()}function Xj(){ql()||Fe(!1);let t=g.useContext(vh),{basename:e,future:n,navigator:r}=g.useContext(Ni),{matches:i}=g.useContext(Nr),{pathname:s}=Gl(),o=JSON.stringify(oR(i,n.v7_relativeSplatPath)),a=g.useRef(!1);return dR(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=aR(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:li([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const Jj=g.createContext(null);function Zj(t){let e=g.useContext(Nr).outlet;return e&&g.createElement(Jj.Provider,{value:t},e)}function e$(){let{matches:t}=g.useContext(Nr),e=t[t.length-1];return e?e.params:{}}function _h(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Ni),{matches:i}=g.useContext(Nr),{pathname:s}=Gl(),o=JSON.stringify(oR(i,r.v7_relativeSplatPath));return g.useMemo(()=>aR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function t$(t,e){return n$(t,e)}function n$(t,e,n,r){ql()||Fe(!1);let{navigator:i}=g.useContext(Ni),{matches:s}=g.useContext(Nr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Gl(),d;if(e){var f;let b=typeof e=="string"?ps(e):e;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Fe(!1),d=b}else d=c;let m=d.pathname||"/",_=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let C=bj(t,{pathname:_}),R=a$(C&&C.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:li([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:li([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&R?g.createElement(yh.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xr.Pop}},R):R}function r$(){let t=pR(),e=Gj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,null)}const i$=g.createElement(r$,null);class s$ extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Nr.Provider,{value:this.props.routeContext},g.createElement(cR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o$(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(vh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Nr.Provider,{value:e},r)}function a$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Fe(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:_}=n,C=f.route.loader&&m[f.route.id]===void 0&&(!_||_[f.route.id]===void 0);if(f.route.lazy||C){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let _,C=!1,R=null,b=null;n&&(_=a&&f.route.id?a[f.route.id]:void 0,R=f.route.errorElement||i$,u&&(c<0&&m===0?(C=!0,b=null):c===m&&(C=!0,b=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),E=()=>{let S;return _?S=R:C?S=b:f.route.Component?S=g.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,g.createElement(o$,{match:f,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(s$,{location:n.location,revalidation:n.revalidation,component:R,error:_,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var hR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hR||{}),ud=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ud||{});function l$(t){let e=g.useContext(vh);return e||Fe(!1),e}function u$(t){let e=g.useContext(uR);return e||Fe(!1),e}function c$(t){let e=g.useContext(Nr);return e||Fe(!1),e}function fR(t){let e=c$(),n=e.matches[e.matches.length-1];return n.route.id||Fe(!1),n.route.id}function pR(){var t;let e=g.useContext(cR),n=u$(ud.UseRouteError),r=fR(ud.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function d$(){let{router:t}=l$(hR.UseNavigateStable),e=fR(ud.UseNavigateStable),n=g.useRef(!1);return dR(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Tl({fromRouteId:e},s)))},[t,e])}const kw={};function h$(t,e){kw[e]||(kw[e]=!0,console.warn(e))}const Pw=(t,e,n)=>h$(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function f$(t,e){t!=null&&t.v7_startTransition||Pw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Pw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function p$(t){return Zj(t.context)}function Wt(t){Fe(!1)}function m$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xr.Pop,navigator:s,static:o=!1,future:a}=t;ql()&&Fe(!1);let u=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:u,navigator:s,static:o,future:Tl({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=ps(r));let{pathname:d="/",search:f="",hash:m="",state:_=null,key:C="default"}=r,R=g.useMemo(()=>{let b=Ro(d,u);return b==null?null:{location:{pathname:b,search:f,hash:m,state:_,key:C},navigationType:i}},[u,d,f,m,_,C,i]);return R==null?null:g.createElement(Ni.Provider,{value:c},g.createElement(yh.Provider,{children:n,value:R}))}function g$(t){let{children:e,location:n}=t;return t$(pm(e),n)}new Promise(()=>{});function pm(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,pm(r.props.children,s));return}r.type!==Wt&&Fe(!1),!r.props.index||!r.props.children||Fe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}function mR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function v$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y$(t,e){return t.button===0&&(!e||e==="_self")&&!v$(t)}const _$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],E$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],w$="6";try{window.__reactRouterVersion=w$}catch{}const T$=g.createContext({isTransitioning:!1}),I$="startTransition",Nw=ET[I$];function S$(t){let{basename:e,children:n,future:r,window:i}=t,s=g.useRef();s.current==null&&(s.current=Cj({window:i,v5Compat:!0}));let o=s.current,[a,u]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=g.useCallback(f=>{c&&Nw?Nw(()=>u(f)):u(f)},[u,c]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>f$(r),[r]),g.createElement(m$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const C$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R$=g.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:f}=e,m=mR(e,_$),{basename:_}=g.useContext(Ni),C,R=!1;if(typeof c=="string"&&A$.test(c)&&(C=c,C$))try{let S=new URL(window.location.href),x=c.startsWith("//")?new URL(S.protocol+c):new URL(c),M=Ro(x.pathname,_);x.origin===S.origin&&M!=null?c=M+x.search+x.hash:R=!0}catch{}let b=Yj(c,{relative:i}),T=k$(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:f});function E(S){r&&r(S),S.defaultPrevented||T(S)}return g.createElement("a",cd({},m,{href:C||b,onClick:R||s?r:E,ref:n,target:u}))}),Ra=g.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,viewTransition:c,children:d}=e,f=mR(e,E$),m=_h(u,{relative:f.relative}),_=Gl(),C=g.useContext(uR),{navigator:R,basename:b}=g.useContext(Ni),T=C!=null&&P$(m)&&c===!0,E=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,S=_.pathname,x=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(S=S.toLowerCase(),x=x?x.toLowerCase():null,E=E.toLowerCase()),x&&b&&(x=Ro(x,b)||x);const M=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=S===E||!o&&S.startsWith(E)&&S.charAt(M)==="/",I=x!=null&&(x===E||!o&&x.startsWith(E)&&x.charAt(E.length)==="/"),y={isActive:L,isPending:I,isTransitioning:T},A=L?r:void 0,P;typeof s=="function"?P=s(y):P=[s,L?"active":null,I?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(y):a;return g.createElement(R$,cd({},f,{"aria-current":A,className:P,ref:n,style:N,to:u,viewTransition:c}),typeof d=="function"?d(y):d)});var mm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mm||(mm={}));var xw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xw||(xw={}));function b$(t){let e=g.useContext(vh);return e||Fe(!1),e}function k$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Go(),c=Gl(),d=_h(t,{relative:o});return g.useCallback(f=>{if(y$(f,n)){f.preventDefault();let m=r!==void 0?r:ad(c)===ad(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}function P$(t,e){e===void 0&&(e={});let n=g.useContext(T$);n==null&&Fe(!1);let{basename:r}=b$(mm.useViewTransitionState),i=_h(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ro(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ro(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ld(i.pathname,o)!=null||ld(i.pathname,s)!=null}var Ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,_=c&63;u||(_=64,o||(m=64)),r.push(n[d],n[f],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new x$;const m=s<<2|a>>4;if(r.push(m),c!==64){const _=a<<4&240|c>>2;if(r.push(_),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O$=function(t){const e=gR(t);return vR.encodeByteArray(e,!0)},dd=function(t){return O$(t).replace(/\./g,"")},yR=function(t){try{return vR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=()=>D$().__FIREBASE_DEFAULTS__,M$=()=>{if(typeof process>"u"||typeof Ow>"u")return;const t=Ow.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yR(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return L$()||M$()||V$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_R=t=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},j$=t=>{const e=_R(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ER=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config},wR=t=>{var e;return(e=Eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dd(JSON.stringify(n)),dd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function B$(){var t;const e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K$(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q$(){return!B$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G$(){try{return typeof indexedDB=="object"}catch{return!1}}function Q$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Y$,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?X$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xr(i,a,r)}}function X$(t,e){return t.replace(J$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const J$=/\{\$([^}]+)}/g;function Z$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Dw(s)&&Dw(o)){if(!hd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eU(t,e){const n=new tU(t,e);return n.subscribe.bind(n)}class tU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gf),i.error===void 0&&(i.error=Gf),i.complete===void 0&&(i.complete=Gf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sU(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ji){return this.instances.has(e)}getOptions(e=ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ji){return this.component?this.component.multipleInstances?e:ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iU(t){return t===ji?void 0:t}function sU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const aU={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},lU=pe.INFO,uU={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},cU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vv{constructor(e){this.name=e,this._logLevel=lU,this._logHandler=cU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const dU=(t,e)=>e.some(n=>t instanceof n);let Lw,Mw;function hU(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fU(){return Mw||(Mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TR=new WeakMap,gm=new WeakMap,IR=new WeakMap,Qf=new WeakMap,yv=new WeakMap;function pU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ui(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TR.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function mU(t){if(gm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gm.set(t,e)}let vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gU(t){vm=t(vm)}function vU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yf(this),e,...n);return IR.set(r,e.sort?e.sort():[e]),ui(r)}:fU().includes(t)?function(...e){return t.apply(Yf(this),e),ui(TR.get(this))}:function(...e){return ui(t.apply(Yf(this),e))}}function yU(t){return typeof t=="function"?vU(t):(t instanceof IDBTransaction&&mU(t),dU(t,hU())?new Proxy(t,vm):t)}function ui(t){if(t instanceof IDBRequest)return pU(t);if(Qf.has(t))return Qf.get(t);const e=yU(t);return e!==t&&(Qf.set(t,e),yv.set(e,t)),e}const Yf=t=>yv.get(t);function _U(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ui(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ui(o.result),u.oldVersion,u.newVersion,ui(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const EU=["get","getKey","getAll","getAllKeys","count"],wU=["put","add","delete","clear"],Xf=new Map;function Vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EU.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Xf.set(e,s),s}gU(t=>({...t,get:(e,n,r)=>Vw(e,n)||t.get(e,n,r),has:(e,n)=>!!Vw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",jw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new vv("@firebase/app"),SU="@firebase/app-compat",CU="@firebase/analytics-compat",AU="@firebase/analytics",RU="@firebase/app-check-compat",bU="@firebase/app-check",kU="@firebase/auth",PU="@firebase/auth-compat",NU="@firebase/database",xU="@firebase/data-connect",OU="@firebase/database-compat",DU="@firebase/functions",LU="@firebase/functions-compat",MU="@firebase/installations",VU="@firebase/installations-compat",jU="@firebase/messaging",$U="@firebase/messaging-compat",UU="@firebase/performance",FU="@firebase/performance-compat",BU="@firebase/remote-config",zU="@firebase/remote-config-compat",HU="@firebase/storage",WU="@firebase/storage-compat",KU="@firebase/firestore",qU="@firebase/vertexai",GU="@firebase/firestore-compat",QU="firebase",YU="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",XU={[ym]:"fire-core",[SU]:"fire-core-compat",[AU]:"fire-analytics",[CU]:"fire-analytics-compat",[bU]:"fire-app-check",[RU]:"fire-app-check-compat",[kU]:"fire-auth",[PU]:"fire-auth-compat",[NU]:"fire-rtdb",[xU]:"fire-data-connect",[OU]:"fire-rtdb-compat",[DU]:"fire-fn",[LU]:"fire-fn-compat",[MU]:"fire-iid",[VU]:"fire-iid-compat",[jU]:"fire-fcm",[$U]:"fire-fcm-compat",[UU]:"fire-perf",[FU]:"fire-perf-compat",[BU]:"fire-rc",[zU]:"fire-rc-compat",[HU]:"fire-gcs",[WU]:"fire-gcs-compat",[KU]:"fire-fst",[GU]:"fire-fst-compat",[qU]:"fire-vertex","fire-js":"fire-js",[QU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,JU=new Map,Em=new Map;function $w(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(Em.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of fd.values())$w(n,t);for(const n of JU.values())$w(n,t);return!0}function _v(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Ql("app","Firebase",ZU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=YU;function SR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=ER()),!n)throw ci.create("no-options");const s=fd.get(i);if(s){if(hd(n,s.options)&&hd(r,s.config))return s;throw ci.create("duplicate-app",{appName:i})}const o=new oU(i);for(const u of Em.values())o.addComponent(u);const a=new e4(n,r,o);return fd.set(i,a),a}function CR(t=_m){const e=fd.get(t);if(!e&&t===_m&&ER())return SR();if(!e)throw ci.create("no-app",{appName:t});return e}function di(t,e,n){var r;let i=(r=XU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}bo(new ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="firebase-heartbeat-database",n4=1,Il="firebase-heartbeat-store";let Jf=null;function AR(){return Jf||(Jf=_U(t4,n4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),Jf}async function r4(t){try{const n=(await AR()).transaction(Il),r=await n.objectStore(Il).get(RR(t));return await n.done,r}catch(e){if(e instanceof xr)Sr.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function Uw(t,e){try{const r=(await AR()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,RR(t)),await r.done}catch(n){if(n instanceof xr)Sr.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function RR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=1024,s4=30;class o4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>s4){const o=u4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:r,unsentEntries:i}=a4(this._heartbeatsCache.heartbeats),s=dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Sr.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function a4(t,e=i4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Bw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G$()?Q$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bw(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}function u4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){bo(new ss("platform-logger",e=>new TU(e),"PRIVATE")),bo(new ss("heartbeat",e=>new o4(e),"PRIVATE")),di(ym,jw,t),di(ym,jw,"esm2017"),di("fire-js","")}c4("");var d4="firebase",h4="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(d4,h4,"app");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hi,bR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,y){function A(){}A.prototype=y.prototype,I.D=y.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(P,N,O){for(var k=Array(arguments.length-2),de=2;de<arguments.length;de++)k[de-2]=arguments[de];return y.prototype[N].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,A){A||(A=0);var P=Array(16);if(typeof y=="string")for(var N=0;16>N;++N)P[N]=y.charCodeAt(A++)|y.charCodeAt(A++)<<8|y.charCodeAt(A++)<<16|y.charCodeAt(A++)<<24;else for(N=0;16>N;++N)P[N]=y[A++]|y[A++]<<8|y[A++]<<16|y[A++]<<24;y=I.g[0],A=I.g[1],N=I.g[2];var O=I.g[3],k=y+(O^A&(N^O))+P[0]+3614090360&4294967295;y=A+(k<<7&4294967295|k>>>25),k=O+(N^y&(A^N))+P[1]+3905402710&4294967295,O=y+(k<<12&4294967295|k>>>20),k=N+(A^O&(y^A))+P[2]+606105819&4294967295,N=O+(k<<17&4294967295|k>>>15),k=A+(y^N&(O^y))+P[3]+3250441966&4294967295,A=N+(k<<22&4294967295|k>>>10),k=y+(O^A&(N^O))+P[4]+4118548399&4294967295,y=A+(k<<7&4294967295|k>>>25),k=O+(N^y&(A^N))+P[5]+1200080426&4294967295,O=y+(k<<12&4294967295|k>>>20),k=N+(A^O&(y^A))+P[6]+2821735955&4294967295,N=O+(k<<17&4294967295|k>>>15),k=A+(y^N&(O^y))+P[7]+4249261313&4294967295,A=N+(k<<22&4294967295|k>>>10),k=y+(O^A&(N^O))+P[8]+1770035416&4294967295,y=A+(k<<7&4294967295|k>>>25),k=O+(N^y&(A^N))+P[9]+2336552879&4294967295,O=y+(k<<12&4294967295|k>>>20),k=N+(A^O&(y^A))+P[10]+4294925233&4294967295,N=O+(k<<17&4294967295|k>>>15),k=A+(y^N&(O^y))+P[11]+2304563134&4294967295,A=N+(k<<22&4294967295|k>>>10),k=y+(O^A&(N^O))+P[12]+1804603682&4294967295,y=A+(k<<7&4294967295|k>>>25),k=O+(N^y&(A^N))+P[13]+4254626195&4294967295,O=y+(k<<12&4294967295|k>>>20),k=N+(A^O&(y^A))+P[14]+2792965006&4294967295,N=O+(k<<17&4294967295|k>>>15),k=A+(y^N&(O^y))+P[15]+1236535329&4294967295,A=N+(k<<22&4294967295|k>>>10),k=y+(N^O&(A^N))+P[1]+4129170786&4294967295,y=A+(k<<5&4294967295|k>>>27),k=O+(A^N&(y^A))+P[6]+3225465664&4294967295,O=y+(k<<9&4294967295|k>>>23),k=N+(y^A&(O^y))+P[11]+643717713&4294967295,N=O+(k<<14&4294967295|k>>>18),k=A+(O^y&(N^O))+P[0]+3921069994&4294967295,A=N+(k<<20&4294967295|k>>>12),k=y+(N^O&(A^N))+P[5]+3593408605&4294967295,y=A+(k<<5&4294967295|k>>>27),k=O+(A^N&(y^A))+P[10]+38016083&4294967295,O=y+(k<<9&4294967295|k>>>23),k=N+(y^A&(O^y))+P[15]+3634488961&4294967295,N=O+(k<<14&4294967295|k>>>18),k=A+(O^y&(N^O))+P[4]+3889429448&4294967295,A=N+(k<<20&4294967295|k>>>12),k=y+(N^O&(A^N))+P[9]+568446438&4294967295,y=A+(k<<5&4294967295|k>>>27),k=O+(A^N&(y^A))+P[14]+3275163606&4294967295,O=y+(k<<9&4294967295|k>>>23),k=N+(y^A&(O^y))+P[3]+4107603335&4294967295,N=O+(k<<14&4294967295|k>>>18),k=A+(O^y&(N^O))+P[8]+1163531501&4294967295,A=N+(k<<20&4294967295|k>>>12),k=y+(N^O&(A^N))+P[13]+2850285829&4294967295,y=A+(k<<5&4294967295|k>>>27),k=O+(A^N&(y^A))+P[2]+4243563512&4294967295,O=y+(k<<9&4294967295|k>>>23),k=N+(y^A&(O^y))+P[7]+1735328473&4294967295,N=O+(k<<14&4294967295|k>>>18),k=A+(O^y&(N^O))+P[12]+2368359562&4294967295,A=N+(k<<20&4294967295|k>>>12),k=y+(A^N^O)+P[5]+4294588738&4294967295,y=A+(k<<4&4294967295|k>>>28),k=O+(y^A^N)+P[8]+2272392833&4294967295,O=y+(k<<11&4294967295|k>>>21),k=N+(O^y^A)+P[11]+1839030562&4294967295,N=O+(k<<16&4294967295|k>>>16),k=A+(N^O^y)+P[14]+4259657740&4294967295,A=N+(k<<23&4294967295|k>>>9),k=y+(A^N^O)+P[1]+2763975236&4294967295,y=A+(k<<4&4294967295|k>>>28),k=O+(y^A^N)+P[4]+1272893353&4294967295,O=y+(k<<11&4294967295|k>>>21),k=N+(O^y^A)+P[7]+4139469664&4294967295,N=O+(k<<16&4294967295|k>>>16),k=A+(N^O^y)+P[10]+3200236656&4294967295,A=N+(k<<23&4294967295|k>>>9),k=y+(A^N^O)+P[13]+681279174&4294967295,y=A+(k<<4&4294967295|k>>>28),k=O+(y^A^N)+P[0]+3936430074&4294967295,O=y+(k<<11&4294967295|k>>>21),k=N+(O^y^A)+P[3]+3572445317&4294967295,N=O+(k<<16&4294967295|k>>>16),k=A+(N^O^y)+P[6]+76029189&4294967295,A=N+(k<<23&4294967295|k>>>9),k=y+(A^N^O)+P[9]+3654602809&4294967295,y=A+(k<<4&4294967295|k>>>28),k=O+(y^A^N)+P[12]+3873151461&4294967295,O=y+(k<<11&4294967295|k>>>21),k=N+(O^y^A)+P[15]+530742520&4294967295,N=O+(k<<16&4294967295|k>>>16),k=A+(N^O^y)+P[2]+3299628645&4294967295,A=N+(k<<23&4294967295|k>>>9),k=y+(N^(A|~O))+P[0]+4096336452&4294967295,y=A+(k<<6&4294967295|k>>>26),k=O+(A^(y|~N))+P[7]+1126891415&4294967295,O=y+(k<<10&4294967295|k>>>22),k=N+(y^(O|~A))+P[14]+2878612391&4294967295,N=O+(k<<15&4294967295|k>>>17),k=A+(O^(N|~y))+P[5]+4237533241&4294967295,A=N+(k<<21&4294967295|k>>>11),k=y+(N^(A|~O))+P[12]+1700485571&4294967295,y=A+(k<<6&4294967295|k>>>26),k=O+(A^(y|~N))+P[3]+2399980690&4294967295,O=y+(k<<10&4294967295|k>>>22),k=N+(y^(O|~A))+P[10]+4293915773&4294967295,N=O+(k<<15&4294967295|k>>>17),k=A+(O^(N|~y))+P[1]+2240044497&4294967295,A=N+(k<<21&4294967295|k>>>11),k=y+(N^(A|~O))+P[8]+1873313359&4294967295,y=A+(k<<6&4294967295|k>>>26),k=O+(A^(y|~N))+P[15]+4264355552&4294967295,O=y+(k<<10&4294967295|k>>>22),k=N+(y^(O|~A))+P[6]+2734768916&4294967295,N=O+(k<<15&4294967295|k>>>17),k=A+(O^(N|~y))+P[13]+1309151649&4294967295,A=N+(k<<21&4294967295|k>>>11),k=y+(N^(A|~O))+P[4]+4149444226&4294967295,y=A+(k<<6&4294967295|k>>>26),k=O+(A^(y|~N))+P[11]+3174756917&4294967295,O=y+(k<<10&4294967295|k>>>22),k=N+(y^(O|~A))+P[2]+718787259&4294967295,N=O+(k<<15&4294967295|k>>>17),k=A+(O^(N|~y))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var A=y-this.blockSize,P=this.B,N=this.h,O=0;O<y;){if(N==0)for(;O<=A;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<y;)if(P[N++]=I.charCodeAt(O++),N==this.blockSize){i(this,P),N=0;break}}else for(;O<y;)if(P[N++]=I[O++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var A=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=A&255,A/=256;for(this.u(I),I=Array(16),y=A=0;4>y;++y)for(var P=0;32>P;P+=8)I[A++]=this.g[y]>>>P&255;return I};function s(I,y){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=y(I)}function o(I,y){this.h=y;for(var A=[],P=!0,N=I.length-1;0<=N;N--){var O=I[N]|0;P&&O==y||(A[N]=O,P=!1)}this.g=A}var a={};function u(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return b(c(-I));for(var y=[],A=1,P=0;I>=A;P++)y[P]=I/A|0,A*=4294967296;return new o(y,0)}function d(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return b(d(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(y,8)),P=f,N=0;N<I.length;N+=8){var O=Math.min(8,I.length-N),k=parseInt(I.substring(N,N+O),y);8>O?(O=c(Math.pow(y,O)),P=P.j(O).add(c(k))):(P=P.j(A),P=P.add(c(k)))}return P}var f=u(0),m=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-b(this).m();for(var I=0,y=1,A=0;A<this.g.length;A++){var P=this.i(A);I+=(0<=P?P:4294967296+P)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(R(this))return"-"+b(this).toString(I);for(var y=c(Math.pow(I,6)),A=this,P="";;){var N=x(A,y).g;A=T(A,N.j(y));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=N,C(A))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function R(I){return I.h==-1}t.l=function(I){return I=T(this,I),R(I)?-1:C(I)?0:1};function b(I){for(var y=I.g.length,A=[],P=0;P<y;P++)A[P]=~I.g[P];return new o(A,~I.h).add(m)}t.abs=function(){return R(this)?b(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),A=[],P=0,N=0;N<=y;N++){var O=P+(this.i(N)&65535)+(I.i(N)&65535),k=(O>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=k>>>16,O&=65535,k&=65535,A[N]=k<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function T(I,y){return I.add(b(y))}t.j=function(I){if(C(this)||C(I))return f;if(R(this))return R(I)?b(this).j(b(I)):b(b(this).j(I));if(R(I))return b(this.j(b(I)));if(0>this.l(_)&&0>I.l(_))return c(this.m()*I.m());for(var y=this.g.length+I.g.length,A=[],P=0;P<2*y;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<I.g.length;N++){var O=this.i(P)>>>16,k=this.i(P)&65535,de=I.i(N)>>>16,Ie=I.i(N)&65535;A[2*P+2*N]+=k*Ie,E(A,2*P+2*N),A[2*P+2*N+1]+=O*Ie,E(A,2*P+2*N+1),A[2*P+2*N+1]+=k*de,E(A,2*P+2*N+1),A[2*P+2*N+2]+=O*de,E(A,2*P+2*N+2)}for(P=0;P<y;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=y;P<2*y;P++)A[P]=0;return new o(A,0)};function E(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function S(I,y){this.g=I,this.h=y}function x(I,y){if(C(y))throw Error("division by zero");if(C(I))return new S(f,f);if(R(I))return y=x(b(I),y),new S(b(y.g),b(y.h));if(R(y))return y=x(I,b(y)),new S(b(y.g),y.h);if(30<I.g.length){if(R(I)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var A=m,P=y;0>=P.l(I);)A=M(A),P=M(P);var N=L(A,1),O=L(P,1);for(P=L(P,2),A=L(A,2);!C(P);){var k=O.add(P);0>=k.l(I)&&(N=N.add(A),O=k),P=L(P,1),A=L(A,1)}return y=T(I,N.j(y)),new S(N,y)}for(N=f;0<=I.l(y);){for(A=Math.max(1,Math.floor(I.m()/y.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(A),k=O.j(y);R(k)||0<k.l(I);)A-=P,O=c(A),k=O.j(y);C(O)&&(O=m),N=N.add(O),I=T(I,k)}return new S(N,I)}t.A=function(I){return x(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),A=[],P=0;P<y;P++)A[P]=this.i(P)&I.i(P);return new o(A,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),A=[],P=0;P<y;P++)A[P]=this.i(P)|I.i(P);return new o(A,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),A=[],P=0;P<y;P++)A[P]=this.i(P)^I.i(P);return new o(A,this.h^I.h)};function M(I){for(var y=I.g.length+1,A=[],P=0;P<y;P++)A[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(A,I.h)}function L(I,y){var A=y>>5;y%=32;for(var P=I.g.length-A,N=[],O=0;O<P;O++)N[O]=0<y?I.i(O+A)>>>y|I.i(O+A+1)<<32-y:I.i(O+A);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,hi=o}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kR,Oa,PR,vc,wm,NR,xR,OR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var D=l[w];if(!(D in p))break e;p=p[D]}l=l[l.length-1],w=p[l],h=h(w),h!=w&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,w=!1,D={next:function(){if(!w&&p<l.length){var V=p++;return{value:h(V,l[V]),done:!1}}return w=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,w),l.apply(h,D)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function _(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function C(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(w,D,V){for(var H=Array(arguments.length-2),be=2;be<arguments.length;be++)H[be-2]=arguments[be];return h.prototype[D].apply(w,H)}}function R(l){const h=l.length;if(0<h){const p=Array(h);for(let w=0;w<h;w++)p[w]=l[w];return p}return[]}function b(l,h){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(u(w)){const D=l.length||0,V=w.length||0;l.length=D+V;for(let H=0;H<V;H++)l[D+H]=w[H]}else l.push(w)}}class T{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function x(l){return x[" "](l),l}x[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(l,h,p){for(const w in l)h.call(p,l[w],w,l)}function I(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function y(l){const h={};for(const p in l)h[p]=l[p];return h}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,h){let p,w;for(let D=1;D<arguments.length;D++){w=arguments[D];for(p in w)l[p]=w[p];for(let V=0;V<A.length;V++)p=A[V],Object.prototype.hasOwnProperty.call(w,p)&&(l[p]=w[p])}}function N(l){var h=1;l=l.split(":");const p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function O(l){a.setTimeout(()=>{throw l},0)}function k(){var l=W;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class de{constructor(){this.h=this.g=null}add(h,p){const w=Ie.get();w.set(h,p),this.h?this.h.next=w:this.g=w,this.h=w}}var Ie=new T(()=>new ge,l=>l.reset());class ge{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,$=!1,W=new de,G=()=>{const l=a.Promise.resolve(void 0);ae=()=>{l.then(ue)}};var ue=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(p){O(p)}var h=Ie;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}$=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Ce(l,h){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(M){e:{try{x(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:_e[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}C(Ce,ce);var _e={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function tn(l,h,p,w,D){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!w,this.ha=D,this.key=++Qe,this.da=this.fa=!1}function Ft(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Be(l){this.src=l,this.g={},this.h=0}Be.prototype.add=function(l,h,p,w,D){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var H=xt(l,h,w,D);return-1<H?(h=l[H],p||(h.fa=!1)):(h=new tn(h,this.src,V,!!w,D),h.fa=p,l.push(h)),h};function Ye(l,h){var p=h.type;if(p in l.g){var w=l.g[p],D=Array.prototype.indexOf.call(w,h,void 0),V;(V=0<=D)&&Array.prototype.splice.call(w,D,1),V&&(Ft(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function xt(l,h,p,w){for(var D=0;D<l.length;++D){var V=l[D];if(!V.da&&V.listener==h&&V.capture==!!p&&V.ha==w)return D}return-1}var Bt="closure_lm_"+(1e6*Math.random()|0),ve={};function xn(l,h,p,w,D){if(Array.isArray(h)){for(var V=0;V<h.length;V++)xn(l,h[V],p,w,D);return null}return p=Or(p),l&&l[nt]?l.K(h,p,c(w)?!!w.capture:!!w,D):On(l,h,p,!1,w,D)}function On(l,h,p,w,D,V){if(!h)throw Error("Invalid event type");var H=c(D)?!!D.capture:!!D,be=Yn(l);if(be||(l[Bt]=be=new Be(l)),p=be.add(h,p,w,H,V),p.proxy)return p;if(w=ta(),p.proxy=w,w.src=l,w.listener=p,l.addEventListener)he||(D=H),D===void 0&&(D=!1),l.addEventListener(h.toString(),w,D);else if(l.attachEvent)l.attachEvent(Qn(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ta(){function l(p){return h.call(l.src,l.listener,p)}const h=Es;return l}function _s(l,h,p,w,D){if(Array.isArray(h))for(var V=0;V<h.length;V++)_s(l,h[V],p,w,D);else w=c(w)?!!w.capture:!!w,p=Or(p),l&&l[nt]?(l=l.i,h=String(h).toString(),h in l.g&&(V=l.g[h],p=xt(V,p,w,D),-1<p&&(Ft(V[p]),Array.prototype.splice.call(V,p,1),V.length==0&&(delete l.g[h],l.h--)))):l&&(l=Yn(l))&&(h=l.g[h.toString()],l=-1,h&&(l=xt(h,p,w,D)),(p=-1<l?h[l]:null)&&zt(p))}function zt(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[nt])Ye(h.i,l);else{var p=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(p,w,l.capture):h.detachEvent?h.detachEvent(Qn(p),w):h.addListener&&h.removeListener&&h.removeListener(w),(p=Yn(h))?(Ye(p,l),p.h==0&&(p.src=null,h[Bt]=null)):Ft(l)}}}function Qn(l){return l in ve?ve[l]:ve[l]="on"+l}function Es(l,h){if(l.da)l=!0;else{h=new Ce(h,this);var p=l.listener,w=l.ha||l.src;l.fa&&zt(l),l=p.call(w,h)}return l}function Yn(l){return l=l[Bt],l instanceof Be?l:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Or(l){return typeof l=="function"?l:(l[nn]||(l[nn]=function(h){return l.handleEvent(h)}),l[nn])}function ze(){le.call(this),this.i=new Be(this),this.M=this,this.F=null}C(ze,le),ze.prototype[nt]=!0,ze.prototype.removeEventListener=function(l,h,p,w){_s(this,l,h,p,w)};function Ke(l,h){var p,w=l.F;if(w)for(p=[];w;w=w.F)p.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new ce(h,l);else if(h instanceof ce)h.target=h.target||l;else{var D=h;h=new ce(w,l),P(h,D)}if(D=!0,p)for(var V=p.length-1;0<=V;V--){var H=h.g=p[V];D=Xn(H,w,!0,h)&&D}if(H=h.g=l,D=Xn(H,w,!0,h)&&D,D=Xn(H,w,!1,h)&&D,p)for(V=0;V<p.length;V++)H=h.g=p[V],D=Xn(H,w,!1,h)&&D}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],w=0;w<p.length;w++)Ft(p[w]);delete l.g[h],l.h--}}this.F=null},ze.prototype.K=function(l,h,p,w){return this.i.add(String(l),h,!1,p,w)},ze.prototype.L=function(l,h,p,w){return this.i.add(String(l),h,!0,p,w)};function Xn(l,h,p,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,V=0;V<h.length;++V){var H=h[V];if(H&&!H.da&&H.capture==p){var be=H.listener,ot=H.ha||H.src;H.fa&&Ye(l.i,H),D=be.call(ot,w)!==!1&&D}}return D&&!w.defaultPrevented}function na(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function ws(l){l.g=na(()=>{l.g=null,l.i&&(l.i=!1,ws(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class su extends le{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ws(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(l){le.call(this),this.h=l,this.g={}}C(te,le);var Ae=[];function rn(l){L(l.g,function(h,p){this.g.hasOwnProperty(p)&&zt(h)},l),l.g={}}te.prototype.N=function(){te.aa.N.call(this),rn(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=a.JSON.stringify,Mh=a.JSON.parse,Wb=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Vh(){}Vh.prototype.h=null;function py(l){return l.h||(l.h=l.i())}function my(){}var ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jh(){ce.call(this,"d")}C(jh,ce);function $h(){ce.call(this,"c")}C($h,ce);var xi={},gy=null;function ou(){return gy=gy||new ze}xi.La="serverreachability";function vy(l){ce.call(this,xi.La,l)}C(vy,ce);function ia(l){const h=ou();Ke(h,new vy(h))}xi.STAT_EVENT="statevent";function yy(l,h){ce.call(this,xi.STAT_EVENT,l),this.stat=h}C(yy,ce);function Ct(l){const h=ou();Ke(h,new yy(h,l))}xi.Ma="timingevent";function _y(l,h){ce.call(this,xi.Ma,l),this.size=h}C(_y,ce);function sa(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function Kb(l,h,p,w,D,V){l.info(function(){if(l.g)if(V)for(var H="",be=V.split("&"),ot=0;ot<be.length;ot++){var Te=be[ot].split("=");if(1<Te.length){var pt=Te[0];Te=Te[1];var mt=pt.split("_");H=2<=mt.length&&mt[1]=="type"?H+(pt+"="+Te+"&"):H+(pt+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+w+") [attempt "+D+"]: "+h+`
`+p+`
`+H})}function qb(l,h,p,w,D,V,H){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+D+"]: "+h+`
`+p+`
`+V+" "+H})}function Ts(l,h,p,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Qb(l,p)+(w?" "+w:"")})}function Gb(l,h){l.info(function(){return"TIMEOUT: "+h})}oa.prototype.info=function(){};function Qb(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var w=p[l];if(!(2>w.length)){var D=w[1];if(Array.isArray(D)&&!(1>D.length)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<D.length;H++)D[H]=""}}}}return Jn(p)}catch{return h}}var au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ey={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uh;function lu(){}C(lu,Vh),lu.prototype.g=function(){return new XMLHttpRequest},lu.prototype.i=function(){return{}},Uh=new lu;function Dr(l,h,p,w){this.j=l,this.i=h,this.l=p,this.R=w||1,this.U=new te(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wy}function wy(){this.i=null,this.g="",this.h=!1}var Ty={},Fh={};function Bh(l,h,p){l.L=1,l.v=hu(Zn(h)),l.m=p,l.P=!0,Iy(l,null)}function Iy(l,h){l.F=Date.now(),uu(l),l.A=Zn(l.v);var p=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Vy(p.i,"t",w),l.C=0,p=l.j.J,l.h=new wy,l.g=t_(l.j,p?h:null,!l.m),0<l.O&&(l.M=new su(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,w=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(Ae[0]=D.toString()),D=Ae);for(var V=0;V<D.length;V++){var H=xn(p,D[V],w||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ia(),Kb(l.i,l.u,l.A,l.l,l.R,l.m)}Dr.prototype.ca=function(l){l=l.target;const h=this.M;h&&er(l)==3?h.j():this.Y(l)},Dr.prototype.Y=function(l){try{if(l==this.g)e:{const mt=er(this.g);var h=this.g.Ba();const Cs=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||Hy(this.g)))){this.J||mt!=4||h==7||(h==8||0>=Cs?ia(3):ia(2)),zh(this);var p=this.g.Z();this.X=p;t:if(Sy(this)){var w=Hy(this.g);l="";var D=w.length,V=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),aa(this);var H="";break t}this.h.i=new a.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,l+=this.h.i.decode(w[h],{stream:!(V&&h==D-1)});w.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=p==200,qb(this.i,this.u,this.A,this.l,this.R,mt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ot=this.g;if((be=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(be)){var Te=be;break t}}Te=null}if(p=Te)Ts(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hh(this,p);else{this.o=!1,this.s=3,Ct(12),Oi(this),aa(this);break e}}if(this.P){p=!0;let _n;for(;!this.J&&this.C<H.length;)if(_n=Yb(this,H),_n==Fh){mt==4&&(this.s=4,Ct(14),p=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Ty){this.s=4,Ct(15),Ts(this.i,this.l,H,"[Invalid Chunk]"),p=!1;break}else Ts(this.i,this.l,_n,null),Hh(this,_n);if(Sy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||H.length!=0||this.h.h||(this.s=1,Ct(16),p=!1),this.o=this.o&&p,!p)Ts(this.i,this.l,H,"[Invalid Chunked Response]"),Oi(this),aa(this);else if(0<H.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Yh(pt),pt.M=!0,Ct(11))}}else Ts(this.i,this.l,H,null),Hh(this,H);mt==4&&Oi(this),this.o&&!this.J&&(mt==4?Xy(this.j,this):(this.o=!1,uu(this)))}else fk(this.g),p==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Oi(this),aa(this)}}}catch{}finally{}};function Sy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Yb(l,h){var p=l.C,w=h.indexOf(`
`,p);return w==-1?Fh:(p=Number(h.substring(p,w)),isNaN(p)?Ty:(w+=1,w+p>h.length?Fh:(h=h.slice(w,w+p),l.C=w+p,h)))}Dr.prototype.cancel=function(){this.J=!0,Oi(this)};function uu(l){l.S=Date.now()+l.I,Cy(l,l.I)}function Cy(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=sa(m(l.ba,l),h)}function zh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Dr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Gb(this.i,this.A),this.L!=2&&(ia(),Ct(17)),Oi(this),this.s=2,aa(this)):Cy(this,this.S-l)};function aa(l){l.j.G==0||l.J||Xy(l.j,l)}function Oi(l){zh(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,rn(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Hh(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Wh(p.h,l))){if(!l.K&&Wh(p.h,l)&&p.G==3){try{var w=p.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var D=w;if(D[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)yu(p),gu(p);else break e;Qh(p),Ct(18)}}else p.za=D[1],0<p.za-p.T&&37500>D[2]&&p.F&&p.v==0&&!p.C&&(p.C=sa(m(p.Za,p),6e3));if(1>=by(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Li(p,11)}else if((l.K||p.g==l)&&yu(p),!E(h))for(D=p.Da.g.parse(h),h=0;h<D.length;h++){let Te=D[h];if(p.T=Te[0],Te=Te[1],p.G==2)if(Te[0]=="c"){p.K=Te[1],p.ia=Te[2];const pt=Te[3];pt!=null&&(p.la=pt,p.j.info("VER="+p.la));const mt=Te[4];mt!=null&&(p.Aa=mt,p.j.info("SVER="+p.Aa));const Cs=Te[5];Cs!=null&&typeof Cs=="number"&&0<Cs&&(w=1.5*Cs,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const _n=l.g;if(_n){const Eu=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var V=w.h;V.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Kh(V,V.h),V.h=null))}if(w.D){const Xh=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Xh&&(w.ya=Xh,Pe(w.I,w.D,Xh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var H=l;if(w.qa=e_(w,w.J?w.ia:null,w.W),H.K){ky(w.h,H);var be=H,ot=w.L;ot&&(be.I=ot),be.B&&(zh(be),uu(be)),w.g=H}else Qy(w);0<p.i.length&&vu(p)}else Te[0]!="stop"&&Te[0]!="close"||Li(p,7);else p.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Li(p,7):Gh(p):Te[0]!="noop"&&p.l&&p.l.ta(Te),p.v=0)}}ia(4)}catch{}}var Xb=class{constructor(l,h){this.g=l,this.map=h}};function Ay(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ry(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function by(l){return l.h?1:l.g?l.g.size:0}function Wh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Kh(l,h){l.g?l.g.add(h):l.h=h}function ky(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Ay.prototype.cancel=function(){if(this.i=Py(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Py(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.D);return h}return R(l.i)}function Jb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],p=l.length,w=0;w<p;w++)h.push(l[w]);return h}h=[],p=0;for(w in l)h[p++]=l[w];return h}function Zb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(const w in l)h[p++]=w;return h}}}function Ny(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=Zb(l),w=Jb(l),D=w.length,V=0;V<D;V++)h.call(void 0,w[V],p&&p[V],l)}var xy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ek(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var w=l[p].indexOf("="),D=null;if(0<=w){var V=l[p].substring(0,w);D=l[p].substring(w+1)}else V=l[p];h(V,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Di(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Di){this.h=l.h,cu(this,l.j),this.o=l.o,this.g=l.g,du(this,l.s),this.l=l.l;var h=l.i,p=new ca;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Oy(this,p),this.m=l.m}else l&&(h=String(l).match(xy))?(this.h=!1,cu(this,h[1]||"",!0),this.o=la(h[2]||""),this.g=la(h[3]||"",!0),du(this,h[4]),this.l=la(h[5]||"",!0),Oy(this,h[6]||"",!0),this.m=la(h[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}Di.prototype.toString=function(){var l=[],h=this.j;h&&l.push(ua(h,Dy,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ua(h,Dy,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(ua(p,p.charAt(0)=="/"?rk:nk,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",ua(p,sk)),l.join("")};function Zn(l){return new Di(l)}function cu(l,h,p){l.j=p?la(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function du(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Oy(l,h,p){h instanceof ca?(l.i=h,ok(l.i,l.h)):(p||(h=ua(h,ik)),l.i=new ca(h,l.h))}function Pe(l,h,p){l.i.set(h,p)}function hu(l){return Pe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function la(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ua(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,tk),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function tk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Dy=/[#\/\?@]/g,nk=/[#\?:]/g,rk=/[#\?]/g,ik=/[#\?@]/g,sk=/#/g;function ca(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Lr(l){l.g||(l.g=new Map,l.h=0,l.i&&ek(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=ca.prototype,t.add=function(l,h){Lr(this),this.i=null,l=Is(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function Ly(l,h){Lr(l),h=Is(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function My(l,h){return Lr(l),h=Is(l,h),l.g.has(h)}t.forEach=function(l,h){Lr(this),this.g.forEach(function(p,w){p.forEach(function(D){l.call(h,D,w,this)},this)},this)},t.na=function(){Lr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let w=0;w<h.length;w++){const D=l[w];for(let V=0;V<D.length;V++)p.push(h[w])}return p},t.V=function(l){Lr(this);let h=[];if(typeof l=="string")My(this,l)&&(h=h.concat(this.g.get(Is(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return Lr(this),this.i=null,l=Is(this,l),My(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Vy(l,h,p){Ly(l,h),0<p.length&&(l.i=null,l.g.set(Is(l,h),R(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var w=h[p];const V=encodeURIComponent(String(w)),H=this.V(w);for(w=0;w<H.length;w++){var D=V;H[w]!==""&&(D+="="+encodeURIComponent(String(H[w]))),l.push(D)}}return this.i=l.join("&")};function Is(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function ok(l,h){h&&!l.j&&(Lr(l),l.i=null,l.g.forEach(function(p,w){var D=w.toLowerCase();w!=D&&(Ly(this,w),Vy(this,D,p))},l)),l.j=h}function ak(l,h){const p=new oa;if(a.Image){const w=new Image;w.onload=_(Mr,p,"TestLoadImage: loaded",!0,h,w),w.onerror=_(Mr,p,"TestLoadImage: error",!1,h,w),w.onabort=_(Mr,p,"TestLoadImage: abort",!1,h,w),w.ontimeout=_(Mr,p,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function lk(l,h){const p=new oa,w=new AbortController,D=setTimeout(()=>{w.abort(),Mr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(V=>{clearTimeout(D),V.ok?Mr(p,"TestPingServer: ok",!0,h):Mr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),Mr(p,"TestPingServer: error",!1,h)})}function Mr(l,h,p,w,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),w(p)}catch{}}function uk(){this.g=new Wb}function ck(l,h,p){const w=p||"";try{Ny(l,function(D,V){let H=D;c(D)&&(H=Jn(D)),h.push(w+V+"="+encodeURIComponent(H))})}catch(D){throw h.push(w+"type="+encodeURIComponent("_badmap")),D}}function fu(l){this.l=l.Ub||null,this.j=l.eb||!1}C(fu,Vh),fu.prototype.g=function(){return new pu(this.l,this.j)},fu.prototype.i=function(l){return function(){return l}}({});function pu(l,h){ze.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(pu,ze),t=pu.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ha(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function jy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?da(this):ha(this),this.readyState==3&&jy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,da(this))},t.Qa=function(l){this.g&&(this.response=l,da(this))},t.ga=function(){this.g&&da(this)};function da(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ha(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function ha(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function $y(l){let h="";return L(l,function(p,w){h+=w,h+=":",h+=p,h+=`\r
`}),h}function qh(l,h,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=$y(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Pe(l,h,p))}function je(l){ze.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(je,ze);var dk=/^https?$/i,hk=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uh.g(),this.v=this.o?py(this.o):py(Uh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(V){Uy(this,V);return}if(l=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var D in w)p.set(D,w[D]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const V of w.keys())p.set(V,w.get(V));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hk,h,void 0))||w||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of p)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zy(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){Uy(this,V)}};function Uy(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Fy(l),mu(l)}function Fy(l){l.A||(l.A=!0,Ke(l,"complete"),Ke(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ke(this,"complete"),Ke(this,"abort"),mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mu(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?By(this):this.bb())},t.bb=function(){By(this)};function By(l){if(l.h&&typeof o<"u"&&(!l.v[1]||er(l)!=4||l.Z()!=2)){if(l.u&&er(l)==4)na(l.Ea,0,l);else if(Ke(l,"readystatechange"),er(l)==4){l.h=!1;try{const H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var w;if(w=H===0){var D=String(l.D).match(xy)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),w=!dk.test(D?D.toLowerCase():"")}p=w}if(p)Ke(l,"complete"),Ke(l,"success");else{l.m=6;try{var V=2<er(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",Fy(l)}}finally{mu(l)}}}}function mu(l,h){if(l.g){zy(l);const p=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Ke(l,"ready");try{p.onreadystatechange=w}catch{}}}function zy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function er(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Mh(h)}};function Hy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function fk(l){const h={};l=(l.g&&2<=er(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(E(l[w]))continue;var p=N(l[w]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=h[D]||[];h[D]=V,V.push(p)}I(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function Wy(l){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,l),this.cb=fa("retryDelaySeedMs",1e4,l),this.Wa=fa("forwardChannelMaxRetries",2,l),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ay(l&&l.concurrentRequestLimit),this.Da=new uk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wy.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,w){Ct(0),this.W=l,this.H=h||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=e_(this,null,this.W),vu(this)};function Gh(l){if(Ky(l),l.G==3){var h=l.U++,p=Zn(l.I);if(Pe(p,"SID",l.K),Pe(p,"RID",h),Pe(p,"TYPE","terminate"),pa(l,p),h=new Dr(l,l.j,h),h.L=2,h.v=hu(Zn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=t_(h.j,null),h.g.ea(h.v)),h.F=Date.now(),uu(h)}Zy(l)}function gu(l){l.g&&(Yh(l),l.g.cancel(),l.g=null)}function Ky(l){gu(l),l.u&&(a.clearTimeout(l.u),l.u=null),yu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function vu(l){if(!Ry(l.h)&&!l.s){l.s=!0;var h=l.Ga;ae||G(),$||(ae(),$=!0),W.add(h,l),l.B=0}}function pk(l,h){return by(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=sa(m(l.Ga,l,h),Jy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new Dr(this,this.j,l);let V=this.o;if(this.S&&(V?(V=y(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(D.H=V,V=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Gy(this,D,h),p=Zn(this.I),Pe(p,"RID",l),Pe(p,"CVER",22),this.D&&Pe(p,"X-HTTP-Session-Id",this.D),pa(this,p),V&&(this.O?h="headers="+encodeURIComponent(String($y(V)))+"&"+h:this.m&&qh(p,this.m,V)),Kh(this.h,D),this.Ua&&Pe(p,"TYPE","init"),this.P?(Pe(p,"$req",h),Pe(p,"SID","null"),D.T=!0,Bh(D,p,null)):Bh(D,p,h),this.G=2}}else this.G==3&&(l?qy(this,l):this.i.length==0||Ry(this.h)||qy(this))};function qy(l,h){var p;h?p=h.l:p=l.U++;const w=Zn(l.I);Pe(w,"SID",l.K),Pe(w,"RID",p),Pe(w,"AID",l.T),pa(l,w),l.m&&l.o&&qh(w,l.m,l.o),p=new Dr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Gy(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Kh(l.h,p),Bh(p,w,h)}function pa(l,h){l.H&&L(l.H,function(p,w){Pe(h,w,p)}),l.l&&Ny({},function(p,w){Pe(h,w,p)})}function Gy(l,h,p){p=Math.min(l.i.length,p);var w=l.l?m(l.l.Na,l.l,l):null;e:{var D=l.i;let V=-1;for(;;){const H=["count="+p];V==-1?0<p?(V=D[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let be=!0;for(let ot=0;ot<p;ot++){let Te=D[ot].g;const pt=D[ot].map;if(Te-=V,0>Te)V=Math.max(0,D[ot].g-100),be=!1;else try{ck(pt,H,"req"+Te+"_")}catch{w&&w(pt)}}if(be){w=H.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,w}function Qy(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ae||G(),$||(ae(),$=!0),W.add(h,l),l.v=0}}function Qh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=sa(m(l.Fa,l),Jy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Yy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=sa(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),gu(this),Yy(this))};function Yh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Yy(l){l.g=new Dr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Zn(l.qa);Pe(h,"RID","rpc"),Pe(h,"SID",l.K),Pe(h,"AID",l.T),Pe(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Pe(h,"TO",l.ja),Pe(h,"TYPE","xmlhttp"),pa(l,h),l.m&&l.o&&qh(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=hu(Zn(h)),p.m=null,p.P=!0,Iy(p,l)}t.Za=function(){this.C!=null&&(this.C=null,gu(this),Qh(this),Ct(19))};function yu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Xy(l,h){var p=null;if(l.g==h){yu(l),Yh(l),l.g=null;var w=2}else if(Wh(l.h,h))p=h.D,ky(l.h,h),w=1;else return;if(l.G!=0){if(h.o)if(w==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var D=l.B;w=ou(),Ke(w,new _y(w,p)),vu(l)}else Qy(l);else if(D=h.s,D==3||D==0&&0<h.X||!(w==1&&pk(l,h)||w==2&&Qh(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),D){case 1:Li(l,5);break;case 4:Li(l,10);break;case 3:Li(l,6);break;default:Li(l,2)}}}function Jy(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Li(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),w=l.Xa;const D=!w;w=new Di(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cu(w,"https"),hu(w),D?ak(w.toString(),p):lk(w.toString(),p)}else Ct(2);l.G=0,l.l&&l.l.sa(h),Zy(l),Ky(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Zy(l){if(l.G=0,l.ka=[],l.l){const h=Py(l.h);(h.length!=0||l.i.length!=0)&&(b(l.ka,h),b(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function e_(l,h,p){var w=p instanceof Di?Zn(p):new Di(p);if(w.g!="")h&&(w.g=h+"."+w.g),du(w,w.s);else{var D=a.location;w=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var V=new Di(null);w&&cu(V,w),h&&(V.g=h),D&&du(V,D),p&&(V.l=p),w=V}return p=l.D,h=l.ya,p&&h&&Pe(w,p,h),Pe(w,"VER",l.la),pa(l,w),w}function t_(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new je(new fu({eb:p})):new je(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function n_(){}t=n_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _u(){}_u.prototype.g=function(l,h){return new Ht(l,h)};function Ht(l,h){ze.call(this),this.g=new Wy(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!E(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ss(this)}C(Ht,ze),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Gh(this.g)},Ht.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Jn(l),l=p);h.i.push(new Xb(h.Ya++,l)),h.G==3&&vu(h)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Gh(this.g),delete this.g,Ht.aa.N.call(this)};function r_(l){jh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}C(r_,jh);function i_(){$h.call(this),this.status=1}C(i_,$h);function Ss(l){this.g=l}C(Ss,n_),Ss.prototype.ua=function(){Ke(this.g,"a")},Ss.prototype.ta=function(l){Ke(this.g,new r_(l))},Ss.prototype.sa=function(l){Ke(this.g,new i_)},Ss.prototype.ra=function(){Ke(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,OR=function(){return new _u},xR=function(){return ou()},NR=xi,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},au.NO_ERROR=0,au.TIMEOUT=8,au.HTTP_ERROR=6,vc=au,Ey.COMPLETE="complete",PR=Ey,my.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",ze.prototype.listen=ze.prototype.K,Oa=my,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,kR=je}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const Hw="@firebase/firestore",Ww="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new vv("@firebase/firestore");function Ls(){return os.logLevel}function K(t,...e){if(os.logLevel<=pe.DEBUG){const n=e.map(Ev);os.debug(`Firestore (${Yo}): ${t}`,...n)}}function Cr(t,...e){if(os.logLevel<=pe.ERROR){const n=e.map(Ev);os.error(`Firestore (${Yo}): ${t}`,...n)}}function ko(t,...e){if(os.logLevel<=pe.WARN){const n=e.map(Ev);os.warn(`Firestore (${Yo}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function Se(t,e){t||re()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class p4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m4{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new DR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new _t(e)}}class g4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class v4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new g4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y4{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Cn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Kw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new Kw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-62135596800,Gw=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Gw);return new et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qw)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gw}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new et(0,0))}static max(){return new se(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__name__";class Mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Mn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Mn.isNumericId(e),i=Mn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}}class Ue extends Mn{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const E4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Mn{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return E4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qw}static keyField(){return new ut([Qw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ue.fromString(e))}static fromName(e){return new ee(Ue.fromString(e).popFirst(5))}static empty(){return new ee(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function w4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new _i(i,ee.empty(),e)}function T4(t){return new _i(t.readTime,t.key,Sl)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(se.min(),ee.empty(),Sl)}static max(){return new _i(se.max(),ee.empty(),Sl)}}function I4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==S4)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function A4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-1;function Th(t){return t==null}function pd(t){return t===0&&1/t==-1/0}function R4(t){return typeof t=="number"&&Number.isInteger(t)&&!pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="";function b4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yw(e)),e=k4(t.get(n),e);return Yw(e)}function k4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case MR:n+="";break;default:n+=s}}return n}function Yw(t){return t+MR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??lt.RED,this.left=i??lt.EMPTY,this.right=s??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jw(this.data.getIterator())}getIteratorFrom(e){return new Jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class Jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new An([])}unionWith(e){let n=new tt(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jR("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const P4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(Se(!!t),typeof t=="string"){let e=0;const n=P4.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wi(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="server_timestamp",UR="__type__",FR="__previous_value__",BR="__local_write_time__";function Tv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UR])===null||n===void 0?void 0:n.stringValue)===$R}function Ih(t){const e=t.mapValue.fields[FR];return Tv(e)?Ih(e):e}function Cl(t){const e=Ei(t.mapValue.fields[BR].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const md="(default)";class Al{constructor(e,n){this.projectId=e,this.database=n||md}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===md}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__type__",HR="__max__",Qu={mapValue:{fields:{__type__:{stringValue:HR}}}},WR="__vector__",gd="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tv(t)?4:O4(t)?9007199254740991:x4(t)?10:11:re()}function Kn(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ei(i.timestampValue),a=Ei(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return wi(i.bytesValue).isEqual(wi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?pd(o)===pd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xw(o)!==Xw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Kn(o[u],a[u])))return!1;return!0}(t,e);default:return re()}}function Rl(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=Ti(t),r=Ti(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),u=He(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Zw(t.timestampValue,e.timestampValue);case 4:return Zw(Cl(t),Cl(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=wi(s),u=wi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ye(a[c],u[c]);if(d!==0)return d}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ye(He(s.latitude),He(o.latitude));return a!==0?a:ye(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return e0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,d;const f=s.fields||{},m=o.fields||{},_=(a=f[gd])===null||a===void 0?void 0:a.arrayValue,C=(u=m[gd])===null||u===void 0?void 0:u.arrayValue,R=ye(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:e0(_,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Qu.mapValue&&o===Qu.mapValue)return 0;if(s===Qu.mapValue)return 1;if(o===Qu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=ye(u[f],d[f]);if(m!==0)return m;const _=No(a[u[f]],c[d[f]]);if(_!==0)return _}return ye(u.length,d.length)}(t.mapValue,e.mapValue);default:throw re()}}function Zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Ei(t),r=Ei(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function e0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=No(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function xo(t){return Tm(t)}function Tm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Tm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Tm(n.fields[o])}`;return i+"}"}(t.mapValue):re()}function yc(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(t);return e?16+yc(e):16;case 5:return 2*t.stringValue.length;case 6:return wi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+yc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ms(r.fields,(s,o)=>{i+=s.length+yc(o)}),i}(t.mapValue);default:throw re()}}function Im(t){return!!t&&"integerValue"in t}function Iv(t){return!!t&&"arrayValue"in t}function t0(t){return!!t&&"nullValue"in t}function n0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _c(t){return!!t&&"mapValue"in t}function x4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zR])===null||n===void 0?void 0:n.stringValue)===WR}function Ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ya(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ya(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_c(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new un(Ya(this.value))}}function KR(t){const e=[];return ms(t.fields,(n,r)=>{const i=new ut([n]);if(_c(r)){const s=KR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,se.min(),se.min(),se.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,se.min(),se.min(),un.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,se.min(),se.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.position=e,this.inclusive=n}}function r0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=No(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function i0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n="asc"){this.field=e,this.dir=n}}function D4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{}class Je extends qR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M4(e,n,r):n==="array-contains"?new $4(e,r):n==="in"?new U4(e,r):n==="not-in"?new F4(e,r):n==="array-contains-any"?new B4(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new V4(e,r):new j4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends qR{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new qn(e,n)}matches(e){return GR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GR(t){return t.op==="and"}function QR(t){return L4(t)&&GR(t)}function L4(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function Sm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+xo(t.value);if(QR(t))return t.filters.map(e=>Sm(e)).join(",");{const e=t.filters.map(n=>Sm(n)).join(",");return`${t.op}(${e})`}}function YR(t,e){return t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)}(t,e):t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YR(o,i.filters[a]),!0):!1}(t,e):void re()}function XR(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(XR).join(" ,")+"}"}(t):"Filter"}class M4 extends Je{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class V4 extends Je{constructor(e,n){super(e,"in",n),this.keys=JR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class j4 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=JR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class $4 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iv(n)&&Rl(n.arrayValue,this.value)}}class U4 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class F4 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class B4 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function s0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new z4(t,e,n,r,i,s,o)}function Sv(t){const e=oe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xo(r)).join(",")),e.le=n}return e.le}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i0(t.startAt,e.startAt)&&i0(t.endAt,e.endAt)}function Cm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function H4(t,e,n,r,i,s,o,a){return new Sh(t,e,n,r,i,s,o,a)}function Av(t){return new Sh(t)}function o0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function W4(t){return t.collectionGroup!==null}function Xa(t){const e=oe(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tt(ut.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new yd(s,r))}),n.has(ut.keyField().canonicalString())||e.he.push(new yd(ut.keyField(),r))}return e.he}function Fn(t){const e=oe(t);return e.Pe||(e.Pe=K4(e,Xa(t))),e.Pe}function K4(t,e){if(t.limitType==="F")return s0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yd(i.field,s)});const n=t.endAt?new vd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vd(t.startAt.position,t.startAt.inclusive):null;return s0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Am(t,e,n){return new Sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return Cv(Fn(t),Fn(e))&&t.limitType===e.limitType}function ZR(t){return`${Sv(Fn(t))}|lt:${t.limitType}`}function Ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XR(i)).join(", ")}]`),Th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xo(i)).join(",")),`Target(${r})`}(Fn(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Xa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=r0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Xa(r),i)||r.endAt&&!function(o,a,u){const c=r0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Xa(r),i))}(t,e)}function q4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e1(t){return(e,n)=>{let r=!1;for(const i of Xa(t)){const s=G4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function G4(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?No(u,c):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return VR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new Ve(ee.comparator);function Ar(){return Q4}const t1=new Ve(ee.comparator);function Da(...t){let e=t1;for(const n of t)e=e.insert(n.key,n);return e}function n1(t){let e=t1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return Ja()}function r1(){return Ja()}function Ja(){return new gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Y4=new Ve(ee.comparator),X4=new tt(ee.comparator);function me(...t){let e=X4;for(const n of t)e=e.add(n);return e}const J4=new tt(ye);function Z4(){return J4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function i1(t){return{integerValue:""+t}}function eF(t,e){return R4(e)?i1(e):Rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function tF(t,e,n){return t instanceof _d?function(i,s){const o={fields:{[UR]:{stringValue:$R},[BR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tv(s)&&(s=Ih(s)),s&&(o.fields[FR]=s),{mapValue:o}}(n,e):t instanceof bl?o1(t,e):t instanceof kl?a1(t,e):function(i,s){const o=s1(i,s),a=a0(o)+a0(i.Ie);return Im(o)&&Im(i.Ie)?i1(a):Rv(i.serializer,a)}(t,e)}function nF(t,e,n){return t instanceof bl?o1(t,e):t instanceof kl?a1(t,e):n}function s1(t,e){return t instanceof Ed?function(r){return Im(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _d extends Rh{}class bl extends Rh{constructor(e){super(),this.elements=e}}function o1(t,e){const n=l1(e);for(const r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends Rh{constructor(e){super(),this.elements=e}}function a1(t,e){let n=l1(e);for(const r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}class Ed extends Rh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function a0(t){return He(t.integerValue||t.doubleValue)}function l1(t){return Iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bl&&i instanceof bl||r instanceof kl&&i instanceof kl?Po(r.elements,i.elements,Kn):r instanceof Ed&&i instanceof Ed?Kn(r.Ie,i.Ie):r instanceof _d&&i instanceof _d}(t.transform,e.transform)}class iF{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bh{}function u1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d1(t.key,mr.none()):new Xl(t.key,t.data,mr.none());{const n=t.data,r=un.empty();let i=new tt(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vs(t.key,r,new An(i.toArray()),mr.none())}}function sF(t,e,n){t instanceof Xl?function(i,s,o){const a=i.value.clone(),u=u0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vs?function(i,s,o){if(!Ec(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=u0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(c1(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Za(t,e,n,r){return t instanceof Xl?function(s,o,a,u){if(!Ec(s.precondition,o))return a;const c=s.value.clone(),d=c0(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof vs?function(s,o,a,u){if(!Ec(s.precondition,o))return a;const c=c0(s.fieldTransforms,u,o),d=o.data;return d.setAll(c1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Ec(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function oF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=s1(r.transform,i||null);s!=null&&(n===null&&(n=un.empty()),n.set(r.field,s))}return n||null}function l0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Po(r,i,(s,o)=>rF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends bh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function u0(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nF(o,a,n[i]))}return r}function c0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tF(s,o,e))}return r}class d1 extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aF extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Za(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Za(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=u1(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,r)=>l0(n,r))&&Po(this.baseMutations,e.baseMutations,(n,r)=>l0(n,r))}}class bv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return Y4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,Ee;function dF(t){switch(t){case F.OK:return re();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return re()}}function h1(t){if(t===void 0)return Cr("GRPC error has no .code"),F.UNKNOWN;switch(t){case qe.OK:return F.OK;case qe.CANCELLED:return F.CANCELLED;case qe.UNKNOWN:return F.UNKNOWN;case qe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case qe.INTERNAL:return F.INTERNAL;case qe.UNAVAILABLE:return F.UNAVAILABLE;case qe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case qe.NOT_FOUND:return F.NOT_FOUND;case qe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case qe.ABORTED:return F.ABORTED;case qe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case qe.DATA_LOSS:return F.DATA_LOSS;default:return re()}}(Ee=qe||(qe={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=new hi([4294967295,4294967295],0);function d0(t){const e=hF().encode(t),n=new bR;return n.update(e),new Uint8Array(n.digest())}function h0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hi([n,r],0),new hi([i,s],0)]}class kv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new La(`Invalid padding: ${n}`);if(r<0)throw new La(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new La(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=hi.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(hi.fromNumber(r)));return i.compare(fF)===1&&(i=new hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=d0(e),[r,i]=h0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=d0(e),[r,i]=h0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(se.min(),i,new Ve(ye),Ar(),me())}}class Jl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jl(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class f1{constructor(e,n){this.targetId=e,this.ge=n}}class p1{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class f0{constructor(){this.pe=0,this.ye=p0(),this.we=ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=me(),n=me(),r=me();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Jl(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=p0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Se(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class pF{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ar(),this.$e=Yu(),this.Ke=Yu(),this.Ue=new Ve(ye)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Cm(s))if(r===0){const o=new ee(s.path);this.ze(n,o,wt.newNoDocument(o,se.min()))}else Se(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),u=a?this.nt(a,e,o):1;if(u!==0){this.Ye(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=wi(r).toUint8Array()}catch(u){if(u instanceof jR)return ko("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new kv(o,i,s)}catch(u){return ko(u instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Cm(a.target)){const u=new ee(a.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,wt.newNoDocument(u,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=me();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xe(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new kh(e,n,this.Ue,this.Qe,r);return this.Qe=Ar(),this.$e=Yu(),this.Ke=Yu(),this.Ue=new Ve(ye),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new f0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new tt(ye),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new tt(ye),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new f0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Yu(){return new Ve(ee.comparator)}function p0(){return new Ve(ee.comparator)}const mF={asc:"ASCENDING",desc:"DESCENDING"},gF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vF={and:"AND",or:"OR"};class yF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _F(t,e){return wd(t,e.toTimestamp())}function Bn(t){return Se(!!t),se.fromTimestamp(function(n){const r=Ei(n);return new et(r.seconds,r.nanos)}(t))}function Pv(t,e){return bm(t,e).canonicalString()}function bm(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function g1(t){const e=Ue.fromString(t);return Se(w1(e)),e}function km(t,e){return Pv(t.databaseId,e.path)}function Zf(t,e){const n=g1(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(y1(n))}function v1(t,e){return Pv(t.databaseId,e)}function EF(t){const e=g1(t);return e.length===4?Ue.emptyPath():y1(e)}function Pm(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y1(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function m0(t,e,n){return{name:km(t,e),fields:n.value.mapValue.fields}}function wF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Se(d===void 0||typeof d=="string"),ft.fromBase64String(d||"")):(Se(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:h1(c.code);return new Z(d,c.message||"")}(o);n=new p1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zf(t,r.document.name),s=Bn(r.document.updateTime),o=r.document.createTime?Bn(r.document.createTime):se.min(),a=new un({mapValue:{fields:r.document.fields}}),u=wt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new wc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zf(t,r.document),s=r.readTime?Bn(r.readTime):se.min(),o=wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zf(t,r.document),s=r.removedTargetIds||[];n=new wc([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new cF(i,s),a=r.targetId;n=new f1(a,o)}}return n}function TF(t,e){let n;if(e instanceof Xl)n={update:m0(t,e.key,e.value)};else if(e instanceof d1)n={delete:km(t,e.key)};else if(e instanceof vs)n={update:m0(t,e.key,e.data),updateMask:NF(e.fieldMask)};else{if(!(e instanceof aF))return re();n={verify:km(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof _d)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ed)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_F(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(t,e.precondition)),n}function IF(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Bn(i.updateTime):Bn(s);return o.isEqual(se.min())&&(o=Bn(s)),new iF(o,i.transformResults||[])}(n,e))):[]}function SF(t,e){return{documents:[v1(t,e.path)]}}function CF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=v1(t,i);const s=function(c){if(c.length!==0)return E1(qn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Vs(m.field),direction:bF(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Rm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function AF(t){let e=EF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=_1(f);return m instanceof qn&&QR(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(C){return new yd(js(C.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Th(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,_=f.values||[];return new vd(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,_=f.values||[];return new vd(_,m)}(n.endAt)),H4(e,i,o,s,a,"F",u,c)}function RF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=js(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=js(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=js(n.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=js(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>_1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function bF(t){return mF[t]}function kF(t){return gF[t]}function PF(t){return vF[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function js(t){return ut.fromServerFormat(t.fieldPath)}function E1(t){return t instanceof Je?function(n){if(n.op==="=="){if(n0(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(t0(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n0(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(t0(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:kF(n.op),value:n.value}}}(t):t instanceof qn?function(n){const r=n.getFilters().map(i=>E1(i));return r.length===1?r[0]:{compositeFilter:{op:PF(n.op),filters:r}}}(t):re()}function NF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s=se.min(),o=se.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.Tt=e}}function OF(t){const e=AF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.Tn=new LF}addToCollectionParentIndex(e,n){return this.Tn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(_i.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class LF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T1=41943040;class Ot{static withCacheSize(e){return new Ot(e,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(T1,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Oo(0)}static Un(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",MF=1048576;function y0([t,e],[n,r]){const i=ye(t,n);return i===0?ye(e,r):i}class VF{constructor(e){this.Hn=e,this.buffer=new tt(y0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();y0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){K(v0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?K(v0,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.er(3e5)})}}class $F{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(wh.ae);const r=new VF(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(g0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ls()<=pe.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function UF(t,e){return new $F(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.changes=new gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Za(r.mutation,i,An.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Da();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar();const o=Ja(),a=function(){return Ja()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof vs)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Za(d.mutation,c,d.mutation.getFieldMask(),et.now())):o.set(c.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new BF(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ja();let i=new Ve((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||An.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=r1();d.forEach(m=>{if(!s.has(m)){const _=u1(n.get(m),r.get(m));_!==null&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):W4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Wi());let a=Sl,u=s;return o.next(c=>j.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,me())).next(d=>({batchId:a,changes:n1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Da();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,u=>{const c=function(f,m){return new Sh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,wt.newInvalidDocument(d)))});let a=Da();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Za(d.mutation,c,An.empty(),et.now()),Ah(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return j.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:OF(i.bundledQuery),readTime:Bn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.overlays=new Ve(ee.comparator),this.Rr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Wi(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Wi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return j.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uF(n,r));let s=this.Rr.get(n);s===void 0&&(s=me(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.Vr=new tt(rt.mr),this.gr=new tt(rt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new rt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ee(new Ue([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ee(new Ue([])),r=new rt(n,e),i=new rt(n,e+1);let s=me();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ee.comparator(e.key,n.key)||ye(e.Cr,n.Cr)}static pr(e,n){return ye(e.Cr,n.Cr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new tt(rt.mr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?wv:this.Fr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(ye);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),j.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new rt(new ee(s),0);let a=new tt(ye);return this.Mr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Cr)),!0)},o),j.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return j.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new rt(n,0),i=this.Mr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.kr=e,this.docs=function(){return new Ve(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||I4(T4(d),r)<=0||(i.has(d.key)||Ah(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}qr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QF(this)}getSize(e){return j.resolve(this.size)}}class QF extends FF{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.persistence=e,this.Qr=new gs(n=>Sv(n),Cv),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Nv,this.targetCount=0,this.Ur=Oo.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),j.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.zn(n),j.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new wh(0),this.zr=!1,this.zr=!0,this.jr=new KF,this.referenceDelegate=e(this),this.Hr=new YF(this),this.indexManager=new DF,this.remoteDocumentCache=function(i){return new GF(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new xF(n),this.Yr=new HF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new qF(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new XF(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return j.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class XF extends C4{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.ti=new Nv,this.ni=null}static ri(e){return new xv(e)}get ii(){if(this.ni)return this.ni;throw re()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),j.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ii,r=>{const i=ee.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return j.or([()=>j.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Td{constructor(e,n){this.persistence=e,this.oi=new gs(r=>b4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=UF(this,n)}static ri(e,n){return new Td(e,n)}Zr(){}Xr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return j.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),j.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yc(e.data.value)),n}ar(e,n,r){return j.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ov(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return q$()?8:A4(St())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new JF;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Ls()<=pe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),j.resolve()):(Ls()<=pe.DEBUG&&K("QueryEngine","Query:",Ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ls()<=pe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(n))):j.resolve())}rs(e,n){if(o0(n))return j.resolve(null);let r=Fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Am(n,null,"F"),r=Fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.cs(n,a);return this.ls(n,c,o,u.readTime)?this.rs(e,Am(n,null,"F")):this.hs(e,c,n,u)}))})))}ss(e,n,r,i){return o0(n)||i.isEqual(se.min())?j.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?j.resolve(null):(Ls()<=pe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ms(n)),this.hs(e,o,n,w4(i,Sl)).next(a=>a))})}cs(e,n){let r=new tt(e1(e));return n.forEach((i,s)=>{Ah(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Ls()<=pe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.ns.getDocumentsMatchingQuery(e,n,_i.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="LocalStore",eB=3e8;class tB{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ve(ye),this.Is=new gs(s=>Sv(s),Cv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zF(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function nB(t,e,n,r){return new tB(t,e,n,r)}async function S1(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=me();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function rB(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let _=j.resolve();return m.forEach(C=>{_=_.next(()=>d.getEntry(u,C)).next(R=>{const b=c.docVersions.get(C);Se(b!==null),R.version.compareTo(b)<0&&(f.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function C1(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function iB(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,f)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(ft.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),function(R,b,T){return R.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=eB?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,d)&&a.push(n.Hr.updateTargetData(s,_))});let u=Ar(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(sB(s,o,e.documentUpdates).next(d=>{u=d.Vs,c=d.fs})),!r.isEqual(se.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ts=i,s))}function sB(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):K(Dv,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function oB(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aB(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Nm(t,e,n){const r=oe(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Jo(o))throw o;K(Dv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function _0(t,e,n){const r=oe(t);let i=se.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=oe(u),m=f.Is.get(d);return m!==void 0?j.resolve(f.Ts.get(m)):f.Hr.getTargetData(c,d)}(r,o,Fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:me())).next(a=>(lB(r,q4(e),a),{documents:a,gs:s})))}function lB(t,e,n){let r=t.Es.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class E0{constructor(){this.activeTargetIds=Z4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uB{constructor(){this.ho=new E0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new E0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class T0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){K(w0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){K(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function xm(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",dB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===md?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=xm(),a=this.bo(e,n.toUriEncodedString());K(ep,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,s),this.vo(e,a,u,r).then(c=>(K(ep,`Received RPC '${e}' ${o}: `,c),c),c=>{throw ko(ep,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=dB[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class pB extends hB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=xm();return new Promise((o,a)=>{const u=new kR;u.setWithCredentials(!0),u.listenOnce(PR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vc.NO_ERROR:const d=u.getResponseJson();K(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case vc.TIMEOUT:K(yt,`RPC '${e}' ${s} timed out`),a(new Z(F.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const f=u.getStatus();if(K(yt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const C=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(T)>=0?T:F.UNKNOWN}(_.status);a(new Z(C,_.message))}else a(new Z(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Z(F.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{K(yt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(yt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=xm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OR(),a=xR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");K(yt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);let m=!1,_=!1;const C=new fB({Fo:b=>{_?K(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(K(yt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),K(yt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Mo:()=>f.close()}),R=(b,T,E)=>{b.listen(T,S=>{try{E(S)}catch(x){setTimeout(()=>{throw x},0)}})};return R(f,Oa.EventType.OPEN,()=>{_||(K(yt,`RPC '${e}' stream ${i} transport opened.`),C.Qo())}),R(f,Oa.EventType.CLOSE,()=>{_||(_=!0,K(yt,`RPC '${e}' stream ${i} transport closed`),C.Ko())}),R(f,Oa.EventType.ERROR,b=>{_||(_=!0,ko(yt,`RPC '${e}' stream ${i} transport errored:`,b),C.Ko(new Z(F.UNAVAILABLE,"The operation could not be completed")))}),R(f,Oa.EventType.MESSAGE,b=>{var T;if(!_){const E=b.data[0];Se(!!E);const S=E,x=(S==null?void 0:S.error)||((T=S[0])===null||T===void 0?void 0:T.error);if(x){K(yt,`RPC '${e}' stream ${i} received error:`,x);const M=x.status;let L=function(A){const P=qe[A];if(P!==void 0)return h1(P)}(M),I=x.message;L===void 0&&(L=F.INTERNAL,I="Unknown error status: "+M+" with message "+x.message),_=!0,C.Ko(new Z(L,I)),f.close()}else K(yt,`RPC '${e}' stream ${i} received:`,E),C.Uo(E)}}),R(a,NR.STAT_EVENT,b=>{b.stat===wm.PROXY?K(yt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===wm.NOPROXY&&K(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new yF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="PersistentStream";class R1{constructor(e,n,r,i,s,o,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new A1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Z(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return K(I0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(K(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mB extends R1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=wF(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Bn(o.readTime):se.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Cm(u)?{documents:SF(s,u)}:{query:CF(s,u).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=m1(s,o.resumeToken);const c=Rm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=wd(s,o.snapshotVersion.toTimestamp());const c=Rm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=RF(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.I_(n)}}class gB extends R1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=IF(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Pm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TF(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{}class yB extends vB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,bm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(F.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,bm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(F.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _B{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Cr(n),this.N_=!1):K("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class EB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{ys(this)&&(K(as,"Restarting streams for network reachability change."),await async function(u){const c=oe(u);c.W_.add(4),await Zl(c),c.j_.set("Unknown"),c.W_.delete(4),await Nh(c)}(this))})}),this.j_=new _B(r,i)}}async function Nh(t){if(ys(t))for(const e of t.G_)await e(!0)}async function Zl(t){for(const e of t.G_)await e(!1)}function b1(t,e){const n=oe(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),jv(n)?Vv(n):Zo(n).c_()&&Mv(n,e))}function Lv(t,e){const n=oe(t),r=Zo(n);n.U_.delete(e),r.c_()&&k1(n,e),n.U_.size===0&&(r.c_()?r.P_():ys(n)&&n.j_.set("Unknown"))}function Mv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(t).y_(e)}function k1(t,e){t.H_.Ne(e),Zo(t).w_(e)}function Vv(t){t.H_=new pF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Zo(t).start(),t.j_.B_()}function jv(t){return ys(t)&&!Zo(t).u_()&&t.U_.size>0}function ys(t){return oe(t).W_.size===0}function P1(t){t.H_=void 0}async function wB(t){t.j_.set("Online")}async function TB(t){t.U_.forEach((e,n)=>{Mv(t,e)})}async function IB(t,e){P1(t),jv(t)?(t.j_.q_(e),Vv(t)):t.j_.set("Unknown")}async function SB(t,e,n){if(t.j_.set("Online"),e instanceof p1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){K(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Id(t,r)}else if(e instanceof wc?t.H_.We(e):e instanceof f1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(se.min()))try{const r=await C1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.U_.get(c);d&&s.U_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.U_.get(u);if(!d)return;s.U_.set(u,d.withResumeToken(ft.EMPTY_BYTE_STRING,d.snapshotVersion)),k1(s,u);const f=new Jr(d.target,u,c,d.sequenceNumber);Mv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(as,"Failed to raise snapshot:",r),await Id(t,r)}}async function Id(t,e,n){if(!Jo(e))throw e;t.W_.add(1),await Zl(t),t.j_.set("Offline"),n||(n=()=>C1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(as,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Nh(t)})}function N1(t,e){return e().catch(n=>Id(t,n,e))}async function xh(t){const e=oe(t),n=Ii(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:wv;for(;CB(e);)try{const i=await oB(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,AB(e,i)}catch(i){await Id(e,i)}x1(e)&&O1(e)}function CB(t){return ys(t)&&t.K_.length<10}function AB(t,e){t.K_.push(e);const n=Ii(t);n.c_()&&n.S_&&n.b_(e.mutations)}function x1(t){return ys(t)&&!Ii(t).u_()&&t.K_.length>0}function O1(t){Ii(t).start()}async function RB(t){Ii(t).C_()}async function bB(t){const e=Ii(t);for(const n of t.K_)e.b_(n.mutations)}async function kB(t,e,n){const r=t.K_.shift(),i=bv.from(r,e,n);await N1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xh(t)}async function PB(t,e){e&&Ii(t).S_&&await async function(r,i){if(function(o){return dF(o)&&o!==F.ABORTED}(i.code)){const s=r.K_.shift();Ii(r).h_(),await N1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xh(r)}}(t,e),x1(t)&&O1(t)}async function S0(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),K(as,"RemoteStore received new credentials");const r=ys(n);n.W_.add(3),await Zl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Nh(n)}async function NB(t,e){const n=oe(t);e?(n.W_.delete(2),await Nh(n)):e||(n.W_.add(2),await Zl(n),n.j_.set("Unknown"))}function Zo(t){return t.J_||(t.J_=function(n,r,i){const s=oe(n);return s.M_(),new mB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:wB.bind(null,t),No:TB.bind(null,t),Lo:IB.bind(null,t),p_:SB.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),jv(t)?Vv(t):t.j_.set("Unknown")):(await t.J_.stop(),P1(t))})),t.J_}function Ii(t){return t.Y_||(t.Y_=function(n,r,i){const s=oe(n);return s.M_(),new gB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:RB.bind(null,t),Lo:PB.bind(null,t),D_:bB.bind(null,t),v_:kB.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await xh(t)):(await t.Y_.stop(),t.K_.length>0&&(K(as,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $v(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uv(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Jo(t))return new Z(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Da(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.Z_=new Ve(ee.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):re():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Do{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Do(e,n,so.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class OB{constructor(){this.queries=A0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=oe(n),s=i.queries;i.queries=A0(),s.forEach((o,a)=>{for(const u of a.ta)u.onError(r)})})(this,new Z(F.ABORTED,"Firestore shutting down"))}}function A0(){return new gs(t=>ZR(t),Ch)}async function DB(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new xB,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Uv(o,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&Fv(n)}async function LB(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MB(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&Fv(n)}function VB(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function Fv(t){t.ia.forEach(e=>{e.next()})}var Om,R0;(R0=Om||(Om={}))._a="default",R0.Cache="cache";class jB{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.key=e}}class L1{constructor(e){this.key=e}}class $B{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=me(),this.mutatedKeys=me(),this.ya=e1(e),this.wa=new so(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new C0,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),_=Ah(this.query,f)?f:null,C=!!m&&this.mutatedKeys.has(m.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let b=!1;m&&_?m.data.isEqual(_.data)?C!==R&&(r.track({type:3,doc:_}),b=!0):this.va(m,_)||(r.track({type:2,doc:_}),b=!0,(u&&this.ya(_,u)>0||c&&this.ya(_,c)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),b=!0):m&&!_&&(r.track({type:1,doc:m}),b=!0,(u||c)&&(a=!0)),b&&(_?(o=o.add(_),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,f)=>function(_,C){const R=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return R(_)-R(C)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,c=u!==this.ga;return this.ga=u,o.length!==0||c?{snapshot:new Do(this.query,e.wa,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new C0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new L1(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new D1(r))}),n}Oa(e){this.fa=e.gs,this.pa=me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Do.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bv="SyncEngine";class UB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FB{constructor(e){this.key=e,this.Ba=!1}}class BB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new gs(a=>ZR(a),Ch),this.qa=new Map,this.Qa=new Set,this.$a=new Ve(ee.comparator),this.Ka=new Map,this.Ua=new Nv,this.Wa={},this.Ga=new Map,this.za=Oo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function zB(t,e,n=!0){const r=F1(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await M1(r,e,n,!0),i}async function HB(t,e){const n=F1(t);await M1(n,e,!0,!1)}async function M1(t,e,n,r){const i=await aB(t.localStore,Fn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await WB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&b1(t.remoteStore,i),a}async function WB(t,e,n,r,i){t.Ha=(f,m,_)=>async function(R,b,T,E){let S=b.view.ba(T);S.ls&&(S=await _0(R.localStore,b.query,!1).then(({documents:I})=>b.view.ba(I,S)));const x=E&&E.targetChanges.get(b.targetId),M=E&&E.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(S,R.isPrimaryClient,x,M);return k0(R,b.targetId,L.Ma),L.snapshot}(t,f,m,_);const s=await _0(t.localStore,e,!0),o=new $B(e,s.gs),a=o.ba(s.documents),u=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);k0(t,n,c.Ma);const d=new UB(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function KB(t,e,n){const r=oe(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Ch(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lv(r.remoteStore,i.targetId),Dm(r,i.targetId)}).catch(Xo)):(Dm(r,i.targetId),await Nm(r.localStore,i.targetId,!0))}async function qB(t,e){const n=oe(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lv(n.remoteStore,r.targetId))}async function GB(t,e,n){const r=t9(t);try{const i=await function(o,a){const u=oe(o),c=et.now(),d=a.reduce((_,C)=>_.add(C.key),me());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=Ar(),R=me();return u.ds.getEntries(_,d).next(b=>{C=b,C.forEach((T,E)=>{E.isValidDocument()||(R=R.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(b=>{f=b;const T=[];for(const E of a){const S=oF(E,f.get(E.key).overlayedDocument);S!=null&&T.push(new vs(E.key,S,KR(S.value.mapValue),mr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,T,a)}).next(b=>{m=b;const T=b.applyToLocalDocumentSet(f,R);return u.documentOverlayCache.saveOverlays(_,b.batchId,T)})}).then(()=>({batchId:m.batchId,changes:n1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Wa[o.currentUser.toKey()];c||(c=new Ve(ye)),c=c.insert(a,u),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,n),await eu(r,i.changes),await xh(r.remoteStore)}catch(i){const s=Uv(i,"Failed to persist write");n.reject(s)}}async function V1(t,e){const n=oe(t);try{const r=await iB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Se(o.Ba):i.removedDocuments.size>0&&(Se(o.Ba),o.Ba=!1))}),await eu(n,r,e)}catch(r){await Xo(r)}}function b0(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=oe(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.ta)m.sa(a)&&(c=!0)}),c&&Fv(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QB(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Ve(ee.comparator);o=o.insert(s,wt.newNoDocument(s,se.min()));const a=me().add(s),u=new kh(se.min(),new Map,new Ve(ye),o,a);await V1(r,u),r.$a=r.$a.remove(s),r.Ka.delete(e),zv(r)}else await Nm(r.localStore,e,!1).then(()=>Dm(r,e,n)).catch(Xo)}async function YB(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await rB(n.localStore,e);$1(n,r,null),j1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,i)}catch(i){await Xo(i)}}async function XB(t,e,n){const r=oe(t);try{const i=await function(o,a){const u=oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Se(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);$1(r,e,n),j1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,i)}catch(i){await Xo(i)}}function j1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function $1(t,e,n){const r=oe(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Dm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||U1(t,r)})}function U1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Lv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),zv(t))}function k0(t,e,n){for(const r of n)r instanceof D1?(t.Ua.addReference(r.key,e),JB(t,r)):r instanceof L1?(K(Bv,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||U1(t,r.key)):re()}function JB(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(K(Bv,"New document in limbo: "+n),t.Qa.add(r),zv(t))}function zv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ee(Ue.fromString(e)),r=t.za.next();t.Ka.set(r,new FB(n)),t.$a=t.$a.insert(n,r),b1(t.remoteStore,new Jr(Fn(Av(n.path)),r,"TargetPurposeLimboResolution",wh.ae))}}async function eu(t,e,n){const r=oe(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{o.push(r.Ha(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Ov.Yi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.La.p_(i),await async function(u,c){const d=oe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,m=>j.forEach(m.Hi,_=>d.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>j.forEach(m.Ji,_=>d.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!Jo(f))throw f;K(Dv,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const _=d.Ts.get(m),C=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(C);d.Ts=d.Ts.insert(m,R)}}}(r.localStore,s))}async function ZB(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){K(Bv,"User change. New user:",e.toKey());const r=await S1(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(u=>{u.reject(new Z(F.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.Rs)}}function e9(t,e){const n=oe(t),r=n.Ka.get(e);if(r&&r.Ba)return me().add(r.key);{let i=me();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function F1(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QB.bind(null,e),e.La.p_=MB.bind(null,e.eventManager),e.La.Ja=VB.bind(null,e.eventManager),e}function t9(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XB.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return nB(this.persistence,new ZF,e.initialUser,this.serializer)}Xa(e){return new I1(xv.ri,this.serializer)}Za(e){return new uB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class n9 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Se(this.persistence.referenceDelegate instanceof Td);const r=this.persistence.referenceDelegate.garbageCollector;return new jF(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new I1(r=>Td.ri(r,n),this.serializer)}}class Lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZB.bind(null,this.syncEngine),await NB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OB}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=function(s){return new pB(s)}(e.databaseInfo);return function(s,o,a,u){return new yB(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new EB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>b0(this.syncEngine,n,0),function(){return T0.D()?new T0:new cB}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const f=new BB(i,s,o,a,u,c);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=oe(i);K(as,"RemoteStore shutting down."),s.W_.add(5),await Zl(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="FirestoreClient";class i9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=LR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K(Si,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(Si,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function np(t,e){t.asyncQueue.verifyOperationInProgress(),K(Si,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await S1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await s9(t);K(Si,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>S0(e.remoteStore,i)),t._onlineComponents=e}async function s9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Si,"Using user provided OfflineComponentProvider");try{await np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await np(t,new Sd)}}else K(Si,"Using default OfflineComponentProvider"),await np(t,new n9(void 0));return t._offlineComponents}async function B1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Si,"Using user provided OnlineComponentProvider"),await P0(t,t._uninitializedComponentsProvider._online)):(K(Si,"Using default OnlineComponentProvider"),await P0(t,new Lm))),t._onlineComponents}function o9(t){return B1(t).then(e=>e.syncEngine)}async function a9(t){const e=await B1(t),n=e.eventManager;return n.onListen=zB.bind(null,e.syncEngine),n.onUnlisten=KB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qB.bind(null,e.syncEngine),n}function l9(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new r9({next:m=>{d.su(),o.enqueueAndForget(()=>LB(s,f));const _=m.docs.has(a);!_&&m.fromCache?c.reject(new Z(F.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?c.reject(new Z(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new jB(Av(a.path),d,{includeMetadataChanges:!0,Ta:!0});return DB(s,f)}(await a9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e,n){if(!n)throw new Z(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c9(t,e,n,r){if(e===!0&&r===!0)throw new Z(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x0(t){if(!ee.isDocumentKey(t))throw new Z(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Pl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hv(t);throw new Z(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firestore.googleapis.com",O0=!0;class D0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H1,this.ssl=O0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:O0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=T1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MF)throw new Z(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new f4;switch(r.type){case"firstParty":return new v4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N0.get(n);r&&(K("ComponentProvider","Removing Datastore"),N0.delete(n),r.terminate())}(this),Promise.resolve()}}function d9(t,e,n,r={}){var i;const s=(t=Pl(t,Wv))._getSettings(),o=`${e}:${n}`;if(s.host!==H1&&s.host!==o&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=_t.MOCK_USER;else{a=U$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _t(c)}t._authCredentials=new p4(new DR(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kv(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Nl extends Kv{constructor(e,n,r){super(e,n,Av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ee(e))}withConverter(e){return new Nl(this.firestore,e,this._path)}}function L0(t,e,...n){if(t=Wn(t),arguments.length===1&&(e=LR.newId()),u9("doc","path",e),t instanceof Wv){const r=Ue.fromString(e,...n);return x0(r),new fn(t,null,new ee(r))}{if(!(t instanceof fn||t instanceof Nl))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return x0(r),new fn(t.firestore,t instanceof Nl?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new A1(this,"async_queue_retry"),this.Su=()=>{const r=tp();r&&K(M0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new fi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jo(e))throw e;K(M0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=$v.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class qv extends Wv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new V0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function h9(t,e){const n=typeof t=="object"?t:CR(),r=typeof t=="string"?t:md,i=_v(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=j$("firestore");s&&d9(i,...s)}return i}function W1(t){if(t._terminated)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f9(t),t._firestoreClient}function f9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new N4(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,z1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new i9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(ft.fromBase64String(e))}catch(n){throw new Z(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=/^__.*__$/;class m9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}function q1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Xv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Cd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(q1(this.Lu)&&p9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class g9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}ju(e,n,r,i=!1){return new Xv({Lu:e,methodName:n,zu:r,path:ut.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v9(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new g9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y9(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);X1("Data must be an object, but it was:",o,r);const a=Q1(r,o);let u,c;if(s.merge)u=new An(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=_9(e,f,n);if(!o.contains(m))throw new Z(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);w9(d,m)||d.push(m)}u=new An(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new m9(new un(a),u,c)}function G1(t,e){if(Y1(t=Wn(t)))return X1("Unsupported field value:",e,t),Q1(t,e);if(t instanceof K1)return function(r,i){if(!q1(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=G1(a,i.Uu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=et.fromDate(r);return{timestampValue:wd(i.serializer,s)}}if(r instanceof et){const s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wd(i.serializer,s)}}if(r instanceof Qv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lo)return{bytesValue:m1(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yv)return function(o,a){return{mapValue:{fields:{[zR]:{stringValue:WR},[gd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Rv(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Hv(r)}`)}(t,e)}function Q1(t,e){const n={};return VR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(t,(r,i)=>{const s=G1(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Y1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Qv||t instanceof Lo||t instanceof fn||t instanceof K1||t instanceof Yv)}function X1(t,e,n){if(!Y1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hv(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function _9(t,e,n){if((e=Wn(e))instanceof Gv)return e._internalPath;if(typeof e=="string")return J1(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const E9=new RegExp("[~\\*/\\[\\]]");function J1(t,e,n){if(e.search(E9)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gv(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Z(F.INVALID_ARGUMENT,a+t+u)}function w9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T9 extends Z1{data(){return super.data()}}function eb(t,e){return typeof e=="string"?J1(t,e):e instanceof Gv?e._internalPath:e._delegate._internalPath}class I9{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ms(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[gd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>He(o.doubleValue));return new Yv(s)}convertGeoPoint(e){return new Qv(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Se(w1(r));const i=new Al(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tb extends Z1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new A9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class A9 extends tb{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){t=Pl(t,fn);const e=Pl(t.firestore,qv);return l9(W1(e),t._key).then(n=>P9(e,t,n))}class b9 extends I9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function j0(t,e,n){t=Pl(t,fn);const r=Pl(t.firestore,qv),i=S9(t.converter,e);return k9(r,[y9(v9(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mr.none())])}function k9(t,e){return function(r,i){const s=new fi;return r.asyncQueue.enqueueAndForget(async()=>GB(await o9(r),i,s)),s.promise}(W1(t),e)}function P9(t,e,n){const r=n.docs.get(e._key),i=new b9(t);return new tb(t,i,e._key,r,new C9(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Yo=i})(Qo),bo(new ss("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new qv(new m4(r.getProvider("auth-internal")),new y4(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),di(Hw,Ww,e),di(Hw,Ww,"esm2017")})();function Jv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N9=nb,rb=new Ql("auth","Firebase",nb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new vv("@firebase/auth");function x9(t,...e){Ad.logLevel<=pe.WARN&&Ad.warn(`Auth (${Qo}): ${t}`,...e)}function Tc(t,...e){Ad.logLevel<=pe.ERROR&&Ad.error(`Auth (${Qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw ey(t,...e)}function kn(t,...e){return ey(t,...e)}function Zv(t,e,n){const r=Object.assign(Object.assign({},N9()),{[e]:n});return new Ql("auth","Firebase",r).create(e,{appName:t.name})}function Yi(t){return Zv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),Zv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ey(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rb.create(t,...e)}function ie(t,e,...n){if(!t)throw ey(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tc(e),new Error(e)}function Rr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function D9(){return $0()==="http:"||$0()==="https:"}function $0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D9()||H$()||"connection"in navigator)?navigator.onLine:!0}function M9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=F$()||W$()}get(){return L9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){Rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new tu(3e4,6e4);function ny(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ea(t,e,n,r,i={}){return sb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Yl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return z$()||(c.referrerPolicy="no-referrer"),ib.fetch()(ob(t,t.config.apiHost,n,a),c)})}async function sb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V9),e);try{const i=new U9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ju(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ju(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Zv(t,d,c);Gn(t,d)}}catch(i){if(i instanceof xr)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function $9(t,e,n,r,i={}){const s=await ea(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ob(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ty(t.config,i):`${t.config.apiScheme}://${i}`}class U9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),j9.get())})}}function Ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e){return ea(t,"POST","/v1/accounts:delete",e)}async function ab(t,e){return ea(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B9(t,e=!1){const n=Wn(t),r=await n.getIdToken(e),i=ry(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:el(rp(i.auth_time)),issuedAtTime:el(rp(i.iat)),expirationTime:el(rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rp(t){return Number(t)*1e3}function ry(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const i=yR(n);return i?JSON.parse(i):(Tc("Failed to decode base64 JWT payload"),null)}catch(i){return Tc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function U0(t){const e=ry(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&z9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xl(t,ab(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lb(s.providerUserInfo):[],a=K9(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function W9(t){const e=Wn(t);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lb(t){return t.map(e=>{var{providerId:n}=e,r=Jv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(t,e){const n=await sb(t,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ob(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ib.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G9(t,e){return ea(t,"POST","/v2/accounts:revokeToken",ny(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=U0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await q9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new oo;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ur{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B9(this,e)}reload(){return W9(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await xl(this,F9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:x,isAnonymous:M,providerData:L,stsTokenManager:I}=n;ie(S&&I,e,"internal-error");const y=oo.fromJSON(this.name,I);ie(typeof S=="string",e,"internal-error"),$r(f,e.name),$r(m,e.name),ie(typeof x=="boolean",e,"internal-error"),ie(typeof M=="boolean",e,"internal-error"),$r(_,e.name),$r(C,e.name),$r(R,e.name),$r(b,e.name),$r(T,e.name),$r(E,e.name);const A=new ur({uid:S,auth:e,email:m,emailVerified:x,displayName:f,isAnonymous:M,photoURL:C,phoneNumber:_,tenantId:R,stsTokenManager:y,createdAt:T,lastLoginAt:E});return L&&Array.isArray(L)&&(A.providerData=L.map(P=>Object.assign({},P))),b&&(A._redirectEventId=b),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new oo;i.updateFromServerResponse(n);const s=new ur({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new oo;a.updateFromIdToken(r);const u=new ur({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function cr(t){Rr(t instanceof Function,"Expected a class definition");let e=F0.get(t);return e?(Rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ub.type="NONE";const B0=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e,n){return`firebase:${t}:${e}:${n}`}class ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ic(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ic("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ur._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ao(cr(B0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||cr(B0);const o=Ic(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=ur._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ao(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ao(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mb(e))return"Blackberry";if(gb(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||hb(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cb(t=St()){return/firefox\//i.test(t)}function db(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hb(t=St()){return/crios\//i.test(t)}function fb(t=St()){return/iemobile/i.test(t)}function pb(t=St()){return/android/i.test(t)}function mb(t=St()){return/blackberry/i.test(t)}function gb(t=St()){return/webos/i.test(t)}function iy(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q9(t=St()){var e;return iy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y9(){return K$()&&document.documentMode===10}function vb(t=St()){return iy(t)||pb(t)||gb(t)||mb(t)||/windows phone/i.test(t)||fb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e=[]){let n;switch(t){case"Browser":n=z0(St());break;case"Worker":n=`${z0(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e={}){return ea(t,"GET","/v2/passwordPolicy",ny(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=6;class e3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Z9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new X9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ab(this,{idToken:e}),r=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Yi(this));const n=e?Wn(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J9(this),n=new e3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&x9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oh(t){return Wn(t)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=eU(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n3(t){sy=t}function r3(t){return sy.loadJS(t)}function i3(){return sy.gapiScript}function s3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){const n=_v(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(hd(s,e??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:e})}function a3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l3(t,e,n){const r=Oh(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=_b(e),{host:o,port:a}=u3(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),c3()}function _b(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u3(t){const e=_b(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:W0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:W0(o)}}}function W0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t,e){return $9(t,"POST","/v1/accounts:signInWithIdp",ny(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="http://localhost";class ls extends Eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ls(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:d3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends oy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends nu{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends nu{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends nu{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ur._fromIdTokenResponse(e,r,i),o=K0(r);return new Mo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=K0(r);return new Mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function K0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends xr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bd(e,n,r,i)}}function wb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bd._fromErrorAndOperation(t,s,e,r):s})}async function h3(t,e,n=!1){const r=await xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(Yi(r));const i="reauthenticate";try{const s=await xl(t,wb(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=ry(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Mo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e,n=!1){if(Cn(t.app))return Promise.reject(Yi(t));const r="signIn",i=await wb(t,r,e),s=await Mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function m3(t,e,n,r){return Wn(t).onIdTokenChanged(e,n,r)}function g3(t,e,n){return Wn(t).beforeAuthStateChanged(e,n)}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=1e3,y3=10;class Ib extends Tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Y9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,y3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ib.type="LOCAL";const _3=Ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sb.type="SESSION";const Cb=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await E3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=ay("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return window}function T3(t){zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}async function I3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function C3(){return Ab()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebaseLocalStorageDb",A3=1,Pd="firebaseLocalStorage",bb="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function R3(){const t=indexedDB.deleteDatabase(Rb);return new ru(t).toPromise()}function jm(){const t=indexedDB.open(Rb,A3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:bb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await R3(),e(await jm()))})})}async function q0(t,e,n){const r=Lh(t,!0).put({[bb]:e,value:n});return new ru(r).toPromise()}async function b3(t,e){const n=Lh(t,!1).get(e),r=await new ru(n).toPromise();return r===void 0?null:r.value}function G0(t,e){const n=Lh(t,!0).delete(e);return new ru(n).toPromise()}const k3=800,P3=3;class kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ab()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(C3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await I3(),!this.activeServiceWorker)return;this.sender=new w3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await q0(e,kd,"1"),await G0(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Lh(i,!1).getAll();return new ru(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kb.type="LOCAL";const N3=kb;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e){return e?cr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends Eb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function x3(t){return p3(t.auth,new ly(t),t.bypassAuthState)}function O3(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),f3(n,new ly(t),t.bypassAuthState)}async function D3(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),h3(n,new ly(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x3;case"linkViaPopup":case"linkViaRedirect":return D3;case"reauthViaPopup":case"reauthViaRedirect":return O3;default:Gn(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new tu(2e3,1e4);async function M3(t,e,n){if(Cn(t.app))return Promise.reject(kn(t,"operation-not-supported-in-this-environment"));const r=Oh(t);O9(t,e,oy);const i=Pb(r,n);return new Ki(r,"signInViaPopup",e,i).executeNotNull()}class Ki extends Nb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const e=ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L3.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="pendingRedirect",Sc=new Map;class j3 extends Nb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sc.get(this.auth._key());if(!e){try{const r=await $3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sc.set(this.auth._key(),e)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $3(t,e){const n=B3(e),r=F3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function U3(t,e){Sc.set(t._key(),e)}function F3(t){return cr(t._redirectPersistence)}function B3(t){return Ic(V3,t.config.apiKey,t.name)}async function z3(t,e,n=!1){if(Cn(t.app))return Promise.reject(Yi(t));const r=Oh(t),i=Pb(r,e),o=await new j3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=10*60*1e3;class W3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e={}){return ea(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q3=/^https?/;async function Y3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q3(t);for(const n of e)try{if(X3(n))return}catch{}Gn(t,"unauthorized-domain")}function X3(t){const e=Mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q3.test(n))return!1;if(G3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new tu(3e4,6e4);function Y0(){const t=zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z3(t){return new Promise((e,n)=>{var r,i,s;function o(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(kn(t,"network-request-failed"))},timeout:J3.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zn().gapi)===null||s===void 0)&&s.load)o();else{const a=s3("iframefcb");return zn()[a]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},r3(`${i3()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Cc=null,e})}let Cc=null;function e6(t){return Cc=Cc||Z3(t),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new tu(5e3,15e3),n6="__/auth/iframe",r6="emulator/auth/iframe",i6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o6(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ty(e,r6):`https://${t.config.authDomain}/${n6}`,r={apiKey:e.apiKey,appName:t.name,v:Qo},i=s6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yl(r).slice(1)}`}async function a6(t){const e=await e6(t),n=zn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:o6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),a=zn().setTimeout(()=>{s(o)},t6.get());function u(){zn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u6=500,c6=600,d6="_blank",h6="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f6(t,e,n,r=u6,i=c6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},l6),{width:r.toString(),height:i.toString(),top:s,left:o}),c=St().toLowerCase();n&&(a=hb(c)?d6:n),cb(c)&&(e=e||h6,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,C])=>`${m}${_}=${C},`,"");if(Q9(c)&&a!=="_self")return p6(e||"",a),new X0(null);const f=window.open(e||"",a,d);ie(f,t,"popup-blocked");try{f.focus()}catch{}return new X0(f)}function p6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="__/auth/handler",g6="emulator/auth/handler",v6=encodeURIComponent("fac");async function J0(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qo,eventId:i};if(e instanceof oy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Z$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof nu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${v6}=${encodeURIComponent(u)}`:"";return`${y6(t)}?${Yl(a).slice(1)}${c}`}function y6({config:t}){return t.emulator?ty(t,g6):`https://${t.authDomain}/${m6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class _6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cb,this._completeRedirectFn=z3,this._overrideRedirectResult=U3}async _openPopup(e,n,r,i){var s;Rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await J0(e,n,r,Mm(),i);return f6(e,o,ay())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await J0(e,n,r,Mm(),i);return T3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await a6(e),r=new W3(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ip];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vb()||db()||iy()}}const E6=_6;var Z0="@firebase/auth",eT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I6(t){bo(new ss("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yb(t)},c=new t3(r,i,s,u);return a3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new ss("auth-internal",e=>{const n=Oh(e.getProvider("auth").getImmediate());return(r=>new w6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(Z0,eT,T6(t)),di(Z0,eT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=5*60,C6=wR("authIdTokenMaxAge")||S6;let tT=null;const A6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C6)return;const i=n==null?void 0:n.token;tT!==i&&(tT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R6(t=CR()){const e=_v(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o3(t,{popupRedirectResolver:E6,persistence:[N3,_3,Cb]}),r=wR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=A6(s.toString());g3(n,o,()=>o(n.currentUser)),m3(n,a=>o(a))}}const i=_R("auth");return i&&l3(n,`http://${i}`),n}function b6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}n3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",b6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I6("Browser");const k6={apiKey:"AIzaSyCblep2F44R6hI9j-q4zh8EWUTms43_OJI",authDomain:"traderymessenger.firebaseapp.com",projectId:"traderymessenger",storageBucket:"traderymessenger.firebasestorage.app",messagingSenderId:"693590502885",appId:"1:693590502885:web:658531b928cc1f40b1930c"},Ob=SR(k6),P6=R6(Ob),nT=h9(Ob);function N6(){const{session:t}=Ir(),e=Go();t&&e("/Home");const[n,r]=g.useState(!1);function i(a){switch(a.target.checked){case!0:r(!0);break;case!1:r(!1);break}}const{logIn:s}=Ir();async function o(){await s();try{const a=new sr,c=(await M3(P6,a)).user,d=L0(nT,"users",c.uid);(await R9(d)).exists()||(await j0(d,{id:c.uid,email:c.email,username:c.displayName||"New User",createdAt:new Date,blocked:[]}),await j0(L0(nT,"userchats",c.uid),{chats:[]}))}catch(a){console.error("Login error:",a)}}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"logincontainer",children:[v.jsx("div",{className:"circle",children:v.jsx("img",{src:"./images/favicon.png"})}),v.jsx("p",{className:"LoginWord",children:" USER LOGIN "}),v.jsx("div",{className:"google-button",children:n&&v.jsx(wr,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:o,children:"Login with Google"})}),v.jsxs("div",{children:[v.jsx("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),v.jsx("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),v.jsx("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:i})]})]})})}async function x6(t){return await pv.createFile("678bac020031c1c3ad75",Ao.unique(),t)}async function O6(t){return await pv.deleteFile("678bac020031c1c3ad75",t)}function uy(t){return pv.getFilePreview("678bac020031c1c3ad75",t)}async function D6(){const{documents:t}=await qo.listDocuments("678babec0039e89240df","67932f2e00392d850485",[ne.orderDesc("date")]);return{items:t.map(iu)}}async function L6(t){const{documents:e}=await qo.listDocuments("678babec0039e89240df","67932f2e00392d850485",[ne.orderDesc("date"),ne.contains("name",t)]);return{items:e.map(iu)}}async function M6(t){const{documents:e}=await qo.listDocuments("678babec0039e89240df","67932f2e00392d850485",[ne.contains("authorID",t),ne.orderDesc("date")]);return{items:e.map(iu)}}async function Db(t){const e=await qo.getDocument("678babec0039e89240df","67932f2e00392d850485",t);return{items:iu(e)}}async function V6(t){const{items:e}=await Db(t);await O6(e.imageFileId),await qo.deleteDocument("678babec0039e89240df","67932f2e00392d850485",t)}async function j6(t){const e=await qo.createDocument("678babec0039e89240df","67932f2e00392d850485",Ao.unique(),t);return{items:iu(e)}}function iu(t){return{$id:t.$id,name:t.name,author:t.author,authorID:t.authorID,date:t.date,description:t.description,imageFileId:t.imageFileId,imageHeight:t.imageHeight,imageWidth:t.imageWidth,isApproved:!1}}function Zu(t){const e=new Date(t);if(!Number.isNaN(e.valueOf()))return e;const n=String(t).match(/\d+/g);if(n==null||n.length<=2)return e;{const[r,i,...s]=n.map(u=>parseInt(u)),o=[r,i-1,...s];return new Date(Date.UTC(...o))}}function rT(t,e,n){const r=t!==1?e+"s":e;return t+" "+r+" "+n}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}const Ma=60,Va=Ma*60,uo=Va*24,ec=uo*7,iT=uo*30,sT=uo*365,$6=()=>Date.now();function U6({date:t,formatter:e=rT,component:n="time",live:r=!0,minPeriod:i=0,maxPeriod:s=ec,title:o,now:a=$6,...u}){const[c,d]=g.useState(a());g.useEffect(()=>{if(!r)return;const M=(()=>{const L=Zu(t).valueOf();if(!L)return console.warn("[react-timeago] Invalid Date provided"),0;const I=Math.round(Math.abs(c-L)/1e3),y=I<Ma?1e3:I<Va?1e3*Ma:I<uo?1e3*Va:1e3*ec,A=Math.min(Math.max(y,i*1e3),s*1e3);return A?setTimeout(()=>{d(a())},A):0})();return()=>{M&&clearTimeout(M)}},[t,r,s,i,a,c]);const f=n,m=Zu(t).valueOf();if(!m)return null;const _=Math.round(Math.abs(c-m)/1e3),C=m<c?"ago":"from now",[R,b]=_<Ma?[Math.round(_),"second"]:_<Va?[Math.round(_/Ma),"minute"]:_<uo?[Math.round(_/Va),"hour"]:_<ec?[Math.round(_/uo),"day"]:_<iT?[Math.round(_/ec),"week"]:_<sT?[Math.round(_/iT),"month"]:[Math.round(_/sT),"year"],T=typeof o>"u"?typeof t=="string"?t:Zu(t).toISOString().substr(0,16).replace("T"," "):o,E=f==="time"?{...u,dateTime:Zu(t).toISOString()}:u,S=rT.bind(null,R,b,C);return g.createElement(f,$m({},E,{title:T}),e(R,b,C,m,S,a))}const Lb=({name:t,date:e,author:n,image:r})=>v.jsxs(Ps,{className:"itemcontent",style:{width:"100%"},children:[(r==null?void 0:r.url)&&v.jsx(Ps.Img,{variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),v.jsxs(Ps.Body,{children:[v.jsx(Ps.Title,{children:t}),v.jsx(Ps.Text,{children:n}),v.jsx(Ps.Text,{children:v.jsx(U6,{date:e})})]})]});function F6(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Mb={exports:{}},Vb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=g;function B6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var z6=typeof Object.is=="function"?Object.is:B6,H6=Vo.useState,W6=Vo.useEffect,K6=Vo.useLayoutEffect,q6=Vo.useDebugValue;function G6(t,e){var n=e(),r=H6({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return K6(function(){i.value=n,i.getSnapshot=e,sp(i)&&s({inst:i})},[t,n,e]),W6(function(){return sp(i)&&s({inst:i}),t(function(){sp(i)&&s({inst:i})})},[t]),q6(n),n}function sp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!z6(t,n)}catch{return!0}}function Q6(t,e){return e()}var Y6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q6:G6;Vb.useSyncExternalStore=Vo.useSyncExternalStore!==void 0?Vo.useSyncExternalStore:Y6;Mb.exports=Vb;var X6=Mb.exports;const J6=ET.useInsertionEffect,Z6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jb=Z6?g.useLayoutEffect:g.useEffect,ez=J6||jb,cy=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return ez(()=>{e[0]=t}),e[1]},tz="popstate",dy="pushState",hy="replaceState",nz="hashchange",oT=[tz,dy,hy,nz],rz=t=>{for(const e of oT)addEventListener(e,t);return()=>{for(const e of oT)removeEventListener(e,t)}},$b=(t,e)=>X6.useSyncExternalStore(rz,t,e),iz=()=>location.search,sz=({ssrSearch:t=""}={})=>$b(iz,()=>t),aT=()=>location.pathname,oz=({ssrPath:t}={})=>$b(aT,t?()=>t:aT),az=(t,{replace:e=!1,state:n=null}={})=>history[e?hy:dy](n,"",t),lz=(t={})=>[oz(t),az],lT=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[lT]>"u"){for(const t of[dy,hy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,lT,{value:!0})}const uz=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Ub=(t="")=>t==="/"?"":t,cz=(t,e)=>t[0]==="~"?t.slice(1):Ub(e)+t,dz=(t="",e)=>uz(uT(Ub(t)),uT(e)),uT=t=>{try{return decodeURI(t)}catch{return t}},hz={hook:lz,searchHook:sz,parser:F6,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},fz=g.createContext(hz),Fb=()=>g.useContext(fz),pz={};g.createContext(pz);const Bb=t=>{const[e,n]=t.hook(t);return[dz(t.base,e),cy((r,i)=>n(cz(r,t.base),i))]},zb=()=>Bb(Fb());g.forwardRef((t,e)=>{const n=Fb(),[r,i]=Bb(n),{to:s="",href:o=s,onClick:a,asChild:u,children:c,className:d,replace:f,state:m,..._}=t,C=cy(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),i(o,t)))}),R=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&g.isValidElement(c)?g.cloneElement(c,{onClick:C,href:R}):g.createElement("a",{..._,onClick:C,href:R,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})});const mz=t=>{const{to:e,href:n=e}=t,[,r]=zb(),i=cy(()=>r(e||n,t));return jb(()=>{i()},[]),null},Hb=({children:t})=>{const{session:e,logOut:n}=Ir();async function r(){return await n(),v.jsx(mz,{to:"/"})}const i=Go();e||i("/");const[s,o]=g.useState();return g.useEffect(()=>{(async()=>{try{const u=await mv();console.log("User Data: ",u),o(u)}catch(u){console.error("Error fetching user: ",u),o(void 0)}})()},[]),v.jsx(v.Fragment,{children:v.jsxs("div",{className:"body",children:[v.jsx(Ku,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:v.jsxs(uh,{children:[v.jsxs(Ku.Brand,{href:"#/Home",children:[v.jsx("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","Tradery"]}),v.jsx(Ku.Toggle,{"aria-controls":"basic-navbar-nav"}),v.jsx(Ku.Collapse,{className:"justify-content-end flex-grow-1",children:v.jsx(mh,{children:v.jsxs(mw,{className:"me-auto",children:[v.jsx(mw.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),v.jsxs(Aa,{title:String(s==null?void 0:s.name)??"User",id:"basic-nav-dropdown",align:"end",children:[v.jsx(Aa.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),v.jsx(Aa.Divider,{}),e&&v.jsx("button",{onClick:r,className:"logout-btn",children:v.jsx(Aa.Item,{href:"/Tradery",children:"Logout"})}),!e&&v.jsx(Aa.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),v.jsx("main",{children:t})]})})},gz=()=>{const[t,e]=g.useState(),[n,r]=g.useState(!1);g.useEffect(()=>{(async function(){const{items:a}=await D6();e(a),console.log(a)})()},[]);function i(){window.location.reload()}const s=async o=>{o.preventDefault(),r(u=>!u);const a=o.target;try{const{items:u}=await L6(a.ItemSearch.value);e(u),console.log(u)}catch(u){console.error("Error finding Item:",u)}};return v.jsx(Hb,{children:v.jsx("div",{className:"home",children:v.jsxs("div",{className:"container",id:"pagewrap",children:[v.jsx("div",{className:"searchinput",children:v.jsxs("form",{className:"search",onSubmit:s,children:[v.jsx("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),n&&v.jsx(Wl,{className:"clear-btn",onClick:i}),v.jsx("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),v.jsx("div",{className:"items container",children:v.jsxs(mh,{children:[Array.isArray(t)&&t.length>0&&v.jsx(v.Fragment,{children:t.map(o=>{const u={url:o.imageFileId&&uy(o.imageFileId),height:o.imageHeight,width:o.imageWidth};return v.jsx(lh,{xs:12,md:3,style:{paddingBottom:"20px"},children:v.jsx("a",{className:"itemLink",href:`#/Item/${o.$id}`,children:v.jsx(Lb,{image:{height:u.height,url:u.url,width:u.width},name:o.name,date:o.date,author:o.author})})},o.$id)})}),Array.isArray(t)&&t.length===0&&v.jsx(uh,{children:v.jsxs(nd,{variant:"warning",children:["No Items are currently posted,",v.jsx(nd.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})]})})]})})})};function vz(){const t=pR();console.error(t);const e={position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"};return v.jsx("div",{id:"error-page",children:v.jsxs("div",{class:"error",children:[v.jsxs("a",{class:"HomeButton",href:"#/Home",children:[v.jsx("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:v.jsx("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),v.jsx("div",{class:"background-wrapper",children:v.jsx("h1",{style:e,id:"visual",children:"Error!"})}),v.jsx("p",{class:"errorText",children:"The page you’re looking for does not exist."}),v.jsx("p",{children:v.jsx("i",{children:t.statusText||t.message})})]})})}function yz(){const{session:t}=Ir(),e=Go();return t||e("/"),v.jsxs(v.Fragment,{children:[v.jsxs("div",{class:"uWholeBox",children:[v.jsxs("a",{class:"HomeButton",href:"#/Home",children:[v.jsx("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:v.jsx("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),v.jsx("div",{class:"uLooks",children:" Dashboard "})]}),v.jsxs("div",{class:"NaviBar",children:[v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(Ra,{to:"/Dashboard/Post",children:"Post"})}),v.jsx("li",{children:v.jsx(Ra,{to:"/Dashboard/Items",children:"Your Items"})}),v.jsx("li",{children:v.jsx(Ra,{to:"/Dashboard/Requests",children:"Requests"})}),v.jsx("li",{children:v.jsx(Ra,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),v.jsx("li",{children:v.jsx(Ra,{to:"/Dashboard/Profile",children:"Profile"})})]}),v.jsx(p$,{})]})]})}const _z=()=>{Ir();const[t,e]=g.useState(),[,n]=zb();g.useEffect(()=>{(async()=>{try{const s=await mv();console.log("User Data: ",s),e(s)}catch(s){console.error("Error fetching user: ",s),e(void 0)}})()},[]);const r=()=>{n("/Dashboard/Profile/Edit")};return v.jsx("div",{className:"Main",children:v.jsxs("div",{className:"container",children:[v.jsx("h1",{children:"Profile"}),v.jsx(wr,{className:"editprf btn btn-primary mb-3",onClick:r,children:"Edit Profile"}),v.jsx("div",{className:"inputprofile",children:v.jsx(SA,{src:"https://raw.githubusercontent.com/Sonny4546/OurFavoriteArtist/2b20d35e16c25397593d98943c14072b56aa9cbb/images/about.jpg",roundedCircle:!0,width:180,height:180})}),t?v.jsxs("div",{className:"container",children:[v.jsx("div",{className:"mb-3",children:v.jsx("p",{children:t.name})}),v.jsx("div",{className:"mb-3",children:v.jsx("p",{children:"PROFILE SUMMARY"})})]}):v.jsxs("div",{className:"container",children:[v.jsx("div",{className:"mb-3",children:v.jsx("p",{})}),v.jsx("div",{className:"mb-3",children:v.jsx("p",{children:"PROFILE SUMMARY"})})]})]})})},Ez=()=>(Ir(),v.jsx(v.Fragment,{children:v.jsxs("div",{class:"messages-container",children:[v.jsx("iframe",{width:"100%",height:"100%",src:"https://lynxlenior.github.io/TraderyMessenger/",title:"TraderyMessenger"}),v.jsx("div",{id:"view-messages"})]})}));async function fy(){const t=await mv();return t?wz(t):(console.error("User data is undefined"),null)}function wz(t){return{name:t.name,$id:t.$id}}const Tz=()=>{Ir();const t=Go(),[e,n]=g.useState();function r(s){if(!s.target.files||s.target.files.length===0)return;const o=s.target.files[0],a=new Image;a.onload=function(){n({height:a.height,file:o,width:a.width})},a.src=URL.createObjectURL(o)}const i=async s=>{s.preventDefault();const o=await fy();if(!o){console.log("User data is still loading. Please wait.");return}const a=s.currentTarget;let u;e!=null&&e.file&&(u=await x6(e.file));try{const c=await j6({name:a.name.value,author:o.name,authorID:o.$id,description:a.description.value,date:new Date().toISOString(),imageHeight:(e==null?void 0:e.height)??100,imageFileId:u==null?void 0:u.$id,imageWidth:(e==null?void 0:e.width)??100,isApproved:!1});t(`/Item/${c.items.$id}`)}catch(c){console.error("Error creating item:",c)}};return v.jsx(v.Fragment,{children:v.jsx("div",{className:"Main",children:v.jsxs("div",{className:"container",children:[v.jsx("h1",{children:"Post Item"}),v.jsxs("form",{onSubmit:i,children:[v.jsx("div",{className:"uploader",children:v.jsxs(sn.Group,{controlId:"formFileLg",className:"mb-3",children:[v.jsx(sn.Label,{children:"Import Image"}),v.jsx(sn.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:r,required:!0})]})}),v.jsx("div",{className:"mb-3",children:v.jsx(sn.Control,{id:"name",name:"name",type:"text",placeholder:"Name",required:!0})}),v.jsxs(sn.Group,{className:"mb-3",controlId:"Description.ControlTextarea1",children:[v.jsx(sn.Label,{children:"Item Description"}),v.jsx(sn.Control,{rows:4,as:"textarea",id:"description",name:"description",placeholder:"Description",required:!0})]}),v.jsx(wr,{className:"submitbtn",type:"submit",children:"Submit"})]})]})})})},Iz=()=>{const[t,e]=g.useState();return g.useEffect(()=>{(async function(){const r=await fy();if(!r){console.log("User data is still loading. Please wait.");return}const{items:i}=await M6(r.$id);e(i),console.log(i)})()},[]),v.jsx(v.Fragment,{children:v.jsx("div",{className:"home",children:v.jsx("div",{className:"container",id:"pagewrap",children:v.jsx("div",{className:"items container",children:v.jsxs(mh,{children:[Array.isArray(t)&&t.length>0&&v.jsx(v.Fragment,{children:t.map(n=>{const i={url:n.imageFileId&&uy(n.imageFileId),height:n==null?void 0:n.imageHeight,width:n==null?void 0:n.imageWidth};return v.jsx(lh,{xs:12,md:3,style:{paddingBottom:"20px"},children:v.jsx("a",{className:"itemLink",href:`#/Item/${n.$id}`,children:v.jsx(Lb,{image:{height:i.height,url:i.url,width:i.width},name:n.name,date:n.date,author:n.author})})},n.$id)})}),Array.isArray(t)&&t.length===0&&v.jsx(uh,{children:v.jsxs(nd,{variant:"warning",children:["No Items are currently posted,",v.jsx(nd.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})]})})})})})},Sz=()=>v.jsx(v.Fragment,{children:v.jsx("h1",{children:"REQUESTS"})});function Cz({params:t=e$()}){const[e,n]=g.useState(),r=Go(),[i,s]=g.useState(!1),a={url:(e==null?void 0:e.imageFileId)&&uy(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};g.useEffect(()=>{(async function(){const{items:d}=await Db(t.itemsId);n(d);const f=await fy();(f==null?void 0:f.$id)==(d==null?void 0:d.$id)&&s(!0)})()},[t.itemsId]);async function u(){e!=null&&e.$id&&(await V6(e.$id),r("/"))}return v.jsx(Hb,{children:v.jsx("div",{className:"container",children:e&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"itemheading",children:[v.jsx("div",{children:v.jsx("h1",{children:e.name})}),v.jsxs("div",{children:["By: ",e.author]}),v.jsxs("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),v.jsxs("div",{className:"Tradecont",children:[i==!0&&v.jsx(wr,{className:"Tradereq",variant:"primary",onClick:u,children:"Delete Item"}),i==!1&&v.jsx(wr,{className:"Tradereq",variant:"primary",children:"Request a Trade"})]}),v.jsx("div",{className:"itemimg",children:v.jsx(nw,{controls:!1,children:v.jsx(nw.Item,{children:(a==null?void 0:a.url)??v.jsx("img",{width:a.width,height:a.height,src:String(a.url)&&"./images/favicon"})})})}),v.jsx("div",{className:"description",children:v.jsx("p",{children:e.description})})]})})})}const Az=()=>(Ir(),v.jsx(v.Fragment,{children:v.jsx("div",{class:"Main",children:v.jsxs("div",{class:"container",children:[v.jsx("h1",{children:"Edit Profile"}),v.jsxs("div",{class:"inputprofile",children:[v.jsx("input",{type:"file",accept:".png, .jpg"}),v.jsx("p",{children:"Upload an image: accepts jpg and png only"})]}),v.jsx("div",{class:"mb-3",children:v.jsx(sn.Control,{type:"text",placeholder:"Name"})}),v.jsxs(sn.Group,{className:"mb-3",controlId:"Description.ControlTextarea1",children:[v.jsx(sn.Label,{children:"Profile Summary"}),v.jsx(sn.Control,{as:"textarea",rows:2})]}),v.jsx(wr,{class:"submitbtn",as:"input",type:"submit",value:"Submit"})]})})}));function Rz(){const t=async e=>{e.preventDefault();const n=e.target,{session:r,logInAdmin:i}=Ir();await i(n.email.value,n.password.value),console.log("pressed")};return v.jsx("div",{className:"RegAdminContainer",children:v.jsx("div",{className:"login-register-container",children:v.jsxs("form",{onSubmit:t,children:[v.jsxs("div",{className:"form-field-wrapper",children:[v.jsx("label",{children:"Email:"}),v.jsx("input",{required:!0,type:"email",name:"email",placeholder:"Enter email..."})]}),v.jsxs("div",{className:"form-field-wrapper",children:[v.jsx("label",{children:"Password:"}),v.jsx(sn.Control,{type:"password",name:"password",placeholder:"Enter password..."})]}),v.jsx("div",{className:"form-field-wrapper",children:v.jsx(wr,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})})}const bz=()=>v.jsx(S$,{children:v.jsxs(g$,{children:[v.jsx(Wt,{path:"/",element:v.jsx(N6,{})}),v.jsx(Wt,{path:"/Admin",element:v.jsx(Rz,{})}),v.jsx(Wt,{path:"/Home",element:v.jsx(gz,{})}),v.jsx(Wt,{path:"/Item/:itemsId",element:v.jsx(Cz,{})}),v.jsxs(Wt,{path:"/Dashboard",element:v.jsx(yz,{}),children:[v.jsx(Wt,{path:"Post",element:v.jsx(Tz,{})}),v.jsx(Wt,{path:"Profile",element:v.jsx(_z,{}),children:v.jsx(Wt,{path:"Edit",element:v.jsx(Az,{})})}),v.jsx(Wt,{path:"Items",element:v.jsx(Iz,{})}),v.jsx(Wt,{path:"Requests",element:v.jsx(Sz,{})}),v.jsx(Wt,{path:"Messages",element:v.jsx(Ez,{})})]}),v.jsx(Wt,{path:"*",element:v.jsx(vz,{})})]})});SS(document.getElementById("root")).render(v.jsx(g.StrictMode,{children:v.jsx(Ij,{children:v.jsx(bz,{})})}));
