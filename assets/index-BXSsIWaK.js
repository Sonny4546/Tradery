function eS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Dc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jm={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function Jk(){if(bE)return lt;bE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,x={};function N(F,ee,pe){this.props=F,this.context=ee,this.refs=x,this.updater=pe||A}N.prototype.isReactComponent={},N.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function H(){}H.prototype=N.prototype;function $(F,ee,pe){this.props=F,this.context=ee,this.refs=x,this.updater=pe||A}var z=$.prototype=new H;z.constructor=$,k(z,N.prototype),z.isPureReactComponent=!0;var W=Array.isArray,Z=Object.prototype.hasOwnProperty,K={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(F,ee,pe){var ve,Te={},Ae=null,Ge=null;if(ee!=null)for(ve in ee.ref!==void 0&&(Ge=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)Z.call(ee,ve)&&!I.hasOwnProperty(ve)&&(Te[ve]=ee[ve]);var je=arguments.length-2;if(je===1)Te.children=pe;else if(1<je){for(var st=Array(je),Et=0;Et<je;Et++)st[Et]=arguments[Et+2];Te.children=st}if(F&&F.defaultProps)for(ve in je=F.defaultProps,je)Te[ve]===void 0&&(Te[ve]=je[ve]);return{$$typeof:n,type:F,key:Ae,ref:Ge,props:Te,_owner:K.current}}function P(F,ee){return{$$typeof:n,type:F.type,key:ee,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function L(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return ee[pe]})}var V=/\/+/g;function D(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):ee.toString(36)}function we(F,ee,pe,ve,Te){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var Ge=!1;if(F===null)Ge=!0;else switch(Ae){case"string":case"number":Ge=!0;break;case"object":switch(F.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=F,Te=Te(Ge),F=ve===""?"."+D(Ge,0):ve,W(Te)?(pe="",F!=null&&(pe=F.replace(V,"$&/")+"/"),we(Te,ee,pe,"",function(Et){return Et})):Te!=null&&(O(Te)&&(Te=P(Te,pe+(!Te.key||Ge&&Ge.key===Te.key?"":(""+Te.key).replace(V,"$&/")+"/")+F)),ee.push(Te)),1;if(Ge=0,ve=ve===""?".":ve+":",W(F))for(var je=0;je<F.length;je++){Ae=F[je];var st=ve+D(Ae,je);Ge+=we(Ae,ee,pe,st,Te)}else if(st=T(F),typeof st=="function")for(F=st.call(F),je=0;!(Ae=F.next()).done;)Ae=Ae.value,st=ve+D(Ae,je++),Ge+=we(Ae,ee,pe,st,Te);else if(Ae==="object")throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Le(F,ee,pe){if(F==null)return F;var ve=[],Te=0;return we(F,ve,"","",function(Ae){return ee.call(pe,Ae,Te++)}),ve}function He(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:K};function le(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:Le,forEach:function(F,ee,pe){Le(F,function(){ee.apply(this,arguments)},pe)},count:function(F){var ee=0;return Le(F,function(){ee++}),ee},toArray:function(F){return Le(F,function(ee){return ee})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},lt.Component=N,lt.Fragment=t,lt.Profiler=i,lt.PureComponent=$,lt.StrictMode=r,lt.Suspense=f,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,lt.act=le,lt.cloneElement=function(F,ee,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ve=k({},F.props),Te=F.key,Ae=F.ref,Ge=F._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,Ge=K.current),ee.key!==void 0&&(Te=""+ee.key),F.type&&F.type.defaultProps)var je=F.type.defaultProps;for(st in ee)Z.call(ee,st)&&!I.hasOwnProperty(st)&&(ve[st]=ee[st]===void 0&&je!==void 0?je[st]:ee[st])}var st=arguments.length-2;if(st===1)ve.children=pe;else if(1<st){je=Array(st);for(var Et=0;Et<st;Et++)je[Et]=arguments[Et+2];ve.children=je}return{$$typeof:n,type:F.type,key:Te,ref:Ae,props:ve,_owner:Ge}},lt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},lt.createElement=R,lt.createFactory=function(F){var ee=R.bind(null,F);return ee.type=F,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(F){return{$$typeof:c,render:F}},lt.isValidElement=O,lt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:He}},lt.memo=function(F,ee){return{$$typeof:p,type:F,compare:ee===void 0?null:ee}},lt.startTransition=function(F){var ee=ne.transition;ne.transition={};try{F()}finally{ne.transition=ee}},lt.unstable_act=le,lt.useCallback=function(F,ee){return Ne.current.useCallback(F,ee)},lt.useContext=function(F){return Ne.current.useContext(F)},lt.useDebugValue=function(){},lt.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},lt.useEffect=function(F,ee){return Ne.current.useEffect(F,ee)},lt.useId=function(){return Ne.current.useId()},lt.useImperativeHandle=function(F,ee,pe){return Ne.current.useImperativeHandle(F,ee,pe)},lt.useInsertionEffect=function(F,ee){return Ne.current.useInsertionEffect(F,ee)},lt.useLayoutEffect=function(F,ee){return Ne.current.useLayoutEffect(F,ee)},lt.useMemo=function(F,ee){return Ne.current.useMemo(F,ee)},lt.useReducer=function(F,ee,pe){return Ne.current.useReducer(F,ee,pe)},lt.useRef=function(F){return Ne.current.useRef(F)},lt.useState=function(F){return Ne.current.useState(F)},lt.useSyncExternalStore=function(F,ee,pe){return Ne.current.useSyncExternalStore(F,ee,pe)},lt.useTransition=function(){return Ne.current.useTransition()},lt.version="18.3.1",lt}var NE;function Ny(){return NE||(NE=1,jm.exports=Jk()),jm.exports}var w=Ny();const dn=Dc(w),Zk=eS({__proto__:null,default:dn},[w]);var mf={},Fm={exports:{}},dr={},Bm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function eP(){return kE||(kE=1,function(n){function e(ne,me){var le=ne.length;ne.push(me);e:for(;0<le;){var F=le-1>>>1,ee=ne[F];if(0<i(ee,me))ne[F]=me,ne[le]=ee,le=F;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],le=ne.pop();if(le!==me){ne[0]=le;e:for(var F=0,ee=ne.length,pe=ee>>>1;F<pe;){var ve=2*(F+1)-1,Te=ne[ve],Ae=ve+1,Ge=ne[Ae];if(0>i(Te,le))Ae<ee&&0>i(Ge,Te)?(ne[F]=Ge,ne[Ae]=le,F=Ae):(ne[F]=Te,ne[ve]=le,F=ve);else if(Ae<ee&&0>i(Ge,le))ne[F]=Ge,ne[Ae]=le,F=Ae;else break e}}return me}function i(ne,me){var le=ne.sortIndex-me.sortIndex;return le!==0?le:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,T=3,A=!1,k=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ne){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ne)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function W(ne){if(x=!1,z(ne),!k)if(t(f)!==null)k=!0,He(Z);else{var me=t(p);me!==null&&Ne(W,me.startTime-ne)}}function Z(ne,me){k=!1,x&&(x=!1,H(R),R=-1),A=!0;var le=T;try{for(z(me),_=t(f);_!==null&&(!(_.expirationTime>me)||ne&&!L());){var F=_.callback;if(typeof F=="function"){_.callback=null,T=_.priorityLevel;var ee=F(_.expirationTime<=me);me=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(f)&&r(f),z(me)}else r(f);_=t(f)}if(_!==null)var pe=!0;else{var ve=t(p);ve!==null&&Ne(W,ve.startTime-me),pe=!1}return pe}finally{_=null,T=le,A=!1}}var K=!1,I=null,R=-1,P=5,O=-1;function L(){return!(n.unstable_now()-O<P)}function V(){if(I!==null){var ne=n.unstable_now();O=ne;var me=!0;try{me=I(!0,ne)}finally{me?D():(K=!1,I=null)}}else K=!1}var D;if(typeof $=="function")D=function(){$(V)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Le=we.port2;we.port1.onmessage=V,D=function(){Le.postMessage(null)}}else D=function(){N(V,0)};function He(ne){I=ne,K||(K=!0,D())}function Ne(ne,me){R=N(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){k||A||(k=!0,He(Z))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var le=T;T=me;try{return ne()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=T;T=ne;try{return me()}finally{T=le}},n.unstable_scheduleCallback=function(ne,me,le){var F=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,ne={id:g++,callback:me,priorityLevel:ne,startTime:le,expirationTime:ee,sortIndex:-1},le>F?(ne.sortIndex=le,e(p,ne),t(f)===null&&ne===t(p)&&(x?(H(R),R=-1):x=!0,Ne(W,le-F))):(ne.sortIndex=ee,e(f,ne),k||A||(k=!0,He(Z))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var me=T;return function(){var le=T;T=me;try{return ne.apply(this,arguments)}finally{T=le}}}}(Hm)),Hm}var PE;function tP(){return PE||(PE=1,Bm.exports=eP()),Bm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function nP(){if(DE)return dr;DE=1;var n=Ny(),e=tP();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function A(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,o,u,h){if(o===null||typeof o>"u"||A(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(s,o,u,h,m,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];N[o]=new x(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function $(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(H,$);N[o]=new x(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(H,$);N[o]=new x(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(H,$);N[o]=new x(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,o,u,h){var m=N.hasOwnProperty(o)?N[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,m,h)&&(u=null),h||m===null?T(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),K=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,F;function ee(s){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+s}var pe=!1;function ve(s,o){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var h=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){h=J}s.call(o.prototype)}else{try{throw Error()}catch(J){h=J}s()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),v=h.stack.split(`
`),S=m.length-1,M=v.length-1;1<=S&&0<=M&&m[S]!==v[M];)M--;for(;1<=S&&0<=M;S--,M--)if(m[S]!==v[M]){if(S!==1||M!==1)do if(S--,M--,0>M||m[S]!==v[M]){var j=`
`+m[S].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=S&&0<=M);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Te(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case K:return"Portal";case P:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Le:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case He:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=st(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function St(s){s._valueTracker||(s._valueTracker=Et(s))}function it(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=st(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Kt(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function rt(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=je(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ft(s,o){o=o.checked,o!=null&&z(s,"checked",o,!1)}function pn(s,o){Ft(s,o);var u=je(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Hn(s,o.type,u):o.hasOwnProperty("defaultValue")&&Hn(s,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Pr(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Hn(s,o,u){(o!=="number"||kt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Bt=Array.isArray;function Zt(s,o,u,h){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+je(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function er(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Pn(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Bt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:je(u)}}function Dt(s,o){var u=je(o.value),h=je(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function an(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ue(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ue(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ot,mn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ot.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function zn(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(s){ze.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),qn[o]=qn[s]})});function ot(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||qn.hasOwnProperty(s)&&qn[s]?(""+o).trim():o+"px"}function gn(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=ot(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,m):s[u]=m}}var tr=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hi(s,o){if(o){if(tr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Do(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function Gr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $i=null,Dn=null,nr=null;function As(s){if(s=ku(s)){if(typeof $i!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Nd(o),$i(s.stateNode,s.type,o))}}function yr(s){Dn?nr?nr.push(s):nr=[s]:Dn=s}function Oo(){if(Dn){var s=Dn,o=nr;if(nr=Dn=null,As(s),o)for(s=0;s<o.length;s++)As(o[s])}}function mi(s,o){return s(o)}function gi(){}var rr=!1;function xo(s,o,u){if(rr)return s(o,u);rr=!0;try{return mi(s,o,u)}finally{rr=!1,(Dn!==null||nr!==null)&&(gi(),Oo())}}function Ht(s,o){var u=s.stateNode;if(u===null)return null;var h=Nd(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var U=!1;if(c)try{var q={};Object.defineProperty(q,"passive",{get:function(){U=!0}}),window.addEventListener("test",q,q),window.removeEventListener("test",q,q)}catch{U=!1}function X(s,o,u,h,m,v,S,M,j){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(ue){this.onError(ue)}}var re=!1,_e=null,ke=!1,Qe=null,Pe={onError:function(s){re=!0,_e=s}};function Re(s,o,u,h,m,v,S,M,j){re=!1,_e=null,X.apply(Pe,arguments)}function Se(s,o,u,h,m,v,S,M,j){if(Re.apply(this,arguments),re){if(re){var J=_e;re=!1,_e=null}else throw Error(t(198));ke||(ke=!0,Qe=J)}}function De(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function et(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Je(s){if(De(s)!==s)throw Error(t(188))}function Gt(s){var o=s.alternate;if(!o){if(o=De(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Je(m),s;if(v===h)return Je(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=v;else{for(var S=!1,M=m.child;M;){if(M===u){S=!0,u=m,h=v;break}if(M===h){S=!0,h=m,u=v;break}M=M.sibling}if(!S){for(M=v.child;M;){if(M===u){S=!0,u=v,h=m;break}if(M===h){S=!0,h=v,u=m;break}M=M.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function Tt(s){return s=Gt(s),s!==null?at(s):null}function at(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=at(s);if(o!==null)return o;s=s.sibling}return null}var Rt=e.unstable_scheduleCallback,Dr=e.unstable_cancelCallback,yi=e.unstable_shouldYield,vr=e.unstable_requestPaint,ct=e.unstable_now,Rs=e.unstable_getCurrentPriorityLevel,_r=e.unstable_ImmediatePriority,On=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,vi=e.unstable_LowPriority,dt=e.unstable_IdlePriority,Ct=null,en=null;function _i(s){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ct,s,void 0,(s.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Na,Or=Math.log,Lo=Math.LN2;function Na(s){return s>>>=0,s===0?32:31-(Or(s)/Lo|0)|0}var ka=64,Pa=4194304;function bs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Mo(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,v=s.pingedLanes,S=u&268435455;if(S!==0){var M=S&~m;M!==0?h=bs(M):(v&=S,v!==0&&(h=bs(v)))}else S=u&~m,S!==0?h=bs(S):v!==0&&(h=bs(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-ft(o),m=1<<u,h|=s[u],o&=~m;return h}function gp(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var S=31-ft(v),M=1<<S,j=m[S];j===-1?((M&u)===0||(M&h)!==0)&&(m[S]=gp(M,o)):j<=o&&(s.expiredLanes|=M),v&=~M}}function wr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Vo(){var s=ka;return ka<<=1,(ka&4194240)===0&&(ka=64),s}function Ns(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ks(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ft(o),s[o]=u}function Pt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ft(u),v=1<<m;o[m]=0,h[m]=-1,s[m]=-1,u&=~v}}function Ps(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-ft(u),m=1<<h;m&o|s[h]&o&&(s[h]|=o),u&=~m}}var gt=0;function Ds(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ld,Da,ud,cd,dd,mu=!1,wi=[],In=null,Qr=null,Yr=null,Os=new Map,xr=new Map,Ei=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fd(s,o){switch(s){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Os.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(o.pointerId)}}function ir(s,o,u,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=ku(o),o!==null&&Da(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function vp(s,o,u,h,m){switch(o){case"focusin":return In=ir(In,s,o,u,h,m),!0;case"dragenter":return Qr=ir(Qr,s,o,u,h,m),!0;case"mouseover":return Yr=ir(Yr,s,o,u,h,m),!0;case"pointerover":var v=m.pointerId;return Os.set(v,ir(Os.get(v)||null,s,o,u,h,m)),!0;case"gotpointercapture":return v=m.pointerId,xr.set(v,ir(xr.get(v)||null,s,o,u,h,m)),!0}return!1}function hd(s){var o=Bo(s.target);if(o!==null){var u=De(o);if(u!==null){if(o=u.tag,o===13){if(o=et(u),o!==null){s.blockedOn=o,dd(s.priority,function(){ud(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ji(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Oa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);pi=h,u.target.dispatchEvent(h),pi=null}else return o=ku(u),o!==null&&Da(o),s.blockedOn=u,!1;o.shift()}return!0}function $o(s,o,u){ji(s)&&u.delete(o)}function pd(){mu=!1,In!==null&&ji(In)&&(In=null),Qr!==null&&ji(Qr)&&(Qr=null),Yr!==null&&ji(Yr)&&(Yr=null),Os.forEach($o),xr.forEach($o)}function Xr(s,o){s.blockedOn===o&&(s.blockedOn=null,mu||(mu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pd)))}function Jr(s){function o(m){return Xr(m,s)}if(0<wi.length){Xr(wi[0],s);for(var u=1;u<wi.length;u++){var h=wi[u];h.blockedOn===s&&(h.blockedOn=null)}}for(In!==null&&Xr(In,s),Qr!==null&&Xr(Qr,s),Yr!==null&&Xr(Yr,s),Os.forEach(o),xr.forEach(o),u=0;u<Ei.length;u++)h=Ei[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Ei.length&&(u=Ei[0],u.blockedOn===null);)hd(u),u.blockedOn===null&&Ei.shift()}var Fi=W.ReactCurrentBatchConfig,xs=!0;function $t(s,o,u,h){var m=gt,v=Fi.transition;Fi.transition=null;try{gt=1,gu(s,o,u,h)}finally{gt=m,Fi.transition=v}}function _p(s,o,u,h){var m=gt,v=Fi.transition;Fi.transition=null;try{gt=4,gu(s,o,u,h)}finally{gt=m,Fi.transition=v}}function gu(s,o,u,h){if(xs){var m=Oa(s,o,u,h);if(m===null)kp(s,o,h,Uo,u),fd(s,h);else if(vp(m,s,o,u,h))h.stopPropagation();else if(fd(s,h),o&4&&-1<yp.indexOf(s)){for(;m!==null;){var v=ku(m);if(v!==null&&ld(v),v=Oa(s,o,u,h),v===null&&kp(s,o,h,Uo,u),v===m)break;m=v}m!==null&&h.stopPropagation()}else kp(s,o,h,null,u)}}var Uo=null;function Oa(s,o,u,h){if(Uo=null,s=Gr(h),s=Bo(s),s!==null)if(o=De(s),o===null)s=null;else if(u=o.tag,u===13){if(s=et(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Uo=s,null}function yu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rs()){case _r:return 1;case On:return 4;case Tn:case vi:return 16;case dt:return 536870912;default:return 16}default:return 16}}var Er=null,xa=null,sr=null;function vu(){if(sr)return sr;var s,o=xa,u=o.length,h,m="value"in Er?Er.value:Er.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var S=u-s;for(h=1;h<=S&&o[u-h]===m[v-h];h++);return sr=m.slice(s,1<h?1-h:void 0)}function La(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ti(){return!0}function _u(){return!1}function Sn(s){function o(u,h,m,v,S){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ti:_u,this.isPropagationStopped=_u,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),o}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Sn(Zr),Ii=le({},Zr,{view:0,detail:0}),wp=Sn(Ii),Va,Bi,Ls,jo=le({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ls&&(Ls&&s.type==="mousemove"?(Va=s.screenX-Ls.screenX,Bi=s.screenY-Ls.screenY):Bi=Va=0,Ls=s),Va)},movementY:function(s){return"movementY"in s?s.movementY:Bi}}),$a=Sn(jo),wu=le({},jo,{dataTransfer:0}),md=Sn(wu),Ua=le({},Ii,{relatedTarget:0}),ja=Sn(Ua),gd=le({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hi=Sn(gd),yd=le({},Zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vd=Sn(yd),_d=le({},Zr,{data:0}),Eu=Sn(_d),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ed(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=wd[s])?!!o[s]:!1}function Si(){return Ed}var d=le({},Ii,{key:function(s){if(s.key){var o=Fa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=La(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Wn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(s){return s.type==="keypress"?La(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?La(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Sn(d),E=le({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=Sn(E),G=le({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si}),te=Sn(G),ge=le({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Sn(ge),ln=le({},jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=Sn(ln),yn=[9,13,27,32],tn=c&&"CompositionEvent"in window,Lr=null;c&&"documentMode"in document&&(Lr=document.documentMode);var Tr=c&&"TextEvent"in window&&!Lr,Fo=c&&(!tn||Lr&&8<Lr&&11>=Lr),Ba=" ",T_=!1;function I_(s,o){switch(s){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ha=!1;function QN(s,o){switch(s){case"compositionend":return S_(o);case"keypress":return o.which!==32?null:(T_=!0,Ba);case"textInput":return s=o.data,s===Ba&&T_?null:s;default:return null}}function YN(s,o){if(Ha)return s==="compositionend"||!tn&&I_(s,o)?(s=vu(),sr=xa=Er=null,Ha=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fo&&o.locale!=="ko"?null:o.data;default:return null}}var XN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!XN[s.type]:o==="textarea"}function A_(s,o,u,h){yr(h),o=Ad(o,"onChange"),0<o.length&&(u=new Ma("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var Tu=null,Iu=null;function JN(s){z_(s,0)}function Td(s){var o=Ga(s);if(it(o))return s}function ZN(s,o){if(s==="change")return o}var R_=!1;if(c){var Ep;if(c){var Tp="oninput"in document;if(!Tp){var b_=document.createElement("div");b_.setAttribute("oninput","return;"),Tp=typeof b_.oninput=="function"}Ep=Tp}else Ep=!1;R_=Ep&&(!document.documentMode||9<document.documentMode)}function N_(){Tu&&(Tu.detachEvent("onpropertychange",k_),Iu=Tu=null)}function k_(s){if(s.propertyName==="value"&&Td(Iu)){var o=[];A_(o,Iu,s,Gr(s)),xo(JN,o)}}function ek(s,o,u){s==="focusin"?(N_(),Tu=o,Iu=u,Tu.attachEvent("onpropertychange",k_)):s==="focusout"&&N_()}function tk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Td(Iu)}function nk(s,o){if(s==="click")return Td(o)}function rk(s,o){if(s==="input"||s==="change")return Td(o)}function ik(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ei=typeof Object.is=="function"?Object.is:ik;function Su(s,o){if(ei(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!ei(s[m],o[m]))return!1}return!0}function P_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function D_(s,o){var u=P_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=P_(u)}}function O_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?O_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function x_(){for(var s=window,o=kt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=kt(s.document)}return o}function Ip(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function sk(s){var o=x_(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&O_(u.ownerDocument.documentElement,u)){if(h!==null&&Ip(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!s.extend&&v>h&&(m=h,h=v,v=m),m=D_(u,v);var S=D_(u,h);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var ok=c&&"documentMode"in document&&11>=document.documentMode,za=null,Sp=null,Cu=null,Cp=!1;function L_(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cp||za==null||za!==kt(h)||(h=za,"selectionStart"in h&&Ip(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Cu&&Su(Cu,h)||(Cu=h,h=Ad(Sp,"onSelect"),0<h.length&&(o=new Ma("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=za)))}function Id(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var qa={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionend:Id("Transition","TransitionEnd")},Ap={},M_={};c&&(M_=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Sd(s){if(Ap[s])return Ap[s];if(!qa[s])return s;var o=qa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in M_)return Ap[s]=o[u];return s}var V_=Sd("animationend"),$_=Sd("animationiteration"),U_=Sd("animationstart"),j_=Sd("transitionend"),F_=new Map,B_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(s,o){F_.set(s,o),a(o,[s])}for(var Rp=0;Rp<B_.length;Rp++){var bp=B_[Rp],ak=bp.toLowerCase(),lk=bp[0].toUpperCase()+bp.slice(1);Ms(ak,"on"+lk)}Ms(V_,"onAnimationEnd"),Ms($_,"onAnimationIteration"),Ms(U_,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(j_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Au));function H_(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Se(h,o,void 0,s),s.currentTarget=null}function z_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var S=h.length-1;0<=S;S--){var M=h[S],j=M.instance,J=M.currentTarget;if(M=M.listener,j!==v&&m.isPropagationStopped())break e;H_(m,M,J),v=j}else for(S=0;S<h.length;S++){if(M=h[S],j=M.instance,J=M.currentTarget,M=M.listener,j!==v&&m.isPropagationStopped())break e;H_(m,M,J),v=j}}}if(ke)throw s=Qe,ke=!1,Qe=null,s}function Lt(s,o){var u=o[Mp];u===void 0&&(u=o[Mp]=new Set);var h=s+"__bubble";u.has(h)||(q_(o,s,2,!1),u.add(h))}function Np(s,o,u){var h=0;o&&(h|=4),q_(u,s,h,o)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function Ru(s){if(!s[Cd]){s[Cd]=!0,r.forEach(function(u){u!=="selectionchange"&&(uk.has(u)||Np(u,!1,s),Np(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Cd]||(o[Cd]=!0,Np("selectionchange",!1,o))}}function q_(s,o,u,h){switch(yu(o)){case 1:var m=$t;break;case 4:m=_p;break;default:m=gu}u=m.bind(null,o,u,s),m=void 0,!U||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function kp(s,o,u,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var j=S.tag;if((j===3||j===4)&&(j=S.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;S=S.return}for(;M!==null;){if(S=Bo(M),S===null)return;if(j=S.tag,j===5||j===6){h=v=S;continue e}M=M.parentNode}}h=h.return}xo(function(){var J=v,ue=Gr(u),de=[];e:{var ae=F_.get(s);if(ae!==void 0){var Ce=Ma,Me=s;switch(s){case"keypress":if(La(u)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Me="focus",Ce=ja;break;case"focusout":Me="blur",Ce=ja;break;case"beforeblur":case"afterblur":Ce=ja;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=te;break;case V_:case $_:case U_:Ce=Hi;break;case j_:Ce=bt;break;case"scroll":Ce=wp;break;case"wheel":Ce=vt;break;case"copy":case"cut":case"paste":Ce=vd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=b}var Ve=(o&4)!==0,Xt=!Ve&&s==="scroll",Q=Ve?ae!==null?ae+"Capture":null:ae;Ve=[];for(var B=J,Y;B!==null;){Y=B;var he=Y.stateNode;if(Y.tag===5&&he!==null&&(Y=he,Q!==null&&(he=Ht(B,Q),he!=null&&Ve.push(bu(B,he,Y)))),Xt)break;B=B.return}0<Ve.length&&(ae=new Ce(ae,Me,null,u,ue),de.push({event:ae,listeners:Ve}))}}if((o&7)===0){e:{if(ae=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",ae&&u!==pi&&(Me=u.relatedTarget||u.fromElement)&&(Bo(Me)||Me[zi]))break e;if((Ce||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ce?(Me=u.relatedTarget||u.toElement,Ce=J,Me=Me?Bo(Me):null,Me!==null&&(Xt=De(Me),Me!==Xt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ce=null,Me=J),Ce!==Me)){if(Ve=$a,he="onMouseLeave",Q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=b,he="onPointerLeave",Q="onPointerEnter",B="pointer"),Xt=Ce==null?ae:Ga(Ce),Y=Me==null?ae:Ga(Me),ae=new Ve(he,B+"leave",Ce,u,ue),ae.target=Xt,ae.relatedTarget=Y,he=null,Bo(ue)===J&&(Ve=new Ve(Q,B+"enter",Me,u,ue),Ve.target=Y,Ve.relatedTarget=Xt,he=Ve),Xt=he,Ce&&Me)t:{for(Ve=Ce,Q=Me,B=0,Y=Ve;Y;Y=Wa(Y))B++;for(Y=0,he=Q;he;he=Wa(he))Y++;for(;0<B-Y;)Ve=Wa(Ve),B--;for(;0<Y-B;)Q=Wa(Q),Y--;for(;B--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=Wa(Ve),Q=Wa(Q)}Ve=null}else Ve=null;Ce!==null&&W_(de,ae,Ce,Ve,!1),Me!==null&&Xt!==null&&W_(de,Xt,Me,Ve,!0)}}e:{if(ae=J?Ga(J):window,Ce=ae.nodeName&&ae.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ae.type==="file")var $e=ZN;else if(C_(ae))if(R_)$e=rk;else{$e=tk;var We=ek}else(Ce=ae.nodeName)&&Ce.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&($e=nk);if($e&&($e=$e(s,J))){A_(de,$e,u,ue);break e}We&&We(s,ae,J),s==="focusout"&&(We=ae._wrapperState)&&We.controlled&&ae.type==="number"&&Hn(ae,"number",ae.value)}switch(We=J?Ga(J):window,s){case"focusin":(C_(We)||We.contentEditable==="true")&&(za=We,Sp=J,Cu=null);break;case"focusout":Cu=Sp=za=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,L_(de,u,ue);break;case"selectionchange":if(ok)break;case"keydown":case"keyup":L_(de,u,ue)}var Ke;if(tn)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ha?I_(s,u)&&(Xe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(Fo&&u.locale!=="ko"&&(Ha||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ha&&(Ke=vu()):(Er=ue,xa="value"in Er?Er.value:Er.textContent,Ha=!0)),We=Ad(J,Xe),0<We.length&&(Xe=new Eu(Xe,s,null,u,ue),de.push({event:Xe,listeners:We}),Ke?Xe.data=Ke:(Ke=S_(u),Ke!==null&&(Xe.data=Ke)))),(Ke=Tr?QN(s,u):YN(s,u))&&(J=Ad(J,"onBeforeInput"),0<J.length&&(ue=new Eu("onBeforeInput","beforeinput",null,u,ue),de.push({event:ue,listeners:J}),ue.data=Ke))}z_(de,o)})}function bu(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Ad(s,o){for(var u=o+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ht(s,u),v!=null&&h.unshift(bu(s,v,m)),v=Ht(s,o),v!=null&&h.push(bu(s,v,m))),s=s.return}return h}function Wa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function W_(s,o,u,h,m){for(var v=o._reactName,S=[];u!==null&&u!==h;){var M=u,j=M.alternate,J=M.stateNode;if(j!==null&&j===h)break;M.tag===5&&J!==null&&(M=J,m?(j=Ht(u,v),j!=null&&S.unshift(bu(u,j,M))):m||(j=Ht(u,v),j!=null&&S.push(bu(u,j,M)))),u=u.return}S.length!==0&&s.push({event:o,listeners:S})}var ck=/\r\n?/g,dk=/\u0000|\uFFFD/g;function K_(s){return(typeof s=="string"?s:""+s).replace(ck,`
`).replace(dk,"")}function Rd(s,o,u){if(o=K_(o),K_(s)!==o&&u)throw Error(t(425))}function bd(){}var Pp=null,Dp=null;function Op(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,fk=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,hk=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(s){return G_.resolve(null).then(s).catch(pk)}:xp;function pk(s){setTimeout(function(){throw s})}function Lp(s,o){var u=o,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),Jr(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);Jr(o)}function Vs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Q_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),Ci="__reactFiber$"+Ka,Nu="__reactProps$"+Ka,zi="__reactContainer$"+Ka,Mp="__reactEvents$"+Ka,mk="__reactListeners$"+Ka,gk="__reactHandles$"+Ka;function Bo(s){var o=s[Ci];if(o)return o;for(var u=s.parentNode;u;){if(o=u[zi]||u[Ci]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Q_(s);s!==null;){if(u=s[Ci])return u;s=Q_(s)}return o}s=u,u=s.parentNode}return null}function ku(s){return s=s[Ci]||s[zi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ga(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Nd(s){return s[Nu]||null}var Vp=[],Qa=-1;function $s(s){return{current:s}}function Mt(s){0>Qa||(s.current=Vp[Qa],Vp[Qa]=null,Qa--)}function xt(s,o){Qa++,Vp[Qa]=s.current,s.current=o}var Us={},xn=$s(Us),or=$s(!1),Ho=Us;function Ya(s,o){var u=s.type.contextTypes;if(!u)return Us;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function ar(s){return s=s.childContextTypes,s!=null}function kd(){Mt(or),Mt(xn)}function Y_(s,o,u){if(xn.current!==Us)throw Error(t(168));xt(xn,o),xt(or,u)}function X_(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ge(s)||"Unknown",m));return le({},u,h)}function Pd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Us,Ho=xn.current,xt(xn,s),xt(or,or.current),!0}function J_(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=X_(s,o,Ho),h.__reactInternalMemoizedMergedChildContext=s,Mt(or),Mt(xn),xt(xn,s)):Mt(or),xt(or,u)}var qi=null,Dd=!1,$p=!1;function Z_(s){qi===null?qi=[s]:qi.push(s)}function yk(s){Dd=!0,Z_(s)}function js(){if(!$p&&qi!==null){$p=!0;var s=0,o=gt;try{var u=qi;for(gt=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}qi=null,Dd=!1}catch(m){throw qi!==null&&(qi=qi.slice(s+1)),Rt(_r,js),m}finally{gt=o,$p=!1}}return null}var Xa=[],Ja=0,Od=null,xd=0,Mr=[],Vr=0,zo=null,Wi=1,Ki="";function qo(s,o){Xa[Ja++]=xd,Xa[Ja++]=Od,Od=s,xd=o}function ew(s,o,u){Mr[Vr++]=Wi,Mr[Vr++]=Ki,Mr[Vr++]=zo,zo=s;var h=Wi;s=Ki;var m=32-ft(h)-1;h&=~(1<<m),u+=1;var v=32-ft(o)+m;if(30<v){var S=m-m%5;v=(h&(1<<S)-1).toString(32),h>>=S,m-=S,Wi=1<<32-ft(o)+m|u<<m|h,Ki=v+s}else Wi=1<<v|u<<m|h,Ki=s}function Up(s){s.return!==null&&(qo(s,1),ew(s,1,0))}function jp(s){for(;s===Od;)Od=Xa[--Ja],Xa[Ja]=null,xd=Xa[--Ja],Xa[Ja]=null;for(;s===zo;)zo=Mr[--Vr],Mr[Vr]=null,Ki=Mr[--Vr],Mr[Vr]=null,Wi=Mr[--Vr],Mr[Vr]=null}var Ir=null,Sr=null,Ut=!1,ti=null;function tw(s,o){var u=Fr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function nw(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Ir=s,Sr=Vs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Ir=s,Sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=zo!==null?{id:Wi,overflow:Ki}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Fr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Ir=s,Sr=null,!0):!1;default:return!1}}function Fp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bp(s){if(Ut){var o=Sr;if(o){var u=o;if(!nw(s,o)){if(Fp(s))throw Error(t(418));o=Vs(u.nextSibling);var h=Ir;o&&nw(s,o)?tw(h,u):(s.flags=s.flags&-4097|2,Ut=!1,Ir=s)}}else{if(Fp(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ut=!1,Ir=s}}}function rw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ir=s}function Ld(s){if(s!==Ir)return!1;if(!Ut)return rw(s),Ut=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Op(s.type,s.memoizedProps)),o&&(o=Sr)){if(Fp(s))throw iw(),Error(t(418));for(;o;)tw(s,o),o=Vs(o.nextSibling)}if(rw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Sr=Vs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Sr=null}}else Sr=Ir?Vs(s.stateNode.nextSibling):null;return!0}function iw(){for(var s=Sr;s;)s=Vs(s.nextSibling)}function Za(){Sr=Ir=null,Ut=!1}function Hp(s){ti===null?ti=[s]:ti.push(s)}var vk=W.ReactCurrentBatchConfig;function Pu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var m=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var M=m.refs;S===null?delete M[v]:M[v]=S},o._stringRef=v,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Md(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function sw(s){var o=s._init;return o(s._payload)}function ow(s){function o(Q,B){if(s){var Y=Q.deletions;Y===null?(Q.deletions=[B],Q.flags|=16):Y.push(B)}}function u(Q,B){if(!s)return null;for(;B!==null;)o(Q,B),B=B.sibling;return null}function h(Q,B){for(Q=new Map;B!==null;)B.key!==null?Q.set(B.key,B):Q.set(B.index,B),B=B.sibling;return Q}function m(Q,B){return Q=Gs(Q,B),Q.index=0,Q.sibling=null,Q}function v(Q,B,Y){return Q.index=Y,s?(Y=Q.alternate,Y!==null?(Y=Y.index,Y<B?(Q.flags|=2,B):Y):(Q.flags|=2,B)):(Q.flags|=1048576,B)}function S(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function M(Q,B,Y,he){return B===null||B.tag!==6?(B=xm(Y,Q.mode,he),B.return=Q,B):(B=m(B,Y),B.return=Q,B)}function j(Q,B,Y,he){var $e=Y.type;return $e===I?ue(Q,B,Y.props.children,he,Y.key):B!==null&&(B.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===He&&sw($e)===B.type)?(he=m(B,Y.props),he.ref=Pu(Q,B,Y),he.return=Q,he):(he=af(Y.type,Y.key,Y.props,null,Q.mode,he),he.ref=Pu(Q,B,Y),he.return=Q,he)}function J(Q,B,Y,he){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Lm(Y,Q.mode,he),B.return=Q,B):(B=m(B,Y.children||[]),B.return=Q,B)}function ue(Q,B,Y,he,$e){return B===null||B.tag!==7?(B=Zo(Y,Q.mode,he,$e),B.return=Q,B):(B=m(B,Y),B.return=Q,B)}function de(Q,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number")return B=xm(""+B,Q.mode,Y),B.return=Q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return Y=af(B.type,B.key,B.props,null,Q.mode,Y),Y.ref=Pu(Q,null,B),Y.return=Q,Y;case K:return B=Lm(B,Q.mode,Y),B.return=Q,B;case He:var he=B._init;return de(Q,he(B._payload),Y)}if(Bt(B)||me(B))return B=Zo(B,Q.mode,Y,null),B.return=Q,B;Md(Q,B)}return null}function ae(Q,B,Y,he){var $e=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return $e!==null?null:M(Q,B,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Z:return Y.key===$e?j(Q,B,Y,he):null;case K:return Y.key===$e?J(Q,B,Y,he):null;case He:return $e=Y._init,ae(Q,B,$e(Y._payload),he)}if(Bt(Y)||me(Y))return $e!==null?null:ue(Q,B,Y,he,null);Md(Q,Y)}return null}function Ce(Q,B,Y,he,$e){if(typeof he=="string"&&he!==""||typeof he=="number")return Q=Q.get(Y)||null,M(B,Q,""+he,$e);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case Z:return Q=Q.get(he.key===null?Y:he.key)||null,j(B,Q,he,$e);case K:return Q=Q.get(he.key===null?Y:he.key)||null,J(B,Q,he,$e);case He:var We=he._init;return Ce(Q,B,Y,We(he._payload),$e)}if(Bt(he)||me(he))return Q=Q.get(Y)||null,ue(B,Q,he,$e,null);Md(B,he)}return null}function Me(Q,B,Y,he){for(var $e=null,We=null,Ke=B,Xe=B=0,wn=null;Ke!==null&&Xe<Y.length;Xe++){Ke.index>Xe?(wn=Ke,Ke=null):wn=Ke.sibling;var It=ae(Q,Ke,Y[Xe],he);if(It===null){Ke===null&&(Ke=wn);break}s&&Ke&&It.alternate===null&&o(Q,Ke),B=v(It,B,Xe),We===null?$e=It:We.sibling=It,We=It,Ke=wn}if(Xe===Y.length)return u(Q,Ke),Ut&&qo(Q,Xe),$e;if(Ke===null){for(;Xe<Y.length;Xe++)Ke=de(Q,Y[Xe],he),Ke!==null&&(B=v(Ke,B,Xe),We===null?$e=Ke:We.sibling=Ke,We=Ke);return Ut&&qo(Q,Xe),$e}for(Ke=h(Q,Ke);Xe<Y.length;Xe++)wn=Ce(Ke,Q,Xe,Y[Xe],he),wn!==null&&(s&&wn.alternate!==null&&Ke.delete(wn.key===null?Xe:wn.key),B=v(wn,B,Xe),We===null?$e=wn:We.sibling=wn,We=wn);return s&&Ke.forEach(function(Qs){return o(Q,Qs)}),Ut&&qo(Q,Xe),$e}function Ve(Q,B,Y,he){var $e=me(Y);if(typeof $e!="function")throw Error(t(150));if(Y=$e.call(Y),Y==null)throw Error(t(151));for(var We=$e=null,Ke=B,Xe=B=0,wn=null,It=Y.next();Ke!==null&&!It.done;Xe++,It=Y.next()){Ke.index>Xe?(wn=Ke,Ke=null):wn=Ke.sibling;var Qs=ae(Q,Ke,It.value,he);if(Qs===null){Ke===null&&(Ke=wn);break}s&&Ke&&Qs.alternate===null&&o(Q,Ke),B=v(Qs,B,Xe),We===null?$e=Qs:We.sibling=Qs,We=Qs,Ke=wn}if(It.done)return u(Q,Ke),Ut&&qo(Q,Xe),$e;if(Ke===null){for(;!It.done;Xe++,It=Y.next())It=de(Q,It.value,he),It!==null&&(B=v(It,B,Xe),We===null?$e=It:We.sibling=It,We=It);return Ut&&qo(Q,Xe),$e}for(Ke=h(Q,Ke);!It.done;Xe++,It=Y.next())It=Ce(Ke,Q,Xe,It.value,he),It!==null&&(s&&It.alternate!==null&&Ke.delete(It.key===null?Xe:It.key),B=v(It,B,Xe),We===null?$e=It:We.sibling=It,We=It);return s&&Ke.forEach(function(Xk){return o(Q,Xk)}),Ut&&qo(Q,Xe),$e}function Xt(Q,B,Y,he){if(typeof Y=="object"&&Y!==null&&Y.type===I&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Z:e:{for(var $e=Y.key,We=B;We!==null;){if(We.key===$e){if($e=Y.type,$e===I){if(We.tag===7){u(Q,We.sibling),B=m(We,Y.props.children),B.return=Q,Q=B;break e}}else if(We.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===He&&sw($e)===We.type){u(Q,We.sibling),B=m(We,Y.props),B.ref=Pu(Q,We,Y),B.return=Q,Q=B;break e}u(Q,We);break}else o(Q,We);We=We.sibling}Y.type===I?(B=Zo(Y.props.children,Q.mode,he,Y.key),B.return=Q,Q=B):(he=af(Y.type,Y.key,Y.props,null,Q.mode,he),he.ref=Pu(Q,B,Y),he.return=Q,Q=he)}return S(Q);case K:e:{for(We=Y.key;B!==null;){if(B.key===We)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){u(Q,B.sibling),B=m(B,Y.children||[]),B.return=Q,Q=B;break e}else{u(Q,B);break}else o(Q,B);B=B.sibling}B=Lm(Y,Q.mode,he),B.return=Q,Q=B}return S(Q);case He:return We=Y._init,Xt(Q,B,We(Y._payload),he)}if(Bt(Y))return Me(Q,B,Y,he);if(me(Y))return Ve(Q,B,Y,he);Md(Q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,B!==null&&B.tag===6?(u(Q,B.sibling),B=m(B,Y),B.return=Q,Q=B):(u(Q,B),B=xm(Y,Q.mode,he),B.return=Q,Q=B),S(Q)):u(Q,B)}return Xt}var el=ow(!0),aw=ow(!1),Vd=$s(null),$d=null,tl=null,zp=null;function qp(){zp=tl=$d=null}function Wp(s){var o=Vd.current;Mt(Vd),s._currentValue=o}function Kp(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function nl(s,o){$d=s,zp=tl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(lr=!0),s.firstContext=null)}function $r(s){var o=s._currentValue;if(zp!==s)if(s={context:s,memoizedValue:o,next:null},tl===null){if($d===null)throw Error(t(308));tl=s,$d.dependencies={lanes:0,firstContext:s}}else tl=tl.next=s;return o}var Wo=null;function Gp(s){Wo===null?Wo=[s]:Wo.push(s)}function lw(s,o,u,h){var m=o.interleaved;return m===null?(u.next=u,Gp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Gi(s,h)}function Gi(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Fs=!1;function Qp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Bs(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(wt&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Gi(s,u)}return m=h.interleaved,m===null?(o.next=o,Gp(h)):(o.next=m.next,m.next=o),h.interleaved=o,Gi(s,u)}function Ud(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ps(s,u)}}function cw(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function jd(s,o,u,h){var m=s.updateQueue;Fs=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,J=j.next;j.next=null,S===null?v=J:S.next=J,S=j;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==S&&(M===null?ue.firstBaseUpdate=J:M.next=J,ue.lastBaseUpdate=j))}if(v!==null){var de=m.baseState;S=0,ue=J=j=null,M=v;do{var ae=M.lane,Ce=M.eventTime;if((h&ae)===ae){ue!==null&&(ue=ue.next={eventTime:Ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Me=s,Ve=M;switch(ae=o,Ce=u,Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){de=Me.call(Ce,de,ae);break e}de=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,ae=typeof Me=="function"?Me.call(Ce,de,ae):Me,ae==null)break e;de=le({},de,ae);break e;case 2:Fs=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,ae=m.effects,ae===null?m.effects=[M]:ae.push(M))}else Ce={eventTime:Ce,lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(J=ue=Ce,j=de):ue=ue.next=Ce,S|=ae;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);if(ue===null&&(j=de),m.baseState=j,m.firstBaseUpdate=J,m.lastBaseUpdate=ue,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Qo|=S,s.lanes=S,s.memoizedState=de}}function dw(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Du={},Ai=$s(Du),Ou=$s(Du),xu=$s(Du);function Ko(s){if(s===Du)throw Error(t(174));return s}function Yp(s,o){switch(xt(xu,o),xt(Ou,s),xt(Ai,Du),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=mt(o,s)}Mt(Ai),xt(Ai,o)}function rl(){Mt(Ai),Mt(Ou),Mt(xu)}function fw(s){Ko(xu.current);var o=Ko(Ai.current),u=mt(o,s.type);o!==u&&(xt(Ou,s),xt(Ai,u))}function Xp(s){Ou.current===s&&(Mt(Ai),Mt(Ou))}var zt=$s(0);function Fd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jp=[];function Zp(){for(var s=0;s<Jp.length;s++)Jp[s]._workInProgressVersionPrimary=null;Jp.length=0}var Bd=W.ReactCurrentDispatcher,em=W.ReactCurrentBatchConfig,Go=0,qt=null,un=null,vn=null,Hd=!1,Lu=!1,Mu=0,_k=0;function Ln(){throw Error(t(321))}function tm(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ei(s[u],o[u]))return!1;return!0}function nm(s,o,u,h,m,v){if(Go=v,qt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Bd.current=s===null||s.memoizedState===null?Ik:Sk,s=u(h,m),Lu){v=0;do{if(Lu=!1,Mu=0,25<=v)throw Error(t(301));v+=1,vn=un=null,o.updateQueue=null,Bd.current=Ck,s=u(h,m)}while(Lu)}if(Bd.current=Wd,o=un!==null&&un.next!==null,Go=0,vn=un=qt=null,Hd=!1,o)throw Error(t(300));return s}function rm(){var s=Mu!==0;return Mu=0,s}function Ri(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?qt.memoizedState=vn=s:vn=vn.next=s,vn}function Ur(){if(un===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=un.next;var o=vn===null?qt.memoizedState:vn.next;if(o!==null)vn=o,un=s;else{if(s===null)throw Error(t(310));un=s,s={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},vn===null?qt.memoizedState=vn=s:vn=vn.next=s}return vn}function Vu(s,o){return typeof o=="function"?o(s):o}function im(s){var o=Ur(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=un,m=h.baseQueue,v=u.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}h.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,h=h.baseState;var M=S=null,j=null,J=v;do{var ue=J.lane;if((Go&ue)===ue)j!==null&&(j=j.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:s(h,J.action);else{var de={lane:ue,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};j===null?(M=j=de,S=h):j=j.next=de,qt.lanes|=ue,Qo|=ue}J=J.next}while(J!==null&&J!==v);j===null?S=h:j.next=M,ei(h,o.memoizedState)||(lr=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=j,u.lastRenderedState=h}if(s=u.interleaved,s!==null){m=s;do v=m.lane,qt.lanes|=v,Qo|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function sm(s){var o=Ur(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do v=s(v,S.action),S=S.next;while(S!==m);ei(v,o.memoizedState)||(lr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function hw(){}function pw(s,o){var u=qt,h=Ur(),m=o(),v=!ei(h.memoizedState,m);if(v&&(h.memoizedState=m,lr=!0),h=h.queue,om(yw.bind(null,u,h,s),[s]),h.getSnapshot!==o||v||vn!==null&&vn.memoizedState.tag&1){if(u.flags|=2048,$u(9,gw.bind(null,u,h,m,o),void 0,null),_n===null)throw Error(t(349));(Go&30)!==0||mw(u,o,m)}return m}function mw(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=qt.updateQueue,o===null?(o={lastEffect:null,stores:null},qt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function gw(s,o,u,h){o.value=u,o.getSnapshot=h,vw(o)&&_w(s)}function yw(s,o,u){return u(function(){vw(o)&&_w(s)})}function vw(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ei(s,u)}catch{return!0}}function _w(s){var o=Gi(s,1);o!==null&&si(o,s,1,-1)}function ww(s){var o=Ri();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:s},o.queue=s,s=s.dispatch=Tk.bind(null,qt,s),[o.memoizedState,s]}function $u(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=qt.updateQueue,o===null?(o={lastEffect:null,stores:null},qt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function Ew(){return Ur().memoizedState}function zd(s,o,u,h){var m=Ri();qt.flags|=s,m.memoizedState=$u(1|o,u,void 0,h===void 0?null:h)}function qd(s,o,u,h){var m=Ur();h=h===void 0?null:h;var v=void 0;if(un!==null){var S=un.memoizedState;if(v=S.destroy,h!==null&&tm(h,S.deps)){m.memoizedState=$u(o,u,v,h);return}}qt.flags|=s,m.memoizedState=$u(1|o,u,v,h)}function Tw(s,o){return zd(8390656,8,s,o)}function om(s,o){return qd(2048,8,s,o)}function Iw(s,o){return qd(4,2,s,o)}function Sw(s,o){return qd(4,4,s,o)}function Cw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Aw(s,o,u){return u=u!=null?u.concat([s]):null,qd(4,4,Cw.bind(null,o,s),u)}function am(){}function Rw(s,o){var u=Ur();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&tm(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function bw(s,o){var u=Ur();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&tm(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function Nw(s,o,u){return(Go&21)===0?(s.baseState&&(s.baseState=!1,lr=!0),s.memoizedState=u):(ei(u,o)||(u=Vo(),qt.lanes|=u,Qo|=u,s.baseState=!0),o)}function wk(s,o){var u=gt;gt=u!==0&&4>u?u:4,s(!0);var h=em.transition;em.transition={};try{s(!1),o()}finally{gt=u,em.transition=h}}function kw(){return Ur().memoizedState}function Ek(s,o,u){var h=Ws(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Pw(s))Dw(o,u);else if(u=lw(s,o,u,h),u!==null){var m=Gn();si(u,s,h,m),Ow(u,o,h)}}function Tk(s,o,u){var h=Ws(s),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Pw(s))Dw(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,M=v(S,u);if(m.hasEagerState=!0,m.eagerState=M,ei(M,S)){var j=o.interleaved;j===null?(m.next=m,Gp(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=lw(s,o,m,h),u!==null&&(m=Gn(),si(u,s,h,m),Ow(u,o,h))}}function Pw(s){var o=s.alternate;return s===qt||o!==null&&o===qt}function Dw(s,o){Lu=Hd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Ow(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ps(s,u)}}var Wd={readContext:$r,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},Ik={readContext:$r,useCallback:function(s,o){return Ri().memoizedState=[s,o===void 0?null:o],s},useContext:$r,useEffect:Tw,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,zd(4194308,4,Cw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return zd(4194308,4,s,o)},useInsertionEffect:function(s,o){return zd(4,2,s,o)},useMemo:function(s,o){var u=Ri();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Ri();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=Ek.bind(null,qt,s),[h.memoizedState,s]},useRef:function(s){var o=Ri();return s={current:s},o.memoizedState=s},useState:ww,useDebugValue:am,useDeferredValue:function(s){return Ri().memoizedState=s},useTransition:function(){var s=ww(!1),o=s[0];return s=wk.bind(null,s[1]),Ri().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=qt,m=Ri();if(Ut){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),_n===null)throw Error(t(349));(Go&30)!==0||mw(h,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Tw(yw.bind(null,h,v,s),[s]),h.flags|=2048,$u(9,gw.bind(null,h,v,u,o),void 0,null),u},useId:function(){var s=Ri(),o=_n.identifierPrefix;if(Ut){var u=Ki,h=Wi;u=(h&~(1<<32-ft(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=Mu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=_k++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Sk={readContext:$r,useCallback:Rw,useContext:$r,useEffect:om,useImperativeHandle:Aw,useInsertionEffect:Iw,useLayoutEffect:Sw,useMemo:bw,useReducer:im,useRef:Ew,useState:function(){return im(Vu)},useDebugValue:am,useDeferredValue:function(s){var o=Ur();return Nw(o,un.memoizedState,s)},useTransition:function(){var s=im(Vu)[0],o=Ur().memoizedState;return[s,o]},useMutableSource:hw,useSyncExternalStore:pw,useId:kw,unstable_isNewReconciler:!1},Ck={readContext:$r,useCallback:Rw,useContext:$r,useEffect:om,useImperativeHandle:Aw,useInsertionEffect:Iw,useLayoutEffect:Sw,useMemo:bw,useReducer:sm,useRef:Ew,useState:function(){return sm(Vu)},useDebugValue:am,useDeferredValue:function(s){var o=Ur();return un===null?o.memoizedState=s:Nw(o,un.memoizedState,s)},useTransition:function(){var s=sm(Vu)[0],o=Ur().memoizedState;return[s,o]},useMutableSource:hw,useSyncExternalStore:pw,useId:kw,unstable_isNewReconciler:!1};function ni(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function lm(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Kd={isMounted:function(s){return(s=s._reactInternals)?De(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Gn(),m=Ws(s),v=Qi(h,m);v.payload=o,u!=null&&(v.callback=u),o=Bs(s,v,m),o!==null&&(si(o,s,m,h),Ud(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Gn(),m=Ws(s),v=Qi(h,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Bs(s,v,m),o!==null&&(si(o,s,m,h),Ud(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Gn(),h=Ws(s),m=Qi(u,h);m.tag=2,o!=null&&(m.callback=o),o=Bs(s,m,h),o!==null&&(si(o,s,h,u),Ud(o,s,h))}};function xw(s,o,u,h,m,v,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,S):o.prototype&&o.prototype.isPureReactComponent?!Su(u,h)||!Su(m,v):!0}function Lw(s,o,u){var h=!1,m=Us,v=o.contextType;return typeof v=="object"&&v!==null?v=$r(v):(m=ar(o)?Ho:xn.current,h=o.contextTypes,v=(h=h!=null)?Ya(s,m):Us),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Kd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function Mw(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Kd.enqueueReplaceState(o,o.state,null)}function um(s,o,u,h){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Qp(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=$r(v):(v=ar(o)?Ho:xn.current,m.context=Ya(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(lm(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Kd.enqueueReplaceState(m,m.state,null),jd(s,u,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function il(s,o){try{var u="",h=o;do u+=Te(h),h=h.return;while(h);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function cm(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function dm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Ak=typeof WeakMap=="function"?WeakMap:Map;function Vw(s,o,u){u=Qi(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){ef||(ef=!0,Am=h),dm(s,o)},u}function $w(s,o,u){u=Qi(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){dm(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){dm(s,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function Uw(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new Ak;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),s=jk.bind(null,s,o,u),o.then(s,s))}function jw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Fw(s,o,u,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Qi(-1,1),o.tag=2,Bs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var Rk=W.ReactCurrentOwner,lr=!1;function Kn(s,o,u,h){o.child=s===null?aw(o,null,u,h):el(o,s.child,u,h)}function Bw(s,o,u,h,m){u=u.render;var v=o.ref;return nl(o,m),h=nm(s,o,u,h,v,m),u=rm(),s!==null&&!lr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yi(s,o,m)):(Ut&&u&&Up(o),o.flags|=1,Kn(s,o,h,m),o.child)}function Hw(s,o,u,h,m){if(s===null){var v=u.type;return typeof v=="function"&&!Om(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,zw(s,o,v,h,m)):(s=af(u.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:Su,u(S,h)&&s.ref===o.ref)return Yi(s,o,m)}return o.flags|=1,s=Gs(v,h),s.ref=o.ref,s.return=o,o.child=s}function zw(s,o,u,h,m){if(s!==null){var v=s.memoizedProps;if(Su(v,h)&&s.ref===o.ref)if(lr=!1,o.pendingProps=h=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(lr=!0);else return o.lanes=s.lanes,Yi(s,o,m)}return fm(s,o,u,h,m)}function qw(s,o,u){var h=o.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ol,Cr),Cr|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,xt(ol,Cr),Cr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,xt(ol,Cr),Cr|=h}else v!==null?(h=v.baseLanes|u,o.memoizedState=null):h=u,xt(ol,Cr),Cr|=h;return Kn(s,o,m,u),o.child}function Ww(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function fm(s,o,u,h,m){var v=ar(u)?Ho:xn.current;return v=Ya(o,v),nl(o,m),u=nm(s,o,u,h,v,m),h=rm(),s!==null&&!lr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yi(s,o,m)):(Ut&&h&&Up(o),o.flags|=1,Kn(s,o,u,m),o.child)}function Kw(s,o,u,h,m){if(ar(u)){var v=!0;Pd(o)}else v=!1;if(nl(o,m),o.stateNode===null)Qd(s,o),Lw(o,u,h),um(o,u,h,m),h=!0;else if(s===null){var S=o.stateNode,M=o.memoizedProps;S.props=M;var j=S.context,J=u.contextType;typeof J=="object"&&J!==null?J=$r(J):(J=ar(u)?Ho:xn.current,J=Ya(o,J));var ue=u.getDerivedStateFromProps,de=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function";de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==h||j!==J)&&Mw(o,S,h,J),Fs=!1;var ae=o.memoizedState;S.state=ae,jd(o,h,S,m),j=o.memoizedState,M!==h||ae!==j||or.current||Fs?(typeof ue=="function"&&(lm(o,u,ue,h),j=o.memoizedState),(M=Fs||xw(o,u,M,h,ae,j,J))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=j),S.props=h,S.state=j,S.context=J,h=M):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,uw(s,o),M=o.memoizedProps,J=o.type===o.elementType?M:ni(o.type,M),S.props=J,de=o.pendingProps,ae=S.context,j=u.contextType,typeof j=="object"&&j!==null?j=$r(j):(j=ar(u)?Ho:xn.current,j=Ya(o,j));var Ce=u.getDerivedStateFromProps;(ue=typeof Ce=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==de||ae!==j)&&Mw(o,S,h,j),Fs=!1,ae=o.memoizedState,S.state=ae,jd(o,h,S,m);var Me=o.memoizedState;M!==de||ae!==Me||or.current||Fs?(typeof Ce=="function"&&(lm(o,u,Ce,h),Me=o.memoizedState),(J=Fs||xw(o,u,J,h,ae,Me,j)||!1)?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Me,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Me,j)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&ae===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ae===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Me),S.props=h,S.state=Me,S.context=j,h=J):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&ae===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ae===s.memoizedState||(o.flags|=1024),h=!1)}return hm(s,o,u,h,v,m)}function hm(s,o,u,h,m,v){Ww(s,o);var S=(o.flags&128)!==0;if(!h&&!S)return m&&J_(o,u,!1),Yi(s,o,v);h=o.stateNode,Rk.current=o;var M=S&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&S?(o.child=el(o,s.child,null,v),o.child=el(o,null,M,v)):Kn(s,o,M,v),o.memoizedState=h.state,m&&J_(o,u,!0),o.child}function Gw(s){var o=s.stateNode;o.pendingContext?Y_(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Y_(s,o.context,!1),Yp(s,o.containerInfo)}function Qw(s,o,u,h,m){return Za(),Hp(m),o.flags|=256,Kn(s,o,u,h),o.child}var pm={dehydrated:null,treeContext:null,retryLane:0};function mm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Yw(s,o,u){var h=o.pendingProps,m=zt.current,v=!1,S=(o.flags&128)!==0,M;if((M=S)||(M=s!==null&&s.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),xt(zt,m&1),s===null)return Bp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,s=h.fallback,v?(h=o.mode,v=o.child,S={mode:"hidden",children:S},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=lf(S,h,0,null),s=Zo(s,h,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=mm(u),o.memoizedState=pm,s):gm(o,S));if(m=s.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return bk(s,o,S,h,M,m,u);if(v){v=h.fallback,S=o.mode,m=s.child,M=m.sibling;var j={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=j,o.deletions=null):(h=Gs(m,j),h.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=Gs(M,v):(v=Zo(v,S,u,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,S=s.child.memoizedState,S=S===null?mm(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=s.childLanes&~u,o.memoizedState=pm,h}return v=s.child,s=v.sibling,h=Gs(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function gm(s,o){return o=lf({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Gd(s,o,u,h){return h!==null&&Hp(h),el(o,s.child,null,u),s=gm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function bk(s,o,u,h,m,v,S){if(u)return o.flags&256?(o.flags&=-257,h=cm(Error(t(422))),Gd(s,o,S,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=lf({mode:"visible",children:h.children},m,0,null),v=Zo(v,m,S,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&el(o,s.child,null,S),o.child.memoizedState=mm(S),o.memoizedState=pm,v);if((o.mode&1)===0)return Gd(s,o,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(t(419)),h=cm(v,h,void 0),Gd(s,o,S,h)}if(M=(S&s.childLanes)!==0,lr||M){if(h=_n,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|S))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Gi(s,m),si(h,s,m,-1))}return Dm(),h=cm(Error(t(421))),Gd(s,o,S,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=Fk.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,Sr=Vs(m.nextSibling),Ir=o,Ut=!0,ti=null,s!==null&&(Mr[Vr++]=Wi,Mr[Vr++]=Ki,Mr[Vr++]=zo,Wi=s.id,Ki=s.overflow,zo=o),o=gm(o,h.children),o.flags|=4096,o)}function Xw(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Kp(s.return,o,u)}function ym(s,o,u,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=m)}function Jw(s,o,u){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(Kn(s,o,h.children,u),h=zt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xw(s,u,o);else if(s.tag===19)Xw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(xt(zt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Fd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),ym(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Fd(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}ym(o,!0,u,null,v);break;case"together":ym(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Yi(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Qo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=Gs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Gs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Nk(s,o,u){switch(o.tag){case 3:Gw(o),Za();break;case 5:fw(o);break;case 1:ar(o.type)&&Pd(o);break;case 4:Yp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;xt(Vd,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(xt(zt,zt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Yw(s,o,u):(xt(zt,zt.current&1),s=Yi(s,o,u),s!==null?s.sibling:null);xt(zt,zt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Jw(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(zt,zt.current),h)break;return null;case 22:case 23:return o.lanes=0,qw(s,o,u)}return Yi(s,o,u)}var Zw,vm,eE,tE;Zw=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},vm=function(){},eE=function(s,o,u,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,Ko(Ai.current);var v=null;switch(u){case"input":m=Kt(s,m),h=Kt(s,h),v=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),v=[];break;case"textarea":m=er(s,m),h=er(s,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=bd)}hi(u,h);var S;u=null;for(J in m)if(!h.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var M=m[J];for(S in M)M.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?v||(v=[]):(v=v||[]).push(J,null));for(J in h){var j=h[J];if(M=m!=null?m[J]:void 0,h.hasOwnProperty(J)&&j!==M&&(j!=null||M!=null))if(J==="style")if(M){for(S in M)!M.hasOwnProperty(S)||j&&j.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in j)j.hasOwnProperty(S)&&M[S]!==j[S]&&(u||(u={}),u[S]=j[S])}else u||(v||(v=[]),v.push(J,u)),u=j;else J==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(v=v||[]).push(J,j)):J==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(J,""+j):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(j!=null&&J==="onScroll"&&Lt("scroll",s),v||M===j||(v=[])):(v=v||[]).push(J,j))}u&&(v=v||[]).push("style",u);var J=v;(o.updateQueue=J)&&(o.flags|=4)}},tE=function(s,o,u,h){u!==h&&(o.flags|=4)};function Uu(s,o){if(!Ut)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Mn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function kk(s,o,u){var h=o.pendingProps;switch(jp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(o),null;case 1:return ar(o.type)&&kd(),Mn(o),null;case 3:return h=o.stateNode,rl(),Mt(or),Mt(xn),Zp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Ld(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ti!==null&&(Nm(ti),ti=null))),vm(s,o),Mn(o),null;case 5:Xp(o);var m=Ko(xu.current);if(u=o.type,s!==null&&o.stateNode!=null)eE(s,o,u,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Mn(o),null}if(s=Ko(Ai.current),Ld(o)){h=o.stateNode,u=o.type;var v=o.memoizedProps;switch(h[Ci]=o,h[Nu]=v,s=(o.mode&1)!==0,u){case"dialog":Lt("cancel",h),Lt("close",h);break;case"iframe":case"object":case"embed":Lt("load",h);break;case"video":case"audio":for(m=0;m<Au.length;m++)Lt(Au[m],h);break;case"source":Lt("error",h);break;case"img":case"image":case"link":Lt("error",h),Lt("load",h);break;case"details":Lt("toggle",h);break;case"input":rt(h,v),Lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Lt("invalid",h);break;case"textarea":Pn(h,v),Lt("invalid",h)}hi(u,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var M=v[S];S==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&Rd(h.textContent,M,s),m=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&Rd(h.textContent,M,s),m=["children",""+M]):i.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&Lt("scroll",h)}switch(u){case"input":St(h),Pr(h,v,!0);break;case"textarea":St(h),an(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=bd)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ue(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=S.createElement(u,{is:h.is}):(s=S.createElement(u),u==="select"&&(S=s,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):s=S.createElementNS(s,u),s[Ci]=o,s[Nu]=h,Zw(s,o,!1,!1),o.stateNode=s;e:{switch(S=Do(u,h),u){case"dialog":Lt("cancel",s),Lt("close",s),m=h;break;case"iframe":case"object":case"embed":Lt("load",s),m=h;break;case"video":case"audio":for(m=0;m<Au.length;m++)Lt(Au[m],s);m=h;break;case"source":Lt("error",s),m=h;break;case"img":case"image":case"link":Lt("error",s),Lt("load",s),m=h;break;case"details":Lt("toggle",s),m=h;break;case"input":rt(s,h),m=Kt(s,h),Lt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Lt("invalid",s);break;case"textarea":Pn(s,h),m=er(s,h),Lt("invalid",s);break;default:m=h}hi(u,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var j=M[v];v==="style"?gn(s,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&mn(s,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&zn(s,j):typeof j=="number"&&zn(s,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Lt("scroll",s):j!=null&&z(s,v,j,S))}switch(u){case"input":St(s),Pr(s,h,!1);break;case"textarea":St(s),an(s);break;case"option":h.value!=null&&s.setAttribute("value",""+je(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?Zt(s,!!h.multiple,v,!1):h.defaultValue!=null&&Zt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=bd)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Mn(o),null;case 6:if(s&&o.stateNode!=null)tE(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=Ko(xu.current),Ko(Ai.current),Ld(o)){if(h=o.stateNode,u=o.memoizedProps,h[Ci]=o,(v=h.nodeValue!==u)&&(s=Ir,s!==null))switch(s.tag){case 3:Rd(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Rd(h.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Ci]=o,o.stateNode=h}return Mn(o),null;case 13:if(Mt(zt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ut&&Sr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)iw(),Za(),o.flags|=98560,v=!1;else if(v=Ld(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Ci]=o}else Za(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mn(o),v=!1}else ti!==null&&(Nm(ti),ti=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(zt.current&1)!==0?cn===0&&(cn=3):Dm())),o.updateQueue!==null&&(o.flags|=4),Mn(o),null);case 4:return rl(),vm(s,o),s===null&&Ru(o.stateNode.containerInfo),Mn(o),null;case 10:return Wp(o.type._context),Mn(o),null;case 17:return ar(o.type)&&kd(),Mn(o),null;case 19:if(Mt(zt),v=o.memoizedState,v===null)return Mn(o),null;if(h=(o.flags&128)!==0,S=v.rendering,S===null)if(h)Uu(v,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=Fd(s),S!==null){for(o.flags|=128,Uu(v,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)v=u,s=h,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,s=S.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return xt(zt,zt.current&1|2),o.child}s=s.sibling}v.tail!==null&&ct()>al&&(o.flags|=128,h=!0,Uu(v,!1),o.lanes=4194304)}else{if(!h)if(s=Fd(S),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Uu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Ut)return Mn(o),null}else 2*ct()-v.renderingStartTime>al&&u!==1073741824&&(o.flags|=128,h=!0,Uu(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(u=v.last,u!==null?u.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=zt.current,xt(zt,h?u&1|2:u&1),o):(Mn(o),null);case 22:case 23:return Pm(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Cr&1073741824)!==0&&(Mn(o),o.subtreeFlags&6&&(o.flags|=8192)):Mn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Pk(s,o){switch(jp(o),o.tag){case 1:return ar(o.type)&&kd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return rl(),Mt(or),Mt(xn),Zp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Xp(o),null;case 13:if(Mt(zt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Za()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Mt(zt),null;case 4:return rl(),null;case 10:return Wp(o.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var Yd=!1,Vn=!1,Dk=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function sl(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Qt(s,o,h)}else u.current=null}function _m(s,o,u){try{u()}catch(h){Qt(s,o,h)}}var nE=!1;function Ok(s,o){if(Pp=xs,s=x_(),Ip(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,M=-1,j=-1,J=0,ue=0,de=s,ae=null;t:for(;;){for(var Ce;de!==u||m!==0&&de.nodeType!==3||(M=S+m),de!==v||h!==0&&de.nodeType!==3||(j=S+h),de.nodeType===3&&(S+=de.nodeValue.length),(Ce=de.firstChild)!==null;)ae=de,de=Ce;for(;;){if(de===s)break t;if(ae===u&&++J===m&&(M=S),ae===v&&++ue===h&&(j=S),(Ce=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=Ce}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dp={focusedElem:s,selectionRange:u},xs=!1,Oe=o;Oe!==null;)if(o=Oe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Oe=s;else for(;Oe!==null;){o=Oe;try{var Me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ve=Me.memoizedProps,Xt=Me.memoizedState,Q=o.stateNode,B=Q.getSnapshotBeforeUpdate(o.elementType===o.type?Ve:ni(o.type,Ve),Xt);Q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Qt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Oe=s;break}Oe=o.return}return Me=nE,nE=!1,Me}function ju(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&_m(o,u,v)}m=m.next}while(m!==h)}}function Xd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function wm(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function rE(s){var o=s.alternate;o!==null&&(s.alternate=null,rE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ci],delete o[Nu],delete o[Mp],delete o[mk],delete o[gk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function iE(s){return s.tag===5||s.tag===3||s.tag===4}function sE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||iE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Em(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=bd));else if(h!==4&&(s=s.child,s!==null))for(Em(s,o,u),s=s.sibling;s!==null;)Em(s,o,u),s=s.sibling}function Tm(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Tm(s,o,u),s=s.sibling;s!==null;)Tm(s,o,u),s=s.sibling}var Cn=null,ri=!1;function Hs(s,o,u){for(u=u.child;u!==null;)oE(s,o,u),u=u.sibling}function oE(s,o,u){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 5:Vn||sl(u,o);case 6:var h=Cn,m=ri;Cn=null,Hs(s,o,u),Cn=h,ri=m,Cn!==null&&(ri?(s=Cn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Cn.removeChild(u.stateNode));break;case 18:Cn!==null&&(ri?(s=Cn,u=u.stateNode,s.nodeType===8?Lp(s.parentNode,u):s.nodeType===1&&Lp(s,u),Jr(s)):Lp(Cn,u.stateNode));break;case 4:h=Cn,m=ri,Cn=u.stateNode.containerInfo,ri=!0,Hs(s,o,u),Cn=h,ri=m;break;case 0:case 11:case 14:case 15:if(!Vn&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&_m(u,o,S),m=m.next}while(m!==h)}Hs(s,o,u);break;case 1:if(!Vn&&(sl(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(M){Qt(u,o,M)}Hs(s,o,u);break;case 21:Hs(s,o,u);break;case 22:u.mode&1?(Vn=(h=Vn)||u.memoizedState!==null,Hs(s,o,u),Vn=h):Hs(s,o,u);break;default:Hs(s,o,u)}}function aE(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Dk),o.forEach(function(h){var m=Bk.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}}function ii(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var v=s,S=o,M=S;e:for(;M!==null;){switch(M.tag){case 5:Cn=M.stateNode,ri=!1;break e;case 3:Cn=M.stateNode.containerInfo,ri=!0;break e;case 4:Cn=M.stateNode.containerInfo,ri=!0;break e}M=M.return}if(Cn===null)throw Error(t(160));oE(v,S,m),Cn=null,ri=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(J){Qt(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)lE(o,s),o=o.sibling}function lE(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ii(o,s),bi(s),h&4){try{ju(3,s,s.return),Xd(3,s)}catch(Ve){Qt(s,s.return,Ve)}try{ju(5,s,s.return)}catch(Ve){Qt(s,s.return,Ve)}}break;case 1:ii(o,s),bi(s),h&512&&u!==null&&sl(u,u.return);break;case 5:if(ii(o,s),bi(s),h&512&&u!==null&&sl(u,u.return),s.flags&32){var m=s.stateNode;try{zn(m,"")}catch(Ve){Qt(s,s.return,Ve)}}if(h&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,S=u!==null?u.memoizedProps:v,M=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&Ft(m,v),Do(M,S);var J=Do(M,v);for(S=0;S<j.length;S+=2){var ue=j[S],de=j[S+1];ue==="style"?gn(m,de):ue==="dangerouslySetInnerHTML"?mn(m,de):ue==="children"?zn(m,de):z(m,ue,de,J)}switch(M){case"input":pn(m,v);break;case"textarea":Dt(m,v);break;case"select":var ae=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?Zt(m,!!v.multiple,Ce,!1):ae!==!!v.multiple&&(v.defaultValue!=null?Zt(m,!!v.multiple,v.defaultValue,!0):Zt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Nu]=v}catch(Ve){Qt(s,s.return,Ve)}}break;case 6:if(ii(o,s),bi(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(Ve){Qt(s,s.return,Ve)}}break;case 3:if(ii(o,s),bi(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Jr(o.containerInfo)}catch(Ve){Qt(s,s.return,Ve)}break;case 4:ii(o,s),bi(s);break;case 13:ii(o,s),bi(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Cm=ct())),h&4&&aE(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(Vn=(J=Vn)||ue,ii(o,s),Vn=J):ii(o,s),bi(s),h&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ue&&(s.mode&1)!==0)for(Oe=s,ue=s.child;ue!==null;){for(de=Oe=ue;Oe!==null;){switch(ae=Oe,Ce=ae.child,ae.tag){case 0:case 11:case 14:case 15:ju(4,ae,ae.return);break;case 1:sl(ae,ae.return);var Me=ae.stateNode;if(typeof Me.componentWillUnmount=="function"){h=ae,u=ae.return;try{o=h,Me.props=o.memoizedProps,Me.state=o.memoizedState,Me.componentWillUnmount()}catch(Ve){Qt(h,u,Ve)}}break;case 5:sl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){dE(de);continue}}Ce!==null?(Ce.return=ae,Oe=Ce):dE(de)}ue=ue.sibling}e:for(ue=null,de=s;;){if(de.tag===5){if(ue===null){ue=de;try{m=de.stateNode,J?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=de.stateNode,j=de.memoizedProps.style,S=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=ot("display",S))}catch(Ve){Qt(s,s.return,Ve)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=J?"":de.memoizedProps}catch(Ve){Qt(s,s.return,Ve)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:ii(o,s),bi(s),h&4&&aE(s);break;case 21:break;default:ii(o,s),bi(s)}}function bi(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(iE(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(zn(m,""),h.flags&=-33);var v=sE(s);Tm(s,v,m);break;case 3:case 4:var S=h.stateNode.containerInfo,M=sE(s);Em(s,M,S);break;default:throw Error(t(161))}}catch(j){Qt(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function xk(s,o,u){Oe=s,uE(s)}function uE(s,o,u){for(var h=(s.mode&1)!==0;Oe!==null;){var m=Oe,v=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Yd;if(!S){var M=m.alternate,j=M!==null&&M.memoizedState!==null||Vn;M=Yd;var J=Vn;if(Yd=S,(Vn=j)&&!J)for(Oe=m;Oe!==null;)S=Oe,j=S.child,S.tag===22&&S.memoizedState!==null?fE(m):j!==null?(j.return=S,Oe=j):fE(m);for(;v!==null;)Oe=v,uE(v),v=v.sibling;Oe=m,Yd=M,Vn=J}cE(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Oe=v):cE(s)}}function cE(s){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Vn||Xd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Vn)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ni(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&dw(o,v,h);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}dw(o,S,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var ue=J.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&Jr(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vn||o.flags&512&&wm(o)}catch(ae){Qt(o,o.return,ae)}}if(o===s){Oe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function dE(s){for(;Oe!==null;){var o=Oe;if(o===s){Oe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function fE(s){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Xd(4,o)}catch(j){Qt(o,u,j)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(j){Qt(o,m,j)}}var v=o.return;try{wm(o)}catch(j){Qt(o,v,j)}break;case 5:var S=o.return;try{wm(o)}catch(j){Qt(o,S,j)}}}catch(j){Qt(o,o.return,j)}if(o===s){Oe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Oe=M;break}Oe=o.return}}var Lk=Math.ceil,Jd=W.ReactCurrentDispatcher,Im=W.ReactCurrentOwner,jr=W.ReactCurrentBatchConfig,wt=0,_n=null,nn=null,An=0,Cr=0,ol=$s(0),cn=0,Fu=null,Qo=0,Zd=0,Sm=0,Bu=null,ur=null,Cm=0,al=1/0,Xi=null,ef=!1,Am=null,zs=null,tf=!1,qs=null,nf=0,Hu=0,Rm=null,rf=-1,sf=0;function Gn(){return(wt&6)!==0?ct():rf!==-1?rf:rf=ct()}function Ws(s){return(s.mode&1)===0?1:(wt&2)!==0&&An!==0?An&-An:vk.transition!==null?(sf===0&&(sf=Vo()),sf):(s=gt,s!==0||(s=window.event,s=s===void 0?16:yu(s.type)),s)}function si(s,o,u,h){if(50<Hu)throw Hu=0,Rm=null,Error(t(185));ks(s,u,h),((wt&2)===0||s!==_n)&&(s===_n&&((wt&2)===0&&(Zd|=u),cn===4&&Ks(s,An)),cr(s,h),u===1&&wt===0&&(o.mode&1)===0&&(al=ct()+500,Dd&&js()))}function cr(s,o){var u=s.callbackNode;Ui(s,o);var h=Mo(s,s===_n?An:0);if(h===0)u!==null&&Dr(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&Dr(u),o===1)s.tag===0?yk(pE.bind(null,s)):Z_(pE.bind(null,s)),hk(function(){(wt&6)===0&&js()}),u=null;else{switch(Ds(h)){case 1:u=_r;break;case 4:u=On;break;case 16:u=Tn;break;case 536870912:u=dt;break;default:u=Tn}u=TE(u,hE.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function hE(s,o){if(rf=-1,sf=0,(wt&6)!==0)throw Error(t(327));var u=s.callbackNode;if(ll()&&s.callbackNode!==u)return null;var h=Mo(s,s===_n?An:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=of(s,h);else{o=h;var m=wt;wt|=2;var v=gE();(_n!==s||An!==o)&&(Xi=null,al=ct()+500,Xo(s,o));do try{$k();break}catch(M){mE(s,M)}while(!0);qp(),Jd.current=v,wt=m,nn!==null?o=0:(_n=null,An=0,o=cn)}if(o!==0){if(o===2&&(m=wr(s),m!==0&&(h=m,o=bm(s,m))),o===1)throw u=Fu,Xo(s,0),Ks(s,h),cr(s,ct()),u;if(o===6)Ks(s,h);else{if(m=s.current.alternate,(h&30)===0&&!Mk(m)&&(o=of(s,h),o===2&&(v=wr(s),v!==0&&(h=v,o=bm(s,v))),o===1))throw u=Fu,Xo(s,0),Ks(s,h),cr(s,ct()),u;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Jo(s,ur,Xi);break;case 3:if(Ks(s,h),(h&130023424)===h&&(o=Cm+500-ct(),10<o)){if(Mo(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Gn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=xp(Jo.bind(null,s,ur,Xi),o);break}Jo(s,ur,Xi);break;case 4:if(Ks(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var S=31-ft(h);v=1<<S,S=o[S],S>m&&(m=S),h&=~v}if(h=m,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Lk(h/1960))-h,10<h){s.timeoutHandle=xp(Jo.bind(null,s,ur,Xi),h);break}Jo(s,ur,Xi);break;case 5:Jo(s,ur,Xi);break;default:throw Error(t(329))}}}return cr(s,ct()),s.callbackNode===u?hE.bind(null,s):null}function bm(s,o){var u=Bu;return s.current.memoizedState.isDehydrated&&(Xo(s,o).flags|=256),s=of(s,o),s!==2&&(o=ur,ur=u,o!==null&&Nm(o)),s}function Nm(s){ur===null?ur=s:ur.push.apply(ur,s)}function Mk(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],v=m.getSnapshot;m=m.value;try{if(!ei(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ks(s,o){for(o&=~Sm,o&=~Zd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ft(o),h=1<<u;s[u]=-1,o&=~h}}function pE(s){if((wt&6)!==0)throw Error(t(327));ll();var o=Mo(s,0);if((o&1)===0)return cr(s,ct()),null;var u=of(s,o);if(s.tag!==0&&u===2){var h=wr(s);h!==0&&(o=h,u=bm(s,h))}if(u===1)throw u=Fu,Xo(s,0),Ks(s,o),cr(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Jo(s,ur,Xi),cr(s,ct()),null}function km(s,o){var u=wt;wt|=1;try{return s(o)}finally{wt=u,wt===0&&(al=ct()+500,Dd&&js())}}function Yo(s){qs!==null&&qs.tag===0&&(wt&6)===0&&ll();var o=wt;wt|=1;var u=jr.transition,h=gt;try{if(jr.transition=null,gt=1,s)return s()}finally{gt=h,jr.transition=u,wt=o,(wt&6)===0&&js()}}function Pm(){Cr=ol.current,Mt(ol)}function Xo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,fk(u)),nn!==null)for(u=nn.return;u!==null;){var h=u;switch(jp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&kd();break;case 3:rl(),Mt(or),Mt(xn),Zp();break;case 5:Xp(h);break;case 4:rl();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Wp(h.type._context);break;case 22:case 23:Pm()}u=u.return}if(_n=s,nn=s=Gs(s.current,null),An=Cr=o,cn=0,Fu=null,Sm=Zd=Qo=0,ur=Bu=null,Wo!==null){for(o=0;o<Wo.length;o++)if(u=Wo[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,v=u.pending;if(v!==null){var S=v.next;v.next=m,h.next=S}u.pending=h}Wo=null}return s}function mE(s,o){do{var u=nn;try{if(qp(),Bd.current=Wd,Hd){for(var h=qt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Hd=!1}if(Go=0,vn=un=qt=null,Lu=!1,Mu=0,Im.current=null,u===null||u.return===null){cn=1,Fu=o,nn=null;break}e:{var v=s,S=u.return,M=u,j=o;if(o=An,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=j,ue=M,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var ae=ue.alternate;ae?(ue.updateQueue=ae.updateQueue,ue.memoizedState=ae.memoizedState,ue.lanes=ae.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Ce=jw(S);if(Ce!==null){Ce.flags&=-257,Fw(Ce,S,M,v,o),Ce.mode&1&&Uw(v,J,o),o=Ce,j=J;var Me=o.updateQueue;if(Me===null){var Ve=new Set;Ve.add(j),o.updateQueue=Ve}else Me.add(j);break e}else{if((o&1)===0){Uw(v,J,o),Dm();break e}j=Error(t(426))}}else if(Ut&&M.mode&1){var Xt=jw(S);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),Fw(Xt,S,M,v,o),Hp(il(j,M));break e}}v=j=il(j,M),cn!==4&&(cn=2),Bu===null?Bu=[v]:Bu.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var Q=Vw(v,j,o);cw(v,Q);break e;case 1:M=j;var B=v.type,Y=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(zs===null||!zs.has(Y)))){v.flags|=65536,o&=-o,v.lanes|=o;var he=$w(v,M,o);cw(v,he);break e}}v=v.return}while(v!==null)}vE(u)}catch($e){o=$e,nn===u&&u!==null&&(nn=u=u.return);continue}break}while(!0)}function gE(){var s=Jd.current;return Jd.current=Wd,s===null?Wd:s}function Dm(){(cn===0||cn===3||cn===2)&&(cn=4),_n===null||(Qo&268435455)===0&&(Zd&268435455)===0||Ks(_n,An)}function of(s,o){var u=wt;wt|=2;var h=gE();(_n!==s||An!==o)&&(Xi=null,Xo(s,o));do try{Vk();break}catch(m){mE(s,m)}while(!0);if(qp(),wt=u,Jd.current=h,nn!==null)throw Error(t(261));return _n=null,An=0,cn}function Vk(){for(;nn!==null;)yE(nn)}function $k(){for(;nn!==null&&!yi();)yE(nn)}function yE(s){var o=EE(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,o===null?vE(s):nn=o,Im.current=null}function vE(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=kk(u,o,Cr),u!==null){nn=u;return}}else{if(u=Pk(u,o),u!==null){u.flags&=32767,nn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,nn=null;return}}if(o=o.sibling,o!==null){nn=o;return}nn=o=s}while(o!==null);cn===0&&(cn=5)}function Jo(s,o,u){var h=gt,m=jr.transition;try{jr.transition=null,gt=1,Uk(s,o,u,h)}finally{jr.transition=m,gt=h}return null}function Uk(s,o,u,h){do ll();while(qs!==null);if((wt&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Pt(s,v),s===_n&&(nn=_n=null,An=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||tf||(tf=!0,TE(Tn,function(){return ll(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=jr.transition,jr.transition=null;var S=gt;gt=1;var M=wt;wt|=4,Im.current=null,Ok(s,u),lE(u,s),sk(Dp),xs=!!Pp,Dp=Pp=null,s.current=u,xk(u),vr(),wt=M,gt=S,jr.transition=v}else s.current=u;if(tf&&(tf=!1,qs=s,nf=m),v=s.pendingLanes,v===0&&(zs=null),_i(u.stateNode),cr(s,ct()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(ef)throw ef=!1,s=Am,Am=null,s;return(nf&1)!==0&&s.tag!==0&&ll(),v=s.pendingLanes,(v&1)!==0?s===Rm?Hu++:(Hu=0,Rm=s):Hu=0,js(),null}function ll(){if(qs!==null){var s=Ds(nf),o=jr.transition,u=gt;try{if(jr.transition=null,gt=16>s?16:s,qs===null)var h=!1;else{if(s=qs,qs=null,nf=0,(wt&6)!==0)throw Error(t(331));var m=wt;for(wt|=4,Oe=s.current;Oe!==null;){var v=Oe,S=v.child;if((Oe.flags&16)!==0){var M=v.deletions;if(M!==null){for(var j=0;j<M.length;j++){var J=M[j];for(Oe=J;Oe!==null;){var ue=Oe;switch(ue.tag){case 0:case 11:case 15:ju(8,ue,v)}var de=ue.child;if(de!==null)de.return=ue,Oe=de;else for(;Oe!==null;){ue=Oe;var ae=ue.sibling,Ce=ue.return;if(rE(ue),ue===J){Oe=null;break}if(ae!==null){ae.return=Ce,Oe=ae;break}Oe=Ce}}}var Me=v.alternate;if(Me!==null){var Ve=Me.child;if(Ve!==null){Me.child=null;do{var Xt=Ve.sibling;Ve.sibling=null,Ve=Xt}while(Ve!==null)}}Oe=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,Oe=S;else e:for(;Oe!==null;){if(v=Oe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ju(9,v,v.return)}var Q=v.sibling;if(Q!==null){Q.return=v.return,Oe=Q;break e}Oe=v.return}}var B=s.current;for(Oe=B;Oe!==null;){S=Oe;var Y=S.child;if((S.subtreeFlags&2064)!==0&&Y!==null)Y.return=S,Oe=Y;else e:for(S=B;Oe!==null;){if(M=Oe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Xd(9,M)}}catch($e){Qt(M,M.return,$e)}if(M===S){Oe=null;break e}var he=M.sibling;if(he!==null){he.return=M.return,Oe=he;break e}Oe=M.return}}if(wt=m,js(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ct,s)}catch{}h=!0}return h}finally{gt=u,jr.transition=o}}return!1}function _E(s,o,u){o=il(u,o),o=Vw(s,o,1),s=Bs(s,o,1),o=Gn(),s!==null&&(ks(s,1,o),cr(s,o))}function Qt(s,o,u){if(s.tag===3)_E(s,s,u);else for(;o!==null;){if(o.tag===3){_E(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zs===null||!zs.has(h))){s=il(u,s),s=$w(o,s,1),o=Bs(o,s,1),s=Gn(),o!==null&&(ks(o,1,s),cr(o,s));break}}o=o.return}}function jk(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=Gn(),s.pingedLanes|=s.suspendedLanes&u,_n===s&&(An&u)===u&&(cn===4||cn===3&&(An&130023424)===An&&500>ct()-Cm?Xo(s,0):Sm|=u),cr(s,o)}function wE(s,o){o===0&&((s.mode&1)===0?o=1:(o=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var u=Gn();s=Gi(s,o),s!==null&&(ks(s,o,u),cr(s,u))}function Fk(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),wE(s,u)}function Bk(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),wE(s,u)}var EE;EE=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||or.current)lr=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return lr=!1,Nk(s,o,u);lr=(s.flags&131072)!==0}else lr=!1,Ut&&(o.flags&1048576)!==0&&ew(o,xd,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Qd(s,o),s=o.pendingProps;var m=Ya(o,xn.current);nl(o,u),m=nm(null,o,h,s,m,u);var v=rm();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ar(h)?(v=!0,Pd(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Qp(o),m.updater=Kd,o.stateNode=m,m._reactInternals=o,um(o,h,s,u),o=hm(null,o,h,!0,v,u)):(o.tag=0,Ut&&v&&Up(o),Kn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Qd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=zk(h),s=ni(h,s),m){case 0:o=fm(null,o,h,s,u);break e;case 1:o=Kw(null,o,h,s,u);break e;case 11:o=Bw(null,o,h,s,u);break e;case 14:o=Hw(null,o,h,ni(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ni(h,m),fm(s,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ni(h,m),Kw(s,o,h,m,u);case 3:e:{if(Gw(o),s===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,m=v.element,uw(s,o),jd(o,h,null,u);var S=o.memoizedState;if(h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=il(Error(t(423)),o),o=Qw(s,o,h,u,m);break e}else if(h!==m){m=il(Error(t(424)),o),o=Qw(s,o,h,u,m);break e}else for(Sr=Vs(o.stateNode.containerInfo.firstChild),Ir=o,Ut=!0,ti=null,u=aw(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Za(),h===m){o=Yi(s,o,u);break e}Kn(s,o,h,u)}o=o.child}return o;case 5:return fw(o),s===null&&Bp(o),h=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,S=m.children,Op(h,m)?S=null:v!==null&&Op(h,v)&&(o.flags|=32),Ww(s,o),Kn(s,o,S,u),o.child;case 6:return s===null&&Bp(o),null;case 13:return Yw(s,o,u);case 4:return Yp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=el(o,null,h,u):Kn(s,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ni(h,m),Bw(s,o,h,m,u);case 7:return Kn(s,o,o.pendingProps,u),o.child;case 8:return Kn(s,o,o.pendingProps.children,u),o.child;case 12:return Kn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,S=m.value,xt(Vd,h._currentValue),h._currentValue=S,v!==null)if(ei(v.value,S)){if(v.children===m.children&&!or.current){o=Yi(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){S=v.child;for(var j=M.firstContext;j!==null;){if(j.context===h){if(v.tag===1){j=Qi(-1,u&-u),j.tag=2;var J=v.updateQueue;if(J!==null){J=J.shared;var ue=J.pending;ue===null?j.next=j:(j.next=ue.next,ue.next=j),J.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Kp(v.return,u,o),M.lanes|=u;break}j=j.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=u,M=S.alternate,M!==null&&(M.lanes|=u),Kp(S,u,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Kn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,nl(o,u),m=$r(m),h=h(m),o.flags|=1,Kn(s,o,h,u),o.child;case 14:return h=o.type,m=ni(h,o.pendingProps),m=ni(h.type,m),Hw(s,o,h,m,u);case 15:return zw(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ni(h,m),Qd(s,o),o.tag=1,ar(h)?(s=!0,Pd(o)):s=!1,nl(o,u),Lw(o,h,m),um(o,h,m,u),hm(null,o,h,!0,s,u);case 19:return Jw(s,o,u);case 22:return qw(s,o,u)}throw Error(t(156,o.tag))};function TE(s,o){return Rt(s,o)}function Hk(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,o,u,h){return new Hk(s,o,u,h)}function Om(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zk(s){if(typeof s=="function")return Om(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Le)return 14}return 2}function Gs(s,o){var u=s.alternate;return u===null?(u=Fr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function af(s,o,u,h,m,v){var S=2;if(h=s,typeof s=="function")Om(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case I:return Zo(u.children,m,v,o);case R:S=8,m|=8;break;case P:return s=Fr(12,u,o,m|2),s.elementType=P,s.lanes=v,s;case D:return s=Fr(13,u,o,m),s.elementType=D,s.lanes=v,s;case we:return s=Fr(19,u,o,m),s.elementType=we,s.lanes=v,s;case Ne:return lf(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:S=10;break e;case L:S=9;break e;case V:S=11;break e;case Le:S=14;break e;case He:S=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Fr(S,u,o,m),o.elementType=s,o.type=h,o.lanes=v,o}function Zo(s,o,u,h){return s=Fr(7,s,h,o),s.lanes=u,s}function lf(s,o,u,h){return s=Fr(22,s,h,o),s.elementType=Ne,s.lanes=u,s.stateNode={isHidden:!1},s}function xm(s,o,u){return s=Fr(6,s,null,o),s.lanes=u,s}function Lm(s,o,u){return o=Fr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function qk(s,o,u,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ns(0),this.expirationTimes=Ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Mm(s,o,u,h,m,v,S,M,j){return s=new qk(s,o,u,M,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Fr(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(v),s}function Wk(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function IE(s){if(!s)return Us;s=s._reactInternals;e:{if(De(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ar(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(ar(u))return X_(s,u,o)}return o}function SE(s,o,u,h,m,v,S,M,j){return s=Mm(u,h,!0,s,m,v,S,M,j),s.context=IE(null),u=s.current,h=Gn(),m=Ws(u),v=Qi(h,m),v.callback=o??null,Bs(u,v,m),s.current.lanes=m,ks(s,m,h),cr(s,h),s}function uf(s,o,u,h){var m=o.current,v=Gn(),S=Ws(m);return u=IE(u),o.context===null?o.context=u:o.pendingContext=u,o=Qi(v,S),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Bs(m,o,S),s!==null&&(si(s,m,S,v),Ud(s,m,S)),S}function cf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function CE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Vm(s,o){CE(s,o),(s=s.alternate)&&CE(s,o)}function Kk(){return null}var AE=typeof reportError=="function"?reportError:function(s){console.error(s)};function $m(s){this._internalRoot=s}df.prototype.render=$m.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));uf(s,o,null,null)},df.prototype.unmount=$m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Yo(function(){uf(null,s,null,null)}),o[zi]=null}};function df(s){this._internalRoot=s}df.prototype.unstable_scheduleHydration=function(s){if(s){var o=cd();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Ei.length&&o!==0&&o<Ei[u].priority;u++);Ei.splice(u,0,s),u===0&&hd(s)}};function Um(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ff(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function RE(){}function Gk(s,o,u,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var J=cf(S);v.call(J)}}var S=SE(o,h,s,0,null,!1,!1,"",RE);return s._reactRootContainer=S,s[zi]=S.current,Ru(s.nodeType===8?s.parentNode:s),Yo(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var M=h;h=function(){var J=cf(j);M.call(J)}}var j=Mm(s,0,!1,null,null,!1,!1,"",RE);return s._reactRootContainer=j,s[zi]=j.current,Ru(s.nodeType===8?s.parentNode:s),Yo(function(){uf(o,j,u,h)}),j}function hf(s,o,u,h,m){var v=u._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var M=m;m=function(){var j=cf(S);M.call(j)}}uf(o,S,s,m)}else S=Gk(u,o,s,m,h);return cf(S)}ld=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=bs(o.pendingLanes);u!==0&&(Ps(o,u|1),cr(o,ct()),(wt&6)===0&&(al=ct()+500,js()))}break;case 13:Yo(function(){var h=Gi(s,1);if(h!==null){var m=Gn();si(h,s,1,m)}}),Vm(s,1)}},Da=function(s){if(s.tag===13){var o=Gi(s,134217728);if(o!==null){var u=Gn();si(o,s,134217728,u)}Vm(s,134217728)}},ud=function(s){if(s.tag===13){var o=Ws(s),u=Gi(s,o);if(u!==null){var h=Gn();si(u,s,o,h)}Vm(s,o)}},cd=function(){return gt},dd=function(s,o){var u=gt;try{return gt=s,o()}finally{gt=u}},$i=function(s,o,u){switch(o){case"input":if(pn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var m=Nd(h);if(!m)throw Error(t(90));it(h),pn(h,m)}}}break;case"textarea":Dt(s,u);break;case"select":o=u.value,o!=null&&Zt(s,!!u.multiple,o,!1)}},mi=km,gi=Yo;var Qk={usingClientEntryPoint:!1,Events:[ku,Ga,Nd,yr,Oo,km]},zu={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yk={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tt(s),s===null?null:s.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||Kk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{Ct=pf.inject(Yk),en=pf}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qk,dr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(o))throw Error(t(200));return Wk(s,o,null,u)},dr.createRoot=function(s,o){if(!Um(s))throw Error(t(299));var u=!1,h="",m=AE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Mm(s,1,!1,null,null,u,!1,h,m),s[zi]=o.current,Ru(s.nodeType===8?s.parentNode:s),new $m(o)},dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Tt(o),s=s===null?null:s.stateNode,s},dr.flushSync=function(s){return Yo(s)},dr.hydrate=function(s,o,u){if(!ff(o))throw Error(t(200));return hf(null,s,o,!0,u)},dr.hydrateRoot=function(s,o,u){if(!Um(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,v="",S=AE;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=SE(o,null,s,1,u??null,m,!1,v,S),s[zi]=o.current,Ru(s),h)for(s=0;s<h.length;s++)u=h[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new df(o)},dr.render=function(s,o,u){if(!ff(o))throw Error(t(200));return hf(null,s,o,!1,u)},dr.unmountComponentAtNode=function(s){if(!ff(s))throw Error(t(40));return s._reactRootContainer?(Yo(function(){hf(null,null,s,!1,function(){s._reactRootContainer=null,s[zi]=null})}),!0):!1},dr.unstable_batchedUpdates=km,dr.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!ff(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return hf(s,o,u,!1,h)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var OE;function tS(){if(OE)return Fm.exports;OE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fm.exports=nP(),Fm.exports}var xE;function rP(){if(xE)return mf;xE=1;var n=tS();return mf.createRoot=n.createRoot,mf.hydrateRoot=n.hydrateRoot,mf}var iP=rP(),Yn="top",br="bottom",Nr="right",Xn="left",Nh="auto",Xl=[Yn,br,Nr,Xn],fa="start",bl="end",nS="clippingParents",ky="viewport",pl="popper",rS="reference",Pg=Xl.reduce(function(n,e){return n.concat([e+"-"+fa,e+"-"+bl])},[]),Py=[].concat(Xl,[Nh]).reduce(function(n,e){return n.concat([e,e+"-"+fa,e+"-"+bl])},[]),iS="beforeRead",sS="read",oS="afterRead",aS="beforeMain",lS="main",uS="afterMain",cS="beforeWrite",dS="write",fS="afterWrite",hS=[iS,sS,oS,aS,lS,uS,cS,dS,fS];function Li(n){return n?(n.nodeName||"").toLowerCase():null}function kr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ha(n){var e=kr(n).Element;return n instanceof e||n instanceof Element}function Hr(n){var e=kr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Dy(n){if(typeof ShadowRoot>"u")return!1;var e=kr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function sP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!Hr(a)||!Li(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function oP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=l.reduce(function(f,p){return f[p]="",f},{});!Hr(i)||!Li(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(f){i.removeAttribute(f)}))})}}const Oy={name:"applyStyles",enabled:!0,phase:"write",fn:sP,effect:oP,requires:["computeStyles"]};function ki(n){return n.split("-")[0]}var ca=Math.max,Xf=Math.min,Nl=Math.round;function Dg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pS(){return!/^((?!chrome|android).)*safari/i.test(Dg())}function kl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&Hr(n)&&(i=n.offsetWidth>0&&Nl(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Nl(r.height)/n.offsetHeight||1);var l=ha(n)?kr(n):window,c=l.visualViewport,f=!pS()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/i,g=(r.top+(f&&c?c.offsetTop:0))/a,_=r.width/i,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function xy(n){var e=kl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function mS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Dy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fs(n){return kr(n).getComputedStyle(n)}function aP(n){return["table","td","th"].indexOf(Li(n))>=0}function Ao(n){return((ha(n)?n.ownerDocument:n.document)||window.document).documentElement}function kh(n){return Li(n)==="html"?n:n.assignedSlot||n.parentNode||(Dy(n)?n.host:null)||Ao(n)}function LE(n){return!Hr(n)||fs(n).position==="fixed"?null:n.offsetParent}function lP(n){var e=/firefox/i.test(Dg()),t=/Trident/i.test(Dg());if(t&&Hr(n)){var r=fs(n);if(r.position==="fixed")return null}var i=kh(n);for(Dy(i)&&(i=i.host);Hr(i)&&["html","body"].indexOf(Li(i))<0;){var a=fs(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Oc(n){for(var e=kr(n),t=LE(n);t&&aP(t)&&fs(t).position==="static";)t=LE(t);return t&&(Li(t)==="html"||Li(t)==="body"&&fs(t).position==="static")?e:t||lP(n)||e}function Ly(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function lc(n,e,t){return ca(n,Xf(e,t))}function uP(n,e,t){var r=lc(n,e,t);return r>t?t:r}function gS(){return{top:0,right:0,bottom:0,left:0}}function yS(n){return Object.assign({},gS(),n)}function vS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var cP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,yS(typeof e!="number"?e:vS(e,Xl))};function dP(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,c=ki(t.placement),f=Ly(c),p=[Xn,Nr].indexOf(c)>=0,g=p?"height":"width";if(!(!a||!l)){var _=cP(i.padding,t),T=xy(a),A=f==="y"?Yn:Xn,k=f==="y"?br:Nr,x=t.rects.reference[g]+t.rects.reference[f]-l[f]-t.rects.popper[g],N=l[f]-t.rects.reference[f],H=Oc(a),$=H?f==="y"?H.clientHeight||0:H.clientWidth||0:0,z=x/2-N/2,W=_[A],Z=$-T[g]-_[k],K=$/2-T[g]/2+z,I=lc(W,K,Z),R=f;t.modifiersData[r]=(e={},e[R]=I,e.centerOffset=I-K,e)}}function fP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||mS(e.elements.popper,i)&&(e.elements.arrow=i))}const My={name:"arrow",enabled:!0,phase:"main",fn:dP,effect:fP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pl(n){return n.split("-")[1]}var hP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Nl(t*i)/i||0,y:Nl(r*i)/i||0}}function ME(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,A=T===void 0?0:T,k=l.y,x=k===void 0?0:k,N=typeof g=="function"?g({x:A,y:x}):{x:A,y:x};A=N.x,x=N.y;var H=l.hasOwnProperty("x"),$=l.hasOwnProperty("y"),z=Xn,W=Yn,Z=window;if(p){var K=Oc(t),I="clientHeight",R="clientWidth";if(K===kr(t)&&(K=Ao(t),fs(K).position!=="static"&&c==="absolute"&&(I="scrollHeight",R="scrollWidth")),K=K,i===Yn||(i===Xn||i===Nr)&&a===bl){W=br;var P=_&&K===Z&&Z.visualViewport?Z.visualViewport.height:K[I];x-=P-r.height,x*=f?1:-1}if(i===Xn||(i===Yn||i===br)&&a===bl){z=Nr;var O=_&&K===Z&&Z.visualViewport?Z.visualViewport.width:K[R];A-=O-r.width,A*=f?1:-1}}var L=Object.assign({position:c},p&&hP),V=g===!0?pP({x:A,y:x},kr(t)):{x:A,y:x};if(A=V.x,x=V.y,f){var D;return Object.assign({},L,(D={},D[W]=$?"0":"",D[z]=H?"0":"",D.transform=(Z.devicePixelRatio||1)<=1?"translate("+A+"px, "+x+"px)":"translate3d("+A+"px, "+x+"px, 0)",D))}return Object.assign({},L,(e={},e[W]=$?x+"px":"",e[z]=H?A+"px":"",e.transform="",e))}function mP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:ki(e.placement),variation:Pl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ME(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ME(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ph={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mP,data:{}};var gf={passive:!0};function gP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,f=kr(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,gf)}),c&&f.addEventListener("resize",t.update,gf),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,gf)}),c&&f.removeEventListener("resize",t.update,gf)}}const Dh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gP,data:{}};var yP={left:"right",right:"left",bottom:"top",top:"bottom"};function Lf(n){return n.replace(/left|right|bottom|top/g,function(e){return yP[e]})}var vP={start:"end",end:"start"};function VE(n){return n.replace(/start|end/g,function(e){return vP[e]})}function Vy(n){var e=kr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function $y(n){return kl(Ao(n)).left+Vy(n).scrollLeft}function _P(n,e){var t=kr(n),r=Ao(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;var p=pS();(p||!p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c+$y(n),y:f}}function wP(n){var e,t=Ao(n),r=Vy(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=ca(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ca(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+$y(n),f=-r.scrollTop;return fs(i||t).direction==="rtl"&&(c+=ca(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:f}}function Uy(n){var e=fs(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function _S(n){return["html","body","#document"].indexOf(Li(n))>=0?n.ownerDocument.body:Hr(n)&&Uy(n)?n:_S(kh(n))}function uc(n,e){var t;e===void 0&&(e=[]);var r=_S(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=kr(r),l=i?[a].concat(a.visualViewport||[],Uy(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(uc(kh(l)))}function Og(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function EP(n,e){var t=kl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function $E(n,e,t){return e===ky?Og(_P(n,t)):ha(e)?EP(e,t):Og(wP(Ao(n)))}function TP(n){var e=uc(kh(n)),t=["absolute","fixed"].indexOf(fs(n).position)>=0,r=t&&Hr(n)?Oc(n):n;return ha(r)?e.filter(function(i){return ha(i)&&mS(i,r)&&Li(i)!=="body"}):[]}function IP(n,e,t,r){var i=e==="clippingParents"?TP(n):[].concat(e),a=[].concat(i,[t]),l=a[0],c=a.reduce(function(f,p){var g=$E(n,p,r);return f.top=ca(g.top,f.top),f.right=Xf(g.right,f.right),f.bottom=Xf(g.bottom,f.bottom),f.left=ca(g.left,f.left),f},$E(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function wS(n){var e=n.reference,t=n.element,r=n.placement,i=r?ki(r):null,a=r?Pl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case Yn:f={x:l,y:e.y-t.height};break;case br:f={x:l,y:e.y+e.height};break;case Nr:f={x:e.x+e.width,y:c};break;case Xn:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=i?Ly(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case fa:f[p]=f[p]-(e[g]/2-t[g]/2);break;case bl:f[p]=f[p]+(e[g]/2-t[g]/2);break}}return f}function Dl(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,c=t.boundary,f=c===void 0?nS:c,p=t.rootBoundary,g=p===void 0?ky:p,_=t.elementContext,T=_===void 0?pl:_,A=t.altBoundary,k=A===void 0?!1:A,x=t.padding,N=x===void 0?0:x,H=yS(typeof N!="number"?N:vS(N,Xl)),$=T===pl?rS:pl,z=n.rects.popper,W=n.elements[k?$:T],Z=IP(ha(W)?W:W.contextElement||Ao(n.elements.popper),f,g,l),K=kl(n.elements.reference),I=wS({reference:K,element:z,placement:i}),R=Og(Object.assign({},z,I)),P=T===pl?R:K,O={top:Z.top-P.top+H.top,bottom:P.bottom-Z.bottom+H.bottom,left:Z.left-P.left+H.left,right:P.right-Z.right+H.right},L=n.modifiersData.offset;if(T===pl&&L){var V=L[i];Object.keys(O).forEach(function(D){var we=[Nr,br].indexOf(D)>=0?1:-1,Le=[Yn,br].indexOf(D)>=0?"y":"x";O[D]+=V[Le]*we})}return O}function SP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?Py:f,g=Pl(r),_=g?c?Pg:Pg.filter(function(k){return Pl(k)===g}):Xl,T=_.filter(function(k){return p.indexOf(k)>=0});T.length===0&&(T=_);var A=T.reduce(function(k,x){return k[x]=Dl(n,{placement:x,boundary:i,rootBoundary:a,padding:l})[ki(x)],k},{});return Object.keys(A).sort(function(k,x){return A[k]-A[x]})}function CP(n){if(ki(n)===Nh)return[];var e=Lf(n);return[VE(n),e,VE(e)]}function AP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,A=t.flipVariations,k=A===void 0?!0:A,x=t.allowedAutoPlacements,N=e.options.placement,H=ki(N),$=H===N,z=f||($||!k?[Lf(N)]:CP(N)),W=[N].concat(z).reduce(function(ve,Te){return ve.concat(ki(Te)===Nh?SP(e,{placement:Te,boundary:g,rootBoundary:_,padding:p,flipVariations:k,allowedAutoPlacements:x}):Te)},[]),Z=e.rects.reference,K=e.rects.popper,I=new Map,R=!0,P=W[0],O=0;O<W.length;O++){var L=W[O],V=ki(L),D=Pl(L)===fa,we=[Yn,br].indexOf(V)>=0,Le=we?"width":"height",He=Dl(e,{placement:L,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),Ne=we?D?Nr:Xn:D?br:Yn;Z[Le]>K[Le]&&(Ne=Lf(Ne));var ne=Lf(Ne),me=[];if(a&&me.push(He[V]<=0),c&&me.push(He[Ne]<=0,He[ne]<=0),me.every(function(ve){return ve})){P=L,R=!1;break}I.set(L,me)}if(R)for(var le=k?3:1,F=function(Te){var Ae=W.find(function(Ge){var je=I.get(Ge);if(je)return je.slice(0,Te).every(function(st){return st})});if(Ae)return P=Ae,"break"},ee=le;ee>0;ee--){var pe=F(ee);if(pe==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const jy={name:"flip",enabled:!0,phase:"main",fn:AP,requiresIfExists:["offset"],data:{_skip:!1}};function UE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function jE(n){return[Yn,Nr,br,Xn].some(function(e){return n[e]>=0})}function RP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=Dl(e,{elementContext:"reference"}),c=Dl(e,{altBoundary:!0}),f=UE(l,r),p=UE(c,i,a),g=jE(f),_=jE(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const Fy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RP};function bP(n,e,t){var r=ki(n),i=[Xn,Yn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[Xn,Nr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function NP(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=Py.reduce(function(g,_){return g[_]=bP(_,e.rects,a),g},{}),c=l[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const By={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NP};function kP(n){var e=n.state,t=n.name;e.modifiersData[t]=wS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Oh={name:"popperOffsets",enabled:!0,phase:"read",fn:kP,data:{}};function PP(n){return n==="x"?"y":"x"}function DP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,A=T===void 0?!0:T,k=t.tetherOffset,x=k===void 0?0:k,N=Dl(e,{boundary:f,rootBoundary:p,padding:_,altBoundary:g}),H=ki(e.placement),$=Pl(e.placement),z=!$,W=Ly(H),Z=PP(W),K=e.modifiersData.popperOffsets,I=e.rects.reference,R=e.rects.popper,P=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,O=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(K){if(a){var D,we=W==="y"?Yn:Xn,Le=W==="y"?br:Nr,He=W==="y"?"height":"width",Ne=K[W],ne=Ne+N[we],me=Ne-N[Le],le=A?-R[He]/2:0,F=$===fa?I[He]:R[He],ee=$===fa?-R[He]:-I[He],pe=e.elements.arrow,ve=A&&pe?xy(pe):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:gS(),Ae=Te[we],Ge=Te[Le],je=lc(0,I[He],ve[He]),st=z?I[He]/2-le-je-Ae-O.mainAxis:F-je-Ae-O.mainAxis,Et=z?-I[He]/2+le+je+Ge+O.mainAxis:ee+je+Ge+O.mainAxis,St=e.elements.arrow&&Oc(e.elements.arrow),it=St?W==="y"?St.clientTop||0:St.clientLeft||0:0,kt=(D=L==null?void 0:L[W])!=null?D:0,Kt=Ne+st-kt-it,rt=Ne+Et-kt,Ft=lc(A?Xf(ne,Kt):ne,Ne,A?ca(me,rt):me);K[W]=Ft,V[W]=Ft-Ne}if(c){var pn,Pr=W==="x"?Yn:Xn,Hn=W==="x"?br:Nr,Bt=K[Z],Zt=Z==="y"?"height":"width",er=Bt+N[Pr],Pn=Bt-N[Hn],Dt=[Yn,Xn].indexOf(H)!==-1,an=(pn=L==null?void 0:L[Z])!=null?pn:0,Ue=Dt?er:Bt-I[Zt]-R[Zt]-an+O.altAxis,mt=Dt?Bt+I[Zt]+R[Zt]-an-O.altAxis:Pn,Ot=A&&Dt?uP(Ue,Bt,mt):lc(A?Ue:er,Bt,A?mt:Pn);K[Z]=Ot,V[Z]=Ot-Bt}e.modifiersData[r]=V}}const Hy={name:"preventOverflow",enabled:!0,phase:"main",fn:DP,requiresIfExists:["offset"]};function OP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function xP(n){return n===kr(n)||!Hr(n)?Vy(n):OP(n)}function LP(n){var e=n.getBoundingClientRect(),t=Nl(e.width)/n.offsetWidth||1,r=Nl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function MP(n,e,t){t===void 0&&(t=!1);var r=Hr(e),i=Hr(e)&&LP(e),a=Ao(e),l=kl(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Li(e)!=="body"||Uy(a))&&(c=xP(e)),Hr(e)?(f=kl(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=$y(a))),{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}function VP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function $P(n){var e=VP(n);return hS.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function UP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function jP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var FE={placement:"bottom",modifiers:[],strategy:"absolute"};function BE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?FE:i;return function(c,f,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},FE,a),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},_=[],T=!1,A={state:g,setOptions:function(H){var $=typeof H=="function"?H(g.options):H;x(),g.options=Object.assign({},a,g.options,$),g.scrollParents={reference:ha(c)?uc(c):c.contextElement?uc(c.contextElement):[],popper:uc(f)};var z=$P(jP([].concat(r,g.options.modifiers)));return g.orderedModifiers=z.filter(function(W){return W.enabled}),k(),A.update()},forceUpdate:function(){if(!T){var H=g.elements,$=H.reference,z=H.popper;if(BE($,z)){g.rects={reference:MP($,Oc(z),g.options.strategy==="fixed"),popper:xy(z)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(O){return g.modifiersData[O.name]=Object.assign({},O.data)});for(var W=0;W<g.orderedModifiers.length;W++){if(g.reset===!0){g.reset=!1,W=-1;continue}var Z=g.orderedModifiers[W],K=Z.fn,I=Z.options,R=I===void 0?{}:I,P=Z.name;typeof K=="function"&&(g=K({state:g,options:R,name:P,instance:A})||g)}}}},update:UP(function(){return new Promise(function(N){A.forceUpdate(),N(g)})}),destroy:function(){x(),T=!0}};if(!BE(c,f))return A;A.setOptions(p).then(function(N){!T&&p.onFirstUpdate&&p.onFirstUpdate(N)});function k(){g.orderedModifiers.forEach(function(N){var H=N.name,$=N.options,z=$===void 0?{}:$,W=N.effect;if(typeof W=="function"){var Z=W({state:g,name:H,instance:A,options:z}),K=function(){};_.push(Z||K)}})}function x(){_.forEach(function(N){return N()}),_=[]}return A}}var FP=xc(),BP=[Dh,Oh,Ph,Oy],HP=xc({defaultModifiers:BP}),zP=[Dh,Oh,Ph,Oy,By,jy,Hy,My,Fy],zy=xc({defaultModifiers:zP});const ES=Object.freeze(Object.defineProperty({__proto__:null,afterMain:uS,afterRead:oS,afterWrite:fS,applyStyles:Oy,arrow:My,auto:Nh,basePlacements:Xl,beforeMain:aS,beforeRead:iS,beforeWrite:cS,bottom:br,clippingParents:nS,computeStyles:Ph,createPopper:zy,createPopperBase:FP,createPopperLite:HP,detectOverflow:Dl,end:bl,eventListeners:Dh,flip:jy,hide:Fy,left:Xn,main:lS,modifierPhases:hS,offset:By,placements:Py,popper:pl,popperGenerator:xc,popperOffsets:Oh,preventOverflow:Hy,read:sS,reference:rS,right:Nr,start:fa,top:Yn,variationPlacements:Pg,viewport:ky,write:dS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ys=new Map,zm={set(n,e,t){Ys.has(n)||Ys.set(n,new Map);const r=Ys.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Ys.has(n)&&Ys.get(n).get(e)||null},remove(n,e){if(!Ys.has(n))return;const t=Ys.get(n);t.delete(e),t.size===0&&Ys.delete(n)}},qP=1e6,WP=1e3,xg="transitionend",TS=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),KP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),GP=n=>{do n+=Math.floor(Math.random()*qP);while(document.getElementById(n));return n},QP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*WP)},IS=n=>{n.dispatchEvent(new Event(xg))},ss=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),mo=n=>ss(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(TS(n)):null,Jl=n=>{if(!ss(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},go=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",SS=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?SS(n.parentNode):null},Jf=()=>{},Lc=n=>{n.offsetHeight},CS=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,qm=[],YP=n=>{document.readyState==="loading"?(qm.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of qm)e()}),qm.push(n)):n()},zr=()=>document.documentElement.dir==="rtl",Wr=n=>{YP(()=>{const e=CS();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},mr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,AS=(n,e,t=!0)=>{if(!t){mr(n);return}const i=QP(e)+5;let a=!1;const l=({target:c})=>{c===e&&(a=!0,e.removeEventListener(xg,l),mr(n))};e.addEventListener(xg,l),setTimeout(()=>{a||IS(e)},i)},qy=(n,e,t,r)=>{const i=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[i-1]:n[0]:(a+=t?1:-1,r&&(a=(a+i)%i),n[Math.max(0,Math.min(a,i-1))])},XP=/[^.]*(?=\..*)\.|.*/,JP=/\..*/,ZP=/::\d+$/,Wm={};let HE=1;const RS={mouseenter:"mouseover",mouseleave:"mouseout"},eD=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function bS(n,e){return e&&`${e}::${HE++}`||n.uidEvent||HE++}function NS(n){const e=bS(n);return n.uidEvent=e,Wm[e]=Wm[e]||{},Wm[e]}function tD(n,e){return function t(r){return Wy(r,{delegateTarget:n}),t.oneOff&&ce.off(n,r.type,e),e.apply(n,[r])}}function nD(n,e,t){return function r(i){const a=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const c of a)if(c===l)return Wy(i,{delegateTarget:l}),r.oneOff&&ce.off(n,i.type,e,t),t.apply(l,[i])}}function kS(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function PS(n,e,t){const r=typeof e=="string",i=r?t:e||t;let a=DS(n);return eD.has(a)||(a=n),[r,i,a]}function zE(n,e,t,r,i){if(typeof e!="string"||!n)return;let[a,l,c]=PS(e,t,r);e in RS&&(l=(k=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return k.call(this,x)})(l));const f=NS(n),p=f[c]||(f[c]={}),g=kS(p,l,a?t:null);if(g){g.oneOff=g.oneOff&&i;return}const _=bS(l,e.replace(XP,"")),T=a?nD(n,t,l):tD(n,l);T.delegationSelector=a?t:null,T.callable=l,T.oneOff=i,T.uidEvent=_,p[_]=T,n.addEventListener(c,T,a)}function Lg(n,e,t,r,i){const a=kS(e[t],r,i);a&&(n.removeEventListener(t,a,!!i),delete e[t][a.uidEvent])}function rD(n,e,t,r){const i=e[t]||{};for(const[a,l]of Object.entries(i))a.includes(r)&&Lg(n,e,t,l.callable,l.delegationSelector)}function DS(n){return n=n.replace(JP,""),RS[n]||n}const ce={on(n,e,t,r){zE(n,e,t,r,!1)},one(n,e,t,r){zE(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,a,l]=PS(e,t,r),c=l!==e,f=NS(n),p=f[l]||{},g=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;Lg(n,f,l,a,i?t:null);return}if(g)for(const _ of Object.keys(f))rD(n,f,_,e.slice(1));for(const[_,T]of Object.entries(p)){const A=_.replace(ZP,"");(!c||e.includes(A))&&Lg(n,f,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=CS(),i=DS(e),a=e!==i;let l=null,c=!0,f=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),c=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const g=Wy(new Event(e,{bubbles:c,cancelable:!0}),t);return p&&g.preventDefault(),f&&n.dispatchEvent(g),g.defaultPrevented&&l&&l.preventDefault(),g}};function Wy(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function qE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Km(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const os={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Km(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Km(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=qE(n.dataset[r])}return e},getDataAttribute(n,e){return qE(n.getAttribute(`data-bs-${Km(e)}`))}};class Mc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=ss(t)?os.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...ss(t)?os.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const a=e[r],l=ss(a)?"element":KP(a);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}}const iD="5.3.3";class fi extends Mc{constructor(e,t){super(),e=mo(e),e&&(this._element=e,this._config=this._getConfig(t),zm.set(this._element,this.constructor.DATA_KEY,this))}dispose(){zm.remove(this._element,this.constructor.DATA_KEY),ce.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){AS(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return zm.get(mo(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return iD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Gm=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>TS(t)).join(","):null},qe={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!go(t)&&Jl(t))},getSelectorFromElement(n){const e=Gm(n);return e&&qe.findOne(e)?e:null},getElementFromSelector(n){const e=Gm(n);return e?qe.findOne(e):null},getMultipleElementsFromSelector(n){const e=Gm(n);return e?qe.find(e):[]}},xh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ce.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),go(this))return;const a=qe.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},sD="alert",oD="bs.alert",OS=`.${oD}`,aD=`close${OS}`,lD=`closed${OS}`,uD="fade",cD="show";let xS=class LS extends fi{static get NAME(){return sD}close(){if(ce.trigger(this._element,aD).defaultPrevented)return;this._element.classList.remove(cD);const t=this._element.classList.contains(uD);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ce.trigger(this._element,lD),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=LS.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};xh(xS,"close");Wr(xS);const dD="button",fD="bs.button",hD=`.${fD}`,pD=".data-api",mD="active",WE='[data-bs-toggle="button"]',gD=`click${hD}${pD}`;let MS=class VS extends fi{static get NAME(){return dD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(mD))}static jQueryInterface(e){return this.each(function(){const t=VS.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};ce.on(document,gD,WE,n=>{n.preventDefault();const e=n.target.closest(WE);MS.getOrCreateInstance(e).toggle()});Wr(MS);const yD="swipe",Zl=".bs.swipe",vD=`touchstart${Zl}`,_D=`touchmove${Zl}`,wD=`touchend${Zl}`,ED=`pointerdown${Zl}`,TD=`pointerup${Zl}`,ID="touch",SD="pen",CD="pointer-event",AD=40,RD={endCallback:null,leftCallback:null,rightCallback:null},bD={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Zf extends Mc{constructor(e,t){super(),this._element=e,!(!e||!Zf.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return RD}static get DefaultType(){return bD}static get NAME(){return yD}dispose(){ce.off(this._element,Zl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),mr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=AD)return;const t=e/this._deltaX;this._deltaX=0,t&&mr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ce.on(this._element,ED,e=>this._start(e)),ce.on(this._element,TD,e=>this._end(e)),this._element.classList.add(CD)):(ce.on(this._element,vD,e=>this._start(e)),ce.on(this._element,_D,e=>this._move(e)),ce.on(this._element,wD,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===SD||e.pointerType===ID)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ND="carousel",kD="bs.carousel",Ro=`.${kD}`,$S=".data-api",PD="ArrowLeft",DD="ArrowRight",OD=500,qu="next",ul="prev",ml="left",Mf="right",xD=`slide${Ro}`,Qm=`slid${Ro}`,LD=`keydown${Ro}`,MD=`mouseenter${Ro}`,VD=`mouseleave${Ro}`,$D=`dragstart${Ro}`,UD=`load${Ro}${$S}`,jD=`click${Ro}${$S}`,US="carousel",yf="active",FD="slide",BD="carousel-item-end",HD="carousel-item-start",zD="carousel-item-next",qD="carousel-item-prev",jS=".active",FS=".carousel-item",WD=jS+FS,KD=".carousel-item img",GD=".carousel-indicators",QD="[data-bs-slide], [data-bs-slide-to]",YD='[data-bs-ride="carousel"]',XD={[PD]:Mf,[DD]:ml},JD={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ZD={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Ky=class BS extends fi{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=qe.findOne(GD,this._element),this._addEventListeners(),this._config.ride===US&&this.cycle()}static get Default(){return JD}static get DefaultType(){return ZD}static get NAME(){return ND}next(){this._slide(qu)}nextWhenVisible(){!document.hidden&&Jl(this._element)&&this.next()}prev(){this._slide(ul)}pause(){this._isSliding&&IS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ce.one(this._element,Qm,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ce.one(this._element,Qm,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?qu:ul;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ce.on(this._element,LD,e=>this._keydown(e)),this._config.pause==="hover"&&(ce.on(this._element,MD,()=>this.pause()),ce.on(this._element,VD,()=>this._maybeEnableCycle())),this._config.touch&&Zf.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of qe.find(KD,this._element))ce.on(r,$D,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(ml)),rightCallback:()=>this._slide(this._directionToOrder(Mf)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),OD+this._config.interval))}};this._swipeHelper=new Zf(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=XD[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=qe.findOne(jS,this._indicatorsElement);t.classList.remove(yf),t.removeAttribute("aria-current");const r=qe.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(yf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===qu,a=t||qy(this._getItems(),r,i,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),c=A=>ce.trigger(this._element,A,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(c(xD).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const g=i?HD:BD,_=i?zD:qD;a.classList.add(_),Lc(a),r.classList.add(g),a.classList.add(g);const T=()=>{a.classList.remove(g,_),a.classList.add(yf),r.classList.remove(yf,_,g),this._isSliding=!1,c(Qm)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(FD)}_getActive(){return qe.findOne(WD,this._element)}_getItems(){return qe.find(FS,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return zr()?e===ml?ul:qu:e===ml?qu:ul}_orderToDirection(e){return zr()?e===ul?ml:Mf:e===ul?Mf:ml}static jQueryInterface(e){return this.each(function(){const t=BS.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ce.on(document,jD,QD,function(n){const e=qe.getElementFromSelector(this);if(!e||!e.classList.contains(US))return;n.preventDefault();const t=Ky.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(os.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ce.on(window,UD,()=>{const n=qe.find(YD);for(const e of n)Ky.getOrCreateInstance(e)});Wr(Ky);const e1="collapse",t1="bs.collapse",Vc=`.${t1}`,n1=".data-api",r1=`show${Vc}`,i1=`shown${Vc}`,s1=`hide${Vc}`,o1=`hidden${Vc}`,a1=`click${Vc}${n1}`,Ym="show",El="collapse",vf="collapsing",l1="collapsed",u1=`:scope .${El} .${El}`,c1="collapse-horizontal",d1="width",f1="height",h1=".collapse.show, .collapse.collapsing",Mg='[data-bs-toggle="collapse"]',p1={parent:null,toggle:!0},m1={parent:"(null|element)",toggle:"boolean"};let HS=class Vg extends fi{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=qe.find(Mg);for(const i of r){const a=qe.getSelectorFromElement(i),l=qe.find(a).filter(c=>c===this._element);a!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return p1}static get DefaultType(){return m1}static get NAME(){return e1}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(h1).filter(c=>c!==this._element).map(c=>Vg.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||ce.trigger(this._element,r1).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(El),this._element.classList.add(vf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(vf),this._element.classList.add(El,Ym),this._element.style[r]="",ce.trigger(this._element,i1)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ce.trigger(this._element,s1).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Lc(this._element),this._element.classList.add(vf),this._element.classList.remove(El,Ym);for(const i of this._triggerArray){const a=qe.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(vf),this._element.classList.add(El),ce.trigger(this._element,o1)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ym)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=mo(e.parent),e}_getDimension(){return this._element.classList.contains(c1)?d1:f1}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Mg);for(const t of e){const r=qe.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=qe.find(u1,this._config.parent);return qe.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(l1,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Vg.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};ce.on(document,a1,Mg,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of qe.getMultipleElementsFromSelector(this))HS.getOrCreateInstance(e,{toggle:!1}).toggle()});Wr(HS);const KE="dropdown",g1="bs.dropdown",Ea=`.${g1}`,Gy=".data-api",y1="Escape",GE="Tab",v1="ArrowUp",QE="ArrowDown",_1=2,w1=`hide${Ea}`,E1=`hidden${Ea}`,T1=`show${Ea}`,I1=`shown${Ea}`,zS=`click${Ea}${Gy}`,qS=`keydown${Ea}${Gy}`,S1=`keyup${Ea}${Gy}`,gl="show",C1="dropup",A1="dropend",R1="dropstart",b1="dropup-center",N1="dropdown-center",ra='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',k1=`${ra}.${gl}`,Vf=".dropdown-menu",P1=".navbar",D1=".navbar-nav",O1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",x1=zr()?"top-end":"top-start",L1=zr()?"top-start":"top-end",M1=zr()?"bottom-end":"bottom-start",V1=zr()?"bottom-start":"bottom-end",$1=zr()?"left-start":"right-start",U1=zr()?"right-start":"left-start",j1="top",F1="bottom",B1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},H1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let eu=class $f extends fi{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=qe.next(this._element,Vf)[0]||qe.prev(this._element,Vf)[0]||qe.findOne(Vf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return B1}static get DefaultType(){return H1}static get NAME(){return KE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(go(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ce.trigger(this._element,T1,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(D1))for(const r of[].concat(...document.body.children))ce.on(r,"mouseover",Jf);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(gl),this._element.classList.add(gl),ce.trigger(this._element,I1,e)}}hide(){if(go(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ce.trigger(this._element,w1,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ce.off(r,"mouseover",Jf);this._popper&&this._popper.destroy(),this._menu.classList.remove(gl),this._element.classList.remove(gl),this._element.setAttribute("aria-expanded","false"),os.removeDataAttribute(this._menu,"popper"),ce.trigger(this._element,E1,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!ss(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${KE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof ES>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:ss(this._config.reference)?e=mo(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=zy(e,this._menu,t)}_isShown(){return this._menu.classList.contains(gl)}_getPlacement(){const e=this._parent;if(e.classList.contains(A1))return $1;if(e.classList.contains(R1))return U1;if(e.classList.contains(b1))return j1;if(e.classList.contains(N1))return F1;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(C1)?t?L1:x1:t?V1:M1}_detectNavbar(){return this._element.closest(P1)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(os.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...mr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=qe.find(O1,this._menu).filter(i=>Jl(i));r.length&&qy(r,t,e===QE,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=$f.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===_1||e.type==="keyup"&&e.key!==GE)return;const t=qe.find(k1);for(const r of t){const i=$f.getInstance(r);if(!i||i._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===GE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===y1,i=[v1,QE].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const a=this.matches(ra)?this:qe.prev(this,ra)[0]||qe.next(this,ra)[0]||qe.findOne(ra,e.delegateTarget.parentNode),l=$f.getOrCreateInstance(a);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};ce.on(document,qS,ra,eu.dataApiKeydownHandler);ce.on(document,qS,Vf,eu.dataApiKeydownHandler);ce.on(document,zS,eu.clearMenus);ce.on(document,S1,eu.clearMenus);ce.on(document,zS,ra,function(n){n.preventDefault(),eu.getOrCreateInstance(this).toggle()});Wr(eu);const WS="backdrop",z1="fade",YE="show",XE=`mousedown.bs.${WS}`,q1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},W1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class KS extends Mc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return q1}static get DefaultType(){return W1}static get NAME(){return WS}show(e){if(!this._config.isVisible){mr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Lc(t),t.classList.add(YE),this._emulateAnimation(()=>{mr(e)})}hide(e){if(!this._config.isVisible){mr(e);return}this._getElement().classList.remove(YE),this._emulateAnimation(()=>{this.dispose(),mr(e)})}dispose(){this._isAppended&&(ce.off(this._element,XE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(z1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=mo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ce.on(e,XE,()=>{mr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){AS(e,this._getElement(),this._config.isAnimated)}}const K1="focustrap",G1="bs.focustrap",eh=`.${G1}`,Q1=`focusin${eh}`,Y1=`keydown.tab${eh}`,X1="Tab",J1="forward",JE="backward",Z1={autofocus:!0,trapElement:null},eO={autofocus:"boolean",trapElement:"element"};class GS extends Mc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Z1}static get DefaultType(){return eO}static get NAME(){return K1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ce.off(document,eh),ce.on(document,Q1,e=>this._handleFocusin(e)),ce.on(document,Y1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ce.off(document,eh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=qe.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===JE?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===X1&&(this._lastTabNavDirection=e.shiftKey?JE:J1)}}const ZE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",eT=".sticky-top",_f="padding-right",tT="margin-right";class $g{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,_f,t=>t+e),this._setElementAttributes(ZE,_f,t=>t+e),this._setElementAttributes(eT,tT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,_f),this._resetElementAttributes(ZE,_f),this._resetElementAttributes(eT,tT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const c=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&os.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const a=os.getDataAttribute(i,t);if(a===null){i.style.removeProperty(t);return}os.removeDataAttribute(i,t),i.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(ss(e)){t(e);return}for(const r of qe.find(e,this._element))t(r)}}const tO="modal",nO="bs.modal",qr=`.${nO}`,rO=".data-api",iO="Escape",sO=`hide${qr}`,oO=`hidePrevented${qr}`,QS=`hidden${qr}`,YS=`show${qr}`,aO=`shown${qr}`,lO=`resize${qr}`,uO=`click.dismiss${qr}`,cO=`mousedown.dismiss${qr}`,dO=`keydown.dismiss${qr}`,fO=`click${qr}${rO}`,nT="modal-open",hO="fade",rT="show",Xm="modal-static",pO=".modal.show",mO=".modal-dialog",gO=".modal-body",yO='[data-bs-toggle="modal"]',vO={backdrop:!0,focus:!0,keyboard:!0},_O={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let th=class XS extends fi{constructor(e,t){super(e,t),this._dialog=qe.findOne(mO,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new $g,this._addEventListeners()}static get Default(){return vO}static get DefaultType(){return _O}static get NAME(){return tO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ce.trigger(this._element,YS,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(nT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ce.trigger(this._element,sO).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(rT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ce.off(window,qr),ce.off(this._dialog,qr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new KS({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new GS({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=qe.findOne(gO,this._dialog);t&&(t.scrollTop=0),Lc(this._element),this._element.classList.add(rT);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ce.trigger(this._element,aO,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ce.on(this._element,dO,e=>{if(e.key===iO){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ce.on(window,lO,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ce.on(this._element,cO,e=>{ce.one(this._element,uO,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(nT),this._resetAdjustments(),this._scrollBar.reset(),ce.trigger(this._element,QS)})}_isAnimated(){return this._element.classList.contains(hO)}_triggerBackdropTransition(){if(ce.trigger(this._element,oO).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Xm)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Xm),this._queueCallback(()=>{this._element.classList.remove(Xm),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=zr()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=zr()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=XS.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};ce.on(document,fO,yO,function(n){const e=qe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ce.one(e,YS,i=>{i.defaultPrevented||ce.one(e,QS,()=>{Jl(this)&&this.focus()})});const t=qe.findOne(pO);t&&th.getInstance(t).hide(),th.getOrCreateInstance(e).toggle(this)});xh(th);Wr(th);const wO="offcanvas",EO="bs.offcanvas",ws=`.${EO}`,JS=".data-api",TO=`load${ws}${JS}`,IO="Escape",iT="show",sT="showing",oT="hiding",SO="offcanvas-backdrop",ZS=".offcanvas.show",CO=`show${ws}`,AO=`shown${ws}`,RO=`hide${ws}`,aT=`hidePrevented${ws}`,eC=`hidden${ws}`,bO=`resize${ws}`,NO=`click${ws}${JS}`,kO=`keydown.dismiss${ws}`,PO='[data-bs-toggle="offcanvas"]',DO={backdrop:!0,keyboard:!0,scroll:!1},OO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Ol=class tC extends fi{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return DO}static get DefaultType(){return OO}static get NAME(){return wO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ce.trigger(this._element,CO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new $g().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(sT);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(iT),this._element.classList.remove(sT),ce.trigger(this._element,AO,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ce.trigger(this._element,RO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(oT),this._backdrop.hide();const t=()=>{this._element.classList.remove(iT,oT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new $g().reset(),ce.trigger(this._element,eC)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ce.trigger(this._element,aT);return}this.hide()},t=!!this._config.backdrop;return new KS({className:SO,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new GS({trapElement:this._element})}_addEventListeners(){ce.on(this._element,kO,e=>{if(e.key===IO){if(this._config.keyboard){this.hide();return}ce.trigger(this._element,aT)}})}static jQueryInterface(e){return this.each(function(){const t=tC.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ce.on(document,NO,PO,function(n){const e=qe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),go(this))return;ce.one(e,eC,()=>{Jl(this)&&this.focus()});const t=qe.findOne(ZS);t&&t!==e&&Ol.getInstance(t).hide(),Ol.getOrCreateInstance(e).toggle(this)});ce.on(window,TO,()=>{for(const n of qe.find(ZS))Ol.getOrCreateInstance(n).show()});ce.on(window,bO,()=>{for(const n of qe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Ol.getOrCreateInstance(n).hide()});xh(Ol);Wr(Ol);const xO=/^aria-[\w-]*$/i,nC={"*":["class","dir","id","lang","role",xO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},LO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),MO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,VO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?LO.has(t)?!!MO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function $O(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const l of a){const c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}const f=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[c]||[]);for(const g of f)VO(g,p)||l.removeAttribute(g.nodeName)}return i.body.innerHTML}const UO="TemplateFactory",jO={allowList:nC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},FO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},BO={entry:"(string|element|function|null)",selector:"(string|element)"};class HO extends Mc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return jO}static get DefaultType(){return FO}static get NAME(){return UO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},BO)}_setContent(e,t,r){const i=qe.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(ss(t)){this._putElementInTemplate(mo(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?$O(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return mr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const zO="tooltip",qO=new Set(["sanitize","allowList","sanitizeFn"]),Jm="fade",WO="modal",wf="show",KO=".tooltip-inner",lT=`.${WO}`,uT="hide.bs.modal",Wu="hover",Zm="focus",GO="click",QO="manual",YO="hide",XO="hidden",JO="show",ZO="shown",ex="inserted",tx="click",nx="focusin",rx="focusout",ix="mouseenter",sx="mouseleave",ox={AUTO:"auto",TOP:"top",RIGHT:zr()?"left":"right",BOTTOM:"bottom",LEFT:zr()?"right":"left"},ax={allowList:nC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lx={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Lh=class rC extends fi{constructor(e,t){if(typeof ES>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ax}static get DefaultType(){return lx}static get NAME(){return zO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ce.off(this._element.closest(lT),uT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ce.trigger(this._element,this.constructor.eventName(JO)),r=(SS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),ce.trigger(this._element,this.constructor.eventName(ex))),this._popper=this._createPopper(i),i.classList.add(wf),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))ce.on(c,"mouseover",Jf);const l=()=>{ce.trigger(this._element,this.constructor.eventName(ZO)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ce.trigger(this._element,this.constructor.eventName(YO)).defaultPrevented)return;if(this._getTipElement().classList.remove(wf),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ce.off(i,"mouseover",Jf);this._activeTrigger[GO]=!1,this._activeTrigger[Zm]=!1,this._activeTrigger[Wu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ce.trigger(this._element,this.constructor.eventName(XO)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Jm,wf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=GP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Jm),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new HO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[KO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Jm)}_isShown(){return this.tip&&this.tip.classList.contains(wf)}_createPopper(e){const t=mr(this._config.placement,[this,e,this._element]),r=ox[t.toUpperCase()];return zy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return mr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...mr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ce.on(this._element,this.constructor.eventName(tx),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==QO){const r=t===Wu?this.constructor.eventName(ix):this.constructor.eventName(nx),i=t===Wu?this.constructor.eventName(sx):this.constructor.eventName(rx);ce.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?Zm:Wu]=!0,l._enter()}),ce.on(this._element,i,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?Zm:Wu]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ce.on(this._element.closest(lT),uT,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=os.getDataAttributes(this._element);for(const r of Object.keys(t))qO.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:mo(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=rC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Wr(Lh);const ux="popover",cx=".popover-header",dx=".popover-body",fx={...Lh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},hx={...Lh.DefaultType,content:"(null|string|element|function)"};let px=class iC extends Lh{static get Default(){return fx}static get DefaultType(){return hx}static get NAME(){return ux}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[cx]:this._getTitle(),[dx]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=iC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Wr(px);const mx="scrollspy",gx="bs.scrollspy",Qy=`.${gx}`,yx=".data-api",vx=`activate${Qy}`,cT=`click${Qy}`,_x=`load${Qy}${yx}`,wx="dropdown-item",cl="active",Ex='[data-bs-spy="scroll"]',eg="[href]",Tx=".nav, .list-group",dT=".nav-link",Ix=".nav-item",Sx=".list-group-item",Cx=`${dT}, ${Ix} > ${dT}, ${Sx}`,Ax=".dropdown",Rx=".dropdown-toggle",bx={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Nx={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Mh extends fi{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return bx}static get DefaultType(){return Nx}static get NAME(){return mx}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=mo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ce.off(this._config.target,cT),ce.on(this._config.target,cT,eg,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const c=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(r(l),!i)return;continue}!a&&!c&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=qe.find(eg,this._config.target);for(const t of e){if(!t.hash||go(t))continue;const r=qe.findOne(decodeURI(t.hash),this._element);Jl(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(cl),this._activateParents(e),ce.trigger(this._element,vx,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(wx)){qe.findOne(Rx,e.closest(Ax)).classList.add(cl);return}for(const t of qe.parents(e,Tx))for(const r of qe.prev(t,Cx))r.classList.add(cl)}_clearActiveClass(e){e.classList.remove(cl);const t=qe.find(`${eg}.${cl}`,e);for(const r of t)r.classList.remove(cl)}static jQueryInterface(e){return this.each(function(){const t=Mh.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ce.on(window,_x,()=>{for(const n of qe.find(Ex))Mh.getOrCreateInstance(n)});Wr(Mh);const kx="tab",Px="bs.tab",Ta=`.${Px}`,Dx=`hide${Ta}`,Ox=`hidden${Ta}`,xx=`show${Ta}`,Lx=`shown${Ta}`,Mx=`click${Ta}`,Vx=`keydown${Ta}`,$x=`load${Ta}`,Ux="ArrowLeft",fT="ArrowRight",jx="ArrowUp",hT="ArrowDown",tg="Home",pT="End",ia="active",mT="fade",ng="show",Fx="dropdown",sC=".dropdown-toggle",Bx=".dropdown-menu",rg=`:not(${sC})`,Hx='.list-group, .nav, [role="tablist"]',zx=".nav-item, .list-group-item",qx=`.nav-link${rg}, .list-group-item${rg}, [role="tab"]${rg}`,oC='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ig=`${qx}, ${oC}`,Wx=`.${ia}[data-bs-toggle="tab"], .${ia}[data-bs-toggle="pill"], .${ia}[data-bs-toggle="list"]`;class xl extends fi{constructor(e){super(e),this._parent=this._element.closest(Hx),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ce.on(this._element,Vx,t=>this._keydown(t)))}static get NAME(){return kx}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ce.trigger(t,Dx,{relatedTarget:e}):null;ce.trigger(e,xx,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ia),this._activate(qe.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(ng);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ce.trigger(e,Lx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(mT))}_deactivate(e,t){if(!e)return;e.classList.remove(ia),e.blur(),this._deactivate(qe.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(ng);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ce.trigger(e,Ox,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(mT))}_keydown(e){if(![Ux,fT,jx,hT,tg,pT].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!go(i));let r;if([tg,pT].includes(e.key))r=t[e.key===tg?0:t.length-1];else{const i=[fT,hT].includes(e.key);r=qy(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),xl.getOrCreateInstance(r).show())}_getChildren(){return qe.find(ig,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=qe.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(Fx))return;const i=(a,l)=>{const c=qe.findOne(a,r);c&&c.classList.toggle(l,t)};i(sC,ia),i(Bx,ng),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ia)}_getInnerElement(e){return e.matches(ig)?e:qe.findOne(ig,e)}_getOuterElement(e){return e.closest(zx)||e}static jQueryInterface(e){return this.each(function(){const t=xl.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ce.on(document,Mx,oC,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!go(this)&&xl.getOrCreateInstance(this).show()});ce.on(window,$x,()=>{for(const n of qe.find(Wx))xl.getOrCreateInstance(n)});Wr(xl);const Kx="toast",Gx="bs.toast",bo=`.${Gx}`,Qx=`mouseover${bo}`,Yx=`mouseout${bo}`,Xx=`focusin${bo}`,Jx=`focusout${bo}`,Zx=`hide${bo}`,eL=`hidden${bo}`,tL=`show${bo}`,nL=`shown${bo}`,rL="fade",gT="hide",Ef="show",Tf="showing",iL={animation:"boolean",autohide:"boolean",delay:"number"},sL={animation:!0,autohide:!0,delay:5e3};class Vh extends fi{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sL}static get DefaultType(){return iL}static get NAME(){return Kx}show(){if(ce.trigger(this._element,tL).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(rL);const t=()=>{this._element.classList.remove(Tf),ce.trigger(this._element,nL),this._maybeScheduleHide()};this._element.classList.remove(gT),Lc(this._element),this._element.classList.add(Ef,Tf),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ce.trigger(this._element,Zx).defaultPrevented)return;const t=()=>{this._element.classList.add(gT),this._element.classList.remove(Tf,Ef),ce.trigger(this._element,eL)};this._element.classList.add(Tf),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ef),super.dispose()}isShown(){return this._element.classList.contains(Ef)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ce.on(this._element,Qx,e=>this._onInteraction(e,!0)),ce.on(this._element,Yx,e=>this._onInteraction(e,!1)),ce.on(this._element,Xx,e=>this._onInteraction(e,!0)),ce.on(this._element,Jx,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Vh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}xh(Vh);Wr(Vh);var sg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var yT;function oL(){return yT||(yT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(sg)),sg.exports}var aL=oL();const ye=Dc(aL);function Ug(){return Ug=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ug.apply(null,arguments)}function aC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function vT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function lL(n){var e=uL(n,"string");return typeof e=="symbol"?e:String(e)}function uL(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function lC(n,e,t){var r=w.useRef(n!==void 0),i=w.useState(e),a=i[0],l=i[1],c=n!==void 0,f=r.current;return r.current=c,!c&&f&&a!==e&&l(e),[c?n:a,w.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function tu(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[vT(r)],c=a[r],f=aC(a,[vT(r),r].map(lL)),p=e[r],g=lC(c,l,n[p]),_=g[0],T=g[1];return Ug({},f,(i={},i[r]=_,i[p]=T,i))},n)}function jg(n,e){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},jg(n,e)}function cL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,jg(n,e)}var og={exports:{}},Ku={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function dL(){if(_T)return Ku;_T=1;var n=Ny(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},T=null,A=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:T,ref:A,props:_,_owner:i.current}}return Ku.Fragment=t,Ku.jsx=l,Ku.jsxs=l,Ku}var wT;function fL(){return wT||(wT=1,og.exports=dL()),og.exports}var Yy=fL();const C=Yy.jsx,fe=Yy.jsxs,Yt=Yy.Fragment,hL=["xxl","xl","lg","md","sm","xs"],pL="xs",$c=w.createContext({prefixes:{},breakpoints:hL,minBreakpoint:pL}),{Consumer:dH,Provider:fH}=$c;function Ie(n,e){const{prefixes:t}=w.useContext($c);return n||t[e]||e}function uC(){const{breakpoints:n}=w.useContext($c);return n}function cC(){const{minBreakpoint:n}=w.useContext($c);return n}function Uc(){const{dir:n}=w.useContext($c);return n==="rtl"}function nu(n){return n&&n.ownerDocument||document}function mL(n){var e=nu(n);return e&&e.defaultView||window}function gL(n,e){return mL(n).getComputedStyle(n,e)}var yL=/([A-Z])/g;function vL(n){return n.replace(yL,"-$1").toLowerCase()}var _L=/^ms-/;function If(n){return vL(n).replace(_L,"-ms-")}var wL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function EL(n){return!!(n&&wL.test(n))}function as(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(If(e))||gL(n).getPropertyValue(If(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(If(i)):EL(i)?r+=i+"("+a+") ":t+=If(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var ag={exports:{}},lg,ET;function TL(){if(ET)return lg;ET=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lg=n,lg}var ug,TT;function IL(){if(TT)return ug;TT=1;var n=TL();function e(){}function t(){}return t.resetWarningCache=e,ug=function(){function r(l,c,f,p,g,_){if(_!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},ug}var IT;function SL(){return IT||(IT=1,ag.exports=IL()()),ag.exports}var CL=SL();const Qn=Dc(CL);var dC=tS();const io=Dc(dC),AL=eS({__proto__:null,default:io},[dC]),ST={disabled:!1},fC=dn.createContext(null);var RL=function(e){return e.scrollTop},ec="unmounted",Zs="exited",ai="entering",Zi="entered",yc="exiting",Es=function(n){cL(e,n);function e(r,i){var a;a=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?c?(f=Zs,a.appearStatus=ai):f=Zi:r.unmountOnExit||r.mountOnEnter?f=ec:f=Zs,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===ec?{status:Zs}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==ai&&l!==Zi&&(a=ai):(l===ai||l===Zi)&&(a=yc)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===ai){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:io.findDOMNode(this);l&&RL(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zs&&this.setState({status:ec})},t.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,f=this.props.nodeRef?[c]:[io.findDOMNode(this),c],p=f[0],g=f[1],_=this.getTimeouts(),T=c?_.appear:_.enter;if(!i&&!l||ST.disabled){this.safeSetState({status:Zi},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:ai},function(){a.props.onEntering(p,g),a.onTransitionEnd(T,function(){a.safeSetState({status:Zi},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:io.findDOMNode(this);if(!a||ST.disabled){this.safeSetState({status:Zs},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:yc},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Zs},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:io.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],g=f[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===ec)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=aC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return dn.createElement(fC.Provider,{value:null},typeof l=="function"?l(i,c):dn.cloneElement(dn.Children.only(l),c))},e}(dn.Component);Es.contextType=fC;Es.propTypes={};function dl(){}Es.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dl,onEntering:dl,onEntered:dl,onExit:dl,onExiting:dl,onExited:dl};Es.UNMOUNTED=ec;Es.EXITED=Zs;Es.ENTERING=ai;Es.ENTERED=Zi;Es.EXITING=yc;function hC(n){return n.code==="Escape"||n.keyCode===27}function bL(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Ia(n){if(!n||typeof n=="function")return null;const{major:e}=bL();return e>=19?n.props.ref:n.ref}const ru=!!(typeof window<"u"&&window.document&&window.document.createElement);var Fg=!1,Bg=!1;try{var cg={get passive(){return Fg=!0},get once(){return Bg=Fg=!0}};ru&&(window.addEventListener("test",cg,cg),window.removeEventListener("test",cg,!0))}catch{}function Xy(n,e,t,r){if(r&&typeof r!="boolean"&&!Bg){var i=r.once,a=r.capture,l=t;!Bg&&i&&(l=t.__once||function c(f){this.removeEventListener(e,c,a),t.call(this,f)},t.__once=l),n.addEventListener(e,l,Fg?r:a)}n.addEventListener(e,t,r)}function Hg(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function ts(n,e,t,r){return Xy(n,e,t,r),function(){Hg(n,e,t,r)}}function NL(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function kL(n){var e=as(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function PL(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||NL(n,"transitionend",!0)},e+t),a=ts(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function pC(n,e,t,r){t==null&&(t=kL(n)||0);var i=PL(n,t,r),a=ts(n,"transitionend",e);return function(){i(),a()}}function CT(n,e){const t=as(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function $h(n,e){const t=CT(n,"transitionDuration"),r=CT(n,"transitionDelay"),i=pC(n,a=>{a.target===n&&(i(),e(a))},t+r)}function Gu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function Jy(n){n.offsetHeight}const AT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function DL(n,e){const t=AT(n),r=AT(e);return i=>{t&&t(i),r&&r(i)}}function iu(n,e){return w.useMemo(()=>DL(n,e),[n,e])}function nh(n){return n&&"setState"in n?io.findDOMNode(n):n??null}const Uh=dn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:f,...p},g)=>{const _=w.useRef(null),T=iu(_,f),A=K=>{T(nh(K))},k=K=>I=>{K&&_.current&&K(_.current,I)},x=w.useCallback(k(n),[n]),N=w.useCallback(k(e),[e]),H=w.useCallback(k(t),[t]),$=w.useCallback(k(r),[r]),z=w.useCallback(k(i),[i]),W=w.useCallback(k(a),[a]),Z=w.useCallback(k(l),[l]);return C(Es,{ref:g,...p,onEnter:x,onEntered:H,onEntering:N,onExit:$,onExited:W,onExiting:z,addEndListener:Z,nodeRef:_,children:typeof c=="function"?(K,I)=>c(K,{...I,ref:A}):dn.cloneElement(c,{ref:A})})}),OL={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xL(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=OL[n];return r+parseInt(as(e,i[0]),10)+parseInt(as(e,i[1]),10)}const LL={[Zs]:"collapse",[yc]:"collapsing",[ai]:"collapsing",[Zi]:"collapse show"},mC=dn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:f=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:T=!1,getDimensionValue:A=xL,...k},x)=>{const N=typeof c=="function"?c():c,H=w.useMemo(()=>Gu(K=>{K.style[N]="0"},n),[N,n]),$=w.useMemo(()=>Gu(K=>{const I=`scroll${N[0].toUpperCase()}${N.slice(1)}`;K.style[N]=`${K[I]}px`},e),[N,e]),z=w.useMemo(()=>Gu(K=>{K.style[N]=null},t),[N,t]),W=w.useMemo(()=>Gu(K=>{K.style[N]=`${A(N,K)}px`,Jy(K)},r),[r,A,N]),Z=w.useMemo(()=>Gu(K=>{K.style[N]=null},i),[N,i]);return C(Uh,{ref:x,addEndListener:$h,...k,"aria-expanded":k.role?f:null,onEnter:H,onEntering:$,onEntered:z,onExit:W,onExiting:Z,childRef:Ia(l),in:f,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:T,children:(K,I)=>dn.cloneElement(l,{...I,className:ye(a,l.props.className,LL[K],N==="width"&&"collapse-horizontal")})})});function gC(n,e){return Array.isArray(n)?n.includes(e):n===e}const jc=w.createContext({});jc.displayName="AccordionContext";const Zy=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...a},l)=>{const{activeEventKey:c}=w.useContext(jc);return e=Ie(e,"accordion-collapse"),C(mC,{ref:l,in:gC(c,i),...a,className:ye(t,e),children:C(n,{children:w.Children.only(r)})})});Zy.displayName="AccordionCollapse";const jh=w.createContext({eventKey:""});jh.displayName="AccordionItemContext";const yC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,...p},g)=>{e=Ie(e,"accordion-body");const{eventKey:_}=w.useContext(jh);return C(Zy,{eventKey:_,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,children:C(n,{ref:g,...p,className:ye(t,e)})})});yC.displayName="AccordionBody";function ML(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=w.useContext(jc);return a=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(c=>c!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const ev=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},a)=>{e=Ie(e,"accordion-button");const{eventKey:l}=w.useContext(jh),c=ML(l,r),{activeEventKey:f}=w.useContext(jc);return n==="button"&&(i.type="button"),C(n,{ref:a,onClick:c,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:ye(t,e,!gC(f,l)&&"collapsed")})});ev.displayName="AccordionButton";const vC=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:a,...l},c)=>(t=Ie(t,"accordion-header"),C(n,{ref:c,...l,className:ye(r,t),children:C(ev,{onClick:a,"aria-controls":e,children:i})})));vC.displayName="AccordionHeader";const _C=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},a)=>{e=Ie(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return C(jh.Provider,{value:l,children:C(n,{ref:a,...i,className:ye(t,e)})})});_C.displayName="AccordionItem";const wC=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:c,alwaysOpen:f,...p}=tu(n,{activeKey:"onSelect"}),g=Ie(i,"accordion"),_=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return C(jc.Provider,{value:_,children:C(t,{ref:e,...p,className:ye(a,g,c&&`${g}-flush`)})})});wC.displayName="Accordion";const so=Object.assign(wC,{Button:ev,Collapse:Zy,Item:_C,Header:vC,Body:yC});function EC(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function ci(n){const e=EC(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Fc=n=>w.forwardRef((e,t)=>C("div",{...e,ref:t,className:ye(e.className,n)})),TC=Fc("h4");TC.displayName="DivStyledAsH4";const IC=w.forwardRef(({className:n,bsPrefix:e,as:t=TC,...r},i)=>(e=Ie(e,"alert-heading"),C(t,{ref:i,className:ye(n,e),...r})));IC.displayName="AlertHeading";function zg(){return w.useState(null)}function VL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function bn(n){const e=VL(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function $L(n,e,t,r=!1){const i=bn(t);w.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}function SC(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function CC(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const UL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",jL=typeof document<"u",RT=jL||UL?w.useLayoutEffect:w.useEffect,FL=["as","disabled"];function BL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function HL(n){return!n||n.trim()==="#"}function tv({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&HL(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:_},p]}const nv=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=BL(n,FL);const[a,{tagName:l}]=tv(Object.assign({tagName:t,disabled:r},i));return C(l,Object.assign({},i,a,{ref:e}))});nv.displayName="Button";const zL=["onKeyDown"];function qL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function WL(n){return!n||n.trim()==="#"}const Ll=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=qL(n,zL);const[i]=tv(Object.assign({tagName:"a"},r)),a=bn(l=>{i.onKeyDown(l),t==null||t(l)});return WL(r.href)||r.role==="button"?C("a",Object.assign({ref:e},r,i,{onKeyDown:a})):C("a",Object.assign({ref:e},r,{onKeyDown:t}))});Ll.displayName="Anchor";const AC=w.forwardRef(({className:n,bsPrefix:e,as:t=Ll,...r},i)=>(e=Ie(e,"alert-link"),C(t,{ref:i,className:ye(n,e),...r})));AC.displayName="AlertLink";const KL={[ai]:"show",[Zi]:"show"},yo=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=w.useCallback((f,p)=>{Jy(f),r==null||r(f,p)},[r]);return C(Uh,{ref:a,addEndListener:$h,...l,onEnter:c,childRef:Ia(e),children:(f,p)=>w.cloneElement(e,{...p,className:ye("fade",n,e.props.className,KL[f],t[f])})})});yo.displayName="Fade";const GL={"aria-label":Qn.string,onClick:Qn.func,variant:Qn.oneOf(["white"])},Bc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>C("button",{ref:i,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Bc.displayName="CloseButton";Bc.propTypes=GL;const RC=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:l,children:c,variant:f="primary",onClose:p,dismissible:g,transition:_=yo,...T}=tu(n,{show:"onClose"}),A=Ie(t,"alert"),k=ci(H=>{p&&p(!1,H)}),x=_===!0?yo:_,N=fe("div",{role:"alert",...x?void 0:T,ref:e,className:ye(l,A,f&&`${A}-${f}`,g&&`${A}-dismissible`),children:[g&&C(Bc,{onClick:k,"aria-label":i,variant:a}),c]});return x?C(x,{unmountOnExit:!0,...T,ref:void 0,in:r,children:N}):r?N:null});RC.displayName="Alert";const vc=Object.assign(RC,{Link:AC,Heading:IC}),Fn=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},f)=>{const p=Ie(e,"btn"),[g,{tagName:_}]=tv({tagName:n,disabled:a,...c});return C(_,{...g,...c,ref:f,disabled:a,className:ye(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});Fn.displayName="Button";const rv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"card-body"),C(t,{ref:i,className:ye(n,e),...r})));rv.displayName="CardBody";const bC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"card-footer"),C(t,{ref:i,className:ye(n,e),...r})));bC.displayName="CardFooter";const iv=w.createContext(null);iv.displayName="CardHeaderContext";const NC=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=Ie(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return C(iv.Provider,{value:l,children:C(t,{ref:i,...r,className:ye(e,a)})})});NC.displayName="CardHeader";const kC=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=Ie(n,"card-img");return C(r,{ref:a,className:ye(t?`${l}-${t}`:l,e),...i})});kC.displayName="CardImg";const PC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"card-img-overlay"),C(t,{ref:i,className:ye(n,e),...r})));PC.displayName="CardImgOverlay";const DC=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=Ie(e,"card-link"),C(t,{ref:i,className:ye(n,e),...r})));DC.displayName="CardLink";const QL=Fc("h6"),OC=w.forwardRef(({className:n,bsPrefix:e,as:t=QL,...r},i)=>(e=Ie(e,"card-subtitle"),C(t,{ref:i,className:ye(n,e),...r})));OC.displayName="CardSubtitle";const xC=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=Ie(e,"card-text"),C(t,{ref:i,className:ye(n,e),...r})));xC.displayName="CardText";const YL=Fc("h5"),LC=w.forwardRef(({className:n,bsPrefix:e,as:t=YL,...r},i)=>(e=Ie(e,"card-title"),C(t,{ref:i,className:ye(n,e),...r})));LC.displayName="CardTitle";const MC=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:c="div",...f},p)=>{const g=Ie(n,"card");return C(c,{ref:p,...f,className:ye(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?C(rv,{children:l}):l})});MC.displayName="Card";const eo=Object.assign(MC,{Img:kC,Title:LC,Subtitle:OC,Body:rv,Link:DC,Text:xC,Header:NC,Footer:bC,ImgOverlay:PC});function XL(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function JL(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function ZL(n){const e=w.useRef(n);return e.current=n,e}function VC(n){const e=ZL(n);w.useEffect(()=>()=>e.current(),[])}const qg=2**31-1;function $C(n,e,t){const r=t-Date.now();n.current=r<=qg?setTimeout(e,r):setTimeout(()=>$C(n,e,t),qg)}function UC(){const n=JL(),e=w.useRef();return VC(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,a=0){n()&&(t(),a<=qg?e.current=setTimeout(i,a):$C(e,i,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const jC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"carousel-caption"),C(t,{ref:i,className:ye(n,e),...r})));jC.displayName="CarouselCaption";const FC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},i)=>{const a=ye(t,Ie(e,"carousel-item"));return C(n,{ref:i,...r,className:a})});FC.displayName="CarouselItem";function bT(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function eM(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function tM(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const nM=40;function rM(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const BC=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:i,slide:a=!0,fade:l=!1,controls:c=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:g,onSelect:_,onSlide:T,onSlid:A,interval:k=5e3,keyboard:x=!0,onKeyDown:N,pause:H="hover",onMouseOver:$,onMouseOut:z,wrap:W=!0,touch:Z=!0,onTouchStart:K,onTouchMove:I,onTouchEnd:R,prevIcon:P=C("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:O="Previous",nextIcon:L=C("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:D,className:we,children:Le,...He}=tu({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Ne=Ie(i,"carousel"),ne=Uc(),me=w.useRef(null),[le,F]=w.useState("next"),[ee,pe]=w.useState(!1),[ve,Te]=w.useState(!1),[Ae,Ge]=w.useState(g||0);w.useEffect(()=>{!ve&&g!==Ae&&(me.current?F(me.current):F((g||0)>Ae?"next":"prev"),a&&Te(!0),Ge(g||0))},[g,ve,Ae,a]),w.useEffect(()=>{me.current&&(me.current=null)});let je=0,st;eM(Le,(ze,ot)=>{++je,ot===g&&(st=ze.props.interval)});const Et=EC(st),St=w.useCallback(ze=>{if(ve)return;let ot=Ae-1;if(ot<0){if(!W)return;ot=je-1}me.current="prev",_==null||_(ot,ze)},[ve,Ae,_,W,je]),it=ci(ze=>{if(ve)return;let ot=Ae+1;if(ot>=je){if(!W)return;ot=0}me.current="next",_==null||_(ot,ze)}),kt=w.useRef();w.useImperativeHandle(t,()=>({element:kt.current,prev:St,next:it}));const Kt=ci(()=>{!document.hidden&&rM(kt.current)&&(ne?St():it())}),rt=le==="next"?"start":"end";XL(()=>{a||(T==null||T(Ae,rt),A==null||A(Ae,rt))},[Ae]);const Ft=`${Ne}-item-${le}`,pn=`${Ne}-item-${rt}`,Pr=w.useCallback(ze=>{Jy(ze),T==null||T(Ae,rt)},[T,Ae,rt]),Hn=w.useCallback(()=>{Te(!1),A==null||A(Ae,rt)},[A,Ae,rt]),Bt=w.useCallback(ze=>{if(x&&!/input|textarea/i.test(ze.target.tagName))switch(ze.key){case"ArrowLeft":ze.preventDefault(),ne?it(ze):St(ze);return;case"ArrowRight":ze.preventDefault(),ne?St(ze):it(ze);return}N==null||N(ze)},[x,N,St,it,ne]),Zt=w.useCallback(ze=>{H==="hover"&&pe(!0),$==null||$(ze)},[H,$]),er=w.useCallback(ze=>{pe(!1),z==null||z(ze)},[z]),Pn=w.useRef(0),Dt=w.useRef(0),an=UC(),Ue=w.useCallback(ze=>{Pn.current=ze.touches[0].clientX,Dt.current=0,H==="hover"&&pe(!0),K==null||K(ze)},[H,K]),mt=w.useCallback(ze=>{ze.touches&&ze.touches.length>1?Dt.current=0:Dt.current=ze.touches[0].clientX-Pn.current,I==null||I(ze)},[I]),Ot=w.useCallback(ze=>{if(Z){const ot=Dt.current;Math.abs(ot)>nM&&(ot>0?St(ze):it(ze))}H==="hover"&&an.set(()=>{pe(!1)},k||void 0),R==null||R(ze)},[Z,H,St,it,an,k,R]),mn=k!=null&&!ee&&!ve,zn=w.useRef();w.useEffect(()=>{var ze,ot;if(!mn)return;const gn=ne?St:it;return zn.current=window.setInterval(document.visibilityState?Kt:gn,(ze=(ot=Et.current)!=null?ot:k)!=null?ze:void 0),()=>{zn.current!==null&&clearInterval(zn.current)}},[mn,St,it,Et,k,Kt,ne]);const qn=w.useMemo(()=>f&&Array.from({length:je},(ze,ot)=>gn=>{_==null||_(ot,gn)}),[f,je,_]);return fe(r,{ref:kt,...He,onKeyDown:Bt,onMouseOver:Zt,onMouseOut:er,onTouchStart:Ue,onTouchMove:mt,onTouchEnd:Ot,className:ye(we,Ne,a&&"slide",l&&`${Ne}-fade`,D&&`${Ne}-${D}`),children:[f&&C("div",{className:`${Ne}-indicators`,children:bT(Le,(ze,ot)=>C("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[ot]:`Slide ${ot+1}`,className:ot===Ae?"active":void 0,onClick:qn?qn[ot]:void 0,"aria-current":ot===Ae},ot))}),C("div",{className:`${Ne}-inner`,children:bT(Le,(ze,ot)=>{const gn=ot===Ae;return a?C(Uh,{in:gn,onEnter:gn?Pr:void 0,onEntered:gn?Hn:void 0,addEndListener:$h,children:(tr,hi)=>w.cloneElement(ze,{...hi,className:ye(ze.props.className,gn&&tr!=="entered"&&Ft,(tr==="entered"||tr==="exiting")&&"active",(tr==="entering"||tr==="exiting")&&pn)})}):w.cloneElement(ze,{className:ye(ze.props.className,gn&&"active")})})}),c&&fe(Yt,{children:[(W||g!==0)&&fe(Ll,{className:`${Ne}-control-prev`,onClick:St,children:[P,O&&C("span",{className:"visually-hidden",children:O})]}),(W||g!==je-1)&&fe(Ll,{className:`${Ne}-control-next`,onClick:it,children:[L,V&&C("span",{className:"visually-hidden",children:V})]})]})]})});BC.displayName="Carousel";const NT=Object.assign(BC,{Caption:jC,Item:FC});function iM({as:n,bsPrefix:e,className:t,...r}){e=Ie(e,"col");const i=uC(),a=cC(),l=[],c=[];return i.forEach(f=>{const p=r[f];delete r[f];let g,_,T;typeof p=="object"&&p!=null?{span:g,offset:_,order:T}=p:g=p;const A=f!==a?`-${f}`:"";g&&l.push(g===!0?`${e}${A}`:`${e}${A}-${g}`),T!=null&&c.push(`order${A}-${T}`),_!=null&&c.push(`offset${A}-${_}`)}),[{...r,className:ye(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const ls=w.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:a,spans:l}]=iM(n);return C(i,{...r,ref:e,className:ye(t,!l.length&&a)})});ls.displayName="Col";const Sa=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},a)=>{const l=Ie(n,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return C(t,{ref:a,...i,className:ye(r,e?`${l}${c}`:l)})});Sa.displayName="Container";var sM=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ji(n,e){return sM(n.querySelectorAll(e))}function oM(n,e,t){const r=w.useRef(n!==void 0),[i,a]=w.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,w.useCallback((...f)=>{const[p,...g]=f;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function HC(){const[,n]=w.useReducer(e=>e+1,0);return n}const Fh=w.createContext(null);var kT=Object.prototype.hasOwnProperty;function PT(n,e,t){for(t of n.keys())if(cc(t,e))return t}function cc(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&cc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=PT(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=PT(e,i),!i)||!cc(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(kT.call(n,t)&&++r&&!kT.call(e,t)||!(t in e)||!cc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function aM(n){const e=SC();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const lM=xc({defaultModifiers:[Fy,Oh,Ph,Dh,By,jy,Hy,My]}),uM=["enabled","placement","strategy","modifiers"];function cM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const dM={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},fM={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},hM=[];function zC(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=hM}=t,c=cM(t,uM);const f=w.useRef(l),p=w.useRef(),g=w.useCallback(()=>{var N;(N=p.current)==null||N.update()},[]),_=w.useCallback(()=>{var N;(N=p.current)==null||N.forceUpdate()},[]),[T,A]=aM(w.useState({placement:i,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),k=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:N})=>{const H={},$={};Object.keys(N.elements).forEach(z=>{H[z]=N.styles[z],$[z]=N.attributes[z]}),A({state:N,styles:H,attributes:$,update:g,forceUpdate:_,placement:N.placement})}}),[g,_,A]),x=w.useMemo(()=>(cc(f.current,l)||(f.current=l),f.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...x,k,dM]})},[a,i,k,r,x]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=lM(n,e,Object.assign({},c,{placement:i,strategy:a,modifiers:[...x,fM,k]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,A(N=>Object.assign({},N,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function _c(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var dg,DT;function pM(){if(DT)return dg;DT=1;var n=function(){};return dg=n,dg}var mM=pM();const gM=Dc(mM),OT=()=>{};function yM(n){return n.button===0}function vM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Uf=n=>n&&("current"in n?n.current:n),xT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function qC(n,e=OT,{disabled:t,clickTrigger:r="click"}={}){const i=w.useRef(!1),a=w.useRef(!1),l=w.useCallback(p=>{const g=Uf(n);gM(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||vM(p)||!yM(p)||!!_c(g,p.target)||a.current,a.current=!1},[n]),c=bn(p=>{const g=Uf(n);g&&_c(g,p.target)?a.current=!0:a.current=!1}),f=bn(p=>{i.current||e(p)});w.useEffect(()=>{var p,g;if(t||n==null)return;const _=nu(Uf(n)),T=_.defaultView||window;let A=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,k=null;xT[r]&&(k=ts(_,xT[r],c,!0));const x=ts(_,r,l,!0),N=ts(_,r,$=>{if($===A){A=void 0;return}f($)});let H=[];return"ontouchstart"in _.documentElement&&(H=[].slice.call(_.body.children).map($=>ts($,"mousemove",OT))),()=>{k==null||k(),x(),N(),H.forEach($=>$())}},[n,t,r,l,c,f])}function _M(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function wM(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function WC({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:c,popperConfig:f={}}){var p,g,_,T,A;const k=_M(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:wM(Object.assign({},k,{eventListeners:{enabled:e,options:(p=k.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},k.preventOverflow,{options:l?Object.assign({padding:l},(g=k.preventOverflow)==null?void 0:g.options):(_=k.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:i},(T=k.offset)==null?void 0:T.options)},arrow:Object.assign({},k.arrow,{enabled:!!c,options:Object.assign({},(A=k.arrow)==null?void 0:A.options,{element:c})}),flip:Object.assign({enabled:!!r},k.flip)}))})}const EM=["children","usePopper"];function TM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const IM=()=>{};function KC(n={}){const e=w.useContext(Fh),[t,r]=zg(),i=w.useRef(!1),{flip:a,offset:l,rootCloseEvent:c,fixed:f=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,A=(e==null?void 0:e.show)==null?!!n.show:e.show;A&&!i.current&&(i.current=!0);const k=K=>{e==null||e.toggle(!1,K)},{placement:x,setMenu:N,menuElement:H,toggleElement:$}=e||{},z=zC($,H,WC({placement:p||x||"bottom-start",enabled:T,enableEvents:_??A,offset:l,flip:a,fixed:f,arrowElement:t,popperConfig:g})),W=Object.assign({ref:N||IM,"aria-labelledby":$==null?void 0:$.id},z.attributes.popper,{style:z.styles.popper}),Z={show:A,placement:x,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?z:null,arrowProps:T?Object.assign({ref:r},z.attributes.arrow,{style:z.styles.arrow}):{}};return qC(H,k,{clickTrigger:c,disabled:!A}),[W,Z]}function GC(n){let{children:e,usePopper:t=!0}=n,r=TM(n,EM);const[i,a]=KC(Object.assign({},r,{usePopper:t}));return C(Yt,{children:e(i,a)})}GC.displayName="DropdownMenu";const sv={prefix:String(Math.round(Math.random()*1e10)),current:0},QC=dn.createContext(sv),SM=dn.createContext(!1);let CM=!!(typeof window<"u"&&window.document&&window.document.createElement),fg=new WeakMap;function AM(n=!1){let e=w.useContext(QC),t=w.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=fg.get(a);l==null?fg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,fg.delete(a))}t.current=++e.current}return t.current}function RM(n){let e=w.useContext(QC);e===sv&&!CM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=AM(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function bM(n){let e=dn.useId(),[t]=w.useState(OM()),r=t?"react-aria":`react-aria${sv.prefix}`;return n||`${r}-${e}`}const NM=typeof dn.useId=="function"?bM:RM;function kM(){return!1}function PM(){return!0}function DM(n){return()=>{}}function OM(){return typeof dn.useSyncExternalStore=="function"?dn.useSyncExternalStore(DM,kM,PM):w.useContext(SM)}const YC=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},LT=()=>{};function XC(){const n=NM(),{show:e=!1,toggle:t=LT,setToggle:r,menuElement:i}=w.useContext(Fh)||{},a=w.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||LT,onClick:a,"aria-expanded":!!e};return i&&YC(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function JC({children:n}){const[e,t]=XC();return C(Yt,{children:n(e,t)})}JC.displayName="DropdownToggle";const pa=w.createContext(null),wc=(n,e=null)=>n!=null?String(n):e||null,Bh=w.createContext(null);Bh.displayName="NavContext";const xM="data-rr-ui-",LM="rrUi";function su(n){return`${xM}${n}`}function MM(n){return`${LM}${n}`}const VM=["eventKey","disabled","onClick","active","as"];function $M(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ZC({key:n,href:e,active:t,disabled:r,onClick:i}){const a=w.useContext(pa),l=w.useContext(Bh),{activeKey:c}=l||{},f=wc(n,e),p=t==null&&n!=null?wc(c)===f:t;return[{onClick:bn(_=>{r||(i==null||i(_),a&&!_.isPropagationStopped()&&a(f,_))}),"aria-disabled":r||void 0,"aria-selected":p,[su("dropdown-item")]:""},{isActive:p}]}const eA=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=nv}=n,c=$M(n,VM);const[f]=ZC({key:t,href:c.href,disabled:r,onClick:i,active:a});return C(l,Object.assign({},c,{ref:e},f))});eA.displayName="DropdownItem";const tA=w.createContext(ru?window:void 0);tA.Provider;function Hh(){return w.useContext(tA)}function MT(){const n=HC(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Hc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${su("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}){const f=Hh(),[p,g]=oM(e,n,r),[_,T]=MT(),A=_.current,[k,x]=MT(),N=k.current,H=CC(p),$=w.useRef(null),z=w.useRef(!1),W=w.useContext(pa),Z=w.useCallback((L,V,D=V==null?void 0:V.type)=>{g(L,{originalEvent:V,source:D})},[g]),K=bn((L,V)=>{t==null||t(L,V),Z(!1,V,"select"),V.isPropagationStopped()||W==null||W(L,V)}),I=w.useMemo(()=>({toggle:Z,placement:l,show:p,menuElement:A,toggleElement:N,setMenu:T,setToggle:x}),[Z,l,p,A,N,T,x]);A&&H&&!p&&(z.current=A.contains(A.ownerDocument.activeElement));const R=bn(()=>{N&&N.focus&&N.focus()}),P=bn(()=>{const L=$.current;let V=a;if(V==null&&(V=_.current&&YC(_.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(L))return;const D=Ji(_.current,i)[0];D&&D.focus&&D.focus()});w.useEffect(()=>{p?P():z.current&&(z.current=!1,R())},[p,z,R,P]),w.useEffect(()=>{$.current=null});const O=(L,V)=>{if(!_.current)return null;const D=Ji(_.current,i);let we=D.indexOf(L)+V;return we=Math.max(0,Math.min(we,D.length)),D[we]};return $L(w.useCallback(()=>f.document,[f]),"keydown",L=>{var V,D;const{key:we}=L,Le=L.target,He=(V=_.current)==null?void 0:V.contains(Le),Ne=(D=k.current)==null?void 0:D.contains(Le);if(/input|textarea/i.test(Le.tagName)&&(we===" "||we!=="Escape"&&He||we==="Escape"&&Le.type==="search")||!He&&!Ne||we==="Tab"&&(!_.current||!p))return;$.current=L.type;const me={originalEvent:L,source:L.type};switch(we){case"ArrowUp":{const le=O(Le,-1);le&&le.focus&&le.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!p)g(!0,me);else{const le=O(Le,1);le&&le.focus&&le.focus()}return;case"Tab":Xy(Le.ownerDocument,"keyup",le=>{var F;(le.key==="Tab"&&!le.target||!((F=_.current)!=null&&F.contains(le.target)))&&g(!1,me)},{once:!0});break;case"Escape":we==="Escape"&&(L.preventDefault(),L.stopPropagation()),g(!1,me);break}}),C(pa.Provider,{value:K,children:C(Fh.Provider,{value:I,children:c})})}Hc.displayName="Dropdown";Hc.Menu=GC;Hc.Toggle=JC;Hc.Item=eA;const ov=w.createContext({});ov.displayName="DropdownContext";const nA=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=Ie(e,"dropdown-divider"),C(t,{ref:a,className:ye(n,e),role:r,...i})));nA.displayName="DropdownDivider";const rA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=Ie(e,"dropdown-header"),C(t,{ref:a,className:ye(n,e),role:r,...i})));rA.displayName="DropdownHeader";const iA=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=Ll,...c},f)=>{const p=Ie(n,"dropdown-item"),[g,_]=ZC({key:t,href:c.href,disabled:r,onClick:i,active:a});return C(l,{...c,...g,ref:f,className:ye(e,p,_.isActive&&"active",r&&"disabled")})});iA.displayName="DropdownItem";const sA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ie(e,"dropdown-item-text"),C(t,{ref:i,className:ye(n,e),...r})));sA.displayName="DropdownItemText";const UM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",jM=typeof document<"u",av=jM||UM?w.useLayoutEffect:w.useEffect,lv=w.createContext(null);lv.displayName="InputGroupContext";const Ca=w.createContext(null);Ca.displayName="NavbarContext";function oA(n,e){return n}function aA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?i:r:e==="end"?_=n?g:p:e==="start"?_=n?f:c:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const lA=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:c="div",popperConfig:f,variant:p,...g},_)=>{let T=!1;const A=w.useContext(Ca),k=Ie(n,"dropdown-menu"),{align:x,drop:N,isRTL:H}=w.useContext(ov);t=t||x;const $=w.useContext(lv),z=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const V=L[0],D=t[V];T=D==="start",z.push(`${k}-${V}-${D}`)}}else t==="end"&&(T=!0);const W=aA(T,N,H),[Z,{hasShown:K,popper:I,show:R,toggle:P}]=KC({flip:i,rootCloseEvent:r,show:a,usePopper:!A&&z.length===0,offset:[0,2],popperConfig:f,placement:W});if(Z.ref=iu(oA(_),Z.ref),av(()=>{R&&(I==null||I.update())},[R]),!K&&!l&&!$)return null;typeof c!="string"&&(Z.show=R,Z.close=()=>P==null?void 0:P(!1),Z.align=t);let O=g.style;return I!=null&&I.placement&&(O={...g.style,...Z.style},g["x-placement"]=I.placement),C(c,{...g,...Z,style:O,...(z.length||A)&&{"data-bs-popper":"static"},className:ye(e,k,R&&"show",T&&`${k}-end`,p&&`${k}-${p}`,...z)})});lA.displayName="DropdownMenu";const uA=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Fn,...a},l)=>{const c=Ie(n,"dropdown-toggle"),f=w.useContext(Fh);r!==void 0&&(a.bsPrefix=r);const[p]=XC();return p.ref=iu(p.ref,oA(l)),C(i,{className:ye(t,c,e&&`${c}-split`,(f==null?void 0:f.show)&&"show"),...p,...a})});uA.displayName="DropdownToggle";const cA=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:c,onToggle:f,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...A}=tu(n,{show:"onToggle"}),k=w.useContext(lv),x=Ie(t,"dropdown"),N=Uc(),H=I=>T===!1?I==="click":T==="inside"?I!=="rootClose":T==="outside"?I!=="select":!0,$=ci((I,R)=>{var P;!((P=R.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&R.source==="mousedown"||(R.originalEvent.currentTarget===document&&(R.source!=="keydown"||R.originalEvent.key==="Escape")&&(R.source="rootClose"),H(R.source)&&(f==null||f(I,R)))}),W=aA(l==="end",r,N),Z=w.useMemo(()=>({align:l,drop:r,isRTL:N}),[l,r,N]),K={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return C(ov.Provider,{value:Z,children:C(Hc,{placement:W,show:i,onSelect:c,onToggle:$,focusFirstItemOnShow:p,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:k?A.children:C(g,{...A,ref:e,className:ye(a,i&&"show",K[r])})})})});cA.displayName="Dropdown";const sa=Object.assign(cA,{Toggle:uA,Menu:lA,Item:iA,ItemText:sA,Divider:nA,Header:rA});Qn.string,Qn.bool,Qn.bool,Qn.bool,Qn.bool;const rh=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:a=!1,...l},c)=>(n=Ie(n,"img"),C("img",{ref:c,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",i&&"rounded-circle",a&&`${n}-thumbnail`)})));rh.displayName="Image";const FM={type:Qn.string,tooltip:Qn.bool,as:Qn.elementType},zh=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},a)=>C(n,{...i,ref:a,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));zh.displayName="Feedback";zh.propTypes=FM;const hs=w.createContext({}),uv=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:a=!1,as:l="input",...c},f)=>{const{controlId:p}=w.useContext(hs);return e=Ie(e,"form-check-input"),C(l,{...c,ref:f,type:r,id:n||p,className:ye(t,e,i&&"is-valid",a&&"is-invalid")})});uv.displayName="FormCheckInput";const ih=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:a}=w.useContext(hs);return n=Ie(n,"form-check-label"),C("label",{...r,ref:i,htmlFor:t||a,className:ye(e,n)})});ih.displayName="FormCheckLabel";const dA=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:a=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:g,className:_,style:T,title:A="",type:k="checkbox",label:x,children:N,as:H="input",...$},z)=>{e=Ie(e,"form-check"),t=Ie(t,"form-switch");const{controlId:W}=w.useContext(hs),Z=w.useMemo(()=>({controlId:n||W}),[W,n]),K=!N&&x!=null&&x!==!1||tM(N,ih),I=C(uv,{...$,type:k==="switch"?"checkbox":k,ref:z,isValid:l,isInvalid:c,disabled:a,as:H});return C(hs.Provider,{value:Z,children:C("div",{style:T,className:ye(_,K&&e,r&&`${e}-inline`,i&&`${e}-reverse`,k==="switch"&&t),children:N||fe(Yt,{children:[I,K&&C(ih,{title:A,children:x}),p&&C(zh,{type:g,tooltip:f,children:p})]})})})});dA.displayName="FormCheck";const sh=Object.assign(dA,{Input:uv,Label:ih}),fA=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:a,isValid:l=!1,isInvalid:c=!1,plaintext:f,readOnly:p,as:g="input",..._},T)=>{const{controlId:A}=w.useContext(hs);return n=Ie(n,"form-control"),C(g,{..._,type:e,size:r,ref:T,readOnly:p,id:i||A,className:ye(a,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});fA.displayName="FormControl";const BM=Object.assign(fA,{Feedback:zh}),hA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"form-floating"),C(t,{ref:i,className:ye(n,e),...r})));hA.displayName="FormFloating";const cv=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=w.useMemo(()=>({controlId:n}),[n]);return C(hs.Provider,{value:i,children:C(e,{...t,ref:r})})});cv.displayName="FormGroup";const pA=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:a,...l},c)=>{const{controlId:f}=w.useContext(hs);e=Ie(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=ye(i,e,r&&"visually-hidden",t&&p);return a=a||f,t?C(ls,{ref:c,as:"label",className:g,htmlFor:a,...l}):C(n,{ref:c,className:g,htmlFor:a,...l})});pA.displayName="FormLabel";const mA=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:a}=w.useContext(hs);return n=Ie(n,"form-range"),C("input",{...r,type:"range",ref:i,className:ye(e,n),id:t||a})});mA.displayName="FormRange";const gA=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:a=!1,id:l,...c},f)=>{const{controlId:p}=w.useContext(hs);return n=Ie(n,"form-select"),C("select",{...c,size:t,ref:f,className:ye(r,n,e&&`${n}-${e}`,i&&"is-valid",a&&"is-invalid"),id:l||p})});gA.displayName="FormSelect";const yA=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},a)=>(n=Ie(n,"form-text"),C(t,{...i,ref:a,className:ye(e,n,r&&"text-muted")})));yA.displayName="FormText";const vA=w.forwardRef((n,e)=>C(sh,{...n,ref:e,type:"switch"}));vA.displayName="Switch";const HM=Object.assign(vA,{Input:sh.Input,Label:sh.Label}),dv=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...a},l)=>(n=Ie(n,"form-floating"),fe(cv,{ref:l,className:ye(e,n),controlId:r,...a,children:[t,C("label",{htmlFor:r,children:i})]})));dv.displayName="FloatingLabel";const zM={_ref:Qn.any,validated:Qn.bool,as:Qn.elementType},fv=w.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>C(t,{...r,ref:i,className:ye(n,e&&"was-validated")}));fv.displayName="Form";fv.propTypes=zM;const hr=Object.assign(fv,{Group:cv,Control:BM,Floating:hA,Check:sh,Switch:HM,Label:pA,Text:yA,Range:mA,Select:gA,FloatingLabel:dv}),VT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function qM(n,e){const t=VT(n),r=VT(e);return i=>{t&&t(i),r&&r(i)}}function zc(n,e){return w.useMemo(()=>qM(n,e),[n,e])}const _A=w.createContext(null),WM=["as","active","eventKey"];function KM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function wA({key:n,onClick:e,active:t,id:r,role:i,disabled:a}){const l=w.useContext(pa),c=w.useContext(Bh),f=w.useContext(_A);let p=t;const g={role:i};if(c){!i&&c.role==="tablist"&&(g.role="tab");const _=c.getControllerId(n??null),T=c.getControlledId(n??null);g[su("event-key")]=n,g.id=_||r,p=t==null&&n!=null?c.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(g["aria-controls"]=T)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=bn(_=>{a||(e==null||e(_),n!=null&&l&&!_.isPropagationStopped()&&l(n,_))}),[g,{isActive:p}]}const EA=w.forwardRef((n,e)=>{let{as:t=nv,active:r,eventKey:i}=n,a=KM(n,WM);const[l,c]=wA(Object.assign({key:wc(i,a.href),active:r},a));return l[su("active")]=c.isActive,C(t,Object.assign({},a,l,{ref:e}))});EA.displayName="NavItem";const GM=["as","onSelect","activeKey","role","onKeyDown"];function QM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const $T=()=>{},UT=su("event-key"),TA=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:a,onKeyDown:l}=n,c=QM(n,GM);const f=HC(),p=w.useRef(!1),g=w.useContext(pa),_=w.useContext(_A);let T,A;_&&(a=a||"tablist",i=_.activeKey,T=_.getControlledId,A=_.getControllerId);const k=w.useRef(null),x=z=>{const W=k.current;if(!W)return null;const Z=Ji(W,`[${UT}]:not([aria-disabled=true])`),K=W.querySelector("[aria-selected=true]");if(!K||K!==document.activeElement)return null;const I=Z.indexOf(K);if(I===-1)return null;let R=I+z;return R>=Z.length&&(R=0),R<0&&(R=Z.length-1),Z[R]},N=(z,W)=>{z!=null&&(r==null||r(z,W),g==null||g(z,W))},H=z=>{if(l==null||l(z),!_)return;let W;switch(z.key){case"ArrowLeft":case"ArrowUp":W=x(-1);break;case"ArrowRight":case"ArrowDown":W=x(1);break;default:return}W&&(z.preventDefault(),N(W.dataset[MM("EventKey")]||null,z),p.current=!0,f())};w.useEffect(()=>{if(k.current&&p.current){const z=k.current.querySelector(`[${UT}][aria-selected=true]`);z==null||z.focus()}p.current=!1});const $=zc(e,k);return C(pa.Provider,{value:N,children:C(Bh.Provider,{value:{role:a,activeKey:wc(i),getControlledId:T||$T,getControllerId:A||$T},children:C(t,Object.assign({},c,{onKeyDown:H,ref:$,role:a}))})})});TA.displayName="Nav";const YM=Object.assign(TA,{Item:EA});var Sf;function jT(n){if((!Sf&&Sf!==0||n)&&ru){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Sf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Sf}function XM(){return w.useState(null)}function hg(n){n===void 0&&(n=nu());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function JM(n){const e=w.useRef(n);return e.current=n,e}function ZM(n){const e=JM(n);w.useEffect(()=>()=>e.current(),[])}function eV(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const FT=su("modal-open");class hv{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return eV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(as(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(FT,""),as(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(FT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const pg=(n,e)=>ru?n==null?(e||nu()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Wg(n,e){const t=Hh(),[r,i]=w.useState(()=>pg(n,t==null?void 0:t.document));if(!r){const a=pg(n);a&&i(a)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const a=pg(n);a!==r&&i(a)},[n,r]),r}function tV({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const a=w.useRef(null),l=w.useRef(e),c=bn(t);w.useEffect(()=>{e?l.current=!0:c(a.current)},[e,c]);const f=zc(a,Ia(n)),p=w.cloneElement(n,{ref:f});return e?p:i||!l.current&&r?null:p}const nV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function rV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function iV(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:f}=n,p=rV(n,nV);const g=w.useRef(null),_=zc(g,Ia(f)),T=W=>Z=>{W&&g.current&&W(g.current,Z)},A=w.useCallback(T(e),[e]),k=w.useCallback(T(t),[t]),x=w.useCallback(T(r),[r]),N=w.useCallback(T(i),[i]),H=w.useCallback(T(a),[a]),$=w.useCallback(T(l),[l]),z=w.useCallback(T(c),[c]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:A},t&&{onEntering:k},r&&{onEntered:x},i&&{onExit:N},a&&{onExiting:H},l&&{onExited:$},c&&{addEndListener:z},{children:typeof f=="function"?(W,Z)=>f(W,Object.assign({},Z,{ref:_})):w.cloneElement(f,{ref:_})})}const sV=["component"];function oV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const aV=w.forwardRef((n,e)=>{let{component:t}=n,r=oV(n,sV);const i=iV(r);return C(t,Object.assign({ref:e},i))});function lV({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),i=bn(e);return RT(()=>{if(!t.current)return;let a=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,i]),RT(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function uV({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[a,l]=w.useState(!e);e&&a&&l(!1);const c=lV({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(g,_=>{throw p.in||l(!0),_})}}),f=zc(c,Ia(n));return a&&!e?null:w.cloneElement(n,{ref:f})}function Kg(n,e,t){return n?C(aV,Object.assign({},t,{component:n})):e?C(uV,Object.assign({},t,{transition:e})):C(tV,Object.assign({},t))}const cV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function dV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let mg;function fV(n){return mg||(mg=new hv({ownerDocument:n==null?void 0:n.document})),mg}function hV(n){const e=Hh(),t=n||fV(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:w.useCallback(i=>{r.current.backdrop=i},[])})}const IA=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:a,children:l,backdrop:c=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:T,backdropTransition:A,runBackdropTransition:k,autoFocus:x=!0,enforceFocus:N=!0,restoreFocus:H=!0,restoreFocusOptions:$,renderDialog:z,renderBackdrop:W=rt=>C("div",Object.assign({},rt)),manager:Z,container:K,onShow:I,onHide:R=()=>{},onExit:P,onExited:O,onExiting:L,onEnter:V,onEntering:D,onEntered:we}=n,Le=dV(n,cV);const He=Hh(),Ne=Wg(K),ne=hV(Z),me=SC(),le=CC(t),[F,ee]=w.useState(!t),pe=w.useRef(null);w.useImperativeHandle(e,()=>ne,[ne]),ru&&!le&&t&&(pe.current=hg(He==null?void 0:He.document)),t&&F&&ee(!1);const ve=bn(()=>{if(ne.add(),Et.current=ts(document,"keydown",je),st.current=ts(document,"focus",()=>setTimeout(Ae),!0),I&&I(),x){var rt,Ft;const pn=hg((rt=(Ft=ne.dialog)==null?void 0:Ft.ownerDocument)!=null?rt:He==null?void 0:He.document);ne.dialog&&pn&&!_c(ne.dialog,pn)&&(pe.current=pn,ne.dialog.focus())}}),Te=bn(()=>{if(ne.remove(),Et.current==null||Et.current(),st.current==null||st.current(),H){var rt;(rt=pe.current)==null||rt.focus==null||rt.focus($),pe.current=null}});w.useEffect(()=>{!t||!Ne||ve()},[t,Ne,ve]),w.useEffect(()=>{F&&Te()},[F,Te]),ZM(()=>{Te()});const Ae=bn(()=>{if(!N||!me()||!ne.isTopModal())return;const rt=hg(He==null?void 0:He.document);ne.dialog&&rt&&!_c(ne.dialog,rt)&&ne.dialog.focus()}),Ge=bn(rt=>{rt.target===rt.currentTarget&&(p==null||p(rt),c===!0&&R())}),je=bn(rt=>{f&&hC(rt)&&ne.isTopModal()&&(g==null||g(rt),rt.defaultPrevented||R())}),st=w.useRef(),Et=w.useRef(),St=(...rt)=>{ee(!0),O==null||O(...rt)};if(!Ne)return null;const it=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Le,{style:a,className:i,tabIndex:-1});let kt=z?z(it):C("div",Object.assign({},it,{children:w.cloneElement(l,{role:"document"})}));kt=Kg(_,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:L,onExited:St,onEnter:V,onEntering:D,onEntered:we,children:kt});let Kt=null;return c&&(Kt=W({ref:ne.setBackdropRef,onClick:Ge}),Kt=Kg(A,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Kt})),C(Yt,{children:io.createPortal(fe(Yt,{children:[Kt,kt]}),Ne)})});IA.displayName="Modal";const SA=Object.assign(IA,{Manager:hv});function Gg(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function pV(n,e){n.classList?n.classList.add(e):Gg(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function BT(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function mV(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=BT(n.className,e):n.setAttribute("class",BT(n.className&&n.className.baseVal||"",e))}const fl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class CA extends hv{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,as(t,{[e]:`${parseFloat(as(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],as(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(pV(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ji(t,fl.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Ji(t,fl.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-e.scrollBarWidth)),Ji(t,fl.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();mV(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ji(t,fl.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Ji(t,fl.STICKY_CONTENT).forEach(a=>this.restore(i,a)),Ji(t,fl.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let gg;function AA(n){return gg||(gg=new CA(n)),gg}const RA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"modal-body"),C(t,{ref:i,className:ye(n,e),...r})));RA.displayName="ModalBody";const pv=w.createContext({onHide(){}}),mv=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:a,children:l,scrollable:c,...f},p)=>{n=Ie(n,"modal");const g=`${n}-dialog`,_=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return C("div",{...f,ref:p,className:ye(g,e,i&&`${n}-${i}`,r&&`${g}-centered`,c&&`${g}-scrollable`,a&&_),children:C("div",{className:ye(`${n}-content`,t),children:l})})});mv.displayName="ModalDialog";const bA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"modal-footer"),C(t,{ref:i,className:ye(n,e),...r})));bA.displayName="ModalFooter";const NA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...a},l)=>{const c=w.useContext(pv),f=ci(()=>{c==null||c.onHide(),r==null||r()});return fe("div",{ref:l,...a,children:[i,t&&C(Bc,{"aria-label":n,variant:e,onClick:f})]})}),kA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=Ie(n,"modal-header"),C(NA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));kA.displayName="ModalHeader";const gV=Fc("h4"),PA=w.forwardRef(({className:n,bsPrefix:e,as:t=gV,...r},i)=>(e=Ie(e,"modal-title"),C(t,{ref:i,className:ye(n,e),...r})));PA.displayName="ModalTitle";function yV(n){return C(yo,{...n,timeout:null})}function vV(n){return C(yo,{...n,timeout:null})}const DA=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:a,dialogAs:l=mv,"data-bs-theme":c,"aria-labelledby":f,"aria-describedby":p,"aria-label":g,show:_=!1,animation:T=!0,backdrop:A=!0,keyboard:k=!0,onEscapeKeyDown:x,onShow:N,onHide:H,container:$,autoFocus:z=!0,enforceFocus:W=!0,restoreFocus:Z=!0,restoreFocusOptions:K,onEntered:I,onExit:R,onExiting:P,onEnter:O,onEntering:L,onExited:V,backdropClassName:D,manager:we,...Le},He)=>{const[Ne,ne]=w.useState({}),[me,le]=w.useState(!1),F=w.useRef(!1),ee=w.useRef(!1),pe=w.useRef(null),[ve,Te]=XM(),Ae=iu(He,Te),Ge=ci(H),je=Uc();n=Ie(n,"modal");const st=w.useMemo(()=>({onHide:Ge}),[Ge]);function Et(){return we||AA({isRTL:je})}function St(Ue){if(!ru)return;const mt=Et().getScrollbarWidth()>0,Ot=Ue.scrollHeight>nu(Ue).documentElement.clientHeight;ne({paddingRight:mt&&!Ot?jT():void 0,paddingLeft:!mt&&Ot?jT():void 0})}const it=ci(()=>{ve&&St(ve.dialog)});VC(()=>{Hg(window,"resize",it),pe.current==null||pe.current()});const kt=()=>{F.current=!0},Kt=Ue=>{F.current&&ve&&Ue.target===ve.dialog&&(ee.current=!0),F.current=!1},rt=()=>{le(!0),pe.current=pC(ve.dialog,()=>{le(!1)})},Ft=Ue=>{Ue.target===Ue.currentTarget&&rt()},pn=Ue=>{if(A==="static"){Ft(Ue);return}if(ee.current||Ue.target!==Ue.currentTarget){ee.current=!1;return}H==null||H()},Pr=Ue=>{k?x==null||x(Ue):(Ue.preventDefault(),A==="static"&&rt())},Hn=(Ue,mt)=>{Ue&&St(Ue),O==null||O(Ue,mt)},Bt=Ue=>{pe.current==null||pe.current(),R==null||R(Ue)},Zt=(Ue,mt)=>{L==null||L(Ue,mt),Xy(window,"resize",it)},er=Ue=>{Ue&&(Ue.style.display=""),V==null||V(Ue),Hg(window,"resize",it)},Pn=w.useCallback(Ue=>C("div",{...Ue,className:ye(`${n}-backdrop`,D,!T&&"show")}),[T,D,n]),Dt={...t,...Ne};Dt.display="block";const an=Ue=>C("div",{role:"dialog",...Ue,style:Dt,className:ye(e,n,me&&`${n}-static`,!T&&"show"),onClick:A?pn:void 0,onMouseUp:Kt,"data-bs-theme":c,"aria-label":g,"aria-labelledby":f,"aria-describedby":p,children:C(l,{...Le,onMouseDown:kt,className:r,contentClassName:i,children:a})});return C(pv.Provider,{value:st,children:C(SA,{show:_,ref:Ae,backdrop:A,container:$,keyboard:!0,autoFocus:z,enforceFocus:W,restoreFocus:Z,restoreFocusOptions:K,onEscapeKeyDown:Pr,onShow:N,onHide:H,onEnter:Hn,onEntering:Zt,onEntered:I,onExit:Bt,onExiting:P,onExited:er,manager:Et(),transition:T?yV:void 0,backdropTransition:T?vV:void 0,renderBackdrop:Pn,renderDialog:an})})});DA.displayName="Modal";const Ml=Object.assign(DA,{Body:RA,Header:kA,Title:PA,Footer:bA,Dialog:mv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),OA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"nav-item"),C(t,{ref:i,className:ye(n,e),...r})));OA.displayName="NavItem";const gv=w.forwardRef(({bsPrefix:n,className:e,as:t=Ll,active:r,eventKey:i,disabled:a=!1,...l},c)=>{n=Ie(n,"nav-link");const[f,p]=wA({key:wc(i,l.href),active:r,disabled:a,...l});return C(t,{...l,...f,ref:c,disabled:a,className:ye(e,n,a&&"disabled",p.isActive&&"active")})});gv.displayName="NavLink";const xA=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:a=!1,justify:l=!1,navbar:c,navbarScroll:f,className:p,activeKey:g,..._}=tu(n,{activeKey:"onSelect"}),T=Ie(r,"nav");let A,k,x=!1;const N=w.useContext(Ca),H=w.useContext(iv);return N?(A=N.bsPrefix,x=c??!0):H&&({cardHeaderBsPrefix:k}=H),C(YM,{as:t,ref:e,activeKey:g,className:ye(p,{[T]:!x,[`${A}-nav`]:x,[`${A}-nav-scroll`]:x&&f,[`${k}-${i}`]:!!k,[`${T}-${i}`]:!!i,[`${T}-fill`]:a,[`${T}-justified`]:l}),..._})});xA.displayName="Nav";const HT=Object.assign(xA,{Item:OA,Link:gv}),LA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=Ie(n,"navbar-brand");const a=t||(r.href?"a":"span");return C(a,{...r,ref:i,className:ye(e,n)})});LA.displayName="NavbarBrand";const MA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Ie(e,"navbar-collapse");const i=w.useContext(Ca);return C(mC,{in:!!(i&&i.expanded),...t,children:C("div",{ref:r,className:e,children:n})})});MA.displayName="NavbarCollapse";const VA=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:a,...l},c)=>{n=Ie(n,"navbar-toggler");const{onToggle:f,expanded:p}=w.useContext(Ca)||{},g=ci(_=>{a&&a(_),f&&f()});return i==="button"&&(l.type="button"),C(i,{...l,ref:c,onClick:g,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||C("span",{className:`${n}-icon`})})});VA.displayName="NavbarToggle";const Qg=new WeakMap,zT=(n,e)=>{if(!n||!e)return;const t=Qg.get(e)||new Map;Qg.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function _V(n,e=typeof window>"u"?void 0:window){const t=zT(n,e),[r,i]=w.useState(()=>t?t.matches:!1);return av(()=>{let a=zT(n,e);if(!a)return i(!1);let l=Qg.get(e);const c=()=>{i(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function wV(n){const e=Object.keys(n);function t(c,f){return c===f?f:c?`${c} and ${f}`:f}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function i(c){const f=r(c);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(c){let f=n[c];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function l(c,f,p){let g;typeof c=="object"?(g=c,p=f,f=!0):(f=f||!0,g={[c]:f});let _=w.useMemo(()=>Object.entries(g).reduce((T,[A,k])=>((k==="up"||k===!0)&&(T=t(T,a(A))),(k==="down"||k===!0)&&(T=t(T,i(A))),T),""),[JSON.stringify(g)]);return _V(_,p)}return l}const EV=wV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),$A=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"offcanvas-body"),C(t,{ref:i,className:ye(n,e),...r})));$A.displayName="OffcanvasBody";const TV={[ai]:"show",[Zi]:"show"},UA=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:a=!1,appear:l=!1,...c},f)=>(n=Ie(n,"offcanvas"),C(Uh,{ref:f,addEndListener:$h,in:r,mountOnEnter:i,unmountOnExit:a,appear:l,...c,childRef:Ia(t),children:(p,g)=>w.cloneElement(t,{...g,className:ye(e,t.props.className,(p===ai||p===yc)&&`${n}-toggling`,TV[p])})})));UA.displayName="OffcanvasToggling";const jA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=Ie(n,"offcanvas-header"),C(NA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));jA.displayName="OffcanvasHeader";const IV=Fc("h5"),FA=w.forwardRef(({className:n,bsPrefix:e,as:t=IV,...r},i)=>(e=Ie(e,"offcanvas-title"),C(t,{ref:i,className:ye(n,e),...r})));FA.displayName="OffcanvasTitle";function SV(n){return C(UA,{...n})}function CV(n){return C(yo,{...n})}const BA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:a,show:l=!1,backdrop:c=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:T,container:A,autoFocus:k=!0,enforceFocus:x=!0,restoreFocus:N=!0,restoreFocusOptions:H,onEntered:$,onExit:z,onExiting:W,onEnter:Z,onEntering:K,onExited:I,backdropClassName:R,manager:P,renderStaticNode:O=!1,...L},V)=>{const D=w.useRef();n=Ie(n,"offcanvas");const[we,Le]=w.useState(!1),He=ci(T),Ne=EV(a||"xs","up");w.useEffect(()=>{Le(a?l&&!Ne:l)},[l,a,Ne]);const ne=w.useMemo(()=>({onHide:He}),[He]);function me(){return P||(p?(D.current||(D.current=new CA({handleContainerOverflow:!1})),D.current):AA())}const le=(ve,...Te)=>{ve&&(ve.style.visibility="visible"),Z==null||Z(ve,...Te)},F=(ve,...Te)=>{ve&&(ve.style.visibility=""),I==null||I(...Te)},ee=w.useCallback(ve=>C("div",{...ve,className:ye(`${n}-backdrop`,R)}),[R,n]),pe=ve=>C("div",{...ve,...L,className:ye(e,a?`${n}-${a}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return fe(Yt,{children:[!we&&(a||O)&&pe({}),C(pv.Provider,{value:ne,children:C(SA,{show:we,ref:V,backdrop:c,container:A,keyboard:f,autoFocus:k,enforceFocus:x&&!p,restoreFocus:N,restoreFocusOptions:H,onEscapeKeyDown:g,onShow:_,onHide:He,onEnter:le,onEntering:K,onEntered:$,onExit:z,onExiting:W,onExited:F,manager:me(),transition:SV,backdropTransition:CV,renderBackdrop:ee,renderDialog:pe})})]})});BA.displayName="Offcanvas";const AV=Object.assign(BA,{Body:$A,Header:jA,Title:FA}),HA=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(Ca),i=ci(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return C(AV,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});HA.displayName="NavbarOffcanvas";const zA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ie(e,"navbar-text"),C(t,{ref:i,className:ye(n,e),...r})));zA.displayName="NavbarText";const qA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:a,fixed:l,sticky:c,className:f,as:p="nav",expanded:g,onToggle:_,onSelect:T,collapseOnSelect:A=!1,...k}=tu(n,{expanded:"onToggle"}),x=Ie(t,"navbar"),N=w.useCallback((...z)=>{T==null||T(...z),A&&g&&(_==null||_(!1))},[T,A,g,_]);k.role===void 0&&p!=="nav"&&(k.role="navigation");let H=`${x}-expand`;typeof r=="string"&&(H=`${H}-${r}`);const $=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:x,expanded:!!g,expand:r}),[x,g,r,_]);return C(Ca.Provider,{value:$,children:C(pa.Provider,{value:N,children:C(p,{ref:e,...k,className:ye(f,x,r&&H,i&&`${x}-${i}`,a&&`bg-${a}`,c&&`sticky-${c}`,l&&`fixed-${l}`)})})})});qA.displayName="Navbar";const Cf=Object.assign(qA,{Brand:LA,Collapse:MA,Offcanvas:HA,Text:zA,Toggle:VA}),WA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:i,rootCloseEvent:a,menuRole:l,disabled:c,active:f,renderMenuOnMount:p,menuVariant:g,..._},T)=>{const A=Ie(void 0,"nav-item");return fe(sa,{ref:T,..._,className:ye(i,A),children:[C(sa.Toggle,{id:n,eventKey:null,active:f,disabled:c,childBsPrefix:r,as:gv,children:e}),C(sa.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:g,children:t})]})});WA.displayName="NavDropdown";const Qu=Object.assign(WA,{Item:sa.Item,ItemText:sa.ItemText,Divider:sa.Divider,Header:sa.Header}),RV=()=>{};function bV(n,e,{disabled:t,clickTrigger:r}={}){const i=e||RV;qC(n,i,{disabled:t,clickTrigger:r});const a=bn(l=>{hC(l)&&i(l)});w.useEffect(()=>{if(t||n==null)return;const l=nu(Uf(n));let c=(l.defaultView||window).event;const f=ts(l,"keyup",p=>{if(p===c){c=void 0;return}a(p)});return()=>{f()}},[n,t,a])}const KA=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:i,containerPadding:a,popperConfig:l={},transition:c,runTransition:f}=n,[p,g]=zg(),[_,T]=zg(),A=zc(g,e),k=Wg(n.container),x=Wg(n.target),[N,H]=w.useState(!n.show),$=zC(x,p,WC({placement:i,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:_,popperConfig:l}));n.show&&N&&H(!1);const z=(...L)=>{H(!0),n.onExited&&n.onExited(...L)},W=n.show||!N;if(bV(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!W)return null;const{onExit:Z,onExiting:K,onEnter:I,onEntering:R,onEntered:P}=n;let O=n.children(Object.assign({},$.attributes.popper,{style:$.styles.popper,ref:A}),{popper:$,placement:i,show:!!n.show,arrowProps:Object.assign({},$.attributes.arrow,{style:$.styles.arrow,ref:T})});return O=Kg(c,f,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:O,onExit:Z,onExiting:K,onExited:z,onEnter:I,onEntering:R,onEntered:P}),k?io.createPortal(O,k):null});KA.displayName="Overlay";const GA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"popover-header"),C(t,{ref:i,className:ye(n,e),...r})));GA.displayName="PopoverHeader";const yv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ie(e,"popover-body"),C(t,{ref:i,className:ye(n,e),...r})));yv.displayName="PopoverBody";function QA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function YA(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const NV=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,body:a,arrowProps:l,hasDoneInitialMeasure:c,popper:f,show:p,...g},_)=>{const T=Ie(n,"popover"),A=Uc(),[k]=(e==null?void 0:e.split("-"))||[],x=QA(k,A);let N=r;return p&&!c&&(N={...r,...YA(f==null?void 0:f.strategy)}),fe("div",{ref:_,role:"tooltip",style:N,"x-placement":k,className:ye(t,T,k&&`bs-popover-${x}`),...g,children:[C("div",{className:"popover-arrow",...l}),a?C(yv,{children:i}):i]})}),kV=Object.assign(NV,{Header:GA,Body:yv,POPPER_OFFSET:[0,8]}),XA=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,arrowProps:a,hasDoneInitialMeasure:l,popper:c,show:f,...p},g)=>{n=Ie(n,"tooltip");const _=Uc(),[T]=(e==null?void 0:e.split("-"))||[],A=QA(T,_);let k=r;return f&&!l&&(k={...r,...YA(c==null?void 0:c.strategy)}),fe("div",{ref:g,style:k,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${A}`),...p,children:[C("div",{className:"tooltip-arrow",...a}),C("div",{className:`${n}-inner`,children:i})]})});XA.displayName="Tooltip";const JA=Object.assign(XA,{TOOLTIP_OFFSET:[0,6]});function PV(n){const e=w.useRef(null),t=Ie(void 0,"popover"),r=Ie(void 0,"tooltip"),i=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Gg(e.current,t))return kV.POPPER_OFFSET;if(Gg(e.current,r))return JA.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[i]]}function DV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=i=>t(nh(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(nh(i)))}const ZA=w.forwardRef(({children:n,transition:e=yo,popperConfig:t={},rootClose:r=!1,placement:i="top",show:a=!1,...l},c)=>{const f=w.useRef({}),[p,g]=w.useState(null),[_,T]=PV(l.offset),A=iu(c,_),k=e===!0?yo:e||void 0,x=ci(N=>{g(N),t==null||t.onFirstUpdate==null||t.onFirstUpdate(N)});return av(()=>{p&&l.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{a||g(null)},[a]),C(KA,{...l,ref:A,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:x},transition:k,rootClose:r,placement:i,show:a,children:(N,{arrowProps:H,popper:$,show:z})=>{var W;DV(N,H);const Z=$==null?void 0:$.placement,K=Object.assign(f.current,{state:$==null?void 0:$.state,scheduleUpdate:$==null?void 0:$.update,placement:Z,outOfBoundaries:($==null||(W=$.state)==null||(W=W.modifiersData.hide)==null?void 0:W.isReferenceHidden)||!1,strategy:t.strategy}),I=!!p;return typeof n=="function"?n({...N,placement:Z,show:z,...!e&&z&&{className:"show"},popper:K,arrowProps:H,hasDoneInitialMeasure:I}):w.cloneElement(n,{...N,placement:Z,arrowProps:H,popper:K,hasDoneInitialMeasure:I,className:ye(n.props.className,!e&&z&&"show"),style:{...n.props.style,...N.style}})}})});ZA.displayName="Overlay";function OV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function qT(n,e,t){const[r]=e,i=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==i)&&!_c(i,a)&&n(...e)}Qn.oneOf(["click","hover","focus"]);const xV=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:i,defaultShow:a=!1,onToggle:l,delay:c,placement:f,flip:p=f&&f.indexOf("auto")!==-1,...g})=>{const _=w.useRef(null),T=iu(_,Ia(t)),A=UC(),k=w.useRef(""),[x,N]=lC(i,a,l),H=OV(c),{onFocus:$,onBlur:z,onClick:W}=typeof t!="function"?w.Children.only(t).props:{},Z=Le=>{T(nh(Le))},K=w.useCallback(()=>{if(A.clear(),k.current="show",!H.show){N(!0);return}A.set(()=>{k.current==="show"&&N(!0)},H.show)},[H.show,N,A]),I=w.useCallback(()=>{if(A.clear(),k.current="hide",!H.hide){N(!1);return}A.set(()=>{k.current==="hide"&&N(!1)},H.hide)},[H.hide,N,A]),R=w.useCallback((...Le)=>{K(),$==null||$(...Le)},[K,$]),P=w.useCallback((...Le)=>{I(),z==null||z(...Le)},[I,z]),O=w.useCallback((...Le)=>{N(!x),W==null||W(...Le)},[W,N,x]),L=w.useCallback((...Le)=>{qT(K,Le,"fromElement")},[K]),V=w.useCallback((...Le)=>{qT(I,Le,"toElement")},[I]),D=n==null?[]:[].concat(n),we={ref:Z};return D.indexOf("click")!==-1&&(we.onClick=O),D.indexOf("focus")!==-1&&(we.onFocus=R,we.onBlur=P),D.indexOf("hover")!==-1&&(we.onMouseOver=L,we.onMouseOut=V),fe(Yt,{children:[typeof t=="function"?t(we):w.cloneElement(t,we),C(ZA,{...g,show:x,onHide:I,flip:p,placement:f,popperConfig:r,target:_.current,children:e})]})},us=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=Ie(n,"row"),l=uC(),c=cC(),f=`${a}-cols`,p=[];return l.forEach(g=>{const _=r[g];delete r[g];let T;_!=null&&typeof _=="object"?{cols:T}=_:T=_;const A=g!==c?`-${g}`:"";T!=null&&p.push(`${f}${A}-${T}`)}),C(t,{ref:i,...r,className:ye(e,a,...p)})});us.displayName="Row";const qh=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:a,...l},c)=>{n=Ie(n,"spinner");const f=`${n}-${t}`;return C(i,{ref:c,...l,className:ye(a,f,r&&`${f}-${r}`,e&&`text-${e}`)})});qh.displayName="Spinner";function Ee(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function f(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):i(g.value).then(c,f)}p((r=r.apply(n,[])).next())})}function LV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let Fe=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};Fe.equal=(n,e)=>new Fe("equal",n,e).toString();Fe.notEqual=(n,e)=>new Fe("notEqual",n,e).toString();Fe.lessThan=(n,e)=>new Fe("lessThan",n,e).toString();Fe.lessThanEqual=(n,e)=>new Fe("lessThanEqual",n,e).toString();Fe.greaterThan=(n,e)=>new Fe("greaterThan",n,e).toString();Fe.greaterThanEqual=(n,e)=>new Fe("greaterThanEqual",n,e).toString();Fe.isNull=n=>new Fe("isNull",n).toString();Fe.isNotNull=n=>new Fe("isNotNull",n).toString();Fe.between=(n,e,t)=>new Fe("between",n,[e,t]).toString();Fe.startsWith=(n,e)=>new Fe("startsWith",n,e).toString();Fe.endsWith=(n,e)=>new Fe("endsWith",n,e).toString();Fe.select=n=>new Fe("select",void 0,n).toString();Fe.search=(n,e)=>new Fe("search",n,e).toString();Fe.orderDesc=n=>new Fe("orderDesc",n).toString();Fe.orderAsc=n=>new Fe("orderAsc",n).toString();Fe.cursorAfter=n=>new Fe("cursorAfter",void 0,n).toString();Fe.cursorBefore=n=>new Fe("cursorBefore",void 0,n).toString();Fe.limit=n=>new Fe("limit",void 0,n).toString();Fe.offset=n=>new Fe("offset",void 0,n).toString();Fe.contains=(n,e)=>new Fe("contains",n,e).toString();Fe.or=n=>new Fe("or",void 0,n.map(e=>JSON.parse(e))).toString();Fe.and=n=>new Fe("and",void 0,n.map(e=>JSON.parse(e))).toString();class oe extends Error{constructor(e,t=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=i}}class Br{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(l=>{i.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+i.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var c,f,p;if(!this.realtime.reconnect||((f=(c=this.realtime)===null||c===void 0?void 0:c.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const g=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${g/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},g)}))},onMessage:e=>{var t,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],c=i.data;l&&!c.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let f=i.data;if(f!=null&&f.channels){if(!f.channels.some(g=>this.realtime.channels.has(g)))return;this.realtime.subscriptions.forEach(g=>{f.channels.some(_=>g.channels.includes(_))&&setTimeout(()=>g.callback(f))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,c]of Object.entries(Br.flatten(i)))t.searchParams.append(l,c);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(i);break;case"multipart/form-data":const l=new FormData;for(const[c,f]of Object.entries(i))if(f instanceof File)l.append(c,f,f.name);else if(Array.isArray(f))for(const p of f)l.append(`${c}[]`,p);else l.append(c,f);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},i={},a){return Ee(this,void 0,void 0,function*(){const l=Object.values(i).find(p=>p instanceof File);if(l.size<=Br.CHUNK_SIZE)return yield this.call(e,t,r,i);let c=0,f=null;for(;c<l.size;){let p=c+Br.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${c}-${p-1}/${l.size}`;const g=l.slice(c,p);let _=Object.assign(Object.assign({},i),{file:new File([g],l.name)});f=yield this.call(e,t,r,_),a&&typeof a=="function"&&a({$id:f.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/Br.CHUNK_SIZE),chunksUploaded:Math.ceil(p/Br.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),c=p}return f})}ping(){return Ee(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},i={},a="json"){var l;return Ee(this,void 0,void 0,function*(){const{uri:c,options:f}=this.prepareRequest(e,t,r,i);let p=null;const g=yield fetch(c,f),_=g.headers.get("x-appwrite-warning");if(_&&_.split(";").forEach(A=>console.warn("Warning: "+A)),!((l=g.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield g.json():a==="arrayBuffer"?p=yield g.arrayBuffer():p={message:yield g.text()},400<=g.status)throw new oe(p==null?void 0:p.message,g.status,p==null?void 0:p.type,p);const T=g.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),Br.flatten(a,l)):r[l]=a}return r}}Br.CHUNK_SIZE=1024*1024*5;class lo{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),lo.flatten(a,l)):r[l]=a}return r}}lo.CHUNK_SIZE=5*1024*1024;class MV{constructor(e){this.client=e}get(){return Ee(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}create(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');if(typeof r>"u")throw new oe('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof i<"u"&&(l.name=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}updateEmail(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}listIdentities(e){return Ee(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}deleteIdentity(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createJWT(){return Ee(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}listLogs(e){return Ee(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateMFA(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaAuthenticator(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');if(typeof t>"u")throw new oe('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deleteMfaAuthenticator(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createMfaChallenge(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaChallenge(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "challengeId"');if(typeof t>"u")throw new oe('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}listMfaFactors(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}getMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}createMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updateMfaRecoveryCodes(){return Ee(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}updateName(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}updatePassword(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}updatePhone(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "phone"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}getPrefs(){return Ee(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}updatePrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createRecovery(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateRecovery(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');if(typeof r>"u")throw new oe('Missing required parameter: "password"');const i="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("put",l,c,a)})}listSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}deleteSessions(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,t)})}createAnonymousSession(){return Ee(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}createEmailPasswordSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "email"');if(typeof t>"u")throw new oe('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateMagicURLSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createOAuth2Session(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(lo.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}updatePhoneSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createSession(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}getSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}deleteSession(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}updateStatus(){return Ee(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}createPushTarget(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');if(typeof t>"u")throw new oe('Missing required parameter: "identifier"');const i="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}updatePushTarget(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');if(typeof t>"u")throw new oe('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof t<"u"&&(i.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deletePushTarget(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createEmailToken(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');const i="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}createMagicURLToken(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof i<"u"&&(l.phrase=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}createOAuth2Token(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(lo.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}createPhoneToken(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}createVerification(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createPhoneVerification(){return Ee(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updatePhoneVerification(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "userId"');if(typeof t>"u")throw new oe('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}class VV{constructor(e){this.client=e}listDocuments(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createDocument(e,t,r,i,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');if(typeof i>"u")throw new oe('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),c={};typeof r<"u"&&(c.documentId=r),typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",f,p,c)})}getDocument(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof i<"u"&&(l.queries=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("get",c,f,l)})}updateDocument(e,t,r,i,a){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),c={};typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",f,p,c)})}deleteDocument(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "databaseId"');if(typeof t>"u")throw new oe('Missing required parameter: "collectionId"');if(typeof r>"u")throw new oe('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("delete",l,c,a)})}}class $V{constructor(e){this.client=e}listFiles(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createFile(e,t,r,i,a=l=>{}){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');if(typeof r>"u")throw new oe('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),c={};typeof t<"u"&&(c.fileId=t),typeof r<"u"&&(c.file=r),typeof i<"u"&&(c.permissions=i);const f=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,p,c,a)})}getFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateFile(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof i<"u"&&(l.permissions=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("put",c,f,l)})}deleteFile(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}getFileDownload(e,t){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(lo.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Br.flatten(i)))a.searchParams.append(l,c);return a.toString()}getFilePreview(e,t,r,i,a,l,c,f,p,g,_,T,A){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const k="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),x={};typeof r<"u"&&(x.width=r),typeof i<"u"&&(x.height=i),typeof a<"u"&&(x.gravity=a),typeof l<"u"&&(x.quality=l),typeof c<"u"&&(x.borderWidth=c),typeof f<"u"&&(x.borderColor=f),typeof p<"u"&&(x.borderRadius=p),typeof g<"u"&&(x.opacity=g),typeof _<"u"&&(x.rotation=_),typeof T<"u"&&(x.background=T),typeof A<"u"&&(x.output=A);const N=new URL(this.client.config.endpoint+k);x.project=this.client.config.project;for(const[H,$]of Object.entries(lo.flatten(x)))N.searchParams.append(H,$);x.project=this.client.config.project;for(const[H,$]of Object.entries(Br.flatten(x)))N.searchParams.append(H,$);return N.toString()}getFileView(e,t){if(typeof e>"u")throw new oe('Missing required parameter: "bucketId"');if(typeof t>"u")throw new oe('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(lo.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Br.flatten(i)))a.searchParams.append(l,c);return a.toString()}}class UV{constructor(e){this.client=e}list(e,t){return Ee(this,void 0,void 0,function*(){const r="/teams",i={};typeof e<"u"&&(i.queries=e),typeof t<"u"&&(i.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}create(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "name"');const i="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}get(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateName(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),i={};typeof t<"u"&&(i.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}delete(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}listMemberships(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const i="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createMembership(e,t,r,i,a,l,c){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof i<"u"&&(p.userId=i),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof c<"u"&&(p.name=c);const g=new URL(this.client.config.endpoint+f),_={"content-type":"application/json"};return yield this.client.call("post",g,_,p)})}getMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateMembership(e,t,r){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');if(typeof r>"u")throw new oe('Missing required parameter: "roles"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("patch",l,c,a)})}deleteMembership(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}updateMembershipStatus(e,t,r,i){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "membershipId"');if(typeof r>"u")throw new oe('Missing required parameter: "userId"');if(typeof i>"u")throw new oe('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("patch",c,f,l)})}getPrefs(e){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updatePrefs(e,t){return Ee(this,void 0,void 0,function*(){if(typeof e>"u")throw new oe('Missing required parameter: "teamId"');if(typeof t>"u")throw new oe('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),i={};typeof t<"u"&&(i.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}var eR,tR;class Vl{static custom(e){return e}static unique(e=7){const t=LV(Vl,eR,"m",tR).call(Vl);let r="";for(let i=0;i<e;i++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}eR=Vl,tR=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var WT;(function(n){n.Totp="totp"})(WT||(WT={}));var KT;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(KT||(KT={}));var Yg;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(Yg||(Yg={}));var GT;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(GT||(GT={}));var QT;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(QT||(QT={}));var YT;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(YT||(YT={}));var XT;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(XT||(XT={}));var JT;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(JT||(JT={}));var ZT;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(ZT||(ZT={}));const qc=new Br;qc.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const ou=new $V(qc),Wc=new MV(qc),Kr=new VV(qc),jV=new UV(qc);async function FV(){return{session:await Wc.getSession("current")}}const vv=async()=>{try{return await Wc.get()}catch(n){console.error(n)}};async function BV(){await Wc.deleteSession("current"),console.log("log out")}async function oa(){const n=await vv();return n?HV(n):(console.error("User data is undefined"),null)}function HV(n){return{name:n.name,$id:n.$id}}async function zV(){return{teams:(await jV.list()).teams}}var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},qV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},rR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,A=p&63;f||(A=64,l||(T=64)),r.push(t[g],t[_],t[T],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new WV;const T=a<<2|c>>4;if(r.push(T),p!==64){const A=c<<4&240|p>>2;if(r.push(A),_!==64){const k=p<<6&192|_;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KV=function(n){const e=nR(n);return rR.encodeByteArray(e,!0)},oh=function(n){return KV(n).replace(/\./g,"")},iR=function(n){try{return rR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=()=>GV().__FIREBASE_DEFAULTS__,YV=()=>{if(typeof process>"u"||typeof e0>"u")return;const n=e0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&iR(n[1]);return e&&JSON.parse(e)},Wh=()=>{try{return QV()||YV()||XV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sR=n=>{var e,t;return(t=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JV=n=>{const e=sR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},oR=()=>{var n;return(n=Wh())===null||n===void 0?void 0:n.config},aR=n=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZV=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[oh(JSON.stringify(t)),oh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function n2(){var n;const e=(n=Wh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function s2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o2(){const n=Bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function a2(){return!n2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l2(){try{return typeof indexedDB=="object"}catch{return!1}}function u2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="FirebaseError";class Ts extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=c2,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?d2(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ts(i,c,r)}}function d2(n,e){return n.replace(f2,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const f2=/\{\$([^}]+)}/g;function h2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ec(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(t0(a)&&t0(l)){if(!Ec(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function t0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function p2(n,e){const t=new m2(n,e);return t.subscribe.bind(t)}class m2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");g2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=yg),i.error===void 0&&(i.error=yg),i.complete===void 0&&(i.complete=yg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(n){return n&&n._delegate?n._delegate:n}class ma{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ZV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_2(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v2(n){return n===ea?void 0:n}function _2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new y2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const E2={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},T2=ht.INFO,I2={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},S2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=I2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _v{constructor(e){this.name=e,this._logLevel=T2,this._logHandler=S2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const C2=(n,e)=>e.some(t=>n instanceof t);let n0,r0;function A2(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lR=new WeakMap,Xg=new WeakMap,uR=new WeakMap,vg=new WeakMap,wv=new WeakMap;function b2(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(uo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&lR.set(t,n)}).catch(()=>{}),wv.set(e,n),e}function N2(n){if(Xg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Xg.set(n,e)}let Jg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function k2(n){Jg=n(Jg)}function P2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(_g(this),e,...t);return uR.set(r,e.sort?e.sort():[e]),uo(r)}:R2().includes(n)?function(...e){return n.apply(_g(this),e),uo(lR.get(this))}:function(...e){return uo(n.apply(_g(this),e))}}function D2(n){return typeof n=="function"?P2(n):(n instanceof IDBTransaction&&N2(n),C2(n,A2())?new Proxy(n,Jg):n)}function uo(n){if(n instanceof IDBRequest)return b2(n);if(vg.has(n))return vg.get(n);const e=D2(n);return e!==n&&(vg.set(n,e),wv.set(e,n)),e}const _g=n=>wv.get(n);function O2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=uo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(uo(l.result),f.oldVersion,f.newVersion,uo(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const x2=["get","getKey","getAll","getAllKeys","count"],L2=["put","add","delete","clear"],wg=new Map;function i0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=L2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x2.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return wg.set(e,a),a}k2(n=>({...n,get:(e,t,r)=>i0(e,t)||n.get(e,t,r),has:(e,t)=>!!i0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(V2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function V2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",s0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new _v("@firebase/app"),$2="@firebase/app-compat",U2="@firebase/analytics-compat",j2="@firebase/analytics",F2="@firebase/app-check-compat",B2="@firebase/app-check",H2="@firebase/auth",z2="@firebase/auth-compat",q2="@firebase/database",W2="@firebase/data-connect",K2="@firebase/database-compat",G2="@firebase/functions",Q2="@firebase/functions-compat",Y2="@firebase/installations",X2="@firebase/installations-compat",J2="@firebase/messaging",Z2="@firebase/messaging-compat",e$="@firebase/performance",t$="@firebase/performance-compat",n$="@firebase/remote-config",r$="@firebase/remote-config-compat",i$="@firebase/storage",s$="@firebase/storage-compat",o$="@firebase/firestore",a$="@firebase/vertexai",l$="@firebase/firestore-compat",u$="firebase",c$="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",d$={[Zg]:"fire-core",[$2]:"fire-core-compat",[j2]:"fire-analytics",[U2]:"fire-analytics-compat",[B2]:"fire-app-check",[F2]:"fire-app-check-compat",[H2]:"fire-auth",[z2]:"fire-auth-compat",[q2]:"fire-rtdb",[W2]:"fire-data-connect",[K2]:"fire-rtdb-compat",[G2]:"fire-fn",[Q2]:"fire-fn-compat",[Y2]:"fire-iid",[X2]:"fire-iid-compat",[J2]:"fire-fcm",[Z2]:"fire-fcm-compat",[e$]:"fire-perf",[t$]:"fire-perf-compat",[n$]:"fire-rc",[r$]:"fire-rc-compat",[i$]:"fire-gcs",[s$]:"fire-gcs-compat",[o$]:"fire-fst",[l$]:"fire-fst-compat",[a$]:"fire-vertex","fire-js":"fire-js",[u$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,f$=new Map,ty=new Map;function o0(n,e){try{n.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $l(n){const e=n.name;if(ty.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,n);for(const t of ah.values())o0(t,n);for(const t of f$.values())o0(t,n);return!0}function Ev(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function li(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new Kc("app","Firebase",h$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=c$;function cR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(t||(t=oR()),!t)throw co.create("no-options");const a=ah.get(i);if(a){if(Ec(t,a.options)&&Ec(r,a.config))return a;throw co.create("duplicate-app",{appName:i})}const l=new w2(i);for(const f of ty.values())l.addComponent(f);const c=new p$(t,r,l);return ah.set(i,c),c}function dR(n=ey){const e=ah.get(n);if(!e&&n===ey&&oR())return cR();if(!e)throw co.create("no-app",{appName:n});return e}function fo(n,e,t){var r;let i=(r=d$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}$l(new ma(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="firebase-heartbeat-database",g$=1,Tc="firebase-heartbeat-store";let Eg=null;function fR(){return Eg||(Eg=O2(m$,g$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tc)}catch(t){console.warn(t)}}}}).catch(n=>{throw co.create("idb-open",{originalErrorMessage:n.message})})),Eg}async function y$(n){try{const t=(await fR()).transaction(Tc),r=await t.objectStore(Tc).get(hR(n));return await t.done,r}catch(e){if(e instanceof Ts)ps.warn(e.message);else{const t=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(t.message)}}}async function a0(n,e){try{const r=(await fR()).transaction(Tc,"readwrite");await r.objectStore(Tc).put(e,hR(n)),await r.done}catch(t){if(t instanceof Ts)ps.warn(t.message);else{const r=co.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ps.warn(r.message)}}}function hR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=1024,_$=30;class w${constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new T$(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_$){const l=I$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=l0(),{heartbeatsToSend:r,unsentEntries:i}=E$(this._heartbeatsCache.heartbeats),a=oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ps.warn(t),""}}}function l0(){return new Date().toISOString().substring(0,10)}function E$(n,e=v$){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),u0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),u0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class T${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l2()?u2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await y$(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return a0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return a0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u0(n){return oh(JSON.stringify({version:2,heartbeats:n})).length}function I$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(n){$l(new ma("platform-logger",e=>new M2(e),"PRIVATE")),$l(new ma("heartbeat",e=>new w$(e),"PRIVATE")),fo(Zg,s0,n),fo(Zg,s0,"esm2017"),fo("fire-js","")}S$("");var C$="firebase",A$="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(C$,A$,"app");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ho,pR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function P(){}P.prototype=R.prototype,I.D=R.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(O,L,V){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return R.prototype[L].apply(O,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,R,P){P||(P=0);var O=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)O[L]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(L=0;16>L;++L)O[L]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=I.g[0],P=I.g[1],L=I.g[2];var V=I.g[3],D=R+(V^P&(L^V))+O[0]+3614090360&4294967295;R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+O[1]+3905402710&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+O[2]+606105819&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+O[3]+3250441966&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+O[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+O[5]+1200080426&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+O[6]+2821735955&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+O[7]+4249261313&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+O[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+O[9]+2336552879&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+O[10]+4294925233&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+O[11]+2304563134&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(V^P&(L^V))+O[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=V+(L^R&(P^L))+O[13]+4254626195&4294967295,V=R+(D<<12&4294967295|D>>>20),D=L+(P^V&(R^P))+O[14]+2792965006&4294967295,L=V+(D<<17&4294967295|D>>>15),D=P+(R^L&(V^R))+O[15]+1236535329&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(L^V&(P^L))+O[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+O[6]+3225465664&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+O[11]+643717713&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+O[0]+3921069994&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+O[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+O[10]+38016083&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+O[15]+3634488961&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+O[4]+3889429448&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+O[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+O[14]+3275163606&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+O[3]+4107603335&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+O[8]+1163531501&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^V&(P^L))+O[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=V+(P^L&(R^P))+O[2]+4243563512&4294967295,V=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(V^R))+O[7]+1735328473&4294967295,L=V+(D<<14&4294967295|D>>>18),D=P+(V^R&(L^V))+O[12]+2368359562&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(P^L^V)+O[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+O[8]+2272392833&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+O[11]+1839030562&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+O[14]+4259657740&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+O[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+O[4]+1272893353&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+O[7]+4139469664&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+O[10]+3200236656&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+O[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+O[0]+3936430074&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+O[3]+3572445317&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+O[6]+76029189&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^V)+O[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=V+(R^P^L)+O[12]+3873151461&4294967295,V=R+(D<<11&4294967295|D>>>21),D=L+(V^R^P)+O[15]+530742520&4294967295,L=V+(D<<16&4294967295|D>>>16),D=P+(L^V^R)+O[2]+3299628645&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(L^(P|~V))+O[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+O[7]+1126891415&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+O[14]+2878612391&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+O[5]+4237533241&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+O[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+O[3]+2399980690&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+O[10]+4293915773&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+O[1]+2240044497&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+O[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+O[15]+4264355552&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+O[6]+2734768916&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+O[13]+1309151649&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~V))+O[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=V+(P^(R|~L))+O[11]+3174756917&4294967295,V=R+(D<<10&4294967295|D>>>22),D=L+(R^(V|~P))+O[2]+718787259&4294967295,L=V+(D<<15&4294967295|D>>>17),D=P+(V^(L|~R))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var P=R-this.blockSize,O=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=P;)i(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<R;)if(O[L++]=I.charCodeAt(V++),L==this.blockSize){i(this,O),L=0;break}}else for(;V<R;)if(O[L++]=I[V++],L==this.blockSize){i(this,O),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var P=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=P&255,P/=256;for(this.u(I),I=Array(16),R=P=0;4>R;++R)for(var O=0;32>O;O+=8)I[P++]=this.g[R]>>>O&255;return I};function a(I,R){var P=c;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=R(I)}function l(I,R){this.h=R;for(var P=[],O=!0,L=I.length-1;0<=L;L--){var V=I[L]|0;O&&V==R||(P[L]=V,O=!1)}this.g=P}var c={};function f(I){return-128<=I&&128>I?a(I,function(R){return new l([R|0],0>R?-1:0)}):new l([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return N(p(-I));for(var R=[],P=1,O=0;I>=P;O++)R[O]=I/P|0,P*=4294967296;return new l(R,0)}function g(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return N(g(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(R,8)),O=_,L=0;L<I.length;L+=8){var V=Math.min(8,I.length-L),D=parseInt(I.substring(L,L+V),R);8>V?(V=p(Math.pow(R,V)),O=O.j(V).add(p(D))):(O=O.j(P),O=O.add(p(D)))}return O}var _=f(0),T=f(1),A=f(16777216);n=l.prototype,n.m=function(){if(x(this))return-N(this).m();for(var I=0,R=1,P=0;P<this.g.length;P++){var O=this.i(P);I+=(0<=O?O:4294967296+O)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(x(this))return"-"+N(this).toString(I);for(var R=p(Math.pow(I,6)),P=this,O="";;){var L=W(P,R).g;P=H(P,L.j(R));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=L,k(P))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function x(I){return I.h==-1}n.l=function(I){return I=H(this,I),x(I)?-1:k(I)?0:1};function N(I){for(var R=I.g.length,P=[],O=0;O<R;O++)P[O]=~I.g[O];return new l(P,~I.h).add(T)}n.abs=function(){return x(this)?N(this):this},n.add=function(I){for(var R=Math.max(this.g.length,I.g.length),P=[],O=0,L=0;L<=R;L++){var V=O+(this.i(L)&65535)+(I.i(L)&65535),D=(V>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);O=D>>>16,V&=65535,D&=65535,P[L]=D<<16|V}return new l(P,P[P.length-1]&-2147483648?-1:0)};function H(I,R){return I.add(N(R))}n.j=function(I){if(k(this)||k(I))return _;if(x(this))return x(I)?N(this).j(N(I)):N(N(this).j(I));if(x(I))return N(this.j(N(I)));if(0>this.l(A)&&0>I.l(A))return p(this.m()*I.m());for(var R=this.g.length+I.g.length,P=[],O=0;O<2*R;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<I.g.length;L++){var V=this.i(O)>>>16,D=this.i(O)&65535,we=I.i(L)>>>16,Le=I.i(L)&65535;P[2*O+2*L]+=D*Le,$(P,2*O+2*L),P[2*O+2*L+1]+=V*Le,$(P,2*O+2*L+1),P[2*O+2*L+1]+=D*we,$(P,2*O+2*L+1),P[2*O+2*L+2]+=V*we,$(P,2*O+2*L+2)}for(O=0;O<R;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=R;O<2*R;O++)P[O]=0;return new l(P,0)};function $(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function z(I,R){this.g=I,this.h=R}function W(I,R){if(k(R))throw Error("division by zero");if(k(I))return new z(_,_);if(x(I))return R=W(N(I),R),new z(N(R.g),N(R.h));if(x(R))return R=W(I,N(R)),new z(N(R.g),R.h);if(30<I.g.length){if(x(I)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var P=T,O=R;0>=O.l(I);)P=Z(P),O=Z(O);var L=K(P,1),V=K(O,1);for(O=K(O,2),P=K(P,2);!k(O);){var D=V.add(O);0>=D.l(I)&&(L=L.add(P),V=D),O=K(O,1),P=K(P,1)}return R=H(I,L.j(R)),new z(L,R)}for(L=_;0<=I.l(R);){for(P=Math.max(1,Math.floor(I.m()/R.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=p(P),D=V.j(R);x(D)||0<D.l(I);)P-=O,V=p(P),D=V.j(R);k(V)&&(V=T),L=L.add(V),I=H(I,D)}return new z(L,I)}n.A=function(I){return W(this,I).h},n.and=function(I){for(var R=Math.max(this.g.length,I.g.length),P=[],O=0;O<R;O++)P[O]=this.i(O)&I.i(O);return new l(P,this.h&I.h)},n.or=function(I){for(var R=Math.max(this.g.length,I.g.length),P=[],O=0;O<R;O++)P[O]=this.i(O)|I.i(O);return new l(P,this.h|I.h)},n.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),P=[],O=0;O<R;O++)P[O]=this.i(O)^I.i(O);return new l(P,this.h^I.h)};function Z(I){for(var R=I.g.length+1,P=[],O=0;O<R;O++)P[O]=I.i(O)<<1|I.i(O-1)>>>31;return new l(P,I.h)}function K(I,R){var P=R>>5;R%=32;for(var O=I.g.length-P,L=[],V=0;V<O;V++)L[V]=0<R?I.i(V+P)>>>R|I.i(V+P+1)<<32-R:I.i(V+P);return new l(L,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,ho=l}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mR,tc,gR,jf,ny,yR,vR,_R;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var G=d[b];if(!(G in E))break e;E=E[G]}d=d[d.length-1],b=E[d],y=y(b),y!=b&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var E=0,b=!1,G={next:function(){if(!b&&E<d.length){var te=E++;return{value:y(te,d[te]),done:!1}}return b=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function _(d,y,E){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,b),d.apply(y,G)}}return function(){return d.apply(y,arguments)}}function T(d,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function A(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function k(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(b,G,te){for(var ge=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ge[bt-2]=arguments[bt];return y.prototype[G].apply(b,ge)}}function x(d){const y=d.length;if(0<y){const E=Array(y);for(let b=0;b<y;b++)E[b]=d[b];return E}return[]}function N(d,y){for(let E=1;E<arguments.length;E++){const b=arguments[E];if(f(b)){const G=d.length||0,te=b.length||0;d.length=G+te;for(let ge=0;ge<te;ge++)d[G+ge]=b[ge]}else d.push(b)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function W(d){return W[" "](d),d}W[" "]=function(){};var Z=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function K(d,y,E){for(const b in d)y.call(E,d[b],b,d)}function I(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function R(d){const y={};for(const E in d)y[E]=d[E];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,y){let E,b;for(let G=1;G<arguments.length;G++){b=arguments[G];for(E in b)d[E]=b[E];for(let te=0;te<P.length;te++)E=P[te],Object.prototype.hasOwnProperty.call(b,E)&&(d[E]=b[E])}}function L(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function V(d){c.setTimeout(()=>{throw d},0)}function D(){var d=me;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,E){const b=Le.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var Le=new H(()=>new He,d=>d.reset());class He{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,me=new we,le=()=>{const d=c.Promise.resolve(void 0);Ne=()=>{d.then(F)}};var F=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){V(E)}var y=Le;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function Te(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(Z){e:{try{W(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Te.aa.h.call(this)}}k(Te,pe);var Ae={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),je=0;function st(d,y,E,b,G){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=G,this.key=++je,this.da=this.fa=!1}function Et(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function St(d){this.src=d,this.g={},this.h=0}St.prototype.add=function(d,y,E,b,G){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var ge=kt(d,y,b,G);return-1<ge?(y=d[ge],E||(y.fa=!1)):(y=new st(y,this.src,te,!!b,G),y.fa=E,d.push(y)),y};function it(d,y){var E=y.type;if(E in d.g){var b=d.g[E],G=Array.prototype.indexOf.call(b,y,void 0),te;(te=0<=G)&&Array.prototype.splice.call(b,G,1),te&&(Et(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function kt(d,y,E,b){for(var G=0;G<d.length;++G){var te=d[G];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==b)return G}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),rt={};function Ft(d,y,E,b,G){if(Array.isArray(y)){for(var te=0;te<y.length;te++)Ft(d,y[te],E,b,G);return null}return E=an(E),d&&d[Ge]?d.K(y,E,p(b)?!!b.capture:!1,G):pn(d,y,E,!1,b,G)}function pn(d,y,E,b,G,te){if(!y)throw Error("Invalid event type");var ge=p(G)?!!G.capture:!!G,bt=Pn(d);if(bt||(d[Kt]=bt=new St(d)),E=bt.add(y,E,b,ge,te),E.proxy)return E;if(b=Pr(),E.proxy=b,b.src=d,b.listener=E,d.addEventListener)ve||(G=ge),G===void 0&&(G=!1),d.addEventListener(y.toString(),b,G);else if(d.attachEvent)d.attachEvent(Zt(y.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Pr(){function d(E){return y.call(d.src,d.listener,E)}const y=er;return d}function Hn(d,y,E,b,G){if(Array.isArray(y))for(var te=0;te<y.length;te++)Hn(d,y[te],E,b,G);else b=p(b)?!!b.capture:!!b,E=an(E),d&&d[Ge]?(d=d.i,y=String(y).toString(),y in d.g&&(te=d.g[y],E=kt(te,E,b,G),-1<E&&(Et(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete d.g[y],d.h--)))):d&&(d=Pn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=kt(y,E,b,G)),(E=-1<d?y[d]:null)&&Bt(E))}function Bt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ge])it(y.i,d);else{var E=d.type,b=d.proxy;y.removeEventListener?y.removeEventListener(E,b,d.capture):y.detachEvent?y.detachEvent(Zt(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Pn(y))?(it(E,d),E.h==0&&(E.src=null,y[Kt]=null)):Et(d)}}}function Zt(d){return d in rt?rt[d]:rt[d]="on"+d}function er(d,y){if(d.da)d=!0;else{y=new Te(y,this);var E=d.listener,b=d.ha||d.src;d.fa&&Bt(d),d=E.call(b,y)}return d}function Pn(d){return d=d[Kt],d instanceof St?d:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(d){return typeof d=="function"?d:(d[Dt]||(d[Dt]=function(y){return d.handleEvent(y)}),d[Dt])}function Ue(){ee.call(this),this.i=new St(this),this.M=this,this.F=null}k(Ue,ee),Ue.prototype[Ge]=!0,Ue.prototype.removeEventListener=function(d,y,E,b){Hn(this,d,y,E,b)};function mt(d,y){var E,b=d.F;if(b)for(E=[];b;b=b.F)E.push(b);if(d=d.M,b=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var G=y;y=new pe(b,d),O(y,G)}if(G=!0,E)for(var te=E.length-1;0<=te;te--){var ge=y.g=E[te];G=Ot(ge,b,!0,y)&&G}if(ge=y.g=d,G=Ot(ge,b,!0,y)&&G,G=Ot(ge,b,!1,y)&&G,E)for(te=0;te<E.length;te++)ge=y.g=E[te],G=Ot(ge,b,!1,y)&&G}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],b=0;b<E.length;b++)Et(E[b]);delete d.g[y],d.h--}}this.F=null},Ue.prototype.K=function(d,y,E,b){return this.i.add(String(d),y,!1,E,b)},Ue.prototype.L=function(d,y,E,b){return this.i.add(String(d),y,!0,E,b)};function Ot(d,y,E,b){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,te=0;te<y.length;++te){var ge=y[te];if(ge&&!ge.da&&ge.capture==E){var bt=ge.listener,ln=ge.ha||ge.src;ge.fa&&it(d.i,ge),G=bt.call(ln,b)!==!1&&G}}return G&&!b.defaultPrevented}function mn(d,y,E){if(typeof d=="function")E&&(d=T(d,E));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function zn(d){d.g=mn(()=>{d.g=null,d.i&&(d.i=!1,zn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class qn extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(d){ee.call(this),this.h=d,this.g={}}k(ze,ee);var ot=[];function gn(d){K(d.g,function(y,E){this.g.hasOwnProperty(E)&&Bt(y)},d),d.g={}}ze.prototype.N=function(){ze.aa.N.call(this),gn(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=c.JSON.stringify,hi=c.JSON.parse,Do=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function pi(){}pi.prototype.h=null;function Gr(d){return d.h||(d.h=d.i())}function $i(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){pe.call(this,"d")}k(nr,pe);function As(){pe.call(this,"c")}k(As,pe);var yr={},Oo=null;function mi(){return Oo=Oo||new Ue}yr.La="serverreachability";function gi(d){pe.call(this,yr.La,d)}k(gi,pe);function rr(d){const y=mi();mt(y,new gi(y))}yr.STAT_EVENT="statevent";function xo(d,y){pe.call(this,yr.STAT_EVENT,d),this.stat=y}k(xo,pe);function Ht(d){const y=mi();mt(y,new xo(y,d))}yr.Ma="timingevent";function U(d,y){pe.call(this,yr.Ma,d),this.size=y}k(U,pe);function q(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function re(d,y,E,b,G,te){d.info(function(){if(d.g)if(te)for(var ge="",bt=te.split("&"),ln=0;ln<bt.length;ln++){var vt=bt[ln].split("=");if(1<vt.length){var yn=vt[0];vt=vt[1];var tn=yn.split("_");ge=2<=tn.length&&tn[1]=="type"?ge+(yn+"="+vt+"&"):ge+(yn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+b+") [attempt "+G+"]: "+y+`
`+E+`
`+ge})}function _e(d,y,E,b,G,te,ge){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+G+"]: "+y+`
`+E+`
`+te+" "+ge})}function ke(d,y,E,b){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(d,E)+(b?" "+b:"")})}function Qe(d,y){d.info(function(){return"TIMEOUT: "+y})}X.prototype.info=function(){};function Pe(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var b=E[d];if(!(2>b.length)){var G=b[1];if(Array.isArray(G)&&!(1>G.length)){var te=G[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<G.length;ge++)G[ge]=""}}}}return tr(E)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function et(){}k(et,pi),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},De=new et;function Je(d,y,E,b){this.j=d,this.i=y,this.l=E,this.R=b||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}var Tt={},at={};function Rt(d,y,E){d.L=1,d.v=Ps(wr(y)),d.m=E,d.P=!0,Dr(d,null)}function Dr(d,y){d.F=Date.now(),ct(d),d.A=wr(d.v);var E=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),Os(E.i,"t",b),d.C=0,E=d.j.J,d.h=new Gt,d.g=_d(d.j,E?y:null,!d.m),0<d.O&&(d.M=new qn(T(d.Y,d,d.g),d.O)),y=d.U,E=d.g,b=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(ot[0]=G.toString()),G=ot);for(var te=0;te<G.length;te++){var ge=Ft(E,G[te],b||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),rr(),re(d.i,d.u,d.A,d.l,d.R,d.m)}Je.prototype.ca=function(d){d=d.target;const y=this.M;y&&sr(d)==3?y.j():this.Y(d)},Je.prototype.Y=function(d){try{if(d==this.g)e:{const tn=sr(this.g);var y=this.g.Ba();const Lr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||tn!=4||y==7||(y==8||0>=Lr?rr(3):rr(2)),_r(this);var E=this.g.Z();this.X=E;t:if(yi(this)){var b=vu(this.g);d="";var G=b.length,te=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),On(this);var ge="";break t}this.h.i=new c.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,d+=this.h.i.decode(b[y],{stream:!(te&&y==G-1)});b.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,_e(this.i,this.u,this.A,this.l,this.R,tn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,ln=this.g;if((bt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(bt)){var vt=bt;break t}}vt=null}if(E=vt)ke(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vi(this,E);else{this.o=!1,this.s=3,Ht(12),Tn(this),On(this);break e}}if(this.P){E=!0;let Tr;for(;!this.J&&this.C<ge.length;)if(Tr=vr(this,ge),Tr==at){tn==4&&(this.s=4,Ht(14),E=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==Tt){this.s=4,Ht(15),ke(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else ke(this.i,this.l,Tr,null),vi(this,Tr);if(yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ge.length!=0||this.h.h||(this.s=1,Ht(16),E=!1),this.o=this.o&&E,!E)ke(this.i,this.l,ge,"[Invalid Chunked Response]"),Tn(this),On(this);else if(0<ge.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),wu(yn),yn.M=!0,Ht(11))}}else ke(this.i,this.l,ge,null),vi(this,ge);tn==4&&Tn(this),this.o&&!this.J&&(tn==4?ja(this.j,this):(this.o=!1,ct(this)))}else La(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Tn(this),On(this)}}}catch{}finally{}};function yi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function vr(d,y){var E=d.C,b=y.indexOf(`
`,E);return b==-1?at:(E=Number(y.substring(E,b)),isNaN(E)?Tt:(b+=1,b+E>y.length?at:(y=y.slice(b,b+E),d.C=b+E,y)))}Je.prototype.cancel=function(){this.J=!0,Tn(this)};function ct(d){d.S=Date.now()+d.I,Rs(d,d.I)}function Rs(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=q(T(d.ba,d),y)}function _r(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Je.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(rr(),Ht(17)),Tn(this),this.s=2,On(this)):Rs(this,this.S-d)};function On(d){d.j.G==0||d.J||ja(d.j,d)}function Tn(d){_r(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,gn(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function vi(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||ft(E.h,d))){if(!d.K&&ft(E.h,d)&&E.G==3){try{var b=E.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var G=b;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ua(E),Zr(E);else break e;$a(E),Ht(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=q(T(E.Za,E),6e3));if(1>=_i(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Hi(E,11)}else if((d.K||E.g==d)&&Ua(E),!$(y))for(G=E.Da.g.parse(y),y=0;y<G.length;y++){let vt=G[y];if(E.T=vt[0],vt=vt[1],E.G==2)if(vt[0]=="c"){E.K=vt[1],E.ia=vt[2];const yn=vt[3];yn!=null&&(E.la=yn,E.j.info("VER="+E.la));const tn=vt[4];tn!=null&&(E.Aa=tn,E.j.info("SVER="+E.Aa));const Lr=vt[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(b=1.5*Lr,E.L=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Tr=d.g;if(Tr){const Fo=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var te=b.h;te.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Or(te,te.h),te.h=null))}if(b.D){const Ba=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(b.ya=Ba,Pt(b.I,b.D,Ba))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),b=E;var ge=d;if(b.qa=vd(b,b.J?b.ia:null,b.W),ge.K){Lo(b.h,ge);var bt=ge,ln=b.L;ln&&(bt.I=ln),bt.B&&(_r(bt),ct(bt)),b.g=ge}else jo(b);0<E.i.length&&Ii(E)}else vt[0]!="stop"&&vt[0]!="close"||Hi(E,7);else E.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Hi(E,7):Sn(E):vt[0]!="noop"&&E.l&&E.l.ta(vt),E.v=0)}}rr(4)}catch{}}var dt=class{constructor(d,y){this.g=d,this.map=y}};function Ct(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _i(d){return d.h?1:d.g?d.g.size:0}function ft(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Or(d,y){d.g?d.g.add(y):d.h=y}function Lo(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ct.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Na(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return x(d.i)}function ka(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],E=d.length,b=0;b<E;b++)y.push(d[b]);return y}y=[],E=0;for(b in d)y[E++]=d[b];return y}function Pa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const b in d)y[E++]=b;return y}}}function bs(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=Pa(d),b=ka(d),G=b.length,te=0;te<G;te++)y.call(void 0,b[te],E&&E[te],d)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gp(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var b=d[E].indexOf("="),G=null;if(0<=b){var te=d[E].substring(0,b);G=d[E].substring(b+1)}else te=d[E];y(te,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ui(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ui){this.h=d.h,Vo(this,d.j),this.o=d.o,this.g=d.g,Ns(this,d.s),this.l=d.l;var y=d.i,E=new wi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ks(this,E),this.m=d.m}else d&&(y=String(d).match(Mo))?(this.h=!1,Vo(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),Ns(this,y[4]),this.l=gt(y[5]||"",!0),ks(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Ui.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ds(y,Da,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ds(y,Da,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ds(E,E.charAt(0)=="/"?cd:ud,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ds(E,mu)),d.join("")};function wr(d){return new Ui(d)}function Vo(d,y,E){d.j=E?gt(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ns(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function ks(d,y,E){y instanceof wi?(d.i=y,Ei(d.i,d.h)):(E||(y=Ds(y,dd)),d.i=new wi(y,d.h))}function Pt(d,y,E){d.i.set(y,E)}function Ps(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gt(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ds(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,ld),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ld(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Da=/[#\/\?@]/g,ud=/[#\?:]/g,cd=/[#\?]/g,dd=/[#\?@]/g,mu=/#/g;function wi(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function In(d){d.g||(d.g=new Map,d.h=0,d.i&&gp(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=wi.prototype,n.add=function(d,y){In(this),this.i=null,d=xr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function Qr(d,y){In(d),y=xr(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Yr(d,y){return In(d),y=xr(d,y),d.g.has(y)}n.forEach=function(d,y){In(this),this.g.forEach(function(E,b){E.forEach(function(G){d.call(y,G,b,this)},this)},this)},n.na=function(){In(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let b=0;b<y.length;b++){const G=d[b];for(let te=0;te<G.length;te++)E.push(y[b])}return E},n.V=function(d){In(this);let y=[];if(typeof d=="string")Yr(this,d)&&(y=y.concat(this.g.get(xr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},n.set=function(d,y){return In(this),this.i=null,d=xr(this,d),Yr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Os(d,y,E){Qr(d,y),0<E.length&&(d.i=null,d.g.set(xr(d,y),x(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var b=y[E];const te=encodeURIComponent(String(b)),ge=this.V(b);for(b=0;b<ge.length;b++){var G=te;ge[b]!==""&&(G+="="+encodeURIComponent(String(ge[b]))),d.push(G)}}return this.i=d.join("&")};function xr(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Ei(d,y){y&&!d.j&&(In(d),d.i=null,d.g.forEach(function(E,b){var G=b.toLowerCase();b!=G&&(Qr(this,b),Os(this,G,E))},d)),d.j=y}function yp(d,y){const E=new X;if(c.Image){const b=new Image;b.onload=A(ir,E,"TestLoadImage: loaded",!0,y,b),b.onerror=A(ir,E,"TestLoadImage: error",!1,y,b),b.onabort=A(ir,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=A(ir,E,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else y(!1)}function fd(d,y){const E=new X,b=new AbortController,G=setTimeout(()=>{b.abort(),ir(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:b.signal}).then(te=>{clearTimeout(G),te.ok?ir(E,"TestPingServer: ok",!0,y):ir(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),ir(E,"TestPingServer: error",!1,y)})}function ir(d,y,E,b,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),b(E)}catch{}}function vp(){this.g=new Do}function hd(d,y,E){const b=E||"";try{bs(d,function(G,te){let ge=G;p(G)&&(ge=tr(G)),y.push(b+te+"="+encodeURIComponent(ge))})}catch(G){throw y.push(b+"type="+encodeURIComponent("_badmap")),G}}function ji(d){this.l=d.Ub||null,this.j=d.eb||!1}k(ji,pi),ji.prototype.g=function(){return new $o(this.l,this.j)},ji.prototype.i=function(d){return function(){return d}}({});function $o(d,y){Ue.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k($o,Ue),n=$o.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Jr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function pd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Xr(this):Jr(this),this.readyState==3&&pd(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Xr(this))},n.Qa=function(d){this.g&&(this.response=d,Xr(this))},n.ga=function(){this.g&&Xr(this)};function Xr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Jr(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function Jr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty($o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Fi(d){let y="";return K(d,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function xs(d,y,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Fi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Pt(d,y,E))}function $t(d){Ue.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k($t,Ue);var _p=/^https?$/i,gu=["POST","PUT"];n=$t.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?Gr(this.o):Gr(De),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(te){Uo(this,te);return}if(d=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var G in b)E.set(G,b[G]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const te of b.keys())E.set(te,b.get(te));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),G=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(gu,y,void 0))||b||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of E)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){Uo(this,te)}};function Uo(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Oa(d),Er(d)}function Oa(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Er(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yu(this):this.bb())},n.bb=function(){yu(this)};function yu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||sr(d)!=4||d.Z()!=2)){if(d.u&&sr(d)==4)mn(d.Ea,0,d);else if(mt(d,"readystatechange"),sr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var b;if(b=ge===0){var G=String(d.D).match(Mo)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),b=!_p.test(G?G.toLowerCase():"")}E=b}if(E)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var te=2<sr(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",Oa(d)}}finally{Er(d)}}}}function Er(d,y){if(d.g){xa(d);const E=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||mt(d,"ready");try{E.onreadystatechange=b}catch{}}}function xa(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function sr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),hi(y)}};function vu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function La(d){const y={};d=(d.g&&2<=sr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if($(d[b]))continue;var E=L(d[b]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[G]||[];y[G]=te,te.push(E)}I(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function _u(d){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ti("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ti("baseRetryDelayMs",5e3,d),this.cb=Ti("retryDelaySeedMs",1e4,d),this.Wa=Ti("forwardChannelMaxRetries",2,d),this.wa=Ti("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ct(d&&d.concurrentRequestLimit),this.Da=new vp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_u.prototype,n.la=8,n.G=1,n.connect=function(d,y,E,b){Ht(0),this.W=d,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.I=vd(this,null,this.W),Ii(this)};function Sn(d){if(Ma(d),d.G==3){var y=d.U++,E=wr(d.I);if(Pt(E,"SID",d.K),Pt(E,"RID",y),Pt(E,"TYPE","terminate"),Bi(d,E),y=new Je(d,d.j,y),y.L=2,y.v=Ps(wr(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=_d(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}yd(d)}function Zr(d){d.g&&(wu(d),d.g.cancel(),d.g=null)}function Ma(d){Zr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ua(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ii(d){if(!en(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ne||le(),ne||(Ne(),ne=!0),me.add(y,d),d.B=0}}function wp(d,y){return _i(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=q(T(d.Ga,d,y),gd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Je(this,this.j,d);let te=this.o;if(this.S&&(te?(te=R(te),O(te,this.S)):te=this.S),this.m!==null||this.O||(G.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ls(this,G,y),E=wr(this.I),Pt(E,"RID",d),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),Bi(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(Fi(te)))+"&"+y:this.m&&xs(E,this.m,te)),Or(this.h,G),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",y),Pt(E,"SID","null"),G.T=!0,Rt(G,E,null)):Rt(G,E,y),this.G=2}}else this.G==3&&(d?Va(this,d):this.i.length==0||en(this.h)||Va(this))};function Va(d,y){var E;y?E=y.l:E=d.U++;const b=wr(d.I);Pt(b,"SID",d.K),Pt(b,"RID",E),Pt(b,"AID",d.T),Bi(d,b),d.m&&d.o&&xs(b,d.m,d.o),E=new Je(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Ls(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Or(d.h,E),Rt(E,b,y)}function Bi(d,y){d.H&&K(d.H,function(E,b){Pt(y,b,E)}),d.l&&bs({},function(E,b){Pt(y,b,E)})}function Ls(d,y,E){E=Math.min(d.i.length,E);var b=d.l?T(d.l.Na,d.l,d):null;e:{var G=d.i;let te=-1;for(;;){const ge=["count="+E];te==-1?0<E?(te=G[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let bt=!0;for(let ln=0;ln<E;ln++){let vt=G[ln].g;const yn=G[ln].map;if(vt-=te,0>vt)te=Math.max(0,G[ln].g-100),bt=!1;else try{hd(yn,ge,"req"+vt+"_")}catch{b&&b(yn)}}if(bt){b=ge.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,b}function jo(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ne||le(),ne||(Ne(),ne=!0),me.add(y,d),d.v=0}}function $a(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=q(T(d.Fa,d),gd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,md(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=q(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Zr(this),md(this))};function wu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function md(d){d.g=new Je(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=wr(d.qa);Pt(y,"RID","rpc"),Pt(y,"SID",d.K),Pt(y,"AID",d.T),Pt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(y,"TO",d.ja),Pt(y,"TYPE","xmlhttp"),Bi(d,y),d.m&&d.o&&xs(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ps(wr(y)),E.m=null,E.P=!0,Dr(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Zr(this),$a(this),Ht(19))};function Ua(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ja(d,y){var E=null;if(d.g==y){Ua(d),wu(d),d.g=null;var b=2}else if(ft(d.h,y))E=y.D,Lo(d.h,y),b=1;else return;if(d.G!=0){if(y.o)if(b==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var G=d.B;b=mi(),mt(b,new U(b,E)),Ii(d)}else jo(d);else if(G=y.s,G==3||G==0&&0<y.X||!(b==1&&wp(d,y)||b==2&&$a(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),G){case 1:Hi(d,5);break;case 4:Hi(d,10);break;case 3:Hi(d,6);break;default:Hi(d,2)}}}function gd(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function Hi(d,y){if(d.j.info("Error code "+y),y==2){var E=T(d.fb,d),b=d.Xa;const G=!b;b=new Ui(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Vo(b,"https"),Ps(b),G?yp(b.toString(),E):fd(b.toString(),E)}else Ht(2);d.G=0,d.l&&d.l.sa(y),yd(d),Ma(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function yd(d){if(d.G=0,d.ka=[],d.l){const y=Na(d.h);(y.length!=0||d.i.length!=0)&&(N(d.ka,y),N(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function vd(d,y,E){var b=E instanceof Ui?wr(E):new Ui(E);if(b.g!="")y&&(b.g=y+"."+b.g),Ns(b,b.s);else{var G=c.location;b=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var te=new Ui(null);b&&Vo(te,b),y&&(te.g=y),G&&Ns(te,G),E&&(te.l=E),b=te}return E=d.D,y=d.ya,E&&y&&Pt(b,E,y),Pt(b,"VER",d.la),Bi(d,b),b}function _d(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new $t(new ji({eb:E})):new $t(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}n=Eu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fa(){}Fa.prototype.g=function(d,y){return new Wn(d,y)};function Wn(d,y){Ue.call(this),this.g=new _u(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!$(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Si(this)}k(Wn,Ue),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Sn(this.g)},Wn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=tr(d),d=E);y.i.push(new dt(y.Ya++,d)),y.G==3&&Ii(y)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,Wn.aa.N.call(this)};function wd(d){nr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}k(wd,nr);function Ed(){As.call(this),this.status=1}k(Ed,As);function Si(d){this.g=d}k(Si,Eu),Si.prototype.ua=function(){mt(this.g,"a")},Si.prototype.ta=function(d){mt(this.g,new wd(d))},Si.prototype.sa=function(d){mt(this.g,new Ed)},Si.prototype.ra=function(){mt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,_R=function(){return new Fa},vR=function(){return mi()},yR=yr,ny={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,jf=Re,Se.COMPLETE="complete",gR=Se,$i.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,tc=$i,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,mR=$t}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",f0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new _v("@firebase/firestore");function yl(){return ga.logLevel}function be(n,...e){if(ga.logLevel<=ht.DEBUG){const t=e.map(Tv);ga.debug(`Firestore (${lu}): ${n}`,...t)}}function ms(n,...e){if(ga.logLevel<=ht.ERROR){const t=e.map(Tv);ga.error(`Firestore (${lu}): ${n}`,...t)}}function Ul(n,...e){if(ga.logLevel<=ht.WARN){const t=e.map(Tv);ga.warn(`Firestore (${lu}): ${n}`,...t)}}function Tv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+n;throw ms(e),new Error(e)}function At(n,e){n||Ye()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ts{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Un.UNAUTHENTICATED))}shutdown(){}}class b${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class N${constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new cs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new wR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new Un(e)}}class k${constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class P${constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new k$(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D${constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,li(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new h0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new h0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=O$(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function jl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-62135596800,m0=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*m0);return new fn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<p0)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m0}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-p0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new fn(0,0))}static max(){return new tt(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__name__";class Ni{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ye(),r===void 0?r=e.length-t:r>e.length-t&&Ye(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Ni.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ni.isNumericId(e),i=Ni.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ni.extractNumericId(e).compare(Ni.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class Vt extends Ni{construct(e,t,r){return new Vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const x$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Ni{construct(e,t,r){return new Nn(e,t,r)}static isValidIdentifier(e){return x$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g0}static keyField(){return new Nn([g0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new xe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new xe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(t)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Vt.fromString(e))}static fromName(e){return new Be(Vt.fromString(e).popFirst(5))}static empty(){return new Be(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function L$(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new fn(t+1,0):new fn(t,r));return new vo(i,Be.empty(),e)}function M$(n){return new vo(n.readTime,n.key,Ic)}class vo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vo(tt.min(),Be.empty(),Ic)}static max(){return new vo(tt.max(),Be.empty(),Ic)}}function V$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==$$)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new ie((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function j$(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=-1;function Gh(n){return n==null}function lh(n){return n===0&&1/n==-1/0}function F$(n){return typeof n=="number"&&Number.isInteger(n)&&!lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="";function B$(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=y0(e)),e=H$(n.get(t),e);return y0(e)}function H$(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case TR:t+="";break;default:t+=a}}return t}function y0(n){return n+TR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function No(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new Wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rf(this.root,e,this.comparator,!0)}}class Rf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Rn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Rr([])}unionWith(e){let t=new hn(Nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new SR("Invalid base64 string: "+a):a}}(e);return new kn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const z$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(n){if(At(!!n),typeof n=="string"){let e=0;const t=z$.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(n.seconds),nanos:Jt(n.nanos)}}function Jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?kn.fromBase64String(n):kn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="server_timestamp",AR="__type__",RR="__previous_value__",bR="__local_write_time__";function Sv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[AR])===null||t===void 0?void 0:t.stringValue)===CR}function Qh(n){const e=n.mapValue.fields[RR];return Sv(e)?Qh(e):e}function Sc(n){const e=_o(n.mapValue.fields[bR].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,t,r,i,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const uh="(default)";class Cc{constructor(e,t){this.projectId=e,this.database=t||uh}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="__type__",W$="__max__",bf={mapValue:{}},kR="__vector__",ch="value";function Eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sv(n)?4:G$(n)?9007199254740991:K$(n)?10:11:Ye()}function Mi(n,e){if(n===e)return!0;const t=Eo(n);if(t!==Eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sc(n).isEqual(Sc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=_o(i.timestampValue),c=_o(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return wo(i.bytesValue).isEqual(wo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Jt(i.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Jt(i.integerValue)===Jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Jt(i.doubleValue),c=Jt(a.doubleValue);return l===c?lh(l)===lh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return jl(n.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(v0(l)!==v0(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Mi(l[f],c[f])))return!1;return!0}(n,e);default:return Ye()}}function Ac(n,e){return(n.values||[]).find(t=>Mi(t,e))!==void 0}function Fl(n,e){if(n===e)return 0;const t=Eo(n),r=Eo(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Jt(a.integerValue||a.doubleValue),f=Jt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return w0(n.timestampValue,e.timestampValue);case 4:return w0(Sc(n),Sc(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(a,l){const c=wo(a),f=wo(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=yt(c[p],f[p]);if(g!==0)return g}return yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=yt(Jt(a.latitude),Jt(l.latitude));return c!==0?c:yt(Jt(a.longitude),Jt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return E0(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},T=l.fields||{},A=(c=_[ch])===null||c===void 0?void 0:c.arrayValue,k=(f=T[ch])===null||f===void 0?void 0:f.arrayValue,x=yt(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:E0(A,k)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===bf.mapValue&&l===bf.mapValue)return 0;if(a===bf.mapValue)return 1;if(l===bf.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const T=yt(f[_],g[_]);if(T!==0)return T;const A=Fl(c[f[_]],p[g[_]]);if(A!==0)return A}return yt(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Ye()}}function w0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=_o(n),r=_o(e),i=yt(t.seconds,r.seconds);return i!==0?i:yt(t.nanos,r.nanos)}function E0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Fl(t[i],r[i]);if(a)return a}return yt(t.length,r.length)}function Bl(n){return ry(n)}function ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=_o(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return wo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=ry(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${ry(t.fields[l])}`;return i+"}"}(n.mapValue):Ye()}function Ff(n){switch(Eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(n);return e?16+Ff(e):16;case 5:return 2*n.stringValue.length;case 6:return wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Ff(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return No(r.fields,(a,l)=>{i+=a.length+Ff(l)}),i}(n.mapValue);default:throw Ye()}}function T0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iy(n){return!!n&&"integerValue"in n}function Cv(n){return!!n&&"arrayValue"in n}function I0(n){return!!n&&"nullValue"in n}function S0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bf(n){return!!n&&"mapValue"in n}function K$(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[NR])===null||t===void 0?void 0:t.stringValue)===kR}function dc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return No(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function G$(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===W$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(t)}setAll(e){let t=Nn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=dc(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){No(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new gr(dc(this.value))}}function PR(n){const e=[];return No(n.fields,(t,r)=>{const i=new Nn([t]);if(Bf(r)){const a=PR(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new jn(e,0,tt.min(),tt.min(),tt.min(),gr.empty(),0)}static newFoundDocument(e,t,r,i){return new jn(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new jn(e,2,t,tt.min(),tt.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,tt.min(),tt.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t){this.position=e,this.inclusive=t}}function C0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),t.key):r=Fl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function A0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Q$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{}class on extends DR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new X$(e,t,r):t==="array-contains"?new eU(e,r):t==="in"?new tU(e,r):t==="not-in"?new nU(e,r):t==="array-contains-any"?new rU(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new J$(e,r):new Z$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fl(t,this.value)):t!==null&&Eo(this.value)===Eo(t)&&this.matchesComparison(Fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends DR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new di(e,t)}matches(e){return OR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function OR(n){return n.op==="and"}function xR(n){return Y$(n)&&OR(n)}function Y$(n){for(const e of n.filters)if(e instanceof di)return!1;return!0}function sy(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Bl(n.value);if(xR(n))return n.filters.map(e=>sy(e)).join(",");{const e=n.filters.map(t=>sy(t)).join(",");return`${n.op}(${e})`}}function LR(n,e){return n instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.field.isEqual(i.field)&&Mi(r.value,i.value)}(n,e):n instanceof di?function(r,i){return i instanceof di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&LR(l,i.filters[c]),!0):!1}(n,e):void Ye()}function MR(n){return n instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${Bl(t.value)}`}(n):n instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(MR).join(" ,")+"}"}(n):"Filter"}class X$ extends on{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class J$ extends on{constructor(e,t){super(e,"in",t),this.keys=VR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Z$ extends on{constructor(e,t){super(e,"not-in",t),this.keys=VR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Be.fromName(r.referenceValue))}class eU extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cv(t)&&Ac(t.arrayValue,this.value)}}class tU extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ac(this.value.arrayValue,t)}}class nU extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ac(this.value.arrayValue,t)}}class rU extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function R0(n,e=null,t=[],r=[],i=null,a=null,l=null){return new iU(n,e,t,r,i,a,l)}function Av(n){const e=nt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bl(r)).join(",")),e.le=t}return e.le}function Rv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Q$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!A0(n.startAt,e.startAt)&&A0(n.endAt,e.endAt)}function oy(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function sU(n,e,t,r,i,a,l,c){return new Qc(n,e,t,r,i,a,l,c)}function bv(n){return new Qc(n)}function b0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $R(n){return n.collectionGroup!==null}function fc(n){const e=nt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new hn(Nn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new fh(a,r))}),t.has(Nn.keyField().canonicalString())||e.he.push(new fh(Nn.keyField(),r))}return e.he}function Pi(n){const e=nt(n);return e.Pe||(e.Pe=oU(e,fc(n))),e.Pe}function oU(n,e){if(n.limitType==="F")return R0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new fh(i.field,a)});const t=n.endAt?new dh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new dh(n.startAt.position,n.startAt.inclusive):null;return R0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ay(n,e){const t=n.filters.concat([e]);return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ly(n,e,t){return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yh(n,e){return Rv(Pi(n),Pi(e))&&n.limitType===e.limitType}function UR(n){return`${Av(Pi(n))}|lt:${n.limitType}`}function vl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>MR(i)).join(", ")}]`),Gh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bl(i)).join(",")),`Target(${r})`}(Pi(n))}; limitType=${n.limitType})`}function Xh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of fc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=C0(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,fc(r),i)||r.endAt&&!function(l,c,f){const p=C0(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,fc(r),i))}(n,e)}function aU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jR(n){return(e,t)=>{let r=!1;for(const i of fc(n)){const a=lU(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function lU(n,e,t){const r=n.field.isKeyField()?Be.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Fl(f,p):Ye()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return IR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new Wt(Be.comparator);function gs(){return uU}const FR=new Wt(Be.comparator);function nc(...n){let e=FR;for(const t of n)e=e.insert(t.key,t);return e}function BR(n){let e=FR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function aa(){return hc()}function HR(){return hc()}function hc(){return new Aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const cU=new Wt(Be.comparator),dU=new hn(Be.comparator);function pt(...n){let e=dU;for(const t of n)e=e.add(t);return e}const fU=new hn(yt);function hU(){return fU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function zR(n){return{integerValue:""+n}}function pU(n,e){return F$(e)?zR(e):Nv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function mU(n,e,t){return n instanceof Rc?function(i,a){const l={fields:{[AR]:{stringValue:CR},[bR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Sv(a)&&(a=Qh(a)),a&&(l.fields[RR]=a),{mapValue:l}}(t,e):n instanceof Hl?WR(n,e):n instanceof bc?KR(n,e):function(i,a){const l=qR(i,a),c=N0(l)+N0(i.Ie);return iy(l)&&iy(i.Ie)?zR(c):Nv(i.serializer,c)}(n,e)}function gU(n,e,t){return n instanceof Hl?WR(n,e):n instanceof bc?KR(n,e):t}function qR(n,e){return n instanceof hh?function(r){return iy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Rc extends Jh{}class Hl extends Jh{constructor(e){super(),this.elements=e}}function WR(n,e){const t=GR(e);for(const r of n.elements)t.some(i=>Mi(i,r))||t.push(r);return{arrayValue:{values:t}}}class bc extends Jh{constructor(e){super(),this.elements=e}}function KR(n,e){let t=GR(e);for(const r of n.elements)t=t.filter(i=>!Mi(i,r));return{arrayValue:{values:t}}}class hh extends Jh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function N0(n){return Jt(n.integerValue||n.doubleValue)}function GR(n){return Cv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t){this.field=e,this.transform=t}}function yU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Hl&&i instanceof Hl||r instanceof bc&&i instanceof bc?jl(r.elements,i.elements,Mi):r instanceof hh&&i instanceof hh?Mi(r.Ie,i.Ie):r instanceof Rc&&i instanceof Rc}(n.transform,e.transform)}class vU{constructor(e,t){this.version=e,this.transformResults=t}}class Di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zh{}function YR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new JR(n.key,Di.none()):new Yc(n.key,n.data,Di.none());{const t=n.data,r=gr.empty();let i=new hn(Nn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ko(n.key,r,new Rr(i.toArray()),Di.none())}}function _U(n,e,t){n instanceof Yc?function(i,a,l){const c=i.value.clone(),f=P0(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ko?function(i,a,l){if(!Hf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=P0(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(XR(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function pc(n,e,t,r){return n instanceof Yc?function(a,l,c,f){if(!Hf(a.precondition,l))return c;const p=a.value.clone(),g=D0(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof ko?function(a,l,c,f){if(!Hf(a.precondition,l))return c;const p=D0(a.fieldTransforms,f,l),g=l.data;return g.setAll(XR(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,c){return Hf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function wU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=qR(r.transform,i||null);a!=null&&(t===null&&(t=gr.empty()),t.set(r.field,a))}return t||null}function k0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jl(r,i,(a,l)=>yU(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yc extends Zh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends Zh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function XR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function P0(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,gU(l,c,t[i]))}return r}function D0(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,mU(a,l,e))}return r}class JR extends Zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EU extends Zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&_U(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=HR();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=YR(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,(t,r)=>k0(t,r))&&jl(this.baseMutations,e.baseMutations,(t,r)=>k0(t,r))}}class kv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=function(){return cU}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new kv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,_t;function CU(n){switch(n){case se.OK:return Ye();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ye()}}function ZR(n){if(n===void 0)return ms("GRPC error has no .code"),se.UNKNOWN;switch(n){case rn.OK:return se.OK;case rn.CANCELLED:return se.CANCELLED;case rn.UNKNOWN:return se.UNKNOWN;case rn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case rn.INTERNAL:return se.INTERNAL;case rn.UNAVAILABLE:return se.UNAVAILABLE;case rn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case rn.NOT_FOUND:return se.NOT_FOUND;case rn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case rn.ABORTED:return se.ABORTED;case rn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case rn.DATA_LOSS:return se.DATA_LOSS;default:return Ye()}}(_t=rn||(rn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new ho([4294967295,4294967295],0);function O0(n){const e=AU().encode(n),t=new pR;return t.update(e),new Uint8Array(t.digest())}function x0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ho([t,r],0),new ho([i,a],0)]}class Pv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rc(`Invalid padding: ${t}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new rc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ho.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(ho.fromNumber(r)));return i.compare(RU)===1&&(i=new ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=O0(e),[r,i]=x0(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Pv(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=O0(e),[r,i]=x0(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ep(tt.min(),i,new Wt(yt),gs(),pt())}}class Xc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xc(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class eb{constructor(e,t){this.targetId=e,this.ge=t}}class tb{constructor(e,t,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class L0{constructor(){this.pe=0,this.ye=M0(),this.we=kn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=pt(),t=pt(),r=pt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new Xc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=M0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class bU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gs(),this.$e=Nf(),this.Ke=Nf(),this.Ue=new Wt(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(oy(a))if(r===0){const l=new Be(a.path);this.ze(t,l,jn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=wo(r).toUint8Array()}catch(f){if(f instanceof SR)return Ul("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Pv(l,i,a)}catch(f){return Ul(f instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&oy(c.target)){const f=new Be(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,jn.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=pt();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new ep(e,t,this.Ue,this.Qe,r);return this.Qe=gs(),this.$e=Nf(),this.Ke=Nf(),this.Ue=new Wt(yt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new L0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new hn(yt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new hn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new L0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Nf(){return new Wt(Be.comparator)}function M0(){return new Wt(Be.comparator)}const NU={asc:"ASCENDING",desc:"DESCENDING"},kU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PU={and:"AND",or:"OR"};class DU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uy(n,e){return n.useProto3Json||Gh(e)?e:{value:e}}function ph(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OU(n,e){return ph(n,e.toTimestamp())}function Oi(n){return At(!!n),tt.fromTimestamp(function(t){const r=_o(t);return new fn(r.seconds,r.nanos)}(n))}function Dv(n,e){return cy(n,e).canonicalString()}function cy(n,e){const t=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rb(n){const e=Vt.fromString(n);return At(lb(e)),e}function dy(n,e){return Dv(n.databaseId,e.path)}function Tg(n,e){const t=rb(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(sb(t))}function ib(n,e){return Dv(n.databaseId,e)}function xU(n){const e=rb(n);return e.length===4?Vt.emptyPath():sb(e)}function fy(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sb(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function V0(n,e,t){return{name:dy(n,e),fields:t.value.mapValue.fields}}function LU(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string"),kn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array),kn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?se.UNKNOWN:ZR(p.code);return new xe(g,p.message||"")}(l);t=new tb(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tg(n,r.document.name),a=Oi(r.document.updateTime),l=r.document.createTime?Oi(r.document.createTime):tt.min(),c=new gr({mapValue:{fields:r.document.fields}}),f=jn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new zf(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tg(n,r.document),a=r.readTime?Oi(r.readTime):tt.min(),l=jn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new zf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tg(n,r.document),a=r.removedTargetIds||[];t=new zf([],a,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new SU(i,a),c=r.targetId;t=new eb(c,l)}}return t}function MU(n,e){let t;if(e instanceof Yc)t={update:V0(n,e.key,e.value)};else if(e instanceof JR)t={delete:dy(n,e.key)};else if(e instanceof ko)t={update:V0(n,e.key,e.data),updateMask:qU(e.fieldMask)};else{if(!(e instanceof EU))return Ye();t={verify:dy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Rc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ye()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:OU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ye()}(n,e.precondition)),t}function VU(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?Oi(i.updateTime):Oi(a);return l.isEqual(tt.min())&&(l=Oi(a)),new vU(l,i.transformResults||[])}(t,e))):[]}function $U(n,e){return{documents:[ib(n,e.path)]}}function UU(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ib(n,i);const a=function(p){if(p.length!==0)return ab(di.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:_l(T.field),direction:BU(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=uy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function jU(n){let e=xU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=ob(_);return T instanceof di&&xR(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(k){return new fh(wl(k.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(_){let T;return T=typeof _=="object"?_.value:_,Gh(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(_){const T=!!_.before,A=_.values||[];return new dh(A,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,A=_.values||[];return new dh(A,T)}(t.endAt)),sU(e,i,l,a,c,"F",f,p)}function FU(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ob(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wl(t.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wl(t.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wl(t.unaryFilter.field);return on.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wl(t.unaryFilter.field);return on.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(n):n.fieldFilter!==void 0?function(t){return on.create(wl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(r=>ob(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(t.compositeFilter.op))}(n):Ye()}function BU(n){return NU[n]}function HU(n){return kU[n]}function zU(n){return PU[n]}function _l(n){return{fieldPath:n.canonicalString()}}function wl(n){return Nn.fromServerFormat(n.fieldPath)}function ab(n){return n instanceof on?function(t){if(t.op==="=="){if(S0(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NAN"}};if(I0(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S0(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NOT_NAN"}};if(I0(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(t.field),op:HU(t.op),value:t.value}}}(n):n instanceof di?function(t){const r=t.getFilters().map(i=>ab(i));return r.length===1?r[0]:{compositeFilter:{op:zU(t.op),filters:r}}}(n):Ye()}function qU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t,r,i,a=tt.min(),l=tt.min(),c=kn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.Tt=e}}function KU(n){const e=jU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.Tn=new QU}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(vo.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class QU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new hn(Vt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ub=41943040;class pr{static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(ub,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new zl(0)}static Un(){return new zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",YU=1048576;function j0([n,e],[t,r]){const i=yt(n,t);return i===0?yt(e,r):i}class XU{constructor(e){this.Hn=e,this.buffer=new hn(j0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();j0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(U0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cu(t)?be(U0,"Ignoring IndexedDB error during garbage collection: ",t):await uu(t)}await this.er(3e5)})}}class ZU{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Kh.ae);const r=new XU(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve($0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),yl()<=ht.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function ej(n,e){return new ZU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.changes=new Aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&pc(r.mutation,i,Rr.empty(),fn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const i=aa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=nc();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=aa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=gs();const l=hc(),c=function(){return hc()}();return t.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof ko)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),pc(g.mutation,p,g.mutation.getFieldMask(),fn.now())):l.set(p.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new nj(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=hc();let i=new Wt((l,c)=>l-c),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Rr.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||pt()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=HR();g.forEach(T=>{if(!a.has(T)){const A=YR(t.get(T),r.get(T));A!==null&&_.set(T,A),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$R(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ie.resolve(aa());let c=Ic,f=a;return l.next(p=>ie.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{f=f.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,pt())).next(g=>({batchId:c,changes:BR(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next(r=>{let i=nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=nc();return this.indexManager.getCollectionParents(e,a).next(c=>ie.forEach(c,f=>{const p=function(_,T){return new Qc(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,jn.newInvalidDocument(g)))});let c=nc();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&pc(g.mutation,p,Rr.empty(),fn.now()),Xh(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:KU(i.bundledQuery),readTime:Oi(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.overlays=new Wt(Be.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=aa();return ie.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=aa(),a=t.length+1,l=new Be(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Wt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=aa(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=aa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return ie.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new IU(t,r));let a=this.Rr.get(t);a===void 0&&(a=pt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.Vr=new hn(En.mr),this.gr=new hn(En.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new En(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new En(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Be(new Vt([])),r=new En(t,e),i=new En(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Be(new Vt([])),r=new En(t,e),i=new En(t,e+1);let a=pt();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new En(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Be.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new hn(En.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new TU(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new En(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Iv:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hn(yt);return t.forEach(i=>{const a=new En(i,0),l=new En(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const l=new En(new Be(a),0);let c=new hn(yt);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Cr)),!0)},l),ie.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,i=>{const a=new En(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new En(t,0),i=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.kr=e,this.docs=function(){return new Wt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():jn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=gs();const l=t.path,c=new Be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||V$(M$(g),r)<=0||(i.has(g.key)||Xh(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ye()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new uj(this)}getSize(e){return ie.resolve(this.size)}}class uj extends tj{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.persistence=e,this.Qr=new Aa(t=>Av(t),Rv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ov,this.targetCount=0,this.Ur=zl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Kh(0),this.zr=!1,this.zr=!0,this.jr=new oj,this.referenceDelegate=e(this),this.Hr=new cj(this),this.indexManager=new GU,this.remoteDocumentCache=function(i){return new lj(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new WU(t),this.Yr=new ij(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new aj(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new dj(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class dj extends U${constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.ti=new Ov,this.ni=null}static ri(e){return new xv(e)}get ii(){if(this.ni)return this.ni;throw Ye()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const i=Be.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class mh{constructor(e,t){this.persistence=e,this.oi=new Aa(r=>B$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ej(this,t)}static ri(e,t){return new mh(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ff(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=pt(),i=pt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Lv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return a2()?8:j$(Bn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new fj;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(yl()<=ht.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(yl()<=ht.DEBUG&&be("QueryEngine","Query:",vl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(yl()<=ht.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):ie.resolve())}rs(e,t){if(b0(t))return ie.resolve(null);let r=Pi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ly(t,null,"F"),r=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=pt(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,c);return this.ls(t,p,l,f.readTime)?this.rs(e,ly(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return b0(t)||i.isEqual(tt.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?ie.resolve(null):(yl()<=ht.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vl(t)),this.hs(e,l,t,L$(i,Ic)).next(c=>c))})}cs(e,t){let r=new hn(jR(e));return t.forEach((i,a)=>{Xh(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return yl()<=ht.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",vl(t)),this.ns.getDocumentsMatchingQuery(e,t,vo.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LocalStore",pj=3e8;class mj{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Wt(yt),this.Is=new Aa(a=>Av(a),Rv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rj(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function gj(n,e,t,r){return new mj(n,e,t,r)}async function db(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=pt();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function yj(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,T=_.keys();let A=ie.resolve();return T.forEach(k=>{A=A.next(()=>g.getEntry(f,k)).next(x=>{const N=p.docVersions.get(k);At(N!==null),x.version.compareTo(N)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=pt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function fb(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function vj(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const T=i.get(_);if(!T)return;c.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(kn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(_,A),function(x,N,H){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=pj?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,A,g)&&c.push(t.Hr.updateTargetData(a,A))});let f=gs(),p=pt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(_j(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(tt.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ie.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=i,a))}function _j(n,e,t){let r=pt(),i=pt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=gs();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):be(Mv,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function wj(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Iv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ej(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new oo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function hy(n,e,t){const r=nt(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!cu(l))throw l;be(Mv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function F0(n,e,t){const r=nt(n);let i=tt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=nt(f),T=_.Is.get(g);return T!==void 0?ie.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Pi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?a:pt())).next(c=>(Tj(r,aU(e),c),{documents:c,gs:a})))}function Tj(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class B0{constructor(){this.activeTargetIds=hU()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ij{constructor(){this.ho=new B0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new B0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="ConnectivityMonitor";class z0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(H0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(H0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function py(){return kf===null?kf=function(){return 268435456+Math.round(2147483648*Math.random())}():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="RestConnection",Cj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Aj{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,a){const l=py(),c=this.bo(e,t.toUriEncodedString());be(Ig,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,c,f,r).then(p=>(be(Ig,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Ul(Ig,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,a,l){return this.So(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const r=Cj[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class bj extends Aj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=py();return new Promise((l,c)=>{const f=new mR;f.setWithCredentials(!0),f.listenOnce(gR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jf.NO_ERROR:const g=f.getResponseJson();be($n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case jf.TIMEOUT:be($n,`RPC '${e}' ${a} timed out`),c(new xe(se.DEADLINE_EXCEEDED,"Request time out"));break;case jf.HTTP_ERROR:const _=f.getStatus();if(be($n,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const k=function(N){const H=N.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN}(A.status);c(new xe(k,A.message))}else c(new xe(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(se.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{be($n,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);be($n,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=py(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_R(),c=vR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");be($n,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let T=!1,A=!1;const k=new Rj({Fo:N=>{A?be($n,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(T||(be($n,`Opening RPC '${e}' stream ${i} transport.`),_.open(),T=!0),be($n,`RPC '${e}' stream ${i} sending:`,N),_.send(N))},Mo:()=>_.close()}),x=(N,H,$)=>{N.listen(H,z=>{try{$(z)}catch(W){setTimeout(()=>{throw W},0)}})};return x(_,tc.EventType.OPEN,()=>{A||(be($n,`RPC '${e}' stream ${i} transport opened.`),k.Qo())}),x(_,tc.EventType.CLOSE,()=>{A||(A=!0,be($n,`RPC '${e}' stream ${i} transport closed`),k.Ko())}),x(_,tc.EventType.ERROR,N=>{A||(A=!0,Ul($n,`RPC '${e}' stream ${i} transport errored:`,N),k.Ko(new xe(se.UNAVAILABLE,"The operation could not be completed")))}),x(_,tc.EventType.MESSAGE,N=>{var H;if(!A){const $=N.data[0];At(!!$);const z=$,W=(z==null?void 0:z.error)||((H=z[0])===null||H===void 0?void 0:H.error);if(W){be($n,`RPC '${e}' stream ${i} received error:`,W);const Z=W.status;let K=function(P){const O=rn[P];if(O!==void 0)return ZR(O)}(Z),I=W.message;K===void 0&&(K=se.INTERNAL,I="Unknown error status: "+Z+" with message "+W.message),A=!0,k.Ko(new xe(K,I)),_.close()}else be($n,`RPC '${e}' stream ${i} received:`,$),k.Uo($)}}),x(c,yR.STAT_EVENT,N=>{N.stat===ny.PROXY?be($n,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===ny.NOPROXY&&be($n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n){return new DU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="PersistentStream";class pb{constructor(e,t,r,i,a,l,c,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new xe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nj extends pb{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=LU(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?Oi(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=fy(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=oy(f)?{documents:$U(a,f)}:{query:UU(a,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=nb(a,l.resumeToken);const p=uy(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){c.readTime=ph(a,l.snapshotVersion.toTimestamp());const p=uy(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=FU(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=fy(this.serializer),t.removeTarget=e,this.I_(t)}}class kj extends pb{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=VU(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=fy(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>MU(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{}class Dj extends Pj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,cy(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(se.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,cy(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Oj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ms(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class xj{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ra(this)&&(be(ya,"Restarting streams for network reachability change."),await async function(f){const p=nt(f);p.W_.add(4),await Jc(p),p.j_.set("Unknown"),p.W_.delete(4),await np(p)}(this))})}),this.j_=new Oj(r,i)}}async function np(n){if(Ra(n))for(const e of n.G_)await e(!0)}async function Jc(n){for(const e of n.G_)await e(!1)}function mb(n,e){const t=nt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),jv(t)?Uv(t):du(t).c_()&&$v(t,e))}function Vv(n,e){const t=nt(n),r=du(t);t.U_.delete(e),r.c_()&&gb(t,e),t.U_.size===0&&(r.c_()?r.P_():Ra(t)&&t.j_.set("Unknown"))}function $v(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).y_(e)}function gb(n,e){n.H_.Ne(e),du(n).w_(e)}function Uv(n){n.H_=new bU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),du(n).start(),n.j_.B_()}function jv(n){return Ra(n)&&!du(n).u_()&&n.U_.size>0}function Ra(n){return nt(n).W_.size===0}function yb(n){n.H_=void 0}async function Lj(n){n.j_.set("Online")}async function Mj(n){n.U_.forEach((e,t)=>{$v(n,e)})}async function Vj(n,e){yb(n),jv(n)?(n.j_.q_(e),Uv(n)):n.j_.set("Unknown")}async function $j(n,e,t){if(n.j_.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){be(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gh(n,r)}else if(e instanceof zf?n.H_.We(e):e instanceof eb?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await fb(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.U_.get(f);if(!g)return;a.U_.set(f,g.withResumeToken(kn.EMPTY_BYTE_STRING,g.snapshotVersion)),gb(a,f);const _=new oo(g.target,f,p,g.sequenceNumber);$v(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){be(ya,"Failed to raise snapshot:",r),await gh(n,r)}}async function gh(n,e,t){if(!cu(e))throw e;n.W_.add(1),await Jc(n),n.j_.set("Offline"),t||(t=()=>fb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(ya,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await np(n)})}function vb(n,e){return e().catch(t=>gh(n,t,e))}async function rp(n){const e=nt(n),t=To(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Iv;for(;Uj(e);)try{const i=await wj(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,jj(e,i)}catch(i){await gh(e,i)}_b(e)&&wb(e)}function Uj(n){return Ra(n)&&n.K_.length<10}function jj(n,e){n.K_.push(e);const t=To(n);t.c_()&&t.S_&&t.b_(e.mutations)}function _b(n){return Ra(n)&&!To(n).u_()&&n.K_.length>0}function wb(n){To(n).start()}async function Fj(n){To(n).C_()}async function Bj(n){const e=To(n);for(const t of n.K_)e.b_(t.mutations)}async function Hj(n,e,t){const r=n.K_.shift(),i=kv.from(r,e,t);await vb(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await rp(n)}async function zj(n,e){e&&To(n).S_&&await async function(r,i){if(function(l){return CU(l)&&l!==se.ABORTED}(i.code)){const a=r.K_.shift();To(r).h_(),await vb(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await rp(r)}}(n,e),_b(n)&&wb(n)}async function W0(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),be(ya,"RemoteStore received new credentials");const r=Ra(t);t.W_.add(3),await Jc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await np(t)}async function qj(n,e){const t=nt(n);e?(t.W_.delete(2),await np(t)):e||(t.W_.add(2),await Jc(t),t.j_.set("Unknown"))}function du(n){return n.J_||(n.J_=function(t,r,i){const a=nt(t);return a.M_(),new Nj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:Lj.bind(null,n),No:Mj.bind(null,n),Lo:Vj.bind(null,n),p_:$j.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),jv(n)?Uv(n):n.j_.set("Unknown")):(await n.J_.stop(),yb(n))})),n.J_}function To(n){return n.Y_||(n.Y_=function(t,r,i){const a=nt(t);return a.M_(),new kj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Fj.bind(null,n),Lo:zj.bind(null,n),D_:Bj.bind(null,n),v_:Hj.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await rp(n)):(await n.Y_.stop(),n.K_.length>0&&(be(ya,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Fv(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bv(n,e){if(ms("AsyncQueue",`${e}: ${n}`),cu(n))return new xe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Be.comparator(t.key,r.key):(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=nc(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.Z_=new Wt(Be.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ye():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ql{constructor(e,t,r,i,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ql(e,t,Tl.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Kj{constructor(){this.queries=G0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=nt(t),a=i.queries;i.queries=G0(),a.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new xe(se.ABORTED,"Firestore shutting down"))}}function G0(){return new Aa(n=>UR(n),Yh)}async function Eb(n,e){const t=nt(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new Wj,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Bv(l,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Hv(t)}async function Tb(n,e){const t=nt(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Gj(n,e){const t=nt(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Hv(t)}function Qj(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function Hv(n){n.ia.forEach(e=>{e.next()})}var my,Q0;(Q0=my||(my={}))._a="default",Q0.Cache="cache";class Ib{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==my.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.key=e}}class Cb{constructor(e){this.key=e}}class Yj{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=jR(e),this.wa=new Tl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new K0,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const T=i.get(g),A=Xh(this.query,_)?_:null,k=!!T&&this.mutatedKeys.has(T.key),x=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;T&&A?T.data.isEqual(A.data)?k!==x&&(r.track({type:3,doc:A}),N=!0):this.va(T,A)||(r.track({type:2,doc:A}),N=!0,(f&&this.ya(A,f)>0||p&&this.ya(A,p)<0)&&(c=!0)):!T&&A?(r.track({type:0,doc:A}),N=!0):T&&!A&&(r.track({type:1,doc:T}),N=!0,(f||p)&&(c=!0)),N&&(A?(l=l.add(A),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(A,k){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return x(A)-x(k)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new ql(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new K0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Cb(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Sb(r))}),t}Oa(e){this.fa=e.gs,this.pa=pt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ql.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const zv="SyncEngine";class Xj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Jj{constructor(e){this.key=e,this.Ba=!1}}class Zj{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Aa(c=>UR(c),Yh),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(Be.comparator),this.Ka=new Map,this.Ua=new Ov,this.Wa={},this.Ga=new Map,this.za=zl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function eF(n,e,t=!0){const r=Pb(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Ab(r,e,t,!0),i}async function tF(n,e){const t=Pb(n);await Ab(t,e,!0,!1)}async function Ab(n,e,t,r){const i=await Ej(n.localStore,Pi(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await nF(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&mb(n.remoteStore,i),c}async function nF(n,e,t,r,i){n.Ha=(_,T,A)=>async function(x,N,H,$){let z=N.view.ba(H);z.ls&&(z=await F0(x.localStore,N.query,!1).then(({documents:I})=>N.view.ba(I,z)));const W=$&&$.targetChanges.get(N.targetId),Z=$&&$.targetMismatches.get(N.targetId)!=null,K=N.view.applyChanges(z,x.isPrimaryClient,W,Z);return X0(x,N.targetId,K.Ma),K.snapshot}(n,_,T,A);const a=await F0(n.localStore,e,!0),l=new Yj(e,a.gs),c=l.ba(a.documents),f=Xc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);X0(n,t,p.Ma);const g=new Xj(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function rF(n,e,t){const r=nt(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!Yh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Vv(r.remoteStore,i.targetId),gy(r,i.targetId)}).catch(uu)):(gy(r,i.targetId),await hy(r.localStore,i.targetId,!0))}async function iF(n,e){const t=nt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vv(t.remoteStore,r.targetId))}async function sF(n,e,t){const r=fF(n);try{const i=await function(l,c){const f=nt(l),p=fn.now(),g=c.reduce((A,k)=>A.add(k.key),pt());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let k=gs(),x=pt();return f.ds.getEntries(A,g).next(N=>{k=N,k.forEach((H,$)=>{$.isValidDocument()||(x=x.add(H))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,k)).next(N=>{_=N;const H=[];for(const $ of c){const z=wU($,_.get($.key).overlayedDocument);z!=null&&H.push(new ko($.key,z,PR(z.value.mapValue),Di.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,H,c)}).next(N=>{T=N;const H=N.applyToLocalDocumentSet(_,x);return f.documentOverlayCache.saveOverlays(A,N.batchId,H)})}).then(()=>({batchId:T.batchId,changes:BR(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new Wt(yt)),p=p.insert(c,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await Zc(r,i.changes),await rp(r.remoteStore)}catch(i){const a=Bv(i,"Failed to persist write");t.reject(a)}}async function Rb(n,e){const t=nt(n);try{const r=await vj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?At(l.Ba):i.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await Zc(t,r,e)}catch(r){await uu(r)}}function Y0(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=nt(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(c)&&(p=!0)}),p&&Hv(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oF(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new Wt(Be.comparator);l=l.insert(a,jn.newNoDocument(a,tt.min()));const c=pt().add(a),f=new ep(tt.min(),new Map,new Wt(yt),l,c);await Rb(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),qv(r)}else await hy(r.localStore,e,!1).then(()=>gy(r,e,t)).catch(uu)}async function aF(n,e){const t=nt(n),r=e.batch.batchId;try{const i=await yj(t.localStore,e);Nb(t,r,null),bb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Zc(t,i)}catch(i){await uu(i)}}async function lF(n,e,t){const r=nt(n);try{const i=await function(l,c){const f=nt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(At(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);Nb(r,e,t),bb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Zc(r,i)}catch(i){await uu(i)}}function bb(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Nb(n,e,t){const r=nt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function gy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||kb(n,r)})}function kb(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Vv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),qv(n))}function X0(n,e,t){for(const r of t)r instanceof Sb?(n.Ua.addReference(r.key,e),uF(n,r)):r instanceof Cb?(be(zv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||kb(n,r.key)):Ye()}function uF(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(zv,"New document in limbo: "+t),n.Qa.add(r),qv(n))}function qv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Be(Vt.fromString(e)),r=n.za.next();n.Ka.set(r,new Jj(t)),n.$a=n.$a.insert(t,r),mb(n.remoteStore,new oo(Pi(bv(t.path)),r,"TargetPurposeLimboResolution",Kh.ae))}}async function Zc(n,e,t){const r=nt(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=Lv.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const g=nt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,T=>ie.forEach(T.Hi,A=>g.persistence.referenceDelegate.addReference(_,T.targetId,A)).next(()=>ie.forEach(T.Ji,A=>g.persistence.referenceDelegate.removeReference(_,T.targetId,A)))))}catch(_){if(!cu(_))throw _;be(Mv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const A=g.Ts.get(T),k=A.snapshotVersion,x=A.withLastLimboFreeSnapshotVersion(k);g.Ts=g.Ts.insert(T,x)}}}(r.localStore,a))}async function cF(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){be(zv,"User change. New user:",e.toKey());const r=await db(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(f=>{f.reject(new xe(se.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zc(t,r.Rs)}}function dF(n,e){const t=nt(n),r=t.Ka.get(e);if(r&&r.Ba)return pt().add(r.key);{let i=pt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function Pb(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oF.bind(null,e),e.La.p_=Gj.bind(null,e.eventManager),e.La.Ja=Qj.bind(null,e.eventManager),e}function fF(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lF.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return gj(this.persistence,new hj,e.initialUser,this.serializer)}Xa(e){return new cb(xv.ri,this.serializer)}Za(e){return new Ij}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class hF extends yh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof mh);const r=this.persistence.referenceDelegate.garbageCollector;return new JU(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new cb(r=>mh.ri(r,t),this.serializer)}}class yy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cF.bind(null,this.syncEngine),await qj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kj}()}createDatastore(e){const t=tp(e.databaseInfo.databaseId),r=function(a){return new bj(a)}(e.databaseInfo);return function(a,l,c,f){return new Dj(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new xj(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Y0(this.syncEngine,t,0),function(){return z0.D()?new z0:new Sj}())}createSyncEngine(e,t){return function(i,a,l,c,f,p,g){const _=new Zj(i,a,l,c,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=nt(i);be(ya,"RemoteStore shutting down."),a.W_.add(5),await Jc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class pF{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=ER.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{be(Io,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(Io,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Bv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cg(n,e){n.asyncQueue.verifyOperationInProgress(),be(Io,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await db(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function J0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mF(n);be(Io,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>W0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>W0(e.remoteStore,i)),n._onlineComponents=e}async function mF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(Io,"Using user provided OfflineComponentProvider");try{await Cg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ul("Error using user provided cache. Falling back to memory cache: "+t),await Cg(n,new yh)}}else be(Io,"Using default OfflineComponentProvider"),await Cg(n,new hF(void 0));return n._offlineComponents}async function Ob(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(Io,"Using user provided OnlineComponentProvider"),await J0(n,n._uninitializedComponentsProvider._online)):(be(Io,"Using default OnlineComponentProvider"),await J0(n,new yy))),n._onlineComponents}function gF(n){return Ob(n).then(e=>e.syncEngine)}async function xb(n){const e=await Ob(n),t=e.eventManager;return t.onListen=eF.bind(null,e.syncEngine),t.onUnlisten=rF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iF.bind(null,e.syncEngine),t}function yF(n,e,t={}){const r=new cs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new Db({next:T=>{g.su(),l.enqueueAndForget(()=>Tb(a,_));const A=T.docs.has(c);!A&&T.fromCache?p.reject(new xe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&f&&f.source==="server"?p.reject(new xe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Ib(bv(c.path),g,{includeMetadataChanges:!0,Ta:!0});return Eb(a,_)}(await xb(n),n.asyncQueue,e,t,r)),r.promise}function vF(n,e,t={}){const r=new cs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new Db({next:T=>{g.su(),l.enqueueAndForget(()=>Tb(a,_)),T.fromCache&&f.source==="server"?p.reject(new xe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Ib(c,g,{includeMetadataChanges:!0,Ta:!0});return Eb(a,_)}(await xb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(n,e,t){if(!t)throw new xe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _F(n,e,t,r){if(e===!0&&r===!0)throw new xe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eI(n){if(!Be.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tI(n){if(Be.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ip(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ye()}function ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ip(n);throw new xe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firestore.googleapis.com",nI=!0;class rI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vb,this.ssl=nI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ub;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YU)throw new xe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_F("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R$;switch(r.type){case"firstParty":return new P$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Z0.get(t);r&&(be("ComponentProvider","Removing Datastore"),Z0.delete(t),r.terminate())}(this),Promise.resolve()}}function wF(n,e,t,r={}){var i;const a=(n=ys(n,sp))._getSettings(),l=`${e}:${t}`;if(a.host!==Vb&&a.host!==l&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Un.MOCK_USER;else{c=e2(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Un(p)}n._authCredentials=new b$(new wR(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fu(this.firestore,e,this._query)}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class po extends fu{constructor(e,t,r){super(e,t,bv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new Be(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function vy(n,e,...t){if(n=Zn(n),Mb("collection","path",e),n instanceof sp){const r=Vt.fromString(e,...t);return tI(r),new po(n,null,r)}{if(!(n instanceof Jn||n instanceof po))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return tI(r),new po(n.firestore,null,r)}}function Il(n,e,...t){if(n=Zn(n),arguments.length===1&&(e=ER.newId()),Mb("doc","path",e),n instanceof sp){const r=Vt.fromString(e,...t);return eI(r),new Jn(n,null,new Be(r))}{if(!(n instanceof Jn||n instanceof po))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return eI(r),new Jn(n.firestore,n instanceof po?n.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="AsyncQueue";class sI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hb(this,"async_queue_retry"),this.Su=()=>{const r=Sg();r&&be(iI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Sg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new cs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!cu(e))throw e;be(iI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ms("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Fv.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Ye()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ed extends sp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new sI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sI(e),this._firestoreClient=void 0,await e}}}function EF(n,e){const t=dR(),r=uh,i=Ev(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=JV("firestore");a&&wF(i,...a)}return i}function Wv(n){if(n._terminated)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TF(n),n._firestoreClient}function TF(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,p,g){return new q$(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Lb(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new pF(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wl(kn.fromBase64String(e))}catch(t){throw new xe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=/^__.*__$/;class SF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yc(e,this.data,t,this.fieldTransforms)}}class $b{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ko(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ub(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class ap{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ub(this.Lu)&&IF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class CF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tp(e)}ju(e,t,r,i=!1){return new ap({Lu:e,methodName:t,zu:r,path:Nn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(n){const e=n._freezeSettings(),t=tp(n._databaseId);return new CF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AF(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);Jv("Data must be an object, but it was:",l,r);const c=jb(r,l);let f,p;if(a.merge)f=new Rr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=_y(e,_,t);if(!l.contains(T))throw new xe(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Bb(g,T)||g.push(T)}f=new Rr(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new SF(new gr(c),f,p)}class lp extends td{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function RF(n,e,t){return new ap({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yv extends td{_toFieldTransform(e){return new QR(e.path,new Rc)}isEqual(e){return e instanceof Yv}}class Xv extends td{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=RF(this,e,!0),r=this.Hu.map(a=>hu(a,t)),i=new Hl(r);return new QR(e.path,i)}isEqual(e){return e instanceof Xv&&Ec(this.Hu,e.Hu)}}function bF(n,e,t,r){const i=n.ju(1,e,t);Jv("Data must be an object, but it was:",i,r);const a=[],l=gr.empty();No(r,(f,p)=>{const g=Zv(e,f,t);p=Zn(p);const _=i.Ku(g);if(p instanceof lp)a.push(g);else{const T=hu(p,_);T!=null&&(a.push(g),l.set(g,T))}});const c=new Rr(a);return new $b(l,c,i.fieldTransforms)}function NF(n,e,t,r,i,a){const l=n.ju(1,e,t),c=[_y(e,r,t)],f=[i];if(a.length%2!=0)throw new xe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)c.push(_y(e,a[T])),f.push(a[T+1]);const p=[],g=gr.empty();for(let T=c.length-1;T>=0;--T)if(!Bb(p,c[T])){const A=c[T];let k=f[T];k=Zn(k);const x=l.Ku(A);if(k instanceof lp)p.push(A);else{const N=hu(k,x);N!=null&&(p.push(A),g.set(A,N))}}const _=new Rr(p);return new $b(g,_,l.fieldTransforms)}function kF(n,e,t,r=!1){return hu(t,n.ju(r?4:3,e))}function hu(n,e){if(Fb(n=Zn(n)))return Jv("Unsupported field value:",e,n),jb(n,e);if(n instanceof td)return function(r,i){if(!Ub(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=hu(c,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fn.fromDate(r);return{timestampValue:ph(i.serializer,a)}}if(r instanceof fn){const a=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(i.serializer,a)}}if(r instanceof Kv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wl)return{bytesValue:nb(i.serializer,r._byteString)};if(r instanceof Jn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Dv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gv)return function(l,c){return{mapValue:{fields:{[NR]:{stringValue:kR},[ch]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return Nv(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ip(r)}`)}(n,e)}function jb(n,e){const t={};return IR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(n,(r,i)=>{const a=hu(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function Fb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fn||n instanceof Kv||n instanceof Wl||n instanceof Jn||n instanceof td||n instanceof Gv)}function Jv(n,e,t){if(!Fb(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=ip(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function _y(n,e,t){if((e=Zn(e))instanceof op)return e._internalPath;if(typeof e=="string")return Zv(n,e);throw vh("Field path arguments must be of type string or ",n,!1,void 0,t)}const PF=new RegExp("[~\\*/\\[\\]]");function Zv(n,e,t){if(e.search(PF)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new op(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new xe(se.INVALID_ARGUMENT,c+n+f)}function Bb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(e_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DF extends Hb{data(){return super.data()}}function e_(n,e){return typeof e=="string"?Zv(n,e):e instanceof op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t_{}class xF extends t_{}function LF(n,e,...t){let r=[];e instanceof t_&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof n_).length,c=a.filter(f=>f instanceof up).length;if(l>1||l>0&&c>0)throw new xe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class up extends xF{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new up(e,t,r)}_apply(e){const t=this._parse(e);return zb(e._query,t),new fu(e.firestore,e.converter,ay(e._query,t))}_parse(e){const t=Qv(e.firestore);return function(a,l,c,f,p,g,_){let T;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){aI(_,g);const k=[];for(const x of _)k.push(oI(f,a,x));T={arrayValue:{values:k}}}else T=oI(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||aI(_,g),T=kF(c,l,_,g==="in"||g==="not-in");return on.create(p,g,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function MF(n,e,t){const r=e,i=e_("where",n);return up._create(i,r,t)}class n_ extends t_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)zb(l,f),l=ay(l,f)}(e._query,t),new fu(e.firestore,e.converter,ay(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function oI(n,e,t){if(typeof(t=Zn(t))=="string"){if(t==="")throw new xe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$R(e)&&t.indexOf("/")!==-1)throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Vt.fromString(t));if(!Be.isDocumentKey(r))throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T0(n,new Be(r))}if(t instanceof Jn)return T0(n,t._key);throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(t)}.`)}function aI(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zb(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VF{convertValue(e,t="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return No(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ch].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Jt(l.doubleValue));return new Gv(a)}convertGeoPoint(e){return new Kv(Jt(e.latitude),Jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const t=_o(e);return new fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Vt.fromString(e);At(lb(r));const i=new Cc(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return i.isEqual(t)||ms(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qb extends Hb{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(e_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class qf extends qb{data(e={}){return super.data(e)}}class UF{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qf(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new qf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ic(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new qf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ic(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:jF(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(n){n=ys(n,Jn);const e=ys(n.firestore,ed);return yF(Wv(e),n._key).then(t=>BF(e,n,t))}class Wb extends VF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function FF(n){n=ys(n,fu);const e=ys(n.firestore,ed),t=Wv(e),r=new Wb(e);return OF(n._query),vF(t,n._query).then(i=>new UF(e,r,n,i))}function mc(n,e,t){n=ys(n,Jn);const r=ys(n.firestore,ed),i=$F(n.converter,e);return Kb(r,[AF(Qv(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Di.none())])}function lI(n,e,t,...r){n=ys(n,Jn);const i=ys(n.firestore,ed),a=Qv(i);let l;return l=typeof(e=Zn(e))=="string"||e instanceof op?NF(a,"updateDoc",n._key,e,t,r):bF(a,"updateDoc",n._key,e),Kb(i,[l.toMutation(n._key,Di.exists(!0))])}function Kb(n,e){return function(r,i){const a=new cs;return r.asyncQueue.enqueueAndForget(async()=>sF(await gF(r),i,a)),a.promise}(Wv(n),e)}function BF(n,e,t){const r=t.docs.get(e._key),i=new Wb(n);return new qb(n,i,e._key,r,new ic(t.hasPendingWrites,t.fromCache),e.converter)}function HF(){return new Yv("serverTimestamp")}function uI(...n){return new Xv("arrayUnion",n)}(function(e,t=!0){(function(i){lu=i})(au),$l(new ma("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new ed(new N$(r.getProvider("auth-internal")),new D$(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),fo(d0,f0,e),fo(d0,f0,"esm2017")})();function r_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zF=Gb,Qb=new Kc("auth","Firebase",Gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new _v("@firebase/auth");function qF(n,...e){wh.logLevel<=ht.WARN&&wh.warn(`Auth (${au}): ${n}`,...e)}function Wf(n,...e){wh.logLevel<=ht.ERROR&&wh.error(`Auth (${au}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,...e){throw s_(n,...e)}function ui(n,...e){return s_(n,...e)}function i_(n,e,t){const r=Object.assign(Object.assign({},zF()),{[e]:t});return new Kc("auth","Firebase",r).create(e,{appName:n.name})}function da(n){return i_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WF(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vi(n,"argument-error"),i_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Qb.create(n,...e)}function Ze(n,e,...t){if(!n)throw s_(e,...t)}function ns(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wf(e),new Error(e)}function vs(n,e){n||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KF(){return cI()==="http:"||cI()==="https:"}function cI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KF()||i2()||"connection"in navigator)?navigator.onLine:!0}function QF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=t2()||s2()}get(){return GF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,e){vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new nd(3e4,6e4);function a_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function pu(n,e,t,r,i={}){return Xb(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Gc(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return r2()||(p.referrerPolicy="no-referrer"),Yb.fetch()(Jb(n,n.config.apiHost,t,c),p)})}async function Xb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},YF),e);try{const i=new ZF(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Pf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Pf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Pf(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw i_(n,g,p);Vi(n,g)}}catch(i){if(i instanceof Ts)throw i;Vi(n,"network-request-failed",{message:String(i)})}}async function JF(n,e,t,r,i={}){const a=await pu(n,e,t,r,i);return"mfaPendingCredential"in a&&Vi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Jb(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?o_(n.config,i):`${n.config.apiScheme}://${i}`}class ZF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),XF.get())})}}function Pf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ui(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(n,e){return pu(n,"POST","/v1/accounts:delete",e)}async function Zb(n,e){return pu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t4(n,e=!1){const t=Zn(n),r=await t.getIdToken(e),i=l_(r);Ze(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:gc(Ag(i.auth_time)),issuedAtTime:gc(Ag(i.iat)),expirationTime:gc(Ag(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ag(n){return Number(n)*1e3}function l_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const i=iR(t);return i?JSON.parse(i):(Wf("Failed to decode base64 JWT payload"),null)}catch(i){return Wf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dI(n){const e=l_(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ts&&n4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function n4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Nc(n,Zb(t,{idToken:r}));Ze(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?eN(a.providerUserInfo):[],c=s4(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ey(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function i4(n){const e=Zn(n);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eN(n){return n.map(e=>{var{providerId:t}=e,r=r_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e){const t=await Xb(n,{},async()=>{const r=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=Jb(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Yb.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function a4(n,e){return pu(n,"POST","/v2/accounts:revokeToken",a_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=dI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await o4(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Sl;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=r_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ey(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return t4(this,e)}reload(){return i4(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await Nc(this,e4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,f,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:W,isAnonymous:Z,providerData:K,stsTokenManager:I}=t;Ze(z&&I,e,"internal-error");const R=Sl.fromJSON(this.name,I);Ze(typeof z=="string",e,"internal-error"),Xs(_,e.name),Xs(T,e.name),Ze(typeof W=="boolean",e,"internal-error"),Ze(typeof Z=="boolean",e,"internal-error"),Xs(A,e.name),Xs(k,e.name),Xs(x,e.name),Xs(N,e.name),Xs(H,e.name),Xs($,e.name);const P=new rs({uid:z,auth:e,email:T,emailVerified:W,displayName:_,isAnonymous:Z,photoURL:k,phoneNumber:A,tenantId:x,stsTokenManager:R,createdAt:H,lastLoginAt:$});return K&&Array.isArray(K)&&(P.providerData=K.map(O=>Object.assign({},O))),N&&(P._redirectEventId=N),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Sl;i.updateFromServerResponse(t);const a=new rs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Eh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?eN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Sl;c.updateFromIdToken(r);const f=new rs({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ey(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;function is(n){vs(n instanceof Function,"Expected a class definition");let e=fI.get(n);return e?(vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tN.type="NONE";const hI=tN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n,e,t){return`firebase:${n}:${e}:${t}`}class Cl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Kf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Kf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cl(is(hI),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||is(hI);const l=Kf(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=rs._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Cl(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Cl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aN(e))return"Blackberry";if(lN(e))return"Webos";if(rN(e))return"Safari";if((e.includes("chrome/")||iN(e))&&!e.includes("edge/"))return"Chrome";if(oN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nN(n=Bn()){return/firefox\//i.test(n)}function rN(n=Bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iN(n=Bn()){return/crios\//i.test(n)}function sN(n=Bn()){return/iemobile/i.test(n)}function oN(n=Bn()){return/android/i.test(n)}function aN(n=Bn()){return/blackberry/i.test(n)}function lN(n=Bn()){return/webos/i.test(n)}function u_(n=Bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function l4(n=Bn()){var e;return u_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u4(){return o2()&&document.documentMode===10}function uN(n=Bn()){return u_(n)||oN(n)||lN(n)||aN(n)||/windows phone/i.test(n)||sN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(n,e=[]){let t;switch(n){case"Browser":t=pI(Bn());break;case"Worker":t=`${pI(Bn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${au}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n,e={}){return pu(n,"GET","/v2/passwordPolicy",a_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=6;class h4{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:f4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mI(this),this.idTokenSubscription=new mI(this),this.beforeStateQueue=new c4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=is(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zb(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(li(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(da(this));const t=e?Zn(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d4(this),t=new h4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await a4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&is(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&qF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function cp(n){return Zn(n)}class mI{constructor(e){this.auth=e,this.observer=null,this.addObserver=p2(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m4(n){c_=n}function g4(n){return c_.loadJS(n)}function y4(){return c_.gapiScript}function v4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(n,e){const t=Ev(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Ec(a,e??{}))return i;Vi(i,"already-initialized")}return t.initialize({options:e})}function w4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(is);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function E4(n,e,t){const r=cp(n);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=dN(e),{host:l,port:c}=T4(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),I4()}function dN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function T4(n){const e=dN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:gI(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:gI(l)}}}function gI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function I4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,t){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e){return JF(n,"POST","/v1/accounts:signInWithIdp",a_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="http://localhost";class va extends fN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=r_(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new va(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Al(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Al(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Al(e,t)}buildRequest(){const e={requestUri:S4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends d_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends rd{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return es.credential(t,r)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends rd{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends rd{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ro.credential(t,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await rs._fromIdTokenResponse(e,r,i),l=yI(r);return new Kl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=yI(r);return new Kl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function yI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Ts{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Th(e,t,r,i)}}function hN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(n,a,e,r):a})}async function C4(n,e,t=!1){const r=await Nc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Kl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(n,e,t=!1){const{auth:r}=n;if(li(r.app))return Promise.reject(da(r));const i="reauthenticate";try{const a=await Nc(n,hN(r,i,e,n),t);Ze(a.idToken,r,"internal-error");const l=l_(a.idToken);Ze(l,r,"internal-error");const{sub:c}=l;return Ze(n.uid===c,r,"user-mismatch"),Kl._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Vi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(n,e,t=!1){if(li(n.app))return Promise.reject(da(n));const r="signIn",i=await hN(n,r,e),a=await Kl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function b4(n,e,t,r){return Zn(n).onIdTokenChanged(e,t,r)}function N4(n,e,t){return Zn(n).beforeAuthStateChanged(e,t)}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=1e3,P4=10;class mN extends pN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);u4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},k4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mN.type="LOCAL";const D4=mN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN extends pN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gN.type="SESSION";const yN=gN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new dp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await O4(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=f_("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function L4(n){xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function M4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $4(){return vN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebaseLocalStorageDb",U4=1,Sh="firebaseLocalStorage",wN="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fp(n,e){return n.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function j4(){const n=indexedDB.deleteDatabase(_N);return new id(n).toPromise()}function Ty(){const n=indexedDB.open(_N,U4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sh,{keyPath:wN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Sh)?e(r):(r.close(),await j4(),e(await Ty()))})})}async function vI(n,e,t){const r=fp(n,!0).put({[wN]:e,value:t});return new id(r).toPromise()}async function F4(n,e){const t=fp(n,!1).get(e),r=await new id(t).toPromise();return r===void 0?null:r.value}function _I(n,e){const t=fp(n,!0).delete(e);return new id(t).toPromise()}const B4=800,H4=3;class EN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>H4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dp._getInstance($4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await M4(),!this.activeServiceWorker)return;this.sender=new x4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await vI(e,Ih,"1"),await _I(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>vI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>F4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_I(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=fp(i,!1).getAll();return new id(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EN.type="LOCAL";const z4=EN;new nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n,e){return e?is(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends fN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Al(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function q4(n){return R4(n.auth,new h_(n),n.bypassAuthState)}function W4(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),A4(t,new h_(n),n.bypassAuthState)}async function K4(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),C4(t,new h_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q4;case"linkViaPopup":case"linkViaRedirect":return K4;case"reauthViaPopup":case"reauthViaRedirect":return W4;default:Vi(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new nd(2e3,1e4);async function Q4(n,e,t){if(li(n.app))return Promise.reject(ui(n,"operation-not-supported-in-this-environment"));const r=cp(n);WF(n,e,d_);const i=TN(r,t);return new la(r,"signInViaPopup",e,i).executeNotNull()}class la extends IN{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=f_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G4.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="pendingRedirect",Gf=new Map;class X4 extends IN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const r=await J4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J4(n,e){const t=tB(e),r=eB(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Z4(n,e){Gf.set(n._key(),e)}function eB(n){return is(n._redirectPersistence)}function tB(n){return Kf(Y4,n.config.apiKey,n.name)}async function nB(n,e,t=!1){if(li(n.app))return Promise.reject(da(n));const r=cp(n),i=TN(r,e),l=await new X4(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=10*60*1e3;class iB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!SN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rB&&this.cachedEventUids.clear(),this.cachedEventUids.has(wI(e))}saveEventToCache(e){this.cachedEventUids.add(wI(e)),this.lastProcessedEventTime=Date.now()}}function wI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB(n,e={}){return pu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lB=/^https?/;async function uB(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oB(n);for(const t of e)try{if(cB(t))return}catch{}Vi(n,"unauthorized-domain")}function cB(n){const e=wy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!lB.test(t))return!1;if(aB.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new nd(3e4,6e4);function EI(){const n=xi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fB(n){return new Promise((e,t)=>{var r,i,a;function l(){EI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EI(),t(ui(n,"network-request-failed"))},timeout:dB.get()})}if(!((i=(r=xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=xi().gapi)===null||a===void 0)&&a.load)l();else{const c=v4("iframefcb");return xi()[c]=()=>{gapi.load?l():t(ui(n,"network-request-failed"))},g4(`${y4()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function hB(n){return Qf=Qf||fB(n),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new nd(5e3,15e3),mB="__/auth/iframe",gB="emulator/auth/iframe",yB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _B(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?o_(e,gB):`https://${n.config.authDomain}/${mB}`,r={apiKey:e.apiKey,appName:n.name,v:au},i=vB.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Gc(r).slice(1)}`}async function wB(n){const e=await hB(n),t=xi().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:_B(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yB,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ui(n,"network-request-failed"),c=xi().setTimeout(()=>{a(l)},pB.get());function f(){xi().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TB=500,IB=600,SB="_blank",CB="http://localhost";class TI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AB(n,e,t,r=TB,i=IB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},EB),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Bn().toLowerCase();t&&(c=iN(p)?SB:t),nN(p)&&(e=e||CB,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[A,k])=>`${T}${A}=${k},`,"");if(l4(p)&&c!=="_self")return RB(e||"",c),new TI(null);const _=window.open(e||"",c,g);Ze(_,n,"popup-blocked");try{_.focus()}catch{}return new TI(_)}function RB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="__/auth/handler",NB="emulator/auth/handler",kB=encodeURIComponent("fac");async function II(n,e,t,r,i,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:au,eventId:i};if(e instanceof d_){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",h2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof rd){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${kB}=${encodeURIComponent(f)}`:"";return`${PB(n)}?${Gc(c).slice(1)}${p}`}function PB({config:n}){return n.emulator?o_(n,NB):`https://${n.authDomain}/${bB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="webStorageSupport";class DB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yN,this._completeRedirectFn=nB,this._overrideRedirectResult=Z4}async _openPopup(e,t,r,i){var a;vs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await II(e,t,r,wy(),i);return AB(e,l,f_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await II(e,t,r,wy(),i);return L4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(vs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wB(e),r=new iB(e);return t.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rg,{type:Rg},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Rg];l!==void 0&&t(!!l),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uN()||rN()||u_()}}const OB=DB;var SI="@firebase/auth",CI="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MB(n){$l(new ma("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cN(n)},p=new p4(r,i,a,f);return w4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$l(new ma("auth-internal",e=>{const t=cp(e.getProvider("auth").getImmediate());return(r=>new xB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(SI,CI,LB(n)),fo(SI,CI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=5*60,$B=aR("authIdTokenMaxAge")||VB;let AI=null;const UB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$B)return;const i=t==null?void 0:t.token;AI!==i&&(AI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jB(n=dR()){const e=Ev(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_4(n,{popupRedirectResolver:OB,persistence:[z4,D4,yN]}),r=aR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=UB(a.toString());N4(t,l,()=>l(t.currentUser)),b4(t,c=>l(c))}}const i=sR("auth");return i&&E4(t,`http://${i}`),t}function FB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}m4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ui("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",FB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MB("Browser");const RI=n=>{let e;const t=new Set,r=(p,g)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const T=e;e=g??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(A=>A(e,T))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(r,i,c);return c},BB=n=>n?RI(n):RI,HB=n=>n;function zB(n,e=HB){const t=dn.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return dn.useDebugValue(t),t}const bI=n=>{const e=BB(n),t=r=>zB(e,r);return Object.assign(t,e),t},qB=n=>n?bI(n):bI,WB=qB(n=>({currentUser:null,isLoading:!0,fetchUserInfo:async e=>{if(!e)return n({currentUser:null,isLoading:!1});try{const t=Il(Gl,"users",e),r=await _h(t);r.exists()?n({currentUser:r.data(),isLoading:!1}):n({currentUser:null,isLoading:!1})}catch(t){return console.log(t),n({currentUser:null,isLoading:!1})}}})),KB={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"};cR(KB);const CN=jB(),Gl=EF();async function GB(){try{const n=new es,t=(await Q4(CN,n)).user;if(!t){console.error("Firebase login failed.");return}const r=Il(Gl,"users",t.uid);(await _h(r)).exists()||(await mc(r,{id:t.uid,email:t.email,username:t.displayName||"New User",createdAt:new Date,blocked:[]}),await mc(Il(Gl,"userchats",t.uid),{chats:[]})),await Wc.createOAuth2Session(Yg.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery"),console.log("Login successful with Firebase and Appwrite.")}catch(n){console.error("Error during login:",n),alert(`Login failed: ${n.message}`)}}async function QB(n){try{const e=vy(Gl,"users"),t=LF(e,MF("username","==",n)),r=await FF(t);if(r.empty)throw new Error("User not found!");return r.docs[0].data()}catch(e){throw console.error("Search Error:",e),new Error("An error occurred while searching.")}}async function YB(n,e){if(!n||!e)return;const t=vy(Gl,"chats"),r=vy(Gl,"userchats"),i=Il(r,e.id),a=Il(r,n.id);try{const[l,c]=await Promise.all([_h(i),_h(a)]);l.exists()||await mc(i,{chats:[]}),c.exists()||await mc(a,{chats:[]});const f=l.exists()?l.data().chats||[]:[],p=c.exists()?c.data().chats||[]:[],g=f.some(k=>k.receiverId===n.id),_=p.some(k=>k.receiverId===e.id);if(g||_)throw new Error("User already added!");const T=Il(t);await mc(T,{createdAt:HF(),messages:[]});const A={chatId:T.id,lastMessage:"",receiverId:n.id,updatedAt:Date.now()};return await lI(i,{chats:uI(A)}),await lI(a,{chats:uI({...A,receiverId:e.id})}),T.id}catch(l){throw console.error("Add User Error:",l),new Error("An error occurred while adding the user.")}}function XB(n){const{currentUser:e}=WB(),[t,r]=w.useState(null),[i,a]=w.useState(null);return useEffect(()=>{if(!n)return;async function l(){try{const c=await QB(n);r(c),await YB(c,e),console.log("found and added")}catch(c){a(c.message)}}l()},[n,e]),{user:t,error:i}}const AN=w.createContext(void 0),JB=({children:n})=>{const e=ZB();return C(AN.Provider,{value:e,children:n})};function ZB(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const f=await FV();e(f.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:f}=await zV(),p=!!f.find(g=>g.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function i(){await GB()}async function a(c,f){try{await Wc.createEmailPasswordSession(c,f)}catch(p){console.error(p)}}async function l(){await BV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:i,logInAdmin:a}}function So(){const n=w.useContext(AN);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jt.apply(this,arguments)}var sn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(sn||(sn={}));const NI="popstate";function e9(n){n===void 0&&(n={});function e(i,a){let{pathname:l="/",search:c="",hash:f=""}=Is(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),kc("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");c=p===-1?f:f.slice(0,p)}return c+"#"+(typeof a=="string"?a:wa(a))}function r(i,a){_a(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return n9(e,t,r,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _a(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t9(){return Math.random().toString(36).substr(2,8)}function kI(n,e){return{usr:n.state,key:n.key,idx:e}}function kc(n,e,t,r){return t===void 0&&(t=null),jt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Is(e):e,{state:t,key:e&&e.key||r||t9()})}function wa(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Is(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function n9(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c=sn.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(jt({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){c=sn.Pop;let N=g(),H=N==null?null:N-p;p=N,f&&f({action:c,location:x.location,delta:H})}function T(N,H){c=sn.Push;let $=kc(x.location,N,H);t&&t($,N),p=g()+1;let z=kI($,p),W=x.createHref($);try{l.pushState(z,"",W)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(W)}a&&f&&f({action:c,location:x.location,delta:1})}function A(N,H){c=sn.Replace;let $=kc(x.location,N,H);t&&t($,N),p=g();let z=kI($,p),W=x.createHref($);l.replaceState(z,"",W),a&&f&&f({action:c,location:x.location,delta:0})}function k(N){let H=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof N=="string"?N:wa(N);return $=$.replace(/ $/,"%20"),ut(H,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,H)}let x={get action(){return c},get location(){return n(i,l)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(NI,_),f=N,()=>{i.removeEventListener(NI,_),f=null}},createHref(N){return e(i,N)},createURL:k,encodeLocation(N){let H=k(N);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:A,go(N){return l.go(N)}};return x}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const r9=new Set(["lazy","caseSensitive","path","id","index","children"]);function i9(n){return n.index===!0}function Ch(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,a)=>{let l=[...t,String(a)],c=typeof i.id=="string"?i.id:l.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),i9(i)){let f=jt({},i,e(i),{id:c});return r[c]=f,f}else{let f=jt({},i,e(i),{id:c,children:void 0});return r[c]=f,i.children&&(f.children=Ch(i.children,e,l,r)),f}})}function ta(n,e,t){return t===void 0&&(t="/"),Yf(n,e,t,!1)}function Yf(n,e,t,r){let i=typeof e=="string"?Is(e):e,a=_s(i.pathname||"/",t);if(a==null)return null;let l=RN(n);o9(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=y9(a);c=m9(l[f],p,r)}return c}function s9(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function RN(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=ds([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),RN(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:h9(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of bN(a.path))i(a,l,f)}),e}function bN(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=bN(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function o9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:p9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const a9=/^:[\w-]+$/,l9=3,u9=2,c9=1,d9=10,f9=-2,PI=n=>n==="*";function h9(n,e){let t=n.split("/"),r=t.length;return t.some(PI)&&(r+=f9),e&&(r+=u9),t.filter(i=>!PI(i)).reduce((i,a)=>i+(a9.test(a)?l9:a===""?c9:d9),r)}function p9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function m9(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Ah({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),T=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=Ah({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:ds([a,_.pathname]),pathnameBase:w9(ds([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=ds([a,_.pathnameBase]))}return l}function Ah(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=g9(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:T,isOptional:A}=g;if(T==="*"){let x=c[_]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const k=c[_];return A&&!k?p[T]=void 0:p[T]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function g9(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),_a(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function y9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _a(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function _s(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function v9(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Is(n):n;return{pathname:t?t.startsWith("/")?t:_9(t,e):e,search:E9(r),hash:T9(i)}}function _9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function bg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function p_(n,e){let t=NN(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function m_(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Is(n):(i=jt({},n),ut(!i.pathname||!i.pathname.includes("?"),bg("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),bg("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),bg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;i.pathname=T.join("/")}c=_>=0?e[_]:"/"}let f=v9(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const ds=n=>n.join("/").replace(/\/\/+/g,"/"),w9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),E9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,T9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Rh{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Pc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const kN=["post","put","patch","delete"],I9=new Set(kN),S9=["get",...kN],C9=new Set(S9),A9=new Set([301,302,303,307,308]),R9=new Set([307,308]),Ng={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},b9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},g_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N9=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),PN="remix-router-transitions";function k9(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let U=n.detectErrorBoundary;i=q=>({hasErrorBoundary:U(q)})}else i=N9;let a={},l=Ch(n.routes,i,void 0,a),c,f=n.basename||"/",p=n.dataStrategy||x9,g=n.patchRoutesOnNavigation,_=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,A=new Set,k=null,x=null,N=null,H=n.hydrationData!=null,$=ta(l,n.history.location,f),z=!1,W=null;if($==null&&!g){let U=fr(404,{pathname:n.history.location.pathname}),{matches:q,route:X}=BI(l);$=q,W={[X.id]:U}}$&&!n.hydrationData&&gi($,l,n.history.location.pathname).active&&($=null);let Z;if($)if($.some(U=>U.route.lazy))Z=!1;else if(!$.some(U=>U.route.loader))Z=!0;else if(_.v7_partialHydration){let U=n.hydrationData?n.hydrationData.loaderData:null,q=n.hydrationData?n.hydrationData.errors:null;if(q){let X=$.findIndex(re=>q[re.route.id]!==void 0);Z=$.slice(0,X+1).every(re=>!Sy(re.route,U,q))}else Z=$.every(X=>!Sy(X.route,U,q))}else Z=n.hydrationData!=null;else if(Z=!1,$=[],_.v7_partialHydration){let U=gi(null,l,n.history.location.pathname);U.active&&U.matches&&(z=!0,$=U.matches)}let K,I={historyAction:n.history.action,location:n.history.location,matches:$,initialized:Z,navigation:Ng,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||W,fetchers:new Map,blockers:new Map},R=sn.Pop,P=!1,O,L=!1,V=new Map,D=null,we=!1,Le=!1,He=[],Ne=new Set,ne=new Map,me=0,le=-1,F=new Map,ee=new Set,pe=new Map,ve=new Map,Te=new Set,Ae=new Map,Ge=new Map,je;function st(){if(T=n.history.listen(U=>{let{action:q,location:X,delta:re}=U;if(je){je(),je=void 0;return}_a(Ge.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=$i({currentLocation:I.location,nextLocation:X,historyAction:q});if(_e&&re!=null){let ke=new Promise(Qe=>{je=Qe});n.history.go(re*-1),Gr(_e,{state:"blocked",location:X,proceed(){Gr(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ke.then(()=>n.history.go(re))},reset(){let Qe=new Map(I.blockers);Qe.set(_e,Yu),it({blockers:Qe})}});return}return Ft(q,X)}),t){G9(e,V);let U=()=>Q9(e,V);e.addEventListener("pagehide",U),D=()=>e.removeEventListener("pagehide",U)}return I.initialized||Ft(sn.Pop,I.location,{initialHydration:!0}),K}function Et(){T&&T(),D&&D(),A.clear(),O&&O.abort(),I.fetchers.forEach((U,q)=>qn(q)),I.blockers.forEach((U,q)=>pi(q))}function St(U){return A.add(U),()=>A.delete(U)}function it(U,q){q===void 0&&(q={}),I=jt({},I,U);let X=[],re=[];_.v7_fetcherPersist&&I.fetchers.forEach((_e,ke)=>{_e.state==="idle"&&(Te.has(ke)?re.push(ke):X.push(ke))}),Te.forEach(_e=>{!I.fetchers.has(_e)&&!ne.has(_e)&&re.push(_e)}),[...A].forEach(_e=>_e(I,{deletedFetchers:re,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),_.v7_fetcherPersist?(X.forEach(_e=>I.fetchers.delete(_e)),re.forEach(_e=>qn(_e))):re.forEach(_e=>Te.delete(_e))}function kt(U,q,X){var re,_e;let{flushSync:ke}=X===void 0?{}:X,Qe=I.actionData!=null&&I.navigation.formMethod!=null&&oi(I.navigation.formMethod)&&I.navigation.state==="loading"&&((re=U.state)==null?void 0:re._isRedirect)!==!0,Pe;q.actionData?Object.keys(q.actionData).length>0?Pe=q.actionData:Pe=null:Qe?Pe=I.actionData:Pe=null;let Re=q.loaderData?jI(I.loaderData,q.loaderData,q.matches||[],q.errors):I.loaderData,Se=I.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Je,Gt)=>Se.set(Gt,Yu)));let De=P===!0||I.navigation.formMethod!=null&&oi(I.navigation.formMethod)&&((_e=U.state)==null?void 0:_e._isRedirect)!==!0;c&&(l=c,c=void 0),we||R===sn.Pop||(R===sn.Push?n.history.push(U,U.state):R===sn.Replace&&n.history.replace(U,U.state));let et;if(R===sn.Pop){let Je=V.get(I.location.pathname);Je&&Je.has(U.pathname)?et={currentLocation:I.location,nextLocation:U}:V.has(U.pathname)&&(et={currentLocation:U,nextLocation:I.location})}else if(L){let Je=V.get(I.location.pathname);Je?Je.add(U.pathname):(Je=new Set([U.pathname]),V.set(I.location.pathname,Je)),et={currentLocation:I.location,nextLocation:U}}it(jt({},q,{actionData:Pe,loaderData:Re,historyAction:R,location:U,initialized:!0,navigation:Ng,revalidation:"idle",restoreScrollPosition:mi(U,q.matches||I.matches),preventScrollReset:De,blockers:Se}),{viewTransitionOpts:et,flushSync:ke===!0}),R=sn.Pop,P=!1,L=!1,we=!1,Le=!1,He=[]}async function Kt(U,q){if(typeof U=="number"){n.history.go(U);return}let X=Iy(I.location,I.matches,f,_.v7_prependBasename,U,_.v7_relativeSplatPath,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:re,submission:_e,error:ke}=DI(_.v7_normalizeFormMethod,!1,X,q),Qe=I.location,Pe=kc(I.location,re,q&&q.state);Pe=jt({},Pe,n.history.encodeLocation(Pe));let Re=q&&q.replace!=null?q.replace:void 0,Se=sn.Push;Re===!0?Se=sn.Replace:Re===!1||_e!=null&&oi(_e.formMethod)&&_e.formAction===I.location.pathname+I.location.search&&(Se=sn.Replace);let De=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,et=(q&&q.flushSync)===!0,Je=$i({currentLocation:Qe,nextLocation:Pe,historyAction:Se});if(Je){Gr(Je,{state:"blocked",location:Pe,proceed(){Gr(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),Kt(U,q)},reset(){let Gt=new Map(I.blockers);Gt.set(Je,Yu),it({blockers:Gt})}});return}return await Ft(Se,Pe,{submission:_e,pendingError:ke,preventScrollReset:De,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:et})}function rt(){if(mt(),it({revalidation:"loading"}),I.navigation.state!=="submitting"){if(I.navigation.state==="idle"){Ft(I.historyAction,I.location,{startUninterruptedRevalidation:!0});return}Ft(R||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:L===!0})}}async function Ft(U,q,X){O&&O.abort(),O=null,R=U,we=(X&&X.startUninterruptedRevalidation)===!0,Oo(I.location,I.matches),P=(X&&X.preventScrollReset)===!0,L=(X&&X.enableViewTransition)===!0;let re=c||l,_e=X&&X.overrideNavigation,ke=X!=null&&X.initialHydration&&I.matches&&I.matches.length>0&&!z?I.matches:ta(re,q,f),Qe=(X&&X.flushSync)===!0,Pe=gi(ke,re,q.pathname);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){let{error:Tt,notFoundMatches:at,route:Rt}=Dn(q.pathname);kt(q,{matches:at,loaderData:{},errors:{[Rt.id]:Tt}},{flushSync:Qe});return}if(I.initialized&&!Le&&j9(I.location,q)&&!(X&&X.submission&&oi(X.submission.formMethod))){kt(q,{matches:ke},{flushSync:Qe});return}O=new AbortController;let Re=hl(n.history,q,O.signal,X&&X.submission),Se;if(X&&X.pendingError)Se=[na(ke).route.id,{type:Nt.error,error:X.pendingError}];else if(X&&X.submission&&oi(X.submission.formMethod)){let Tt=await pn(Re,q,X.submission,ke,Pe.active,{replace:X.replace,flushSync:Qe});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[at,Rt]=Tt.pendingActionResult;if(Ar(Rt)&&Pc(Rt.error)&&Rt.error.status===404){O=null,kt(q,{matches:Tt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}ke=Tt.matches||ke,Se=Tt.pendingActionResult,_e=kg(q,X.submission),Qe=!1,Pe.active=!1,Re=hl(n.history,Re.url,Re.signal)}let{shortCircuited:De,matches:et,loaderData:Je,errors:Gt}=await Pr(Re,q,ke,Pe.active,_e,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Qe,Se);De||(O=null,kt(q,jt({matches:et||ke},FI(Se),{loaderData:Je,errors:Gt})))}async function pn(U,q,X,re,_e,ke){ke===void 0&&(ke={}),mt();let Qe=W9(q,X);if(it({navigation:Qe},{flushSync:ke.flushSync===!0}),_e){let Se=await rr(re,q.pathname,U.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let De=na(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[De,{type:Nt.error,error:Se.error}]}}else if(Se.matches)re=Se.matches;else{let{notFoundMatches:De,error:et,route:Je}=Dn(q.pathname);return{matches:De,pendingActionResult:[Je.id,{type:Nt.error,error:et}]}}}let Pe,Re=sc(re,q);if(!Re.route.action&&!Re.route.lazy)Pe={type:Nt.error,error:fr(405,{method:U.method,pathname:q.pathname,routeId:Re.route.id})};else if(Pe=(await an("action",I,U,[Re],re,null))[Re.route.id],U.signal.aborted)return{shortCircuited:!0};if(ua(Pe)){let Se;return ke&&ke.replace!=null?Se=ke.replace:Se=VI(Pe.response.headers.get("Location"),new URL(U.url),f)===I.location.pathname+I.location.search,await Dt(U,Pe,!0,{submission:X,replace:Se}),{shortCircuited:!0}}if(ao(Pe))throw fr(400,{type:"defer-action"});if(Ar(Pe)){let Se=na(re,Re.route.id);return(ke&&ke.replace)!==!0&&(R=sn.Push),{matches:re,pendingActionResult:[Se.route.id,Pe]}}return{matches:re,pendingActionResult:[Re.route.id,Pe]}}async function Pr(U,q,X,re,_e,ke,Qe,Pe,Re,Se,De){let et=_e||kg(q,ke),Je=ke||Qe||zI(et),Gt=!we&&(!_.v7_partialHydration||!Re);if(re){if(Gt){let Ct=Hn(De);it(jt({navigation:et},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Se})}let dt=await rr(X,q.pathname,U.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Ct=na(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Ct]:dt.error}}}else if(dt.matches)X=dt.matches;else{let{error:Ct,notFoundMatches:en,route:_i}=Dn(q.pathname);return{matches:en,loaderData:{},errors:{[_i.id]:Ct}}}}let Tt=c||l,[at,Rt]=xI(n.history,I,X,Je,q,_.v7_partialHydration&&Re===!0,_.v7_skipActionErrorRevalidation,Le,He,Ne,Te,pe,ee,Tt,f,De);if(nr(dt=>!(X&&X.some(Ct=>Ct.route.id===dt))||at&&at.some(Ct=>Ct.route.id===dt)),le=++me,at.length===0&&Rt.length===0){let dt=tr();return kt(q,jt({matches:X,loaderData:{},errors:De&&Ar(De[1])?{[De[0]]:De[1].error}:null},FI(De),dt?{fetchers:new Map(I.fetchers)}:{}),{flushSync:Se}),{shortCircuited:!0}}if(Gt){let dt={};if(!re){dt.navigation=et;let Ct=Hn(De);Ct!==void 0&&(dt.actionData=Ct)}Rt.length>0&&(dt.fetchers=Bt(Rt)),it(dt,{flushSync:Se})}Rt.forEach(dt=>{ot(dt.key),dt.controller&&ne.set(dt.key,dt.controller)});let Dr=()=>Rt.forEach(dt=>ot(dt.key));O&&O.signal.addEventListener("abort",Dr);let{loaderResults:yi,fetcherResults:vr}=await Ue(I,X,at,Rt,U);if(U.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Dr),Rt.forEach(dt=>ne.delete(dt.key));let ct=Df(yi);if(ct)return await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};if(ct=Df(vr),ct)return ee.add(ct.key),await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Rs,errors:_r}=UI(I,X,yi,De,Rt,vr,Ae);Ae.forEach((dt,Ct)=>{dt.subscribe(en=>{(en||dt.done)&&Ae.delete(Ct)})}),_.v7_partialHydration&&Re&&I.errors&&(_r=jt({},I.errors,_r));let On=tr(),Tn=hi(le),vi=On||Tn||Rt.length>0;return jt({matches:X,loaderData:Rs,errors:_r},vi?{fetchers:new Map(I.fetchers)}:{})}function Hn(U){if(U&&!Ar(U[1]))return{[U[0]]:U[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Bt(U){return U.forEach(q=>{let X=I.fetchers.get(q.key),re=Xu(void 0,X?X.data:void 0);I.fetchers.set(q.key,re)}),new Map(I.fetchers)}function Zt(U,q,X,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ot(U);let _e=(re&&re.flushSync)===!0,ke=c||l,Qe=Iy(I.location,I.matches,f,_.v7_prependBasename,X,_.v7_relativeSplatPath,q,re==null?void 0:re.relative),Pe=ta(ke,Qe,f),Re=gi(Pe,ke,Qe);if(Re.active&&Re.matches&&(Pe=Re.matches),!Pe){mn(U,q,fr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Se,submission:De,error:et}=DI(_.v7_normalizeFormMethod,!0,Qe,re);if(et){mn(U,q,et,{flushSync:_e});return}let Je=sc(Pe,Se),Gt=(re&&re.preventScrollReset)===!0;if(De&&oi(De.formMethod)){er(U,q,Se,Je,Pe,Re.active,_e,Gt,De);return}pe.set(U,{routeId:q,path:Se}),Pn(U,q,Se,Je,Pe,Re.active,_e,Gt,De)}async function er(U,q,X,re,_e,ke,Qe,Pe,Re){mt(),pe.delete(U);function Se(ft){if(!ft.route.action&&!ft.route.lazy){let Or=fr(405,{method:Re.formMethod,pathname:X,routeId:q});return mn(U,q,Or,{flushSync:Qe}),!0}return!1}if(!ke&&Se(re))return;let De=I.fetchers.get(U);Ot(U,K9(Re,De),{flushSync:Qe});let et=new AbortController,Je=hl(n.history,X,et.signal,Re);if(ke){let ft=await rr(_e,new URL(Je.url).pathname,Je.signal);if(ft.type==="aborted")return;if(ft.type==="error"){mn(U,q,ft.error,{flushSync:Qe});return}else if(ft.matches){if(_e=ft.matches,re=sc(_e,X),Se(re))return}else{mn(U,q,fr(404,{pathname:X}),{flushSync:Qe});return}}ne.set(U,et);let Gt=me,at=(await an("action",I,Je,[re],_e,U))[re.route.id];if(Je.signal.aborted){ne.get(U)===et&&ne.delete(U);return}if(_.v7_fetcherPersist&&Te.has(U)){if(ua(at)||Ar(at)){Ot(U,Js(void 0));return}}else{if(ua(at))if(ne.delete(U),le>Gt){Ot(U,Js(void 0));return}else return ee.add(U),Ot(U,Xu(Re)),Dt(Je,at,!1,{fetcherSubmission:Re,preventScrollReset:Pe});if(Ar(at)){mn(U,q,at.error);return}}if(ao(at))throw fr(400,{type:"defer-action"});let Rt=I.navigation.location||I.location,Dr=hl(n.history,Rt,et.signal),yi=c||l,vr=I.navigation.state!=="idle"?ta(yi,I.navigation.location,f):I.matches;ut(vr,"Didn't find any matches after fetcher action");let ct=++me;F.set(U,ct);let Rs=Xu(Re,at.data);I.fetchers.set(U,Rs);let[_r,On]=xI(n.history,I,vr,Re,Rt,!1,_.v7_skipActionErrorRevalidation,Le,He,Ne,Te,pe,ee,yi,f,[re.route.id,at]);On.filter(ft=>ft.key!==U).forEach(ft=>{let Or=ft.key,Lo=I.fetchers.get(Or),Na=Xu(void 0,Lo?Lo.data:void 0);I.fetchers.set(Or,Na),ot(Or),ft.controller&&ne.set(Or,ft.controller)}),it({fetchers:new Map(I.fetchers)});let Tn=()=>On.forEach(ft=>ot(ft.key));et.signal.addEventListener("abort",Tn);let{loaderResults:vi,fetcherResults:dt}=await Ue(I,vr,_r,On,Dr);if(et.signal.aborted)return;et.signal.removeEventListener("abort",Tn),F.delete(U),ne.delete(U),On.forEach(ft=>ne.delete(ft.key));let Ct=Df(vi);if(Ct)return Dt(Dr,Ct.result,!1,{preventScrollReset:Pe});if(Ct=Df(dt),Ct)return ee.add(Ct.key),Dt(Dr,Ct.result,!1,{preventScrollReset:Pe});let{loaderData:en,errors:_i}=UI(I,vr,vi,void 0,On,dt,Ae);if(I.fetchers.has(U)){let ft=Js(at.data);I.fetchers.set(U,ft)}hi(ct),I.navigation.state==="loading"&&ct>le?(ut(R,"Expected pending action"),O&&O.abort(),kt(I.navigation.location,{matches:vr,loaderData:en,errors:_i,fetchers:new Map(I.fetchers)})):(it({errors:_i,loaderData:jI(I.loaderData,en,vr,_i),fetchers:new Map(I.fetchers)}),Le=!1)}async function Pn(U,q,X,re,_e,ke,Qe,Pe,Re){let Se=I.fetchers.get(U);Ot(U,Xu(Re,Se?Se.data:void 0),{flushSync:Qe});let De=new AbortController,et=hl(n.history,X,De.signal);if(ke){let at=await rr(_e,new URL(et.url).pathname,et.signal);if(at.type==="aborted")return;if(at.type==="error"){mn(U,q,at.error,{flushSync:Qe});return}else if(at.matches)_e=at.matches,re=sc(_e,X);else{mn(U,q,fr(404,{pathname:X}),{flushSync:Qe});return}}ne.set(U,De);let Je=me,Tt=(await an("loader",I,et,[re],_e,U))[re.route.id];if(ao(Tt)&&(Tt=await y_(Tt,et.signal,!0)||Tt),ne.get(U)===De&&ne.delete(U),!et.signal.aborted){if(Te.has(U)){Ot(U,Js(void 0));return}if(ua(Tt))if(le>Je){Ot(U,Js(void 0));return}else{ee.add(U),await Dt(et,Tt,!1,{preventScrollReset:Pe});return}if(Ar(Tt)){mn(U,q,Tt.error);return}ut(!ao(Tt),"Unhandled fetcher deferred data"),Ot(U,Js(Tt.data))}}async function Dt(U,q,X,re){let{submission:_e,fetcherSubmission:ke,preventScrollReset:Qe,replace:Pe}=re===void 0?{}:re;q.response.headers.has("X-Remix-Revalidate")&&(Le=!0);let Re=q.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=VI(Re,new URL(U.url),f);let Se=kc(I.location,Re,{_isRedirect:!0});if(t){let at=!1;if(q.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(g_.test(Re)){const Rt=n.history.createURL(Re);at=Rt.origin!==e.location.origin||_s(Rt.pathname,f)==null}if(at){Pe?e.location.replace(Re):e.location.assign(Re);return}}O=null;let De=Pe===!0||q.response.headers.has("X-Remix-Replace")?sn.Replace:sn.Push,{formMethod:et,formAction:Je,formEncType:Gt}=I.navigation;!_e&&!ke&&et&&Je&&Gt&&(_e=zI(I.navigation));let Tt=_e||ke;if(R9.has(q.response.status)&&Tt&&oi(Tt.formMethod))await Ft(De,Se,{submission:jt({},Tt,{formAction:Re}),preventScrollReset:Qe||P,enableViewTransition:X?L:void 0});else{let at=kg(Se,_e);await Ft(De,Se,{overrideNavigation:at,fetcherSubmission:ke,preventScrollReset:Qe||P,enableViewTransition:X?L:void 0})}}async function an(U,q,X,re,_e,ke){let Qe,Pe={};try{Qe=await L9(p,U,q,X,re,_e,ke,a,i)}catch(Re){return re.forEach(Se=>{Pe[Se.route.id]={type:Nt.error,error:Re}}),Pe}for(let[Re,Se]of Object.entries(Qe))if(F9(Se)){let De=Se.result;Pe[Re]={type:Nt.redirect,response:$9(De,X,Re,_e,f,_.v7_relativeSplatPath)}}else Pe[Re]=await V9(Se);return Pe}async function Ue(U,q,X,re,_e){let ke=U.matches,Qe=an("loader",U,_e,X,q,null),Pe=Promise.all(re.map(async De=>{if(De.matches&&De.match&&De.controller){let Je=(await an("loader",U,hl(n.history,De.path,De.controller.signal),[De.match],De.matches,De.key))[De.match.route.id];return{[De.key]:Je}}else return Promise.resolve({[De.key]:{type:Nt.error,error:fr(404,{pathname:De.path})}})})),Re=await Qe,Se=(await Pe).reduce((De,et)=>Object.assign(De,et),{});return await Promise.all([z9(q,Re,_e.signal,ke,U.loaderData),q9(q,Se,re)]),{loaderResults:Re,fetcherResults:Se}}function mt(){Le=!0,He.push(...nr()),pe.forEach((U,q)=>{ne.has(q)&&Ne.add(q),ot(q)})}function Ot(U,q,X){X===void 0&&(X={}),I.fetchers.set(U,q),it({fetchers:new Map(I.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function mn(U,q,X,re){re===void 0&&(re={});let _e=na(I.matches,q);qn(U),it({errors:{[_e.route.id]:X},fetchers:new Map(I.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function zn(U){return ve.set(U,(ve.get(U)||0)+1),Te.has(U)&&Te.delete(U),I.fetchers.get(U)||b9}function qn(U){let q=I.fetchers.get(U);ne.has(U)&&!(q&&q.state==="loading"&&F.has(U))&&ot(U),pe.delete(U),F.delete(U),ee.delete(U),_.v7_fetcherPersist&&Te.delete(U),Ne.delete(U),I.fetchers.delete(U)}function ze(U){let q=(ve.get(U)||0)-1;q<=0?(ve.delete(U),Te.add(U),_.v7_fetcherPersist||qn(U)):ve.set(U,q),it({fetchers:new Map(I.fetchers)})}function ot(U){let q=ne.get(U);q&&(q.abort(),ne.delete(U))}function gn(U){for(let q of U){let X=zn(q),re=Js(X.data);I.fetchers.set(q,re)}}function tr(){let U=[],q=!1;for(let X of ee){let re=I.fetchers.get(X);ut(re,"Expected fetcher: "+X),re.state==="loading"&&(ee.delete(X),U.push(X),q=!0)}return gn(U),q}function hi(U){let q=[];for(let[X,re]of F)if(re<U){let _e=I.fetchers.get(X);ut(_e,"Expected fetcher: "+X),_e.state==="loading"&&(ot(X),F.delete(X),q.push(X))}return gn(q),q.length>0}function Do(U,q){let X=I.blockers.get(U)||Yu;return Ge.get(U)!==q&&Ge.set(U,q),X}function pi(U){I.blockers.delete(U),Ge.delete(U)}function Gr(U,q){let X=I.blockers.get(U)||Yu;ut(X.state==="unblocked"&&q.state==="blocked"||X.state==="blocked"&&q.state==="blocked"||X.state==="blocked"&&q.state==="proceeding"||X.state==="blocked"&&q.state==="unblocked"||X.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+q.state);let re=new Map(I.blockers);re.set(U,q),it({blockers:re})}function $i(U){let{currentLocation:q,nextLocation:X,historyAction:re}=U;if(Ge.size===0)return;Ge.size>1&&_a(!1,"A router only supports one blocker at a time");let _e=Array.from(Ge.entries()),[ke,Qe]=_e[_e.length-1],Pe=I.blockers.get(ke);if(!(Pe&&Pe.state==="proceeding")&&Qe({currentLocation:q,nextLocation:X,historyAction:re}))return ke}function Dn(U){let q=fr(404,{pathname:U}),X=c||l,{matches:re,route:_e}=BI(X);return nr(),{notFoundMatches:re,route:_e,error:q}}function nr(U){let q=[];return Ae.forEach((X,re)=>{(!U||U(re))&&(X.cancel(),q.push(re),Ae.delete(re))}),q}function As(U,q,X){if(k=U,N=q,x=X||null,!H&&I.navigation===Ng){H=!0;let re=mi(I.location,I.matches);re!=null&&it({restoreScrollPosition:re})}return()=>{k=null,N=null,x=null}}function yr(U,q){return x&&x(U,q.map(re=>s9(re,I.loaderData)))||U.key}function Oo(U,q){if(k&&N){let X=yr(U,q);k[X]=N()}}function mi(U,q){if(k){let X=yr(U,q),re=k[X];if(typeof re=="number")return re}return null}function gi(U,q,X){if(g)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:Yf(q,X,f,!0)}}else return{active:!0,matches:Yf(q,X,f,!0)||[]};return{active:!1,matches:null}}async function rr(U,q,X){if(!g)return{type:"success",matches:U};let re=U;for(;;){let _e=c==null,ke=c||l,Qe=a;try{await g({signal:X,path:q,matches:re,patch:(Se,De)=>{X.aborted||MI(Se,De,ke,Qe,i)}})}catch(Se){return{type:"error",error:Se,partialMatches:re}}finally{_e&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let Pe=ta(ke,q,f);if(Pe)return{type:"success",matches:Pe};let Re=Yf(ke,q,f,!0);if(!Re||re.length===Re.length&&re.every((Se,De)=>Se.route.id===Re[De].route.id))return{type:"success",matches:null};re=Re}}function xo(U){a={},c=Ch(U,i,void 0,a)}function Ht(U,q){let X=c==null;MI(U,q,c||l,a,i),X&&(l=[...l],it({}))}return K={get basename(){return f},get future(){return _},get state(){return I},get routes(){return l},get window(){return e},initialize:st,subscribe:St,enableScrollRestoration:As,navigate:Kt,fetch:Zt,revalidate:rt,createHref:U=>n.history.createHref(U),encodeLocation:U=>n.history.encodeLocation(U),getFetcher:zn,deleteFetcher:ze,dispose:Et,getBlocker:Do,deleteBlocker:pi,patchRoutes:Ht,_internalFetchControllers:ne,_internalActiveDeferreds:Ae,_internalSetRoutes:xo},K}function P9(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Iy(n,e,t,r,i,a,l,c){let f,p;if(l){f=[];for(let _ of e)if(f.push(_),_.route.id===l){p=_;break}}else f=e,p=e[e.length-1];let g=m_(i||".",p_(f,a),_s(n.pathname,t)||n.pathname,c==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&p){let _=v_(g.search);if(p.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&_){let T=new URLSearchParams(g.search),A=T.getAll("index");T.delete("index"),A.filter(x=>x).forEach(x=>T.append("index",x));let k=T.toString();g.search=k?"?"+k:""}}return r&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ds([t,g.pathname])),wa(g)}function DI(n,e,t,r){if(!r||!P9(r))return{path:t};if(r.formMethod&&!H9(r.formMethod))return{path:t,error:fr(405,{method:r.formMethod})};let i=()=>({path:t,error:fr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),c=xN(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!oi(l))return i();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((A,k)=>{let[x,N]=k;return""+A+x+"="+N+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!oi(l))return i();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=Cy(r.formData),p=r.formData;else if(r.body instanceof FormData)f=Cy(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=$I(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=$I(f)}catch{return i()}let g={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(oi(g.formMethod))return{path:t,submission:g};let _=Is(t);return e&&_.search&&v_(_.search)&&f.append("index",""),_.search="?"+f,{path:wa(_),submission:g}}function OI(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function xI(n,e,t,r,i,a,l,c,f,p,g,_,T,A,k,x){let N=x?Ar(x[1])?x[1].error:x[1].data:void 0,H=n.createURL(e.location),$=n.createURL(i),z=t;a&&e.errors?z=OI(t,Object.keys(e.errors)[0],!0):x&&Ar(x[1])&&(z=OI(t,x[0]));let W=x?x[1].statusCode:void 0,Z=l&&W&&W>=400,K=z.filter((R,P)=>{let{route:O}=R;if(O.lazy)return!0;if(O.loader==null)return!1;if(a)return Sy(O,e.loaderData,e.errors);if(D9(e.loaderData,e.matches[P],R)||f.some(D=>D===R.route.id))return!0;let L=e.matches[P],V=R;return LI(R,jt({currentUrl:H,currentParams:L.params,nextUrl:$,nextParams:V.params},r,{actionResult:N,actionStatus:W,defaultShouldRevalidate:Z?!1:c||H.pathname+H.search===$.pathname+$.search||H.search!==$.search||DN(L,V)}))}),I=[];return _.forEach((R,P)=>{if(a||!t.some(we=>we.route.id===R.routeId)||g.has(P))return;let O=ta(A,R.path,k);if(!O){I.push({key:P,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(P),V=sc(O,R.path),D=!1;T.has(P)?D=!1:p.has(P)?(p.delete(P),D=!0):L&&L.state!=="idle"&&L.data===void 0?D=c:D=LI(V,jt({currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:$,nextParams:t[t.length-1].params},r,{actionResult:N,actionStatus:W,defaultShouldRevalidate:Z?!1:c})),D&&I.push({key:P,routeId:R.routeId,path:R.path,matches:O,match:V,controller:new AbortController})}),[K,I]}function Sy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function D9(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function DN(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function LI(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function MI(n,e,t,r,i){var a;let l;if(n){let p=r[n];ut(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(g=>ON(p,g))),f=Ch(c,i,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...f)}function ON(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>ON(t,a))}):!1}async function O9(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];ut(i,"No route found in manifest");let a={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";_a(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!r9.has(l)&&(a[l]=r[l])}Object.assign(i,a),Object.assign(i,jt({},e(i),{lazy:void 0}))}async function x9(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,a,l)=>Object.assign(i,{[t[l].route.id]:a}),{})}async function L9(n,e,t,r,i,a,l,c,f,p){let g=a.map(A=>A.route.lazy?O9(A.route,f,c):void 0),_=a.map((A,k)=>{let x=g[k],N=i.some($=>$.route.id===A.route.id);return jt({},A,{shouldLoad:N,resolve:async $=>($&&r.method==="GET"&&(A.route.lazy||A.route.loader)&&(N=!0),N?M9(e,r,A,x,$,p):Promise.resolve({type:Nt.data,result:void 0}))})}),T=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return T}async function M9(n,e,t,r,i,a){let l,c,f=p=>{let g,_=new Promise((k,x)=>g=x);c=()=>g(),e.signal.addEventListener("abort",c);let T=k=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...k!==void 0?[k]:[]),A=(async()=>{try{return{type:"data",result:await(i?i(x=>T(x)):T())}}catch(k){return{type:"error",result:k}}})();return Promise.race([A,_])};try{let p=t.route[n];if(r)if(p){let g,[_]=await Promise.all([f(p).catch(T=>{g=T}),r]);if(g!==void 0)throw g;l=_}else if(await r,p=t.route[n],p)l=await f(p);else if(n==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw fr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await f(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw fr(404,{pathname:_})}ut(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function V9(n){let{result:e,type:t}=n;if(LN(e)){let _;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(T){return{type:Nt.error,error:T}}return t===Nt.error?{type:Nt.error,error:new Rh(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:_,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(HI(e)){var r,i;if(e.data instanceof Error){var a,l;return{type:Nt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new Rh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Pc(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:Pc(e)?e.status:void 0}}if(B9(e)){var c,f;return{type:Nt.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(HI(e)){var p,g;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function $9(n,e,t,r,i,a){let l=n.headers.get("Location");if(ut(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!g_.test(l)){let c=r.slice(0,r.findIndex(f=>f.route.id===t)+1);l=Iy(new URL(e.url),c,i,!0,l,a),n.headers.set("Location",l)}return n}function VI(n,e,t){if(g_.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=_s(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return n}function hl(n,e,t,r){let i=n.createURL(xN(e)).toString(),a={signal:t};if(r&&oi(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=Cy(r.formData):a.body=r.formData}return new Request(i,a)}function Cy(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function $I(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function U9(n,e,t,r,i){let a={},l=null,c,f=!1,p={},g=t&&Ar(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let T=_.route.id,A=e[T];if(ut(!ua(A),"Cannot handle redirect results in processLoaderData"),Ar(A)){let k=A.error;g!==void 0&&(k=g,g=void 0),l=l||{};{let x=na(n,T);l[x.route.id]==null&&(l[x.route.id]=k)}a[T]=void 0,f||(f=!0,c=Pc(A.error)?A.error.status:500),A.headers&&(p[T]=A.headers)}else ao(A)?(r.set(T,A.deferredData),a[T]=A.deferredData.data,A.statusCode!=null&&A.statusCode!==200&&!f&&(c=A.statusCode),A.headers&&(p[T]=A.headers)):(a[T]=A.data,A.statusCode&&A.statusCode!==200&&!f&&(c=A.statusCode),A.headers&&(p[T]=A.headers))}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:p}}function UI(n,e,t,r,i,a,l){let{loaderData:c,errors:f}=U9(e,t,r,l);return i.forEach(p=>{let{key:g,match:_,controller:T}=p,A=a[g];if(ut(A,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Ar(A)){let k=na(n.matches,_==null?void 0:_.route.id);f&&f[k.route.id]||(f=jt({},f,{[k.route.id]:A.error})),n.fetchers.delete(g)}else if(ua(A))ut(!1,"Unhandled fetcher revalidation redirect");else if(ao(A))ut(!1,"Unhandled fetcher deferred data");else{let k=Js(A.data);n.fetchers.set(g,k)}}),{loaderData:c,errors:f}}function jI(n,e,t,r){let i=jt({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&a.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function FI(n){return n?Ar(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function na(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function BI(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(n,e){let{pathname:t,routeId:r,method:i,type:a,message:l}=e===void 0?{}:e,c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&t&&r?f="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f='Route "'+r+'" does not match URL "'+t+'"'):n===404?(c="Not Found",f='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",i&&t&&r?f="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new Rh(n||500,c,new Error(f),!0)}function Df(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(ua(i))return{key:r,result:i}}}function xN(n){let e=typeof n=="string"?Is(n):n;return wa(jt({},e,{hash:""}))}function j9(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function F9(n){return LN(n.result)&&A9.has(n.result.status)}function ao(n){return n.type===Nt.deferred}function Ar(n){return n.type===Nt.error}function ua(n){return(n&&n.type)===Nt.redirect}function HI(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function B9(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function LN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function H9(n){return C9.has(n.toLowerCase())}function oi(n){return I9.has(n.toLowerCase())}async function z9(n,e,t,r,i){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[c,f]=a[l],p=n.find(T=>(T==null?void 0:T.route.id)===c);if(!p)continue;let g=r.find(T=>T.route.id===p.route.id),_=g!=null&&!DN(g,p)&&(i&&i[p.route.id])!==void 0;ao(f)&&_&&await y_(f,t,!1).then(T=>{T&&(e[c]=T)})}}async function q9(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:a,controller:l}=t[r],c=e[i];n.find(p=>(p==null?void 0:p.route.id)===a)&&ao(c)&&(ut(l,"Expected an AbortController for revalidating fetcher deferred result"),await y_(c,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function y_(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Nt.error,error:i}}return{type:Nt.data,data:n.deferredData.data}}}function v_(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function sc(n,e){let t=typeof e=="string"?Is(e).search:e.search;if(n[n.length-1].route.index&&v_(t||""))return n[n.length-1];let r=NN(n);return r[r.length-1]}function zI(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:a,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function kg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function W9(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function K9(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Js(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function G9(n,e){try{let t=n.sessionStorage.getItem(PN);if(t){let r=JSON.parse(t);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function Q9(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(PN,JSON.stringify(t))}catch(r){_a(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bh(){return bh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bh.apply(this,arguments)}const sd=w.createContext(null),__=w.createContext(null),Po=w.createContext(null),w_=w.createContext(null),Ss=w.createContext({outlet:null,matches:[],isDataRoute:!1}),MN=w.createContext(null);function Y9(n,e){let{relative:t}=e===void 0?{}:e;od()||ut(!1);let{basename:r,navigator:i}=w.useContext(Po),{hash:a,pathname:l,search:c}=hp(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:ds([r,l])),i.createHref({pathname:f,search:c,hash:a})}function od(){return w.useContext(w_)!=null}function ad(){return od()||ut(!1),w.useContext(w_).location}function VN(n){w.useContext(Po).static||w.useLayoutEffect(n)}function ba(){let{isDataRoute:n}=w.useContext(Ss);return n?u3():X9()}function X9(){od()||ut(!1);let n=w.useContext(sd),{basename:e,future:t,navigator:r}=w.useContext(Po),{matches:i}=w.useContext(Ss),{pathname:a}=ad(),l=JSON.stringify(p_(i,t.v7_relativeSplatPath)),c=w.useRef(!1);return VN(()=>{c.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let _=m_(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ds([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}const J9=w.createContext(null);function Z9(n){let e=w.useContext(Ss).outlet;return e&&w.createElement(J9.Provider,{value:n},e)}function $N(){let{matches:n}=w.useContext(Ss),e=n[n.length-1];return e?e.params:{}}function hp(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Po),{matches:i}=w.useContext(Ss),{pathname:a}=ad(),l=JSON.stringify(p_(i,r.v7_relativeSplatPath));return w.useMemo(()=>m_(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function e3(n,e,t,r){od()||ut(!1);let{navigator:i,static:a}=w.useContext(Po),{matches:l}=w.useContext(Ss),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=ad(),_;_=g;let T=_.pathname||"/",A=T;if(p!=="/"){let N=p.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let k=!a&&t&&t.matches&&t.matches.length>0?t.matches:ta(n,{pathname:A});return s3(k&&k.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:ds([p,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:ds([p,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,r)}function t3(){let n=BN(),e=Pc(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,null)}const n3=w.createElement(t3,null);class r3 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Ss.Provider,{value:this.props.routeContext},w.createElement(MN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i3(n){let{routeContext:e,match:t,children:r}=n,i=w.useContext(sd);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Ss.Provider,{value:e},r)}function s3(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);g>=0||ut(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:A}=t,k=_.route.loader&&T[_.route.id]===void 0&&(!A||A[_.route.id]===void 0);if(_.route.lazy||k){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let A,k=!1,x=null,N=null;t&&(A=c&&_.route.id?c[_.route.id]:void 0,x=_.route.errorElement||n3,f&&(p<0&&T===0?(c3("route-fallback"),k=!0,N=null):p===T&&(k=!0,N=_.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,T+1)),$=()=>{let z;return A?z=x:k?z=N:_.route.Component?z=w.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=g,w.createElement(i3,{match:_,routeContext:{outlet:g,matches:H,isDataRoute:t!=null},children:z})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?w.createElement(r3,{location:t.location,revalidation:t.revalidation,component:x,error:A,children:$(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):$()},null)}var UN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(UN||{}),jN=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(jN||{});function o3(n){let e=w.useContext(sd);return e||ut(!1),e}function a3(n){let e=w.useContext(__);return e||ut(!1),e}function l3(n){let e=w.useContext(Ss);return e||ut(!1),e}function FN(n){let e=l3(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function BN(){var n;let e=w.useContext(MN),t=a3(jN.UseRouteError),r=FN();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function u3(){let{router:n}=o3(UN.UseNavigateStable),e=FN(),t=w.useRef(!1);return VN(()=>{t.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,bh({fromRouteId:e},a)))},[n,e])}const qI={};function c3(n,e,t){qI[n]||(qI[n]=!0)}function d3(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function HN(n){return Z9(n.context)}function f3(n){let{basename:e="/",children:t=null,location:r,navigationType:i=sn.Pop,navigator:a,static:l=!1,future:c}=n;od()&&ut(!1);let f=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:f,navigator:a,static:l,future:bh({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof r=="string"&&(r=Is(r));let{pathname:g="/",search:_="",hash:T="",state:A=null,key:k="default"}=r,x=w.useMemo(()=>{let N=_s(g,f);return N==null?null:{location:{pathname:N,search:_,hash:T,state:A,key:k},navigationType:i}},[f,g,_,T,A,k,i]);return x==null?null:w.createElement(Po.Provider,{value:p},w.createElement(w_.Provider,{children:t,value:x}))}new Promise(()=>{});function h3(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ql.apply(this,arguments)}function zN(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function p3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function m3(n,e){return n.button===0&&(!e||e==="_self")&&!p3(n)}const g3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v3="6";try{window.__reactRouterVersion=v3}catch{}function _3(n,e){return k9({basename:void 0,future:Ql({},void 0,{v7_prependBasename:!0}),history:e9({window:void 0}),hydrationData:w3(),routes:n,mapRouteProperties:h3,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function w3(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Ql({},e,{errors:E3(e.errors)})),e}function E3(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new Rh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(i.message);a.stack="",t[r]=a}}else t[r]=i;return t}const qN=w.createContext({isTransitioning:!1}),T3=w.createContext(new Map),I3="startTransition",WI=Zk[I3],S3="flushSync",KI=AL[S3];function C3(n){WI?WI(n):n()}function Ju(n){KI?KI(n):n()}class A3{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function R3(n){let{fallbackElement:e,router:t,future:r}=n,[i,a]=w.useState(t.state),[l,c]=w.useState(),[f,p]=w.useState({isTransitioning:!1}),[g,_]=w.useState(),[T,A]=w.useState(),[k,x]=w.useState(),N=w.useRef(new Map),{v7_startTransition:H}=r||{},$=w.useCallback(R=>{H?C3(R):R()},[H]),z=w.useCallback((R,P)=>{let{deletedFetchers:O,flushSync:L,viewTransitionOpts:V}=P;R.fetchers.forEach((we,Le)=>{we.data!==void 0&&N.current.set(Le,we.data)}),O.forEach(we=>N.current.delete(we));let D=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!V||D){L?Ju(()=>a(R)):$(()=>a(R));return}if(L){Ju(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let we=t.window.document.startViewTransition(()=>{Ju(()=>a(R))});we.finished.finally(()=>{Ju(()=>{_(void 0),A(void 0),c(void 0),p({isTransitioning:!1})})}),Ju(()=>A(we));return}T?(g&&g.resolve(),T.skipTransition(),x({state:R,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(c(R),p({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,T,g,N,$]);w.useLayoutEffect(()=>t.subscribe(z),[t,z]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&_(new A3)},[f]),w.useEffect(()=>{if(g&&l&&t.window){let R=l,P=g.promise,O=t.window.document.startViewTransition(async()=>{$(()=>a(R)),await P});O.finished.finally(()=>{_(void 0),A(void 0),c(void 0),p({isTransitioning:!1})}),A(O)}},[$,l,g,t.window]),w.useEffect(()=>{g&&l&&i.location.key===l.location.key&&g.resolve()},[g,T,i.location,l]),w.useEffect(()=>{!f.isTransitioning&&k&&(c(k.state),p({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),x(void 0))},[f.isTransitioning,k]),w.useEffect(()=>{},[]);let W=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,P,O)=>t.navigate(R,{state:P,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(R,P,O)=>t.navigate(R,{replace:!0,state:P,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[t]),Z=t.basename||"/",K=w.useMemo(()=>({router:t,navigator:W,static:!1,basename:Z}),[t,W,Z]),I=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>d3(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(sd.Provider,{value:K},w.createElement(__.Provider,{value:i},w.createElement(T3.Provider,{value:N.current},w.createElement(qN.Provider,{value:f},w.createElement(f3,{basename:Z,location:i.location,navigationType:i.historyAction,navigator:W,future:I},i.initialized||t.future.v7_partialHydration?w.createElement(b3,{routes:t.routes,future:t.future,state:i}):e))))),null)}const b3=w.memo(N3);function N3(n){let{routes:e,future:t,state:r}=n;return e3(e,void 0,r,t)}const k3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D3=w.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_}=e,T=zN(e,g3),{basename:A}=w.useContext(Po),k,x=!1;if(typeof p=="string"&&P3.test(p)&&(k=p,k3))try{let z=new URL(window.location.href),W=p.startsWith("//")?new URL(z.protocol+p):new URL(p),Z=_s(W.pathname,A);W.origin===z.origin&&Z!=null?p=Z+W.search+W.hash:x=!0}catch{}let N=Y9(p,{relative:i}),H=x3(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:_});function $(z){r&&r(z),z.defaultPrevented||H(z)}return w.createElement("a",Ql({},T,{href:k||N,onClick:x||a?r:$,ref:t,target:f}))}),Zu=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:p,children:g}=e,_=zN(e,y3),T=hp(f,{relative:_.relative}),A=ad(),k=w.useContext(__),{navigator:x,basename:N}=w.useContext(Po),H=k!=null&&L3(T)&&p===!0,$=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,z=A.pathname,W=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(z=z.toLowerCase(),W=W?W.toLowerCase():null,$=$.toLowerCase()),W&&N&&(W=_s(W,N)||W);const Z=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let K=z===$||!l&&z.startsWith($)&&z.charAt(Z)==="/",I=W!=null&&(W===$||!l&&W.startsWith($)&&W.charAt($.length)==="/"),R={isActive:K,isPending:I,isTransitioning:H},P=K?r:void 0,O;typeof a=="function"?O=a(R):O=[a,K?"active":null,I?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(R):c;return w.createElement(D3,Ql({},_,{"aria-current":P,className:O,ref:t,style:L,to:f,viewTransition:p}),typeof g=="function"?g(R):g)});var Ay;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ay||(Ay={}));var GI;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(GI||(GI={}));function O3(n){let e=w.useContext(sd);return e||ut(!1),e}function x3(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,f=ba(),p=ad(),g=hp(n,{relative:l});return w.useCallback(_=>{if(m3(_,t)){_.preventDefault();let T=r!==void 0?r:wa(p)===wa(g);f(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,g,r,i,t,n,a,l,c])}function L3(n,e){e===void 0&&(e={});let t=w.useContext(qN);t==null&&ut(!1);let{basename:r}=O3(Ay.useViewTransitionState),i=hp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=_s(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=_s(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ah(i.pathname,l)!=null||Ah(i.pathname,a)!=null}function M3(){const[n,e]=w.useState(!1),t=g=>C(JA,{id:"button-tooltip",...g,children:"Please check the notice below to continue.."}),{session:r}=So(),i=ba();r&&i("/Home");const[a,l]=w.useState(!1);function c(g){switch(g.target.checked){case!0:l(!0);break;case!1:l(!1);break}}const{logIn:f}=So();async function p(){e(!0),await f(),e(!1)}return fe(Yt,{children:[C(Ml,{show:n,centered:!0,backdrop:"static",children:fe(Ml.Body,{className:"text-center",children:[C("div",{className:"spinner-border text-primary",role:"status"}),C("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),fe("div",{className:"logincontainer",children:[C("div",{className:"circle",children:C("img",{src:"./images/favicon.png"})}),C("p",{className:"LoginWord",children:" USER LOGIN "}),fe("div",{className:"google-button",children:[a&&C(Fn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:p,disabled:n,children:"Login with Google"}),!a&&C(xV,{placement:"right",delay:{show:0,hide:400},overlay:t,children:C("div",{children:C(Fn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),fe("div",{children:[C("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),C("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),C("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:c})]})]})]})}async function V3(n){return await ou.createFile("678bac020031c1c3ad75",Vl.unique(),n)}async function $3(n){return await ou.deleteFile("678bac020031c1c3ad75",n)}function Yl(n){return ou.getFilePreview("678bac020031c1c3ad75",n)}function QI(n){return ou.getFilePreview("67932f8600176cf1dfdc",n)}async function U3(n,e){return await ou.createFile("67932f8600176cf1dfdc",n,e)}async function j3(n){return await ou.deleteFile("67932f8600176cf1dfdc",n)}async function F3(){const{documents:n}=await Kr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.equal("isApproved",!0)]);return{items:n.map(Cs)}}async function B3(n){const{documents:e}=await Kr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("name",n),Fe.equal("isApproved",!0)]);return{items:e.map(Cs)}}async function H3(n){const{documents:e}=await Kr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("itemCategory",n),Fe.equal("isApproved",!0)]);return{items:e.map(Cs)}}async function E_(n){const{documents:e}=await Kr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.contains("authorID",n),Fe.orderDesc("date")]);return{items:e.map(Cs)}}async function z3(){const{documents:n}=await Kr.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.equal("isApproved",!1),Fe.orderDesc("date")]);return{items:n.map(Cs)}}async function Ry(n){const e=await Kr.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:Cs(e)}}async function q3(n){const{items:e}=await Ry(n);await $3(e.imageFileId),await Kr.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function W3(n){const e=await Kr.createDocument("678babec0039e89240df","67932f2e00392d850485",Vl.unique(),n);return{items:Cs(e)}}async function WN(n,e){const t=await Kr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Cs(t)}}async function YI(n,e){const t=await Kr.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Cs(t)}}function Cs(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:!1,requests:n.requests,itemCategory:n.itemCategory}}async function Co(n){const e=await Kr.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:KN(e)}}async function K3(n,e){const t=await Kr.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:KN(t)}}function KN(n){return{userid:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight,$id:n.$id}}function Of(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,i,...a]=t.map(f=>parseInt(f)),l=[r,i-1,...a];return new Date(Date.UTC(...l))}}function XI(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function by(){return by=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},by.apply(this,arguments)}const oc=60,ac=oc*60,Rl=ac*24,xf=Rl*7,JI=Rl*30,ZI=Rl*365,G3=()=>Date.now();function Q3({date:n,formatter:e=XI,component:t="time",live:r=!0,minPeriod:i=0,maxPeriod:a=xf,title:l,now:c=G3,...f}){const[p,g]=w.useState(c());w.useEffect(()=>{if(!r)return;const Z=(()=>{const K=Of(n).valueOf();if(!K)return console.warn("[react-timeago] Invalid Date provided"),0;const I=Math.round(Math.abs(p-K)/1e3),R=I<oc?1e3:I<ac?1e3*oc:I<Rl?1e3*ac:1e3*xf,P=Math.min(Math.max(R,i*1e3),a*1e3);return P?setTimeout(()=>{g(c())},P):0})();return()=>{Z&&clearTimeout(Z)}},[n,r,a,i,c,p]);const _=t,T=Of(n).valueOf();if(!T)return null;const A=Math.round(Math.abs(p-T)/1e3),k=T<p?"ago":"from now",[x,N]=A<oc?[Math.round(A),"second"]:A<ac?[Math.round(A/oc),"minute"]:A<Rl?[Math.round(A/ac),"hour"]:A<xf?[Math.round(A/Rl),"day"]:A<JI?[Math.round(A/xf),"week"]:A<ZI?[Math.round(A/JI),"month"]:[Math.round(A/ZI),"year"],H=typeof l>"u"?typeof n=="string"?n:Of(n).toISOString().substr(0,16).replace("T"," "):l,$=_==="time"?{...f,dateTime:Of(n).toISOString()}:f,z=XI.bind(null,x,N,k);return w.createElement(_,by({},$,{title:H}),e(x,N,k,T,z,c))}const pp=({name:n,date:e,author:t,image:r})=>fe(eo,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[C("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&fe(Yt,{children:[C(eo.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),C("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),fe(eo.Body,{children:[C(eo.Title,{children:n}),C(eo.Text,{children:t}),C(eo.Text,{children:C(Q3,{date:e})})]})]}),mp=({children:n})=>{const{session:e,logOut:t}=So(),r=ba(),[i,a]=w.useState(),[l,c]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/");return}try{const g=await vv();a(g)}catch(g){console.error("Error fetching user:",g)}finally{c(!1)}})()},[e,r]);async function f(){await CN.signOut(),await t(),r("/")}return fe(Yt,{children:[C(Ml,{show:l,centered:!0,backdrop:"static",children:fe(Ml.Body,{className:"text-center",children:[C(qh,{animation:"border",role:"status",children:C("span",{className:"visually-hidden",children:"Loading..."})}),C("p",{className:"mt-3",children:"Please wait, loading..."})]})}),fe("div",{className:"body",children:[C(Cf,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:fe(Sa,{children:[fe(Cf.Brand,{href:"#/Home",children:[C("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),C(Cf.Toggle,{"aria-controls":"basic-navbar-nav"}),C(Cf.Collapse,{className:"justify-content-end flex-grow-1",children:C(us,{children:fe(HT,{className:"me-auto",children:[C(HT.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),fe(Qu,{title:(i==null?void 0:i.name)||"User",id:"basic-nav-dropdown",align:"end",children:[C(Qu.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),C(Qu.Divider,{}),e?C(Qu.Item,{className:"logout-nav",onClick:f,children:"Logout"}):C(Qu.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),C("main",{children:n})]})]})},Y3=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(!1),[i,a]=w.useState({});w.useEffect(()=>{(async function(){const{items:_}=await F3();e(_);const T={};await Promise.all(_.map(async A=>{if(!T[A.authorID]){const{userdb:k}=await Co(A.authorID);T[A.authorID]=k}})),a(T)})()},[]);async function l(g){const{items:_}=await H3(g);e(_)}async function c(){window.location.reload(),r(!1)}async function f(g){g.preventDefault(),r(!0);const _=g.target;try{const{items:T}=await B3(_.ItemSearch.value);e(T)}catch(T){console.error("Error finding Item:",T)}}const p={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Accessories",color:"info"},f:{name:"Miscellaneous",color:"dark"}};return C(mp,{children:C("div",{className:"home",children:fe("div",{className:"container",id:"pagewrap",children:[C("div",{className:"searchinput",children:fe("form",{className:"search",onSubmit:f,autoComplete:"off",children:[C("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),t&&C(Bc,{className:"clear-btn",onClick:c}),C("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),C("div",{className:"categories",children:C(so,{defaultActiveKey:"0",children:fe(so.Item,{eventKey:"0",children:[C(so.Header,{children:"Filter by Categories"}),C(so.Body,{children:C(us,{children:fe(ls,{children:[C(Fn,{variant:"outline-danger",onClick:c,children:"Clear Filter"}),Object.entries(p).map(([g,_])=>C(Fn,{variant:`outline-${_.color}`,onClick:()=>l(g),children:_.name},g))]})})})]})})}),C("div",{className:"items container",children:C(us,{children:n.length>0?n.map(g=>{var k;const T={url:g.imageFileId&&Yl(g.imageFileId),height:g.imageHeight,width:g.imageWidth},A=i[g.authorID];return C(ls,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:fe("a",{className:"itemLink",href:`#/Item/${g.$id}`,children:[C("div",{className:"itemLabel",children:C("span",{className:"Label",children:((k=p[g.itemCategory])==null?void 0:k.name)||"Uncategorized"})}),C(pp,{image:T,name:g.name,date:g.date,author:A?A.displayName||A.defaultName:"Unknown Author"})]})},g.$id)}):C(Sa,{children:fe(vc,{variant:"warning",children:["No Items are currently posted, ",C(vc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})})};function X3(){const n=BN();return console.error(n),C("div",{id:"error-page",children:fe("div",{class:"error",children:[fe("a",{class:"HomeButton",href:"#/Home",children:[C("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:C("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),C("div",{class:"background-wrapper",children:C("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),C("p",{class:"errorText",children:"The page youre looking for does not exist."}),C("p",{children:C("i",{children:n.statusText||n.message})})]})})}function J3(){const{session:n}=So(),e=ba(),[t,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!n){e("/");return}r(!1)})()},[n,e]),fe(Yt,{children:[C(Ml,{show:t,centered:!0,backdrop:"static",children:fe(Ml.Body,{className:"text-center",children:[C(qh,{animation:"border",role:"status",children:C("span",{className:"visually-hidden",children:"Loading..."})}),C("p",{className:"mt-3",children:"Verifying session..."})]})}),!t&&fe(Yt,{children:[fe("div",{className:"uWholeBox",children:[fe("a",{className:"HomeButton",href:"#/Home",children:[C("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:C("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),C("div",{className:"uLooks",children:" Dashboard "})]}),fe("div",{className:"NaviBar",children:[fe("ul",{children:[C("li",{children:C(Zu,{to:"/Dashboard/Post",children:"Post"})}),C("li",{children:C(Zu,{to:"/Dashboard/Items",children:"Your Items"})}),C("li",{children:C(Zu,{to:"/Dashboard/Requests",children:"Requests"})}),C("li",{children:C(Zu,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),C("li",{children:C(Zu,{to:"/Dashboard/Profile",children:"Profile"})})]}),C(HN,{})]})]})]})}const Z3=()=>{const[n,e]=w.useState(),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState(),[f,p]=w.useState(null),[g,_]=w.useState(!1),[T,A]=w.useState(""),[k,x]=w.useState(""),[N,H]=w.useState(null);w.useEffect(()=>{(async()=>{try{const K=await vv();if(e(K),K){const{userdb:I}=await Co(K.$id);r(I),p(I!=null&&I.profileImageId?QI(I.profileImageId):null),A((I==null?void 0:I.displayName)||(K==null?void 0:K.name)||""),x((I==null?void 0:I.profileSummary)||"")}}catch(K){console.error("Error fetching user: ",K)}})()},[]);const $=()=>a(!0),z=Z=>{if(!Z.target.files||Z.target.files.length===0)return;const K=Z.target.files[0];if(K.size>5*1024*1024){H("File size exceeds 5MB limit.");return}else H(null);const I=document.createElement("img");I.onload=function(){c({height:I.height,file:K,width:I.width})},I.src=URL.createObjectURL(K),p(URL.createObjectURL(K))},W=async Z=>{if(Z.preventDefault(),_(!0),!T.trim()||!k.trim()){alert("Please fill in all fields."),_(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),_(!1);return}let{userdb:K}=await Co(n.$id),I=(K==null?void 0:K.profileImageId)||"";if(l!=null&&l.file){I&&I!=="default"&&await j3(I);const R=await U3(n.$id,l.file);R!=null&&R.$id&&(I=R.$id)}await K3(n.$id,{profileImageId:I,profileSummary:k,profileImageWidth:(l==null?void 0:l.width)??(K==null?void 0:K.profileImageWidth)??100,profileImageHeight:(l==null?void 0:l.height)??(K==null?void 0:K.profileImageHeight)??100,displayName:T,defaultName:"",userid:n.$id}),console.log(" Profile updated."),r(R=>({...R,displayName:T,profileSummary:k,profileImageId:I}))}catch(K){console.error("Failed to update profile:",K)}finally{_(!1),a(!1)}};return C(Sa,{className:"d-flex justify-content-center align-items-center min-vh-100",children:fe(eo,{className:"profile-card shadow-lg",children:[g&&fe("div",{className:"overlay",children:[C(qh,{animation:"border"}),C("p",{className:"mt-2",children:"Updating User Profile..."})]}),C(eo.Body,{className:"text-center",children:i?fe(Yt,{children:[C("h2",{children:"Edit Profile"}),fe("form",{onSubmit:W,className:"mt-3",children:[fe("div",{className:"profile-image-upload",children:[C("input",{type:"file",accept:".png, .jpg",onChange:z}),C(rh,{src:f||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),C("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),N&&C("p",{className:"text-danger",children:N})]}),fe(hr.Group,{className:"mb-3",children:[C(hr.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:T,onChange:Z=>A(Z.target.value)}),fe("small",{className:"text-muted",children:[T.length,"/20"]})]}),fe(hr.Group,{className:"mb-3",children:[C(hr.Label,{children:"Profile Summary"}),C(hr.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:k,onChange:Z=>x(Z.target.value)}),fe("small",{className:"text-muted",children:[k.length,"/500"]})]}),C(Fn,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):fe(Yt,{children:[C(rh,{src:t!=null&&t.profileImageId?QI(t.profileImageId):"/images/default-profile.png",roundedCircle:!0,className:"profile-img"}),C("h2",{className:"display-name",children:(t==null?void 0:t.displayName)||"Username"}),C("p",{className:"account-name",children:n==null?void 0:n.name}),C("p",{className:"text-muted",children:(t==null?void 0:t.profileSummary)??"No profile description provided"}),C(Fn,{className:"btn-lg mt-3",onClick:$,children:"Edit Profile"})]})})]})})},eH=()=>C(Yt,{children:fe("div",{class:"messages-container",children:[C("iframe",{width:"100%",height:"100%",src:"https://lynxlenior.github.io/TraderyMessenger/",title:"TraderyMessenger"}),C("div",{id:"view-messages"})]})}),tH=()=>{const{session:n}=So(),e=ba(),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState(""),[f,p]=w.useState(""),[g,_]=w.useState(null);function T(k){if(!k.target.files||k.target.files.length===0)return;const x=k.target.files[0];if(x.size>5*1024*1024){_("File size must be 5MB or less.");return}_(null);const N=new Image;N.onload=function(){r({height:N.height,file:x,width:N.width})},N.src=URL.createObjectURL(x)}return fe(Yt,{children:[i&&C("div",{className:"overlay",children:C("div",{className:"overlay-content",children:C("p",{children:"Please wait... Creating Tradery Item"})})}),C("div",{className:"Main",children:fe("div",{className:"container",children:[C("h1",{children:"Post Item"}),g&&C("p",{style:{color:"red"},children:g}),fe("form",{onSubmit:async k=>{k.preventDefault(),a(!0);const N=new FormData(k.currentTarget).get("itemCategory");if(!l||!f||!N){_("Please fill in all fields."),a(!1);return}try{const H=await oa();if(!H){console.log("User data is still loading. Please wait.");return}const $=await W3({name:l,authorID:H.$id,description:f,date:new Date().toISOString(),imageHeight:(t==null?void 0:t.height)??100,imageFileId:"",imageWidth:(t==null?void 0:t.width)??100,isApproved:!1,itemCategory:N});if(console.log("Item created successfully:",$.items),t!=null&&t.file){console.log("Uploading image...");const z=await V3(t.file);await WN($.items.$id,{imageFileId:z==null?void 0:z.$id,imageHeight:t==null?void 0:t.height,imageWidth:t==null?void 0:t.width,name:l,description:f,authorID:H.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:N}),console.log("Image uploaded successfully:",z.$id)}e(`/Item/${$.items.$id}`)}catch(H){console.error("Error creating item:",H),alert("Failed to create item. Please try again.")}finally{a(!1)}},autoComplete:"off",children:[C("div",{className:"uploader",children:fe(hr.Group,{controlId:"formFileLg",className:"mb-3",children:[C(hr.Label,{children:"Import Image (Max: 5MB)"}),C(hr.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:T,required:!0})]})}),C("div",{className:"mb-3",children:C(dv,{controlId:"floatingSelect",label:"Category",children:fe(hr.Select,{className:"itemCategory",id:"itemCategory",name:"itemCategory",required:!0,children:[C("option",{value:"",disabled:!0,children:"Select a Category..."}),C("option",{value:"a",children:"School Supplies"}),C("option",{value:"b",children:"Clothing"}),C("option",{value:"c",children:"Entertainment/Hobbies"}),C("option",{value:"d",children:"Gaming/Technology"}),C("option",{value:"e",children:"Accessories"}),C("option",{value:"f",children:"Miscellaneous"})]})})}),fe("div",{className:"mb-3",children:[C(hr.Control,{id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:l,onChange:k=>c(k.target.value),required:!0}),fe("small",{children:[l.length,"/40"]})]}),fe(hr.Group,{className:"mb-3",controlId:"Description.ControlTextarea1",children:[C(hr.Label,{children:"Item Description"}),C(hr.Control,{rows:4,as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:f,onChange:k=>p(k.target.value),required:!0}),fe("small",{children:[f.length,"/500"]})]}),C(Fn,{className:"submitbtn",type:"submit",disabled:i,children:"Submit"})]})]})})]})},nH=()=>{const[n,e]=w.useState([]),[t,r]=w.useState({});return w.useEffect(()=>{(async function(){const a=await oa();if(!a){console.log("User data is still loading. Please wait.");return}const{items:l}=await E_(a.$id);e(l);const c={};await Promise.all(l.map(async f=>{if(!c[f.authorID]){const{userdb:p}=await Co(f.authorID);c[f.authorID]=p}})),r(c)})()},[]),C("div",{className:"home",children:C("div",{className:"container",id:"pagewrap",children:C("div",{className:"items container",children:C(us,{children:n.length>0?n.map(i=>{const l={url:i.imageFileId&&Yl(i.imageFileId),height:i.imageHeight,width:i.imageWidth},c=t[i.authorID];return C(ls,{xs:12,md:3,style:{paddingBottom:"20px"},children:C("a",{className:"itemLink",href:`#/Item/${i.$id}`,children:C(pp,{image:l,name:i.name,date:i.date,author:c?c.displayName||c.defaultName:"Unknown Author"})})},i.$id)}):C(Sa,{children:fe(vc,{variant:"warning",children:["No Items are currently posted, ",C(vc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})};async function rH(n){try{await XB(n),console.log(n)}catch{console.log("Failed to add chat")}}const iH=({name:n,userId:e,eventKey:t})=>{const[r,i]=w.useState([]);return w.useEffect(()=>{(async function(){if(!e||e.length===0)return;const l=await Promise.all(e.map(async c=>{try{const{userdb:f}=await Co(c),p=(f==null?void 0:f.displayName)||(f==null?void 0:f.defaultName)||"",g=(f==null?void 0:f.defaultName)||"";return p||g?{displayName:p,appwriteName:g}:null}catch(f){return console.error("Error fetching user data:",f),null}}));i(l.filter(c=>c!==null))})()},[e]),fe(so.Item,{eventKey:t,children:[C(so.Header,{children:n}),C(so.Body,{children:r.length>0?r.map((a,l)=>fe("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[fe("p",{className:"mb-0",children:[C("strong",{children:a.displayName})," wants to trade. The default username is ",C("strong",{children:a.appwriteName})]}),C(Fn,{variant:"primary",size:"sm",onClick:()=>rH(a.appwriteName),children:"Message"})]},l)):C("p",{children:"No trade requests yet."})})]})},sH=()=>{const[n,e]=w.useState([]),{session:t}=So();return ba(),w.useEffect(()=>{(async function(){const i=await oa();if(!i){console.log("User data is still loading. Please wait.");return}const{items:a}=await E_(i.$id),l=a.filter(c=>c.requests&&c.requests.length>0);e(l)})()},[]),fe("div",{className:"container",children:[C("h1",{children:"Your Items with Requests"}),n.length>0?fe(so,{alwaysOpen:!0,children:[" ",n.map((r,i)=>C(iH,{name:r.name,userId:r.requests,eventKey:String(i)},r.$id))]}):C("p",{children:"No items with requests found."})]})};function oH({params:n=$N()}){const[e,t]=w.useState(),[r,i]=w.useState(),a=ba(),[l,c]=w.useState(!1),[f,p]=w.useState(!1),{isAdmin:g}=So(),T={url:(e==null?void 0:e.imageFileId)&&Yl(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var Z;if(!n.itemsId)return;const{items:$}=await Ry(n.itemsId);console.log("Fetched Item Data:",$),t($);const z=await oa();if((z==null?void 0:z.$id)===($==null?void 0:$.authorID)&&c(!0),z&&p(((Z=$.requests)==null?void 0:Z.includes(z.$id))??!1),$){const{userdb:K}=await Co($.authorID);i(K);return}})()},[n.itemsId]);async function A(){if(!e)return;const H=await oa();if(!H){console.log("User data is still loading. Please wait.");return}try{const $=e.requests??[];if($.includes(H.$id)){p(!0);return}const z=[...$,H.$id];t(W=>W&&{...W,requests:z}),p(!0),await YI(n.itemsId,{...e,isApproved:!0,requests:z}),console.log("Trade request successful")}catch($){console.error("Error requesting trade:",$)}}async function k(){if(e!=null&&e.$id){await q3(e.$id);return}a(-1)}async function x(){if(!e)return;if(!await oa()){console.log("User data is still loading. Please wait.");return}try{await WN(n.itemsId,{...e,isApproved:!0});const{items:$}=await Ry(n.itemsId);console.log(" Approved Post Data from Appwrite:",$),t($),a(-1)}catch($){console.error("Error approving post:",$)}}async function N(){if(!e)return;const H=await oa();if(!H){console.log("User data is still loading. Please wait.");return}try{const $=e.requests??[];if(!$.includes(H.$id)){p(!1);return}const z=$.filter(W=>W!==H.$id);t(W=>W&&{...W,requests:z}),p(!1),await YI(n.itemsId,{...e,isApproved:!0,requests:z}),console.log("Trade request removed")}catch($){console.error("Error removing request:",$)}}return fe(mp,{children:[fe("a",{className:"HomeItem",href:"#/Home",children:[C("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:C("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),C("div",{className:"container",children:e&&fe(Yt,{children:[fe("div",{className:"itemheading",children:[C("div",{children:C("h1",{children:e.name})}),r&&C("a",{href:`#/User/${e.authorID}`,className:"profile-link",children:r.displayName||r.defaultName}),fe("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!g&&fe("div",{className:"Tradecont",children:[l&&C(Fn,{className:"Tradereq",variant:"primary",onClick:k,children:"Delete Item"}),!l&&C(Yt,{children:f?C(Fn,{className:"Tradereq",variant:"danger",onClick:N,children:"Remove Trade Request"}):C(Fn,{className:"Tradereq",variant:"primary",onClick:A,children:"Request a Trade"})})]}),g&&fe("div",{className:"Tradecont",children:[C(Fn,{className:"Tradereq",variant:"primary",onClick:k,children:"Delete Item"}),C(Fn,{className:"Tradereq",variant:"primary",onClick:x,children:"Approve Item"})]}),C("div",{className:"itemimg",children:C(NT,{className:"image-carousel",controls:!1,children:C(NT.Item,{children:C("img",{className:"thumbnail",src:T.url?String(T.url):"./images/favicon",alt:"Item"})})})}),C("div",{className:"description",children:C("p",{children:e.description})})]})})]})}function aH({params:n=$N()}){const[e,t]=w.useState(null),[r,i]=w.useState([]);return w.useEffect(()=>{if(!n.userId){console.error("Error: Missing params.userId in route parameters.");return}(async function(){try{const{userdb:l}=await Co(n.userId);t(l);const{items:c}=await E_(n.userId);i(c)}catch(l){console.error("Error fetching profile data:",l)}})()},[n.userId]),C(mp,{children:fe(Sa,{className:"mt-5",children:[C(us,{className:"justify-content-center text-center",children:C(ls,{md:6,lg:4,children:fe("div",{className:"profile-container p-4 bg-light rounded shadow",children:[C(rh,{className:"profile-img mb-3",src:e!=null&&e.profileImageId?Yl(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,fluid:!0}),C("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),C("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),C("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),C(us,{className:"mt-5",children:fe(ls,{children:[C("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?C(us,{className:"g-4",children:r.map(a=>{const c={url:a.imageFileId&&Yl(a.imageFileId),height:a.imageHeight,width:a.imageWidth};return C(ls,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:C("a",{className:"itemLink",href:`#/Item/${a.$id}`,children:C(pp,{image:c,name:a.name,date:a.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"})})},a.$id)})}):C("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function lH(){const{isAdmin:n,logInAdmin:e}=So(),[t,r]=w.useState([]),[i,a]=w.useState({}),l=async c=>{c.preventDefault();const f=c.target;await e(f.email.value,f.password.value),window.location.reload()};return w.useEffect(()=>{(async function(){const{items:f}=await z3();r(f);const p={};await Promise.all(f.map(async g=>{if(!p[g.authorID]){const{userdb:_}=await Co(g.authorID);p[g.authorID]=_}})),a(p)})()},[]),fe(Yt,{children:[!n&&C("div",{className:"RegAdminContainer",children:C("div",{className:"login-register-container",children:fe("form",{onSubmit:l,autoComplete:"off",children:[fe("div",{className:"form-field-wrapper",children:[C("label",{children:"Email:"}),C("input",{required:!0,type:"email",name:"email",placeholder:"Enter email..."})]}),fe("div",{className:"form-field-wrapper",children:[C("label",{children:"Password:"}),C(hr.Control,{type:"password",name:"password",placeholder:"Enter password..."})]}),C("div",{className:"form-field-wrapper",children:C(Fn,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&C(mp,{children:C("div",{className:"home",children:fe("div",{className:"container",id:"pagewrap",children:[C("h1",{children:"UNAPPROVED ITEMS"}),C("div",{className:"items container",children:C(us,{children:t.length>0?t.map(c=>{const p={url:c.imageFileId&&Yl(c.imageFileId),height:c.imageHeight,width:c.imageWidth},g=i[c.authorID];return C(ls,{xs:12,md:3,style:{paddingBottom:"20px"},children:C("a",{className:"itemLink",href:`#/Item/${c.$id}`,children:C(pp,{image:p,name:c.name,date:c.date,author:g?g.displayName||g.defaultName:"Unknown Author"})})},c.$id)}):C(Sa,{children:C(vc,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}function GN(){return C(Yt,{children:fe("footer",{className:"bg-dark text-light py-4 mt-5",children:[fe("div",{className:"container text-center",children:[C("p",{className:"mb-2",children:" 2025 Tradery. All Rights Reserved."}),C("p",{className:"mb-2",children:C("a",{href:"#termsModal",className:"text-light","data-bs-toggle":"modal",children:"Terms and Conditions"})})]}),C("div",{className:"modal fade",id:"termsModal",tabIndex:-1,"aria-labelledby":"termsModalLabel","aria-hidden":"true",children:C("div",{className:"modal-dialog modal-lg",children:fe("div",{className:"modal-content",children:[fe("div",{className:"modal-header",children:[C("h5",{className:"modal-title",id:"termsModalLabel",children:"Terms and Conditions"}),C("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),fe("div",{className:"modal-body text-start",children:[C("h6",{children:"1. User Responsibility"}),C("p",{children:"By using this platform, you acknowledge that all interactions and transactions between users are conducted at your own risk..."}),C("h6",{children:"2. Privacy and Message Monitoring"}),C("p",{children:"We respect your privacy and do not monitor or view private messages exchanged between users during transactions..."}),C("h6",{children:"3. Item Posting and Review"}),C("p",{children:"All items posted on the platform are subject to review by an administrator..."}),C("h6",{children:"4. Violations and Account Management"}),C("p",{children:"Users who repeatedly violate our guidelines by posting inappropriate content or engaging in prohibited activities..."}),C("h6",{children:"5. Disclaimer of Liability"}),C("p",{children:"We do not guarantee the quality, safety, legality, or authenticity of the items listed on the platform..."}),C("h6",{children:"6. Amendments and Changes"}),C("p",{children:"We reserve the right to update or modify these Terms and Conditions at any time..."})]}),C("div",{className:"modal-footer",children:C("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})}const uH=()=>fe(Yt,{children:[C(HN,{})," ",C(GN,{})," "]}),cH=_3([{path:"/",element:C(uH,{}),errorElement:C(X3,{}),children:[{path:"/",element:C(M3,{})},{path:"/Admin",element:C(lH,{})},{path:"/Home",element:C(Y3,{})},{path:"/Item/:itemsId",element:C(oH,{})},{path:"/User/:profileId",element:C(aH,{})},{path:"/Dashboard",element:C(J3,{}),children:[{path:"Post",element:C(tH,{})},{path:"Profile",element:C(Z3,{})},{path:"Items",element:C(nH,{})},{path:"Requests",element:C(sH,{})},{path:"Messages",element:C(eH,{})}]}]}]);iP.createRoot(document.getElementById("root")).render(C(w.StrictMode,{children:fe(JB,{children:[C(R3,{router:cH}),C(GN,{})]})}));
